!function(){function we(){}function s(e){return e()}function m(){return Object.create(null)}function Xe(e){e.forEach(s)}function Y(e){return"function"==typeof e}function g(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let a;function Q(e,t){return e===t||((a=a||document.createElement("a")).href=t,e===a.href)}function r(e){return 0===Object.keys(e).length}function ce(e){let t;return function(e,t){if(null==e){for(const r of t)r(void 0);return we}const a=e.subscribe(...t);return a.unsubscribe?()=>a.unsubscribe():a}(e,[e=>t=e])(),t}function Je(e){return null==e?"":e}function ke(e,t){e.appendChild(t)}function l(e,t,a){var r,e=function(e){if(!e)return document;var t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);e.getElementById(t)||((r=Ee("style")).id=t,r.textContent=a,t=r,ke((a=e).head||a,t),t.sheet)}function xe(e,t,a){e.insertBefore(t,a||null)}function Le(e){e.parentNode&&e.parentNode.removeChild(e)}function $(t,a){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(a)}function Ee(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Me(e){return document.createTextNode(e)}function Ie(){return Me(" ")}function M(){return Me("")}function De(e,t,a,r){return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a,r)}function Z(t){return function(e){return e.preventDefault(),t.call(this,e)}}function K(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function $e(e,t,a){null==a?e.removeAttribute(t):e.getAttribute(t)!==a&&e.setAttribute(t,a)}function ee(e,t,a){var r=t.toLowerCase();r in e?e[r]="boolean"==typeof e[r]&&""===a||a:t in e?e[t]="boolean"==typeof e[t]&&""===a||a:$e(e,t,a)}function Fe(e,t){e.data!==(t=""+t)&&(e.data=t)}function je(e,t){e.value=null==t?"":t}function Ge(e,t,a){null==a?e.style.removeProperty(t):e.style.setProperty(t,a,"")}function Oe(e,t,a){e.classList.toggle(t,!!a)}class te{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,a=null){this.e||(this.is_svg?this.e=b(t.nodeName):this.e=Ee(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(a)}h(e){this.e.innerHTML=e,this.n=Array.from(("TEMPLATE"===this.e.nodeName?this.e.content:this.e).childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)xe(this.t,this.n[e],t)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Le)}}let p;function u(e){p=e}function o(){if(p)return p;throw new Error("Function called outside component initialization")}function de(e){o().$$.on_mount.push(e)}function pe(e){o().$$.on_destroy.push(e)}function E(){const s=o();return(e,t,{cancelable:a=!1}={})=>{var r,i=s.$$.callbacks[e];if(i){[e,t,{bubbles:a=!1,cancelable:r=!1}]=[e,t,{cancelable:a}];const n=new CustomEvent(e,{detail:t,bubbles:a,cancelable:r});return i.slice().forEach(e=>{e.call(s,n)}),!n.defaultPrevented}return!0}}const h=[],ue=[];let y=[];const _=[],S=Promise.resolve();let P=!1;function C(e){y.push(e)}function z(e){_.push(e)}const q=new Set;let v=0;function A(){if(0===v){var e=p;do{try{for(;v<h.length;){var t,a=h[v],r=(v++,u(a),t=r=void 0,a.$$);null!==r.fragment&&(r.update(),Xe(r.before_update),t=r.dirty,r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,t),r.after_update.forEach(C))}}catch(e){throw h.length=0,v=0,e}for(u(null),h.length=0,v=0;ue.length;)ue.pop()();for(let e=0;e<y.length;e+=1){var i=y[e];q.has(i)||(q.add(i),i())}}while(y.length=0,h.length);for(;_.length;)_.pop()();P=!1,q.clear(),u(e)}}const T=new Set;let X;function Re(){X={r:0,c:[],p:X}}function He(){X.r||Xe(X.c),X=X.p}function Ne(e,t){e&&e.i&&(T.delete(e),e.i(t))}function Be(e,t,a,r){e&&e.o?T.has(e)||(T.add(e),X.c.push(()=>{T.delete(e),r&&(a&&e.d(1),r())}),e.o(t)):r&&r()}function I(e){return void 0!==e?.length?e:Array.from(e)}function k(e,t){e.d(1),t.delete(e.key)}function x(e,t){Be(e,1,1,()=>{t.delete(e.key)})}function L(e,t,a,r,i,n,s,l,o,c,g,m){let d=e.length,p=n.length,u=d;for(var h={};u--;)h[e[u].key]=u;var y=[],_=new Map,S=new Map,f=[];for(u=p;u--;){const T=m(i,n,u);var P=a(T);let e=s.get(P);e?f.push(()=>e.p(T,t)):(e=c(P,T)).c(),_.set(P,y[u]=e),P in h&&S.set(P,Math.abs(u-h[P]))}var C=new Set,b=new Set;function q(e){Ne(e,1),e.m(l,g),s.set(e.key,e),g=e.first,p--}for(;d&&p;){var v=y[p-1],w=e[d-1],J=v.key,G=w.key;v===w?(g=v.first,d--,p--):_.has(G)?!s.has(J)||C.has(J)?q(v):b.has(G)?d--:S.get(J)>S.get(G)?(b.add(J),q(v)):(C.add(G),d--):(o(w,s),d--)}for(;d--;){var A=e[d];_.has(A.key)||o(A,s)}for(;p;)q(y[p-1]);return Xe(f),y}function U(e,t,a){t=e.$$.props[t];void 0!==t&&(e.$$.bound[t]=a)(e.$$.ctx[t])}function Ve(e){e&&e.c()}function ze(t,e,a){var{fragment:r,after_update:i}=t.$$;r&&r.m(e,a),C(()=>{var e=t.$$.on_mount.map(s).filter(Y);t.$$.on_destroy?t.$$.on_destroy.push(...e):Xe(e),t.$$.on_mount=[]}),i.forEach(C)}function Ue(e,t){e=e.$$;if(null!==e.fragment){{var a=e.after_update;const r=[],i=[];y.forEach(e=>(-1===a.indexOf(e)?r:i).push(e)),i.forEach(e=>e()),y=r}Xe(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[]}}function F(e,t){-1===e.$$.dirty[0]&&(h.push(e),P||(P=!0,S.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function t(r,e,t,a,i,n,s=null,l=[-1]){var o=p;u(r);const c=r.$$={fragment:null,ctx:[],props:n,update:we,not_equal:i,bound:m(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:m(),dirty:l,skip_bound:!1,root:e.target||o.$$.root};s&&s(c.root);let g=!1;c.ctx=t?t(r,e.props||{},(e,t,...a)=>{a=a.length?a[0]:t;return c.ctx&&i(c.ctx[e],c.ctx[e]=a)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](a),g)&&F(r,e),t}):[],c.update(),g=!0,Xe(c.before_update),c.fragment=!!a&&a(c.ctx),e.target&&(e.hydrate?(n=e.target,l=Array.from(n.childNodes),c.fragment&&c.fragment.l(l),l.forEach(Le)):c.fragment&&c.fragment.c(),e.intro&&Ne(r.$$.fragment),ze(r,e.target,e.anchor),A()),u(o)}class e{$$=void 0;$$set=void 0;$destroy(){Ue(this,1),this.$destroy=we}$on(e,t){if(!Y(t))return we;const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(t),()=>{var e=a.indexOf(t);-1!==e&&a.splice(e,1)}}$set(e){this.$$set&&!r(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const O=[];function J(r,i=we){let n;const s=new Set;function l(e){if(g(r,e)&&(r=e,n)){e=!O.length;for(const t of s)t[1](),O.push(t,r);if(e){for(let e=0;e<O.length;e+=2)O[e][0](O[e+1]);O.length=0}}}function o(e){l(e(r))}return{set:l,update:o,subscribe:function(e,t=we){const a=[e,t];return s.add(a),1===s.size&&(n=i(l,o)||we),e(r),()=>{s.delete(a),0===s.size&&n&&(n(),n=null)}}}}let ge={},me={};function R(e){l(e,"svelte-1k44uqi","@keyframes svelte-1k44uqi-zoom{from{transform:scale(0.95)}to{transform:scale(1)}}@keyframes svelte-1k44uqi-fade{from{opacity:0}to{opacity:1}}")}function H(e,t,a){e=e.slice();return e[21]=t[a],e[23]=a,e}function N(e,t,a){e=e.slice();return e[21]=t[a],e[23]=a,e}function B(a){let r,i,n,s,l,o,c,g,m,d,p,u=ge.svgs.close_push+"",h,y,_,e=ge.labels.dontShowAgain+"",S,f,P,C,b,q,t=ge.labels.watchLater+"",v,w,J,G,A,T,X,k,x=a[2]&&V(a),L=a[3]&&re(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),l=Ie(),o=Ee("wmgPlayerJSqa_"),c=Ie(),g=Ee("wmgPlayerJSqa_"),(m=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.pushNotification,d=Ie(),p=Ee("button"),h=Ie(),y=Ee("wmgPlayerJSqa_"),_=Ee("button"),S=Me(e),f=Ie(),P=Ee("wmgPlayerJSqa_"),(C=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.tooltipDontShowAgain,b=Ie(),q=Ee("button"),v=Me(t),w=Ie(),J=Ee("wmgPlayerJSqa_"),(G=Ee("wmgPlayerJSqa_")).textContent=`${ge.labels.tooltipWatchLater1} ${GmCXt.getSleepTime(ge.labels)} `+ge.labels.tooltipWatchLater2,A=Ie(),x&&x.c(),T=Ie(),L&&L.c(),$e(s,"class","mgPlayerJSqa_push-dropdown-pointer "+(ge.isMicroPlayer?"mgPlayerJSqa_push-dropdown-pointer-mini-player":"")),Oe(s,"mgPlayerJSqa_push-pointer-positon",!GmCXt.isLXP()),$e(o,"class","mgPlayerJSqa_notification-overlay-wrapper "+(ge.isMicroPlayer?"mgPlayerJSqa_notification-overlay-wrapper-mini-player":"")),$e(m,"class","mgPlayerJSqa_h3 mgPlayerJSqa_notification-title mgPlayerJSqa_text-color-dark mgPlayerJSqa_font-weight-550 mgPlayerJSqa_font-size-18 mgPlayerJSqa_no-margin"),$e(m,"tabindex","0"),$e(p,"id","mgPlayerJSqa_icon-close-push-notif-dropdown"),$e(p,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_notification-close mgPlayerJSqa_position-relative mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer"),$e(p,"aria-label","close push notification dropdown"),$e(g,"class","mgPlayerJSqa_notification-info-header-wrapper mgPlayerJSqa_width-100 mgPlayerJSqa_padding-20 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between"),$e(C,"class","mgPlayerJSqa_tooltip-title"),$e(P,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left mgPlayerJSqa_notification-tabs-tooltip mgPlayerJSqa_margin-tb-10"),$e(_,"id","mgPlayerJSqa_label-notification-list-dshow-again"),$e(_,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_notification-info-tab mgPlayerJSqa_height-100 mgPlayerJSqa_font-weight-700 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_position-relative"),Oe(_,"mgPlayerJSqa_notification-active-tab",a[2]),$e(G,"class","mgPlayerJSqa_tooltip-title"),$e(J,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left mgPlayerJSqa_notification-tabs-tooltip mgPlayerJSqa_margin-tb-10 mgPlayerJSqa_title-tooltip-align-left"),$e(q,"id","mgPlayerJSqa_label-notification-list-wlater"),$e(q,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_notification-info-tab mgPlayerJSqa_height-100 mgPlayerJSqa_font-weight-700 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_position-relative"),Oe(q,"mgPlayerJSqa_notification-active-tab",a[3]),$e(y,"class","mgPlayerJSqa_notification-info-tabs-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between"),$e(n,"class","mgPlayerJSqa_push-notification-info-wrapper mgPlayerJSqa_z-index mgPlayerJSqa_z-index-max mgPlayerJSqa_cursor mgPlayerJSqa_cursor-default "+(ge.isMicroPlayer?"mgPlayerJSqa_push-notification-info-micro-player":"")),$e(r,"id","mgPlayerJSqa_svelte-notification-modal"),$e(r,"role","region"),$e(r,"aria-labelledby",ge.labels.pushNotification)},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),ke(n,l),ke(n,o),ke(n,c),ke(n,g),ke(g,m),ke(g,d),ke(g,p),p.innerHTML=u,ke(n,h),ke(n,y),ke(y,_),ke(_,S),ke(_,f),ke(_,P),ke(P,C),ke(y,b),ke(y,q),ke(q,v),ke(q,w),ke(q,J),ke(J,G),ke(n,A),x&&x.m(n,null),ke(n,T),L&&L.m(n,null),a[14](r),X||(k=[De(p,"click",a[9]),De(_,"click",a[10]),De(q,"click",a[11]),De(i,"click",K(a[8])),De(r,"close",a[15])],X=!0)},p(e,t){4&t&&Oe(_,"mgPlayerJSqa_notification-active-tab",e[2]),8&t&&Oe(q,"mgPlayerJSqa_notification-active-tab",e[3]),e[2]?x?x.p(e,t):((x=V(e)).c(),x.m(n,T)):x&&(x.d(1),x=null),e[3]?L?L.p(e,t):((L=re(e)).c(),L.m(n,null)):L&&(L.d(1),L=null)},d(e){e&&Le(r),x&&x.d(),L&&L.d(),a[14](null),X=!1,Xe(k)}}}function V(e){let a,r,i=e[4]?.doNotShowTour&&j(e),n=(!e[4]||0===e[4]?.doNotShowTour?.length)&&ae();return{c(){a=Ee("wmgPlayerJSqa_"),i&&i.c(),r=Ie(),n&&n.c(),$e(a,"class","mgPlayerJSqa_notification-guide-details-wrapper mgPlayerJSqa_width-100 mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y mgPlayerJSqa_position-relative")},m(e,t){xe(e,a,t),i&&i.m(a,null),ke(a,r),n&&n.m(a,null)},p(e,t){e[4]?.doNotShowTour?i?i.p(e,t):((i=j(e)).c(),i.m(a,r)):i&&(i.d(1),i=null),e[4]&&0!==e[4]?.doNotShowTour?.length?n&&(n.d(1),n=null):n||((n=ae()).c(),n.m(a,null))},d(e){e&&Le(a),i&&i.d(),n&&n.d()}}}function j(t){let i,n=I(t[4].doNotShowTour),s=[];for(let e=0;e<n.length;e+=1)s[e]=W(N(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();i=M()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);xe(t,i,a)},p(t,a){if(80&a){n=I(t[4].doNotShowTour);let e;for(e=0;e<n.length;e+=1){var r=N(t,n,e);s[e]?s[e].p(r,a):(s[e]=W(r),s[e].c(),s[e].m(i.parentNode,i))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}},d(e){e&&Le(i),$(s,e)}}}function W(a){let r,i,n=ge.svgs.default_guide+"",s,l,o,c=a[21].tour_title+"",g,m,d,p,u=a[21].tour_title+"",h,y,_,S,f,P,C,b,q,v;function w(){return a[12](a[21],a[23])}return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Ee("wmgPlayerJSqa_"),g=Me(c),m=Ie(),d=Ee("wmgPlayerJSqa_"),p=Ee("wmgPlayerJSqa_"),h=Me(u),y=Ie(),_=Ee("wmgPlayerJSqa_"),S=Ee("wmgPlayerJSqa_"),f=Ie(),P=Ee("wmgPlayerJSqa_"),(C=Ee("button")).textContent=""+ge.labels.showAgain,b=Ie(),$e(i,"class","mgPlayerJSqa_notification-guide-icon mgPlayerJSqa_position-relative"),$e(o,"class","mgPlayerJSqa_text-overflow-ellipsis mgPlayerJSqa_text-color-dark "+(ge.isMicroPlayer?"mgPlayerJSqa_not-guide-title":"")),$e(l,"class","mgPlayerJSqa_notification-guide-title mgPlayerJSqa_margin-lr-10"),$e(p,"class","mgPlayerJSqa_tooltip-title"),$e(d,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-right mgPlayerJSqa_margin-lr-10"),$e(S,"class","mgPlayerJSqa_details-overlay-wrapper mgPlayerJSqa_width-100 mgPlayerJSqa_height-100 mgPlayerJSqa_z-index mgPlayerJSqa_z-index-1"),$e(C,"id","mgPlayerJSqa_label-show-again"),$e(C,"class","mgPlayerJSqa_action-show-again-btn mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_theme-background mgPlayerJSqa_text-color-white mgPlayerJSqa_font-size-12 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer mgPlayerJSqa_lbl-btn"),$e(P,"class","mgPlayerJSqa_details-overlay-action-wrapper mgPlayerJSqa_height-100 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_z-index mgPlayerJSqa_z-index-2"),$e(_,"class","mgPlayerJSqa_notification-guide-details-overlay mgPlayerJSqa_width-100 mgPlayerJSqa_height-100 mgPlayerJSqa_padding-lr-20"),$e(r,"class","mgPlayerJSqa_notification-guide-details mgPlayerJSqa_width-100 mgPlayerJSqa_padding-lr-20 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-start mgPlayerJSqa_position-relative"),$e(r,"tabindex","0")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,o),ke(o,g),ke(r,m),ke(r,d),ke(d,p),ke(p,h),ke(r,y),ke(r,_),ke(_,S),ke(_,f),ke(_,P),ke(P,C),ke(r,b),q||(v=De(C,"click",w),q=!0)},p(e,t){a=e,16&t&&c!==(c=a[21].tour_title+"")&&Fe(g,c),16&t&&u!==(u=a[21].tour_title+"")&&Fe(h,u)},d(e){e&&Le(r),q=!1,v()}}}function ae(){let a,r,i,n=ge.svgs.no_guides_image+"",s,l,o,c;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent="Oops!",o=Ie(),(c=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.noGuidesOnThisTab,$e(i,"class","mgPlayerJSqa_icon-oops mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-align-center"),$e(l,"class","mgPlayerJSqa_icon-text mgPlayerJSqa_text-align-center mgPlayerJSqa_font-weight-550"),$e(l,"tabindex","0"),$e(c,"class","mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-tb-5"),$e(c,"tabindex","0"),$e(r,"class","mgPlayerJSqa_oops-wrapper mgPlayerJSqa_text-align-center"),$e(a,"class","mgPlayerJSqa_no-guide-msg-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(r,o),ke(r,c)},d(e){e&&Le(a)}}}function re(e){let a,r,i=e[4]?.snoozeTour&&ie(e),n=(!e[4]||0===e[4]?.snoozeTour?.length)&&se();return{c(){a=Ee("wmgPlayerJSqa_"),i&&i.c(),r=Ie(),n&&n.c(),$e(a,"class","mgPlayerJSqa_notification-guide-details-wrapper mgPlayerJSqa_width-100 mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y mgPlayerJSqa_position-relative")},m(e,t){xe(e,a,t),i&&i.m(a,null),ke(a,r),n&&n.m(a,null)},p(e,t){e[4]?.snoozeTour?i?i.p(e,t):((i=ie(e)).c(),i.m(a,r)):i&&(i.d(1),i=null),e[4]&&0!==e[4]?.snoozeTour?.length?n&&(n.d(1),n=null):n||((n=se()).c(),n.m(a,null))},d(e){e&&Le(a),i&&i.d(),n&&n.d()}}}function ie(t){let i,n=I(t[4].snoozeTour),s=[];for(let e=0;e<n.length;e+=1)s[e]=ne(H(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();i=M()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);xe(t,i,a)},p(t,a){if(144&a){n=I(t[4].snoozeTour);let e;for(e=0;e<n.length;e+=1){var r=H(t,n,e);s[e]?s[e].p(r,a):(s[e]=ne(r),s[e].c(),s[e].m(i.parentNode,i))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}},d(e){e&&Le(i),$(s,e)}}}function ne(a){let r,i,n=ge.svgs.default_guide+"",s,l,o,c=a[21].tour_title+"",g,m,d,p,u=a[21].tour_title+"",h,y,_,S,f,P,C,b,q,v;function w(){return a[13](a[21],a[23])}return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Ee("wmgPlayerJSqa_"),g=Me(c),m=Ie(),d=Ee("wmgPlayerJSqa_"),p=Ee("wmgPlayerJSqa_"),h=Me(u),y=Ie(),_=Ee("wmgPlayerJSqa_"),S=Ee("wmgPlayerJSqa_"),f=Ie(),P=Ee("wmgPlayerJSqa_"),(C=Ee("button")).textContent=""+ge.labels.showAgain,b=Ie(),$e(i,"class","mgPlayerJSqa_notification-guide-icon mgPlayerJSqa_position-relative"),$e(o,"class","mgPlayerJSqa_text-overflow-ellipsis mgPlayerJSqa_text-color-dark "+(ge.isMicroPlayer?"mgPlayerJSqa_not-guide-title":"")),$e(l,"class","mgPlayerJSqa_notification-guide-title mgPlayerJSqa_margin-lr-10"),$e(p,"class","mgPlayerJSqa_tooltip-title"),$e(d,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-right mgPlayerJSqa_margin-lr-10"),$e(S,"class","mgPlayerJSqa_details-overlay-wrapper mgPlayerJSqa_width-100 mgPlayerJSqa_height-100 mgPlayerJSqa_z-index mgPlayerJSqa_z-index-1"),$e(C,"id","mgPlayerJSqa_label-watch-again"),$e(C,"class","mgPlayerJSqa_action-show-again-btn mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_theme-background mgPlayerJSqa_text-color-white mgPlayerJSqa_font-size-12 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer mgPlayerJSqa_primary-color mgPlayerJSqa_bg-color mgPlayerJSqa_lbl-btn"),$e(P,"class","mgPlayerJSqa_details-overlay-action-wrapper mgPlayerJSqa_height-100 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_z-index mgPlayerJSqa_z-index-2"),$e(_,"class","mgPlayerJSqa_notification-guide-details-overlay mgPlayerJSqa_width-100 mgPlayerJSqa_height-100 mgPlayerJSqa_padding-lr-20"),$e(r,"class","mgPlayerJSqa_notification-guide-details mgPlayerJSqa_width-100 mgPlayerJSqa_padding-lr-20 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-start mgPlayerJSqa_position-relative"),$e(r,"tabindex","0")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,o),ke(o,g),ke(r,m),ke(r,d),ke(d,p),ke(p,h),ke(r,y),ke(r,_),ke(_,S),ke(_,f),ke(_,P),ke(P,C),ke(r,b),q||(v=De(C,"click",w),q=!0)},p(e,t){a=e,16&t&&c!==(c=a[21].tour_title+"")&&Fe(g,c),16&t&&u!==(u=a[21].tour_title+"")&&Fe(h,u)},d(e){e&&Le(r),q=!1,v()}}}function se(){let a,r,i,n=ge.svgs.no_guides_image+"",s,l,o,c;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent="Oops!",o=Ie(),(c=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.noGuidesOnThisTab,$e(i,"class","mgPlayerJSqa_icon-oops mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-align-center"),$e(l,"class","mgPlayerJSqa_icon-text mgPlayerJSqa_text-align-center mgPlayerJSqa_font-weight-550"),$e(l,"tabindex","0"),$e(c,"class","mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-tb-5"),$e(c,"tabindex","0"),$e(r,"class","mgPlayerJSqa_oops-wrapper mgPlayerJSqa_text-align-center"),$e(a,"class","mgPlayerJSqa_no-guide-msg-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(r,o),ke(r,c)},d(e){e&&Le(a)}}}function le(e){let a,r=e[0]&&B(e);return{c(){r&&r.c(),a=M()},m(e,t){r&&r.m(e,t),xe(e,a,t)},p(e,[t]){e[0]?r?r.p(e,t):((r=B(e)).c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null)},i:we,o:we,d(e){e&&Le(a),r&&r.d(e)}}}function oe(t,e,s){let l,a=e["pushNotificationDropdown"],r,i,n;ce(me.notificationsGuides);const o=me.dShowAgain.subscribe(e=>{s(2,i=e)}),c=me.wLater.subscribe(e=>{s(3,n=e)});function g(e){me.dShowAgain.set(!1),me.wLater.set(!1),me[e].set(!0),GmCXt.timeout(function(){GmCXt.isPlayer()&&ge.bindPlayerTheme()},0)}function m(i,n){GmCXt.storage().get(["toursClosed","tourIdArray"]).then(function(e){let t={},a={};function r(e){ge.saveUser(GmCXt.user)}(t=GmCXt.isAnonymousUser()?e.tourIdArray||{}:(a=GmCXt.createDeepCopy(GmCXt.user)).settings.viewed_guide_notifications||{})[i]&&(GmCXt.isAnonymousUser()?GmCXt.updateNotiDoNotShow(i):(delete t[i],GmCXt.user.settings.viewed_guide_notifications=t,GmCXt.user.signin_user_email?(e={email_id:GmCXt.user.signin_user_email,settings:JSON.stringify(a.settings),organization_id:GmCXt.user.organization_id},GmCXt.setAnonymousUserPrefrence(e).then(r)):(e={settings:{viewed_guide_notifications:t}},GmCXt.updateUserSettings(e,GmCXt.user,r))),l.doNotShowTour.splice(n,1),s(4,l={...l}))})}function d(e,t){l.snoozeTour.splice(t,1),s(4,l={...l}),GmCXt.updateNotiWatchLater(e)}ge.user,g("wLater"),pe(()=>{o(),c()});return t.$$set=e=>{"pushNotificationDropdown"in e&&s(0,a=e.pushNotificationDropdown)},t.$$.update=()=>{3&t.$$.dirty&&r&&a&&mg$(r).show()},s(4,l=ge.notifications),[a,r,i,n,l,g,m,d,function(e){!function(e,t){(e=e.$$.callbacks[t.type])&&e.slice().forEach(e=>e.call(this,t))}.call(this,t,e)},()=>mg$(r).remove(),()=>g("dShowAgain"),()=>g("wLater"),(e,t)=>m(e.tour_id,t),(e,t)=>d(e.tour_id,t),function(e){ue[e?"unshift":"push"](()=>{r=e,s(1,r)})},()=>s(0,a=!1)]}me.activeView=J(""),me.user=J({}),me.accessToken=J(""),me.organization=J({}),me.tours=J([]),me.appOnDomain=J({}),me.loggedIn=J(!1),me.appData=J([]),me.allGuides=J([]),me.activeAppData=J({}),me.activeAppId=J(""),me.allCategories=J([]),me.subCategories=J({}),me.breadCrumb=J([]),me.breadcrumbCategories=J([]),me.validatedSegments=J({}),me.isSidePanelApp=J(!1),me.isPageReloaded=J(!1),me.guidePlayTracker=J({}),me.showPlayer=J(!1),me.accessibility=J(!1),me.isMediaPlayerOn=J(!1),me.pageTitle=J(),me.route=J("Home"),me.urlParts=J({}),me.partUrl={},me.appList=J([]),me.CurrentPage=J("currentpage"),me.currentTour=J({}),me.dialogBox=J({}),me.showModal=J({}),me.publishedTours=J({}),me.CurrentPageTours=J([]),me.MyGuidePageTours=J([]),me.parent=J(),me.categoryTours=J([]),me.childCategories=J(),me.isNotificationReqd=J(!0),me.dShowAgain=J(!1),me.wLater=J(!1),me.loading=J(!1),me.activeSortFilterStore=J(),me.searchTours=J([]),me.selectedBranch=J(!1),me.selectedLang=J("default"),me.lanDropDownVisible=J(!1),me.miniPlayer=J(!1),me.showNoTour=J(!1),me.isTaskListVisible=J(!1),me.params=J({}),me.routeAction=J({}),me.filters=J({}),me.statusBar=J(""),me.labels=J(ge.labels),me.slideState=J({}),me.slideshowInstance=J({}),me.isTourListRefresh=J(!1),me.allTaskList=J([]),me.taskListCount=J(0),me.searchTerm=J(""),me.stepEditMode=J(!1),me.stepOperationMode=J(GmCXt.STEP_VIEW_OPERATION),me.activeStepId=J(),me.panelAlignment=J("right"),me.imagePaintRef=J({}),me.refreshCurrentPageView=J(!1),me.prevActiveStepId=J(0),me.showSsoNotAvailableError=J(!1),me.beaconUpload=J(!1);class he extends e{constructor(e){super(),t(this,e,oe,le,g,{pushNotificationDropdown:0},R)}}function ye(e){l(e,"svelte-nljzo9",".mgPlayerJSqa_svelte-tags-input.svelte-nljzo9.svelte-nljzo9,.mgPlayerJSqa_svelte-tags-input-tag.svelte-nljzo9.svelte-nljzo9,.mgPlayerJSqa_svelte-tags-input-matchs.svelte-nljzo9.svelte-nljzo9,.mgPlayerJSqa_svelte-tags-input-layout.svelte-nljzo9 label.svelte-nljzo9{font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans',\n\t\t\t'Helvetica Neue', sans-serif !important;font-size:14px !important;padding:2px 5px !important}.mgPlayerJSqa_svelte-tags-input-layout.svelte-nljzo9 label.svelte-nljzo9{margin:4px 5px 0 0;padding:0;font-weight:500}.mgPlayerJSqa_svelte-tags-input-layout.svelte-nljzo9.svelte-nljzo9{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0px 5px 5px 5px;border:solid 1px #ccc;background:#fff;border-radius:2px;width:100%}.mgPlayerJSqa_svelte-tags-input-layout.svelte-nljzo9.svelte-nljzo9:focus,.mgPlayerJSqa_svelte-tags-input-layout.svelte-nljzo9.svelte-nljzo9:hover{border:solid 1px #000}.mgPlayerJSqa_svelte-tags-input-layout.svelte-nljzo9.svelte-nljzo9:focus-within{outline:1px auto -webkit-focus-ring-color}.mgPlayerJSqa_svelte-tags-input.svelte-nljzo9.svelte-nljzo9{background:unset !important;-webkit-box-flex:1 !important;-ms-flex:1 !important;flex:1 !important;margin:0 !important;margin-top:5px !important;border:none !important}.mgPlayerJSqa_svelte-tags-input.svelte-nljzo9.svelte-nljzo9::-webkit-input-placeholder{color:#707070 !important;font-weight:normal !important}.mgPlayerJSqa_svelte-tags-input.svelte-nljzo9.svelte-nljzo9::-moz-placeholder{color:#707070 !important;font-weight:normal !important}.mgPlayerJSqa_svelte-tags-input.svelte-nljzo9.svelte-nljzo9::-webkit-input-placeholder{color:#707070 !important;font-weight:normal !important}.mgPlayerJSqa_svelte-tags-input.svelte-nljzo9.svelte-nljzo9:focus{outline:0 !important}.mgPlayerJSqa_svelte-tags-input-tag.svelte-nljzo9.svelte-nljzo9{display:-webkit-box !important;display:-ms-flexbox !important;display:flex !important;white-space:nowrap !important;user-select:text !important;list-style:none !important;background:#000 !important;border:none !important;color:#fff !important;border-radius:2px !important;margin-right:5px !important;margin-top:5px !important;font-weight:400 !important}.mgPlayerJSqa_tag-input-item.svelte-nljzo9.svelte-nljzo9{display:inline-block;vertical-align:middle;max-width:350px;color:#fff;margin:2px 0 0 0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mgPlayerJSqa_svelte-tags-input-tag-remove.svelte-nljzo9.svelte-nljzo9{cursor:pointer !important;margin-left:5px !important;margin-top:2px !important}.mgPlayerJSqa_svelte-tags-input-matchs-parent.svelte-nljzo9.svelte-nljzo9{position:relative}.mgPlayerJSqa_svelte-tags-input-matchs.svelte-nljzo9.svelte-nljzo9{position:absolute;top:0;left:0;right:0;margin:3px 0;padding:0px;background:#fff;border:solid 1px #ccc;border-radius:2px;max-height:310px;overflow:scroll;overflow-x:auto}.mgPlayerJSqa_svelte-tags-input-matchs.svelte-nljzo9 li.svelte-nljzo9{list-style:none;padding:5px;border-radius:2px;cursor:pointer}.mgPlayerJSqa_svelte-tags-input-matchs.svelte-nljzo9 li.svelte-nljzo9:hover,.mgPlayerJSqa_svelte-tags-input-matchs.svelte-nljzo9 li.focus.svelte-nljzo9{background:#000;color:#fff;outline:none}.mgPlayerJSqa_svelte-tags-input.svelte-nljzo9.svelte-nljzo9:disabled{background:transparent !important}.mgPlayerJSqa_svelte-tags-input-layout.sti-layout-disable.svelte-nljzo9.svelte-nljzo9,.mgPlayerJSqa_svelte-tags-input-layout.sti-layout-disable.svelte-nljzo9 input.svelte-nljzo9{cursor:not-allowed !important;background:#eaeaea !important}.mgPlayerJSqa_svelte-tags-input-layout.sti-layout-disable.svelte-nljzo9.svelte-nljzo9:hover,.mgPlayerJSqa_svelte-tags-input-layout.sti-layout-disable.svelte-nljzo9.svelte-nljzo9:focus,.mgPlayerJSqa_svelte-tags-input-layout.sti-layout-readonly.svelte-nljzo9.svelte-nljzo9:hover,.mgPlayerJSqa_svelte-tags-input-layout.sti-layout-readonly.svelte-nljzo9.svelte-nljzo9:focus{border-color:#ccc}.mgPlayerJSqa_svelte-tags-input-layout.sti-layout-disable.svelte-nljzo9 .mgPlayerJSqa_svelte-tags-input-tag.svelte-nljzo9{background:#aeaeae !important}.mgPlayerJSqa_svelte-tags-input-layout.sti-layout-disable.svelte-nljzo9 .mgPlayerJSqa_svelte-tags-input-tag-remove.svelte-nljzo9{cursor:not-allowed !important}.mgPlayerJSqa_svelte-tags-input-layout.svelte-nljzo9 label.sr-only.svelte-nljzo9{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}")}function _e(e,t,a){e=e.slice();return e[52]=t[a],e[54]=a,e}function Se(e,t,a){e=e.slice();return e[14]=t[a],e[56]=a,e}function fe(t){let i,n=I(t[0]),s=[];for(let e=0;e<n.length;e+=1)s[e]=qe(Se(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();i=M()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);xe(t,i,a)},p(t,a){if(132897&a[0]){n=I(t[0]);let e;for(e=0;e<n.length;e+=1){var r=Se(t,n,e);s[e]?s[e].p(r,a):(s[e]=qe(r),s[e].c(),s[e].m(i.parentNode,i))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}},d(e){e&&Le(i),$(s,e)}}}function Pe(e){let a,r=e[14][e[10]]+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_tag-input-item svelte-nljzo9")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1025&t[0]&&r!==(r=e[14][e[10]]+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function Ce(e){let a,r=e[14]+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_tag-input-item svelte-nljzo9")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t[0]&&r!==(r=e[14]+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function be(a){let r,i,n;function s(){return a[42](a[56])}return{c(){(r=Ee("wmgPlayerJSqa_")).textContent="Ã—",$e(r,"class","mgPlayerJSqa_span mgPlayerJSqa_svelte-tags-input-tag-remove svelte-nljzo9")},m(e,t){xe(e,r,t),i||(n=De(r,"pointerdown",s),i=!0)},p(e,t){a=e},d(e){e&&Le(r),i=!1,n()}}}function qe(a){let r,i,n,s,l;function o(e){return"string"==typeof e[14]?Ce:Pe}let c=o(a),g=c(a),m=!a[5]&&!a[8]&&be(a);return{c(){r=Ee("button"),g.c(),i=Ie(),m&&m.c(),n=Ie(),$e(r,"type","button"),$e(r,"class","mgPlayerJSqa_svelte-tags-input-tag svelte-nljzo9")},m(e,t){xe(e,r,t),g.m(r,null),ke(r,i),m&&m.m(r,null),ke(r,n),s||(l=De(r,"click",function(){Y(a[9](a[14]))&&a[9](a[14]).apply(this,arguments)}),s=!0)},p(e,t){a=e,c===(c=o(a))&&g?g.p(a,t):(g.d(1),(g=c(a))&&(g.c(),g.m(r,i))),a[5]||a[8]?m&&(m.d(1),m=null):m?m.p(a,t):((m=be(a)).c(),m.m(r,n))},d(e){e&&Le(r),g.d(),m&&m.d(),s=!1,l()}}}function ve(t){let a,i,e,n=I(t[11]),s=[];for(let e=0;e<n.length;e+=1)s[e]=Ae(_e(t,n,e));return{c(){a=Ee("wmgPlayerJSqa_"),i=Ee("ul");for(let e=0;e<s.length;e+=1)s[e].c();$e(i,"id",e=t[4]+"_matchs"),$e(i,"class","mgPlayerJSqa_svelte-tags-input-matchs svelte-nljzo9"),$e(a,"class","mgPlayerJSqa_svelte-tags-input-matchs-parent svelte-nljzo9")},m(e,t){xe(e,a,t),ke(a,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null)},p(t,a){if(71680&a[0]){n=I(t[11]);let e;for(e=0;e<n.length;e+=1){var r=_e(t,n,e);s[e]?s[e].p(r,a):(s[e]=Ae(r),s[e].c(),s[e].m(i,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}16&a[0]&&e!==(e=t[4]+"_matchs")&&$e(i,"id",e)},d(e){e&&Le(a),$(s,e)}}}function Ae(a){let r,i,n=a[52].search+"",s,l,o;function c(){return a[46](a[52])}return{c(){r=Ee("li"),i=new te(!1),s=Ie(),i.a=s,$e(r,"tabindex","-1"),$e(r,"class","svelte-nljzo9"),Oe(r,"focus",a[54]===a[12])},m(e,t){xe(e,r,t),i.m(n,r),ke(r,s),l||(o=De(r,"pointerdown",Z(c)),l=!0)},p(e,t){a=e,2048&t[0]&&n!==(n=a[52].search+"")&&i.p(n),4096&t[0]&&Oe(r,"focus",a[54]===a[12])},d(e){e&&Le(r),l=!1,o()}}}function Te(a){let r,i,n,s,l,o,c,g,m,d,p,u,h=0<a[0].length&&fe(a),y=a[2]&&0<a[11].length&&ve(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("label"),n=Me(a[6]),l=Ie(),h&&h.c(),o=Ie(),c=Ee("input"),m=Ie(),y&&y.c(),d=M(),$e(i,"for",a[4]),$e(i,"class",s=Je(a[7]?"":"sr-only")+" svelte-nljzo9"),$e(c,"type","text"),$e(c,"id",a[4]),$e(c,"name",a[3]),$e(c,"class","mgPlayerJSqa_svelte-tags-input svelte-nljzo9"),$e(c,"placeholder",a[1]),c.disabled=g=a[5]||a[8],$e(c,"autocomplete","off"),$e(r,"class","mgPlayerJSqa_svelte-tags-input-layout svelte-nljzo9"),Oe(r,"sti-layout-disable",a[5]),Oe(r,"sti-layout-readonly",a[8])},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(r,l),h&&h.m(r,null),ke(r,o),ke(r,c),je(c,a[14]),a[45](r),xe(e,m,t),y&&y.m(e,t),xe(e,d,t),p||(u=[De(c,"input",a[43]),De(c,"keydown",a[15]),De(c,"keyup",a[23]),De(c,"paste",a[18]),De(c,"drop",a[19]),De(c,"focus",a[20]),De(c,"blur",a[44]),De(c,"pointerdown",a[22])],p=!0)},p(e,t){64&t[0]&&Fe(n,e[6]),16&t[0]&&$e(i,"for",e[4]),128&t[0]&&s!==(s=Je(e[7]?"":"sr-only")+" svelte-nljzo9")&&$e(i,"class",s),0<e[0].length?h?h.p(e,t):((h=fe(e)).c(),h.m(r,o)):h&&(h.d(1),h=null),16&t[0]&&$e(c,"id",e[4]),8&t[0]&&$e(c,"name",e[3]),2&t[0]&&$e(c,"placeholder",e[1]),288&t[0]&&g!==(g=e[5]||e[8])&&(c.disabled=g),16384&t[0]&&c.value!==e[14]&&je(c,e[14]),32&t[0]&&Oe(r,"sti-layout-disable",e[5]),256&t[0]&&Oe(r,"sti-layout-readonly",e[8]),e[2]&&0<e[11].length?y?y.p(e,t):((y=ve(e)).c(),y.m(d.parentNode,d)):y&&(y.d(1),y=null)},i:we,o:we,d(e){e&&(Le(r),Le(m),Le(d)),h&&h.d(),a[45](null),y&&y.d(e),p=!1,Xe(u)}}}function We(e,t,r){let i,n="",s=[],l=-1,I=e=>e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&"),o=t["tags"],c=t["addKeys"],a=t["maxTags"],g=t["onlyUnique"],m=t["removeKeys"],d=t["placeholder"],p=t["allowPaste"],u=t["allowDrop"],h=t["splitWith"],y=t["autoComplete"],_=t["autoCompleteFilter"],S=t["autoCompleteKey"],f=t["autoCompleteMarkupKey"],P=t["name"],C=t["id"],b=t["allowBlur"],q=t["disable"],v=t["minChars"],w=t["onlyAutocomplete"],J=t["labelText"],G=t["labelShow"],A=t["readonly"],D=t["onTagClick"],$=t["autoCompleteShowKey"],T=t["onTagAdded"],X=t["onTagRemoved"],k=t["cleanOnBlur"],x=t["customValidation"],L=t["onTagChange"],E,F=d;function M(t){if("object"==typeof t&&null!==t){if(!S)return console.error("'autoCompleteKey' is necessary if 'autoComplete' result is an array of objects");if(g)if(o?.find(e=>e[S]===t[S]))return;var e=t;t=t[S].trim()}else t=t.trim();""==t||a&&o.length==a||g&&o.includes(t)||w&&0===s.length||x&&!x(t)||(o.push(e||t),r(0,o),r(14,n=""),T(t,o),r(11,s=[]),r(12,l=-1),document.getElementById(C).focus(),a&&o.length==a&&(document.getElementById(C).readOnly=!0,r(1,d="")),L&&L())}function O(e){o.splice(e,1),X(o[e],o),r(0,o),L&&L(),r(11,s=[]),document.getElementById(C).readOnly=!1,r(1,d=F),document.getElementById(C).focus()}function R(e,t){E.classList.remove("focus"),b&&(s.length&&-1<l?M(s?.[l]?.label):s.length||(e.preventDefault(),M(t))),k&&r(14,n=""),r(11,s=[]),r(12,l=-1)}function H(e){return e.split(h).map(e=>e.trim())}function N(e,t){return function(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return(""+e).replace(/[&<>"'\/]/g,e=>t[e])}(t).replace(RegExp(I(e.toLowerCase()),"i"),"<strong>$&</strong>")}async function B(e){if(y&&!(a&&o.length>=a)){let t=e?e.target.value:"",a=[];if(Array.isArray(y)&&(a=y),"Promise"===(a="function"==typeof y?"AsyncFunction"===y.constructor.name?await y(t):y(t):a).constructor.name&&(a=await a),0<v&&""==t||e&&27===e.keyCode||t.length<v)r(11,s=[]);else{let e=a;if("object"==typeof a[0]&&null!==a){if(!S)return console.error("'autoCompleteValue' is necessary if 'autoComplete' result is an array of objects");e=(e=!1!==_?a.filter(e=>e[S].toLowerCase().includes(t.toLowerCase())):e).map(e=>({label:e,search:f?e[f]:N(t,e[S])}))}else e=(e=!1!==_?a.filter(e=>e.toLowerCase().includes(t.toLowerCase())):e).map(e=>({label:e,search:N(t,e)}));!0!==g||S||(e=e.filter(e=>!o.includes(e.label))),r(11,s=e)}}}return e.$$set=e=>{"tags"in e&&r(0,o=e.tags),"addKeys"in e&&r(24,c=e.addKeys),"maxTags"in e&&r(25,a=e.maxTags),"onlyUnique"in e&&r(26,g=e.onlyUnique),"removeKeys"in e&&r(27,m=e.removeKeys),"placeholder"in e&&r(1,d=e.placeholder),"allowPaste"in e&&r(28,p=e.allowPaste),"allowDrop"in e&&r(29,u=e.allowDrop),"splitWith"in e&&r(30,h=e.splitWith),"autoComplete"in e&&r(2,y=e.autoComplete),"autoCompleteFilter"in e&&r(31,_=e.autoCompleteFilter),"autoCompleteKey"in e&&r(32,S=e.autoCompleteKey),"autoCompleteMarkupKey"in e&&r(33,f=e.autoCompleteMarkupKey),"name"in e&&r(3,P=e.name),"id"in e&&r(4,C=e.id),"allowBlur"in e&&r(34,b=e.allowBlur),"disable"in e&&r(5,q=e.disable),"minChars"in e&&r(35,v=e.minChars),"onlyAutocomplete"in e&&r(36,w=e.onlyAutocomplete),"labelText"in e&&r(6,J=e.labelText),"labelShow"in e&&r(7,G=e.labelShow),"readonly"in e&&r(8,A=e.readonly),"onTagClick"in e&&r(9,D=e.onTagClick),"autoCompleteShowKey"in e&&r(10,$=e.autoCompleteShowKey),"onTagAdded"in e&&r(37,T=e.onTagAdded),"onTagRemoved"in e&&r(38,X=e.onTagRemoved),"cleanOnBlur"in e&&r(39,k=e.cleanOnBlur),"customValidation"in e&&r(40,x=e.customValidation),"onTagChange"in e&&r(41,L=e.onTagChange)},e.$$.update=()=>{1&e.$$.dirty[0]&&r(0,o=o||[]),16777216&e.$$.dirty[0]&&r(24,c=c||[13]),33554432&e.$$.dirty[0]&&r(25,a=a||!1),67108864&e.$$.dirty[0]&&r(26,g=g||!1),134217728&e.$$.dirty[0]&&r(27,m=m||[8]),2&e.$$.dirty[0]&&r(1,d=d||""),268435456&e.$$.dirty[0]&&r(28,p=p||!1),536870912&e.$$.dirty[0]&&r(29,u=u||!1),1073741824&e.$$.dirty[0]&&r(30,h=h||","),4&e.$$.dirty[0]&&r(2,y=y||!1),1&e.$$.dirty[1]&&r(31,_=void 0===_),2&e.$$.dirty[1]&&r(32,S=S||!1),4&e.$$.dirty[1]&&r(33,f=f||!1),8&e.$$.dirty[0]&&r(3,P=P||"mgPlayerJSqa_svelte-tags-input"),16&e.$$.dirty[0]&&r(4,C=C||"sti_"+Math.random().toString(36).substring(2,11)),8&e.$$.dirty[1]&&r(34,b=b||!1),32&e.$$.dirty[0]&&r(5,q=q||!1),16&e.$$.dirty[1]&&r(35,v=v??1),32&e.$$.dirty[1]&&r(36,w=w||!1),72&e.$$.dirty[0]&&r(6,J=J||P),128&e.$$.dirty[0]&&r(7,G=G||!1),256&e.$$.dirty[0]&&r(8,A=A||!1),512&e.$$.dirty[0]&&r(9,D=D||function(){}),1024&e.$$.dirty[0]|2&e.$$.dirty[1]&&r(10,$=$||S),64&e.$$.dirty[1]&&r(37,T=T||function(){}),128&e.$$.dirty[1]&&r(38,X=X||function(){}),256&e.$$.dirty[1]&&r(39,k=k||!1),512&e.$$.dirty[1]&&r(40,x=x||!1),16&e.$$.dirty[0]&&(i=C+"_matchs")},[o,d,y,P,C,q,J,G,A,D,$,s,l,E,n,function(t){const a=document.getElementById(i)?.querySelector("li.focus")?.textContent??t.target.value;c&&c.forEach(function(e){e===t.keyCode&&(a&&t.preventDefault(),y&&w&&document.getElementById(i)?M(s?.[l]?.label):M(a))}),m&&m.forEach(function(e){e===t.keyCode&&""===n&&(o.pop(),r(0,o),r(11,s=[]),document.getElementById(C).readOnly=!1,r(1,d=F),document.getElementById(C).focus())}),40===t.keyCode&&y&&document.getElementById(i)?l+1===s.length?r(12,l=0):r(12,l++,l):38===t.keyCode?l<=0?r(12,l=s.length-1):r(12,l--,l):27===t.keyCode&&(r(11,s=[]),document.getElementById(C).focus())},M,O,function(e){p&&(e.preventDefault(),e=e,H(window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):"").map(e=>M(e)))},function(e){u&&(e.preventDefault(),H(e.dataTransfer.getData("Text")).map(e=>M(e)))},function(){E.classList.add("focus")},R,function(){0==v&&B()},B,c,a,g,m,p,u,h,_,S,f,b,v,w,T,X,k,x,L,e=>O(e),function(){n=this.value,r(14,n)},e=>R(e,n),function(e){ue[e?"unshift":"push"](()=>{E=e,r(13,E)})},e=>M(e.label)]}class Ze extends e{constructor(e){super(),t(this,e,We,Te,g,{tags:0,addKeys:24,maxTags:25,onlyUnique:26,removeKeys:27,placeholder:1,allowPaste:28,allowDrop:29,splitWith:30,autoComplete:2,autoCompleteFilter:31,autoCompleteKey:32,autoCompleteMarkupKey:33,name:3,id:4,allowBlur:34,disable:5,minChars:35,onlyAutocomplete:36,labelText:6,labelShow:7,readonly:8,onTagClick:9,autoCompleteShowKey:10,onTagAdded:37,onTagRemoved:38,cleanOnBlur:39,customValidation:40,onTagChange:41},ye,[-1,-1])}}function Ye(e,t,a){e=e.slice();return e[67]=t[a],e}function Ke(e,t,a){e=e.slice();return e[70]=t[a],e}function Qe(e){let a;function r(e){return e[0].isMicroPlayer?et:tt}let i=r(e),n=i(e);return{c(){n.c(),a=M()},m(e,t){n.m(e,t),xe(e,a,t)},p(e,t){i===(i=r(e))&&n?n.p(e,t):(n.d(1),(n=i(e))&&(n.c(),n.m(a.parentNode,a)))},d(e){e&&Le(a),n.d(e)}}}function et(e){let a,r=e[0].labels.miniPlayerHelp+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_h4 mgPlayerJSqa_theme-mplayer-header-title mgPlayerJSqa_font-size-16 mgPlayerJSqa_float-left mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_text-overflow-ellipsis mgPlayerJSqa_no-margin")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t[0]&&r!==(r=e[0].labels.miniPlayerHelp+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function tt(a){let r,i,n,s,l,o,c;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),$e(n=Ee("img"),"id","mgPlayerJSqa_header-brand-logo"),$e(n,"class","mgPlayerJSqa_logo-image mgPlayerJSqa_width-height-auto mgPlayerJSqa_max-width-height-100 mgPlayerJSqa_custom-image"),Q(n.src,s=a[3])||$e(n,"src",s),$e(n,"alt",l=a[0].labels.brandLogo),$e(i,"class","mgPlayerJSqa_logo-wrapper mgPlayerJSqa_inline-block-vm"),$e(r,"class","mgPlayerJSqa_panel-brand-logo-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_margin-l-10")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),o||(c=De(n,"error",a[26]),o=!0)},p(e,t){8&t[0]&&!Q(n.src,s=e[3])&&$e(n,"src",s),1&t[0]&&l!==(l=e[0].labels.brandLogo)&&$e(n,"alt",l)},d(e){e&&Le(r),o=!1,c()}}}function at(e){let a,r,i,n,s=("left"===e[5]?e[0].labels.movePanelToRight:e[0].labels.movePanelToLeft)+"",l;function o(e){return"right"===e[5]?it:"left"===e[5]?rt:void 0}let c=o(e),g=c&&c(e);return{c(){a=Ee("wmgPlayerJSqa_"),g&&g.c(),r=Ie(),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),l=Me(s),$e(n,"class","mgPlayerJSqa_tooltip-title"),$e(i,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-center mgPlayerJSqa_margin-tb-10"),$e(a,"class","mgPlayerJSqa_move-panel-btn-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip")},m(e,t){xe(e,a,t),g&&g.m(a,null),ke(a,r),ke(a,i),ke(i,n),ke(n,l)},p(e,t){c===(c=o(e))&&g?g.p(e,t):(g&&g.d(1),(g=c&&c(e))&&(g.c(),g.m(a,r))),33&t[0]&&s!==(s=("left"===e[5]?e[0].labels.movePanelToRight:e[0].labels.movePanelToLeft)+"")&&Fe(l,s)},d(e){e&&Le(a),g&&g.d()}}}function rt(a){let r,i,n,s;return{c(){$e(r=Ee("button"),"id","mgPlayerJSqa_move-panel-btn-right"),$e(r,"class","mgPlayerJSqa_move-panel-btn mgPlayerJSqa_move-panel-btn-right mgPlayerJSqa_lbl-btn mgPlayerJSqa_position-center"),$e(r,"aria-label",i=a[0].labels.movePanelToRight)},m(e,t){xe(e,r,t),n||(s=De(r,"click",a[28]),n=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.movePanelToRight)&&$e(r,"aria-label",i)},d(e){e&&Le(r),n=!1,s()}}}function it(a){let r,i,n,s;return{c(){$e(r=Ee("button"),"id","mgPlayerJSqa_move-panel-btn-left"),$e(r,"class","mgPlayerJSqa_move-panel-btn mgPlayerJSqa_move-panel-btn-left mgPlayerJSqa_lbl-btn mgPlayerJSqa_position-center"),$e(r,"aria-label",i=a[0].labels.movePanelToLeft)},m(e,t){xe(e,r,t),n||(s=De(r,"click",a[27]),n=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.movePanelToLeft)&&$e(r,"aria-label",i)},d(e){e&&Le(r),n=!1,s()}}}function nt(a){let r,i,n=a[0].svgs.accessibility+"",s,l,o,c,g=a[0].labels.accessibility+"",m,d,p,u=!a[0].maintenance&&"signin"!==ce(me.activeView)&&"forgotpwd"!==ce(me.activeView)&&"chatbot"!==ce(me.activeView)&&"taskList"!==ce(me.activeView),h,y=!a[0].maintenance&&"signin"!==ce(me.activeView)&&"forgotpwd"!==ce(me.activeView),_,S=!a[0].maintenance&&"signin"!==ce(me.activeView)&&"forgotpwd"!==ce(me.activeView)&&GmCXt.isPlayer(),f,P=!a[0].maintenance&&"signin"!==ce(me.activeView)&&"forgotpwd"!==ce(me.activeView)&&!GmCXt.isLXP()&&!a[16](),C,b,q,v=a[0].svgs.close_panel+"",w,J,G,A,T=a[0].labels.closePanel+"",X,k,x,L,E=u&&st(a),M=y&&lt(a),I=S&&ot(a),D=P&&ct(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),l=Ie(),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),m=Me(g),p=Ie(),E&&E.c(),h=Ie(),M&&M.c(),_=Ie(),I&&I.c(),f=Ie(),D&&D.c(),C=Ie(),b=Ee("wmgPlayerJSqa_"),q=Ee("button"),J=Ie(),G=Ee("wmgPlayerJSqa_"),A=Ee("wmgPlayerJSqa_"),X=Me(T),$e(i,"id","mgPlayerJSqa_icon-accessibility"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_accessibility-btn mgPlayerJSqa_position-center "+(GmCXt.accessibility?"mgPlayerJSqa_accessibility-btn-active":"")),$e(i,"aria-label",s=a[0].labels.accessibility),$e(c,"class","mgPlayerJSqa_tooltip-title"),$e(o,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-center mgPlayerJSqa_margin-tb-10"),$e(r,"class",d="mgPlayerJSqa_accessibility-btn-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip "+(a[0].isMicroPlayer?"mgPlayerJSqa_header-icon-micro-wrapper":"")),$e(q,"id","mgPlayerJSqa_icon-close-app-panel"),$e(q,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_close-panel-btn mgPlayerJSqa_position-center"),$e(q,"aria-label",w=a[0].labels.closePanel),$e(q,"type","button"),$e(A,"class","mgPlayerJSqa_tooltip-title"),$e(G,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-center mgPlayerJSqa_margin-tb-10"),$e(b,"class",k="mgPlayerJSqa_header-icon mgPlayerJSqa_close-panel-btn-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip "+(a[0].isMicroPlayer?"mgPlayerJSqa_header-icon-micro-wrapper":""))},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,l),ke(r,o),ke(o,c),ke(c,m),xe(e,p,t),E&&E.m(e,t),xe(e,h,t),M&&M.m(e,t),xe(e,_,t),I&&I.m(e,t),xe(e,f,t),D&&D.m(e,t),xe(e,C,t),xe(e,b,t),ke(b,q),q.innerHTML=v,ke(b,J),ke(b,G),ke(G,A),ke(A,X),x||(L=[De(i,"click",function(){Y(a[0].setAccessibility)&&a[0].setAccessibility.apply(this,arguments)}),De(q,"click",function(){Y(a[0].closeAppPanel)&&a[0].closeAppPanel.apply(this,arguments)})],x=!0)},p(e,t){a=e,1&t[0]&&n!==(n=a[0].svgs.accessibility+"")&&(i.innerHTML=n),1&t[0]&&s!==(s=a[0].labels.accessibility)&&$e(i,"aria-label",s),1&t[0]&&g!==(g=a[0].labels.accessibility+"")&&Fe(m,g),1&t[0]&&d!==(d="mgPlayerJSqa_accessibility-btn-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip "+(a[0].isMicroPlayer?"mgPlayerJSqa_header-icon-micro-wrapper":""))&&$e(r,"class",d),(u=1&t[0]?!a[0].maintenance&&"signin"!==ce(me.activeView)&&"forgotpwd"!==ce(me.activeView)&&"chatbot"!==ce(me.activeView)&&"taskList"!==ce(me.activeView):u)?E?E.p(a,t):((E=st(a)).c(),E.m(h.parentNode,h)):E&&(E.d(1),E=null),(y=1&t[0]?!a[0].maintenance&&"signin"!==ce(me.activeView)&&"forgotpwd"!==ce(me.activeView):y)?M?M.p(a,t):((M=lt(a)).c(),M.m(_.parentNode,_)):M&&(M.d(1),M=null),(S=1&t[0]?!a[0].maintenance&&"signin"!==ce(me.activeView)&&"forgotpwd"!==ce(me.activeView)&&GmCXt.isPlayer():S)?I?I.p(a,t):((I=ot(a)).c(),I.m(f.parentNode,f)):I&&(I.d(1),I=null),(P=1&t[0]?!a[0].maintenance&&"signin"!==ce(me.activeView)&&"forgotpwd"!==ce(me.activeView)&&!GmCXt.isLXP()&&!a[16]():P)?D?D.p(a,t):((D=ct(a)).c(),D.m(C.parentNode,C)):D&&(D.d(1),D=null),1&t[0]&&v!==(v=a[0].svgs.close_panel+"")&&(q.innerHTML=v),1&t[0]&&w!==(w=a[0].labels.closePanel)&&$e(q,"aria-label",w),1&t[0]&&T!==(T=a[0].labels.closePanel+"")&&Fe(X,T),1&t[0]&&k!==(k="mgPlayerJSqa_header-icon mgPlayerJSqa_close-panel-btn-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip "+(a[0].isMicroPlayer?"mgPlayerJSqa_header-icon-micro-wrapper":""))&&$e(b,"class",k)},d(e){e&&(Le(r),Le(p),Le(h),Le(_),Le(f),Le(C),Le(b)),E&&E.d(e),M&&M.d(e),I&&I.d(e),D&&D.d(e),x=!1,Xe(L)}}}function st(a){let r,i,n=a[0].svgs.refresh+"",s,l,o,c,g=a[0].labels.refresh+"",m,d,p,u;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),l=Ie(),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),m=Me(g),$e(i,"id","mgPlayerJSqa_icon-refresh-alldata"),$e(i,"aria-label",s=a[0].labels.refresh),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_refresh-btn mgPlayerJSqa_position-center"),$e(c,"class","mgPlayerJSqa_tooltip-title"),$e(o,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-center mgPlayerJSqa_margin-tb-10"),$e(r,"class",d="mgPlayerJSqa_header-icon mgPlayerJSqa_refresh-btn-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip "+(a[0].isMicroPlayer?"mgPlayerJSqa_header-icon-micro-wrapper":""))},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,l),ke(r,o),ke(o,c),ke(c,m),p||(u=De(i,"click",a[21]),p=!0)},p(e,t){1&t[0]&&n!==(n=e[0].svgs.refresh+"")&&(i.innerHTML=n),1&t[0]&&s!==(s=e[0].labels.refresh)&&$e(i,"aria-label",s),1&t[0]&&g!==(g=e[0].labels.refresh+"")&&Fe(m,g),1&t[0]&&d!==(d="mgPlayerJSqa_header-icon mgPlayerJSqa_refresh-btn-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip "+(e[0].isMicroPlayer?"mgPlayerJSqa_header-icon-micro-wrapper":""))&&$e(r,"class",d)},d(e){e&&Le(r),p=!1,u()}}}function lt(e){let a,r,i,n=e[0].svgs.help_center+"",s,l,o,c,g=e[0].labels.helpCenter+"",m,d;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("a"),i=Ee("button"),l=Ie(),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),m=Me(g),$e(i,"id","mgPlayerJSqa_icon-help-center"),$e(i,"aria-label",s=e[0].labels.helpCenter),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_help-center-btn mgPlayerJSqa_position-center"),$e(r,"href",Mt()),$e(r,"target","_blank"),$e(r,"rel","noopener noreferrer"),$e(r,"tabindex","-1"),$e(c,"class","mgPlayerJSqa_tooltip-title"),$e(o,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-center mgPlayerJSqa_margin-tb-10"),$e(a,"class",d="mgPlayerJSqa_header-icon mgPlayerJSqa_help-center-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip "+(e[0].isMicroPlayer?"mgPlayerJSqa_header-icon-micro-wrapper":""))},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),i.innerHTML=n,ke(a,l),ke(a,o),ke(o,c),ke(c,m)},p(e,t){1&t[0]&&n!==(n=e[0].svgs.help_center+"")&&(i.innerHTML=n),1&t[0]&&s!==(s=e[0].labels.helpCenter)&&$e(i,"aria-label",s),1&t[0]&&g!==(g=e[0].labels.helpCenter+"")&&Fe(m,g),1&t[0]&&d!==(d="mgPlayerJSqa_header-icon mgPlayerJSqa_help-center-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip "+(e[0].isMicroPlayer?"mgPlayerJSqa_header-icon-micro-wrapper":""))&&$e(a,"class",d)},d(e){e&&Le(a)}}}function ot(a){let r,i,n=a[0].svgs.bell+"",s,l,o,c,g=a[0].labels.pushNotification+"",m,d,p,u;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),l=Ie(),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),m=Me(g),$e(i,"id","mgPlayerJSqa_icon-show-push-notif-dropdown"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_bell-btn mgPlayerJSqa_position-center"),$e(i,"aria-label",s=a[0].labels.pushNotification),$e(c,"class","mgPlayerJSqa_tooltip-title"),$e(o,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-center mgPlayerJSqa_margin-tb-10"),$e(r,"class",d="mgPlayerJSqa_header-icon mgPlayerJSqa_bell-btn-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip "+(a[0].isMicroPlayer?"mgPlayerJSqa_header-icon-micro-wrapper":""))},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,l),ke(r,o),ke(o,c),ke(c,m),p||(u=De(i,"click",a[14]),p=!0)},p(e,t){1&t[0]&&n!==(n=e[0].svgs.bell+"")&&(i.innerHTML=n),1&t[0]&&s!==(s=e[0].labels.pushNotification)&&$e(i,"aria-label",s),1&t[0]&&g!==(g=e[0].labels.pushNotification+"")&&Fe(m,g),1&t[0]&&d!==(d="mgPlayerJSqa_header-icon mgPlayerJSqa_bell-btn-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip "+(e[0].isMicroPlayer?"mgPlayerJSqa_header-icon-micro-wrapper":""))&&$e(r,"class",d)},d(e){e&&Le(r),p=!1,u()}}}function ct(a){let r,i,n=a[0].svgs.navbar+"",s,l,o,c,g=a[0].labels.navigationMenu+"",m,d,p,u;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),l=Ie(),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),m=Me(g),$e(i,"id","mgPlayerJSqa_icon-open-navbar"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_navigation-btn mgPlayerJSqa_position-center"),$e(i,"aria-label",s=a[0].labels.navigationMenu),$e(c,"class","mgPlayerJSqa_tooltip-title"),$e(o,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-center mgPlayerJSqa_margin-tb-10"),$e(r,"class",d="mgPlayerJSqa_header-icon mgPlayerJSqa_navigation-btn-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip "+(a[0].isMicroPlayer?"mgPlayerJSqa_header-icon-micro-wrapper":""))},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,l),ke(r,o),ke(o,c),ke(c,m),p||(u=De(i,"click",a[12]),p=!0)},p(e,t){1&t[0]&&n!==(n=e[0].svgs.navbar+"")&&(i.innerHTML=n),1&t[0]&&s!==(s=e[0].labels.navigationMenu)&&$e(i,"aria-label",s),1&t[0]&&g!==(g=e[0].labels.navigationMenu+"")&&Fe(m,g),1&t[0]&&d!==(d="mgPlayerJSqa_header-icon mgPlayerJSqa_navigation-btn-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer mgPlayerJSqa_show-text-tooltip "+(e[0].isMicroPlayer?"mgPlayerJSqa_header-icon-micro-wrapper":""))&&$e(r,"class",d)},d(e){e&&Le(r),p=!1,u()}}}function gt(a){let r,i,n=a[0].svgs.navBar+"",$,s,l,o=0<=a[1]?.image_url?.indexOf("guest_icon")||-1==a[1]?.image_url?.indexOf("png"),c,g=-1==a[1]?.image_url?.indexOf("guest_icon")&&0<=a[1]?.image_url?.indexOf("png"),F,m,d=-1==a[1]?.user_email?.indexOf("anonymous"),p,u,h,y=a[1]?.role?.replace("_"," ").replace(/\b\w/g,It)+"",_,O,S,R=!GmCXt.isPlayer(),H,f,N=!GmCXt.isPlayer(),B,P,C,b=a[0].showLogoutBtn(),q,v,w,J=a[0].labels.versionText+"",G,V,e=GmCXt.conf.version+"",z,A,T,U,X=o&&mt(a),k=g&&dt(a),x=d&&pt(a),L=R&&function(e){let a,r,i,n,s=e[0].svgs.manageAccount+"",l,o,c=e[0].labels.account+"",g,m,d=e[0].guideSegmentation&&e[0].isOwner()&&!e[0].isWestpac&&!e[0].hideMirrorAppCtrl(),p,u=e[0].isOwnerOrAppAdmin()&&!e[0].hideMirrorAppCtrl(),h,y=d&&yt(e),_=u&&_t(e),S=!GmCXt.FT.smbApp&&function(a){let r,i,n=a[0].labels.changePassword+"",s,l,o,c;return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),s=Me(n),$e(i,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm"),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_setting-item mgPlayerJSqa_cursor-pointer"),$e(r,"aria-label",l=a[0].labels.changePassword)},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),o||(c=De(r,"click",a[30]),o=!0)},p(e,t){1&t[0]&&n!==(n=e[0].labels.changePassword+"")&&Fe(s,n),1&t[0]&&l!==(l=e[0].labels.changePassword)&&$e(r,"aria-label",l)},d(e){e&&Le(r),o=!1,c()}}}(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),l=Ie(),o=Ee("wmgPlayerJSqa_"),g=Me(c),m=Ie(),y&&y.c(),p=Ie(),_&&_.c(),h=Ie(),S&&S.c(),$e(n,"class","mgPlayerJSqa_settings-section-header-icon"),$e(o,"class","mgPlayerJSqa_h4 mgPlayerJSqa_settings-section-header-title mgPlayerJSqa_no-margin"),$e(o,"tabindex","0"),$e(i,"class","mgPlayerJSqa_settings-section-header"),$e(r,"class","mgPlayerJSqa_manage-settings-wrapper mgPlayerJSqa_width-100"),$e(a,"class","mgPlayerJSqa_settings-outer-wrapper")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),ke(i,n),n.innerHTML=s,ke(i,l),ke(i,o),ke(o,g),ke(r,m),y&&y.m(r,null),ke(r,p),_&&_.m(r,null),ke(r,h),S&&S.m(r,null)},p(e,t){1&t[0]&&s!==(s=e[0].svgs.manageAccount+"")&&(n.innerHTML=s),1&t[0]&&c!==(c=e[0].labels.account+"")&&Fe(g,c),(d=1&t[0]?e[0].guideSegmentation&&e[0].isOwner()&&!e[0].isWestpac&&!e[0].hideMirrorAppCtrl():d)?y?y.p(e,t):((y=yt(e)).c(),y.m(r,p)):y&&(y.d(1),y=null),(u=1&t[0]?e[0].isOwnerOrAppAdmin()&&!e[0].hideMirrorAppCtrl():u)?_?_.p(e,t):((_=_t(e)).c(),_.m(r,h)):_&&(_.d(1),_=null),GmCXt.FT.smbApp||S.p(e,t)},d(e){e&&Le(a),y&&y.d(),_&&_.d(),S&&S.d()}}}(a),E=!a[0].maintenance&&St(a),M=N&&function(e){let a,r,i,n=e[0].svgs.iconMore+"",s,l,o=e[0].labels.more+"",c,g,m,d=e[0].hasCreatorAccess()&&GmCXt.FT.manageAccount&&!e[0].isCreator(),p,u=e[0].hasCreatorAccess()&&!e[0].isCreator(),h,y=(e[0].isOwnerOrAppAdmin()||e[0].isCreator())&&!GmCXt.FT.smbApp,_,S=e[0].hasCreatorAccess()&&!e[0].isCreator(),f=GmCXt.FT.taskStatus&&function(a){let r,i,n=a[0].labels.taskStatus+"",s,l,o,c=a[0].svgs.externalLink+"",g,m,d;return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),s=Me(n),l=Ie(),o=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm"),$e(o,"class","mgPlayerJSqa_item-icon mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(r,"id","mgPlayerJSqa_label-task-status"),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_setting-item mgPlayerJSqa_cursor-pointer"),$e(r,"aria-label",g=a[0].labels.taskStatus)},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),ke(r,l),ke(r,o),o.innerHTML=c,m||(d=De(r,"click",a[39]),m=!0)},p(e,t){1&t[0]&&n!==(n=e[0].labels.taskStatus+"")&&Fe(s,n),1&t[0]&&c!==(c=e[0].svgs.externalLink+"")&&(o.innerHTML=c),1&t[0]&&g!==(g=e[0].labels.taskStatus)&&$e(r,"aria-label",g)},d(e){e&&Le(r),m=!1,d()}}}(e),P=d&&At(e),C=u&&Tt(e),b=y&&Xt(e),q=S&&kt(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),c=Me(o),g=Ie(),f&&f.c(),m=Ie(),P&&P.c(),p=Ie(),C&&C.c(),h=Ie(),b&&b.c(),_=Ie(),q&&q.c(),$e(i,"class","mgPlayerJSqa_settings-section-header-icon"),$e(l,"class","mgPlayerJSqa_h4 mgPlayerJSqa_settings-section-header-title mgPlayerJSqa_no-margin"),$e(l,"tabindex","0"),$e(r,"class","mgPlayerJSqa_settings-section-header"),$e(a,"class","mgPlayerJSqa_manage-settings-wrapper mgPlayerJSqa_width-100")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,c),ke(a,g),f&&f.m(a,null),ke(a,m),P&&P.m(a,null),ke(a,p),C&&C.m(a,null),ke(a,h),b&&b.m(a,null),ke(a,_),q&&q.m(a,null)},p(e,t){1&t[0]&&n!==(n=e[0].svgs.iconMore+"")&&(i.innerHTML=n),1&t[0]&&o!==(o=e[0].labels.more+"")&&Fe(c,o),GmCXt.FT.taskStatus&&f.p(e,t),(d=1&t[0]?e[0].hasCreatorAccess()&&GmCXt.FT.manageAccount&&!e[0].isCreator():d)?P?P.p(e,t):((P=At(e)).c(),P.m(a,p)):P&&(P.d(1),P=null),(u=1&t[0]?e[0].hasCreatorAccess()&&!e[0].isCreator():u)?C?C.p(e,t):((C=Tt(e)).c(),C.m(a,h)):C&&(C.d(1),C=null),(y=1&t[0]?(e[0].isOwnerOrAppAdmin()||e[0].isCreator())&&!GmCXt.FT.smbApp:y)?b?b.p(e,t):((b=Xt(e)).c(),b.m(a,_)):b&&(b.d(1),b=null),(S=1&t[0]?e[0].hasCreatorAccess()&&!e[0].isCreator():S)?q?q.p(e,t):((q=kt(e)).c(),q.m(a,null)):q&&(q.d(1),q=null)},d(e){e&&Le(a),f&&f.d(),P&&P.d(),C&&C.d(),b&&b.d(),q&&q.d()}}}(a),I=a[0].jsonEditor&&xt(a),D=b&&Lt(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),$=Ie(),s=Ee("wmgPlayerJSqa_"),l=Ee("wmgPlayerJSqa_"),X&&X.c(),c=Ie(),k&&k.c(),F=Ie(),m=Ee("wmgPlayerJSqa_"),x&&x.c(),p=Ie(),u=Ee("wmgPlayerJSqa_"),h=Ee("wmgPlayerJSqa_"),_=Me(y),O=Ie(),S=Ee("wmgPlayerJSqa_"),L&&L.c(),H=Ie(),E&&E.c(),f=Ie(),M&&M.c(),B=Ie(),I&&I.c(),P=Ie(),C=Ee("wmgPlayerJSqa_"),D&&D.c(),q=Ie(),v=Ee("wmgPlayerJSqa_"),w=Ee("wmgPlayerJSqa_"),G=Me(J),V=Ie(),z=Me(e),$e(i,"id","mgPlayerJSqa_icon-close-navbar"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_navbar-close mgPlayerJSqa_inline-block-vm mgPlayerJSqa_cursor-pointer"),$e(i,"aria-label","Close NavBar"),$e(l,"class","mgPlayerJSqa_profile-picture mgPlayerJSqa_position-relative mgPlayerJSqa_border-radius-50 mgPlayerJSqa_inline-block-vm"),$e(h,"class","mgPlayerJSqa_user-role mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-capitalize mgPlayerJSqa_float-left mgPlayerJSqa_text-overflow-ellipsis"),$e(h,"tabindex","0"),$e(u,"class","mgPlayerJSqa_user-role-wrapper mgPlayerJSqa_margin-tb-5"),$e(m,"class","mgPlayerJSqa_user-info-wrapper mgPlayerJSqa_inline-block-vm"),$e(s,"class","mgPlayerJSqa_manage-user-profile-wrapper mgPlayerJSqa_width-100 mgPlayerJSqa_primary-color mgPlayerJSqa_border-color"),$e(w,"class","mgPlayerJSqa_version-text mgPlayerJSqa_text-color-light"),$e(w,"tabindex","0"),$e(v,"class","mgPlayerJSqa_product-details-wrapper"),$e(C,"class","mgPlayerJSqa_manage-settings-wrapper mgPlayerJSqa_logout-wrapper mgPlayerJSqa_width-100"),$e(S,"class","mgPlayerJSqa_player-nav-menu mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y"),$e(r,"id","mgPlayerJSqa_side-navbar-container"),$e(r,"class","mgPlayerJSqa_side-navbar-container"),$e(r,"role","region"),$e(r,"aria-label","Menu")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,$),ke(r,s),ke(s,l),X&&X.m(l,null),ke(l,c),k&&k.m(l,null),ke(s,F),ke(s,m),x&&x.m(m,null),ke(m,p),ke(m,u),ke(u,h),ke(h,_),ke(r,O),ke(r,S),L&&L.m(S,null),ke(S,H),E&&E.m(S,null),ke(S,f),M&&M.m(S,null),ke(S,B),I&&I.m(S,null),ke(S,P),ke(S,C),D&&D.m(C,null),ke(C,q),ke(C,v),ke(v,w),ke(w,G),ke(w,V),ke(w,z),A=!0,T||(U=De(i,"click",a[12]),T=!0)},p(e,t){(!A||1&t[0])&&n!==(n=e[0].svgs.navBar+"")&&(i.innerHTML=n),(o=2&t[0]?0<=e[1]?.image_url?.indexOf("guest_icon")||-1==e[1]?.image_url?.indexOf("png"):o)?X?X.p(e,t):((X=mt(e)).c(),X.m(l,c)):X&&(X.d(1),X=null),(g=2&t[0]?-1==e[1]?.image_url?.indexOf("guest_icon")&&0<=e[1]?.image_url?.indexOf("png"):g)?k?k.p(e,t):((k=dt(e)).c(),k.m(l,null)):k&&(k.d(1),k=null),(d=2&t[0]?-1==e[1]?.user_email?.indexOf("anonymous"):d)?x?x.p(e,t):((x=pt(e)).c(),x.m(m,p)):x&&(x.d(1),x=null),(!A||2&t[0])&&y!==(y=e[1]?.role?.replace("_"," ").replace(/\b\w/g,It)+"")&&Fe(_,y),R&&L.p(e,t),e[0].maintenance?E&&(Re(),Be(E,1,1,()=>{E=null}),He()):E?(E.p(e,t),1&t[0]&&Ne(E,1)):((E=St(e)).c(),Ne(E,1),E.m(S,f)),N&&M.p(e,t),e[0].jsonEditor?I?I.p(e,t):((I=xt(e)).c(),I.m(S,P)):I&&(I.d(1),I=null),(b=1&t[0]?e[0].showLogoutBtn():b)?D?D.p(e,t):((D=Lt(e)).c(),D.m(C,q)):D&&(D.d(1),D=null),(!A||1&t[0])&&J!==(J=e[0].labels.versionText+"")&&Fe(G,J)},i(e){A||(Ne(E),A=!0)},o(e){Be(E),A=!1},d(e){e&&Le(r),X&&X.d(),k&&k.d(),x&&x.d(),L&&L.d(),E&&E.d(),M&&M.d(),I&&I.d(),D&&D.d(),T=!1,U()}}}function mt(e){let a,t,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_position-center mgPlayerJSqa_border-radius-50"),Q(a.src,t=GmCXt.conf.staticContentPath+"user_admin.png")||$e(a,"src",t),$e(a,"alt",r=e[1].first_name)},m(e,t){xe(e,a,t)},p(e,t){2&t[0]&&r!==(r=e[1].first_name)&&$e(a,"alt",r)},d(e){e&&Le(a)}}}function dt(e){let a,r,i;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_position-center mgPlayerJSqa_custom-image mgPlayerJSqa_border-radius-50"),Q(a.src,r=e[1].image_url+GmCXt.getCdnSign())||$e(a,"src",r),$e(a,"alt",i=e[1].first_name),$e(a,"tabindex","0")},m(e,t){xe(e,a,t)},p(e,t){2&t[0]&&!Q(a.src,r=e[1].image_url+GmCXt.getCdnSign())&&$e(a,"src",r),2&t[0]&&i!==(i=e[1].first_name)&&$e(a,"alt",i)},d(e){e&&Le(a)}}}function pt(e){let a;function r(e){return 15<(e[1].first_name+e[1].last_name).length?ht:ut}let i=r(e),n=i(e);return{c(){a=Ee("wmgPlayerJSqa_"),n.c(),$e(a,"class","mgPlayerJSqa_user-name mgPlayerJSqa_text-capitalize mgPlayerJSqa_theme-color mgPlayerJSqa_font-size-16 mgPlayerJSqa_line-clamp mgPlayerJSqa_line-clamp-1"),$e(a,"tabindex","0")},m(e,t){xe(e,a,t),n.m(a,null)},p(e,t){i===(i=r(e))&&n?n.p(e,t):(n.d(1),(n=i(e))&&(n.c(),n.m(a,null)))},d(e){e&&Le(a),n.d()}}}function ut(e){let a=e[1].first_name+"",r,i,n=e[1].last_name+"",s;return{c(){r=Me(a),i=Me("Â "),s=Me(n)},m(e,t){xe(e,r,t),xe(e,i,t),xe(e,s,t)},p(e,t){2&t[0]&&a!==(a=e[1].first_name+"")&&Fe(r,a),2&t[0]&&n!==(n=e[1].last_name+"")&&Fe(s,n)},d(e){e&&(Le(r),Le(i),Le(s))}}}function ht(e){let a=e[1].first_name+"",r,i,n=e[1].last_name+"",s,l,o,c,g=e[1].first_name+"",m,d,p=e[1].last_name+"",u;return{c(){r=Me(a),i=Me("Â "),s=Me(n),l=Me("...\n\n\t\t\t\t\t\t\t"),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),m=Me(g),d=Me("Â "),u=Me(p),$e(c,"class","mgPlayerJSqa_tooltip-title"),$e(o,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-center mgPlayerJSqa_margin-tb-10")},m(e,t){xe(e,r,t),xe(e,i,t),xe(e,s,t),xe(e,l,t),xe(e,o,t),ke(o,c),ke(c,m),ke(c,d),ke(c,u)},p(e,t){2&t[0]&&a!==(a=e[1].first_name+"")&&Fe(r,a),2&t[0]&&n!==(n=e[1].last_name+"")&&Fe(s,n),2&t[0]&&g!==(g=e[1].first_name+"")&&Fe(m,g),2&t[0]&&p!==(p=e[1].last_name+"")&&Fe(u,p)},d(e){e&&(Le(r),Le(i),Le(s),Le(l),Le(o))}}}function yt(a){let r,i,n=a[0].labels.manageSegments+"",s,l,o,c=a[0].svgs.externalLink+"",g,m,d;return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),s=Me(n),l=Ie(),o=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm"),$e(o,"class","mgPlayerJSqa_item-icon mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(r,"id","mgPlayerJSqa_icon-change-pass"),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_setting-item mgPlayerJSqa_cursor-pointer"),$e(r,"aria-label",g=a[0].labels.manageSegments)},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),ke(r,l),ke(r,o),o.innerHTML=c,m||(d=De(r,"click",function(){Y(a[0].openManageSegments)&&a[0].openManageSegments.apply(this,arguments)}),m=!0)},p(e,t){a=e,1&t[0]&&n!==(n=a[0].labels.manageSegments+"")&&Fe(s,n),1&t[0]&&c!==(c=a[0].svgs.externalLink+"")&&(o.innerHTML=c),1&t[0]&&g!==(g=a[0].labels.manageSegments)&&$e(r,"aria-label",g)},d(e){e&&Le(r),m=!1,d()}}}function _t(a){let r,i,n=a[0].labels.manageSurvey+"",s,l,o,c=a[0].svgs.externalLink+"",g,m,d,p,u=a[0].labels.manageKeywords+"",h,y,_,S=a[0].svgs.externalLink+"",f,P,C,b,q=a[0].labels.findAndReplace+"",v,w,J,G;return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),s=Me(n),l=Ie(),o=Ee("wmgPlayerJSqa_"),m=Ie(),d=Ee("button"),p=Ee("wmgPlayerJSqa_"),h=Me(u),y=Ie(),_=Ee("wmgPlayerJSqa_"),P=Ie(),C=Ee("button"),b=Ee("wmgPlayerJSqa_"),v=Me(q),$e(i,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm"),$e(o,"class","mgPlayerJSqa_item-icon mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(r,"id","mgPlayerJSqa_icon-change-pass"),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_setting-item mgPlayerJSqa_cursor-pointer"),$e(r,"aria-label",g=a[0].labels.manageSurvey),$e(p,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm"),$e(_,"class","mgPlayerJSqa_item-icon mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(d,"id","mgPlayerJSqa_icon-change-pass"),$e(d,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_setting-item mgPlayerJSqa_cursor-pointer"),$e(d,"aria-label",f=a[0].labels.manageKeywords),$e(b,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm"),$e(C,"id","mgPlayerJSqa_icon-find-n-replace"),$e(C,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_setting-item mgPlayerJSqa_cursor-pointer"),$e(C,"aria-label",w=a[0].labels.findAndReplace)},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),ke(r,l),ke(r,o),o.innerHTML=c,xe(e,m,t),xe(e,d,t),ke(d,p),ke(p,h),ke(d,y),ke(d,_),_.innerHTML=S,xe(e,P,t),xe(e,C,t),ke(C,b),ke(b,v),J||(G=[De(r,"click",function(){Y(a[0].openSurveyAnalyticsPortal)&&a[0].openSurveyAnalyticsPortal.apply(this,arguments)}),De(d,"click",function(){Y(a[0].openManageKeywords)&&a[0].openManageKeywords.apply(this,arguments)}),De(C,"click",a[29])],J=!0)},p(e,t){a=e,1&t[0]&&n!==(n=a[0].labels.manageSurvey+"")&&Fe(s,n),1&t[0]&&c!==(c=a[0].svgs.externalLink+"")&&(o.innerHTML=c),1&t[0]&&g!==(g=a[0].labels.manageSurvey)&&$e(r,"aria-label",g),1&t[0]&&u!==(u=a[0].labels.manageKeywords+"")&&Fe(h,u),1&t[0]&&S!==(S=a[0].svgs.externalLink+"")&&(_.innerHTML=S),1&t[0]&&f!==(f=a[0].labels.manageKeywords)&&$e(d,"aria-label",f),1&t[0]&&q!==(q=a[0].labels.findAndReplace+"")&&Fe(v,q),1&t[0]&&w!==(w=a[0].labels.findAndReplace)&&$e(C,"aria-label",w)},d(e){e&&(Le(r),Le(m),Le(d),Le(P),Le(C)),J=!1,Xe(G)}}}function St(e){let a,r,i,n=e[0].svgs.settings+"",s,l,o=e[0].labels.userPref+"",c,g,m=e[15](),d,p,u,h=e[23](),y,_,S=m&&function(a){let r,i,e=a[0].labels.selectLanguage+"",n,s,l,o,c,g=a[0].selectedLanguage+"",m,d,p,u=a[0].svgs.langExpand+"",h,y,_,S,f,P,C,b=a[0].browserLang+"",q,v,w,J=a[0].selectLanguage(),G,A,T,X,k,x=J&&ft(a),L=I(a[0].languages),E=[];for(let e=0;e<L.length;e+=1)E[e]=bt(Ke(a,L,e));return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Me(e),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Ee("button"),c=Ee("wmgPlayerJSqa_"),m=Me(g),d=Ie(),p=Ee("wmgPlayerJSqa_"),_=Ie(),S=Ee("wmgPlayerJSqa_"),f=Ee("button"),P=Ee("wmgPlayerJSqa_"),C=Me("Browser Default ("),q=Me(b),v=Me(")"),w=Ie(),x&&x.c(),T=Ie();for(let e=0;e<E.length;e+=1)E[e].c();$e(i,"class","mgPlayerJSqa_manage-setting-label"),$e(c,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-overflow-ellipsis"),$e(p,"class",h="mgPlayerJSqa_dropdown-collapse-expand mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm "+a[9]),$e(o,"id","mgPlayerJSqa_label-navbar-lang-selection"),$e(o,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_setting-item mgPlayerJSqa_dropdown-item mgPlayerJSqa_cursor-pointer mgPlayerJSqa_lang-selection"),$e(o,"aria-label",y=a[0].selectedLanguage),$e(P,"class","mgPlayerJSqa_lang-name mgPlayerJSqa_inline-block-vm mgPlayerJSqa_font-size-14"),$e(f,"id","mgPlayerJSqa_label-navbar-lang-dropdown"),$e(f,"class",G="mgPlayerJSqa_lbl-btn mgPlayerJSqa_lang-item mgPlayerJSqa_cursor-pointer lang-active mgPlayerJSqa_width-100 "+a[10]),$e(f,"aria-label",A="Browser Default ("+a[0].browserLang+")"),$e(S,"class","mgPlayerJSqa_lang-dropdown-wrapper mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y mgPlayerJSqa_z-index mgPlayerJSqa_z-index-max"),$e(l,"class","mgPlayerJSqa_position-relative"),$e(r,"class","mgPlayerJSqa_manage-lang-setting-wrapper mgPlayerJSqa_margin-tb-10")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(r,s),ke(r,l),ke(l,o),ke(o,c),ke(c,m),ke(o,d),ke(o,p),p.innerHTML=u,ke(l,_),ke(l,S),ke(S,f),ke(f,P),ke(P,C),ke(P,q),ke(P,v),ke(f,w),x&&x.m(f,null),ke(S,T);for(let e=0;e<E.length;e+=1)E[e]&&E[e].m(S,null);X||(k=[De(o,"click",a[17]),De(f,"click",a[31])],X=!0)},p(t,a){if(1&a[0]&&e!==(e=t[0].labels.selectLanguage+"")&&Fe(n,e),1&a[0]&&g!==(g=t[0].selectedLanguage+"")&&Fe(m,g),1&a[0]&&u!==(u=t[0].svgs.langExpand+"")&&(p.innerHTML=u),512&a[0]&&h!==(h="mgPlayerJSqa_dropdown-collapse-expand mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm "+t[9])&&$e(p,"class",h),1&a[0]&&y!==(y=t[0].selectedLanguage)&&$e(o,"aria-label",y),1&a[0]&&b!==(b=t[0].browserLang+"")&&Fe(q,b),(J=1&a[0]?t[0].selectLanguage():J)?x?x.p(t,a):((x=ft(t)).c(),x.m(f,null)):x&&(x.d(1),x=null),1024&a[0]&&G!==(G="mgPlayerJSqa_lbl-btn mgPlayerJSqa_lang-item mgPlayerJSqa_cursor-pointer lang-active mgPlayerJSqa_width-100 "+t[10])&&$e(f,"class",G),1&a[0]&&A!==(A="Browser Default ("+t[0].browserLang+")")&&$e(f,"aria-label",A),524289&a[0]){L=I(t[0].languages);let e;for(e=0;e<L.length;e+=1){var r=Ke(t,L,e);E[e]?E[e].p(r,a):(E[e]=bt(r),E[e].c(),E[e].m(S,null))}for(;e<E.length;e+=1)E[e].d(1);E.length=L.length}},d(e){e&&Le(r),x&&x.d(),$(E,e),X=!1,Xe(k)}}}(e),f=GmCXt.FT.isPlayer&&e[6]&&qt(e),P=(GmCXt.FT.creatorApp||e[0].playerMode)&&Jt(e),C=h&&function(t){let a,r,i,n=t[0].labels.guideSegmentation+"",s,l,o,c,g,m,d,p,u;function e(e){t[38](e)}var h={placeholder:t[0].labels.selectSegment,autoComplete:t[36],autoCompleteKey:"title",onlyAutocomplete:!0,onlyUnique:!0,onTagChange:t[37]};void 0!==t[7]&&(h.tags=t[7]);m=new Ze({props:h}),ue.push(()=>U(m,"tags",e));let y=t[0].allSegments&&0==t[0].allSegments?.length&&!t[0].isWestpacCreator&&Gt(t);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Me(n),l=Ie(),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),g=Ee("wmgPlayerJSqa_"),Ve(m.$$.fragment),p=Ie(),y&&y.c(),$e(i,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_player-mode-setting mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-overflow-ellipsis mgPlayerJSqa_font-size-13 mgPlayerJSqa_font-weight-600"),$e(i,"tabindex","0"),$e(r,"class","mgPlayerJSqa_setting-item mgPlayerJSqa_no-hover-effect"),$e(c,"id","segmentation"),$e(c,"class","mgPlayerJSqa_tour-setting-items-details"),$e(o,"class","mgPlayerJSqa_display-block mgPlayerJSqa_setting-item mgPlayerJSqa_no-hover-effect mgPlayerJSqa_show-segment-selector"),$e(a,"class","mgPlayerJSqa_segment-selector-wrapper")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),ke(i,s),ke(a,l),ke(a,o),ke(o,c),ke(c,g),ze(m,g,null),ke(c,p),y&&y.m(c,null),u=!0},p(e,t){(!u||1&t[0])&&n!==(n=e[0].labels.guideSegmentation+"")&&Fe(s,n);var a={};1&t[0]&&(a.placeholder=e[0].labels.selectSegment),1&t[0]&&(a.autoComplete=e[36]),!d&&128&t[0]&&(d=!0,a.tags=e[7],z(()=>d=!1)),m.$set(a),e[0].allSegments&&0==e[0].allSegments?.length&&!e[0].isWestpacCreator?y?y.p(e,t):((y=Gt(e)).c(),y.m(c,null)):y&&(y.d(1),y=null)},i(e){u||(Ne(m.$$.fragment,e),u=!0)},o(e){Be(m.$$.fragment,e),u=!1},d(e){e&&Le(a),Ue(m),y&&y.d()}}}(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),c=Me(o),g=Ie(),S&&S.c(),d=Ie(),f&&f.c(),p=Ie(),P&&P.c(),u=Ie(),C&&C.c(),y=M(),$e(i,"class","mgPlayerJSqa_settings-section-header-icon mgPlayerJSqa_settings-icon"),$e(l,"class","mgPlayerJSqa_h4 mgPlayerJSqa_settings-section-header-title mgPlayerJSqa_no-margin"),$e(l,"tabindex","0"),$e(r,"class","mgPlayerJSqa_settings-section-header"),$e(a,"class","mgPlayerJSqa_manage-settings-wrapper mgPlayerJSqa_width-100")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,c),ke(a,g),S&&S.m(a,null),ke(a,d),f&&f.m(a,null),ke(a,p),P&&P.m(a,null),xe(e,u,t),C&&C.m(e,t),xe(e,y,t),_=!0},p(e,t){(!_||1&t[0])&&n!==(n=e[0].svgs.settings+"")&&(i.innerHTML=n),(!_||1&t[0])&&o!==(o=e[0].labels.userPref+"")&&Fe(c,o),m&&S.p(e,t),GmCXt.FT.isPlayer&&e[6]?f?f.p(e,t):((f=qt(e)).c(),f.m(a,p)):f&&(f.d(1),f=null),GmCXt.FT.creatorApp||e[0].playerMode?P?P.p(e,t):((P=Jt(e)).c(),P.m(a,null)):P&&(P.d(1),P=null),h&&C.p(e,t)},i(e){_||(Ne(C),_=!0)},o(e){Be(C),_=!1},d(e){e&&(Le(a),Le(u),Le(y)),S&&S.d(),f&&f.d(),P&&P.d(),C&&C.d(e)}}}function ft(e){let a,r=e[0].svgs.langSelect+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_lang-select mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm")},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t[0]&&r!==(r=e[0].svgs.langSelect+"")&&(a.innerHTML=r)},d(e){e&&Le(a)}}}function Pt(a){let r,i,n=a[70].name+"",s,l,o,c,g,m,d,p=a[0].selectedLanguage==a[70].name&&GmCXt.userPrefLang&&Ct(a);return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),s=Me(n),l=Ie(),p&&p.c(),o=Ie(),$e(i,"class","mgPlayerJSqa_lang-name mgPlayerJSqa_inline-block-vm"),$e(r,"id","mgPlayerJSqa_label-change-lang"),$e(r,"class",c="mgPlayerJSqa_lbl-btn mgPlayerJSqa_lang-item mgPlayerJSqa_cursor-pointer lang-active "+(a[0].selectedLanguage==a[70].name&&GmCXt.userPrefLang?"mgPlayerJSqa_lang-selected":"")),$e(r,"aria-label",g=a[70].name)},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),ke(r,l),p&&p.m(r,null),ke(r,o),m||(d=De(r,"click",function(){Y(a[19](a[70]))&&a[19](a[70]).apply(this,arguments)}),m=!0)},p(e,t){a=e,1&t[0]&&n!==(n=a[70].name+"")&&Fe(s,n),a[0].selectedLanguage==a[70].name&&GmCXt.userPrefLang?p?p.p(a,t):((p=Ct(a)).c(),p.m(r,o)):p&&(p.d(1),p=null),1&t[0]&&c!==(c="mgPlayerJSqa_lbl-btn mgPlayerJSqa_lang-item mgPlayerJSqa_cursor-pointer lang-active "+(a[0].selectedLanguage==a[70].name&&GmCXt.userPrefLang?"mgPlayerJSqa_lang-selected":""))&&$e(r,"class",c),1&t[0]&&g!==(g=a[70].name)&&$e(r,"aria-label",g)},d(e){e&&Le(r),p&&p.d(),m=!1,d()}}}function Ct(e){let a,r=e[0].svgs.langSelect+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_lang-select mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm mgPlayerJSqa_margin-lr-10")},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t[0]&&r!==(r=e[0].svgs.langSelect+"")&&(a.innerHTML=r)},d(e){e&&Le(a)}}}function bt(e){let a,r=0!=e[70].language.length&&Pt(e);return{c(){r&&r.c(),a=M()},m(e,t){r&&r.m(e,t),xe(e,a,t)},p(e,t){0!=e[70].language.length?r?r.p(e,t):((r=Pt(e)).c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null)},d(e){e&&Le(a),r&&r.d(e)}}}function qt(a){let r,i,e=a[0].labels.displayGuidesFrom+"",n,s,l,o,c,g=(!0===a[0].showGuidesFromDesktopApp?a[0].labels.desktop:a[0].labels.web)+"",m,d,p,u=a[0].svgs.langExpand+"",h,y,_,S,f,P,C=I(a[11]),b=[];for(let e=0;e<C.length;e+=1)b[e]=wt(Ye(a,C,e));return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Me(e),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Ee("button"),c=Ee("wmgPlayerJSqa_"),m=Me(g),d=Ie(),p=Ee("wmgPlayerJSqa_"),_=Ie(),S=Ee("wmgPlayerJSqa_");for(let e=0;e<b.length;e+=1)b[e].c();$e(i,"class","mgPlayerJSqa_manage-setting-label"),$e(c,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-overflow-ellipsis"),$e(p,"class",h="mgPlayerJSqa_dropdown-collapse-expand mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm "+(a[8]?"mgPlayerJSqa_rotate-180":"")),$e(o,"id","mgPlayerJSqa_label-app-selection"),$e(o,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_setting-item mgPlayerJSqa_dropdown-item mgPlayerJSqa_cursor-pointer mgPlayerJSqa_lang-selection"),$e(o,"aria-label",y=!0===a[0].showGuidesFromDesktopApp?a[0].labels.desktop:a[0].labels.web),$e(S,"class","mgPlayerJSqa_app-filter-dropdown-wrapper mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y mgPlayerJSqa_z-index mgPlayerJSqa_z-index-max mgPlayerJSqa_width-100"),$e(l,"class","mgPlayerJSqa_position-relative"),$e(r,"class","mgPlayerJSqa_manage-lang-setting-wrapper mgPlayerJSqa_padding-tb-10")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(r,s),ke(r,l),ke(l,o),ke(o,c),ke(c,m),ke(o,d),ke(o,p),p.innerHTML=u,ke(l,_),ke(l,S);for(let e=0;e<b.length;e+=1)b[e]&&b[e].m(S,null);f||(P=De(o,"click",a[18]),f=!0)},p(t,a){if(1&a[0]&&e!==(e=t[0].labels.displayGuidesFrom+"")&&Fe(n,e),1&a[0]&&g!==(g=(!0===t[0].showGuidesFromDesktopApp?t[0].labels.desktop:t[0].labels.web)+"")&&Fe(m,g),1&a[0]&&u!==(u=t[0].svgs.langExpand+"")&&(p.innerHTML=u),256&a[0]&&h!==(h="mgPlayerJSqa_dropdown-collapse-expand mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm "+(t[8]?"mgPlayerJSqa_rotate-180":""))&&$e(p,"class",h),1&a[0]&&y!==(y=!0===t[0].showGuidesFromDesktopApp?t[0].labels.desktop:t[0].labels.web)&&$e(o,"aria-label",y),6145&a[0]){C=I(t[11]);let e;for(e=0;e<C.length;e+=1){var r=Ye(t,C,e);b[e]?b[e].p(r,a):(b[e]=wt(r),b[e].c(),b[e].m(S,null))}for(;e<b.length;e+=1)b[e].d(1);b.length=C.length}},d(e){e&&Le(r),$(b,e),f=!1,P()}}}function vt(e){let a,r=e[0].svgs.langSelect+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_lang-select mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm")},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t[0]&&r!==(r=e[0].svgs.langSelect+"")&&(a.innerHTML=r)},d(e){e&&Le(a)}}}function wt(e){let a,r=0!=e[67].name.length&&function(a){let r,i,n,s,l,o,c,g=a[0].showGuidesFromDesktopApp==a[67].value&&vt(a);function m(){return a[32](a[67])}return{c(){r=Ee("button"),(i=Ee("wmgPlayerJSqa_")).textContent=""+a[67].name,n=Ie(),g&&g.c(),s=Ie(),$e(i,"class","mgPlayerJSqa_lang-name mgPlayerJSqa_inline-block-vm"),$e(r,"id","mgPlayerJSqa_app-filter-dropdown-option-"+a[67].name),$e(r,"class",l="mgPlayerJSqa_lbl-btn mgPlayerJSqa_lang-item mgPlayerJSqa_cursor-pointer "+(a[0].showGuidesFromDesktopApp==a[67].value?"mgPlayerJSqa_lang-selected mgPlayerJSqa_pointer-events-none":"")),$e(r,"aria-label",a[67].name)},m(e,t){xe(e,r,t),ke(r,i),ke(r,n),g&&g.m(r,null),ke(r,s),o||(c=De(r,"click",m),o=!0)},p(e,t){(a=e)[0].showGuidesFromDesktopApp==a[67].value?g?g.p(a,t):((g=vt(a)).c(),g.m(r,s)):g&&(g.d(1),g=null),1&t[0]&&l!==(l="mgPlayerJSqa_lbl-btn mgPlayerJSqa_lang-item mgPlayerJSqa_cursor-pointer "+(a[0].showGuidesFromDesktopApp==a[67].value?"mgPlayerJSqa_lang-selected mgPlayerJSqa_pointer-events-none":""))&&$e(r,"class",l)},d(e){e&&Le(r),g&&g.d(),o=!1,c()}}}(e);return{c(){r&&r.c(),a=M()},m(e,t){r&&r.m(e,t),xe(e,a,t)},p(e,t){0!=e[67].name.length&&r.p(e,t)},d(e){e&&Le(a),r&&r.d(e)}}}function Jt(a){let r,i,n=a[0].labels.playerMode+"",s,l,o,c,g,m,d,p,u,h;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Me(n),l=Ie(),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),g=Ee("input"),m=Ie(),d=Ee("button"),$e(i,"id","mgPlayerJSqa_label-player-mode"),$e(i,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_player-mode-setting mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-overflow-ellipsis"),$e(i,"tabindex","0"),$e(g,"class","mgPlayerJSqa_user-pref-scope"),$e(g,"type","checkbox"),$e(g,"aria-labelledby","mgPlayerJSqa_label-player-mode"),$e(d,"class","mgPlayerJSqa_custom-slider mgPlayerJSqa_user-pref-scope mgPlayerJSqa_lbl-btn"),$e(d,"aria-label",p=a[0].labels.playerMode),$e(c,"class","mgPlayerJSqa_custom-checkbox"),$e(o,"class","mgPlayerJSqa_option-checkbox"),$e(r,"class","mgPlayerJSqa_setting-item mgPlayerJSqa_no-hover-effect")},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),ke(r,l),ke(r,o),ke(o,c),ke(c,g),g.checked=a[0].showPlayer,ke(c,m),ke(c,d),u||(h=[De(g,"change",a[33]),De(g,"change",a[34]),De(d,"click",a[35])],u=!0)},p(e,t){1&t[0]&&n!==(n=e[0].labels.playerMode+"")&&Fe(s,n),1&t[0]&&(g.checked=e[0].showPlayer),1&t[0]&&p!==(p=e[0].labels.playerMode)&&$e(d,"aria-label",p)},d(e){e&&Le(r),u=!1,Xe(h)}}}function Gt(e){let a,r=e[0].labels.noSegmentsAdded+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_margin-tb-5")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t[0]&&r!==(r=e[0].labels.noSegmentsAdded+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function At(a){let r,i,n,s=a[0].labels.manageAccount+"",l,o,c,g=a[0].svgs.externalLink+"",m,d,p;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),n=Ee("wmgPlayerJSqa_"),l=Me(s),o=Ie(),c=Ee("wmgPlayerJSqa_"),$e(n,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm"),$e(c,"class","mgPlayerJSqa_item-icon mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(i,"id","mgPlayerJSqa_label-analytics-portal"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_setting-item mgPlayerJSqa_cursor-pointer"),$e(i,"aria-label",m=a[0].labels.manageAccount),$e(r,"class","mgPlayerJSqa_manage-settings-wrapper mgPlayerJSqa_width-100")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,l),ke(i,o),ke(i,c),c.innerHTML=g,d||(p=De(i,"click",function(){Y(a[0].openAdminPortal())&&a[0].openAdminPortal().apply(this,arguments)}),d=!0)},p(e,t){a=e,1&t[0]&&s!==(s=a[0].labels.manageAccount+"")&&Fe(l,s),1&t[0]&&g!==(g=a[0].svgs.externalLink+"")&&(c.innerHTML=g),1&t[0]&&m!==(m=a[0].labels.manageAccount)&&$e(i,"aria-label",m)},d(e){e&&Le(r),d=!1,p()}}}function Tt(a){let r,i,n,s=a[0].labels.customizationCenter+"",l,o,c,g=a[0].svgs.externalLink+"",m,d,p;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),n=Ee("wmgPlayerJSqa_"),l=Me(s),o=Ie(),c=Ee("wmgPlayerJSqa_"),$e(n,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm"),$e(c,"class","mgPlayerJSqa_item-icon mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(i,"id","mgPlayerJSqa_label-analytics-portal"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_setting-item mgPlayerJSqa_cursor-pointer"),$e(i,"aria-label",m=a[0].labels.customizationCenter),$e(r,"class","mgPlayerJSqa_manage-settings-wrapper mgPlayerJSqa_width-100")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,l),ke(i,o),ke(i,c),c.innerHTML=g,d||(p=De(i,"click",function(){Y(a[0].openCustCenter())&&a[0].openCustCenter().apply(this,arguments)}),d=!0)},p(e,t){a=e,1&t[0]&&s!==(s=a[0].labels.customizationCenter+"")&&Fe(l,s),1&t[0]&&g!==(g=a[0].svgs.externalLink+"")&&(c.innerHTML=g),1&t[0]&&m!==(m=a[0].labels.customizationCenter)&&$e(i,"aria-label",m)},d(e){e&&Le(r),d=!1,p()}}}function Xt(a){let r,i,n,s=a[0].labels.analyticsPortal+"",l,o,c,g=a[0].svgs.externalLink+"",m,d,p;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),n=Ee("wmgPlayerJSqa_"),l=Me(s),o=Ie(),c=Ee("wmgPlayerJSqa_"),$e(n,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm"),$e(c,"class","mgPlayerJSqa_item-icon mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(i,"id","mgPlayerJSqa_label-analytics-portal"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_setting-item mgPlayerJSqa_cursor-pointer"),$e(i,"aria-label",m=a[0].labels.analyticsPortal),$e(r,"class","mgPlayerJSqa_manage-settings-wrapper mgPlayerJSqa_width-100")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,l),ke(i,o),ke(i,c),c.innerHTML=g,d||(p=De(i,"click",a[40]),d=!0)},p(e,t){1&t[0]&&s!==(s=e[0].labels.analyticsPortal+"")&&Fe(l,s),1&t[0]&&g!==(g=e[0].svgs.externalLink+"")&&(c.innerHTML=g),1&t[0]&&m!==(m=e[0].labels.analyticsPortal)&&$e(i,"aria-label",m)},d(e){e&&Le(r),d=!1,p()}}}function kt(e){let a,r,i,n=e[0].labels.defaultMiniPlayerHelp+"",s,l,o,c=e[0].svgs.externalLink+"",g;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("a"),i=Ee("wmgPlayerJSqa_"),s=Me(n),l=Ie(),o=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm"),$e(o,"id","mgPlayerJSqa_icon-help-center"),$e(o,"aria-label",g=e[0].labels.defaultMiniPlayerHelp),$e(o,"class","mgPlayerJSqa_item-icon mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(r,"class","mgPlayerJSqa_setting-item mgPlayerJSqa_cursor-pointer mgPlayerJSqa_text-decoration-none mgPlayerJSqa_box-sizing mgPlayerJSqa_border-box"),$e(r,"href",Mt()),$e(r,"target","_blank"),$e(r,"rel","noopener noreferrer"),$e(a,"class","mgPlayerJSqa_manage-settings-wrapper mgPlayerJSqa_width-100")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),ke(i,s),ke(r,l),ke(r,o),o.innerHTML=c},p(e,t){1&t[0]&&n!==(n=e[0].labels.defaultMiniPlayerHelp+"")&&Fe(s,n),1&t[0]&&c!==(c=e[0].svgs.externalLink+"")&&(o.innerHTML=c),1&t[0]&&g!==(g=e[0].labels.defaultMiniPlayerHelp)&&$e(o,"aria-label",g)},d(e){e&&Le(a)}}}function xt(a){let r,i,n,s=a[0].svgs.edit+"",l,o,c,g;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),l=Ie(),(o=Ee("wmgPlayerJSqa_")).textContent="Edit Org JSON",$e(n,"class","mgPlayerJSqa_json-editor-icon mgPlayerJSqa_settings-section-header-icon"),$e(o,"class","mgPlayerJSqa_h4 mgPlayerJSqa_settings-section-header-title mgPlayerJSqa_no-margin"),$e(i,"class","mgPlayerJSqa_settings-section-header"),$e(r,"id","mgPlayerJSqa_icon-edit-org-json"),$e(r,"class","mgPlayerJSqa_manage-settings-wrapper mgPlayerJSqa_width-100 mgPlayerJSqa_cursor-pointer")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),n.innerHTML=s,ke(i,l),ke(i,o),c||(g=De(r,"click",function(){Y(a[0].editJson(a[2],"org"))&&a[0].editJson(a[2],"org").apply(this,arguments)}),c=!0)},p(e,t){a=e,1&t[0]&&s!==(s=a[0].svgs.edit+"")&&(n.innerHTML=s)},d(e){e&&Le(r),c=!1,g()}}}function Lt(a){let r,i,n=a[0].labels.logoutBtn+"",s,l,o,c;return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),s=Me(n),$e(i,"class","mgPlayerJSqa_item-label mgPlayerJSqa_text-color-light mgPlayerJSqa_inline-block-vm"),$e(r,"id","mgPlayerJSqa_label-logout-btn"),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_setting-item mgPlayerJSqa_cursor-pointer"),$e(r,"aria-label",l=a[0].labels.logoutBtn)},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),o||(c=De(r,"click",a[41]),o=!0)},p(e,t){1&t[0]&&n!==(n=e[0].labels.logoutBtn+"")&&Fe(s,n),1&t[0]&&l!==(l=e[0].labels.logoutBtn)&&$e(r,"aria-label",l)},d(e){e&&Le(r),o=!1,c()}}}function Et(e){let a,r=!e[0].maintenance&&"signin"!==ce(me.activeView),i,n,s,l,o=e[0].navBarVisible&&"signin"!==ce(me.activeView),c,g,m=r&&Qe(e),d=(e[4]===GmCXt.STEP_EDIT_OPERATION||e[4]===GmCXt.STEP_CREATE_OPERATION)&&at(e),p=e[4]===GmCXt.STEP_VIEW_OPERATION&&nt(e),u=o&&gt(e);return{c(){a=Ee("wmgPlayerJSqa_"),m&&m.c(),i=Ie(),n=Ee("wmgPlayerJSqa_"),d&&d.c(),s=Ie(),p&&p.c(),l=Ie(),u&&u.c(),c=M(),$e(n,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_float-right"),$e(a,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_width-100")},m(e,t){xe(e,a,t),m&&m.m(a,null),ke(a,i),ke(a,n),d&&d.m(n,null),ke(n,s),p&&p.m(n,null),xe(e,l,t),u&&u.m(e,t),xe(e,c,t),g=!0},p(e,t){(r=1&t[0]?!e[0].maintenance&&"signin"!==ce(me.activeView):r)?m?m.p(e,t):((m=Qe(e)).c(),m.m(a,i)):m&&(m.d(1),m=null),e[4]===GmCXt.STEP_EDIT_OPERATION||e[4]===GmCXt.STEP_CREATE_OPERATION?d?d.p(e,t):((d=at(e)).c(),d.m(n,s)):d&&(d.d(1),d=null),e[4]===GmCXt.STEP_VIEW_OPERATION?p?p.p(e,t):((p=nt(e)).c(),p.m(n,null)):p&&(p.d(1),p=null),(o=1&t[0]?e[0].navBarVisible&&"signin"!==ce(me.activeView):o)?u?(u.p(e,t),1&t[0]&&Ne(u,1)):((u=gt(e)).c(),Ne(u,1),u.m(c.parentNode,c)):u&&(Re(),Be(u,1,1,()=>{u=null}),He())},i(e){g||(Ne(u),g=!0)},o(e){Be(u),g=!1},d(e){e&&(Le(a),Le(l),Le(c)),m&&m.d(),d&&d.d(),p&&p.d(),u&&u.d(e)}}}function Mt(){var e=GmCXt.getOrgSettings();let t;return(t=GmCXt.isEmpty(e)||GmCXt.isEmpty(e.helpUrl)?t:GmCXt.addHttpIfMissing(e.helpUrl))||GmCXt.model.organization.settings._obj.helpUrl._default}const It=e=>e.toUpperCase();function Dt(e,t,a){let r={},i={},n=!1,s="",{unique:l={}}=t,o=ce(me.stepOperationMode),c="right",g=!1;GmCXt.isEmpty(GmCXt.appList)||(g=!GmCXt.isEmpty(Object.values(GmCXt.appList).filter(e=>"electron"===e.type)));let m,d=!1;t=[{name:ge.labels.web,value:!1},{name:ge.labels.desktop,value:!0}];const p=me.panelAlignment.subscribe(e=>{a(5,c=e)}),u=me.CurrentPage.subscribe(e=>{});let h=me.selectedLang.subscribe(e=>{}),y=me.lanDropDownVisible.subscribe(e=>{a(25,n=e)});const _=me.stepEditMode.subscribe(e=>{}),S=me.stepOperationMode.subscribe(e=>{a(4,o=e)});function f(){ge.navBarVisible&&mg$(".mgPlayerJSqa_player-nav-menu").css({height:mg$(".mgPlayerJSqa_panel").innerHeight()-mg$(".mgPlayerJSqa_manage-user-profile-wrapper").innerHeight()-mg$(".mgPlayerJSqa_logout-wrapper").innerHeight()-30})}function P(){ge.addPanelOverlay(),a(0,ge.navBarVisible=mg$("#mgPlayerJSqa_side-navbar-container").is(":visible"),ge),ge.navBarVisible?(a(0,ge.navBarVisible=!1,ge),ge.hidePanelOverlay()):(a(0,ge.navBarVisible=!0,ge),ge.showPanelOverlay(),GmCXt.timeout(function(){f()},500))}function C(){"currentpage"!==ce(me.CurrentPage)?(ge.setCurrentPage("allguides"),me.allCategories.set([]),me.breadCrumb.set([]),a(0,ge.refreshAllGuides=!0,ge)):me.refreshCurrentPageView.set(!0)}function b(e){GmCXt.isEmpty(m)?GmCXt.storage().remove(["gmSelectedSegment"]):(a(0,ge.selectedSegments=[...m],ge),GmCXt.storage().set({gmSelectedSegment:JSON.stringify(ge.selectedSegments)})),C()}ge.showLogoutBtn(),mg$(window).on("resize",f),GmCXt.storage().get(["gmSelectedSegment"]).then(function(e){GmCXt.isEmpty(e)||GmCXt.isEmpty(e.gmSelectedSegment)||(e=GmCXt.parseJSON(e.gmSelectedSegment),GmCXt.isEmpty(e))||a(7,m=[...e])}),de(()=>{a(2,i=GmCXt.organization),h(),ge.language,GmCXt.isPlayer()&&ge.bindPlayerTheme()}),r=ge.user;function q(e){e.stopPropagation(),a(25,n=!1),mg$(".mgPlayerJSqa_lang-dropdown-wrapper").slideUp(100)}function v(e){e.stopPropagation(),a(8,d=!1),mg$(".mgPlayerJSqa_app-filter-dropdown-wrapper").slideUp(100)}const w=function(e){var t=GmCXt.user;GmCXt.isEmpty(t)||(ge.checkAppList().then(function(){!GmCXt.isEmpty(GmCXt.appList)&&GmCXt.activeAppId&&a(0,ge.selectedApp=GmCXt.appList["app:"+GmCXt.activeAppId].title,ge)}),a(3,s=GmCXt.brandLogo()),a(3,s=ge.currBrandLogo||s))};function J(e){a(0,ge.labels=GmCXt.getAllLabels(e.language),ge),a(0,ge.language=e.language,ge),GmCXt.language=e.language,GmCXt.saveToStorage("activeLang",e.language),GmCXt.saveToStorage("activeVoice",e.voice),a(0,ge.languageVoice=e.voice,ge),a(0,ge.selectedLanguage=e.name,ge),ge.updateLabels(),ge.resetNotificationData(),ge.setNotifTours(),w(),a(25,n=!1),mg$(".mgPlayerJSqa_lang-dropdown-wrapper").slideUp(100),GmCXt.refreshView=!0,a(24,l={}),me.labels.set(ge.labels),P(),GmCXt.FT.creatorApp?(ge.setCurrentPage("allguides"),me.allCategories.set([]),me.breadCrumb.set([]),a(0,ge.refreshAllGuides=!0,ge),a(0,ge.allTourList={},ge)):ge.setCurrentPage("currentpage")}const G=t=>{let e=!1;t?t.language&&-1!==t.language.indexOf("en-")&&a(0,ge.contextTours=[],ge):(e=!0,a(0,ge.contextTours=[],ge)),t&&t.name?(GmCXt.saveToStorage("userPrefLang",t.language),GmCXt.userPrefLang=t.language):(t=ge.defaultLang,ge.languages.filter(function(e){e.language===ge.browserLang&&(t=e)}),GmCXt.saveToStorage("userPrefLang",!1),GmCXt.userPrefLang=!1),GmCXt.getLanguageLabels(t.language,!0).then(function(){GmCXt.isPlayer()?(J(t),e?me.selectedLang.set("default"):me.selectedLang.set(t.language)):GmCXt.getLanguageLabels(t.language,!1).then(function(){J(t),e?me.selectedLang.set("default"):me.selectedLang.set(t.language)})})},A=(e,t)=>{if(ge.showLoading(),P(),"findNReplace"===e){e=t;me.activeView.set("findNReplace"),e&&e.step_settings&&e.step_settings.element&&me.routeAction.set({action:"findNReplace",data:{auto_jquery:e.step_settings.element.criteria.auto_jquery,jquery_selector:e.step_settings.element.criteria.jquery_selector}})}mg$(".mgPlayerJSqa_ege-login-logout-wrapper").slideUp(200),mg$(".mgPlayerJSqa_ege-user-image-wrapper").removeClass("active")},T=me.routeAction.subscribe(e=>{e&&"stepFindNReplace"===e.action&&e.data&&A("findNReplace",e.data.step)});function X(e){a(5,c=e),me.panelAlignment.set(e),"left"===c?mg$(".mgPlayerJSqa_ege-panel").css({left:"0",right:"initial"}):"right"===c&&mg$(".mgPlayerJSqa_ege-panel").css({right:"0",left:"initial"})}de(w),pe(()=>{u(),p(),y(),_(),S(),T()});let k="";var x;return e.$$set=e=>{"unique"in e&&a(24,l=e.unique)},e.$$.update=()=>{33554432&e.$$.dirty[0]&&a(9,k=n?"mgPlayerJSqa_rotate-180":"")},a(10,x=GmCXt.userPrefLang?"":"mgPlayerJSqa_lang-selected"),[ge,r,i,s,o,c,g,m,d,k,x,t,P,b,function(){mg$("#mgPlayerJSqa_svelte-notification-modal").length||new he({target:mg$(".mgPlayerJSqa_bell-btn-wrapper")[0],props:{pushNotificationDropdown:!0}})},function(){return!!(ge.enableTranslation&&1<ge.languages.length)},function(){return!(!GmCXt.isPlayer()||!r||-1===r.user_email.indexOf("anonymous")||function(){if(GmCXt.organization){var e=GmCXt.organization.admin_settings;if(e.guide_translation&&e.language_settings&&e.language_settings.translations.length)return!0}return!1}())},function(e){e.stopPropagation(),n?q(e):(a(25,n=!0),mg$(".mgPlayerJSqa_lang-dropdown-wrapper").slideDown(200)),e.stopPropagation(),mg$(".mgPlayerJSqa_setting-dropdown-userPref").slideUp(100),v(e),f()},function(e){e.stopPropagation(),d?v(e):(a(8,d=!0),mg$(".mgPlayerJSqa_app-filter-dropdown-wrapper").slideDown(200)),q(e),f()},G,A,()=>{GmCXt.refreshBtnClickTime&&Date.now()-GmCXt.refreshBtnClickTime<1500||(ge.showLoading(),GmCXt.refreshBtnClickTime=Date.now(),"taskStatus"===ce(me.activeView)?ge.setActivePage("taskStatus"):(w(),ge.refreshAllData()))},X,function(){return!(!ge.showPlayer||GmCXt.conf.appName===GmCXt.conf.playerApp||!ge.guideSegmentation||GmCXt.isWestpac()||ge.showGuidesFromDesktopApp)},l,n,e=>{e.target.src=ge.staticContentPath+"myguide.png"},()=>X("left"),()=>X("right"),()=>A("findNReplace"),()=>{ge.showLoading(),me.activeView.set("changePw"),P()},()=>G(""),e=>{ge.showLoading(),ge.switchAppType(e.value),P()},function(){ge.showPlayer=this.checked,a(0,ge)},()=>{ge.showLoading(),ge.togglePlayerMode(),P()},()=>{ge.showLoading(),a(0,ge.showPlayer=!ge.showPlayer,ge),ge.togglePlayerMode(),P()},e=>{return a=e,(e=ge.allSegments)&&e.length?e.filter(function(e,t){return-1!==e.title.toLowerCase().indexOf(a.toLowerCase())}):[];var a},e=>b(),function(e){m=e,a(7,m)},()=>ge.openTransferGuides(),()=>ge.isCreator()?ge.openSurveyAnalyticsPortal():ge.openAppAnalyticsPortal(),()=>ge.logout("logout_button_click")]}class $t extends e{constructor(e){super(),t(this,e,Dt,Et,g,{unique:24},null,[-1,-1,-1])}}function Ft(e){let a,r,i,n,s,l,o=(n=new $t({}),("login-view"==ge.currentView||"forgot-password-view"==ge.currentView||"sso-login-view"==ge.currentView)&&function(a){let r,i,n,s,e;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ie(),s=Ee("img"),$e(i,"class","mgPlayerJSqa_inline-block-vm"),$e(s,"id","mgPlayerJSqa_header-widget-icon"),$e(s,"class","mgPlayerJSqa_header-widget-icon"),$e(s,"alt","Cornerstone"),Q(s.src,e=ge.getBasePath("common/img/logo-admin.png"))||$e(s,"src",e),$e(r,"class","mgPlayerJSqa_header-banner-wrapper mgPlayerJSqa_position-relative")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=a[0],ke(r,n),ke(r,s)},p(e,t){1&t&&(i.innerHTML=e[0])},d(e){e&&Le(r)}}}(e));return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),Ve(n.$$.fragment),s=Ie(),o&&o.c(),$e(i,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_width-100"),$e(r,"class","mgPlayerJSqa_panel-header-wrapper mgPlayerJSqa_width-100 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between"),Oe(r,"mgPlayerJSqa_bg-white",ge.isMicroPlayer),Oe(r,"mgPlayerJSqa_panel-header-micro-wrapper",ge.isMicroPlayer),$e(a,"id","mgPlayerJSqa_ege-header"),$e(a,"class","mgPlayerJSqa_ege-panel-header")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),ze(n,i,null),ke(a,s),o&&o.m(a,null),l=!0},p(e,[t]){"login-view"!=ge.currentView&&"forgot-password-view"!=ge.currentView&&"sso-login-view"!=ge.currentView||o.p(e,t)},i(e){l||(Ne(n.$$.fragment,e),l=!0)},o(e){Be(n.$$.fragment,e),l=!1},d(e){e&&Le(a),Ue(n),o&&o.d()}}}function Ot(e,t,a){let r="";return de(()=>{fetch(ge.getBasePath("common/img/login_header.svg")).then(e=>e.text()).then(e=>{a(0,r=e)})}),[r]}class Rt extends e{constructor(e){super(),t(this,e,Ot,Ft,g,{})}}function Ht(){let a;return{c(){(a=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.captchaError,$e(a,"id","mgPlayerJSqa_input-captcha-error"),$e(a,"class","mgPlayerJSqa_error-input-wrapper captcha-error-wrapper active")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function Nt(a){let r,i,n,s,l,o,c=ge.svgs.refresh+"",g,m,d,p,u,h=a[0]&&Ht();return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("i"),s=Me(a[3]),l=Ie(),o=Ee("button"),g=Ie(),m=Ee("input"),d=Ie(),h&&h.c(),$e(n,"id","mgPlayerJSqa_captcha-image"),$e(n,"selectable","False"),$e(o,"id","mgPlayerJSqa_autorenew"),$e(o,"aria-label",ge.labels.refresh),$e(o,"class","mgPlayerJSqa_captcha-refresh-btn mgPlayerJSqa_lbl-btn mgPlayerJSqa_lbl-btn-refresh mgPlayerJSqa_refresh-btn"),$e(o,"type","button"),$e(m,"id","mgPlayerJSqa_input-captcha"),$e(m,"class","mgPlayerJSqa_input-captcha-text mgPlayerJSqa_font-size-16 mgPlayerJSqa_ege-inline-block-vm"),$e(m,"placeholder",ge.labels.placeholderEnterCaptcha),m.required=!0,$e(i,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center"),$e(r,"class","mgPlayerJSqa_input-captcha mgPlayerJSqa_margin-tb-10 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_flex-direction-column")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),ke(i,l),ke(i,o),o.innerHTML=c,ke(i,g),ke(i,m),je(m,a[2]),a[8](m),ke(r,d),h&&h.m(r,null),p||(u=[De(o,"click",a[4]),De(m,"input",a[7]),De(m,"change",a[5]),De(m,"focus",a[9])],p=!0)},p(e,[t]){8&t&&Fe(s,e[3]),4&t&&m.value!==e[2]&&je(m,e[2]),e[0]?h||((h=Ht()).c(),h.m(r,null)):h&&(h.d(1),h=null)},i:we,o:we,d(e){e&&Le(r),a[8](null),h&&h.d(),p=!1,Xe(u)}}}function Bt(e,t,r){let{captchaValid:i=!1}=t,a=t["showCaptchaError"],n=t["inputCaptchaRef"],s,l;function o(){r(2,s=""),r(6,i=!1),r(3,l="");let t="";var a="0123456789ABCDEFGHJKLMNOPQRSTUVWXYZabdfghijkmnopqrstuvwxyz";for(let e=0;e<6;e++)t+=a.charAt(Math.random()*a.length);r(3,l=t)}o();return e.$$set=e=>{"captchaValid"in e&&r(6,i=e.captchaValid),"showCaptchaError"in e&&r(0,a=e.showCaptchaError),"inputCaptchaRef"in e&&r(1,n=e.inputCaptchaRef)},[a,n,s,l,o,function(){r(6,i=!1),l===s&&(r(6,i=!0),ge.hideLoading())},i,function(){s=this.value,r(2,s)},function(e){ue[e?"unshift":"push"](()=>{n=e,r(1,n)})},()=>r(0,a=!1)]}class Vt extends e{constructor(e){super(),t(this,e,Bt,Nt,g,{captchaValid:6,showCaptchaError:0,inputCaptchaRef:1})}}let zt=[];function Ut(e){let a,r,i,n,s,l,o=(e[2]?.privacyPolicy||ge.labels.privacyPolicy)+"",c,g,m,d,p,u,h=(e[2]?.termsOfService||ge.labels.termsOfService)+"",y,_;return{c(){a=Ee("wmgPlayerJSqa_"),(r=Ee("wmgPlayerJSqa_")).textContent="Â© "+ge.brandName,i=Ie(),(n=Ee("wmgPlayerJSqa_")).textContent="|",s=Ie(),l=Ee("a"),c=Me(o),m=Ie(),(d=Ee("wmgPlayerJSqa_")).textContent="|",p=Ie(),u=Ee("a"),y=Me(h),$e(r,"class","mgPlayerJSqa_span"),$e(n,"class","mgPlayerJSqa_span mgPlayerJSqa_footer-text-separator"),$e(l,"id","mgPlayerJSqa_footer-privacy-policy"),$e(l,"href",GmCXt.organization?.settings?.privacyPolicy||ge.config.privacyPolicyUrl),$e(l,"target","_blank"),$e(l,"aria-label",g=e[2]?.privacyPolicy||ge.labels.privacyPolicy),$e(l,"rel","noopener noreferrer"),$e(d,"class","mgPlayerJSqa_span mgPlayerJSqa_footer-text-separator"),$e(u,"id","mgPlayerJSqa_footer-terms-of-service"),$e(u,"href",ge.config.termsURL),$e(u,"target","_blank"),$e(u,"aria-label",_=e[2]?.termsOfService||ge.labels.termsOfService),$e(u,"rel","noopener noreferrer"),$e(a,"class","mgPlayerJSqa_footer-panel-copyright-text")},m(e,t){xe(e,a,t),ke(a,r),ke(a,i),ke(a,n),ke(a,s),ke(a,l),ke(l,c),ke(a,m),ke(a,d),ke(a,p),ke(a,u),ke(u,y)},p(e,t){4&t&&o!==(o=(e[2]?.privacyPolicy||ge.labels.privacyPolicy)+"")&&Fe(c,o),4&t&&g!==(g=e[2]?.privacyPolicy||ge.labels.privacyPolicy)&&$e(l,"aria-label",g),4&t&&h!==(h=(e[2]?.termsOfService||ge.labels.termsOfService)+"")&&Fe(y,h),4&t&&_!==(_=e[2]?.termsOfService||ge.labels.termsOfService)&&$e(u,"aria-label",_)},d(e){e&&Le(a)}}}function jt(e){let a;var t=!GmCXt.isMicroPlayer();let r,i=t&&function(){let a;return{c(){(a=Ee("wmgPlayerJSqa_")).textContent="|",$e(a,"class","mgPlayerJSqa_span mgPlayerJSqa_footer-text-separator")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}();function n(e){return"email"==e[0].feedback_type?Zt:"url"==e[0].feedback_type?Wt:void 0}let s=n(e),l=s&&s(e);return{c(){a=Ee("wmgPlayerJSqa_"),i&&i.c(),r=Ie(),l&&l.c(),$e(a,"class","mgPlayerJSqa_footer-panel-copyright-text mgPlayerJSqa_footer-send-feedback"),Oe(a,"mgPlayerJSqa_footer-send-feedback-mp",GmCXt.isMicroPlayer())},m(e,t){xe(e,a,t),i&&i.m(a,null),ke(a,r),l&&l.m(a,null)},p(e,t){s===(s=n(e))&&l?l.p(e,t):(l&&l.d(1),(l=s&&s(e))&&(l.c(),l.m(a,null)))},d(e){e&&Le(a),i&&i.d(),l&&l.d()}}}function Wt(a){let r,i=(a[2]?.sendFeedback||ge.labels.sendFeedback)+"",n,s,l;return{c(){r=Ee("button"),n=Me(i),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_cursor-pointer"),$e(r,"aria-label",ge.labels.sendFeedback)},m(e,t){xe(e,r,t),ke(r,n),s||(l=De(r,"click",a[5]),s=!0)},p(e,t){4&t&&i!==(i=(e[2]?.sendFeedback||ge.labels.sendFeedback)+"")&&Fe(n,i)},d(e){e&&Le(r),s=!1,l()}}}function Zt(a){let r,i=(a[2]?.sendFeedback||ge.labels.sendFeedback)+"",n,s,l;return{c(){r=Ee("button"),n=Me(i),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_cursor-pointer"),$e(r,"aria-label",ge.labels.sendFeedback)},m(e,t){xe(e,r,t),ke(r,n),s||(l=De(r,"click",a[4]),s=!0)},p(e,t){4&t&&i!==(i=(e[2]?.sendFeedback||ge.labels.sendFeedback)+"")&&Fe(n,i)},d(e){e&&Le(r),s=!1,l()}}}function Yt(e){let a,r=!ge.showGuidesFromDesktopApp&&function(e){let a,r,i,n=!ge.currentPageOnly&&function(){let a;return{c(){(a=Ee("wmgPlayerJSqa_")).textContent="|",$e(a,"class","mgPlayerJSqa_span mgPlayerJSqa_footer-text-separator")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}(),s=("currentpage"===e[1]||"currentPageSearchPage"===e[1])&&!ge.currentPageOnly&&Kt(e),l=("allguides"===e[1]||"allguidesSearchPage"===e[1])&&Qt(e);return{c(){n&&n.c(),a=Ie(),s&&s.c(),r=Ie(),l&&l.c(),i=M()},m(e,t){n&&n.m(e,t),xe(e,a,t),s&&s.m(e,t),xe(e,r,t),l&&l.m(e,t),xe(e,i,t)},p(e,t){"currentpage"!==e[1]&&"currentPageSearchPage"!==e[1]||ge.currentPageOnly?s&&(s.d(1),s=null):s||((s=Kt(e)).c(),s.m(r.parentNode,r)),"allguides"===e[1]||"allguidesSearchPage"===e[1]?l||((l=Qt(e)).c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(e){e&&(Le(a),Le(r),Le(i)),n&&n.d(e),s&&s.d(e),l&&l.d(e)}}}(e);return{c(){a=Ee("wmgPlayerJSqa_"),r&&r.c(),$e(a,"class","mgPlayerJSqa_footer-panel-copyright-text")},m(e,t){xe(e,a,t),r&&r.m(a,null)},p(e,t){ge.showGuidesFromDesktopApp||r.p(e,t)},d(e){e&&Le(a),r&&r.d()}}}function Kt(a){let r,i,n;return{c(){(r=Ee("button")).textContent=""+ge.labels.allGuides,$e(r,"id","mgPlayerJSqa_go-to-all-guides"),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_cursor-pointer"),$e(r,"aria-label",ge.labels.allGuides)},m(e,t){xe(e,r,t),i||(n=De(r,"click",a[6]),i=!0)},d(e){e&&Le(r),i=!1,n()}}}function Qt(a){let r,i,n;return{c(){(r=Ee("button")).textContent=""+ge.labels.currentPage,$e(r,"id","mgPlayerJSqa_go-to-current-page"),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_cursor-pointer"),$e(r,"aria-label",ge.labels.currentPage)},m(e,t){xe(e,r,t),i||(n=De(r,"click",a[7]),i=!0)},d(e){e&&Le(r),i=!1,n()}}}function ea(e){let a,r,i=GmCXt.isPlayer()&&!!GmCXt.getAppSetting("enable_send_feedback"),n,s=GmCXt.isMicroPlayer(),l,o,c=!e[3]&&Ut(e),g=i&&jt(e),m=s&&Yt(e);return{c(){a=Ee("wmgPlayerJSqa_"),c&&c.c(),r=Ie(),g&&g.c(),n=Ie(),m&&m.c(),l=Ie(),$e(o=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_ege-clear"),$e(a,"id","mgPlayerJSqa_footer-panel-container"),$e(a,"class","mgPlayerJSqa_footer-panel")},m(e,t){xe(e,a,t),c&&c.m(a,null),ke(a,r),g&&g.m(a,null),ke(a,n),m&&m.m(a,null),ke(a,l),ke(a,o)},p(e,[t]){e[3]?c&&(c.d(1),c=null):c?c.p(e,t):((c=Ut(e)).c(),c.m(a,r)),i&&g.p(e,t),s&&m.p(e,t)},i:we,o:we,d(e){e&&Le(a),c&&c.d(),g&&g.d(),m&&m.d()}}}function ta(e,t,a){let r={},i="",n=!1,s=ce(me.labels),l=!1;const o=me.labels.subscribe(e=>{a(2,s=e)});let c=me.CurrentPage.subscribe(e=>{a(1,n=e)}),g=me.miniPlayer.subscribe(e=>{GmCXt.isMiniPlayer=e,a(3,l=GmCXt.isMicroPlayer())});de(()=>{a(0,r=GmCXt.getBrandingSetting()),i=r.feedback_url&&-1===r.feedback_url.indexOf("http")?"https://"+r.feedback_url:r.feedback_url}),pe(()=>{c(),o(),g()});return[r,n,s,l,function(){GmCXt.closeAppPanel(),GmCXt.addFeedBackToolbar(),GmCXt.timeout(function(){GmCXt.captureScreenForFeedback(r.feedback_email)},100)},function(){window.open(i,"_blank","noopener,noreferrer")},()=>{ge.setCurrentPage("allguides"),me.breadCrumb.set([])},()=>{ge.setCurrentPage("currentpage"),me.breadCrumb.set([])}]}class aa extends e{constructor(e){super(),t(this,e,ta,ea,g,{})}}let D={};function ra(){var e=function(){var e={};let t=(n=new Date).getMonth()+1;t<10&&(t="0"+t),n.getDate();var a=n.getFullYear(),r=9<n.getDate()?n.getDate():"0"+n.getDate(),i=9<n.getHours()?n.getHours():"0"+n.getHours(),n=9<n.getMinutes()?n.getMinutes():"0"+n.getMinutes(),a=a+"-"+t+"-"+r,r=i+":"+n;return e.default_date=a,e.default_time=r,e}();return"<wmgPlayerJSqa_ class='mgPlayerJSqa_pub-schedule-checkbox-container mgPlayerJSqa_process-msg mgPlayerJSqa_width-100 mgPlayerJSqa_text-align-center mgPlayerJSqa_padding-lr-15'><input id='mgPlayerJSqa_checkbox-tour-schedule-pub' class='mgPlayerJSqa_inline-block-vm mgPlayerJSqa_input-checkbox-custom' type='checkbox' name='pub-schedule-enable'><wmgPlayerJSqa_ class='mgPlayerJSqa_inline-block-vm mgPlayerJSqa_font-size-12 mgPlayerJSqa_no-margin'>"+ge.labels.schedulePublishCheckbox+"</wmgPlayerJSqa_></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_pub-date-container'><wmgPlayerJSqa_ class='mgPlayerJSqa_pub-date-label'> "+ge.labels.date+"</wmgPlayerJSqa_><wmgPlayerJSqa_><input min='"+e.default_date+"' type='date' id='mgPlayerJSqa_pub-schedule-date' name='mgPlayerJSqa_pub-schedule-date' value='"+e.default_date+"'  class='mgPlayerJSqa_input-text mgPlayerJSqa_input-type-text'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_pub-date-label'> "+ge.labels.time+"</wmgPlayerJSqa_><wmgPlayerJSqa_><input min='"+e.default_time+"' type='time' id='mgPlayerJSqa_pub-schedule-time' name='mgPlayerJSqa_pub-schedule-date' value='"+e.default_time+"'  class='mgPlayerJSqa_input-text mgPlayerJSqa_input-type-text'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_invalid-pub-time mgPlayerJSqa_error-input-wrapper'> "+ge.labels.invalidTimeLabel+" </wmgPlayerJSqa_></wmgPlayerJSqa_>"}function ia(){return!(!ge.guideEnvs||!(mg$(".mgPlayerJSqa_active-progress").length===ge.guideEnvs.length||ge.appEnvs.length<=mg$(".mgPlayerJSqa_active-progress").length&&ge.appEnvs?.length<=ge.guideEnvs?.length))}D.addPublishActions=function(t){let r=D,i=ge.appEnvs;function a(e){var t=i.indexOf(e.currentTarget.id);if(mg$("#mgPlayerJSqa_checkbox-tour-schedule-pub").prop("checked",!1),mg$(".mgPlayerJSqa_pub-date-container").hide(),mg$(e.currentTarget).hasClass("mgPlayerJSqa_active-progress")){mg$(e.currentTarget).removeClass("mgPlayerJSqa_active-progress"),mg$(".mgPlayerJSqa_pub-schedule-checkbox-container").hide(),0===t?mg$(".mgPlayerJSqa_ege-publish").addClass("mgPlayerJSqa_disabled"):mg$(".mgPlayerJSqa_ege-publish").removeClass("mgPlayerJSqa_disabled");for(var a=t+1;a<i.length;)mg$("#"+i[a]).removeClass("mgPlayerJSqa_active-progress"),a++}else{if(mg$(e.currentTarget).addClass("mgPlayerJSqa_active-progress"),mg$(".mgPlayerJSqa_ege-publish").removeClass("mgPlayerJSqa_disabled"),0<t)for(a=0;a<t;)mg$("#"+i[a]).addClass("mgPlayerJSqa_active-progress"),a++;i[t]===i[i.length-1]&&mg$(".mgPlayerJSqa_pub-schedule-checkbox-container").show()}ia()&&mg$(".mgPlayerJSqa_ege-publish").addClass("mgPlayerJSqa_disabled");{e=ge.labels.guideWillPubIn;let a=!1,r="";mg$(".mgPlayerJSqa_active-progress").each(function(e,t){a=!0;t=mg$(t).text();r=r?r+", "+t:t}),ia()?mg$("#mgPlayerJSqa_publishMsg").text(ge.labels.guideIsPubIn+r):a?mg$("#mgPlayerJSqa_publishMsg").text(e+r):mg$("#mgPlayerJSqa_publishMsg").text("")}}for(let e=0;e<i.length;e++)mg$("#"+i[e]).on("click",a);mg$(".mgPlayerJSqa_ege-publish").off("click").on("click",function(){let a=[];mg$(".mgPlayerJSqa_active-progress").each(function(e,t){a.push(mg$(t).attr("id"))});var e=D.getGuideActiveEnvs();if(!ge.guideEnvs||a.length>e.length){if(!a.length&&"publish"===ge.publishStatus)return;t(a,"publish")}else{var e=a[a.length-1],e=ge.appEnvs.indexOf(e);0<=e&&(e=ge.appEnvs.slice(e+1)).length&&t(e,"unpublish")}r.close(),localStorage.setItem(GmCXt.prevEnv,a)}),mg$(".mgPlayerJSqa_ege-cancel-btn").off("click").on("click",function(){r.close()}),mg$(".mgPlayerJSqa_popup-close").off("click").on("click",function(){r.close()})},D.attachPopupActions=function(r,t,a,i){let n=D;mg$(".mgPlayerJSqa_overlay-container").off("click").on("click",function(e){n.close(),t&&t()}),mg$("#mgPlayerJSqa_input-csv").on("change",function(){var e;this.files&&0<this.files.length?(e=this.files[0].name,mg$("#mgPlayerJSqa_selected-filename").text(e).removeClass("mgPlayerJSqa_display-none")):mg$("#mgPlayerJSqa_selected-filename").text("").addClass("mgPlayerJSqa_display-none")}),mg$(".mgPlayerJSqa_csv-download-wrapper").off("click").on("click",function(e){ge.exportCsv(i)}),mg$(".mgPlayerJSqa_ege-ok-btn").off("click").on("click",function(){var e=document.getElementById("mgPlayerJSqa_donot-show-cb");e&&GmCXt.saveToStorage("confirmLinkGuidePub",e.checked),n.close(),r&&r()}),mg$(".mgPlayerJSqa_ege-ok-json-update").off("click").on("click",function(){r()}),mg$(".mgPlayerJSqa_ege-ok-btn-radio").off("click").on("click",function(){var e=mg$(".mgPlayerJSqa_env");let t="";(t=e?mg$(".mgPlayerJSqa_env:checked").val():t)&&(r(t),n.close())}),mg$(".mgPlayerJSqa_ege-option-btn").off("click").on("click",function(){a&&a(),n.close()}),mg$(".mgPlayerJSqa_ege-cancel-btn").off("click").on("click",function(){t&&t(),n.close()}),mg$(".mgPlayerJSqa_ege-popup-close").off("click").on("click",function(){t&&t(),n.close()}),mg$("#mgPlayerJSqa_resusme-guide-close-button").off("click").on("click",function(){n.close()}),mg$(".mgPlayerJSqa_ege-update-btn").off("click").on("click",function(){let e=mg$("#audio-text-area").val();if(!(e=e.trim()).length)return mg$("#audio-text-area").addClass("empty-textarea"),!0;r&&r(e),n.close()}),mg$(".mgPlayerJSqa_ege-email-submit-btn").off("click").on("click",function(){var e=mg$(".mgPlayerJSqa_ege-popup-email-input").val().trim();if(!e.length)return mg$(".mgPlayerJSqa_ege-popup-error-msg").show(),!0;r&&r(e),n.close()}),mg$(".mgPlayerJSqa_ege-otp-submit-btn").off("click").on("click",function(){var e=mg$(".mgPlayerJSqa_ege-popup-email-input-confirm").val().trim(),t=mg$(".mgPlayerJSqa_ege-popup-confirm-otp").val().trim();if(!t.length)return mg$(".mgPlayerJSqa_ege-popup-error-msg").show(),!0;r&&r(e,t),n.close()}),mg$("#audio-text-area").length&&mg$("#audio-text-area").on("focus",function(e){mg$(e.target).removeClass("empty-textarea")}),mg$("#preview-link").length&&mg$("#preview-link").off("click").on("click",function(){let e=mg$("#audio-text-area").val();e=e.trim(),a&&e.length&&a(e)}),mg$(".mgPlayerJSqa_modal-view-more").off("click").on("click",function(){mg$(".mgPlayerJSqa_info-msg").show(),mg$(".mgPlayerJSqa_modal-view-more").hide()}),mg$(".mgPlayerJSqa_ege-csv-ok-btn").off("click").on("click",function(){var e,t=mg$("#mgPlayerJSqa_input-csv")[0].files;let a=[];t&&t[0]?(t=t[0],(e=new FileReader).onload=function(e){var t=e.target.result.split("\n");for(let e=0;e<t.length;e++)""!==t[e]&&a.push(t[e].split(","));r(a)},e.readAsBinaryString(t)):r(),n.close()})},D.createStep=function(r,i){let n=D;GmCXt.api.stepCreate(ge.step,function(e){var t=e.data.data,a=(n.close(),ge.hideLoading(),{});a.stepIndex=ge.step.step_order-1,a.step=t.step,r.createStepCompleted(a),i&&i(e.data.data)})},D.getGuideActiveEnvs=function(){var t=[];if(ge.guideEnvs&&ge.guideEnvs.length)for(let e=0;e<ge.guideEnvs.length;e++){var a=ge.guideEnvs[e];ge.appEnvs&&ge.appEnvs.includes(a)&&t.push(a)}return t},D.reselectElem=function(){GmCXt.handleReselectEl({action:"mgPlayerJSqa_action:reselect_edit_step_element,task:edit_step"})},D.editStepOptions=function(e){let t=ge.labels.lblNotFoundInPage,a="",r="",i=ge.labels.ok;var n=ge.svgs.popupWarning,s="<wmgPlayerJSqa_ class='mgPlayerJSqa_popup-btn-close mgPlayerJSqa_ege-cancel-btn'>"+ge.svgs.popupClose+"</wmgPlayerJSqa_>",e=("Reselect element"===e?(t=ge.labels.lblReselectElem,r="<wmgPlayerJSqa_ id='mgPlayerJSqa_btn-ok-edit-step-popup' class='mgPlayerJSqa_ege-ok-btn mgPlayerJSqa_btn-default mgPlayerJSqa_ege-inline-block-vt mgPlayerJSqa_ege-redirect-btn'>"+e+"</wmgPlayerJSqa_>",a=D.reselectElem,i=ge.labels.btnCancel):"Reselect beacon"===e&&(t=ge.labels.lblReselectBeacon,r="<wmgPlayerJSqa_ id='mgPlayerJSqa_btn-ok-edit-step-popup' class='mgPlayerJSqa_ege-ok-btn mgPlayerJSqa_btn-default mgPlayerJSqa_ege-inline-block-vt mgPlayerJSqa_ege-redirect-btn'>"+e+"</wmgPlayerJSqa_>",a=GmCXt.handleReselectBeacon,i=ge.labels.btnCancel,me.beaconUpload.set(!1)),"<wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-container'></wmgPlayerJSqa_>   <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup mgPlayerJSqa_popup-warning'>        <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-wrapper'>   "+s+"           <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon-wrapper'><wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon'>"+n+"</wmgPlayerJSqa_></wmgPlayerJSqa_>       </wmgPlayerJSqa_>       <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-title-wrapper mgPlayerJSqa_display-none'>       </wmgPlayerJSqa_>       <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-content-wrapper mgPlayerJSqa_font-size-17'>"+t+"</wmgPlayerJSqa_>       <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-btn-wrapper'>"+r+"           <wmgPlayerJSqa_ id='mgPlayerJSqa_btn-cancel-edit-step-popup' class='mgPlayerJSqa_btn-default mgPlayerJSqa_ege-cancel-btn mgPlayerJSqa_ege-inline-block-vt'>"+i+"       </wmgPlayerJSqa_>   </wmgPlayerJSqa_> </wmgPlayerJSqa_> ");mg$(".mgPlayerJSqa_ege-panel").append(e),D.attachPopupActions(a,!1)},D.open=function(t,e,a,r,i,n,s){"string"!=typeof t&&(t="Unknown error!");let l="",o=ge.labels.ok,c=ge.labels.btnCancel,g="",m="",d="",p="",u="<wmgPlayerJSqa_ class='mgPlayerJSqa_popup-btn-close mgPlayerJSqa_ege-cancel-btn'>"+ge.svgs.popupClose+"</wmgPlayerJSqa_>",h="",y="",_=(i&&(d="<wmgPlayerJSqa_ class='mgPlayerJSqa_span mgPlayerJSqa_info-msg-container'><wmgPlayerJSqa_ class='mgPlayerJSqa_span mgPlayerJSqa_modal-view-more'>"+ge.labels.viewMore+"</wmgPlayerJSqa_><br><wmgPlayerJSqa_ class='mgPlayerJSqa_info-msg'>"+i+"</wmgPlayerJSqa_></wmgPlayerJSqa_>"),ge.labels.guidePublishWarning===t&&(h="<wmgPlayerJSqa_ class= 'mgPlayerJSqa_donot-show-popup'><input id='mgPlayerJSqa_donot-show-cb' type= 'checkbox' class='mgPlayerJSqa_input-checkbox-custom' /><wmgPlayerJSqa_ class='mgPlayerJSqa_info-msg-donot-show-popup'>Do not show this pop up again</wmgPlayerJSqa_></wmgPlayerJSqa_>"),"yesno"===e&&(o="Yes",c="No"),"tourPlay"===e&&(o=ge.labels.startOver,c=ge.labels.yesResume,u="<button id='mgPlayerJSqa_resusme-guide-close-button' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_popup-upload-close mgPlayerJSqa_ege-popup-close mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer mgPlayerJSqa_display-flex mgPlayerJSqa_justify-content-flex-end mgPlayerJSqa_padding-15' aria-label='Close' >"+ge.svgs.popupClose+"</button>"),"tourPlay"!==e&&"info"!==e&&""!==e||(g="mgPlayerJSqa_popup-info",m=ge.svgs.popupInfo),"alert"===e&&(g="mgPlayerJSqa_popup-error",m=ge.svgs.popupError),"success"===e&&(g="mgPlayerJSqa_popup-success",m=ge.svgs.popupSuccess),"warning"===e&&(g="mgPlayerJSqa_popup-warning",m=ge.svgs.popupWarning),"confirm"!==e&&"copy"!==e&&"yesno"!==e&&"domain"!==e||(g="mgPlayerJSqa_popup-warning",m=ge.svgs.popupWarning),"tourPlay"===e&&(l="<button id='mgPlayerJSqa_btn-cancel-tour-play-popup' class='mgPlayerJSqa_ege-cancel-btn mgPlayerJSqa_btn-default mgPlayerJSqa_ege-inline-block-vt' aria-label='"+c+"' >"+c+"</button>"),"<button id='mgPlayerJSqa_btn-ok-common-popup' class='mgPlayerJSqa_ege-ok-btn mgPlayerJSqa_btn-default mgPlayerJSqa_btn-large mgPlayerJSqa_ege-inline-block-vt' aria-label='"+o+"' >"+o+"</button>");if("domain"===e){var S=[],f=GmCXt.getActiveAppSetting().app_env||ge.defaultAppEnv;for(b in f)f[b].checked&&S.push(b);if(S.length){for(var P,C=[],b=0;b<S.length;b++)P=ge.highestEnv===S[b]?"checked":"",C.push('<wmgPlayerJSqa_ class="mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_padding-5"><input type="radio" name="env" value='+S[b]+' class="mgPlayerJSqa_env mgPlayerJSqa_ege-popup-radio mgPlayerJSqa_inline-block-vt mgPlayerJSqa_input-radio-custom"'+P+'/><wmgPlayerJSqa_ class="mgPlayerJSqa_span mgPlayerJSqa_ege-popup-radio-text">'+ge.updateEnvNames(S[b])+"</wmgPlayerJSqa_></wmgPlayerJSqa_>");p='<br><wmgPlayerJSqa_ class="mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_display-flex mgPlayerJSqa_justify-content-center mgPlayerJSqa_flex-wrap mgPlayerJSqa_padding-lr-15">'+C.join("")+" </wmgPlayerJSqa_><br>",_="<button class='mgPlayerJSqa_ege-ok-btn-radio mgPlayerJSqa_btn-default mgPlayerJSqa_ege-inline-block-vt' aria-label='"+o+"' >"+o+"</button>"}}"copy"===e&&(o=ge.labels.copy);let q="";if(ge.categoryIsUnPublished){let e="";i=ge.labels;e=t===i.tourpublishMsg2?i.tooltipPublishWarningMessage:i.guidePublishWarningMessage,q="<wmgPlayerJSqa_ class='mgPlayerJSqa_popup-content-info'>"+e+"</wmgPlayerJSqa_>",ge.categoryIsUnPublished=!1}GmCXt.isDefined(s)&&(y="<wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-title-wrapper'>"+s+"</wmgPlayerJSqa_>");e=" <wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-container'></wmgPlayerJSqa_> <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup "+g+"'>    <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-wrapper'>   "+u+"       <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon-wrapper'><wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon'>"+m+"</wmgPlayerJSqa_></wmgPlayerJSqa_>   </wmgPlayerJSqa_>"+y+"   <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-content-wrapper mgPlayerJSqa_font-size-17'>"+t+d+"</wmgPlayerJSqa_> "+q+" "+p+h+"   <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-btn-wrapper'>"+_+l+"   </wmgPlayerJSqa_> </wmgPlayerJSqa_> ";(ge.isAutoConfigPanelOpen?mg$(".mgPlayerJSqa_ege-panel-auto"):mg$(".mgPlayerJSqa_ege-panel")).append(e),D.attachPopupActions(a,r,!1),setTimeout(function(){mg$("#mgPlayerJSqa_btn-ok-common-popup").focus()},500),n&&setTimeout(function(){mg$(".mgPlayerJSqa_overlay-container").remove(),mg$(".mgPlayerJSqa_ege-popup").remove()},n)},D.openCategoryDelete=function(e,t,a){var r=ge.svgs.popupWarning,r=" <wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-container'></wmgPlayerJSqa_> <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup mgPlayerJSqa_popup-warning'>    <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-wrapper'>   "+("<wmgPlayerJSqa_ id='mgPlayerJSqa_btn-cancel-cat-del-popup' class='mgPlayerJSqa_popup-btn-close mgPlayerJSqa_ege-cancel-btn'>"+ge.svgs.popupClose+"</wmgPlayerJSqa_>")+"       <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon-wrapper'><wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon'>"+r+"</wmgPlayerJSqa_></wmgPlayerJSqa_>   </wmgPlayerJSqa_>   <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-content-wrapper mgPlayerJSqa_font-size-17'>"+ge.labels.deleteFolder+": <b>"+e.name+"</b></wmgPlayerJSqa_>   <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-content-info'>"+e.msg+"</wmgPlayerJSqa_>   <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-btn-wrapper'>       <wmgPlayerJSqa_ id='mgPlayerJSqa_btn-ok-cat-del-popup' class='mgPlayerJSqa_ege-ok-btn mgPlayerJSqa_btn-default mgPlayerJSqa_btn-large mgPlayerJSqa_ege-inline-block-vt'>OK</wmgPlayerJSqa_>   </wmgPlayerJSqa_> </wmgPlayerJSqa_> ";mg$(".mgPlayerJSqa_ege-panel").append(r),D.attachPopupActions(t,a,!1)},D.openJsonEdit=function(e,t,a,r){mg$(".mgPlayerJSqa_ege-panel").append("<wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup mgPlayerJSqa_popup-warning'>    <pre id='mgPlayerJSqa_json-editor'></pre>   <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-btn-wrapper'>       <wmgPlayerJSqa_ id='mgPlayerJSqa_btn-ok-json-edit-popup' class='mgPlayerJSqa_ege-ok-json-update mgPlayerJSqa_btn-default mgPlayerJSqa_ege-inline-block-vt'>Save</wmgPlayerJSqa_>       <wmgPlayerJSqa_ id='mgPlayerJSqa_btn-cancel-json-edit-popup' class='mgPlayerJSqa_ege-cancel-btn mgPlayerJSqa_btn-default mgPlayerJSqa_ege-inline-block-vt'>Cancel</wmgPlayerJSqa_>   </wmgPlayerJSqa_> </wmgPlayerJSqa_> "),D.attachPopupActions(a,r,!1)},D.openGuideLink=function(e,t,r,i){ge.step={};let n=e.data;ge.showLoading();e={tour_id:n.tour.tour_id,step_title:"",step_description:"",step_type:"guide",step_target_type:"na",step_target_name:"na",step_settings:"na",step_image:"0",step_screen:"0",step_url:"na",step_audio_text:"na",step_video_id:"0",step_audio:"0",step_order:parseInt(n.order)};ge.step=e;let s=D;setTimeout(function(){ge.hideLoading()},200);e={category_id:n.tour.category_id,limit:100,offset:0};let l=" <wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-container'></wmgPlayerJSqa_>";GmCXt.api.getTourList(e,function(e){let a="";e.forEach(function(e,t){e.tour_id!==n.tour.tour_id&&0<parseInt(e.step_count)&&e.tour_type===n.tour_type&&(a+='<option value="'+e.tour_id+'" data-category_id="'+e.category_id+'"  data-description="'+e.tour_description+'" data-image="'+e.tour_image+'" data-screenImage="'+e.tour_image+'">'+e.tour_title+"</option>")}),l+=" <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-link-guide'>  <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-header'>"+ge.labels.guideLinkMessage+'</wmgPlayerJSqa_> <wmgPlayerJSqa_ class=\'mgPlayerJSqa_ege-popup-close\'><svg version="1.1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M46,4C44.9,3,43.2,3,42.1,4L25,21.2L7.9,4C6.8,3,5.1,3,4,4S3,6.8,4,7.9L21.2,25L4,42.1C3,43.2,3,44.9,4,46c0.5,0.5,1.2,0.8,1.9,0.8s1.4-0.3,1.9-0.8L25,28.8L42.1,46c0.5,0.5,1.2,0.8,1.9,0.8c0.7,0,1.4-0.3,1.9-0.8c1.1-1.1,1.1-2.8,0-3.8L28.8,25L46,7.9C47,6.8,47,5.1,46,4z"/></g></g></svg> </wmgPlayerJSqa_> <wmgPlayerJSqa_ class=\'mgPlayerJSqa_selectbox-wrapper\'>         <select class=\'mgPlayerJSqa_create-step-selectbox-select\' id=\'mgPlayerJSqa_ruleTypeGuide\'>             <option value=\'\'>'+ge.labels.select+"</option>             "+a+"          </select> </wmgPlayerJSqa_> <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-error-msg'>"+ge.labels.selectGuideBeforeSubmit+"</wmgPlayerJSqa_> <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-btn-wrapper'>       <wmgPlayerJSqa_ class='mgPlayerJSqa_btn-default mgPlayerJSqa_ege-inline-block-vt'>"+ge.labels.btnLink+"</wmgPlayerJSqa_>       <wmgPlayerJSqa_ class='mgPlayerJSqa_btn-default mgPlayerJSqa_btn-neutral mgPlayerJSqa_ege-inline-block-vt'>"+ge.labels.btnCancel+"</wmgPlayerJSqa_> </wmgPlayerJSqa_> </wmgPlayerJSqa_> ",mg$(".mgPlayerJSqa_ege-panel").append(l),s.attachPopupActions(r,"",i)})},D.openDoItPopup=function(e,t,a){var r="<wmgPlayerJSqa_ class='mgPlayerJSqa_popup-btn-close mgPlayerJSqa_ege-cancel-btn'>"+ge.svgs.popupClose+"</wmgPlayerJSqa_>";let i="",n="";GmCXt.isDefined(t)&&(i="<wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-title-wrapper'>"+t+"</wmgPlayerJSqa_>"),GmCXt.isPlayer()&&(n="<button class='mgPlayerJSqa_csv-download-wrapper mgPlayerJSqa_btn-default mgPlayerJSqa_btn-border mgPlayerJSqa_btn-svg mgPlayerJSqa_btn-shadow'>"+ge.labels.btnExportCsvTask+"<wmgPlayerJSqa_ class='mgPlayerJSqa_btn-svg-wrapper mgPlayerJSqa_inline-block-vm mgPlayerJSqa_margin-lr-5'>"+ge.svgs.csvDownload+"</wmgPlayerJSqa_></button>");t=" <wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-container'></wmgPlayerJSqa_>   <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup mgPlayerJSqa_popup-info'>        <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-wrapper'>       "+r+"            <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon-wrapper'><wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon'>"+ge.svgs.popupInfo+"</wmgPlayerJSqa_></wmgPlayerJSqa_>       </wmgPlayerJSqa_>"+i+"       <wmgPlayerJSqa_ class='mgPlayerJSqa_image-file-input-wrapper'>           <wmgPlayerJSqa_ class='mgPlayerJSqa_btn-upload-file mgPlayerJSqa_inline-block-vm'>                 <input id='mgPlayerJSqa_input-csv' class='mgPlayerJSqa_file-input mgPlayerJSqa_display-none' title='Upload CSV' type='file' tabindex='-1' name='inputData' accept='.csv'>               <wmgPlayerJSqa_ class='mgPlayerJSqa_inputfile mgPlayerJSqa_inputfile-1'></wmgPlayerJSqa_>               <label id='mgPlayerJSqa_label-input-csv' for='mgPlayerJSqa_input-csv'><wmgPlayerJSqa_ class='mgPlayerJSqa_span mgPlayerJSqa_ege-inline-block-vt'>"+ge.labels.chooseFile+"</wmgPlayerJSqa_></label>               <wmgPlayerJSqa_ id='mgPlayerJSqa_selected-filename' class='mgPlayerJSqa_selected-filename mgPlayerJSqa_display-none'></wmgPlayerJSqa_>           </wmgPlayerJSqa_>         </wmgPlayerJSqa_> "+n+"       <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-btn-wrapper'>           <wmgPlayerJSqa_ id='mgPlayerJSqa_btn-ok-doit-popup' class='mgPlayerJSqa_ege-csv-ok-btn mgPlayerJSqa_btn-default mgPlayerJSqa_btn-large mgPlayerJSqa_ege-inline-block-vt'>"+ge.labels.ok+"</wmgPlayerJSqa_>       </wmgPlayerJSqa_>   </wmgPlayerJSqa_> ";mg$(".mgPlayerJSqa_ege-panel").append(t),D.attachPopupActions(e,null,null,a)},D.close=function(){mg$(".mgPlayerJSqa_overlay-container").remove(),mg$(".mgPlayerJSqa_ege-popup").remove(),mg$(".mgPlayerJSqa_ege-popup-link-guide").remove(),mg$(".mgPlayerJSqa_category-delete-popup").remove()},ge.checkTimeValidity=function(){var e=mg$("#mgPlayerJSqa_pub-schedule-date").val()+"T"+mg$("#mgPlayerJSqa_pub-schedule-time").val();Date.parse(e)<Date.now()?(mg$(".mgPlayerJSqa_invalid-pub-time").show(),mg$("#mgPlayerJSqa_btn-ok-publish-popup").addClass("mgPlayerJSqa_disabled")):(mg$(".mgPlayerJSqa_invalid-pub-time").hide(),mg$("#mgPlayerJSqa_btn-ok-publish-popup").removeClass("mgPlayerJSqa_disabled"))},D.publishNoEnv=function(e,t,a){let r=D;ge.guideEnvs=e.tour_settings.app_publish_env,ge.guideEnvs,void 0===ge.guideEnvs&&e.is_published&&ge.appEnvs,e.is_published||localStorage.getItem(GmCXt.prevEnv),ge.appEnvs;e="<wmgPlayerJSqa_ class='mgPlayerJSqa_popup-btn-close mgPlayerJSqa_ege-cancel-btn'>"+ge.svgs.popupClose+"</wmgPlayerJSqa_>";let i="";GmCXt.isDefined(a)&&(i="<wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-title-wrapper'>"+a+"</wmgPlayerJSqa_>");a=" <wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-container'></wmgPlayerJSqa_> <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup mgPlayerJSqa_popup-info'>    <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-wrapper'>   "+e+"       <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon-wrapper'><wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon'>"+ge.svgs.popupInfo+"</wmgPlayerJSqa_></wmgPlayerJSqa_>   </wmgPlayerJSqa_>"+i+ra()+"<wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-btn-wrapper'><button id='mgPlayerJSqa_btn-ok-publish-popup' class='mgPlayerJSqa_ege-publish mgPlayerJSqa_btn-default mgPlayerJSqa_btn-large mgPlayerJSqa_ege-inline-block-vt'>"+ge.labels.publish+"</button></wmgPlayerJSqa_></wmgPlayerJSqa_> ";mg$(".mgPlayerJSqa_ege-panel").append(a),mg$(".mgPlayerJSqa_pub-schedule-checkbox-container").show(),mg$("#mgPlayerJSqa_pub-schedule-date").change(function(e){ge.checkTimeValidity()}),mg$("#mgPlayerJSqa_pub-schedule-time").change(function(e){ge.checkTimeValidity()}),mg$("#mgPlayerJSqa_checkbox-tour-schedule-pub").off("click").on("click",function(){mg$("#mgPlayerJSqa_checkbox-tour-schedule-pub").is(":checked")?mg$(".mgPlayerJSqa_pub-date-container").show():mg$(".mgPlayerJSqa_pub-date-container").hide()}),mg$("#mgPlayerJSqa_btn-ok-publish-popup").off("click").on("click",function(){t(),r.close()}),mg$(".mgPlayerJSqa_popup-btn-close").off("click").on("click",function(e){r.close()}),ge.hideLoading()},D.publish=function(e,t,a){ge.guideEnvs=e.tour_settings.app_publish_env;let r=ge.guideEnvs||[];void 0===ge.guideEnvs&&e.is_published&&(r=ge.appEnvs),e.is_published||(r=localStorage.getItem(GmCXt.prevEnv));var i=ge.appEnvs,n=[],s="<wmgPlayerJSqa_ class='mgPlayerJSqa_popup-btn-close mgPlayerJSqa_ege-cancel-btn'>"+ge.svgs.popupClose+"</wmgPlayerJSqa_>";for(n.push('<wmgPlayerJSqa_ class="mgPlayerJSqa_guide-progress-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-flex-end"><wmgPlayerJSqa_ id='+i[0]+' class="mgPlayerJSqa_guide-progress-val"><wmgPlayerJSqa_ class="mgPlayerJSqa_guide-progress-label mgPlayerJSqa_text-align-center mgPlayerJSqa_font-size-13">'+ge.updateEnvNames(i[0])+"</wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_> "),c=1;c<i.length;c++)n.push("<wmgPlayerJSqa_ class='mgPlayerJSqa_hr'></wmgPlayerJSqa_><wmgPlayerJSqa_ class=\"mgPlayerJSqa_guide-progress-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-flex-end mgPlayerJSqa_ele-width\"><wmgPlayerJSqa_ id="+i[c]+' class="mgPlayerJSqa_guide-progress-val"><wmgPlayerJSqa_ class="mgPlayerJSqa_guide-progress-label mgPlayerJSqa_text-align-center mgPlayerJSqa_font-size-13">'+ge.updateEnvNames(i[c])+"</wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_> ");let l="",o="";GmCXt.isDefined(a)&&(o="<wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-title-wrapper'>"+a+"</wmgPlayerJSqa_>");a=" <wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-container'></wmgPlayerJSqa_> <wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup mgPlayerJSqa_popup-info'>    <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-wrapper'>   "+s+"       <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon-wrapper'><wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon'>"+ge.svgs.popupInfo+"</wmgPlayerJSqa_></wmgPlayerJSqa_>   </wmgPlayerJSqa_>"+o+"<wmgPlayerJSqa_ class='mgPlayerJSqa_guide-progress-container mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-start mgPlayerJSqa_justify-content-center'>"+n.join("")+"</wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_process-msg mgPlayerJSqa_width-100 mgPlayerJSqa_text-align-center mgPlayerJSqa_padding-lr-15' id='mgPlayerJSqa_publishMsg'>"+l+"</wmgPlayerJSqa_>"+ra()+"<wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-btn-wrapper'><button id='mgPlayerJSqa_btn-ok-publish-popup' class='mgPlayerJSqa_ege-publish mgPlayerJSqa_btn-default mgPlayerJSqa_btn-large mgPlayerJSqa_ege-inline-block-vt mgPlayerJSqa_disabled'>"+ge.labels.publish+"</button></wmgPlayerJSqa_></wmgPlayerJSqa_> ";mg$(".mgPlayerJSqa_ege-panel").append(a);for(var c=0;c<i.length;c++)if(-1!==r.indexOf(i[c])){mg$(".mgPlayerJSqa_ege-publish").removeClass("mgPlayerJSqa_disabled"),mg$("#"+i[c]).addClass("mgPlayerJSqa_active-progress");for(let e=c-1;0<=e;e--)mg$(".mgPlayerJSqa_ege-publish").removeClass("mgPlayerJSqa_disabled"),mg$("#"+i[e]).addClass("mgPlayerJSqa_active-progress")}for(var g,c=0;c<r.length;c++)-1!==ge.appEnvs.indexOf(r[c])&&(g=ge.updateEnvNames(r[c]),l?l+=", "+g:l=ge.labels.guideIsPubIn+g);l&&mg$("#mgPlayerJSqa_publishMsg").text(l);let m=r;(m="string"==typeof r?r.split(","):m).length===i.length?mg$(".mgPlayerJSqa_pub-schedule-checkbox-container").show():mg$(".mgPlayerJSqa_pub-schedule-checkbox-container").hide(),mg$("#mgPlayerJSqa_pub-schedule-date").change(function(e){ge.checkTimeValidity()}),mg$("#mgPlayerJSqa_pub-schedule-time").change(function(e){ge.checkTimeValidity()}),mg$("#mgPlayerJSqa_checkbox-tour-schedule-pub").off("click").on("click",function(){mg$("#mgPlayerJSqa_checkbox-tour-schedule-pub").is(":checked")?mg$(".mgPlayerJSqa_pub-date-container").show():mg$(".mgPlayerJSqa_pub-date-container").hide()}),ge.hideLoading(),ia()&&e.is_published&&mg$(".mgPlayerJSqa_ege-publish").addClass("mgPlayerJSqa_disabled"),D.addPublishActions(t)},D.scheduled=function(t,e,a){ge.guideEnvs=t.tour_settings.app_publish_env;let r=D;ge.guideEnvs,void 0===ge.guideEnvs&&t.is_published&&ge.appEnvs,t.is_published||localStorage.getItem(GmCXt.prevEnv);var i=ge.appEnvs,n="<wmgPlayerJSqa_ class='mgPlayerJSqa_popup-btn-close mgPlayerJSqa_ege-cancel-btn'>"+ge.svgs.popupClose+"</wmgPlayerJSqa_>",s=new Date(t.tour_settings.visibilitytimestamp);let l=s.getMonth()+1;l<10&&(l="0"+l);var o=s.getDate(),c=s.getFullYear(),o=(s.getHours(),s.getHours(),s.getMinutes(),s.getMinutes(),o+"/"+l+"/"+c),c=s.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});let g="";GmCXt.isDefined(a)&&(g="<wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup-title-wrapper'>"+a+"</wmgPlayerJSqa_>");s=" <wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-container'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_ege-popup mgPlayerJSqa_popup-info'> <wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-wrapper'>"+n+"<wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon-wrapper'><wmgPlayerJSqa_ class='mgPlayerJSqa_popup-header-icon'>"+ge.svgs.popupInfo+"</wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_>"+g+"<wmgPlayerJSqa_ class='mgPlayerJSqa_schedule-popup-container'><wmgPlayerJSqa_ class='mgPlayerJSqa_schedule-popup-container-inner'><wmgPlayerJSqa_ class='mgPlayerJSqa_schedule-popup-header-title'>"+ge.updateEnvNames(i[i.length-1])+"</wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_padding-10'><wmgPlayerJSqa_ class='mgPlayerJSqa_padding-5 mgPlayerJSqa_display-inline-block'>"+ge.labels.scheduleDateLabel+"</wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_padding-5 mgPlayerJSqa_display-inline-block mgPlayerJSqa_float-right'>"+o+"</wmgPlayerJSqa_></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_hr'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_padding-10'><wmgPlayerJSqa_ class='mgPlayerJSqa_padding-5 mgPlayerJSqa_display-inline-block'>"+ge.labels.scheduleTimeLabel+"</wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_padding-5 mgPlayerJSqa_display-inline-block mgPlayerJSqa_float-right'>"+c+"</wmgPlayerJSqa_></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_hr'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_padding-10'><wmgPlayerJSqa_ class='mgPlayerJSqa_padding-5 mgPlayerJSqa_display-inline-block'>"+ge.labels.status+"</wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_padding-5 mgPlayerJSqa_display-inline-block mgPlayerJSqa_float-right'> "+ge.labels.scheduleLabel+"</wmgPlayerJSqa_></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_hr'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_cancel-schedule'><button type='button' class='mgPlayerJSqa_cancel-schedule-btn mgPlayerJSqa_lbl-btn'>"+ge.labels.cancelSchedule+"</button></wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_>";mg$(".mgPlayerJSqa_ege-panel").append(s),mg$(".mgPlayerJSqa_cancel-schedule-btn").off("click").on("click",function(e){ge.changeStatus(t,"unpublish"),r.close()}),mg$(".mgPlayerJSqa_popup-btn-close").off("click").on("click",function(e){r.close()}),ge.hideLoading()};let na={};function sa(e,t,a){e=e.slice();return e[53]=t[a],e}function la(e){let a,r,i,n,s,l=e[0].brandName+"",o,c,g,m,d=e[17]&&oa(e),p=1===e[0].appConfig.login.guideme&&ca(e),u=1===e[0].appConfig.login.SSO&&ma(e);return{c(){a=Ee("wmgPlayerJSqa_"),d&&d.c(),r=Ie(),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),o=Me(l),c=Ie(),p&&p.c(),g=Ie(),u&&u.c(),$e(s,"class","mgPlayerJSqa_h2 mgPlayerJSqa_font-size-26 mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-30"),$e(n,"name","form.signin"),$e(n,"role","form"),$e(n,"aria-labelledby","guide-user-signin-form"),$e(i,"class","mgPlayerJSqa_signin-page-wrapper"),$e(a,"class","mgPlayerJSqa_ege-panel-main-container mgPlayerJSqa_signin-page-container mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y mgPlayerJSqa_no-padding")},m(e,t){xe(e,a,t),d&&d.m(a,null),ke(a,r),ke(a,i),ke(i,n),ke(n,s),ke(s,o),ke(n,c),p&&p.m(n,null),ke(n,g),u&&u.m(n,null),m=!0},p(e,t){e[17]?d?d.p(e,t):((d=oa(e)).c(),d.m(a,r)):d&&(d.d(1),d=null),(!m||1&t[0])&&l!==(l=e[0].brandName+"")&&Fe(o,l),1===e[0].appConfig.login.guideme?p?(p.p(e,t),1&t[0]&&Ne(p,1)):((p=ca(e)).c(),Ne(p,1),p.m(n,g)):p&&(Re(),Be(p,1,1,()=>{p=null}),He()),1===e[0].appConfig.login.SSO?u?u.p(e,t):((u=ma(e)).c(),u.m(n,null)):u&&(u.d(1),u=null)},i(e){m||(Ne(p),m=!0)},o(e){Be(p),m=!1},d(e){e&&Le(a),d&&d.d(),p&&p.d(),u&&u.d()}}}function oa(e){let a,r,i=e[0].labels.invalidLoginCred+"",n;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Me(i),$e(r,"class","mgPlayerJSqa_invalid-log-error-wrapper mgPlayerJSqa_font-size-14 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center"),$e(a,"class","mgPlayerJSqa_width-100 mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-tb-15")},m(e,t){xe(e,a,t),ke(a,r),ke(r,n)},p(e,t){1&t[0]&&i!==(i=e[0].labels.invalidLoginCred+"")&&Fe(n,i)},d(e){e&&Le(a)}}}function ca(a){let r,i,n,s,l=a[0].labels.placeholderEmail+"",o,c,g,m,$,d,p=a[0].labels.emailError+"",u,F,h,y,_=a[0].labels.placeholderPassword+"",S,O,f,P,R,C,b=a[0].labels.passwordError+"",q,H,N,v,B,w,J,G=a[0].labels.loginTitle+"",A,V,z=!GmCXt.isPlayer()&&!GmCXt.isWestpac(),U,T,X,k=a[0].labels.forgotPass+"",x,j,L,E,M,W,I=!a[0].config.hideCaptcha&&ga(a),D=z&&function(a){let r,i,n=a[0].labels.logInWithSSOCreator+"",s,l,o;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),s=Me(n),$e(i,"type","button"),$e(i,"id","mgPlayerJSqa_label-login-with-sso"),$e(i,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_font-size-15 mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-10"),$e(r,"class","mgPlayerJSqa_signin-form-container mgPlayerJSqa_text-align-center")},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),l||(o=De(i,"click",a[26]),l=!0)},p(e,t){1&t[0]&&n!==(n=e[0].labels.logInWithSSOCreator+"")&&Fe(s,n)},d(e){e&&Le(r),l=!1,o()}}}(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),o=Me(l),c=Ie(),g=Ee("input"),$=Ie(),d=Ee("wmgPlayerJSqa_"),u=Me(p),F=Ie(),h=Ee("wmgPlayerJSqa_"),y=Ee("wmgPlayerJSqa_"),S=Me(_),O=Ie(),f=Ee("input"),R=Ie(),C=Ee("wmgPlayerJSqa_"),q=Me(b),H=Ie(),I&&I.c(),N=Ie(),v=Ee("wmgPlayerJSqa_"),B=Ie(),w=Ee("wmgPlayerJSqa_"),J=Ee("button"),A=Me(G),V=Ie(),D&&D.c(),U=Ie(),T=Ee("wmgPlayerJSqa_"),X=Ee("button"),x=Me(k),j=Ie(),L=Ee("wmgPlayerJSqa_"),$e(s,"id","mgPlayerJSqa_input-login-email-label"),$e(s,"class","mgPlayerJSqa_text-align-left mgPlayerJSqa_login-field-label"),$e(g,"id","mgPlayerJSqa_input-login-email"),$e(g,"class","mgPlayerJSqa_input-type-text mgPlayerJSqa_font-size-16 mgPlayerJSqa_inline-block-vm"),$e(g,"maxlength","50"),$e(g,"spellcheck","true"),$e(g,"type","email"),$e(g,"placeholder",m=a[0].labels.placeholderEmail),$e(g,"aria-describedby","mgPlayerJSqa_input-login-email-err"),$e(g,"aria-labelledby","mgPlayerJSqa_input-login-email-label"),$e(g,"autocomplete","email"),$e(g,"aria-label","Email ID"),g.required=!0,$e(d,"id","mgPlayerJSqa_input-login-email-err"),$e(d,"class","mgPlayerJSqa_error-input-wrapper emailid-error-wrapper"),Oe(d,"active",a[3]),$e(n,"class","mgPlayerJSqa_input-email-wrapper mgPlayerJSqa_margin-tb-10"),$e(y,"class","mgPlayerJSqa_text-align-left mgPlayerJSqa_login-field-label"),$e(f,"id","mgPlayerJSqa_input-login-pass"),$e(f,"autocomplete","new-password"),$e(f,"class","mgPlayerJSqa_input-type-text mgPlayerJSqa_font-size-16 mgPlayerJSqa_ege-inline-block-vm"),$e(f,"minlength","6"),$e(f,"maxlength","20"),$e(f,"spellcheck","true"),$e(f,"type","password"),$e(f,"placeholder",P=a[0].labels.placeholderPassword),$e(f,"name","password"),f.required=!0,$e(f,"aria-describedby","mgPlayerJSqa_input-login-pass-err"),$e(f,"aria-label","Password"),$e(C,"id","mgPlayerJSqa_input-login-pass-err"),$e(C,"class","mgPlayerJSqa_error-input-wrapper password-error-wrapper"),Oe(C,"active",a[4]),$e(h,"class","mgPlayerJSqa_input-password-wrapper mgPlayerJSqa_margin-tb-10"),$e(i,"class","mgPlayerJSqa_signin-form-input"),$e(v,"class","mgPlayerJSqa_clear"),$e(J,"id","mgPlayerJSqa_btn-login-title"),$e(J,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_font-size-15"),$e(J,"aria-label","Login"),$e(J,"type","button"),$e(w,"class","mgPlayerJSqa_btn-login-wrapper mgPlayerJSqa_text-align-center"),$e(X,"id","mgPlayerJSqa_label-login-forgot-pass"),$e(X,"type","button"),$e(X,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_options-label mgPlayerJSqa_text-align-center mgPlayerJSqa_cursor-pointer mgPlayerJSqa_inline-block-vm mgPlayerJSqa_font-weight-550"),$e(T,"class","mgPlayerJSqa_float-right mgPlayerJSqa_options-wrapper mgPlayerJSqa_single-option-wrapper"),$e(L,"class","mgPlayerJSqa_clear"),$e(r,"class","mgPlayerJSqa_signin-form-container")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),ke(s,o),ke(n,c),ke(n,g),je(g,a[1]),a[31](g),ke(n,$),ke(n,d),ke(d,u),ke(i,F),ke(i,h),ke(h,y),ke(y,S),ke(h,O),ke(h,f),je(f,a[2]),a[33](f),ke(h,R),ke(h,C),ke(C,q),ke(i,H),I&&I.m(i,null),ke(r,N),ke(r,v),ke(r,B),ke(r,w),ke(w,J),ke(J,A),ke(r,V),D&&D.m(r,null),ke(r,U),ke(r,T),ke(T,X),ke(X,x),ke(r,j),ke(r,L),E=!0,M||(W=[De(g,"input",a[30]),De(f,"input",a[32]),De(J,"click",a[22]),De(X,"click",a[23])],M=!0)},p(e,t){(!E||1&t[0])&&l!==(l=e[0].labels.placeholderEmail+"")&&Fe(o,l),(!E||1&t[0]&&m!==(m=e[0].labels.placeholderEmail))&&$e(g,"placeholder",m),2&t[0]&&g.value!==e[1]&&je(g,e[1]),(!E||1&t[0])&&p!==(p=e[0].labels.emailError+"")&&Fe(u,p),(!E||8&t[0])&&Oe(d,"active",e[3]),(!E||1&t[0])&&_!==(_=e[0].labels.placeholderPassword+"")&&Fe(S,_),(!E||1&t[0]&&P!==(P=e[0].labels.placeholderPassword))&&$e(f,"placeholder",P),4&t[0]&&f.value!==e[2]&&je(f,e[2]),(!E||1&t[0])&&b!==(b=e[0].labels.passwordError+"")&&Fe(q,b),(!E||16&t[0])&&Oe(C,"active",e[4]),e[0].config.hideCaptcha?I&&(Re(),Be(I,1,1,()=>{I=null}),He()):I?(I.p(e,t),1&t[0]&&Ne(I,1)):((I=ga(e)).c(),Ne(I,1),I.m(i,null)),(!E||1&t[0])&&G!==(G=e[0].labels.loginTitle+"")&&Fe(A,G),z&&D.p(e,t),(!E||1&t[0])&&k!==(k=e[0].labels.forgotPass+"")&&Fe(x,k)},i(e){E||(Ne(I),E=!0)},o(e){Be(I),E=!1},d(e){e&&Le(r),a[31](null),a[33](null),I&&I.d(),D&&D.d(),M=!1,Xe(W)}}}function ga(t){let a,r,i=t[0].labels.captchaLbl+"",n,s,l,o,c,g,m;function e(e){t[34](e)}function d(e){t[35](e)}function p(e){t[36](e)}var u={};return void 0!==t[18]&&(u.captchaValid=t[18]),void 0!==t[19]&&(u.showCaptchaError=t[19]),void 0!==t[20]&&(u.inputCaptchaRef=t[20]),l=new Vt({props:u}),ue.push(()=>U(l,"captchaValid",e)),ue.push(()=>U(l,"showCaptchaError",d)),ue.push(()=>U(l,"inputCaptchaRef",p)),{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),Ve(l.$$.fragment),$e(r,"class","mgPlayerJSqa_text-align-left mgPlayerJSqa_login-field-label"),$e(a,"class","mgPlayerJSqa_margin-tb-10")},m(e,t){xe(e,a,t),ke(a,r),ke(r,n),ke(a,s),ze(l,a,null),m=!0},p(e,t){(!m||1&t[0])&&i!==(i=e[0].labels.captchaLbl+"")&&Fe(n,i);var a={};!o&&262144&t[0]&&(o=!0,a.captchaValid=e[18],z(()=>o=!1)),!c&&524288&t[0]&&(c=!0,a.showCaptchaError=e[19],z(()=>c=!1)),!g&&1048576&t[0]&&(g=!0,a.inputCaptchaRef=e[20],z(()=>g=!1)),l.$set(a)},i(e){m||(Ne(l.$$.fragment,e),m=!0)},o(e){Be(l.$$.fragment,e),m=!1},d(e){e&&Le(a),Ue(l)}}}function ma(a){let r,i,n,s=a[0].labels.logInWithSSO+"",l,o,c;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("button"),l=Me(s),$e(n,"type","button"),$e(n,"id","mgPlayerJSqa_label-login-with-sso"),$e(n,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_btn-large mgPlayerJSqa_font-size-16 mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-t-50"),$e(i,"class","mgPlayerJSqa_margin-tb-20"),$e(r,"class","mgPlayerJSqa_signin-form-container")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,l),o||(c=De(n,"click",a[27]),o=!0)},p(e,t){1&t[0]&&s!==(s=e[0].labels.logInWithSSO+"")&&Fe(l,s)},d(e){e&&Le(r),o=!1,c()}}}function da(e){let a,r,i,n,s=e[0].labels.loginOtpScreenTitle+"",l,o,c,g,m=1===e[0].appConfig.login.guideme&&pa(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),l=Me(s),o=Ie(),m&&m.c(),c=Ie(),g=Ee("wmgPlayerJSqa_"),$e(n,"class","mgPlayerJSqa_h2 mgPlayerJSqa_font-size-24 mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-25"),$e(g,"class","mgPlayerJSqa_ege-clear"),$e(i,"role","form"),$e(i,"aria-labelledby","guide-verify-otp-form"),$e(i,"name","form.verifyOtp"),$e(i,"autocomplete","off"),$e(r,"class","mgPlayerJSqa_signin-page-wrapper"),$e(a,"class","mgPlayerJSqa_ege-panel-main-container mgPlayerJSqa_signin-page-container mgPlayerJSqa_overflow mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),ke(i,n),ke(n,l),ke(i,o),m&&m.m(i,null),ke(i,c),ke(i,g)},p(e,t){1&t[0]&&s!==(s=e[0].labels.loginOtpScreenTitle+"")&&Fe(l,s),1===e[0].appConfig.login.guideme?m?m.p(e,t):((m=pa(e)).c(),m.m(i,c)):m&&(m.d(1),m=null)},d(e){e&&Le(a),m&&m.d()}}}function pa(a){let r,i,n,s,l=a[0].labels.placeholderOtp+"",o,c,g,m,d,p,u=a[0].labels.otpError+"",h,y,_,S,f,P=a[0].labels.btnOtpVerify+"",C,b,q,v,w,J,G,A,T,X;function k(e){return e[9]?ha:ua}let x=k(a),L=x(a),E=a[10]&&ya(a),M=a[12]&&_a(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),o=Me(l),c=Ie(),g=Ee("input"),d=Ie(),p=Ee("wmgPlayerJSqa_"),h=Me(u),_=Ie(),S=Ee("wmgPlayerJSqa_"),f=Ee("button"),C=Me(P),w=Ie(),J=Ee("wmgPlayerJSqa_"),L.c(),G=Ie(),E&&E.c(),A=Ie(),M&&M.c(),$e(s,"id","mgPlayerJSqa_input-otp-label"),$e(s,"class","mgPlayerJSqa_text-align-left mgPlayerJSqa_login-field-label"),$e(g,"id","mgPlayerJSqa_input-otp"),$e(g,"class","mgPlayerJSqa_input-type-text mgPlayerJSqa_font-size-13 mgPlayerJSqa_inline-block-vm"),$e(g,"maxlength","6"),$e(g,"spellcheck","true"),$e(g,"type","text"),$e(g,"placeholder",m=a[0].labels.placeholderOtp),g.required=!0,$e(g,"name","otp"),$e(g,"pattern","^[0-9]*$"),$e(g,"aria-describedby","mgPlayerJSqa_input-otp-err"),$e(g,"aria-labelledby","mgPlayerJSqa_input-otp-label"),$e(p,"id","mgPlayerJSqa_input-otp-err"),$e(p,"class",y="mgPlayerJSqa_error-input-wrapper emailid-error-wrapper "+(a[11].otpRequired?"active":"")),$e(n,"class","mgPlayerJSqa_input-email-wrapper mgPlayerJSqa_margin-tb-10"),$e(i,"class","mgPlayerJSqa_signin-form-input"),$e(f,"id","mgPlayerJSqa_btn-verify-otp"),$e(f,"class",b="mgPlayerJSqa_btn-default mgPlayerJSqa_btn-large mgPlayerJSqa_font-size-16 "+(a[11].otpRequired?"mgPlayerJSqa_disabled":"")),$e(f,"type","button"),$e(f,"aria-disabled",q=a[11].otpRequired),$e(f,"aria-label",v=a[0].labels.btnOtpVerify),$e(S,"class","mgPlayerJSqa_margin-tb-25 mgPlayerJSqa_text-align-center"),$e(J,"class","mgPlayerJSqa_options-wrapper"),$e(r,"class","mgPlayerJSqa_signin-form-container")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),ke(s,o),ke(n,c),ke(n,g),je(g,a[8]),ke(n,d),ke(n,p),ke(p,h),ke(r,_),ke(r,S),ke(S,f),ke(f,C),ke(r,w),ke(r,J),L.m(J,null),ke(r,G),E&&E.m(r,null),ke(r,A),M&&M.m(r,null),T||(X=[De(g,"input",a[37]),De(g,"focus",a[38]),De(f,"click",a[21])],T=!0)},p(e,t){1&t[0]&&l!==(l=e[0].labels.placeholderOtp+"")&&Fe(o,l),1&t[0]&&m!==(m=e[0].labels.placeholderOtp)&&$e(g,"placeholder",m),256&t[0]&&g.value!==e[8]&&je(g,e[8]),1&t[0]&&u!==(u=e[0].labels.otpError+"")&&Fe(h,u),2048&t[0]&&y!==(y="mgPlayerJSqa_error-input-wrapper emailid-error-wrapper "+(e[11].otpRequired?"active":""))&&$e(p,"class",y),1&t[0]&&P!==(P=e[0].labels.btnOtpVerify+"")&&Fe(C,P),2048&t[0]&&b!==(b="mgPlayerJSqa_btn-default mgPlayerJSqa_btn-large mgPlayerJSqa_font-size-16 "+(e[11].otpRequired?"mgPlayerJSqa_disabled":""))&&$e(f,"class",b),2048&t[0]&&q!==(q=e[11].otpRequired)&&$e(f,"aria-disabled",q),1&t[0]&&v!==(v=e[0].labels.btnOtpVerify)&&$e(f,"aria-label",v),x===(x=k(e))&&L?L.p(e,t):(L.d(1),(L=x(e))&&(L.c(),L.m(J,null))),e[10]?E?E.p(e,t):((E=ya(e)).c(),E.m(r,A)):E&&(E.d(1),E=null),e[12]?M?M.p(e,t):((M=_a(e)).c(),M.m(r,null)):M&&(M.d(1),M=null)},d(e){e&&Le(r),L.d(),E&&E.d(),M&&M.d(),T=!1,Xe(X)}}}function ua(a){let r,i=a[0].labels.resendOTP+"",n,s,l,o,c=a[0].labels.backToLogin+"",g,m,d,p;return{c(){r=Ee("button"),n=Me(i),l=Ie(),o=Ee("button"),g=Me(c),$e(r,"id","mgPlayerJSqa_label-resend-otp"),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_options-label mgPlayerJSqa_text-align-center mgPlayerJSqa_font-size-15 mgPlayerJSqa_cursor-pointer"),$e(r,"type","button"),$e(r,"aria-label",s=a[0].labels.resendOTP),$e(o,"id","mgPlayerJSqa_label-back-to-login"),$e(o,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_options-label mgPlayerJSqa_text-align-center mgPlayerJSqa_back-to-login mgPlayerJSqa_text-align-center mgPlayerJSqa_cursor-pointer mgPlayerJSqa_font-size-15 mgPlayerJSqa_inline-block-vm"),$e(o,"aria-label",m=a[0].labels.backToLogin),$e(o,"type","button")},m(e,t){xe(e,r,t),ke(r,n),xe(e,l,t),xe(e,o,t),ke(o,g),d||(p=[De(r,"click",a[25]),De(o,"click",a[24])],d=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.resendOTP+"")&&Fe(n,i),1&t[0]&&s!==(s=e[0].labels.resendOTP)&&$e(r,"aria-label",s),1&t[0]&&c!==(c=e[0].labels.backToLogin+"")&&Fe(g,c),1&t[0]&&m!==(m=e[0].labels.backToLogin)&&$e(o,"aria-label",m)},d(e){e&&(Le(r),Le(l),Le(o)),d=!1,Xe(p)}}}function ha(e){let a,r=e[0].labels.otpTimer+"",i,n,s=e[0].labels.seconds+"",l;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),n=Me(e[7]),l=Me(s),$e(a,"class","mgPlayerJSqa_text-align-center mgPlayerJSqa_font-size-13 mgPlayerJSqa_margin-tb-5 mgPlayerJSqa_theme-color")},m(e,t){xe(e,a,t),ke(a,i),ke(a,n),ke(a,l)},p(e,t){1&t[0]&&r!==(r=e[0].labels.otpTimer+"")&&Fe(i,r),128&t[0]&&Fe(n,e[7]),1&t[0]&&s!==(s=e[0].labels.seconds+"")&&Fe(l,s)},d(e){e&&Le(a)}}}function ya(e){let a,r=e[0].labels.otpSent+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_text-align-center mgPlayerJSqa_font-size-13 mgPlayerJSqa_margin-tb-5 mgPlayerJSqa_theme-color")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t[0]&&r!==(r=e[0].labels.otpSent+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function _a(e){let a,r=e[0].labels.limitWarning+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_text-align-center mgPlayerJSqa_font-size-13 mgPlayerJSqa_margin-tb-5 mgPlayerJSqa_error-text-color")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t[0]&&r!==(r=e[0].labels.limitWarning+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function Sa(e){let a,r,i=void 0!==e[0].labels.selectOrganization&&fa(e),n=e[13]&&Pa(e);return{c(){a=Ee("wmgPlayerJSqa_"),i&&i.c(),r=Ie(),n&&n.c(),$e(a,"class","mgPlayerJSqa_multiple-org-list-container mgPlayerJSqa_margin-tb-15")},m(e,t){xe(e,a,t),i&&i.m(a,null),ke(a,r),n&&n.m(a,null)},p(e,t){void 0!==e[0].labels.selectOrganization?i?i.p(e,t):((i=fa(e)).c(),i.m(a,r)):i&&(i.d(1),i=null),e[13]?n?n.p(e,t):((n=Pa(e)).c(),n.m(a,null)):n&&(n.d(1),n=null)},d(e){e&&Le(a),i&&i.d(),n&&n.d()}}}function fa(e){let a,r=e[0].labels.selectOrganization+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_h2 mgPlayerJSqa_font-size-24 mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-25")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t[0]&&r!==(r=e[0].labels.selectOrganization+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function Pa(t){let i,n=I(t[14]),s=[];for(let e=0;e<n.length;e+=1)s[e]=Ca(sa(t,n,e));return{c(){i=Ee("wmgPlayerJSqa_");for(let e=0;e<s.length;e+=1)s[e].c();$e(i,"class","mgPlayerJSqa_multiple-org-list-wrapper mgPlayerJSqa_margin-tb-15 mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y mgPlayerJSqa_scrollbar-thin")},m(e,t){xe(e,i,t);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null)},p(t,a){if(268451840&a[0]){n=I(t[14]);let e;for(e=0;e<n.length;e+=1){var r=sa(t,n,e);s[e]?s[e].p(r,a):(s[e]=Ca(r),s[e].c(),s[e].m(i,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}},d(e){e&&Le(i),$(s,e)}}}function Ca(a){let r,i,n=a[53].name+"",s,l,o,c,g;function m(){return a[39](a[53])}return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),s=Me(n),o=Ie(),$e(i,"class","mgPlayerJSqa_btn-default"),$e(i,"aria-label",l=a[53].name),$e(r,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_margin-tb-25")},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),ke(r,o),c||(g=De(i,"click",m),c=!0)},p(e,t){a=e,16384&t[0]&&n!==(n=a[53].name+"")&&Fe(s,n),16384&t[0]&&l!==(l=a[53].name)&&$e(i,"aria-label",l)},d(e){e&&Le(r),c=!1,g()}}}function ba(e){let a,r,i,n,s,l,o,c=(a=new Rt({}),e[5]&&!e[13]&&la(e)),g=e[6]&&!e[13]&&da(e),m=e[13]&&Sa(e);return l=new aa({}),{c(){Ve(a.$$.fragment),r=Ie(),c&&c.c(),i=Ie(),g&&g.c(),n=Ie(),m&&m.c(),s=Ie(),Ve(l.$$.fragment)},m(e,t){ze(a,e,t),xe(e,r,t),c&&c.m(e,t),xe(e,i,t),g&&g.m(e,t),xe(e,n,t),m&&m.m(e,t),xe(e,s,t),ze(l,e,t),o=!0},p(e,t){e[5]&&!e[13]?c?(c.p(e,t),8224&t[0]&&Ne(c,1)):((c=la(e)).c(),Ne(c,1),c.m(i.parentNode,i)):c&&(Re(),Be(c,1,1,()=>{c=null}),He()),e[6]&&!e[13]?g?g.p(e,t):((g=da(e)).c(),g.m(n.parentNode,n)):g&&(g.d(1),g=null),e[13]?m?m.p(e,t):((m=Sa(e)).c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},i(e){o||(Ne(a.$$.fragment,e),Ne(c),Ne(l.$$.fragment,e),o=!0)},o(e){Be(a.$$.fragment,e),Be(c),Be(l.$$.fragment,e),o=!1},d(e){e&&(Le(r),Le(i),Le(n),Le(s)),Ue(a,e),c&&c.d(e),g&&g.d(e),m&&m.d(e),Ue(l,e)}}}function qa(){}function va(e,t,a){let i="",r="",n,s,l=!0,o=!1,c=30,g=0,m,d=!1,p=!1,u={otpRequired:!1},h=!1,y=[],_,S,f,P=!1,C;ge.currentView="login-view";let b,q;function v(t){if(y)for(let e=0;e<y.length;e++)if(y[e].email===t)if((new Date).getTime()<y[e].expiry)return y[e].token}ce(me.appList),de(()=>{});let w=!1;function J(){a(17,w=!0),ge.hideLoading()}async function G(e){if(ge.hideLoading(),"string"==typeof e)return x(e,i),D.open(ge.labels.signInVerifyYourAccount,"success",function(){a(5,l=!1),a(6,o=!0),setTimeout(function(){mg$("#mgPlayerJSqa_input-otp").focus()},500)}),mg$("#mgPlayerJSqa_btn-ok-common-popup").focus(),!0;e&&e.orgs?(a(13,P=!0),a(14,C=e.orgs)):(mg$("#mgPlayerJSqa_btn-verify-otp").addClass("mgPlayerJSqa_disabled"),ge.onUserSignin(e,!1))}let A=!1,T=!1,X;function k(){return""!==i.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(i)}function x(t,a){let r=!0;for(let e=0;e<y.length;e++)if(y[e].email===a){_=t,y[e].token=t,y[e].expiry=(new Date).getTime()+ge.thirtyDaysInMSeconds,r=!1;break}var e;r&&((e={}).email=i,e.token=t,e.expiry=(new Date).getTime()+ge.thirtyDaysInMSeconds,y.push(e),_=t),GmCXt.saveToStorage("dual_auth_token",ge.thirtyDaysInSeconds)}function L(t){na.try(function(){var e={email_id:i,password:r,keep_login:1};t&&(e.org_id=t),(_=v(i))&&(e.token=_),GmCXt.api.userSignIn(e,G,J)},700)}var E=mg$(window);E.off("resize"),E.on("resize",function(){ge.setContainerHeight("signin")}),pe(()=>{clearTimeout(S),clearInterval(f)}),ge.setContainerHeight("signin");return[ge,i,r,!1,!1,l,o,c,m,d,p,u,h,P,C,b,q,w,A,T,X,function(){ge.showLoading();var e=""!==(e=m)&&6===e.length&&/^[0-9]*$/.test(e);e?(e={email:i,code:m,token:_},a(10,p=!1),GmCXt.api.verifyUser(e,G,J)):(ge.hideLoading(),a(11,u.otpRequired=!0,u))},function(){var e;ge.showLoading(),a(3,n=!1),a(4,s=!1),A||GmCXt.conf.hideCaptcha||(a(19,T=!0),X?.focus(),ge.hideLoading()),k()?((e=6<=r.length&&r.length<=20)||(a(4,!0),q?.focus(),ge.hideLoading()),(A||GmCXt.conf.hideCaptcha)&&k()&&e&&(e={email_id:i,password:r,keep_login:1},(_=v(i))&&(e.token=_),GmCXt.api.userSignIn(e,G,J))):(a(3,!0),b?.focus(),ge.hideLoading())},function(){me.activeView.set("forgotpwd")},function(){a(6,o=!1),a(5,l=!0),a(8,m=""),g=0,a(12,h=!1),ge.setContainerHeight("signin")},function(){var e;a(7,c=30),a(9,d=!0),3<(g+=1)?(a(9,d=!1),a(12,h=!0),setTimeout(function(){g=0,a(12,h=!1)},3e5)):(a(10,p=!0),(e={email:i}).token=_,GmCXt.api.resendOTP(e,function(e){x(e,i)}),f=setInterval(function(){a(7,c--,c),c<=0&&clearInterval(f)},1e3),S=setTimeout(()=>{a(9,d=!1),a(10,p=!1),clearInterval(f)},3e4))},function(){me.activeView.set("signInSSO")},function(){a(0,ge.ssoHitCount=0,ge),GmCXt.isMyGuide()?ge.getSsoId().then(function(e){e&&e.id&&ge.openSsoTab()}).catch(function(){}):ge.openSsoTab()},L,qa,function(){i=this.value,a(1,i)},function(e){ue[e?"unshift":"push"](()=>{b=e,a(15,b)})},function(){r=this.value,a(2,r)},function(e){ue[e?"unshift":"push"](()=>{q=e,a(16,q)})},function(e){A=e,a(18,A)},function(e){T=e,a(19,T)},function(e){X=e,a(20,X)},function(){m=this.value,a(8,m)},()=>{a(11,u.otpRequired=!1,u)},e=>L(e.organization_id)]}na.isContextError=function(e){return!(!(e=e.toString())||-1===e.indexOf("Extension context invalidated"))},na.show=function(e,t){e=(e=na.isContextError(e)?ge.labels.extensionContextError:e)+(t?" (Error: "+t+") ":"");ge.showPopup(e,"","error")},na.try=function(e,t){try{return e()}catch(e){na.show(e,t)}},na.showErrorMsg=function(e,t){ge.hideLoading(),ge.settingsLoader=!1,t&&(e=e+" (Error: "+t+")"),ge.showPopup(e,"","alert")},na.on=function(t,a){if(ge.isApiCallOn=!1,null!=t){var r=parseInt(t.code);if(2036===r&&(0<t.url.indexOf("user/signout")||0<t.url.indexOf("user/token")))return ge.clearSession(),GmCXt.showWidget(),!1;let e="";switch(!0){case 3044===r:na.showErrorMsg(ge.labels.segmentationRequired,r);break;case 1001===r:na.showErrorMsg(ge.labels.notAutorised,r);break;case 1003===r:e=ge.labels[1003]+"(Error:"+r+")",ge.showPopup(e,function(){ge.clearSession("1003: Access token invalid")},"error");break;case 1007===r:ge.getAccessTokenFromRefreshToken(a,t);break;case 1005===r:"Organization not found"===t.message[0]?na.showErrorMsg(ge.labels.orgError,r):na.showErrorMsg(ge.labels[r],r);break;case 1009===r:na.showErrorMsg(ge.labels.signInVerifyYourEmail,r);break;case 2001===r:ge.loginInvalidCred=!0;break;case 3045===r:break;case 3061===r:na.showErrorMsg(ge.labels[r]);break;case 2004===r:e=ge.labels[2004]+"(Error:"+r+")",ge.showPopup(e,function(){ge.clearSession("2004: Session Expired")},"error");break;case 3063===r:t&&-1===t.url.indexOf("task_list")&&na.showErrorMsg(ge.labels.applicationJsonError,r);break;case 2200===r:case 405===r:case 3008===r:case 1019===r:case 2044===r:case 3068===r:case 1017===r:case 1018===r:case 2e3===r:case 429===r:case 2002<=r&&r<=2099:case 3e3<=r&&r<=3099:case 4e3<=r&&r<=4099:na.showErrorMsg(ge.labels[r],r);break;case 1014===r:ge.goToMaintenance();break;case 403===r&&t.message[0]===GmCXt.unknownError:na.showErrorMsg(ge.labels.lostInternetConnection,r);break;default:ge.showPopup(ge.labels.apiError,function(){(GmCXt.user||GmCXt.onPrem())&&GmCXt.redirect("#/home/currentpage")},"error")}}else na.showErrorMsg(ge.labels.lostInternetConnection,c)};class wa extends e{constructor(e){super(),t(this,e,va,ba,g,{getSignInUser:29},null,[-1,-1])}get getSignInUser(){return qa}}function Ja(e,t,a){e=e.slice();return e[17]=t[a],e[19]=a,e}function Ga(e){let a,r,i,n,s=!e[1]&&Aa(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ie(),s&&s.c(),$e(r,"class","mgPlayerJSqa_application-overlay-wrapper"),$e(a,"class",n="mgPlayerJSqa_application-dropdown mgPlayerJSqa_cursor mgPlayerJSqa_cursor-default "+(e[0].isMicroPlayer?"mgPlayerJSqa_application-dropdown-mini-player":""))},m(e,t){xe(e,a,t),ke(a,r),ke(a,i),s&&s.m(a,null)},p(e,t){e[1]?s&&(s.d(1),s=null):s?s.p(e,t):((s=Aa(e)).c(),s.m(a,null)),1&t&&n!==(n="mgPlayerJSqa_application-dropdown mgPlayerJSqa_cursor mgPlayerJSqa_cursor-default "+(e[0].isMicroPlayer?"mgPlayerJSqa_application-dropdown-mini-player":""))&&$e(a,"class",n)},d(e){e&&Le(a),s&&s.d()}}}function Aa(a){let r,i,n=a[0].labels.selectAnApplication+"",s,l,o,c,g,m=a[0].labels.close+"",d,p,u;let h=(GmCXt.isEmpty(GmCXt.appList)?Ta:Xa)(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Me(n),l=Ie(),h.c(),o=Ie(),c=Ee("wmgPlayerJSqa_"),g=Ee("wmgPlayerJSqa_"),d=Me(m),$e(i,"class","mgPlayerJSqa_title-all-apps"),$e(r,"class","mgPlayerJSqa_application-list-wrapper"),$e(g,"id","mgPlayerJSqa_close-application-dropdown"),$e(g,"class","mgPlayerJSqa_dropdown-btn-close mgPlayerJSqa_text-color-dark mgPlayerJSqa_font-weight-550 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_cursor-pointer"),$e(c,"class","mgPlayerJSqa_application-dropdown-close-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-flex-end")},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),ke(r,l),h.m(r,null),xe(e,o,t),xe(e,c,t),ke(c,g),ke(g,d),p||(u=De(g,"click",a[4]),p=!0)},p(e,t){1&t&&n!==(n=e[0].labels.selectAnApplication+"")&&Fe(s,n),h.p(e,t),1&t&&m!==(m=e[0].labels.close+"")&&Fe(d,m)},d(e){e&&(Le(r),Le(o),Le(c)),h.d(),p=!1,u()}}}function Ta(e){let a,r=e[0].labels.noApp+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r)},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t&&r!==(r=e[0].labels.noApp+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function Xa(t){let i,n=I(Object.entries(GmCXt.appList).sort(Oa)),s=[];for(let e=0;e<n.length;e+=1)s[e]=xa(Ja(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();i=M()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);xe(t,i,a)},p(t,a){if(289&a){n=I(Object.entries(GmCXt.appList).sort(Oa));let e;for(e=0;e<n.length;e+=1){var r=Ja(t,n,e);s[e]?s[e].p(r,a):(s[e]=xa(r),s[e].c(),s[e].m(i.parentNode,i))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}},d(e){e&&Le(i),$(s,e)}}}function ka(a){let r,i,n,s,l=0<=a[17][1].image_url.indexOf("default_icon"),o,c=-1==a[17][1].image_url.indexOf("default_icon"),g,m,d,p,u,h,y,_,S,f=l&&function(e){let a,r,i,n,s;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),$e(i=Ee("img"),"class","mgPlayerJSqa_logo-image mgPlayerJSqa_width-height-auto mgPlayerJSqa_max-width-height-100 mgPlayerJSqa_custom-image"),Q(i.src,n=e[0].getBasePath("common/img/logo-csod.png"))||$e(i,"src",n),$e(i,"alt",s=e[0].labels.brandLogo),$e(r,"class","mgPlayerJSqa_application-img-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_position-center"),$e(a,"class","mgPlayerJSqa_select-application-cart")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i)},p(e,t){1&t&&!Q(i.src,n=e[0].getBasePath("common/img/logo-csod.png"))&&$e(i,"src",n),1&t&&s!==(s=e[0].labels.brandLogo)&&$e(i,"alt",s)},d(e){e&&Le(a)}}}(a),P=c&&function(e){let a,t,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_select-application-image mgPlayerJSqa_custom-image"),Q(a.src,t=e[8](e[17][1]))||$e(a,"src",t),$e(a,"alt",r=e[0].staticContentPath+"default_app_icon.png")},m(e,t){xe(e,a,t)},p(e,t){1&t&&r!==(r=e[0].staticContentPath+"default_app_icon.png")&&$e(a,"alt",r)},d(e){e&&Le(a)}}}(a),C=a[17][1].application_id==GmCXt.activeAppId&&function(e){let a,r=e[0].svgs.app_selected+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_selected-application-tick")},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t&&r!==(r=e[0].svgs.app_selected+"")&&(a.innerHTML=r)},d(e){e&&Le(a)}}}(a);function b(){return a[10](a[17])}function q(){return a[11](a[17])}return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ie(),f&&f.c(),o=Ie(),P&&P.c(),g=Ie(),C&&C.c(),m=Ie(),d=Ee("wmgPlayerJSqa_"),(p=Ee("wmgPlayerJSqa_")).textContent=""+a[17][1].title,u=Ie(),h=Ee("wmgPlayerJSqa_"),y=Ie(),$e(n,"class","mgPlayerJSqa_application-overlay "+(a[17][1].application_id==GmCXt.activeAppId?"mgPlayerJSqa_show-application-overlay":"")),$e(i,"id","mgPlayerJSqa_switch-app"),$e(i,"class","mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_application-list-img mgPlayerJSqa_width-100 mgPlayerJSqa_position-relative"),$e(p,"id","mgPlayerJSqa_app-title"),$e(p,"class","mgPlayerJSqa_application-list-title mgPlayerJSqa_float-left mgPlayerJSqa_text-overflow-ellipsis"),$e(d,"class","mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_application-details-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_width-100 mgPlayerJSqa_padding-lr-10"),$e(h,"class","mgPlayerJSqa_clear"),$e(r,"class","mgPlayerJSqa_application-list mgPlayerJSqa_cursor-pointer mgPlayerJSqa_margin-10 mgPlayerJSqa_float-left "+(a[17][1].application_id==GmCXt.activeAppId?"mgPlayerJSqa_application-selected":""))},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(i,s),f&&f.m(i,null),ke(i,o),P&&P.m(i,null),ke(i,g),C&&C.m(i,null),ke(r,m),ke(r,d),ke(d,p),ke(r,u),ke(r,h),ke(r,y),_||(S=[De(i,"click",b),De(p,"click",q)],_=!0)},p(e,t){a=e,l&&f.p(a,t),c&&P.p(a,t),a[17][1].application_id==GmCXt.activeAppId&&C.p(a,t)},d(e){e&&Le(r),f&&f.d(),P&&P.d(),C&&C.d(),_=!1,Xe(S)}}}function xa(e){let a,r=(GmCXt.FT.creatorApp&&"guide"===e[17][1].type||GmCXt.FT.isPlayer&&"electron"===e[17][1].type&&e[0].showGuidesFromDesktopApp)&&ka(e);return{c(){r&&r.c(),a=M()},m(e,t){r&&r.m(e,t),xe(e,a,t)},p(e,t){GmCXt.FT.creatorApp&&"guide"===e[17][1].type||GmCXt.FT.isPlayer&&"electron"===e[17][1].type&&e[0].showGuidesFromDesktopApp?r?r.p(e,t):((r=ka(e)).c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null)},d(e){e&&Le(a),r&&r.d(e)}}}function La(e){let a,r=e[2].title+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_selected-app-name mgPlayerJSqa_font-size-15 mgPlayerJSqa_text-overflow-ellipsis")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){4&t&&r!==(r=e[2].title+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function Ea(a){let r,i,n=a[0].svgs.more_keyword+"",s,l,o,c=a[0].automationDropdown&&Ma(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),s=Ie(),c&&c.c(),$e(i,"id","mgPlayerJSqa_icon-guide-automation"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_guide-automation-icon mgPlayerJSqa_position-center"),$e(i,"aria-label","automation dropdown"),$e(r,"class","mgPlayerJSqa_select-application mgPlayerJSqa_select-automation-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_show-text-tooltip mgPlayerJSqa_cursor-pointer")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),c&&c.m(r,null),l||(o=De(i,"click",a[7]),l=!0)},p(e,t){1&t&&n!==(n=e[0].svgs.more_keyword+"")&&(i.innerHTML=n),e[0].automationDropdown?c?c.p(e,t):((c=Ma(e)).c(),c.m(r,null)):c&&(c.d(1),c=null)},d(e){e&&Le(r),c&&c.d(),l=!1,o()}}}function Ma(e){let a,r=e[0].isOwnerOrAppAdmin()&&e[2]&&!e[2].settings.sandbox||!0,i,n=e[0].isOwnerOrAppAdmin()&&!e[0].hideMirrorAppCtrl()&&e[2]&&!e[2].settings.sandbox,s,l=e[0].isGuideAutomationEnabledForApp()&&!e[0].hideMirrorAppCtrl(),o=r&&Ia(e),c=n&&Da(e),g=l&&$a(e);return{c(){a=Ee("wmgPlayerJSqa_"),o&&o.c(),i=Ie(),c&&c.c(),s=Ie(),g&&g.c(),$e(a,"id","mgPlayerJSqa_myDropdown"),$e(a,"class","mgPlayerJSqa_action-menu-options-dropdown mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-flex-start mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_flex-direction-column")},m(e,t){xe(e,a,t),o&&o.m(a,null),ke(a,i),c&&c.m(a,null),ke(a,s),g&&g.m(a,null)},p(e,t){(r=5&t?e[0].isOwnerOrAppAdmin()&&e[2]&&!e[2].settings.sandbox||!0:r)?o?o.p(e,t):((o=Ia(e)).c(),o.m(a,i)):o&&(o.d(1),o=null),(n=5&t?e[0].isOwnerOrAppAdmin()&&!e[0].hideMirrorAppCtrl()&&e[2]&&!e[2].settings.sandbox:n)?c?c.p(e,t):((c=Da(e)).c(),c.m(a,s)):c&&(c.d(1),c=null),(l=1&t?e[0].isGuideAutomationEnabledForApp()&&!e[0].hideMirrorAppCtrl():l)?g?g.p(e,t):((g=$a(e)).c(),g.m(a,null)):g&&(g.d(1),g=null)},d(e){e&&Le(a),o&&o.d(),c&&c.d(),g&&g.d()}}}function Ia(a){let r,i,n=a[0].svgs.domains+"",s,l,o=a[0].labels.domain+"",c,g,m;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),c=Me(o),$e(i,"class","mgPlayerJSqa_action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"class","mgPlayerJSqa_action-menu-options-dropdown-item mgPlayerJSqa_cursor-pointer")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,c),g||(m=De(r,"click",a[12]),g=!0)},p(e,t){1&t&&n!==(n=e[0].svgs.domains+"")&&(i.innerHTML=n),1&t&&o!==(o=e[0].labels.domain+"")&&Fe(c,o)},d(e){e&&Le(r),g=!1,m()}}}function Da(a){let r,i,n=a[0].svgs.variables+"",s,l,o=a[0].labels.variablesSettings+"",c,g,m;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),c=Me(o),$e(i,"class","mgPlayerJSqa_action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"class","mgPlayerJSqa_action-menu-options-dropdown-item mgPlayerJSqa_cursor-pointer")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,c),g||(m=De(r,"click",a[13]),g=!0)},p(e,t){1&t&&n!==(n=e[0].svgs.variables+"")&&(i.innerHTML=n),1&t&&o!==(o=e[0].labels.variablesSettings+"")&&Fe(c,o)},d(e){e&&Le(r),g=!1,m()}}}function $a(a){let r,i,n=a[0].svgs.startGuideAutomationIcon+"",s,l,o=a[0].labels.startTestAuto+"",c,g,m,d;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),c=Me(o),$e(i,"class","mgPlayerJSqa_action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"class",g="mgPlayerJSqa_action-menu-options-dropdown-item mgPlayerJSqa_cursor-pointer "+(a[0].automationSelectionMode?"mgPlayerJSqa_disabled":""))},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,c),m||(d=De(r,"click",a[6]),m=!0)},p(e,t){1&t&&n!==(n=e[0].svgs.startGuideAutomationIcon+"")&&(i.innerHTML=n),1&t&&o!==(o=e[0].labels.startTestAuto+"")&&Fe(c,o),1&t&&g!==(g="mgPlayerJSqa_action-menu-options-dropdown-item mgPlayerJSqa_cursor-pointer "+(e[0].automationSelectionMode?"mgPlayerJSqa_disabled":""))&&$e(r,"class",g)},d(e){e&&Le(r),m=!1,d()}}}function Fa(a){let r,i,n,s,l=a[0].svgs.select_application+"",o,c,g,m=GmCXt.FT.creatorApp&&!a[0].isDesktopApp(),d,p,u=a[0].applicationDropdown&&Ga(a),h=a[2]&&a[2].title&&La(a),y=m&&Ea(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("button"),o=Ie(),u&&u.c(),c=Ie(),h&&h.c(),g=Ie(),y&&y.c(),$e(s,"id","mgPlayerJSqa_icon-application"),$e(s,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_select-application-icon mgPlayerJSqa_position-center mgPlayerJSqa_disabled"),$e(s,"aria-label","application dropdown"),Oe(s,"mgPlayerJSqa_disabled",a[0].automationSelectionMode),$e(n,"class","mgPlayerJSqa_select-application mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_show-text-tooltip mgPlayerJSqa_cursor-pointer"),$e(i,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between"),$e(r,"class","mgPlayerJSqa_app-wrapper mgPlayerJSqa_width-100 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_padding-5")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),s.innerHTML=l,ke(n,o),u&&u.m(n,null),ke(i,c),h&&h.m(i,null),ke(r,g),y&&y.m(r,null),d||(p=De(s,"click",a[3]),d=!0)},p(e,[t]){1&t&&l!==(l=e[0].svgs.select_application+"")&&(s.innerHTML=l),1&t&&Oe(s,"mgPlayerJSqa_disabled",e[0].automationSelectionMode),e[0].applicationDropdown?u?u.p(e,t):((u=Ga(e)).c(),u.m(n,null)):u&&(u.d(1),u=null),e[2]&&e[2].title?h?h.p(e,t):((h=La(e)).c(),h.m(i,null)):h&&(h.d(1),h=null),(m=1&t?GmCXt.FT.creatorApp&&!e[0].isDesktopApp():m)?y?y.p(e,t):((y=Ea(e)).c(),y.m(r,null)):y&&(y.d(1),y=null)},i:we,o:we,d(e){e&&Le(r),u&&u.d(),h&&h.d(),y&&y.d(),d=!1,p()}}}const Oa=(e,t)=>e[1].application_id-t[1].application_id;function Ra(e,t,a){let r;GmCXt.appList&&(r=GmCXt.appList["app:"+GmCXt.activeAppId],GmCXt.appList),me.CurrentPage.subscribe(e=>{});const i=me.routeAction.subscribe(e=>{e&&"close_application_dropdown"===e.action&&e.app&&(n(),me.routeAction.set(null))});function n(){a(0,ge.applicationDropdown=!1,ge),a(0,ge.automationDropdown=!1,ge)}function s(e){a(0,ge.applicationDropdown=!1,ge),a(0,ge.automationDropdown=!1,ge),a(0,ge.contextTours={},ge),ge.resetCreatorData(!0),a(0,ge.selectedApp=e.title,ge),a(0,ge.manualAppSwitch=!0,ge),ge.switchApp(e)}pe(()=>{i()}),ge.addPanelOverlay();function l(e,t,a){e.stopPropagation(),n(),ge.setCurrentPage("appsettings"),me.params.set({appId:t,settView:a})}ge.hideAutomationDropDown=function(){a(0,ge.automationDropdown=!1,ge)};return GmCXt.appList&&(a(2,r=GmCXt.appList["app:"+GmCXt.activeAppId]),GmCXt.appList),[ge,!1,r,function(){a(1,!1),a(0,ge.applicationDropdown=!ge.applicationDropdown,ge),a(0,ge.automationDropdown=!1,ge),mg$(".mgPlayerJSqa_category-list").append('<wmgPlayerJSqa_ class="mgPlayerJSqa_category-list-overlay"></wmgPlayerJSqa_>'),mg$(".cards-container").append('<wmgPlayerJSqa_ class="mgPlayerJSqa_category-list-overlay"></wmgPlayerJSqa_>'),!0!==ge.applicationDropdown&&mg$(".mgPlayerJSqa_category-list-overlay").remove()},n,s,function(){a(0,ge.automationSelectionMode=!0,ge),a(0,ge.automationGuideSelectCount=0,ge),a(0,ge.automationDropdown=!1,ge),a(0,ge.myGuidesFilter=!0,ge),ge.setCurrentPage("allguides"),me.breadCrumb.set([])},function(){a(0,ge.automationDropdown=!ge.automationDropdown,ge),a(0,ge.applicationDropdown=!1,ge)},function(e){return e.image_url+ge.getCdnSign()},l,e=>s(e[1]),e=>s(e[1]),e=>l(e,GmCXt.activeAppId,"domainsSettings"),e=>l(e,GmCXt.activeAppId,"variablesSettings")]}class Ha extends e{constructor(e){super(),t(this,e,Ra,Fa,g,{})}}class Na extends e{constructor(e){super(),t(this,e,null,null,g,{})}}function Ba(a){let r,i,n=a[1].svgs.search+"",s,l,o,c,g,m=a[1].svgs.search_close+"",d,p,u,h;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("input"),c=Ie(),g=Ee("button"),$e(i,"class","mgPlayerJSqa_search-icon mgPlayerJSqa_inline-block-vm"),$e(l,"id","mgPlayerJSqa_search-text-input"),$e(l,"class",o="mgPlayerJSqa_search-input mgPlayerJSqa_inline-block-vm mgPlayerJSqa_height-100 ng-pristine ng-untouched ng-empty-maxlength "+(a[1].isMicroPlayer?"mgPlayerJSqa_width-100 mgPlayerJSqa_no-trans":"")),$e(l,"maxlength","100"),$e(l,"placeholder",a[4]),$e(l,"autocomplete","off"),$e(l,"aria-label",a[4]),Oe(l,"mgPlayerJSqa_search-input-wd-task",GmCXt.FT.isPlayer&&a[3]&&!a[1].showGuidesFromDesktopApp&&!a[1].isMicroPlayer),Oe(l,"mgPlayerJSqa_search-input-wd-task-mini-player",GmCXt.FT.isPlayer&&a[3]&&!a[1].showGuidesFromDesktopApp&&a[1].isMicroPlayer),Oe(l,"mgPlayerJSqa_search-input-player",GmCXt.FT.isPlayer&&!a[3]),Oe(l,"mgPlayerJSqa_search-input-active",GmCXt.FT.isPlayer&&(a[1].currentPageOnly||a[2])||a[1].showGuidesFromDesktopApp),Oe(l,"mgPlayerJSqa_search-input-creator-active",GmCXt.FT.creatorApp&&a[0].length),$e(g,"id","mgPlayerJSqa_icon-search-close-current-page"),$e(g,"class",d="mgPlayerJSqa_search-close-icon mgPlayerJSqa_cursor-pointer mgPlayerJSqa_inline-block-vm mgPlayerJSqa_lbl-btn "+(0<a[0].length?"mgPlayerJSqa_active":"")),$e(r,"class",p="mgPlayerJSqa_search-input-wrapper mgPlayerJSqa_position-relative "+(a[1].isMicroPlayer?"mgPlayerJSqa_width-100":""))},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),je(l,a[0]),ke(r,c),ke(r,g),g.innerHTML=m,u||(h=[De(l,"input",a[7]),De(l,"input",a[6]),De(g,"click",a[8])],u=!0)},p(e,t){2&t[0]&&n!==(n=e[1].svgs.search+"")&&(i.innerHTML=n),2&t[0]&&o!==(o="mgPlayerJSqa_search-input mgPlayerJSqa_inline-block-vm mgPlayerJSqa_height-100 ng-pristine ng-untouched ng-empty-maxlength "+(e[1].isMicroPlayer?"mgPlayerJSqa_width-100 mgPlayerJSqa_no-trans":""))&&$e(l,"class",o),16&t[0]&&$e(l,"placeholder",e[4]),16&t[0]&&$e(l,"aria-label",e[4]),1&t[0]&&l.value!==e[0]&&je(l,e[0]),10&t[0]&&Oe(l,"mgPlayerJSqa_search-input-wd-task",GmCXt.FT.isPlayer&&e[3]&&!e[1].showGuidesFromDesktopApp&&!e[1].isMicroPlayer),10&t[0]&&Oe(l,"mgPlayerJSqa_search-input-wd-task-mini-player",GmCXt.FT.isPlayer&&e[3]&&!e[1].showGuidesFromDesktopApp&&e[1].isMicroPlayer),10&t[0]&&Oe(l,"mgPlayerJSqa_search-input-player",GmCXt.FT.isPlayer&&!e[3]),6&t[0]&&Oe(l,"mgPlayerJSqa_search-input-active",GmCXt.FT.isPlayer&&(e[1].currentPageOnly||e[2])||e[1].showGuidesFromDesktopApp),3&t[0]&&Oe(l,"mgPlayerJSqa_search-input-creator-active",GmCXt.FT.creatorApp&&e[0].length),2&t[0]&&m!==(m=e[1].svgs.search_close+"")&&(g.innerHTML=m),1&t[0]&&d!==(d="mgPlayerJSqa_search-close-icon mgPlayerJSqa_cursor-pointer mgPlayerJSqa_inline-block-vm mgPlayerJSqa_lbl-btn "+(0<e[0].length?"mgPlayerJSqa_active":""))&&$e(g,"class",d),2&t[0]&&p!==(p="mgPlayerJSqa_search-input-wrapper mgPlayerJSqa_position-relative "+(e[1].isMicroPlayer?"mgPlayerJSqa_width-100":""))&&$e(r,"class",p)},i:we,o:we,d(e){e&&Le(r),u=!1,Xe(h)}}}let Va=50,za=0;function Ua(e,t,a){let r,i,n,s,l,o,c=!1,g,m=[],d,p=[],u=[],h=(ge.lastSearchTime=0,"");const y=me.CurrentPageTours.subscribe(e=>{s=e}),_=me.labels.subscribe(e=>{GmCXt.isEmpty(e)||a(1,ge.labels=e,ge)}),S=me.filters.subscribe(e=>{v()}),f=(me.searchTerm.subscribe(e=>{e!==i&&a(0,i=e)}),mg$(document).on("keyup","#mgPlayerJSqa_search-text-input",function(e){[27,20,16,17,18,91,93,37,38,39,40,45,46].indexOf(e.keyCode)}),me.breadCrumb.subscribe(e=>{l=e,T()})),P=me.CurrentPage.subscribe(e=>{"allguidesSearchPage"!==(n=e)&&"currentPageSearchPage"!==n&&me.searchTerm.set(""),T()}),C=e=>{e&&ge.trackSearchEvent(!1),a(0,i=""),me.searchTerm.set(""),a(1,ge.currentUserFilter="",ge),a(1,ge.filterByPublishedGuides="",ge),a(1,ge.currentAssigneeFilter="",ge),a(1,ge.sortByProperty="",ge),"allguidesSearchPage"===n?ge.setCurrentPage("allguides"):"currentPageSearchPage"===n&&ge.setCurrentPage("currentpage")};const b=function(e){if(0===i.length&&ge.setCurrentPage("allguides"),i&&1<i.length){ge.showLoading(),me.searchTours.set([]),"allguidesSearchPage"!==ce(me.CurrentPage)&&ge.setCurrentPage("allguidesSearchPage");let e="",t=(0<l.length&&l[l.length-1].has_tour&&(e=l[l.length-1].category_id),mg$("#mgPlayerJSqa_search-text-input").focus(),"tour_id");var a;(g=ge.sortByProperty?ge.sortByProperty:g)===ge.labels.name&&(t="tour_title"),a={limit:Va,offset:za,search_text:r,sort_by:t},ge.myGuidesFilter&&(a.my_guides=ge.user.user_id),ge.currentUserFilter&&0!==ge.currentUserFilter.user_id&&(a.creator_id=ge.currentUserFilter.user_id),ge.filterByPublishedGuides===ge.labels.published?a.is_published="1":ge.filterByPublishedGuides===ge.labels.unpublished&&(a.is_published="0"),ge.currentAssigneeFilter&&0!==ge.currentAssigneeFilter.user_id&&(a.locked_user_id=ge.currentAssigneeFilter.user_id),GmCXt.FT.publishedGuides&&(a.is_published="1"),e&&(a.category_id=e),GmCXt.inPlayer||GmCXt.onPrem()?GmCXt.api.getSearchTourList(a,function(e){w(e,i)}):GmCXt.api.getTourList(a,function(e){w(e,i)})}};function q(e){return e&&-1<e.toLowerCase().indexOf(r.toLowerCase())}function v(){if(i&&1<i.length&&me.searchTerm.set(r),"allguides"===n||"allguidesSearchPage"===n||"myguides"===n)b();else if("currentpage"===n||"currentPageSearchPage"===n){0===i.length&&ge.setCurrentPage("currentpage");let t=[];0<s.length&&1<i.length&&("currentPageSearchPage"!==ce(me.CurrentPage)&&ge.setCurrentPage("currentPageSearchPage"),s.filter(function(e){(q(e.tour_title)||e.tour_id===r||q(e.keywords)||q(e.tour_description))&&t.push(e)}),GmCXt.isEmpty(t)||function(e){d=(new Date).getTime(),ge.lastSearchTime&&5e3<=d-ge.lastSearchTime&&ge.trackCurrentPageSearchEvent(!1),a(1,ge.lastSearchTime=d,ge),a(1,ge.trackCurrentPageSearch={keyword:r,results_returned:e.length,track:!0,startTime:(new Date).getTime()},ge)}(t),me.searchTours.set(t),w(t,r));return}}function w(e,t){m=[],d=(new Date).getTime(),(p=e.length)&&(u=mg$.merge(u,e),u=GmCXt.removeDuplicateGuides(u),ge.notDefaultLang()&&(u=ge.getTranslatedTours(u)),GmCXt.FT.isPlayer&&(u=u.filter(function(e){if((GmCXt.isGuide(e)||GmCXt.isOnboarding(e))&&!GmCXt.isAnnouncement(e))return e})).length,ge.lastSearchTime)&&ge.trackSearch&&!ge.trackSearch.filters&&5e3<=d-ge.lastSearchTime&&(a(1,ge.trackCurrentPageSearch={},ge),ge.trackSearchEvent(!1)),a(1,ge.trackSearch={keyword:t,results_returned:p,track:!0,startTime:(new Date).getTime()},ge),u.length||p||ge.trackSearchEvent(!1),ge.trackSearch?.filters||a(1,ge.lastSearchTime=d,ge),ge.guideSegmentation&&GmCXt.FT.isPlayer?(ge.showLoading(),GmCXt.checkGuidesBasedOnSegment(u,J,"searchSeg")):(ge.hideLoading(),me.searchTours.set(u))}function J(e){GmCXt.isEmpty(e)||m.push(e),m=GmCXt.removeDuplicateGuides(m),ge.hideLoading(),me.searchTours.set(m)}var G=ge.debounce(v,1e3);const A=me.isTaskListVisible.subscribe(e=>{a(3,c=e)});function T(){"currentpage"===n?a(4,h=ge.labels.currentPageSearchPlaceholder):"allguides"===n&&!l.length||"myguides"===n?a(4,h=ge.labels.inputPlaceHolderSearch):a(4,h=ge.labels.searchInFolder)}pe(()=>{a(1,ge.lastSearchTime=0,ge),A(),y(),_(),S(),f(),P()});return e.$$.update=()=>{1&e.$$.dirty[0]&&(r=i.toLowerCase()),1&e.$$.dirty[0]&&(0<i.trim().length?a(2,o=!0):(C(),a(2,o=!1)))},[i,ge,o,c,h,C,G,function(){i=this.value,a(0,i)},()=>C(!0)]}class ja extends e{constructor(e){super(),t(this,e,Ua,Ba,g,{},null,[-1,-1])}}function Wa(e,t,a){e=e.slice();return e[55]=t[a],e}function Za(e,t,a){e=e.slice();return e[55]=t[a],e}function Ya(e){let a,r,i=e[0].labels.selectFromCategories+"",n,s,l,o=e[0].automationGuideSelectCount+"",c,g,m=e[0].labels.selectedGuides+"",d;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),l=Ee("wmgPlayerJSqa_"),c=Me(o),g=Ie(),d=Me(m),$e(a,"class","mgPlayerJSqa_auto-header-bar-container")},m(e,t){xe(e,a,t),ke(a,r),ke(r,n),ke(a,s),ke(a,l),ke(l,c),ke(l,g),ke(l,d)},p(e,t){1&t[0]&&i!==(i=e[0].labels.selectFromCategories+"")&&Fe(n,i),1&t[0]&&o!==(o=e[0].automationGuideSelectCount+"")&&Fe(c,o),1&t[0]&&m!==(m=e[0].labels.selectedGuides+"")&&Fe(d,m)},i:we,o:we,d(e){e&&Le(a)}}}function Ka(e){let a,r,i=GmCXt.isPlayer()&&e[8]&&!e[0].showGuidesFromDesktopApp,n,s,l,o=GmCXt.isPlayer(),c,g,m,d,p=i&&Qa(e),u=(s=new ja({}),o&&function(a){let r,i,n=a[0].svgs.filter_mplayer+"",s,l,o,c,g,m=(a[11]?.recent||a[0].labels.recent)+"",d,p,u,h,y=(a[11]?.older||a[0].labels.older)+"",_,S,f,P,C,b=(a[11]?.clear||a[0].labels.clear)+"",q,v,w,J,G=(!a[0].enableTranslation||a[0].defaultLang.language===a[0].language)&&er(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Ee("wmgPlayerJSqa_"),G&&G.c(),c=Ie(),g=Ee("button"),d=Me(m),u=Ie(),h=Ee("button"),_=Me(y),f=Ie(),P=Ee("wmgPlayerJSqa_"),C=Ee("button"),q=Me(b),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_filter-sort-icon mgPlayerJSqa_position-relative mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer"),$e(i,"aria-label","Sort By"),$e(i,"aria-expanded","false"),$e(g,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_filter-dropdown-item mgPlayerJSqa_padding-tb-10 mgPlayerJSqa_padding-lr-25 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer"),$e(g,"aria-label",p=a[11]?.recent||a[0].labels.recent),Oe(g,"mgPlayerJSqa_active-sort-filter","recent"===a[6]),$e(h,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_filter-dropdown-item mgPlayerJSqa_padding-tb-10 mgPlayerJSqa_padding-lr-25 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer"),$e(h,"aria-label",S=a[11]?.older||a[0].labels.older),Oe(h,"mgPlayerJSqa_active-sort-filter","older"===a[6]),$e(o,"class","mgPlayerJSqa_padding-tb-5"),$e(C,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_filter-common-btn mgPlayerJSqa_margin-lr-5 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_text-color-white mgPlayerJSqa_theme-background mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer mgPlayerJSqa_no-border mgPlayerJSqa_no-border-all mgPlayerJSqa_disabled"),$e(C,"aria-label",v=a[11]?.clear||a[0].labels.clear),$e(C,"aria-disabled","true"),Oe(C,"mgPlayerJSqa_disabled",!a[6]),$e(P,"class","mgPlayerJSqa_filter-btn-wrapper mgPlayerJSqa_width-100 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center"),$e(l,"class","mgPlayerJSqa_filter-sorting-dropdown-wrapper mgPlayerJSqa_z-index mgPlayerJSqa_z-index-max"),$e(l,"role","region"),$e(l,"aria-label","Sort"),Oe(l,"mgPlayerJSqa_display-block",a[7]),$e(r,"class","mgPlayerJSqa_filter-sorting-wrapper mgPlayerJSqa_position-relative")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,o),G&&G.m(o,null),ke(o,c),ke(o,g),ke(g,d),ke(o,u),ke(o,h),ke(h,_),ke(l,f),ke(l,P),ke(P,C),ke(C,q),w||(J=[De(i,"click",a[12]),De(g,"click",a[27]),De(h,"click",a[28]),De(C,"click",a[29])],w=!0)},p(e,t){1&t[0]&&n!==(n=e[0].svgs.filter_mplayer+"")&&(i.innerHTML=n),e[0].enableTranslation&&e[0].defaultLang.language!==e[0].language?G&&(G.d(1),G=null):G?G.p(e,t):((G=er(e)).c(),G.m(o,c)),2049&t[0]&&m!==(m=(e[11]?.recent||e[0].labels.recent)+"")&&Fe(d,m),2049&t[0]&&p!==(p=e[11]?.recent||e[0].labels.recent)&&$e(g,"aria-label",p),64&t[0]&&Oe(g,"mgPlayerJSqa_active-sort-filter","recent"===e[6]),2049&t[0]&&y!==(y=(e[11]?.older||e[0].labels.older)+"")&&Fe(_,y),2049&t[0]&&S!==(S=e[11]?.older||e[0].labels.older)&&$e(h,"aria-label",S),64&t[0]&&Oe(h,"mgPlayerJSqa_active-sort-filter","older"===e[6]),2049&t[0]&&b!==(b=(e[11]?.clear||e[0].labels.clear)+"")&&Fe(q,b),2049&t[0]&&v!==(v=e[11]?.clear||e[0].labels.clear)&&$e(C,"aria-label",v),64&t[0]&&Oe(C,"mgPlayerJSqa_disabled",!e[6]),128&t[0]&&Oe(l,"mgPlayerJSqa_display-block",e[7])},d(e){e&&Le(r),G&&G.d(),w=!1,Xe(J)}}}(e)),h=!e[0].isMicroPlayer&&tr(e),y="allguidesSearchPage"===e[1]&&nr(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),p&&p.c(),n=Ie(),Ve(s.$$.fragment),l=Ie(),u&&u.c(),g=Ie(),h&&h.c(),m=Ie(),y&&y.c(),$e(r,"class",c="mgPlayerJSqa_search-bar-container mgPlayerJSqa_display-flex "+(e[0].isMicroPlayer?"mgPlayerJSqa_bg-white mgPlayerJSqa_mplayer-search-view":"")+" "+(e[0].isMicroPlayer?"":"mgPlayerJSqa_search-bar-collapse")),$e(a,"class","mgPlayerJSqa_list-page-header-wrapper mgPlayerJSqa_no-padding mgPlayerJSqa_position-relative")},m(e,t){xe(e,a,t),ke(a,r),p&&p.m(r,null),ke(r,n),ze(s,r,null),ke(r,l),u&&u.m(r,null),ke(a,g),h&&h.m(a,null),ke(a,m),y&&y.m(a,null),d=!0},p(e,t){(i=257&t[0]?GmCXt.isPlayer()&&e[8]&&!e[0].showGuidesFromDesktopApp:i)?p?p.p(e,t):((p=Qa(e)).c(),p.m(r,n)):p&&(p.d(1),p=null),o&&u.p(e,t),(!d||1&t[0]&&c!==(c="mgPlayerJSqa_search-bar-container mgPlayerJSqa_display-flex "+(e[0].isMicroPlayer?"mgPlayerJSqa_bg-white mgPlayerJSqa_mplayer-search-view":"")+" "+(e[0].isMicroPlayer?"":"mgPlayerJSqa_search-bar-collapse")))&&$e(r,"class",c),e[0].isMicroPlayer?h&&(h.d(1),h=null):h?h.p(e,t):((h=tr(e)).c(),h.m(a,m)),"allguidesSearchPage"===e[1]?y?y.p(e,t):((y=nr(e)).c(),y.m(a,null)):y&&(y.d(1),y=null)},i(e){d||(Ne(s.$$.fragment,e),d=!0)},o(e){Be(s.$$.fragment,e),d=!1},d(e){e&&Le(a),p&&p.d(),Ue(s),u&&u.d(),h&&h.d(),y&&y.d()}}}function Qa(a){let r,i,n=a[0].taskListCount+"",s,l,o,c=a[0].svgs.iconTaskList+"",g,m;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Me(n),l=Ie(),o=Ee("button"),$e(i,"class","mgPlayerJSqa_task-list-count mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center"),$e(o,"class","mgPlayerJSqa_task-list-icon mgPlayerJSqa_lbl-btn mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_position-relative"),$e(o,"aria-label","Task List"),$e(o,"tabindex","0"),$e(r,"class","mgPlayerJSqa_task-list-icon-container mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_position-relative"),Oe(r,"mgPlayerJSqa_task-list-icon-mplayer",a[0]?.isMicroPlayer)},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),ke(r,l),ke(r,o),o.innerHTML=c,g||(m=De(o,"click",a[24]),g=!0)},p(e,t){1&t[0]&&n!==(n=e[0].taskListCount+"")&&Fe(s,n),1&t[0]&&c!==(c=e[0].svgs.iconTaskList+"")&&(o.innerHTML=c),1&t[0]&&Oe(r,"mgPlayerJSqa_task-list-icon-mplayer",e[0]?.isMicroPlayer)},d(e){e&&Le(r),g=!1,m()}}}function er(a){let r,i=a[0].labels.atoz+"",n,s,l,o,c=a[0].labels.ztoa+"",g,m,d,p;return{c(){r=Ee("button"),n=Me(i),l=Ie(),o=Ee("button"),g=Me(c),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_filter-dropdown-item mgPlayerJSqa_padding-tb-10 mgPlayerJSqa_padding-lr-25 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer"),$e(r,"aria-label",s=a[0].labels.atoz),Oe(r,"mgPlayerJSqa_active-sort-filter","atoz"===a[6]),$e(o,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_filter-dropdown-item mgPlayerJSqa_padding-tb-10 mgPlayerJSqa_padding-lr-25 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer"),$e(o,"aria-label",m=a[0].labels.ztoa),Oe(o,"mgPlayerJSqa_active-sort-filter","ztoa"===a[6])},m(e,t){xe(e,r,t),ke(r,n),xe(e,l,t),xe(e,o,t),ke(o,g),d||(p=[De(r,"click",a[25]),De(o,"click",a[26])],d=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.atoz+"")&&Fe(n,i),1&t[0]&&s!==(s=e[0].labels.atoz)&&$e(r,"aria-label",s),64&t[0]&&Oe(r,"mgPlayerJSqa_active-sort-filter","atoz"===e[6]),1&t[0]&&c!==(c=e[0].labels.ztoa+"")&&Fe(g,c),1&t[0]&&m!==(m=e[0].labels.ztoa)&&$e(o,"aria-label",m),64&t[0]&&Oe(o,"mgPlayerJSqa_active-sort-filter","ztoa"===e[6])},d(e){e&&(Le(r),Le(l),Le(o)),d=!1,Xe(p)}}}function tr(e){let a,r=!e[0].showGuidesFromDesktopApp&&ar(e);return{c(){a=Ee("wmgPlayerJSqa_"),r&&r.c(),$e(a,"class","mgPlayerJSqa_inline-block-vm all-guides-filters-tab mgPlayerJSqa_width-100 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center")},m(e,t){xe(e,a,t),r&&r.m(a,null)},p(e,t){e[0].showGuidesFromDesktopApp?r&&(r.d(1),r=null):r?r.p(e,t):((r=ar(e)).c(),r.m(a,null))},d(e){e&&Le(a),r&&r.d()}}}function ar(a){let r,i,n=(a[11]?.currentPage||a[0].labels.currentPage)+"",s,l,o,c,g;let m=(GmCXt.isPlayer()?ir:rr)(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),s=Me(n),o=Ie(),m.c(),$e(i,"id","mgPlayerJSqa_filter-tab-current-page"),$e(i,"class",l="mgPlayerJSqa_lbl-btn mgPlayerJSqa_filter-tab mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-align-center mgPlayerJSqa_cursor-pointer mgPlayerJSqa_margin-lr-5 mgPlayerJSqa_text-overflow-ellipsis "+("currentpage"===a[1]?"mgPlayerJSqa_filter-active-tab":"")),$e(r,"class","mgPlayerJSqa_library-filter-wrapper mgPlayerJSqa_inline-block-vm mgPlayerJSqa_margin-lr-10")},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),ke(r,o),m.m(r,null),c||(g=De(i,"click",a[14]),c=!0)},p(e,t){2049&t[0]&&n!==(n=(e[11]?.currentPage||e[0].labels.currentPage)+"")&&Fe(s,n),2&t[0]&&l!==(l="mgPlayerJSqa_lbl-btn mgPlayerJSqa_filter-tab mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-align-center mgPlayerJSqa_cursor-pointer mgPlayerJSqa_margin-lr-5 mgPlayerJSqa_text-overflow-ellipsis "+("currentpage"===e[1]?"mgPlayerJSqa_filter-active-tab":""))&&$e(i,"class",l),m.p(e,t)},d(e){e&&Le(r),m.d(),c=!1,g()}}}function rr(a){let r,i=(a[11]?.myGuides||a[0].labels.myGuides)+"",n,s,l,o;return{c(){r=Ee("button"),n=Me(i),$e(r,"id","mgPlayerJSqa_filter-tab-go-to-lib"),$e(r,"class",s="mgPlayerJSqa_lbl-btn mgPlayerJSqa_filter-tab mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-align-center mgPlayerJSqa_cursor-pointer mgPlayerJSqa_margin-lr-5 mgPlayerJSqa_text-overflow-ellipsis "+("myguides"===a[1]?"mgPlayerJSqa_filter-active-tab":""))},m(e,t){xe(e,r,t),ke(r,n),l||(o=De(r,"click",a[15]),l=!0)},p(e,t){2049&t[0]&&i!==(i=(e[11]?.myGuides||e[0].labels.myGuides)+"")&&Fe(n,i),2&t[0]&&s!==(s="mgPlayerJSqa_lbl-btn mgPlayerJSqa_filter-tab mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-align-center mgPlayerJSqa_cursor-pointer mgPlayerJSqa_margin-lr-5 mgPlayerJSqa_text-overflow-ellipsis "+("myguides"===e[1]?"mgPlayerJSqa_filter-active-tab":""))&&$e(r,"class",s)},d(e){e&&Le(r),l=!1,o()}}}function ir(a){let r,i=(a[11]?.allGuides||a[0].labels.allGuides)+"",n,s,l,o;return{c(){r=Ee("button"),n=Me(i),$e(r,"id","mgPlayerJSqa_filter-tab-go-to-lib"),$e(r,"class",s="mgPlayerJSqa_lbl-btn mgPlayerJSqa_filter-tab mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-align-center mgPlayerJSqa_cursor-pointer mgPlayerJSqa_margin-lr-5 mgPlayerJSqa_text-overflow-ellipsis "+("allguides"===a[1]?"mgPlayerJSqa_filter-active-tab":""))},m(e,t){xe(e,r,t),ke(r,n),l||(o=De(r,"click",a[14]),l=!0)},p(e,t){2049&t[0]&&i!==(i=(e[11]?.allGuides||e[0].labels.allGuides)+"")&&Fe(n,i),2&t[0]&&s!==(s="mgPlayerJSqa_lbl-btn mgPlayerJSqa_filter-tab mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-align-center mgPlayerJSqa_cursor-pointer mgPlayerJSqa_margin-lr-5 mgPlayerJSqa_text-overflow-ellipsis "+("allguides"===e[1]?"mgPlayerJSqa_filter-active-tab":""))&&$e(r,"class",s)},d(e){e&&Le(r),l=!1,o()}}}function nr(e){let a,r,i,n,s=e[0].labels.searchResult+"",l,o=!e[0].isMicroPlayer&&GmCXt.FT.creatorApp&&sr(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ie(),o&&o.c(),i=Ie(),n=Ee("wmgPlayerJSqa_"),l=Me(s),$e(a,"class","mgPlayerJSqa_ege-clear"),$e(n,"class","mgPlayerJSqa_search-result-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_font-size-15 mgPlayerJSqa_padding-lr-20")},m(e,t){xe(e,a,t),xe(e,r,t),o&&o.m(e,t),xe(e,i,t),xe(e,n,t),ke(n,l)},p(e,t){!e[0].isMicroPlayer&&GmCXt.FT.creatorApp?o?o.p(e,t):((o=sr(e)).c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null),1&t[0]&&s!==(s=e[0].labels.searchResult+"")&&Fe(l,s)},d(e){e&&(Le(a),Le(r),Le(i),Le(n)),o&&o.d(e)}}}function sr(e){let a,r,i,n,s="allguidesSearchPage"===e[1]&&lr(e),l="allguidesSearchPage"===e[1]&&gr(e),o="allguidesSearchPage"===e[1]&&mr(e),c="allguidesSearchPage"===e[1]&&ur(e);return{c(){a=Ee("wmgPlayerJSqa_"),s&&s.c(),r=Ie(),l&&l.c(),i=Ie(),o&&o.c(),n=Ie(),c&&c.c(),$e(a,"class","mgPlayerJSqa_inline-block-vm all-guides-filters-tab mgPlayerJSqa_width-100 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center")},m(e,t){xe(e,a,t),s&&s.m(a,null),ke(a,r),l&&l.m(a,null),ke(a,i),o&&o.m(a,null),ke(a,n),c&&c.m(a,null)},p(e,t){"allguidesSearchPage"===e[1]?s?s.p(e,t):((s=lr(e)).c(),s.m(a,r)):s&&(s.d(1),s=null),"allguidesSearchPage"===e[1]?l?l.p(e,t):((l=gr(e)).c(),l.m(a,i)):l&&(l.d(1),l=null),"allguidesSearchPage"===e[1]?o?o.p(e,t):((o=mr(e)).c(),o.m(a,n)):o&&(o.d(1),o=null),"allguidesSearchPage"===e[1]?c?c.p(e,t):((c=ur(e)).c(),c.m(a,null)):c&&(c.d(1),c=null)},d(e){e&&Le(a),s&&s.d(),l&&l.d(),o&&o.d(),c&&c.d()}}}function lr(a){let r,i=a[0].labels.creator+":",n,s,l,o=a[3]?.first_name+"",c,g,m,d=a[0].svgs.down_arrow_icon+"",p,u,h,y=a[0].labels.currentUser+"",_,S,f,P=a[0].labels.allUser+"",C,b,q,v,w,J,G=0<a[10].length&&or(a);return{c(){r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),l=Ee("wmgPlayerJSqa_"),c=Me(o),g=Ie(),m=Ee("wmgPlayerJSqa_"),p=Ie(),u=Ee("wmgPlayerJSqa_"),h=Ee("wmgPlayerJSqa_"),_=Me(y),S=Ie(),f=Ee("wmgPlayerJSqa_"),C=Me(P),b=Ie(),q=Ee("wmgPlayerJSqa_"),v=Ie(),G&&G.c(),$e(l,"class","mgPlayerJSqa_span mgPlayerJSqa_all-guides-search-filters-label"),$e(m,"class","mgPlayerJSqa_all-guides-search-filters-icon mgPlayerJSqa_ege-inline-block-vt"),$e(h,"id","mgPlayerJSqa_filter-search-by-current-user"),$e(h,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-item"),$e(f,"id","mgPlayerJSqa_filter-search-by-all-user"),$e(f,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-item"),$e(q,"class","mgPlayerJSqa_horizontal-line margin-none"),$e(u,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-user"),$e(r,"id","mgPlayerJSqa_filter-search-by"),$e(r,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_all-guides-search-filters")},m(e,t){xe(e,r,t),ke(r,n),ke(r,s),ke(r,l),ke(l,c),ke(r,g),ke(r,m),m.innerHTML=d,ke(r,p),ke(r,u),ke(u,h),ke(h,_),ke(u,S),ke(u,f),ke(f,C),ke(u,b),ke(u,q),ke(u,v),G&&G.m(u,null),w||(J=[De(h,"click",a[30]),De(f,"click",a[31]),De(r,"click",a[33])],w=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.creator+":")&&Fe(n,i),8&t[0]&&o!==(o=e[3]?.first_name+"")&&Fe(c,o),1&t[0]&&d!==(d=e[0].svgs.down_arrow_icon+"")&&(m.innerHTML=d),1&t[0]&&y!==(y=e[0].labels.currentUser+"")&&Fe(_,y),1&t[0]&&P!==(P=e[0].labels.allUser+"")&&Fe(C,P),0<e[10].length?G?G.p(e,t):((G=or(e)).c(),G.m(u,null)):G&&(G.d(1),G=null)},d(e){e&&Le(r),G&&G.d(),w=!1,Xe(J)}}}function or(t){let r=[],a=new Map,i,n=I(t[10].sort(yr));const s=e=>e[55].user_id;for(let e=0;e<n.length;e+=1){var l=Za(t,n,e),o=s(l);a.set(o,r[e]=cr(o,l))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();i=M()},m(t,a){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,a);xe(t,i,a)},p(e,t){132104&t[0]&&(n=I(e[10].sort(yr)),r=L(r,t,s,0,e,n,a,i.parentNode,k,cr,i,Za))},d(t){t&&Le(i);for(let e=0;e<r.length;e+=1)r[e].d(t)}}}function cr(e,a){let r,i=a[55].first_name+" "+a[55].last_name,n,s,l,o,c;function g(){return a[32](a[55])}return{key:e,first:null,c(){r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),$e(r,"id",l="mgPlayerJSqa_filter-search-by-user-"+a[55].user_id),$e(r,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-item"),Oe(r,"mgPlayerJSqa_selected-filter-dropdown-item",a[3].user_id===a[55].user_id),this.first=r},m(e,t){xe(e,r,t),ke(r,n),ke(r,s),o||(c=De(r,"click",g),o=!0)},p(e,t){a=e,1024&t[0]&&i!==(i=a[55].first_name+" "+a[55].last_name)&&Fe(n,i),1024&t[0]&&l!==(l="mgPlayerJSqa_filter-search-by-user-"+a[55].user_id)&&$e(r,"id",l),1032&t[0]&&Oe(r,"mgPlayerJSqa_selected-filter-dropdown-item",a[3].user_id===a[55].user_id)},d(e){e&&Le(r),o=!1,c()}}}function gr(a){let r,i=a[0].labels.status+":",n,s,l,o,c,g,m=a[0].svgs.down_arrow_icon+"",d,p,u,h=a[0].labels.all+"",y,_,S,f=a[0].labels.published+"",P,C,b,q=a[0].labels.unpublished+"",v,w,J,G;return{c(){r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Me(a[5]),c=Ie(),g=Ee("wmgPlayerJSqa_"),d=Ie(),p=Ee("wmgPlayerJSqa_"),u=Ee("wmgPlayerJSqa_"),y=Me(h),_=Ie(),S=Ee("wmgPlayerJSqa_"),P=Me(f),C=Ie(),b=Ee("wmgPlayerJSqa_"),v=Me(q),$e(l,"class","mgPlayerJSqa_span mgPlayerJSqa_all-guides-search-filters-label"),$e(g,"class","mgPlayerJSqa_all-guides-search-filters-icon mgPlayerJSqa_ege-inline-block-vt"),$e(u,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-item"),$e(S,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-item"),$e(b,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-item"),$e(p,"class",w="mgPlayerJSqa_all-guides-search-filters-dropdown-published mgPlayerJSqa_all-guides-search-filters-dropdown-"+a[0].labels.published),$e(r,"id","mgPlayerJSqa_filter-search-by-status"),$e(r,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_all-guides-search-filters")},m(e,t){xe(e,r,t),ke(r,n),ke(r,s),ke(r,l),ke(l,o),ke(r,c),ke(r,g),g.innerHTML=m,ke(r,d),ke(r,p),ke(p,u),ke(u,y),ke(p,_),ke(p,S),ke(S,P),ke(p,C),ke(p,b),ke(b,v),J||(G=[De(u,"click",a[21]),De(S,"click",a[22]),De(b,"click",a[23]),De(r,"click",a[34])],J=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.status+":")&&Fe(n,i),32&t[0]&&Fe(o,e[5]),1&t[0]&&m!==(m=e[0].svgs.down_arrow_icon+"")&&(g.innerHTML=m),1&t[0]&&h!==(h=e[0].labels.all+"")&&Fe(y,h),1&t[0]&&f!==(f=e[0].labels.published+"")&&Fe(P,f),1&t[0]&&q!==(q=e[0].labels.unpublished+"")&&Fe(v,q),1&t[0]&&w!==(w="mgPlayerJSqa_all-guides-search-filters-dropdown-published mgPlayerJSqa_all-guides-search-filters-dropdown-"+e[0].labels.published)&&$e(p,"class",w)},d(e){e&&Le(r),J=!1,Xe(G)}}}function mr(a){let r,i=a[0].labels.assignee+":",n,s,l,o=a[4]?.first_name+"",c,g,m,d=a[0].svgs.down_arrow_icon+"",p,u,h,y=a[0].labels.currentUser+"",_,S,f,P=a[0].labels.allUser+"",C,b,q,v,w,J,G=0<a[10].length&&dr(a);return{c(){r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),l=Ee("wmgPlayerJSqa_"),c=Me(o),g=Ie(),m=Ee("wmgPlayerJSqa_"),p=Ie(),u=Ee("wmgPlayerJSqa_"),h=Ee("wmgPlayerJSqa_"),_=Me(y),S=Ie(),f=Ee("wmgPlayerJSqa_"),C=Me(P),b=Ie(),q=Ee("wmgPlayerJSqa_"),v=Ie(),G&&G.c(),$e(l,"class","mgPlayerJSqa_span mgPlayerJSqa_all-guides-search-filters-label"),$e(m,"class","mgPlayerJSqa_all-guides-search-filters-icon mgPlayerJSqa_ege-inline-block-vt"),$e(h,"id","mgPlayerJSqa_filter-search-locked-by-current-user"),$e(h,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-item"),$e(f,"id","mgPlayerJSqa_filter-search-locked-by-all-user"),$e(f,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-item"),$e(q,"class","mgPlayerJSqa_horizontal-line margin-none"),$e(u,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-assignee"),$e(r,"id","mgPlayerJSqa_filter-search-by-assignee"),$e(r,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_all-guides-search-filters")},m(e,t){xe(e,r,t),ke(r,n),ke(r,s),ke(r,l),ke(l,c),ke(r,g),ke(r,m),m.innerHTML=d,ke(r,p),ke(r,u),ke(u,h),ke(h,_),ke(u,S),ke(u,f),ke(f,C),ke(u,b),ke(u,q),ke(u,v),G&&G.m(u,null),w||(J=[De(h,"click",a[35]),De(f,"click",a[36]),De(r,"click",a[38])],w=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.assignee+":")&&Fe(n,i),16&t[0]&&o!==(o=e[4]?.first_name+"")&&Fe(c,o),1&t[0]&&d!==(d=e[0].svgs.down_arrow_icon+"")&&(m.innerHTML=d),1&t[0]&&y!==(y=e[0].labels.currentUser+"")&&Fe(_,y),1&t[0]&&P!==(P=e[0].labels.allUser+"")&&Fe(C,P),0<e[10].length?G?G.p(e,t):((G=dr(e)).c(),G.m(u,null)):G&&(G.d(1),G=null)},d(e){e&&Le(r),G&&G.d(),w=!1,Xe(J)}}}function dr(t){let i,n=I(t[10].sort(_r)),s=[];for(let e=0;e<n.length;e+=1)s[e]=pr(Wa(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();i=M()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);xe(t,i,a)},p(t,a){if(263176&a[0]){n=I(t[10].sort(_r));let e;for(e=0;e<n.length;e+=1){var r=Wa(t,n,e);s[e]?s[e].p(r,a):(s[e]=pr(r),s[e].c(),s[e].m(i.parentNode,i))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}},d(e){e&&Le(i),$(s,e)}}}function pr(a){let r,i=a[55].first_name+" "+a[55].last_name,n,s,l,o,c,g;function m(){return a[37](a[55])}return{c(){r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),$e(r,"id",l="mgPlayerJSqa_filter-search-locked-by-user-"+a[55].user_id),$e(r,"class",o="mgPlayerJSqa_all-guides-search-filters-dropdown-item "+(a[3].user_id===a[55].user_id?"mgPlayerJSqa_selected-filter-dropdown-item":""))},m(e,t){xe(e,r,t),ke(r,n),ke(r,s),c||(g=De(r,"click",m),c=!0)},p(e,t){a=e,1024&t[0]&&i!==(i=a[55].first_name+" "+a[55].last_name)&&Fe(n,i),1024&t[0]&&l!==(l="mgPlayerJSqa_filter-search-locked-by-user-"+a[55].user_id)&&$e(r,"id",l),1032&t[0]&&o!==(o="mgPlayerJSqa_all-guides-search-filters-dropdown-item "+(a[3].user_id===a[55].user_id?"mgPlayerJSqa_selected-filter-dropdown-item":""))&&$e(r,"class",o)},d(e){e&&Le(r),c=!1,g()}}}function ur(a){let r,i=a[0].labels.sortBy+":",n,s,l,o,c,g,m=a[0].svgs.down_arrow_icon+"",d,p,u,h=a[0].labels.latest+"",y,_,S,f=a[0].labels.name+"",P,C,b;return{c(){r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Me(a[9]),c=Ie(),g=Ee("wmgPlayerJSqa_"),d=Ie(),p=Ee("wmgPlayerJSqa_"),u=Ee("wmgPlayerJSqa_"),y=Me(h),_=Ie(),S=Ee("wmgPlayerJSqa_"),P=Me(f),$e(l,"class","mgPlayerJSqa_span mgPlayerJSqa_all-guides-search-filters-label"),$e(g,"class","mgPlayerJSqa_all-guides-search-filters-icon mgPlayerJSqa_ege-inline-block-vt"),$e(u,"id","mgPlayerJSqa_filter-search-by-sort-latest"),$e(u,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-item"),$e(S,"id","mgPlayerJSqa_filter-search-by-sort-name"),$e(S,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-item"),$e(p,"class","mgPlayerJSqa_all-guides-search-filters-dropdown-sort"),$e(r,"id","mgPlayerJSqa_filter-search-by-sort"),$e(r,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_all-guides-search-filters")},m(e,t){xe(e,r,t),ke(r,n),ke(r,s),ke(r,l),ke(l,o),ke(r,c),ke(r,g),g.innerHTML=m,ke(r,d),ke(r,p),ke(p,u),ke(u,y),ke(p,_),ke(p,S),ke(S,P),C||(b=[De(u,"click",a[19]),De(S,"click",a[20]),De(r,"click",a[39])],C=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.sortBy+":")&&Fe(n,i),512&t[0]&&Fe(o,e[9]),1&t[0]&&m!==(m=e[0].svgs.down_arrow_icon+"")&&(g.innerHTML=m),1&t[0]&&h!==(h=e[0].labels.latest+"")&&Fe(y,h),1&t[0]&&f!==(f=e[0].labels.name+"")&&Fe(P,f)},d(e){e&&Le(r),C=!1,Xe(b)}}}function hr(e){let r,i,n,a;const s=[Ka,Ya],l=[];function o(e){return e[0].automationSelectionMode?1:0}return i=o(e),n=l[i]=s[i](e),{c(){r=Ee("wmgPlayerJSqa_"),n.c(),$e(r,"class","mgPlayerJSqa_list-page-header")},m(e,t){xe(e,r,t),l[i].m(r,null),a=!0},p(e,t){let a=i;(i=o(e))===a?l[i].p(e,t):(Re(),Be(l[a],1,1,()=>{l[a]=null}),He(),(n=l[i])?n.p(e,t):(n=l[i]=s[i](e)).c(),Ne(n,1),n.m(r,null))},i(e){a||(Ne(n),a=!0)},o(e){Be(n),a=!1},d(e){e&&Le(r),l[i].d()}}}const yr=(e,t)=>e.first_name.localeCompare(t.first_name),_r=(e,t)=>e.first_name.localeCompare(t.first_name);function Sr(e,t,a){let r,i,n,s,l,o,c="",g=!1,m=!1,d=ge.labels.latest,p=[];const u=me.CurrentPage.subscribe(e=>{a(1,r=e)});let h=ce(me.labels),y=(me.activeSortFilterStore.subscribe(e=>{a(6,c=e)}),me.isTaskListVisible.subscribe(e=>{a(8,m=e)})),_=me.taskListCount.subscribe(e=>{});const S=me.routeAction.subscribe(e=>{e&&"updateAutomationCount"===e.action&&(a(0,ge.automationGuideSelectCount=e.data,ge),me.routeAction.set(null))});i={user_id:0,first_name:ge.labels.all},ge.currentUserFilter||(n=i),ge.currentAssigneeFilter||(s=i),ge.filterByPublishedGuides||(l=ge.labels.all);function f(){a(7,g=!1),me.activeSortFilterStore.set(c),ge.hidePanelOverlay(),mg$(".mgPlayerJSqa_filter-sort-icon").removeClass("mgPlayerJSqa_z-index mgPlayerJSqa_z-index-max"),mg$(".mgPlayerJSqa_filter-sort-icon").removeClass("mgPlayerJSqa_filter-active-state")}function P(e){a(7,g=!1),a(6,c=e),me.activeSortFilterStore.set(c),GmCXt.saveToStorage("activeSortFilter",c),a(0,ge.descOrder=c.descOrder,ge),a(0,ge.activeSortFilter=c.activeSfilter,ge),f()}function C(e){ge.hideFiltersDropdown();e=mg$(".mgPlayerJSqa_all-guides-search-filters-dropdown-"+e);e&&!e.is(":visible")&&e.slideDown(200)}function b(){ge.getUserList(function(e){0<e.length&&(a(10,p=e),ge.currentUserFilter||a(3,n=i),ge.currentAssigneeFilter||a(4,s=i))})}function q(){var e;(ge.currentUserFilter||ge.filterByPublishedGuides||ge.currentAssigneeFilter||ge.sortByProperty)&&(e={currentUserFilter:ge.currentUserFilter,filterByPublishedGuides:ge.filterByPublishedGuides,currentAssigneeFilter:ge.currentAssigneeFilter,sortByProperty:ge.sortByProperty},me.filters.set(e))}function v(e){a(3,n=e),a(0,ge.currentUserFilter=e,ge),q()}function w(e){a(4,s=e),a(0,ge.currentAssigneeFilter=e,ge),q()}!ge.isUserRole()&&GmCXt.FT.quickFilters&&(n=ge.myGuidesFilter?{...ge.user}:ge.currentUserFilter||i,l=ge.filterByPublishedGuides||ge.labels.all,s=ge.currentAssigneeFilter||i);const J=me.labels.subscribe(e=>{a(11,h=e)});de(()=>{GmCXt.FT.creatorApp&&!ge.isUserRole()&&b()}),pe(()=>{u(),J(),f(),S(),y(),_()});return[ge,r,i,n,s,l,c,g,m,d,p,h,function(){g?f():(a(7,g=!g),a(7,g=!0),ge.addPanelOverlay(),ge.showPanelOverlay(),mg$(".mgPlayerJSqa_theme-mplayer-header").append("<wmgPlayerJSqa_ class='mgPlayerJSqa_ege-panel-overlay'></wmgPlayerJSqa_>"),mg$(".mgPlayerJSqa_filter-sort-icon").addClass("mgPlayerJSqa_z-index mgPlayerJSqa_z-index-max"),mg$(".mgPlayerJSqa_filter-sort-icon").addClass("mgPlayerJSqa_filter-active-state"))},P,function(){"allguides"===r||"myguides"===r?ge.setCurrentPage("currentpage"):ge.setCurrentPage("allguides"),me.breadCrumb.set([])},function(){o="allguides"===r||"currentpage"===r?(ge.setCurrentPage("myguides"),!0):(ge.setCurrentPage("allguides"),!1),me.breadCrumb.set([]),a(0,ge.myGuidesFilter=!!o,ge)},C,v,w,function(){a(9,d=ge.labels.latest),a(0,ge.sortByProperty=ge.labels.latest,ge),q()},function(){a(9,d=ge.labels.name),a(0,ge.sortByProperty=ge.labels.name,ge),q()},function(){a(0,ge.filterByPublishedGuides=ge.labels.all,ge),a(5,l=ge.labels.all),q()},function(){a(5,l=ge.labels.published),a(0,ge.filterByPublishedGuides=ge.labels.published,ge),q()},function(){a(0,ge.filterByPublishedGuides=ge.labels.unpublished,ge),a(5,l=ge.labels.unpublished),q()},()=>ge.openTaskList(),()=>P("atoz"),()=>P("ztoa"),()=>P("recent"),()=>P("older"),()=>P(""),()=>v(ge.user),()=>v(i),e=>v(e),e=>C("user"),e=>C(ge.labels.published),()=>w(ge.user),()=>w(i),e=>w(e),e=>C("assignee"),e=>C("sort")]}class fr extends e{constructor(e){super(),t(this,e,Sr,hr,g,{},null,[-1,-1])}}function Pr(e){l(e,"svelte-1g8jcbr","dialog.svelte-1g8jcbr::backdrop{background:rgba(0, 0, 0, 0.3)}dialog[open].svelte-1g8jcbr{animation:svelte-1g8jcbr-zoom 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)}@keyframes svelte-1g8jcbr-zoom{from{transform:scale(0.95)}to{transform:scale(1)}}dialog[open].svelte-1g8jcbr::backdrop{animation:svelte-1g8jcbr-fade 0.2s ease-out}@keyframes svelte-1g8jcbr-fade{from{opacity:0}to{opacity:1}}button.svelte-1g8jcbr{display:block}")}function Cr(a){let r,i,n,s,l,o,c,g,$=ge.svgs.iconSearchClose+"",F,m,d,O,p,u,h,y,R,_=a[1].tour_title+"",S,H,f,P,C,e=ge.labels.firstStep+"",N,B,b,q=a[4][0].step_title+"",V,v,w,J,z,G,A,t=ge.labels.lastStep+"",U,j,T,X=a[4][a[6]-1].step_title+"",W,k,x,L,Z,E,M,Y,I,D,K;return{c(){r=Ee("dialog"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),l=Me(a[3]),o=Ie(),c=Ee("button"),g=Ee("wmgPlayerJSqa_"),F=Ie(),m=Ee("wmgPlayerJSqa_"),(d=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.close,O=Ie(),p=Ee("wmgPlayerJSqa_"),u=Ee("wmgPlayerJSqa_"),h=Ee("wmgPlayerJSqa_"),(y=Ee("wmgPlayerJSqa_")).innerHTML='<svg width="24px" height="30px" viewBox="0 0 24 30" version="1.1"><defs></defs><g stroke="none" stroke-width="1" fill-rule="evenodd"><g fill-rule="nonzero"><path d="M21.0913898,3.4972619 L18.2461695,3.4972619 L18.2461695,2.99767857 C18.2461695,2.44809524 17.7340339,1.99845238 17.1080678,1.99845238 L15.4009492,1.99845238 L15.4009492,1.49880952 C15.4009492,0.699404762 14.6612203,0 13.6938305,0 L10.2795254,0 C9.31213559,0 8.57240678,0.649464286 8.57240678,1.49880952 L8.57240678,1.99839286 L6.86528814,1.99839286 C6.23932203,1.99839286 5.72718644,2.44803571 5.72718644,2.99761905 L5.72718644,3.49720238 L2.8819661,3.49720238 C1.28861017,3.49720238 0.0367457627,4.59636905 0.0367457627,5.9952381 L0.0367457627,27.4784524 C0.0367457627,28.877381 1.28867797,29.9764881 2.8819661,29.9764881 L21.0914576,29.9764881 C22.6848136,29.9764881 23.936678,28.8773214 23.936678,27.4784524 L23.936678,5.99529762 C23.936678,4.64636905 22.6847458,3.4972619 21.0913898,3.4972619 Z M6.86522034,3.99690476 L6.86522034,2.99767857 L9.14142373,2.99767857 C9.48284746,2.99767857 9.71044068,2.79785714 9.71044068,2.49809524 L9.71044068,1.49880952 C9.71044068,1.19904762 9.9380339,0.99922619 10.2794576,0.99922619 L13.6937627,0.99922619 C14.0351864,0.99922619 14.2627797,1.19904762 14.2627797,1.49880952 L14.2627797,2.49803571 C14.2627797,2.79779762 14.4903729,2.99761905 14.8317966,2.99761905 L17.108,2.99761905 L17.108,6.49488095 L6.86522034,6.49488095 L6.86522034,3.99690476 Z M18.2461695,25.480119 L5.72711864,25.480119 C5.38569492,25.480119 5.15810169,25.2802976 5.15810169,24.9805357 C5.15810169,24.6807738 5.38569492,24.4809524 5.72711864,24.4809524 L18.2461695,24.4809524 C18.5875932,24.4809524 18.8151864,24.6807738 18.8151864,24.9805357 C18.8151864,25.2802976 18.5875932,25.480119 18.2461695,25.480119 Z M18.2461695,20.983631 L5.72711864,20.983631 C5.38569492,20.983631 5.15810169,20.7838095 5.15810169,20.4840476 C5.15810169,20.1842857 5.38569492,19.9844643 5.72711864,19.9844643 L18.2461695,19.9844643 C18.5875932,19.9844643 18.8151864,20.1842857 18.8151864,20.4840476 C18.8152542,20.78375 18.5875932,20.983631 18.2461695,20.983631 Z M18.2461695,16.4871429 L5.72711864,16.4871429 C5.38569492,16.4871429 5.15810169,16.2873214 5.15810169,15.9875595 C5.15810169,15.6877976 5.38569492,15.4879762 5.72711864,15.4879762 L18.2461695,15.4879762 C18.5875932,15.4879762 18.8151864,15.6877976 18.8151864,15.9875595 C18.8151864,16.2873214 18.5875932,16.4871429 18.2461695,16.4871429 Z M18.2461695,11.9906548 L5.72711864,11.9906548 C5.38569492,11.9906548 5.15810169,11.7908333 5.15810169,11.4910714 C5.15810169,11.1913095 5.38569492,10.9914881 5.72711864,10.9914881 L18.2461695,10.9914881 C18.5875932,10.9914881 18.8151864,11.1913095 18.8151864,11.4910714 C18.8151864,11.7908333 18.5875932,11.9906548 18.2461695,11.9906548 Z" class="mgPlayerJSqa_shape"></path></g></g></svg>',R=Ie(),S=Me(_),H=Ie(),f=Ee("wmgPlayerJSqa_"),P=Ee("wmgPlayerJSqa_"),C=Ee("wmgPlayerJSqa_"),N=Me(e),B=Me(": "),b=new te(!1),V=Ie(),v=Ee("wmgPlayerJSqa_"),w=Ee("img"),z=Ie(),G=Ee("wmgPlayerJSqa_"),A=Ee("wmgPlayerJSqa_"),U=Me(t),j=Me(": "),T=new te(!1),W=Ie(),k=Ee("wmgPlayerJSqa_"),x=Ee("img"),Z=Ie(),E=Ee("wmgPlayerJSqa_"),(M=Ee("button")).textContent=""+ge.labels.startTest,Y=Ie(),(I=Ee("button")).textContent=""+ge.labels.close,$e(s,"class","mgPlayerJSqa_popup-test-me-title"),$e(g,"class","mgPlayerJSqa_ege-inline-block-vt"),$e(d,"class","mgPlayerJSqa_tooltip-title"),$e(m,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left"),$e(c,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_popup-test-me-close svelte-1g8jcbr"),$e(n,"class","mgPlayerJSqa_popup-test-me-header"),$e(y,"class","mgPlayerJSqa_tour-play-icon-test-me mgPlayerJSqa_ege-inline-block-vm"),$e(h,"class","mgPlayerJSqa_tour-title-wrapper mgPlayerJSqa_ege-inline-block-vt"),Ge(h,"padding","20px"),$e(u,"class","mgPlayerJSqa_tour-details-container"),b.a=null,$e(C,"class","mgPlayerJSqa_preview-step-first-title"),$e(w,"class","mgPlayerJSqa_step-image mgPlayerJSqa_custom-image"),Q(w.src,J=a[4][0].screen_url+GmCXt.getCdnSign())||$e(w,"src",J),$e(w,"alt","test"),$e(v,"class","mgPlayerJSqa_image-preview-step-first"),$e(P,"class","mgPlayerJSqa_preview-step-first-wrapper"),T.a=null,$e(A,"class","mgPlayerJSqa_preview-step-last-title"),$e(x,"class","mgPlayerJSqa_step-image mgPlayerJSqa_custom-image"),Q(x.src,L=a[4][a[6]-1].screen_url+GmCXt.getCdnSign())||$e(x,"src",L),$e(x,"alt","test"),$e(k,"class","mgPlayerJSqa_image-preview-step-last"),$e(G,"class","mgPlayerJSqa_preview-step-last-wrapper"),$e(f,"class","mgPlayerJSqa_step-preview-container"),$e(M,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_inline-block-vt svelte-1g8jcbr"),$e(I,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_btn-neutral mgPlayerJSqa_inline-block-vt svelte-1g8jcbr"),$e(E,"class","mgPlayerJSqa_test-me-btn-action mgPlayerJSqa_display-flex mgPlayerJSqa_justify-content-center mgPlayerJSqa_padding-tb-15"),$e(p,"class","mgPlayerJSqa_popup-test-me-container"),$e(i,"class","mgPlayerJSqa_popup-test-me-preview"),Oe(i,"mgPlayerJSqa_accessibility-theme",GmCXt.accessibility),$e(r,"id","mgPlayerJSqa_svelte-notification-modal"),$e(r,"class","svelte-1g8jcbr")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),ke(s,l),ke(n,o),ke(n,c),ke(c,g),g.innerHTML=$,ke(c,F),ke(c,m),ke(m,d),ke(i,O),ke(i,p),ke(p,u),ke(u,h),ke(h,y),ke(h,R),ke(h,S),ke(p,H),ke(p,f),ke(f,P),ke(P,C),ke(C,N),ke(C,B),b.m(q,C),ke(P,V),ke(P,v),ke(v,w),ke(f,z),ke(f,G),ke(G,A),ke(A,U),ke(A,j),T.m(X,A),ke(G,W),ke(G,k),ke(k,x),ke(p,Z),ke(p,E),ke(E,M),ke(E,Y),ke(E,I),a[11](r),D||(K=[De(c,"click",a[9]),De(M,"click",a[10]),De(I,"click",a[8]),De(r,"close",a[12])],D=!0)},p(e,t){8&t&&Fe(l,e[3]),2&t&&_!==(_=e[1].tour_title+"")&&Fe(S,_),16&t&&q!==(q=e[4][0].step_title+"")&&b.p(q),16&t&&!Q(w.src,J=e[4][0].screen_url+GmCXt.getCdnSign())&&$e(w,"src",J),16&t&&X!==(X=e[4][e[6]-1].step_title+"")&&T.p(X),16&t&&!Q(x.src,L=e[4][e[6]-1].screen_url+GmCXt.getCdnSign())&&$e(x,"src",L)},d(e){e&&Le(r),a[11](null),D=!1,Xe(K)}}}function br(e){let a,r=e[0]&&Cr(e);return{c(){r&&r.c(),a=M()},m(e,t){r&&r.m(e,t),xe(e,a,t)},p(e,[t]){e[0]?r?r.p(e,t):((r=Cr(e)).c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null)},i:we,o:we,d(e){e&&Le(a),r&&r.d(e)}}}function qr(e,t,a){let r=t["showTestMe"],i=t["tour"],n,s;var t=i.steps.filter(function(e){return"inline"===e.step_type}),l=t.length;t[0].step_title=mg$("<span />").html(t[0].step_title).text(),t[l-1].step_title=mg$("<span />").html(t[l-1].step_title).text();let o={};o.tour=i;var c=GmCXt.getAppSetting();function g(e){ge.closeAppPopup(),a(0,r=!1),GmCXt.isMicroPlayer()&&(mg$(".mgPlayerJSqa_ege-panel").removeAttr("style"),GmCXt.resetMplayerPos()),GmCXt.handleStartTest({data:e})}s=c&&c.userLabels&&c.userLabels.testMe?c.userLabels.testMe:"TestMe",GmCXt.increaseSidePanelWidth();return e.$$set=e=>{"showTestMe"in e&&a(0,r=e.showTestMe),"tour"in e&&a(1,i=e.tour)},e.$$.update=()=>{5&e.$$.dirty&&n&&r&&n.showModal()},[r,i,n,s,t,o,l,g,function(){a(0,r=!1),n.close()},()=>n.close(),()=>g(o),function(e){ue[e?"unshift":"push"](()=>{n=e,a(2,n)})},()=>a(0,r=!1)]}class vr extends e{constructor(e){super(),t(this,e,qr,br,g,{showTestMe:0,tour:1},Pr)}}function wr(a){let r,i,n=a[1].svgs.guideViewDownload+"",s,l,o,c=a[0].media_files&&Jr(a);return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),s=Ie(),c&&c.c(),$e(i,"class","mgPlayerJSqa_download-icon mgPlayerJSqa_inline-block-vm"),$e(r,"id","mgPlayerJSqa_icon-tour-download"),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_header-detail-view-tour-download-wrapper mgPlayerJSqa_header-icon-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center"),$e(r,"aria-label","tour download dropdown"),Oe(r,"mgPlayerJSqa_disabled",!a[0].is_published)},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),c&&c.m(r,null),l||(o=De(r,"click",K(a[4])),l=!0)},p(e,t){2&t&&n!==(n=e[1].svgs.guideViewDownload+"")&&(i.innerHTML=n),e[0].media_files?c?c.p(e,t):((c=Jr(e)).c(),c.m(r,null)):c&&(c.d(1),c=null),1&t&&Oe(r,"mgPlayerJSqa_disabled",!e[0].is_published)},d(e){e&&Le(r),c&&c.d(),l=!1,o()}}}function Jr(e){let a;function r(e){return e[0].media_files.length?Ar:Gr}let i=r(e),n=i(e);return{c(){a=Ee("wmgPlayerJSqa_"),n.c(),$e(a,"id","mgPlayerJSqa_detail-view-download-options"),$e(a,"class","mgPlayerJSqa_detail-download-action-options-dropdown")},m(e,t){xe(e,a,t),n.m(a,null)},p(e,t){i===(i=r(e))&&n?n.p(e,t):(n.d(1),(n=i(e))&&(n.c(),n.m(a,null)))},d(e){e&&Le(a),n.d()}}}function Gr(a){let r,i,n,s,e,l,o,c=a[1].labels.pleaseWait+"",g,m,d,p=a[1].labels.mediaDownloadMsg+"",u,h,y,_=a[1].labels.close+"",S,f,P;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("img"),l=Ie(),o=Ee("wmgPlayerJSqa_"),g=Me(c),m=Ie(),d=Ee("wmgPlayerJSqa_"),u=Me(p),h=Ie(),y=Ee("a"),S=Me(_),$e(s,"class","mgPlayerJSqa_max-width-height-100"),Q(s.src,e=GmCXt.loader())||$e(s,"src",e),$e(s,"alt","Loading..."),$e(n,"class","mgPlayerJSqa_media-progress-loader-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center"),$e(o,"class","mgPlayerJSqa_font-size-18 mgPlayerJSqa_margin-tb-20"),$e(d,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_text-align-center mgPlayerJSqa_font-size-12"),$e(i,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_flex-direction-column mgPlayerJSqa_margin-tb-15"),$e(y,"class","mgPlayerJSqa_lbl-link mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_btn-default mgPlayerJSqa_btn-neutral"),$e(r,"class","mgPlayerJSqa_media-progress-container mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_flex-direction-column mgPlayerJSqa_width-100 mgPlayerJSqa_height-100 mgPlayerJSqa_position-absolute mgPlayerJSqa_bg-white mgPlayerJSqa_z-index mgPlayerJSqa_z-index-2 mgPlayerJSqa_padding-15")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),ke(i,l),ke(i,o),ke(o,g),ke(i,m),ke(i,d),ke(d,u),ke(r,h),ke(r,y),ke(y,S),f||(P=De(y,"click",K(a[5])),f=!0)},p(e,t){2&t&&c!==(c=e[1].labels.pleaseWait+"")&&Fe(g,c),2&t&&p!==(p=e[1].labels.mediaDownloadMsg+"")&&Fe(u,p),2&t&&_!==(_=e[1].labels.close+"")&&Fe(S,_)},d(e){e&&Le(r),f=!1,P()}}}function Ar(e){let a,r,i,n,s=e[0].media_files[0].gify&&e[0].tour_settings.downloadGuideFiles.gif_file&&e[2](e[0])&&!GmCXt.isOnboarding(e[0]),l,o,c=e[0].media_files[0].doc&&e[0].tour_settings.downloadGuideFiles.word_file&&e[2](e[0]),g,m,d=e[0].media_files[0].blog&&e[0].tour_settings.downloadGuideFiles.blog_file&&e[2](e[0])&&!GmCXt.isOnboarding(e[0]),p,u,h=e[0].media_files[0].text&&e[0].tour_settings.downloadGuideFiles.text_file&&e[2](e[0])&&!GmCXt.isOnboarding(e[0]),y,_=e[0].media_files[0].pdf&&e[0].tour_settings.downloadGuideFiles.pdf_file&&Tr(e),S=e[0].tour_settings.downloadGuideFiles.pdf_file&&kr(),f=e[0].media_files[0].ppt&&e[0].tour_settings.downloadGuideFiles.pptx_file&&xr(e),P=e[0].tour_settings.downloadGuideFiles.pptx_file&&Er(),C=s&&Mr(e),b=e[0].tour_settings.downloadGuideFiles.gif_file&&Dr(),q=c&&$r(e),v=e[0].tour_settings.downloadGuideFiles.word_file&&Or(),w=d&&Rr(e),J=e[0].tour_settings.downloadGuideFiles.blog_fil&&Nr(),G=h&&Br(e);return{c(){_&&_.c(),a=Ie(),S&&S.c(),r=Ie(),f&&f.c(),i=Ie(),P&&P.c(),n=Ie(),C&&C.c(),l=Ie(),b&&b.c(),o=Ie(),q&&q.c(),g=Ie(),v&&v.c(),m=Ie(),w&&w.c(),p=Ie(),J&&J.c(),u=Ie(),G&&G.c(),y=M()},m(e,t){_&&_.m(e,t),xe(e,a,t),S&&S.m(e,t),xe(e,r,t),f&&f.m(e,t),xe(e,i,t),P&&P.m(e,t),xe(e,n,t),C&&C.m(e,t),xe(e,l,t),b&&b.m(e,t),xe(e,o,t),q&&q.m(e,t),xe(e,g,t),v&&v.m(e,t),xe(e,m,t),w&&w.m(e,t),xe(e,p,t),J&&J.m(e,t),xe(e,u,t),G&&G.m(e,t),xe(e,y,t)},p(e,t){e[0].media_files[0].pdf&&e[0].tour_settings.downloadGuideFiles.pdf_file?_?_.p(e,t):((_=Tr(e)).c(),_.m(a.parentNode,a)):_&&(_.d(1),_=null),e[0].tour_settings.downloadGuideFiles.pdf_file?S||((S=kr()).c(),S.m(r.parentNode,r)):S&&(S.d(1),S=null),e[0].media_files[0].ppt&&e[0].tour_settings.downloadGuideFiles.pptx_file?f?f.p(e,t):((f=xr(e)).c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),e[0].tour_settings.downloadGuideFiles.pptx_file?P||((P=Er()).c(),P.m(n.parentNode,n)):P&&(P.d(1),P=null),(s=1&t?e[0].media_files[0].gify&&e[0].tour_settings.downloadGuideFiles.gif_file&&e[2](e[0])&&!GmCXt.isOnboarding(e[0]):s)?C?C.p(e,t):((C=Mr(e)).c(),C.m(l.parentNode,l)):C&&(C.d(1),C=null),e[0].tour_settings.downloadGuideFiles.gif_file?b||((b=Dr()).c(),b.m(o.parentNode,o)):b&&(b.d(1),b=null),(c=1&t?e[0].media_files[0].doc&&e[0].tour_settings.downloadGuideFiles.word_file&&e[2](e[0]):c)?q?q.p(e,t):((q=$r(e)).c(),q.m(g.parentNode,g)):q&&(q.d(1),q=null),e[0].tour_settings.downloadGuideFiles.word_file?v||((v=Or()).c(),v.m(m.parentNode,m)):v&&(v.d(1),v=null),(d=1&t?e[0].media_files[0].blog&&e[0].tour_settings.downloadGuideFiles.blog_file&&e[2](e[0])&&!GmCXt.isOnboarding(e[0]):d)?w?w.p(e,t):((w=Rr(e)).c(),w.m(p.parentNode,p)):w&&(w.d(1),w=null),e[0].tour_settings.downloadGuideFiles.blog_fil?J||((J=Nr()).c(),J.m(u.parentNode,u)):J&&(J.d(1),J=null),(h=1&t?e[0].media_files[0].text&&e[0].tour_settings.downloadGuideFiles.text_file&&e[2](e[0])&&!GmCXt.isOnboarding(e[0]):h)?G?G.p(e,t):((G=Br(e)).c(),G.m(y.parentNode,y)):G&&(G.d(1),G=null)},d(e){e&&(Le(a),Le(r),Le(i),Le(n),Le(l),Le(o),Le(g),Le(m),Le(p),Le(u),Le(y)),_&&_.d(e),S&&S.d(e),f&&f.d(e),P&&P.d(e),C&&C.d(e),b&&b.d(e),q&&q.d(e),v&&v.d(e),w&&w.d(e),J&&J.d(e),G&&G.d(e)}}}function Tr(a){let r,i,n,s,l,o,c=(!a[0].media_files[0].pdf||"0"==a[0].media_files[0].pdf)&&Xr();return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("input"),s=Ie(),c&&c.c(),$e(i,"type","button"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_detail-download-action-options-dropdown-item download-link mgPlayerJSqa_inline-block-vm mgPlayerJSqa_width-100"),i.value=n=a[1].labels.pdf+" (.pdf)",$e(r,"id","mgPlayerJSqa_tour-download-pdf"),$e(r,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between")},m(e,t){xe(e,r,t),ke(r,i),ke(r,s),c&&c.m(r,null),l||(o=De(i,"click",K(function(){Y(a[3]("tour_pdf_download",a[0].media_files[0].pdf,a[0]))&&a[3]("tour_pdf_download",a[0].media_files[0].pdf,a[0]).apply(this,arguments)})),l=!0)},p(e,t){a=e,2&t&&n!==(n=a[1].labels.pdf+" (.pdf)")&&(i.value=n),a[0].media_files[0].pdf&&"0"!=a[0].media_files[0].pdf?c&&(c.d(1),c=null):c?c.p(a,t):((c=Xr()).c(),c.m(r,null))},d(e){e&&Le(r),c&&c.d(),l=!1,o()}}}function Xr(){let a,r,e;return{c(){a=Ee("wmgPlayerJSqa_"),$e(r=Ee("img"),"class","mgPlayerJSqa_max-width-height-100"),Q(r.src,e=GmCXt.loader())||$e(r,"src",e),$e(r,"alt","Loading..."),$e(a,"class","mgPlayerJSqa_media-progress-loader mgPlayerJSqa_margin-r-20")},m(e,t){xe(e,a,t),ke(a,r)},p:we,d(e){e&&Le(a)}}}function kr(){let a;return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function xr(a){let r,i,n,s,l,o,c=(!a[0].media_files[0].ppt||"0"==a[0].media_files[0].ppt)&&Lr();return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("input"),s=Ie(),c&&c.c(),$e(i,"type","button"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_detail-download-action-options-dropdown-item download-link mgPlayerJSqa_inline-block-vm mgPlayerJSqa_width-100"),i.value=n=a[1].labels.downloadPptx+" (.pptx)",$e(r,"id","mgPlayerJSqa_tour-download-pptx"),$e(r,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between")},m(e,t){xe(e,r,t),ke(r,i),ke(r,s),c&&c.m(r,null),l||(o=De(i,"click",K(function(){Y(a[3]("tour_ppt_download",a[0].media_files[0].ppt,a[0]))&&a[3]("tour_ppt_download",a[0].media_files[0].ppt,a[0]).apply(this,arguments)})),l=!0)},p(e,t){a=e,2&t&&n!==(n=a[1].labels.downloadPptx+" (.pptx)")&&(i.value=n),a[0].media_files[0].ppt&&"0"!=a[0].media_files[0].ppt?c&&(c.d(1),c=null):c?c.p(a,t):((c=Lr()).c(),c.m(r,null))},d(e){e&&Le(r),c&&c.d(),l=!1,o()}}}function Lr(){let a,r,e;return{c(){a=Ee("wmgPlayerJSqa_"),$e(r=Ee("img"),"class","mgPlayerJSqa_max-width-height-100"),Q(r.src,e=GmCXt.loader())||$e(r,"src",e),$e(r,"alt","Loading..."),$e(a,"class","mgPlayerJSqa_media-progress-loader mgPlayerJSqa_margin-r-20")},m(e,t){xe(e,a,t),ke(a,r)},p:we,d(e){e&&Le(a)}}}function Er(){let a;return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function Mr(a){let r,i,n,s,l,o,c=(!a[0].media_files[0].gify||"0"==a[0].media_files[0].gify)&&Ir();return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("input"),s=Ie(),c&&c.c(),$e(i,"type","button"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_detail-download-action-options-dropdown-item download-link mgPlayerJSqa_inline-block-vm mgPlayerJSqa_width-100"),i.value=n=a[1].labels.giphy+" (.gif)",$e(r,"id","mgPlayerJSqa_tour-download-gif"),$e(r,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between")},m(e,t){xe(e,r,t),ke(r,i),ke(r,s),c&&c.m(r,null),l||(o=De(i,"click",K(function(){Y(a[3]("tour_gif_download",a[0].media_files[0].gify,a[0]))&&a[3]("tour_gif_download",a[0].media_files[0].gify,a[0]).apply(this,arguments)})),l=!0)},p(e,t){a=e,2&t&&n!==(n=a[1].labels.giphy+" (.gif)")&&(i.value=n),a[0].media_files[0].gify&&"0"!=a[0].media_files[0].gify?c&&(c.d(1),c=null):c?c.p(a,t):((c=Ir()).c(),c.m(r,null))},d(e){e&&Le(r),c&&c.d(),l=!1,o()}}}function Ir(){let a,r,e;return{c(){a=Ee("wmgPlayerJSqa_"),$e(r=Ee("img"),"class","mgPlayerJSqa_max-width-height-100"),Q(r.src,e=GmCXt.loader())||$e(r,"src",e),$e(r,"alt","Loading..."),$e(a,"class","mgPlayerJSqa_media-progress-loader mgPlayerJSqa_margin-r-20")},m(e,t){xe(e,a,t),ke(a,r)},p:we,d(e){e&&Le(a)}}}function Dr(){let a;return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function $r(a){let r,i,n,s,l,o,c=(!a[0].media_files[0].doc||"0"==a[0].media_files[0].doc)&&Fr();return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("input"),s=Ie(),c&&c.c(),$e(i,"type","button"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_detail-download-action-options-dropdown-item download-link mgPlayerJSqa_inline-block-vm mgPlayerJSqa_width-100"),i.value=n=a[1].labels.downloadWord+" (.docx)",$e(r,"id","mgPlayerJSqa_tour-download-docx"),$e(r,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between")},m(e,t){xe(e,r,t),ke(r,i),ke(r,s),c&&c.m(r,null),l||(o=De(i,"click",K(function(){Y(a[3]("tour_word_download",a[0].media_files[0].doc,a[0]))&&a[3]("tour_word_download",a[0].media_files[0].doc,a[0]).apply(this,arguments)})),l=!0)},p(e,t){a=e,2&t&&n!==(n=a[1].labels.downloadWord+" (.docx)")&&(i.value=n),a[0].media_files[0].doc&&"0"!=a[0].media_files[0].doc?c&&(c.d(1),c=null):c?c.p(a,t):((c=Fr()).c(),c.m(r,null))},d(e){e&&Le(r),c&&c.d(),l=!1,o()}}}function Fr(){let a,r,e;return{c(){a=Ee("wmgPlayerJSqa_"),$e(r=Ee("img"),"class","mgPlayerJSqa_max-width-height-100"),Q(r.src,e=GmCXt.loader())||$e(r,"src",e),$e(r,"alt","Loading..."),$e(a,"class","mgPlayerJSqa_media-progress-loader mgPlayerJSqa_margin-r-20")},m(e,t){xe(e,a,t),ke(a,r)},p:we,d(e){e&&Le(a)}}}function Or(){let a;return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function Rr(a){let r,i,n,s,l,o,c=(!a[0].media_files[0].blog||"0"==a[0].media_files[0].blog)&&Hr();return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("input"),s=Ie(),c&&c.c(),$e(i,"type","button"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_detail-download-action-options-dropdown-item download-link mgPlayerJSqa_inline-block-vm mgPlayerJSqa_width-100"),i.value=n=a[1].labels.downloadBlog+" (.html)",$e(r,"id","mgPlayerJSqa_tour-download-html"),$e(r,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between")},m(e,t){xe(e,r,t),ke(r,i),ke(r,s),c&&c.m(r,null),l||(o=De(i,"click",K(function(){Y(a[3]("tour_blog_download",a[0].media_files[0].blog,a[0]))&&a[3]("tour_blog_download",a[0].media_files[0].blog,a[0]).apply(this,arguments)})),l=!0)},p(e,t){a=e,2&t&&n!==(n=a[1].labels.downloadBlog+" (.html)")&&(i.value=n),a[0].media_files[0].blog&&"0"!=a[0].media_files[0].blog?c&&(c.d(1),c=null):c?c.p(a,t):((c=Hr()).c(),c.m(r,null))},d(e){e&&Le(r),c&&c.d(),l=!1,o()}}}function Hr(){let a,r,e;return{c(){a=Ee("wmgPlayerJSqa_"),$e(r=Ee("img"),"class","mgPlayerJSqa_max-width-height-100"),Q(r.src,e=GmCXt.loader())||$e(r,"src",e),$e(r,"alt","Loading..."),$e(a,"class","mgPlayerJSqa_media-progress-loader mgPlayerJSqa_margin-r-20")},m(e,t){xe(e,a,t),ke(a,r)},p:we,d(e){e&&Le(a)}}}function Nr(){let a;return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function Br(a){let r,i,n,s,l,o,c=(!a[0].media_files[0].text||"0"==a[0].media_files[0].text)&&Vr();return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("input"),s=Ie(),c&&c.c(),$e(i,"type","button"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_detail-download-action-options-dropdown-item download-link mgPlayerJSqa_inline-block-vm mgPlayerJSqa_width-100"),i.value=n=a[1].labels.downloadTxt+" (.txt)",$e(r,"id","mgPlayerJSqa_tour-download-txt"),$e(r,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between")},m(e,t){xe(e,r,t),ke(r,i),ke(r,s),c&&c.m(r,null),l||(o=De(i,"click",K(function(){Y(a[3]("",a[0].media_files[0].text,a[0]))&&a[3]("",a[0].media_files[0].text,a[0]).apply(this,arguments)})),l=!0)},p(e,t){a=e,2&t&&n!==(n=a[1].labels.downloadTxt+" (.txt)")&&(i.value=n),a[0].media_files[0].text&&"0"!=a[0].media_files[0].text?c&&(c.d(1),c=null):c?c.p(a,t):((c=Vr()).c(),c.m(r,null))},d(e){e&&Le(r),c&&c.d(),l=!1,o()}}}function Vr(){let a,r,e;return{c(){a=Ee("wmgPlayerJSqa_"),$e(r=Ee("img"),"class","mgPlayerJSqa_max-width-height-100"),Q(r.src,e=GmCXt.loader())||$e(r,"src",e),$e(r,"alt","Loading..."),$e(a,"class","mgPlayerJSqa_media-progress-loader mgPlayerJSqa_margin-r-20")},m(e,t){xe(e,a,t),ke(a,r)},p:we,d(e){e&&Le(a)}}}function zr(e){let a,r=e[6](e[0]),i=r&&wr(e);return{c(){a=Ee("wmgPlayerJSqa_"),i&&i.c()},m(e,t){xe(e,a,t),i&&i.m(a,null)},p(e,[t]){(r=1&t?e[6](e[0]):r)?i?i.p(e,t):((i=wr(e)).c(),i.m(a,null)):i&&(i.d(1),i=null)},i:we,o:we,d(e){e&&Le(a),i&&i.d()}}}function Ur(e,t,a){let r=t["tour"];const s=function(e){switch(e){case"tour_video_download":GmCXt.trackerV1.trackGuideDownload(r,"video");break;case"tour_pdf_download":GmCXt.trackerV1.trackGuideDownload(r,"pdf");break;case"tour_ppt_download":GmCXt.trackerV1.trackGuideDownload(r,"ppt");break;case"tour_gif_download":GmCXt.trackerV1.trackGuideDownload(r,"gif");break;case"tour_word_download":GmCXt.trackerV1.trackGuideDownload(r,"docx");break;case"tour_blog_download":GmCXt.trackerV1.trackGuideDownload(r,"html");break;default:GmCXt.trackerV1.trackGuideDownload(r,"txt")}};function i(){mg$(".mgPlayerJSqa_detail-download-action-options-dropdown").slideUp(200),mg$(".mgPlayerJSqa_tour-item").removeClass("mgPlayerJSqa_z-index mgPlayerJSqa_z-index-10"),mg$(".mgPlayerJSqa_header-detail-view-tour-download-wrapper").removeClass("mgPlayerJSqa_dropdown-active")}function n(e){mg$(e.target).closest(".mgPlayerJSqa_detail-download-action-options-dropdown").length||(mg$(".mgPlayerJSqa_detail-download-action-options-dropdown").slideUp(200),a(1,ge.isMediaFileDropdown=!1,ge),document.removeEventListener("click",n))}return de(()=>{document.addEventListener("click",n)}),pe(()=>{document.removeEventListener("click",n)}),e.$$set=e=>{"tour"in e&&a(0,r=e.tour)},[r,ge,function(e){if(!e)return!1;let t=!0;return t=GmCXt.branchStepExist(e)?!1:t},function(i,n,e){function t(a){a&&(n=a);{var r=i;a=n;let t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t);let e;document&&document.createEvent&&window?(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null):e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}),t.addEventListener("click",function(e){e.stopPropagation(),document.body.removeChild(t),s(r)},!1),t.dispatchEvent(e)}}var a=GmCXt.getUrlWithLang(n);n+=GmCXt.getCdnSign(),e&&!e.tour_settings.translationEnable?GmCXt.checkAssetUrl(n,n,t):GmCXt.checkAssetUrl(a,n,t)},function(e){a(1,ge.isMediaFileDropdown=!1,ge),mg$(".mgPlayerJSqa_detail-view-action-options-dropdownn").slideUp(200),mg$(".mgPlayerJSqa_step-action-menu-options-dropdown").slideUp(200),ge.hideTourActionDropdown(),i(),a(1,ge.isMediaFileDropdown=mg$(e.target).children(".mgPlayerJSqa_detail-download-action-options-dropdown").is(":visible"),ge),ge.isMediaFileDropdown?(mg$(e.target).children(".mgPlayerJSqa_detail-download-action-options-dropdown").slideUp(200),a(1,ge.isMediaFileDropdown=!1,ge)):(mg$(e.target).children(".mgPlayerJSqa_detail-download-action-options-dropdown").slideDown(200),a(1,ge.isMediaFileDropdown=!0,ge),mg$(e.target).addClass("mgPlayerJSqa_dropdown-active"),mg$(e.target).parents(".mgPlayerJSqa_tour-item").addClass("mgPlayerJSqa_z-index mgPlayerJSqa_z-index-10")),document.addEventListener("click",n)},i,function(e){return(GmCXt.isGuide(e)||ge.isTooltip(e)&&ge.createTooltipMediaFile||ge.isCADGuide(e)||GmCXt.isOnboarding(e)&&"tutorial"===e.tour_settings.tutorial_tour_type)&&(e=e,!(GmCXt.FT.isPlayer&&"humana"===ge.appConfig.customer||GmCXt.isFalseObj(e.tour_settings.downloadGuideFiles)))&&ge.mediafileCreation&&!(GmCXt.accessibility&&GmCXt.FT.isPlayer)}]}class jr extends e{constructor(e){super(),t(this,e,Ur,zr,g,{tour:0})}}function Wr(e){let a,r,i,n,t=ge.labels.draftGuide+"",s,l,o;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ie(),n=Ee("wmgPlayerJSqa_"),s=Me(t),$e(r,"class","mgPlayerJSqa_tour-draft-highlight"),$e(n,"class",l="mgPlayerJSqa_tour-draft "+(e[0].pin?"mgPlayerJSqa_tour-draft-pin":"")),$e(a,"id",o="mgPlayerJSqa_tour-draft-"+e[0].tour_id),$e(a,"class","mgPlayerJSqa_tour-draft-wrapper")},m(e,t){xe(e,a,t),ke(a,r),ke(a,i),ke(a,n),ke(n,s)},p(e,t){1&t[0]&&l!==(l="mgPlayerJSqa_tour-draft "+(e[0].pin?"mgPlayerJSqa_tour-draft-pin":""))&&$e(n,"class",l),1&t[0]&&o!==(o="mgPlayerJSqa_tour-draft-"+e[0].tour_id)&&$e(a,"id",o)},d(e){e&&Le(a)}}}function Zr(a){let r,i,n,s,l,o,c,g,m,d,p=!a[6]&&!a[7]&&Yr(a),u=(a[12]||a[13]||a[5]||a[6]||a[14]||a[24])&&ai(a),h=a[11]&&ci(a),y=-1!==a[17]&&di();return{c(){r=Ee("wmgPlayerJSqa_"),p&&p.c(),i=Ie(),n=Ee("wmgPlayerJSqa_"),u&&u.c(),s=Ie(),h&&h.c(),l=Ie(),y&&y.c(),$e(n,"id",o="mgPlayerJSqa_icon-tour-play-"+a[0].tour_id),$e(n,"class",c="mgPlayerJSqa_ege-inline-block-vm tour-play-icon mgPlayerJSqa_playTourBtn active "+(a[0]?.is_published?"published-tour-icon":"")+" "+("currentpage"!=ce(me.CurrentPage)&&"allguidesSearchPage"!=ce(me.CurrentPage)&&"findNReplace"!==ce(me.activeView)&&!a[25]?.is_published&&a[0]?.is_published?"mgPlayerJSqa_published-category-tour-icon":"")),$e(r,"class",g="mgPlayerJSqa_tour-play-action-wrapper mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_position-relative "+(a[0]?.is_published?"activePublishedTourPlay":""))},m(e,t){xe(e,r,t),p&&p.m(r,null),ke(r,i),ke(r,n),u&&u.m(n,null),ke(n,s),h&&h.m(n,null),ke(n,l),y&&y.m(n,null),m||(d=De(n,"click",a[35]),m=!0)},p(e,t){e[6]||e[7]?p&&(p.d(1),p=null):p?p.p(e,t):((p=Yr(e)).c(),p.m(r,i)),e[12]||e[13]||e[5]||e[6]||e[14]||e[24]?u?u.p(e,t):((u=ai(e)).c(),u.m(n,s)):u&&(u.d(1),u=null),e[11]?h?h.p(e,t):((h=ci(e)).c(),h.m(n,l)):h&&(h.d(1),h=null),-1!==e[17]?y||((y=di()).c(),y.m(n,null)):y&&(y.d(1),y=null),1&t[0]&&o!==(o="mgPlayerJSqa_icon-tour-play-"+e[0].tour_id)&&$e(n,"id",o),1&t[0]&&c!==(c="mgPlayerJSqa_ege-inline-block-vm tour-play-icon mgPlayerJSqa_playTourBtn active "+(e[0]?.is_published?"published-tour-icon":"")+" "+("currentpage"!=ce(me.CurrentPage)&&"allguidesSearchPage"!=ce(me.CurrentPage)&&"findNReplace"!==ce(me.activeView)&&!e[25]?.is_published&&e[0]?.is_published?"mgPlayerJSqa_published-category-tour-icon":""))&&$e(n,"class",c),1&t[0]&&g!==(g="mgPlayerJSqa_tour-play-action-wrapper mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_position-relative "+(e[0]?.is_published?"activePublishedTourPlay":""))&&$e(r,"class",g)},d(e){e&&Le(r),p&&p.d(),u&&u.d(),h&&h.d(),y&&y.d(),m=!1,d()}}}function Yr(a){let r,i,n,s;function l(e){return e[8]!==ge.playGuideMe&&("Default"!==e[0].tour_settings.defaultPlayAction||e[3]!==ge.playGuideMe)||e[10]||e[11]||e[24]?e[8]===ge.playSlideshow||"Default"===e[0].tour_settings.defaultPlayAction&&e[3]===ge.playSlideshow||e[10]||e[11]||e[24]?ei:e[8]!==ge.playAuto&&("Default"!==e[0].tour_settings.defaultPlayAction||e[3]!==ge.playAuto)||e[10]||e[11]||e[24]?Kr:Qr:ti}let o=l(a),c=o(a);return{c(){r=Ee("wmgPlayerJSqa_"),c.c(),$e(r,"id",i="mgPlayerJSqa_title-tooltip-wrapper-"+a[0].tour_id),$e(r,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-right")},m(e,t){xe(e,r,t),c.m(r,null),n||(s=De(r,"click",a[34]),n=!0)},p(e,t){o!==(o=l(e))&&(c.d(1),c=o(e))&&(c.c(),c.m(r,null)),1&t[0]&&i!==(i="mgPlayerJSqa_title-tooltip-wrapper-"+e[0].tour_id)&&$e(r,"id",i)},d(e){e&&Le(r),c.d(),n=!1,s()}}}function Kr(e){let a;return{c(){(a=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.guideMe,$e(a,"class","mgPlayerJSqa_tooltip-title mgPlayerJSqa_text-align-center")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function Qr(e){let a;return{c(){(a=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.doItForMe,$e(a,"class","mgPlayerJSqa_tooltip-title mgPlayerJSqa_text-align-center")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function ei(e){let a;return{c(){(a=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.showMe,$e(a,"class","mgPlayerJSqa_tooltip-title mgPlayerJSqa_text-align-center")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function ti(e){let a;return{c(){(a=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.guideMe,$e(a,"class","mgPlayerJSqa_tooltip-title mgPlayerJSqa_text-align-center")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function ai(e){let a,r=!e[6]&&!e[5]&&0<=e[0].image_url.indexOf("default_icon")&&!e[14],i,n=e[15]&&0<=e[0].image_url.indexOf("default_icon"),s,l=e[6]&&0<=e[0].image_url.indexOf("default_icon"),o,c=e[14]&&0<=e[0].image_url.indexOf("default_icon"),g,m,d=!GmCXt.isEmpty(e[0].image_url)&&-1===e[0].image_url.indexOf("default_icon"),p=r&&ri(e),u=n&&ii(e),h=l&&ni(),y=c&&si(),_=e[5]&&li(),S=d&&oi(e);return{c(){a=Ee("button"),p&&p.c(),i=Ie(),u&&u.c(),s=Ie(),h&&h.c(),o=Ie(),y&&y.c(),g=Ie(),_&&_.c(),m=Ie(),S&&S.c(),$e(a,"class","mgPlayerJSqa_guide-icon-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm mgPlayerJSqa_lbl-btn")},m(e,t){xe(e,a,t),p&&p.m(a,null),ke(a,i),u&&u.m(a,null),ke(a,s),h&&h.m(a,null),ke(a,o),y&&y.m(a,null),ke(a,g),_&&_.m(a,null),ke(a,m),S&&S.m(a,null)},p(e,t){(r=16481&t[0]?!e[6]&&!e[5]&&0<=e[0].image_url.indexOf("default_icon")&&!e[14]:r)?p?p.p(e,t):((p=ri(e)).c(),p.m(a,i)):p&&(p.d(1),p=null),(n=32769&t[0]?e[15]&&0<=e[0].image_url.indexOf("default_icon"):n)?u?u.p(e,t):((u=ii(e)).c(),u.m(a,s)):u&&(u.d(1),u=null),(l=65&t[0]?e[6]&&0<=e[0].image_url.indexOf("default_icon"):l)?h||((h=ni()).c(),h.m(a,o)):h&&(h.d(1),h=null),(c=16385&t[0]?e[14]&&0<=e[0].image_url.indexOf("default_icon"):c)?y||((y=si()).c(),y.m(a,g)):y&&(y.d(1),y=null),e[5]?_||((_=li()).c(),_.m(a,m)):_&&(_.d(1),_=null),(d=1&t[0]?!GmCXt.isEmpty(e[0].image_url)&&-1===e[0].image_url.indexOf("default_icon"):d)?S?S.p(e,t):((S=oi(e)).c(),S.m(a,null)):S&&(S.d(1),S=null)},d(e){e&&Le(a),p&&p.d(),u&&u.d(),h&&h.d(),y&&y.d(),_&&_.d(),S&&S.d()}}}function ri(e){let a,r,i=e[32]()+"";return{c(){a=Ee("wmgPlayerJSqa_"),$e(r=b("svg"),"width","40"),$e(r,"height","40"),$e(r,"viewBox","0 0 40 40"),$e(r,"fill","none"),$e(a,"class","mgPlayerJSqa_inline-block-vm")},m(e,t){xe(e,a,t),ke(a,r),r.innerHTML=i},p:we,d(e){e&&Le(a)}}}function ii(a){let r;return{c(){$e(r=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_inline-block-vm")},m(e,t){xe(e,r,t),r.innerHTML=a[15]},p(e,t){32768&t[0]&&(r.innerHTML=e[15])},d(e){e&&Le(r)}}}function ni(){let a,r=ge.svgs.mobileGuide+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_inline-block-vm")},m(e,t){xe(e,a,t),a.innerHTML=r},d(e){e&&Le(a)}}}function si(){let a,r=ge.svgs.insight+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_inline-block-vm")},m(e,t){xe(e,a,t),a.innerHTML=r},d(e){e&&Le(a)}}}function li(){let a,r=ge.svgs.guide_bot_icon+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_inline-block-vm")},m(e,t){xe(e,a,t),a.innerHTML=r},d(e){e&&Le(a)}}}function oi(e){let a,r,i,n;return{c(){a=Ee("wmgPlayerJSqa_"),$e(r=Ee("img"),"class","mgPlayerJSqa_guide-upld-img mgPlayerJSqa_custom-image mgPlayerJSqa_width-height-100 mgPlayerJSqa_position-center mgPlayerJSqa_border-radius-50"),Q(r.src,i=e[0].image_url+e[23])||$e(r,"src",i),$e(r,"alt",e[16]),$e(a,"class",n="mgPlayerJSqa_guide-upld-img-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_border-radius-50 "+(e[0]?.is_published?"mgPlayerJSqa_guide-pub-img-border":""))},m(e,t){xe(e,a,t),ke(a,r)},p(e,t){8388609&t[0]&&!Q(r.src,i=e[0].image_url+e[23])&&$e(r,"src",i),65536&t[0]&&$e(r,"alt",e[16]),1&t[0]&&n!==(n="mgPlayerJSqa_guide-upld-img-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_border-radius-50 "+(e[0]?.is_published?"mgPlayerJSqa_guide-pub-img-border":""))&&$e(a,"class",n)},d(e){e&&Le(a)}}}function ci(e){let a,r=0<=e[0].image_url.indexOf("default_icon"),i,n=!GmCXt.isEmpty(e[0].image_url)&&-1==e[0].image_url.indexOf("default_icon"),s=r&&gi(),l=n&&mi(e);return{c(){a=Ee("wmgPlayerJSqa_"),s&&s.c(),i=Ie(),l&&l.c(),$e(a,"class","mgPlayerJSqa_guide-icon-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm")},m(e,t){xe(e,a,t),s&&s.m(a,null),ke(a,i),l&&l.m(a,null)},p(e,t){(r=1&t[0]?0<=e[0].image_url.indexOf("default_icon"):r)?s||((s=gi()).c(),s.m(a,i)):s&&(s.d(1),s=null),(n=1&t[0]?!GmCXt.isEmpty(e[0].image_url)&&-1==e[0].image_url.indexOf("default_icon"):n)?l?l.p(e,t):((l=mi(e)).c(),l.m(a,null)):l&&(l.d(1),l=null)},d(e){e&&Le(a),s&&s.d(),l&&l.d()}}}function gi(){let a,r=ge.svgs.guide_onboarding+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_inline-block-vm")},m(e,t){xe(e,a,t),a.innerHTML=r},d(e){e&&Le(a)}}}function mi(e){let a,r,i,n;return{c(){a=Ee("wmgPlayerJSqa_"),$e(r=Ee("img"),"class","mgPlayerJSqa_guide-upld-img mgPlayerJSqa_custom-image mgPlayerJSqa_width-height-100 mgPlayerJSqa_position-center mgPlayerJSqa_border-radius-50"),Q(r.src,i=e[0].image_url+e[23])||$e(r,"src",i),$e(r,"alt",e[16]),$e(a,"class",n="mgPlayerJSqa_guide-upld-img-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_border-radius-50 "+(e[0]?.is_published?"mgPlayerJSqa_guide-pub-img-border":""))},m(e,t){xe(e,a,t),ke(a,r)},p(e,t){8388609&t[0]&&!Q(r.src,i=e[0].image_url+e[23])&&$e(r,"src",i),65536&t[0]&&$e(r,"alt",e[16]),1&t[0]&&n!==(n="mgPlayerJSqa_guide-upld-img-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_border-radius-50 "+(e[0]?.is_published?"mgPlayerJSqa_guide-pub-img-border":""))&&$e(a,"class",n)},d(e){e&&Le(a)}}}function di(){let a,r=ge.svgs.guide_beacon+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_guide-beacon")},m(e,t){xe(e,a,t),a.innerHTML=r},d(e){e&&Le(a)}}}function pi(e){let a,r,i=ge.svgs.tooltipIcon+"",n;return{c(){a=Ee("wmgPlayerJSqa_"),$e(r=Ee("wmgPlayerJSqa_"),"class",n="mgPlayerJSqa_inline-block-vt tour-play-icon active "+(e[0]?.is_published?"published-tour":"")+" "+("currentpage"!=ce(me.CurrentPage)&&"allguidesSearchPage"!=ce(me.CurrentPage)&&"findNReplace"!==ce(me.activeView)&&!e[25]?.is_published&&e[0]?.is_published?"mgPlayerJSqa_published-category-tour-icon":"")),$e(a,"class","mgPlayerJSqa_guide-icon-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm")},m(e,t){xe(e,a,t),ke(a,r),r.innerHTML=i},p(e,t){1&t[0]&&n!==(n="mgPlayerJSqa_inline-block-vt tour-play-icon active "+(e[0]?.is_published?"published-tour":"")+" "+("currentpage"!=ce(me.CurrentPage)&&"allguidesSearchPage"!=ce(me.CurrentPage)&&"findNReplace"!==ce(me.activeView)&&!e[25]?.is_published&&e[0]?.is_published?"mgPlayerJSqa_published-category-tour-icon":""))&&$e(r,"class",n)},d(e){e&&Le(a)}}}function ui(e){let a,r,i=e[0].tour_title+"",n,s,l,o=e[0].tour_description+"",c;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),l=Ee("wmgPlayerJSqa_"),c=Me(o),$e(r,"class","mgPlayerJSqa_tooltip-title"),$e(l,"class","mgPlayerJSqa_tooltip-title"),$e(a,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-right mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y")},m(e,t){xe(e,a,t),ke(a,r),ke(r,n),ke(a,s),ke(a,l),ke(l,c)},p(e,t){1&t[0]&&i!==(i=e[0].tour_title+"")&&Fe(n,i),1&t[0]&&o!==(o=e[0].tour_description+"")&&Fe(c,o)},d(e){e&&Le(a)}}}function hi(e){let a,r=e[27]()||e[28](),i,n,s,l,o=r&&function(a){let r,i,n=(a[27]()?ge.svgs.replay_guide:ge.svgs.resume_guide)+"",s,l,o,c=(a[27]()?ge.labels.replay:ge.labels.yesResume)+"",g,m;return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_action-icon mgPlayerJSqa_position-center "+(a[27]()?"mgPlayerJSqa_action-icon-replay":"mgPlayerJSqa_action-icon-resume")),$e(o,"class","mgPlayerJSqa_tooltip-title"),$e(l,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left mgPlayerJSqa_margin-tb-15"),$e(r,"id","mgPlayerJSqa_guide-replay-resume-wrapper"),$e(r,"class","mgPlayerJSqa_guide-action-icon-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_border-radius-50 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer mgPlayerJSqa_lbl-btn")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,o),o.innerHTML=c,g||(m=De(r,"click",function(){Y(a[27]()?ge.play(a[0],!1):ge.play(a[0],!0))&&(a[27]()?ge.play(a[0],!1):ge.play(a[0],!0)).apply(this,arguments)}),g=!0)},p(e,t){a=e},d(e){e&&Le(r),g=!1,m()}}}(e),c=e[18]&&yi(e),g=e[19]&&_i(e),m=e[20]&&Si(e),d=e[21]&&fi(e);return{c(){a=Ee("wmgPlayerJSqa_"),o&&o.c(),i=Ie(),c&&c.c(),n=Ie(),g&&g.c(),s=Ie(),m&&m.c(),l=Ie(),d&&d.c(),$e(a,"class","mgPlayerJSqa_guide-play-action-wrapper mgPlayerJSqa_inline-block-vm mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-flex-end mgPlayerJSqa_float-right mgPlayerJSqa_border-radius mgPlayerJSqa_border-radius-4px mgPlayerJSqa_border-rounded "+(ge.isMicroPlayer?"mgPlayerJSqa_no-margin mgPlayerJSqa_border-rounded-left":""))},m(e,t){xe(e,a,t),o&&o.m(a,null),ke(a,i),c&&c.m(a,null),ke(a,n),g&&g.m(a,null),ke(a,s),m&&m.m(a,null),ke(a,l),d&&d.m(a,null)},p(e,t){r&&o.p(e,t),e[18]?c?c.p(e,t):((c=yi(e)).c(),c.m(a,n)):c&&(c.d(1),c=null),e[19]?g?g.p(e,t):((g=_i(e)).c(),g.m(a,s)):g&&(g.d(1),g=null),e[20]?m?m.p(e,t):((m=Si(e)).c(),m.m(a,l)):m&&(m.d(1),m=null),e[21]?d?d.p(e,t):((d=fi(e)).c(),d.m(a,null)):d&&(d.d(1),d=null)},d(e){e&&Le(a),o&&o.d(),c&&c.d(),g&&g.d(),m&&m.d(),d&&d.d()}}}function yi(a){let r,i,n=ge.svgs.guidePlayIcon+"",s,l,o,c,g;return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),(o=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.guideMe,$e(i,"class","mgPlayerJSqa_action-icon mgPlayerJSqa_position-center"),$e(o,"class","mgPlayerJSqa_tooltip-title"),$e(l,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left mgPlayerJSqa_margin-tb-15"),$e(r,"id","mgPlayerJSqa_icon-guide-action-guideme"),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_guide-action-icon-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_border-radius-50 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,o),c||(g=De(r,"click",function(){Y(ge.guideAction(ge.playGuideMe,null,a[0],ge.currentView))&&ge.guideAction(ge.playGuideMe,null,a[0],ge.currentView).apply(this,arguments)}),c=!0)},p(e,t){a=e},d(e){e&&Le(r),c=!1,g()}}}function _i(a){let r,i,n=ge.svgs.play_showme+"",s,l,o,c,g;return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),(o=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.showMe,$e(i,"class","mgPlayerJSqa_action-icon mgPlayerJSqa_position-center"),$e(o,"class","mgPlayerJSqa_tooltip-title"),$e(l,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left mgPlayerJSqa_margin-tb-15"),$e(r,"id","mgPlayerJSqa_icon-guide-action-showme"),$e(r,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_guide-action-icon-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_border-radius-50 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer mgPlayerJSqa_lbl-btn")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,o),c||(g=De(r,"click",function(){Y(ge.guideAction(ge.playSlideshow,null,a[0],ge.currentView))&&ge.guideAction(ge.playSlideshow,null,a[0],ge.currentView).apply(this,arguments)}),c=!0)},p(e,t){a=e},d(e){e&&Le(r),c=!1,g()}}}function Si(a){let r,i,n=ge.svgs.play_testme+"",s,l,o,c,g;return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),(o=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.testMe,$e(i,"class","mgPlayerJSqa_action-icon mgPlayerJSqa_position-center"),$e(o,"class","mgPlayerJSqa_tooltip-title"),$e(l,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left mgPlayerJSqa_margin-tb-15"),$e(r,"id","mgPlayerJSqa_icon-guide-action-testMe"),$e(r,"class","mgPlayerJSqa_guide-action-icon-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_border-radius-50 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer mgPlayerJSqa_lbl-btn")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,o),c||(g=De(r,"click",function(){Y(a[30](a[0]))&&a[30](a[0]).apply(this,arguments)}),c=!0)},p(e,t){a=e},d(e){e&&Le(r),c=!1,g()}}}function fi(a){let r,i,n=ge.svgs.doItForMeIcon+"",s,l,o,c,g;return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),(o=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.doItForMe,$e(i,"class","mgPlayerJSqa_action-icon mgPlayerJSqa_position-center"),$e(o,"class","mgPlayerJSqa_tooltip-title"),$e(l,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left mgPlayerJSqa_margin-tb-15"),$e(r,"id","mgPlayerJSqa_icon-guide-action-doitforme"),$e(r,"class","mgPlayerJSqa_guide-action-icon-wrapper mgPlayerJSqa_float-left mgPlayerJSqa_position-relative mgPlayerJSqa_border-radius-50 mgPlayerJSqa_cursor mgPlayerJSqa_cursor-pointer mgPlayerJSqa_lbl-btn")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,o),c||(g=De(r,"click",function(){Y(ge.guideAction(ge.playAuto,null,a[0],ge.currentView))&&ge.guideAction(ge.playAuto,null,a[0],ge.currentView).apply(this,arguments)}),c=!0)},p(e,t){a=e},d(e){e&&Le(r),c=!1,g()}}}function Pi(e){let a,r,i;return r=new jr({props:{tour:e[0]}}),{c(){a=Ee("wmgPlayerJSqa_"),Ve(r.$$.fragment),$e(a,"class","mgPlayerJSqa_guide-row-download-wrapper mgPlayerJSqa_float-right mgPlayerJSqa_border-radius mgPlayerJSqa_border-radius-4px mgPlayerJSqa_border-rounded mgPlayerJSqa_border-rounded-right")},m(e,t){xe(e,a,t),ze(r,a,null),i=!0},p(e,t){var a={};1&t[0]&&(a.tour=e[0]),r.$set(a)},i(e){i||(Ne(r.$$.fragment,e),i=!0)},o(e){Be(r.$$.fragment,e),i=!1},d(e){e&&Le(a),Ue(r)}}}function Ci(a){let r,i,n=ge.svgs.pin+"",s,l,o,c,g;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),(o=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnPin,$e(o,"class","mgPlayerJSqa_info-hover-text"),$e(l,"class","mgPlayerJSqa_info-hover"),$e(r,"class","mgPlayerJSqa_pin-guide-icon-wrapper mgPlayerJSqa_icon-unpin-guide mgPlayerJSqa_border-radius-50")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,o),c||(g=De(r,"click",a[36]),c=!0)},p:we,d(e){e&&Le(r),c=!1,g()}}}function bi(a){let r,i,n=ge.svgs.pin_filled+"",s,l,o,c,g;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),(o=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnUnpin,$e(o,"class","mgPlayerJSqa_info-hover-text"),$e(l,"class","mgPlayerJSqa_info-hover"),$e(r,"class","mgPlayerJSqa_pin-guide-icon-wrapper mgPlayerJSqa_icon-pin-guide mgPlayerJSqa_border-radius-50")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),ke(l,o),c||(g=De(r,"click",a[37]),c=!0)},p:we,d(e){e&&Le(r),c=!1,g()}}}function qi(e){let r,i,n,s,l;return n=new Na({props:{tour:e[0]}}),{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),Ve(n.$$.fragment),$e(i,"class","mgPlayerJSqa_add-step-wrapper mgPlayerJSqa_tour-action-dropdown-wrapper"),Oe(i,"published-tour",e[0]?.is_published),$e(r,"id",s=`mgPlayerJSqa_tour-pencil-icon-${e[0].tour_id} `+(e[0]?.is_published?"":"mgPlayerJSqa_tour-pencil-icon-unpublish")),$e(r,"class","mgPlayerJSqa_inline-block-vm tour-pencil-icon")},m(e,t){xe(e,r,t),ke(r,i),ze(n,i,null),l=!0},p(e,t){var a={};1&t[0]&&(a.tour=e[0]),n.$set(a),(!l||1&t[0])&&Oe(i,"published-tour",e[0]?.is_published),(!l||1&t[0]&&s!==(s=`mgPlayerJSqa_tour-pencil-icon-${e[0].tour_id} `+(e[0]?.is_published?"":"mgPlayerJSqa_tour-pencil-icon-unpublish")))&&$e(r,"id",s)},i(e){l||(Ne(n.$$.fragment,e),l=!0)},o(e){Be(n.$$.fragment,e),l=!1},d(e){e&&Le(r),Ue(n)}}}function vi(a){let r,i,n=a[9]&&!ge.hideMirrorAppCtrl(),s,l,o,c,g,m,d=a[33](a[0].tour_title,a[1],a[2])+"",$,p,u,h=a[0].tour_description+"",y,_,F,S,O,R="allguidesSearchPage"===ce(GmCXt.CurrentPage),f,H,P,N,B,V,C,b,q=0<a[22].length&&ge.isOwnerOrAppAdmin()&&GmCXt.FT.creatorApp&&!ge.automationSelectionMode&&!ge.hideMirrorAppCtrl()&&!ge.isDesktopApp(),v,z=0<a[22].length&&ge.isOwnerOrAppAdmin()&&GmCXt.FT.creatorApp&&!ge.automationSelectionMode&&!ge.hideMirrorAppCtrl()&&a[0].pin,w,U=!GmCXt.FT.isPlayer&&!ge.isDesktopApp()&&"findNReplace"!==ce(me.activeView),j,J,G,W,Z,A=n&&Wr(a),T=!a[4]&&Zr(a),X=a[4]&&pi(a),k=(0<a[0].tour_title.length||0<a[0].tour_description.length)&&ui(a),x=R&&function(e){let a,r,i,n,s=e[0].category_title+"",l;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("button"),i=Ie(),n=Ee("wmgPlayerJSqa_"),l=Me(s),$e(r,"class","mgPlayerJSqa_guide-category-title-icon mgPlayerJSqa_inline-block-vm mgPlayerJSqa_lbl-btn"),$e(n,"class","mgPlayerJSqa_guide-category-title mgPlayerJSqa_inline-block-vm"),$e(a,"class","mgPlayerJSqa_guide-description-wrapper")},m(e,t){xe(e,a,t),ke(a,r),ke(a,i),ke(a,n),ke(n,l)},p(e,t){1&t[0]&&s!==(s=e[0].category_title+"")&&Fe(l,s)},d(e){e&&Le(a)}}}(a),L=GmCXt.FT.isPlayer&&hi(a),E=a[0].media_files[0]&&ge.isMicroPlayer&&Pi(a),M=q&&Ci(a),I=z&&bi(a),D=U&&function(e){let r,i="stepview"!==ce(me.CurrentPage)&&GmCXt.FT.creatorApp&&!ge.automationSelectionMode&&(ge.hasTourAccess(e[0])||!e[0]?.is_published||ge.isOwnerOrAppAdmin())&&!ge.isUserRole()&&!ge.exportEnabled&&!ge.hideMirrorAppCtrl(),n,s,a,l=i&&qi(e);return s=new Na({props:{tour:e[0]}}),{c(){r=Ee("wmgPlayerJSqa_"),l&&l.c(),n=Ie(),Ve(s.$$.fragment),$e(r,"class","mgPlayerJSqa_guide-user-action-wrapper")},m(e,t){xe(e,r,t),l&&l.m(r,null),ke(r,n),ze(s,r,null),a=!0},p(e,t){(i=1&t[0]?"stepview"!==ce(me.CurrentPage)&&GmCXt.FT.creatorApp&&!ge.automationSelectionMode&&(ge.hasTourAccess(e[0])||!e[0]?.is_published||ge.isOwnerOrAppAdmin())&&!ge.isUserRole()&&!ge.exportEnabled&&!ge.hideMirrorAppCtrl():i)?l?(l.p(e,t),1&t[0]&&Ne(l,1)):((l=qi(e)).c(),Ne(l,1),l.m(r,n)):l&&(Re(),Be(l,1,1,()=>{l=null}),He());var a={};1&t[0]&&(a.tour=e[0]),s.$set(a)},i(e){a||(Ne(l),Ne(s.$$.fragment,e),a=!0)},o(e){Be(l),Be(s.$$.fragment,e),a=!1},d(e){e&&Le(r),l&&l.d(),Ue(s)}}}(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),A&&A.c(),s=Ie(),T&&T.c(),l=Ie(),X&&X.c(),o=Ie(),c=Ee("wmgPlayerJSqa_"),g=Ee("wmgPlayerJSqa_"),m=Ee("button"),$=Ie(),p=Ee("wmgPlayerJSqa_"),u=Ee("wmgPlayerJSqa_"),y=Me(h),F=Ie(),k&&k.c(),O=Ie(),x&&x.c(),H=Ie(),P=Ee("wmgPlayerJSqa_"),N=Ee("wmgPlayerJSqa_"),B=Ie(),L&&L.c(),V=Ie(),E&&E.c(),b=Ie(),M&&M.c(),v=Ie(),I&&I.c(),w=Ie(),D&&D.c(),j=Ie(),J=Ee("wmgPlayerJSqa_"),$e(m,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_guide-title mgPlayerJSqa_wrap-text mgPlayerJSqa_text-overflow-ellipsis"),$e(u,"class","mgPlayerJSqa_tour-desc mgPlayerJSqa_wrap-text"),$e(p,"id",_="mgPlayerJSqa_tour-desc-"+a[0].tour_id),$e(p,"class","mgPlayerJSqa_guide-desc-wrapper mgPlayerJSqa_text-overflow-ellipsis"),$e(p,"tabindex","0"),$e(g,"id",S="mgPlayerJSqa_tour-title-"+a[0].tour_id),$e(g,"class","mgPlayerJSqa_guide-title-wrapper mgPlayerJSqa_ege-inline-block-vm"),$e(c,"class",f="mgPlayerJSqa_guide-details-wrapper mgPlayerJSqa_ege-inline-block-vm "+(ge.exportEnabled?"mgPlayerJSqa_disable-tour-play-action":"")+" "+(ge.automationSelectionMode?"mgPlayerJSqa_width-80":"")+" "+(GmCXt.FT.creatorApp&&!a[9]?"mgPlayerJSqa_guide-details-creator":"")+" "+(GmCXt.FT.creatorApp&&a[9]?"mgPlayerJSqa_guide-details-draft-guide":"")+" "+(GmCXt.FT.creatorApp&&a[9]&&a[0].pin?"mgPlayerJSqa_guide-details-draft-pin":"")),$e(P,"id",C="mgPlayerJSqa_guide-row-action-wrapper_"+a[0].tour_id),$e(P,"class","mgPlayerJSqa_guide-row-action-wrapper"),$e(r,"class","mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_tour-title-description-wrapper"),$e(J,"class","mgPlayerJSqa_ege-clear")},m(e,t){xe(e,r,t),ke(r,i),A&&A.m(i,null),ke(i,s),T&&T.m(i,null),ke(i,l),X&&X.m(i,null),ke(i,o),ke(i,c),ke(c,g),ke(g,m),m.innerHTML=d,ke(g,$),ke(g,p),ke(p,u),ke(u,y),ke(g,F),k&&k.m(g,null),ke(c,O),x&&x.m(c,null),ke(r,H),ke(r,P),ke(P,N),ke(P,B),L&&L.m(P,null),ke(P,V),E&&E.m(P,null),xe(e,b,t),M&&M.m(e,t),xe(e,v,t),I&&I.m(e,t),xe(e,w,t),D&&D.m(e,t),xe(e,j,t),xe(e,J,t),G=!0,W||(Z=De(g,"click",K(function(){Y("manage-keywords"==ge.currentView?"":a[31](a[0]))&&("manage-keywords"==ge.currentView?"":a[31](a[0])).apply(this,arguments)})),W=!0)},p(e,t){a=e,(n=512&t[0]?a[9]&&!ge.hideMirrorAppCtrl():n)?A?A.p(a,t):((A=Wr(a)).c(),A.m(i,s)):A&&(A.d(1),A=null),a[4]?T&&(T.d(1),T=null):T?T.p(a,t):((T=Zr(a)).c(),T.m(i,l)),a[4]?X?X.p(a,t):((X=pi(a)).c(),X.m(i,o)):X&&(X.d(1),X=null),(!G||7&t[0])&&d!==(d=a[33](a[0].tour_title,a[1],a[2])+"")&&(m.innerHTML=d),(!G||1&t[0])&&h!==(h=a[0].tour_description+"")&&Fe(y,h),(!G||1&t[0]&&_!==(_="mgPlayerJSqa_tour-desc-"+a[0].tour_id))&&$e(p,"id",_),0<a[0].tour_title.length||0<a[0].tour_description.length?k?k.p(a,t):((k=ui(a)).c(),k.m(g,null)):k&&(k.d(1),k=null),(!G||1&t[0]&&S!==(S="mgPlayerJSqa_tour-title-"+a[0].tour_id))&&$e(g,"id",S),R&&x.p(a,t),(!G||513&t[0]&&f!==(f="mgPlayerJSqa_guide-details-wrapper mgPlayerJSqa_ege-inline-block-vm "+(ge.exportEnabled?"mgPlayerJSqa_disable-tour-play-action":"")+" "+(ge.automationSelectionMode?"mgPlayerJSqa_width-80":"")+" "+(GmCXt.FT.creatorApp&&!a[9]?"mgPlayerJSqa_guide-details-creator":"")+" "+(GmCXt.FT.creatorApp&&a[9]?"mgPlayerJSqa_guide-details-draft-guide":"")+" "+(GmCXt.FT.creatorApp&&a[9]&&a[0].pin?"mgPlayerJSqa_guide-details-draft-pin":"")))&&$e(c,"class",f),GmCXt.FT.isPlayer&&L.p(a,t),a[0].media_files[0]&&ge.isMicroPlayer?E?(E.p(a,t),1&t[0]&&Ne(E,1)):((E=Pi(a)).c(),Ne(E,1),E.m(P,null)):E&&(Re(),Be(E,1,1,()=>{E=null}),He()),(!G||1&t[0]&&C!==(C="mgPlayerJSqa_guide-row-action-wrapper_"+a[0].tour_id))&&$e(P,"id",C),(q=4194304&t[0]?0<a[22].length&&ge.isOwnerOrAppAdmin()&&GmCXt.FT.creatorApp&&!ge.automationSelectionMode&&!ge.hideMirrorAppCtrl()&&!ge.isDesktopApp():q)?M?M.p(a,t):((M=Ci(a)).c(),M.m(v.parentNode,v)):M&&(M.d(1),M=null),(z=4194305&t[0]?0<a[22].length&&ge.isOwnerOrAppAdmin()&&GmCXt.FT.creatorApp&&!ge.automationSelectionMode&&!ge.hideMirrorAppCtrl()&&a[0].pin:z)?I?I.p(a,t):((I=bi(a)).c(),I.m(w.parentNode,w)):I&&(I.d(1),I=null),U&&D.p(a,t)},i(e){G||(Ne(E),Ne(D),G=!0)},o(e){Be(E),Be(D),G=!1},d(e){e&&(Le(r),Le(b),Le(v),Le(w),Le(j),Le(J)),A&&A.d(),T&&T.d(),X&&X.d(),k&&k.d(),x&&x.d(),L&&L.d(),E&&E.d(),M&&M.d(e),I&&I.d(e),D&&D.d(e),W=!1,Z()}}}function wi(e,t,a,r){t=parseInt(t),a=parseInt(a),r=parseInt(r);let i=3,n=19*Math.PI*2;n-10*t<1&&(i=n/t/1.2);var s,l,o,c,g=(n-i*t)/t;return`<circle class="${e}" cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4" stroke-dashoffset="${n/4-i/2+r*(i+g)}" stroke-dasharray="${1!==t?(s=a,l=g,o=n,c=i,new Array(s).fill(void 0).map(function(e,t){return"".concat(l," ").concat(t===s-1?o-s*(c+l)+c:c)}).join(" ")):void 0}"></circle>`}function Ji(e,t,a){let r=t["tour"],i=t["searchKeyword"],n=t["replaceKeyword"],s=ge.isTooltip(r),l=GmCXt.isBotGuide(r),o=ge.isHelpArticle(r),c=GmCXt.getAppSetting("defaultPlayAction"),g=GmCXt.isFalse(c),m=ge.getDefaultPlayAction(r),d=GmCXt.FT.creatorApp&&!ge.isUserRole()&&!ge.exportEnabled&&r.parent_tour_id,p=ge.isDesktopApp(),u=GmCXt.isOnboarding(r),h=GmCXt.isGuide(r),y=ge.isCADGuide(r),_=ge.isTrackingGuide(r),S=ge.isMobileGuide(r),f=GmCXt.getDefaultGuideIcon(),P=r.tour_type.indexOf("beacon_tour"),C=ge.showPlayOption(ge.playGuideMe,r),b=ge.showPlayOption(ge.playSlideshow,r),q=ge.showPlayOption(ge.playTestMe,r)&&!GmCXt.branchStepExist(r),v=ge.showPlayOption(ge.playAuto,r)&&!GmCXt.isOnboarding(r),w=GmCXt.isHowToGuide(r);const J=E();let G,A=[],T=GmCXt.getCdnSign();const X=me.breadCrumb.subscribe(e=>{a(22,A=e)});t=ge.getCategory(r.category_id)||A[A.length-1];function k(e,t,a){"pin"===t?ge.pinTourToTop(e,t,(e,t)=>{J("updatePinnedTours",{tour:e,action:t})}):ge.pinTourToTop(e,t,(e,t)=>{J("updatePinnedTours",{tour:e,action:t})})}function x(e){var t,a;return!!GmCXt.tourActivity&&(a=GmCXt.tourActivity["t:"+e.tour_id],t=e.tour_settings.play_structure||GmCXt.getGuidePlayStructure(e),a=GmCXt.getTail(a,t,null,e),ge.getStepFromTour(a,e))}pe(()=>{X()});function L(e){return ge.isOnlySurveyGuide(r)||GmCXt.isBotGuide(r)||g?"":void ge.play(r,!1)}de(()=>{GmCXt.isPlayer()&&ge.bindPlayerTheme()});return e.$$set=e=>{"tour"in e&&a(0,r=e.tour),"searchKeyword"in e&&a(1,i=e.searchKeyword),"replaceKeyword"in e&&a(2,n=e.replaceKeyword)},e.$$.update=()=>{9&e.$$.dirty[0]&&(a(4,s=ge.isTooltip(r)),a(5,l=GmCXt.isBotGuide(r)),a(6,o=ge.isHelpArticle(r)),a(3,c=GmCXt.getAppSetting("defaultPlayAction")),a(7,g=GmCXt.isFalse(c)),a(8,m=ge.getDefaultPlayAction(r)),a(9,d=GmCXt.FT.creatorApp&&!ge.isUserRole()&&!ge.exportEnabled&&r.parent_tour_id),a(10,p=ge.isDesktopApp()),a(11,u=GmCXt.isOnboarding(r)),a(12,h=GmCXt.isGuide(r)),a(13,y=ge.isCADGuide(r)),a(14,_=ge.isTrackingGuide(r)),a(15,S=ge.isMobileGuide(r)),a(16,f=GmCXt.getDefaultGuideIcon()),a(17,P=r.tour_type.indexOf("beacon_tour")),a(23,T=GmCXt.getCdnSign()),a(18,C=ge.showPlayOption(ge.playGuideMe,r)),a(19,b=ge.showPlayOption(ge.playSlideshow,r)),a(20,q=ge.showPlayOption(ge.playTestMe,r)&&!GmCXt.branchStepExist(r)),a(21,v=ge.showPlayOption(ge.playAuto,r)&&!GmCXt.isOnboarding(r)))},[r,i,n,c,s,l,o,g,m,d,p,u,h,y,_,S,f,P,C,b,q,v,A,T,w,t,k,()=>{if(!GmCXt.isEmpty(r)&&ge.isPlayedTour(r.tour_id)&&!1===x(r))return!0},()=>{if(!GmCXt.isEmpty(r)&&!1!==x(r)&&ge.getDefaultPlayAction(r)===ge.playGuideMe)return!0},L,e=>{e.steps.filter(function(e){return"inline"===e.step_type}).length?new vr({target:document.body,props:{showTestMe:!0,tour:e}}):ge.showPopup(ge.labels.noInappStepInGuide)},e=>{e=JSON.parse(JSON.stringify(e));"bot"===e.tour_type||ge.automationSelectionMode||("help_article"===e.tour_type?window.open(e.tour_settings.articleUrl,"_blank"):ge.isMicroPlayer?ge.play(e):(ge.trackSearchActivity(!0),ge.clearSearchInput(),ge.getBreadcrumsCategories(e),GmCXt.FT.creatorApp&&(e.steps=[]),me.currentTour.set(e),ge.setCurrentPage("stepview")))},function(){let e="";if(GmCXt.FT.isPlayer){var t;if(GmCXt.branchStepExist(r)?e+='<circle cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></circle>':(t=parseInt(r.step_count),G=ge.playedSteps?ge.getPlayedStepCount(r):0,t&&!G&&(e=wi("mgPlayerJSqa_dashes-green",t,t,t),1===t)&&(e='<circle class="mgPlayerJSqa_dashes-green" cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></circle>'),t&&G&&(G===t&&(e=wi("mgPlayerJSqa_dashes-gray",G,G,G),1===G)&&(e='<circle class="mgPlayerJSqa_dashes-gray" cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></circle>'),G!==t)&&(e=(e+=wi("mgPlayerJSqa_dashes-green",t,t-G,t-G))+wi("mgPlayerJSqa_dashes-gray",t,G,t))),m===ge.playSlideshow||"Default"===r.tour_settings.defaultPlayAction&&c===ge.playSlideshow||p||w)return e+='<path d="M25.1375 15.9427H23.1482C22.5161 15.359 21.3251 15 19.9999 15C18.6747 15 17.4837 15.359 16.8516 15.9427H14.8623C12.1812 15.9427 10 18.1985 10 20.9713C10 23.7441 12.1812 26 14.8623 26C17.5434 26 19.7246 23.7441 19.7246 20.9713C19.7246 20.9346 19.7242 20.8979 19.7235 20.8611H20.2764C20.2756 20.8979 20.2753 20.9346 20.2753 20.9713C20.2753 23.7441 22.4566 26 25.1377 26C27.8188 26 30 23.7441 30 20.9713C29.9999 18.1985 27.8186 15.9427 25.1375 15.9427ZM14.8623 23.9552C13.2715 23.9552 11.9772 22.6166 11.9772 20.9713C11.9772 19.3261 13.2715 17.9875 14.8623 17.9875C16.4532 17.9875 17.7475 19.3261 17.7475 20.9713C17.7475 22.6166 16.4532 23.9552 14.8623 23.9552ZM21.3065 17.89H18.6926C18.3824 17.89 18.1303 17.6286 18.1303 17.3077C18.1303 16.9869 18.3824 16.7254 18.6926 16.7254H21.3065C21.6173 16.7254 21.8695 16.9869 21.8695 17.3077C21.8695 17.6285 21.6173 17.89 21.3065 17.89ZM25.1375 23.9552C23.5466 23.9552 22.2523 22.6166 22.2523 20.9713C22.2523 19.3261 23.5466 17.9875 25.1375 17.9875C26.7282 17.9875 28.0226 19.3261 28.0226 20.9713C28.0226 22.6166 26.7283 23.9552 25.1375 23.9552Z" fill="#ACADC1" stroke-width="0" />';if(m===ge.playAuto||"Default"===r.tour_settings.defaultPlayAction&&c===ge.playAuto&&!p)return e+='<path d="M15.8441 24.4972C14.4834 24.4972 13.3803 25.652 13.3803 27.0765V29H14.6452V27.6678C14.6452 26.5993 15.4726 25.7332 16.4931 25.7332H23.5081C24.5287 25.7332 25.356 26.5993 25.356 27.6678V29H26.6211V27.0765C26.6211 25.652 25.518 24.4972 24.1573 24.4972H15.8441Z" fill="#ACADC1" stroke-width="0" /><path d="M12 18.8136C12 18.1065 12.5475 17.5333 13.2229 17.5333H13.6867V20.0938H13.2229C12.5475 20.0938 12 19.5206 12 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M28 18.8136C28 18.1065 27.4525 17.5333 26.7771 17.5333H26.3133V20.0938H26.7771C27.4525 20.0938 28 19.5206 28 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.7887 18.8136C19.7887 19.5206 19.2412 20.0938 18.5659 20.0938C17.8905 20.0938 17.343 19.5206 17.343 18.8136C17.343 18.1065 17.8905 17.5333 18.5659 17.5333C19.2412 17.5333 19.7887 18.1065 19.7887 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M22.7414 18.8136C22.7414 19.5206 22.1939 20.0938 21.5186 20.0938C20.8432 20.0938 20.2957 19.5206 20.2957 18.8136C20.2957 18.1065 20.8432 17.5333 21.5186 17.5333C22.1939 17.5333 22.7414 18.1065 22.7414 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.494 13.1606C19.494 13.0894 19.5492 13.0317 19.6172 13.0317H20.7202C20.7882 13.0317 20.8434 13.0894 20.8434 13.1606V15.6804H19.494V13.1606Z" fill="#ACADC1" stroke-width="0" /><path d="M18.4948 14.6198H17.279C15.9182 14.6198 14.8151 15.7746 14.8151 17.1992V20.5163C14.8151 21.9409 15.9182 23.0957 17.279 23.0957H22.7247C24.0855 23.0957 25.1886 21.9409 25.1886 20.5163V17.1992C25.1886 15.7746 24.0855 14.6198 22.7247 14.6198H21.8448V15.592H22.2026C23.2232 15.592 24.0505 16.4581 24.0505 17.5265V20.191C24.0505 21.2594 23.2232 22.1255 22.2026 22.1255H17.802C16.7815 22.1255 15.9541 21.2594 15.9541 20.191V17.5265C15.9541 16.4581 16.7815 15.592 17.802 15.592H18.4948V14.6198Z" fill="#ACADC1" stroke-width="0" /><path d="M20.8434 11.7063C20.8434 12.0964 20.5413 12.4127 20.1687 12.4127C19.7961 12.4127 19.494 12.0964 19.494 11.7063C19.494 11.3162 19.7961 11 20.1687 11C20.5413 11 20.8434 11.3162 20.8434 11.7063Z" fill="#ACADC1" stroke-width="0" />'}else e+='<circle cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></circle>';return e+='<path d="M12 27.555C12 27.555 20.838 24.372 22.606 22.606C24.374 20.838 27.555 12 27.555 12C27.555 12 18.717 15.183 16.95 16.95C15.183 18.717 12 27.555 12 27.555ZM18.364 18.364L21.192 21.192C21.899 21.899 14.829 24.727 14.829 24.727C14.829 24.727 17.657 17.657 18.364 18.364Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0" />'},function(e,t,a){var r;return t?([t,r]=(t=t.trim()).split(","),t=new RegExp(t,"gi"),e.replace(t,e=>`<wmgPlayerJSqa_ class="mgPlayerJSqa_span mgPlayerJSqa_text-highlighted">${a||e}</wmgPlayerJSqa_>`)):e},()=>L(),()=>L(GmCXt.FT.isPlayer),e=>k(r,"pin"),e=>k(r,"unpin")]}class Gi extends e{constructor(e){super(),t(this,e,Ji,vi,g,{tour:0,searchKeyword:1,replaceKeyword:2},null,[-1,-1])}}function Ai(e,t,a){e=e.slice();return e[34]=t[a],e}function Ti(t){let r=[],a=new Map,i,n,s=I(t[0].sortDataByActiveFilter(t[1],"tour_title",t[3]));const l=e=>e[34].tour_id+"-"+e[4];for(let e=0;e<s.length;e+=1){var o=Ai(t,s,e),c=l(o);a.set(c,r[e]=ki(c,o))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();i=M()},m(t,a){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,a);xe(t,i,a),n=!0},p(e,t){27&t[0]&&(s=I(e[0].sortDataByActiveFilter(e[1],"tour_title",e[3])),Re(),r=L(r,t,l,0,e,s,a,i.parentNode,x,ki,i,Ai),He())},i(e){if(!n){for(let e=0;e<s.length;e+=1)Ne(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)Be(r[e]);n=!1},d(t){t&&Le(i);for(let e=0;e<r.length;e+=1)r[e].d(t)}}}function Xi(e){let a,r,i,n=e[0].svgs.no_guides_image+"",s,l,o=!e[0].search&&xi(e),c=e[0].search&&Li(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),o&&o.c(),l=Ie(),c&&c.c(),$e(i,"class","mgPlayerJSqa_no-guide-image-cartoon"),$e(r,"class","mgPlayerJSqa_no-guide-image-wrapper mgPlayerJSqa_no-margin"),$e(a,"class","mgPlayerJSqa_no-tour-message-wrapper mgPlayerJSqa_position-center"),Oe(a,"mgPlayerJSqa_margin-t-50",!e[0].isMicroPlayer)},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),i.innerHTML=n,ke(a,s),o&&o.m(a,null),ke(a,l),c&&c.m(a,null)},p(e,t){1&t[0]&&n!==(n=e[0].svgs.no_guides_image+"")&&(i.innerHTML=n),e[0].search?o&&(o.d(1),o=null):o?o.p(e,t):((o=xi(e)).c(),o.m(a,l)),e[0].search?c?c.p(e,t):((c=Li(e)).c(),c.m(a,null)):c&&(c.d(1),c=null),1&t[0]&&Oe(a,"mgPlayerJSqa_margin-t-50",!e[0].isMicroPlayer)},i:we,o:we,d(e){e&&Le(a),o&&o.d(),c&&c.d()}}}function ki(e,a){let r,i,n,s,l;return i=new Gi({props:{tour:a[34]}}),{key:e,first:null,c(){r=Ee("wmgPlayerJSqa_"),Ve(i.$$.fragment),n=Ie(),$e(r,"class",s="mgPlayerJSqa_tour-item mgPlayerJSqa_guide-list-view "+(a[0].isMicroPlayer?"mgPlayerJSqa_guide-list-view-mplayer":"")),this.first=r},m(e,t){xe(e,r,t),ze(i,r,null),ke(r,n),l=!0},p(e,t){a=e;e={};11&t[0]&&(e.tour=a[34]),i.$set(e),(!l||1&t[0]&&s!==(s="mgPlayerJSqa_tour-item mgPlayerJSqa_guide-list-view "+(a[0].isMicroPlayer?"mgPlayerJSqa_guide-list-view-mplayer":"")))&&$e(r,"class",s)},i(e){l||(Ne(i.$$.fragment,e),l=!0)},o(e){Be(i.$$.fragment,e),l=!1},d(e){e&&Le(r),Ue(i)}}}function xi(e){let a,r,i=e[0].labels.noGuidesOnThisPage+"",n;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Me(i),$e(r,"class","mgPlayerJSqa_no-guide-msg"),$e(r,"tabindex","0"),$e(a,"class","mgPlayerJSqa_no-guide-text-wrapper")},m(e,t){xe(e,a,t),ke(a,r),ke(r,n)},p(e,t){1&t[0]&&i!==(i=e[0].labels.noGuidesOnThisPage+"")&&Fe(n,i)},d(e){e&&Le(a)}}}function Li(e){let a,r,i=e[0].labels.noGuideAvailableFor+"",n,s,l,o=e[0].labels.tryModifyingYourSearch+"",c;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),l=Ee("wmgPlayerJSqa_"),c=Me(o),$e(r,"class","mgPlayerJSqa_no-guide-msg"),$e(r,"tabindex","0"),$e(l,"class","mgPlayerJSqa_instruction-add-category"),$e(l,"tabindex","0"),$e(a,"class","mgPlayerJSqa_no-guide-text-wrapper mgPlayerJSqa_no-guide-text-search-wrapper")},m(e,t){xe(e,a,t),ke(a,r),ke(r,n),ke(a,s),ke(a,l),ke(l,c)},p(e,t){1&t[0]&&i!==(i=e[0].labels.noGuideAvailableFor+"")&&Fe(n,i),1&t[0]&&o!==(o=e[0].labels.tryModifyingYourSearch+"")&&Fe(c,o)},d(e){e&&Le(a)}}}function Ei(e){let r,i,n,a;const s=[Xi,Ti],l=[];function o(e){return e[2]&&e[1].length<1&&e[5]?0:1}return i=o(e),n=l[i]=s[i](e),{c(){r=Ee("wmgPlayerJSqa_"),n.c(),$e(r,"class","mgPlayerJSqa_category-list")},m(e,t){xe(e,r,t),l[i].m(r,null),a=!0},p(e,t){let a=i;(i=o(e))===a?l[i].p(e,t):(Re(),Be(l[a],1,1,()=>{l[a]=null}),He(),(n=l[i])?n.p(e,t):(n=l[i]=s[i](e)).c(),Ne(n,1),n.m(r,null))},i(e){a||(Ne(n),a=!0)},o(e){Be(n),a=!1},d(e){e&&Le(r),l[i].d()}}}let Mi=50;function Ii(e,t,r){let i=[],a,n=[],s=[],l,o="",c,g=!1,m=!1,d=!1,p=J(!1),u,h=0;const y=me.CurrentPageTours.subscribe(e=>{r(1,n=[...e])}),_=me.refreshCurrentPageView.subscribe(e=>{e&&(w(),me.refreshCurrentPageView.set(!1))}),S=me.selectedLang.subscribe(e=>{var t="default"===e&&ge.language!==GmCXt.browserLang,a="default"!==e&&ge.oldCurrentPageLang!==e;e&&!GmCXt.getLXPLang()&&GmCXt.activeAppId&&(t||a)&&(w(),r(0,ge.oldCurrentPageLang=e,ge))});function f(e){ge.processTours&&clearTimeout(ge.processTours),r(0,ge.processTours=GmCXt.timeout(function(){if(e=GmCXt.removeDuplicateGuides(e),p.set(!0),e.length?(me.showNoTour.set(!1),e=ge.getTranslatedTours(e),r(1,n=e),me.CurrentPageTours.set(n),d||(ge.showCurrentPageGuidesIndicator(!0),d=!0),ge.getBotGuideCount(n)):m||(me.showNoTour.set(!0),q()),ge.setContainerHeight("currentPage"),ge.search&&0<ge.search.length){let t=[];n.filter(function(e){(checkValueExist(e.tour_title)||e.tour_id===ge.search||checkValueExist(e.keywords)||checkValueExist(e.tour_description))&&t.push(e)}),me.CurrentPageTours.set(n),t.length&&ge.setContainerHeight("currentPage")}},300),ge)}function P(e){GmCXt.isEmpty(e)||(n.push(e),me.CurrentPageTours.set(n),ge.cTours.push(e.tour_id)),f(n)}function C(e){var t=e.tour;a!==t.timestamp?GmCXt.log(30,"REJECT, having old timestamp"):(e.valid&&s.push(t),ge.guideSegmentation&&GmCXt.isPlayer()?e.valid?GmCXt.checkGuidesBasedOnSegment([t],P,"currPageSeg"):P():setTimeout(function(){f(s)},0))}function b(){try{var t=i.length;e=GmCXt.t.currentPageSpinner+1e3,setTimeout(()=>{0===n.length&&GmCXt.log(30,"NO GUIDE rules matched")},e);for(let e=0;e<t;e++){var a=i[c];c++,i.length>=c&&ge.queueRuleForCP(a,c,C,o,"currentPage")}}catch(e){802===e.code?console.error("Error with code 802 occurred:",e):console.error("An unexpected error occurred:",e)}var e}function q(){GmCXt.log(30,"NO GUIDES on this page"),ge.hideCurrentPageGuidesIndicator(),r(1,n=[]),me.CurrentPageTours.set(n),ge.getBotGuideCount(n)}function v(t){if(GmCXt.log(30,"FETCHED tours",t),a=Date.now(),r(1,n=[]),me.CurrentPageTours.set(n),s=[],l=t.length,GmCXt.isPlayer()&&!GmCXt.isEmpty(t)&&(t=GmCXt.filterScheduleTours(t)),(t=GmCXt.inPlayer&&!GmCXt.isWestpac()?GmCXt.sortToursByModifcationDate(t):t).length){ge.hideLoading(),me.showNoTour.set(!1);for(let e=0;e<t.length;e++)t[e].tour_sequence=e,t[e].timestamp=a;i=[...t],c=0,b()}else ge.hideLoading(),p.set(!0),me.showNoTour.set(!0),q()}function w(e){r(4,h++,h),"page_click"===e?o="page_click":(o="",r(0,ge.cTours=[],ge)),i=[],me.showNoTour.set(!1),d=!1;var a=GmCXt.user;if(a||GmCXt.isEmpty(a)||!ge.noLogin()){e=e||null,GmCXt.log(30,"REFRESH current page. Event: "+e),ge.updatePageUrl(GmCXt.getCurrentURL());{let t={url:ge.pageUrl};GmCXt.getLXPLang()&&(t.language=GmCXt.getLXPLang()),GmCXt.isDomainInActiveApp()?(a=ge.readLocalCT(t.url,GmCXt.pageTitle))&&a.length&&!g?(GmCXt.log(30,"FETCHED tours from CACHE"),v(ge.filterCurrentPageTourTypes(a))):GmCXt.api.getContextualTour(t,function(e){g=!1;e=ge.processContextualGuide(e,t.url);v(ge.filterCurrentPageTourTypes(e))}):(GmCXt.log(30,"INVALID domain, NOT present in Org"),v([]))}ge.setContainerHeight("currentPage")}else{GmCXt.log(30,"SHOWING Box Player guides");let e=0;ge.publishedTours||(e=1e3),setTimeout(function(){let e=ge.filterCurrentPageTourTypes(ge.publishedTours);GmCXt.isPlayer()&&!GmCXt.isEmpty(e)&&(e=GmCXt.filterScheduleTours(e)),v(e=ge.validateAllRulesExceptSelectEl(e).tours)},e)}}return pe(()=>{_(),y(),S()}),me.showNoTour.subscribe(e=>{r(2,m=e)}),me.activeSortFilterStore.subscribe(e=>{r(3,u=e)}),setTimeout(()=>{ge.setContainerHeight("currentPage")},300),mg$(window).off("resize").on("resize",function(){ge.setContainerHeight("currentPage")}),mg$(".mgPlayerJSqa_category-list").off("scroll").on("scroll",function(){if(!isPreviousEventComplete)return!0;mg$(this).scrollTop()+mg$(this).innerHeight()>=mg$(this)[0].scrollHeight-20&&mg$(this)[0].scrollHeight+20>mg$(this).innerHeight()&&(isPreviousEventComplete=!1,l===Mi)&&w()}),[ge,n,m,u,h,p]}class Di extends e{constructor(e){super(),t(this,e,Ii,Ei,g,{},null,[-1,-1])}}function $i(){let a,r=ge.svgs.drag_dots+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_drag-guide-icon-wrapper mgPlayerJSqa_icon-update-margin mgPlayerJSqa_ege-inline-block-vm")},m(e,t){xe(e,a,t),a.innerHTML=r},d(e){e&&Le(a)}}}function Fi(e){let a=!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"),r,i=e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature,n,s=a&&Oi(e),l=i&&Ri(e);return{c(){s&&s.c(),r=Ie(),l&&l.c(),n=M()},m(e,t){s&&s.m(e,t),xe(e,r,t),l&&l.m(e,t),xe(e,n,t)},p(e,t){(a=1&t?!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"):a)?s?s.p(e,t):((s=Oi(e)).c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),(i=1&t?e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature:i)?l?l.p(e,t):((l=Ri(e)).c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(e){e&&(Le(r),Le(n)),s&&s.d(e),l&&l.d(e)}}}function Oi(e){let a,r=ge.svgs.folder+"",i;return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class",i="mgPlayerJSqa_category-icon "+(!e[4]?.is_published&&e[2]?"mgPlayerJSqa_published-category-subfolder-icon":""))},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){20&t&&i!==(i="mgPlayerJSqa_category-icon "+(!e[4]?.is_published&&e[2]?"mgPlayerJSqa_published-category-subfolder-icon":""))&&$e(a,"class",i)},d(e){e&&Le(a)}}}function Ri(e){let a,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_category-image mgPlayerJSqa_custom-image mgPlayerJSqa_category-uploaded-img-view mgPlayerJSqa_published-category"),Q(a.src,r=GmCXt.restoreAssetSrc(e[0]?.image_url))||$e(a,"src",r),$e(a,"alt",GmCXt.conf.staticContentPath+"folder_green.png")},m(e,t){xe(e,a,t)},p(e,t){1&t&&!Q(a.src,r=GmCXt.restoreAssetSrc(e[0]?.image_url))&&$e(a,"src",r)},d(e){e&&Le(a)}}}function Hi(e){let a=!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"),r,i=e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature,n,s=a&&Ni(e),l=i&&Bi(e);return{c(){s&&s.c(),r=Ie(),l&&l.c(),n=M()},m(e,t){s&&s.m(e,t),xe(e,r,t),l&&l.m(e,t),xe(e,n,t)},p(e,t){(a=1&t?!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"):a)?s?s.p(e,t):((s=Ni(e)).c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),(i=1&t?e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature:i)?l?l.p(e,t):((l=Bi(e)).c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(e){e&&(Le(r),Le(n)),s&&s.d(e),l&&l.d(e)}}}function Ni(e){let a,r=ge.svgs.subfolder+"",i;return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class",i="mgPlayerJSqa_category-icon "+(!e[4]?.is_published&&e[2]?"mgPlayerJSqa_published-category-subfolder-icon":""))},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){20&t&&i!==(i="mgPlayerJSqa_category-icon "+(!e[4]?.is_published&&e[2]?"mgPlayerJSqa_published-category-subfolder-icon":""))&&$e(a,"class",i)},d(e){e&&Le(a)}}}function Bi(e){let a,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_category-image mgPlayerJSqa_custom-image mgPlayerJSqa_category-uploaded-img-view mgPlayerJSqa_published-category"),Q(a.src,r=GmCXt.restoreAssetSrc(e[0]?.image_url))||$e(a,"src",r),$e(a,"alt",GmCXt.conf.staticContentPath+"subfolder_green.png")},m(e,t){xe(e,a,t)},p(e,t){1&t&&!Q(a.src,r=GmCXt.restoreAssetSrc(e[0]?.image_url))&&$e(a,"src",r)},d(e){e&&Le(a)}}}function Vi(e){let a=!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"),r,i=e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature,n,s=a&&zi(),l=i&&Ui(e);return{c(){s&&s.c(),r=Ie(),l&&l.c(),n=M()},m(e,t){s&&s.m(e,t),xe(e,r,t),l&&l.m(e,t),xe(e,n,t)},p(e,t){(a=1&t?!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"):a)?s||((s=zi()).c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),(i=1&t?e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature:i)?l?l.p(e,t):((l=Ui(e)).c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(e){e&&(Le(r),Le(n)),s&&s.d(e),l&&l.d(e)}}}function zi(){let a,r=ge.svgs.folder+"";return{c(){a=Ee("wmgPlayerJSqa_")},m(e,t){xe(e,a,t),a.innerHTML=r},d(e){e&&Le(a)}}}function Ui(e){let a,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_category-image mgPlayerJSqa_custom-image mgPlayerJSqa_category-uploaded-img-view"),Q(a.src,r=GmCXt.restoreAssetSrc(e[0]?.image_url))||$e(a,"src",r),$e(a,"alt",GmCXt.conf.staticContentPath+"folder_green.png")},m(e,t){xe(e,a,t)},p(e,t){1&t&&!Q(a.src,r=GmCXt.restoreAssetSrc(e[0]?.image_url))&&$e(a,"src",r)},d(e){e&&Le(a)}}}function ji(e){let a=!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"),r,i=e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature,n,s=a&&Wi(),l=i&&Zi(e);return{c(){s&&s.c(),r=Ie(),l&&l.c(),n=M()},m(e,t){s&&s.m(e,t),xe(e,r,t),l&&l.m(e,t),xe(e,n,t)},p(e,t){(a=1&t?!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"):a)?s||((s=Wi()).c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),(i=1&t?e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature:i)?l?l.p(e,t):((l=Zi(e)).c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(e){e&&(Le(r),Le(n)),s&&s.d(e),l&&l.d(e)}}}function Wi(){let a,r=ge.svgs.subfolder+"";return{c(){a=Ee("wmgPlayerJSqa_")},m(e,t){xe(e,a,t),a.innerHTML=r},d(e){e&&Le(a)}}}function Zi(e){let a,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_category-image mgPlayerJSqa_custom-image mgPlayerJSqa_category-uploaded-img-view"),Q(a.src,r=GmCXt.restoreAssetSrc(e[0]?.image_url))||$e(a,"src",r),$e(a,"alt",GmCXt.conf.staticContentPath+"subfolder_green.png")},m(e,t){xe(e,a,t)},p(e,t){1&t&&!Q(a.src,r=GmCXt.restoreAssetSrc(e[0]?.image_url))&&$e(a,"src",r)},d(e){e&&Le(a)}}}function Yi(){let a,r=ge.svgs.folder+"";return{c(){a=Ee("wmgPlayerJSqa_")},m(e,t){xe(e,a,t),a.innerHTML=r},d(e){e&&Le(a)}}}function Ki(e){let a,r,i,n,s,l,t=ge.labels.unpublishedGuides+"",o,c,g=e[0]?.total_unpublish_tour+"",m,d,p,u,h,y,_=ge.labels.publishedGuides+"",S,f,P=e[0]?.total_publish_tour+"",C,b=ge.automationSelectionMode&&function(e){let a,r,i,n,t=ge.labels.selectGuideForAuto+"",s,l,o=e[0]?.automationTours+"",c,g=e[0]?.total_publish_tour<=ge.countLimit&&ge.automationSelectionMode&&Qi(e),m=e[0]?.total_publish_tour>ge.countLimit&&ge.automationSelectionMode&&en();return{c(){a=Ee("wmgPlayerJSqa_"),g&&g.c(),r=Ie(),m&&m.c(),i=Ie(),n=Ee("wmgPlayerJSqa_"),s=Me(t),l=Ie(),c=Me(o),$e(n,"class","mgPlayerJSqa_tour-count-tooltip"),$e(a,"class","mgPlayerJSqa_inline-block-vm automation-tour-count")},m(e,t){xe(e,a,t),g&&g.m(a,null),ke(a,r),m&&m.m(a,null),ke(a,i),ke(a,n),ke(n,s),ke(n,l),ke(n,c)},p(e,t){e[0]?.total_publish_tour<=ge.countLimit&&ge.automationSelectionMode?g?g.p(e,t):((g=Qi(e)).c(),g.m(a,r)):g&&(g.d(1),g=null),e[0]?.total_publish_tour>ge.countLimit&&ge.automationSelectionMode?m||((m=en()).c(),m.m(a,i)):m&&(m.d(1),m=null),1&t&&o!==(o=e[0]?.automationTours+"")&&Fe(c,o)},d(e){e&&Le(a),g&&g.d(),m&&m.d()}}}(e),q=e[0]?.total_unpublish_tour<=ge.countLimit&&tn(e),v=e[0]?.total_unpublish_tour>ge.countLimit&&an(),w=e[0]?.total_publish_tour<=ge.countLimit&&rn(e),J=e[0]?.total_publish_tour>ge.countLimit&&nn();return{c(){a=Ee("wmgPlayerJSqa_"),b&&b.c(),r=Ie(),i=Ee("wmgPlayerJSqa_"),q&&q.c(),n=Ie(),v&&v.c(),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Me(t),c=Ie(),m=Me(g),d=Ie(),p=Ee("wmgPlayerJSqa_"),w&&w.c(),u=Ie(),J&&J.c(),h=Ie(),y=Ee("wmgPlayerJSqa_"),S=Me(_),f=Ie(),C=Me(P),$e(l,"class","mgPlayerJSqa_tour-count-tooltip"),$e(i,"class","mgPlayerJSqa_inline-block-vm unpublish-tour-count"),$e(y,"class","mgPlayerJSqa_tour-count-tooltip"),$e(p,"class","mgPlayerJSqa_inline-block-vm publish-tour-count"),$e(a,"class","mgPlayerJSqa_tour-count-wrapper")},m(e,t){xe(e,a,t),b&&b.m(a,null),ke(a,r),ke(a,i),q&&q.m(i,null),ke(i,n),v&&v.m(i,null),ke(i,s),ke(i,l),ke(l,o),ke(l,c),ke(l,m),ke(a,d),ke(a,p),w&&w.m(p,null),ke(p,u),J&&J.m(p,null),ke(p,h),ke(p,y),ke(y,S),ke(y,f),ke(y,C)},p(e,t){ge.automationSelectionMode&&b.p(e,t),e[0]?.total_unpublish_tour<=ge.countLimit?q?q.p(e,t):((q=tn(e)).c(),q.m(i,n)):q&&(q.d(1),q=null),e[0]?.total_unpublish_tour>ge.countLimit?v||((v=an()).c(),v.m(i,s)):v&&(v.d(1),v=null),1&t&&g!==(g=e[0]?.total_unpublish_tour+"")&&Fe(m,g),e[0]?.total_publish_tour<=ge.countLimit?w?w.p(e,t):((w=rn(e)).c(),w.m(p,u)):w&&(w.d(1),w=null),e[0]?.total_publish_tour>ge.countLimit?J||((J=nn()).c(),J.m(p,h)):J&&(J.d(1),J=null),1&t&&P!==(P=e[0]?.total_publish_tour+"")&&Fe(C,P)},d(e){e&&Le(a),b&&b.d(),q&&q.d(),v&&v.d(),w&&w.d(),J&&J.d()}}}function Qi(e){let a,r=e[0]?.automationTours+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_automation-count-label")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t&&r!==(r=e[0]?.automationTours+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function en(){let a;return{c(){(a=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.countLimit,$e(a,"class","mgPlayerJSqa_automation-count-label")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function tn(e){let a,r=e[0]?.total_unpublish_tour+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_unpublish-count-label")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t&&r!==(r=e[0]?.total_unpublish_tour+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function an(){let a;return{c(){(a=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.countLimit,$e(a,"class","mgPlayerJSqa_unpublish-count-label")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function rn(e){let a,r=e[0]?.total_publish_tour+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_publish-count-label")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t&&r!==(r=e[0]?.total_publish_tour+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function nn(){let a;return{c(){(a=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.countLimit,$e(a,"class","mgPlayerJSqa_publish-count-label")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function sn(e){let a,r,i=ge.svgs.guide_category_title+"",n,s,l,o,c,g,m,d=e[0]?.total_sub_category+"",p,u=e[0]?.total_sub_category<=ge.countLimit&&ln(e),h=e[0]?.total_sub_category>ge.countLimit&&on();return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),u&&u.c(),o=Ie(),h&&h.c(),c=Ie(),g=Ee("wmgPlayerJSqa_"),m=Me("Sub Folders: "),p=Me(d),$e(r,"class",n="mgPlayerJSqa_sub-cat-count-icon mgPlayerJSqa_inline-block-vm "+(e[0]?.is_published?"mgPlayerJSqa_published-category":"")),$e(g,"class","mgPlayerJSqa_tour-count-tooltip"),$e(l,"class","mgPlayerJSqa_sub-cat-count mgPlayerJSqa_inline-block-vm"),$e(a,"class","mgPlayerJSqa_sub-cat-count-wrapper")},m(e,t){xe(e,a,t),ke(a,r),r.innerHTML=i,ke(a,s),ke(a,l),u&&u.m(l,null),ke(l,o),h&&h.m(l,null),ke(l,c),ke(l,g),ke(g,m),ke(g,p)},p(e,t){1&t&&n!==(n="mgPlayerJSqa_sub-cat-count-icon mgPlayerJSqa_inline-block-vm "+(e[0]?.is_published?"mgPlayerJSqa_published-category":""))&&$e(r,"class",n),e[0]?.total_sub_category<=ge.countLimit?u?u.p(e,t):((u=ln(e)).c(),u.m(l,o)):u&&(u.d(1),u=null),e[0]?.total_sub_category>ge.countLimit?h||((h=on()).c(),h.m(l,c)):h&&(h.d(1),h=null),1&t&&d!==(d=e[0]?.total_sub_category+"")&&Fe(p,d)},d(e){e&&Le(a),u&&u.d(),h&&h.d()}}}function ln(e){let a,r=e[0]?.total_sub_category+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_sub-cat-count-label")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t&&r!==(r=e[0]?.total_sub_category+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function on(){let a;return{c(){(a=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.countLimit,$e(a,"class","mgPlayerJSqa_sub-cat-count-label")},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function cn(e){let r,a;return r=new Na({props:{category:e[0]}}),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};1&t&&(a.category=e[0]),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){Ue(r,e)}}}function gn(a){let r,i=!a[1]&&ge.isOwnerOrAppAdmin()&&GmCXt.FT.creatorApp&&!ge.isPublicApp&&!ge.automationSelectionMode&&!ge.isDesktopApp()&&!ge.hideMirrorAppCtrl(),n,s,l,o,c,g,m,d,$,p,u,h,y=(a[0]?.category_title||"")+"",_,F,S,f,P=(a[0]?.category_title||"")+"",O,R,C,b,q=(a[0]?.category_description||"")+"",H,N,v,w,J=(a[0]?.category_description||"")+"",B,V,z,U,G,A,j,W,T=i&&$i(),X=a[0]?.is_published&&!a[0]?.has_child&&Fi(a),k=a[0]?.is_published&&a[0]?.has_child&&Hi(a),x=!a[0]?.is_published&&!a[0]?.has_child&&a[0]?.image_url&&Vi(a),L=!a[0]?.is_published&&a[0]?.has_child&&a[0]?.image_url&&ji(a),E=!a[0]?.image_url&&!a[0]?.is_published&&Yi(),M=!a[0]?.has_child&&GmCXt.FT.creatorApp&&Ki(a),I=a[0]?.has_child&&GmCXt.FT.creatorApp&&sn(a),D=(a[3]||a[1])&&cn(a);return{c(){r=Ee("wmgPlayerJSqa_"),T&&T.c(),n=Ie(),s=Ee("dnd-nodrag"),l=Ee("wmgPlayerJSqa_"),o=Ee("wmgPlayerJSqa_"),X&&X.c(),c=Ie(),k&&k.c(),g=Ie(),x&&x.c(),m=Ie(),L&&L.c(),d=Ie(),E&&E.c(),$=Ie(),p=Ee("wmgPlayerJSqa_"),u=Ee("wmgPlayerJSqa_"),h=Ee("button"),_=Me(y),F=Ie(),S=Ee("wmgPlayerJSqa_"),f=Ee("wmgPlayerJSqa_"),O=Me(P),R=Ie(),C=Ee("wmgPlayerJSqa_"),b=Ee("wmgPlayerJSqa_"),H=Me(q),N=Ie(),v=Ee("wmgPlayerJSqa_"),w=Ee("wmgPlayerJSqa_"),B=Me(J),V=Ie(),M&&M.c(),z=Ie(),I&&I.c(),U=Ie(),D&&D.c(),$e(o,"class","mgPlayerJSqa_category-image-wrapper mgPlayerJSqa_ege-inline-block-vm"),$e(h,"class","mgPlayerJSqa_category-title-wrapper mgPlayerJSqa_lbl-btn mgPlayerJSqa_wrap-text"),$e(f,"class","mgPlayerJSqa_tooltip-title"),$e(S,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-right mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y"),$e(u,"class","mgPlayerJSqa_category-title-container mgPlayerJSqa_text-overflow-ellipsis"),$e(b,"class","mgPlayerJSqa_category-description-wrapper mgPlayerJSqa_wrap-text"),$e(w,"class","mgPlayerJSqa_tooltip-title"),$e(v,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-right mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y"),$e(C,"class","mgPlayerJSqa_category-desc-container mgPlayerJSqa_text-overflow-ellipsis"),$e(p,"class","mgPlayerJSqa_category-title-description-wrapper mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_position-relative"),$e(l,"class","mgPlayerJSqa_category-list-item-wrapper"),ee(s,"class","mgPlayerJSqa_dnd-nodrag-default"),$e(r,"class",G="mgPlayerJSqa_category-list-item "+(a[1]?"active":"")+" "+(a[2]?"sub-category-list-item":"")+" "+(ge.isMicroPlayer&&a[1]?"mgPlayerJSqa_no-margin":"")+" "+(!GmCXt.FT.isPlayer||a[0]?.has_child||a[0]?.has_tour?"":"mgPlayerJSqa_display-none")+" "+(ge.automationSelectionMode?"mgPlayerJSqa_auto-selection-cat-list":"")+" "+(ge.automationSelectionMode&&!a[0]?.is_published?"mgPlayerJSqa_disabled":""))},m(e,t){xe(e,r,t),T&&T.m(r,null),ke(r,n),ke(r,s),ke(s,l),ke(l,o),X&&X.m(o,null),ke(o,c),k&&k.m(o,null),ke(o,g),x&&x.m(o,null),ke(o,m),L&&L.m(o,null),ke(o,d),E&&E.m(o,null),ke(l,$),ke(l,p),ke(p,u),ke(u,h),ke(h,_),ke(u,F),ke(u,S),ke(S,f),ke(f,O),ke(p,R),ke(p,C),ke(C,b),ke(b,H),ke(C,N),ke(C,v),ke(v,w),ke(w,B),ke(s,V),M&&M.m(s,null),ke(s,z),I&&I.m(s,null),ke(r,U),D&&D.m(r,null),A=!0,j||(W=[De(r,"click",Z(a[9])),De(r,"mouseenter",a[6]),De(r,"mouseleave",a[7])],j=!0)},p(e,[t]){(i=2&t?!e[1]&&ge.isOwnerOrAppAdmin()&&GmCXt.FT.creatorApp&&!ge.isPublicApp&&!ge.automationSelectionMode&&!ge.isDesktopApp()&&!ge.hideMirrorAppCtrl():i)?T||((T=$i()).c(),T.m(r,n)):T&&(T.d(1),T=null),e[0]?.is_published&&!e[0]?.has_child?X?X.p(e,t):((X=Fi(e)).c(),X.m(o,c)):X&&(X.d(1),X=null),e[0]?.is_published&&e[0]?.has_child?k?k.p(e,t):((k=Hi(e)).c(),k.m(o,g)):k&&(k.d(1),k=null),e[0]?.is_published||e[0]?.has_child||!e[0]?.image_url?x&&(x.d(1),x=null):x?x.p(e,t):((x=Vi(e)).c(),x.m(o,m)),!e[0]?.is_published&&e[0]?.has_child&&e[0]?.image_url?L?L.p(e,t):((L=ji(e)).c(),L.m(o,d)):L&&(L.d(1),L=null),e[0]?.image_url||e[0]?.is_published?E&&(E.d(1),E=null):E||((E=Yi()).c(),E.m(o,null)),(!A||1&t)&&y!==(y=(e[0]?.category_title||"")+"")&&Fe(_,y),(!A||1&t)&&P!==(P=(e[0]?.category_title||"")+"")&&Fe(O,P),(!A||1&t)&&q!==(q=(e[0]?.category_description||"")+"")&&Fe(H,q),(!A||1&t)&&J!==(J=(e[0]?.category_description||"")+"")&&Fe(B,J),!e[0]?.has_child&&GmCXt.FT.creatorApp?M?M.p(e,t):((M=Ki(e)).c(),M.m(s,z)):M&&(M.d(1),M=null),e[0]?.has_child&&GmCXt.FT.creatorApp?I?I.p(e,t):((I=sn(e)).c(),I.m(s,null)):I&&(I.d(1),I=null),e[3]||e[1]?D?(D.p(e,t),10&t&&Ne(D,1)):((D=cn(e)).c(),Ne(D,1),D.m(r,null)):D&&(Re(),Be(D,1,1,()=>{D=null}),He()),(!A||7&t&&G!==(G="mgPlayerJSqa_category-list-item "+(e[1]?"active":"")+" "+(e[2]?"sub-category-list-item":"")+" "+(ge.isMicroPlayer&&e[1]?"mgPlayerJSqa_no-margin":"")+" "+(!GmCXt.FT.isPlayer||e[0]?.has_child||e[0]?.has_tour?"":"mgPlayerJSqa_display-none")+" "+(ge.automationSelectionMode?"mgPlayerJSqa_auto-selection-cat-list":"")+" "+(ge.automationSelectionMode&&!e[0]?.is_published?"mgPlayerJSqa_disabled":"")))&&$e(r,"class",G)},i(e){A||(Ne(D),A=!0)},o(e){Be(D),A=!1},d(e){e&&Le(r),T&&T.d(),X&&X.d(),k&&k.d(),x&&x.d(),L&&L.d(),E&&E.d(),M&&M.d(),I&&I.d(),D&&D.d(),j=!1,Xe(W)}}}function mn(e,t,a){let r=t["category"],i=t["parent"],n=t["subCategory"];E();let s,l=(GmCXt.getCdnSign(),!1),o=!1;var c=ce(me.breadCrumb)||[];n&&(o=ge.getCategory(r.parent_id)||c[c.length-1]);let{onFolderClick:g=()=>{}}=t;const m=async(e,t)=>{t={detail:s=t&&t?.has_tour?{parent:t,hasTour:!0}:{parent:t,hasTour:t.has_tour,hasChild:t.has_child}};g(t)};de(()=>{GmCXt.isPlayer()&&ge.bindPlayerTheme()});return e.$$set=e=>{"category"in e&&a(0,r=e.category),"parent"in e&&a(1,i=e.parent),"subCategory"in e&&a(2,n=e.subCategory),"onFolderClick"in e&&a(8,g=e.onFolderClick)},[r,i,n,l,o,m,function(){a(3,l=!0)},function(){a(3,l=!1)},g,e=>!i&&m(0,r)]}class dn extends e{constructor(e){super(),t(this,e,mn,gn,g,{category:0,parent:1,subCategory:2,onFolderClick:8})}}function pn(e,t,a){e=e.slice();return e[7]=t[a],e[9]=a,e}function un(e){let a=e[7]+"",r;return{c(){r=Me(a)},m(e,t){xe(e,r,t)},p(e,t){2&t&&a!==(a=e[7]+"")&&Fe(r,a)},d(e){e&&Le(r)}}}function hn(e){let a=e[7]?.category_title+"",r;return{c(){r=Me(a)},m(e,t){xe(e,r,t)},p(e,t){2&t&&a!==(a=e[7]?.category_title+"")&&Fe(r,a)},d(e){e&&Le(r)}}}function yn(a){let r,i,n,s,l,o,c,g,m=0<a[9]&&function(e){let a,r=e[0].svgs.iconBreadcrumArrow+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_breadcrum-arrow-icon")},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t&&r!==(r=e[0].svgs.iconBreadcrumArrow+"")&&(a.innerHTML=r)},d(e){e&&Le(a)}}}(a);function d(e){return e[7]?.category_title?hn:"All Guides"===e[7]?un:void 0}let p=d(a),u=p&&p(a);function h(){return a[3](a[7])}return{c(){r=Ee("li"),m&&m.c(),i=Ie(),n=Ee("button"),u&&u.c(),o=Ie(),$e(n,"class",s="mgPlayerJSqa_lbl-btn mgPlayerJSqa_inline-block-vm mgPlayerJSqa_breadcrum-title "+(a[9]===a[1].length-1?"active-breadcrum":"")),$e(n,"aria-label",l=a[7]?.category_title?a[7].category_title:"All Guides"===a[7]?a[7]:""),$e(r,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_breadcrum-item")},m(e,t){xe(e,r,t),m&&m.m(r,null),ke(r,i),ke(r,n),u&&u.m(n,null),ke(r,o),c||(g=De(n,"click",h),c=!0)},p(e,t){0<(a=e)[9]&&m.p(a,t),p===(p=d(a))&&u?u.p(a,t):(u&&u.d(1),(u=p&&p(a))&&(u.c(),u.m(n,null))),2&t&&s!==(s="mgPlayerJSqa_lbl-btn mgPlayerJSqa_inline-block-vm mgPlayerJSqa_breadcrum-title "+(a[9]===a[1].length-1?"active-breadcrum":""))&&$e(n,"class",s),2&t&&l!==(l=a[7]?.category_title?a[7].category_title:"All Guides"===a[7]?a[7]:"")&&$e(n,"aria-label",l)},d(e){e&&Le(r),m&&m.d(),u&&u.d(),c=!1,g()}}}function _n(a){let r,i,n,s=a[0].svgs.btnBackBreadcrumb+"",l,o,c,g,e,m,d,p=I(a[1]),u=[];for(let e=0;e<p.length;e+=1)u[e]=yn(pn(a,p,e));return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("button"),l=Ie(),(o=Ee("wmgPlayerJSqa_")).innerHTML='<wmgPlayerJSqa_ class="mgPlayerJSqa_tooltip-title">Back</wmgPlayerJSqa_>',c=Ie(),g=Ee("ol");for(let e=0;e<u.length;e+=1)u[e].c();$e(n,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_back-btn mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(n,"aria-label","back"),$e(o,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-right"),$e(i,"class","mgPlayerJSqa_back-btn-wrapper mgPlayerJSqa_inline-block-vm mgPlayerJSqa_show-text-tooltip mgPlayerJSqa_position-relative mgPlayerJSqa_cursor-pointer"),$e(g,"class",e="mgPlayerJSqa_breadcrums-container mgPlayerJSqa_inline-block-vm mgPlayerJSqa_no-margin "+(a[0].isMicroPlayer?"mgPlayerJSqa_breadcrums-container-mPlayer":"")),$e(r,"id","mgPlayerJSqa_breadcrums-main-container"),$e(r,"class","mgPlayerJSqa_padding-lr-20")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),n.innerHTML=s,ke(i,l),ke(i,o),ke(r,c),ke(r,g);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(g,null);m||(d=De(n,"click",a[2]),m=!0)},p(t,[a]){if(1&a&&s!==(s=t[0].svgs.btnBackBreadcrumb+"")&&(n.innerHTML=s),3&a){p=I(t[1]);let e;for(e=0;e<p.length;e+=1){var r=pn(t,p,e);u[e]?u[e].p(r,a):(u[e]=yn(r),u[e].c(),u[e].m(g,null))}for(;e<u.length;e+=1)u[e].d(1);u.length=p.length}1&a&&e!==(e="mgPlayerJSqa_breadcrums-container mgPlayerJSqa_inline-block-vm mgPlayerJSqa_no-margin "+(t[0].isMicroPlayer?"mgPlayerJSqa_breadcrums-container-mPlayer":""))&&$e(g,"class",e)},i:we,o:we,d(e){e&&Le(r),$(u,e),m=!1,d()}}}function Sn(e,t,a){let r;const i=E();let n=ce(me.breadCrumb);const s=me.breadCrumb.subscribe(e=>{a(1,n=e)});ge.onClickBreadCrumbHandler=async e=>{r=e?"All Guides"===e?{parent:"All Guides"}:{parent:e,hasTour:e.has_tour,hasChild:e.has_child}:{parent:void 0,hasChild:!1},i("breadcrumbChanged",r)},pe(()=>{s()});de(()=>{GmCXt.isPlayer()&&ge.bindPlayerTheme()});return[ge,n,()=>{let e;1<n.length&&(e=n[n.length-2]),ge.onClickBreadCrumbHandler(e)},e=>ge.onClickBreadCrumbHandler(e)]}class fn extends e{constructor(e){super(),t(this,e,Sn,_n,g,{})}}function Pn(e){let t=ge.labels.noCategoryCreatedYet+"",a;return{c(){a=Me(t)},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function Cn(e){let t=ge.labels.noGuideCreatedYet+"",a;return{c(){a=Me(t)},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function bn(e){let t=ge.labels.noAiGuide+"",a;return{c(){a=Me(t)},m(e,t){xe(e,a,t)},d(e){e&&Le(a)}}}function qn(e){let a,r,i,n=ge.svgs.no_guides_image+"",s,l,o,t,c;function g(e){return e[0]?bn:(t=null==t?!(!ce(me.breadCrumb).length&&"myguides"!==ce(me.CurrentPage)):t)?Cn:Pn}let m=g(e),d=m(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Ee("wmgPlayerJSqa_"),d.c(),$e(i,"class","mgPlayerJSqa_no-guide-image-cartoon"),$e(r,"class","mgPlayerJSqa_no-guide-image-wrapper mgPlayerJSqa_no-margin"),$e(o,"class","mgPlayerJSqa_no-guide-msg"),$e(o,"tabindex","0"),$e(l,"class","mgPlayerJSqa_no-guide-text-wrapper"),$e(a,"class",c="mgPlayerJSqa_no-tour-message-wrapper mgPlayerJSqa_position-center "+(e[0]?"mgPlayerJSqa_ai-suggesion-view":"")),Oe(a,"mgPlayerJSqa_margin-t-50",!ge.isMicroPlayer)},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),i.innerHTML=n,ke(a,s),ke(a,l),ke(l,o),d.m(o,null)},p(e,[t]){m!==(m=g(e))&&(d.d(1),d=m(e))&&(d.c(),d.m(o,null)),1&t&&c!==(c="mgPlayerJSqa_no-tour-message-wrapper mgPlayerJSqa_position-center "+(e[0]?"mgPlayerJSqa_ai-suggesion-view":""))&&$e(a,"class",c),1&t&&Oe(a,"mgPlayerJSqa_margin-t-50",!ge.isMicroPlayer)},i:we,o:we,d(e){e&&Le(a),d.d()}}}function vn(e,t,a){let r=t["isAiSuggesion"];return e.$$set=e=>{"isAiSuggesion"in e&&a(0,r=e.isAiSuggesion)},[r]}class wn extends e{constructor(e){super(),t(this,e,vn,qn,g,{isAiSuggesion:0})}}function Jn(e,t,a){e=e.slice();return e[87]=t[a],e[88]=t,e[85]=a,e}function Gn(e,t,a){e=e.slice();return e[87]=t[a],e[89]=t,e[90]=a,e}function An(e,t,a){e=e.slice();return e[15]=t[a],e[85]=a,e}function Tn(e,t,a){e=e.slice();return e[15]=t[a],e[85]=a,e}function Xn(e){let a,r,i;return(r=new fn({})).$on("breadcrumbChanged",e[17]),{c(){a=Ee("wmgPlayerJSqa_"),Ve(r.$$.fragment)},m(e,t){xe(e,a,t),ze(r,a,null),i=!0},p:we,i(e){i||(Ne(r.$$.fragment,e),i=!0)},o(e){Be(r.$$.fragment,e),i=!1},d(e){e&&Le(a),Ue(r)}}}function kn(e){let i,a,r,n,s,l,o;(i=new dn({props:{category:e[7],parent:!0,onFolderClick:e[22]}})).$on("forwardTraversal",e[16]);const c=[Mn,En,Ln],g=[];function m(e,t){return 264&t[0]&&(r=null),e[2]&&0<e[2].length?0:(r=null==r?!(GmCXt.isEmpty(e[8])&&GmCXt.isEmpty(e[3])):r)?1:e[10]?-1:2}return~(n=m(e,[-1,-1,-1]))&&(s=g[n]=c[n](e)),{c(){Ve(i.$$.fragment),a=Ie(),s&&s.c(),l=M()},m(e,t){ze(i,e,t),xe(e,a,t),~n&&g[n].m(e,t),xe(e,l,t),o=!0},p(e,t){var a={};128&t[0]&&(a.category=e[7]),i.$set(a);let r=n;(n=m(e,t))===r?~n&&g[n].p(e,t):(s&&(Re(),Be(g[r],1,1,()=>{g[r]=null}),He()),~n?((s=g[n])?s.p(e,t):(s=g[n]=c[n](e)).c(),Ne(s,1),s.m(l.parentNode,l)):s=null)},i(e){o||(Ne(i.$$.fragment,e),Ne(s),o=!0)},o(e){Be(i.$$.fragment,e),Be(s),o=!1},d(e){e&&(Le(a),Le(l)),Ue(i,e),~n&&g[n].d(e)}}}function xn(t){let i,r,n=I(t[0]),s=[];for(let e=0;e<n.length;e+=1)s[e]=Yn(Tn(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();i=M()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);xe(t,i,a),r=!0},p(t,a){if(5339249&a[0]){n=I(t[0]);let e;for(e=0;e<n.length;e+=1){var r=Tn(t,n,e);s[e]?(s[e].p(r,a),Ne(s[e],1)):(s[e]=Yn(r),s[e].c(),Ne(s[e],1),s[e].m(i.parentNode,i))}for(Re(),e=n.length;e<s.length;e+=1)(e=>Be(s[e],1,1,()=>{s[e]=null}))(e);He()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)Ne(s[e]);r=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Be(s[e]);r=!1},d(e){e&&Le(i),$(s,e)}}}function Ln(e){let a,r;return a=new wn({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},p:we,i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function En(e){let a=!GmCXt.isEmpty(e[8])&&!e[6].exportEnabled&&GmCXt.FT.creatorApp,r,i=!GmCXt.isEmpty(e[3]),n,s,l=a&&In(e),o=i&&On(e);return{c(){l&&l.c(),r=Ie(),o&&o.c(),n=M()},m(e,t){l&&l.m(e,t),xe(e,r,t),o&&o.m(e,t),xe(e,n,t),s=!0},p(e,t){(a=320&t[0]?!GmCXt.isEmpty(e[8])&&!e[6].exportEnabled&&GmCXt.FT.creatorApp:a)?l?(l.p(e,t),320&t[0]&&Ne(l,1)):((l=In(e)).c(),Ne(l,1),l.m(r.parentNode,r)):l&&(Re(),Be(l,1,1,()=>{l=null}),He()),(i=8&t[0]?!GmCXt.isEmpty(e[3]):i)?o?(o.p(e,t),8&t[0]&&Ne(o,1)):((o=On(e)).c(),Ne(o,1),o.m(n.parentNode,n)):o&&(Re(),Be(o,1,1,()=>{o=null}),He())},i(e){s||(Ne(l),Ne(o),s=!0)},o(e){Be(l),Be(o),s=!1},d(e){e&&(Le(r),Le(n)),l&&l.d(e),o&&o.d(e)}}}function Mn(t){let i,r,n=I(t[2]),s=[];for(let e=0;e<n.length;e+=1)s[e]=jn(An(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();i=M()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);xe(t,i,a),r=!0},p(t,a){if(5339252&a[0]){n=I(t[2]);let e;for(e=0;e<n.length;e+=1){var r=An(t,n,e);s[e]?(s[e].p(r,a),Ne(s[e],1)):(s[e]=jn(r),s[e].c(),Ne(s[e],1),s[e].m(i.parentNode,i))}for(Re(),e=n.length;e<s.length;e+=1)(e=>Be(s[e],1,1,()=>{s[e]=null}))(e);He()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)Ne(s[e]);r=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Be(s[e]);r=!1},d(e){e&&Le(i),$(s,e)}}}function In(t){let i,r,n=I(t[8]),s=[];for(let e=0;e<n.length;e+=1)s[e]=Fn(Gn(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();i=M()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);xe(t,i,a),r=!0},p(t,a){if(786752&a[0]){n=I(t[8]);let e;for(e=0;e<n.length;e+=1){var r=Gn(t,n,e);s[e]?(s[e].p(r,a),Ne(s[e],1)):(s[e]=Fn(r),s[e].c(),Ne(s[e],1),s[e].m(i.parentNode,i))}for(Re(),e=n.length;e<s.length;e+=1)(e=>Be(s[e],1,1,()=>{s[e]=null}))(e);He()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)Ne(s[e]);r=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Be(s[e]);r=!1},d(e){e&&Le(i),$(s,e)}}}function Dn(e){let r,i,n,a,s,l,o=GmCXt.FT.creatorApp&&e[6].automationSelectionMode&&$n(e);return(n=new Gi({props:{tour:e[87]}})).$on("updatePinnedTours",e[19]),{c(){r=Ee("wmgPlayerJSqa_"),o&&o.c(),i=Ie(),Ve(n.$$.fragment),a=Ie(),$e(r,"class",s="mgPlayerJSqa_tour-item mgPlayerJSqa_guide-list-view "+(e[6].isMicroPlayer?"mgPlayerJSqa_guide-list-view-mplayer":""))},m(e,t){xe(e,r,t),o&&o.m(r,null),ke(r,i),ze(n,r,null),ke(r,a),l=!0},p(e,t){GmCXt.FT.creatorApp&&e[6].automationSelectionMode?o?o.p(e,t):((o=$n(e)).c(),o.m(r,i)):o&&(o.d(1),o=null);var a={};256&t[0]&&(a.tour=e[87]),n.$set(a),(!l||64&t[0]&&s!==(s="mgPlayerJSqa_tour-item mgPlayerJSqa_guide-list-view "+(e[6].isMicroPlayer?"mgPlayerJSqa_guide-list-view-mplayer":"")))&&$e(r,"class",s)},i(e){l||(Ne(n.$$.fragment,e),l=!0)},o(e){Be(n.$$.fragment,e),l=!1},d(e){e&&Le(r),o&&o.d(),Ue(n)}}}function $n(a){let r,i,n,s;function l(){a[32].call(i,a[89],a[90])}function o(){return a[33](a[87])}return{c(){r=Ee("wmgPlayerJSqa_"),$e(i=Ee("input"),"class","mgPlayerJSqa_input-checkbox-custom"),$e(i,"type","checkbox"),$e(r,"class","mgPlayerJSqa_icon-update-margin mgPlayerJSqa_ege-inline-block-vm")},m(e,t){xe(e,r,t),ke(r,i),i.checked=a[87].automate,n||(s=[De(i,"change",l),De(i,"change",o)],n=!0)},p(e,t){a=e,256&t[0]&&(i.checked=a[87].automate)},d(e){e&&Le(r),n=!1,Xe(s)}}}function Fn(e){let a=e[18](e[87])&&!e[6].guideHideForPlayer(e[87].tour_settings)&&e[87].pin,r,i,n=a&&Dn(e);return{c(){n&&n.c(),r=M()},m(e,t){n&&n.m(e,t),xe(e,r,t),i=!0},p(e,t){(a=320&t[0]?e[18](e[87])&&!e[6].guideHideForPlayer(e[87].tour_settings)&&e[87].pin:a)?n?(n.p(e,t),320&t[0]&&Ne(n,1)):((n=Dn(e)).c(),Ne(n,1),n.m(r.parentNode,r)):n&&(Re(),Be(n,1,1,()=>{n=null}),He())},i(e){i||(Ne(n),i=!0)},o(e){Be(n),i=!1},d(e){e&&Le(r),n&&n.d(e)}}}function On(t){let i,r,n=I(t[3]),s=[];for(let e=0;e<n.length;e+=1)s[e]=Vn(Jn(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();i=M()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);xe(t,i,a),r=!0},p(t,a){if(2914424&a[0]){n=I(t[3]);let e;for(e=0;e<n.length;e+=1){var r=Jn(t,n,e);s[e]?(s[e].p(r,a),Ne(s[e],1)):(s[e]=Vn(r),s[e].c(),Ne(s[e],1),s[e].m(i.parentNode,i))}for(Re(),e=n.length;e<s.length;e+=1)(e=>Be(s[e],1,1,()=>{s[e]=null}))(e);He()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)Ne(s[e]);r=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Be(s[e]);r=!1},d(e){e&&Le(i),$(s,e)}}}function Rn(e){let r,a,i,n,s,l,o;const c=[Nn,Hn],g=[];function m(e,t){return(a=null==(a=64&t[0]?null:a)?!(!e[6].isOwnerOrAppAdmin()||!GmCXt.FT.creatorApp||e[6].isDesktopApp()||e[6].hideMirrorAppCtrl()||e[6].exportEnabled||e[6].automationSelectionMode):a)?0:1}return i=m(e,[-1,-1,-1]),n=g[i]=c[i](e),{c(){r=Ee("wmgPlayerJSqa_"),n.c(),s=Ie(),$e(r,"class",l="mgPlayerJSqa_tour-item mgPlayerJSqa_guide-list-view "+(e[6].isMicroPlayer?"mgPlayerJSqa_guide-list-view-mplayer":"")+" "+(!e[87].is_locked||e[87].user_id==e[6].user.user_id||e[6].isOwnerOrAppAdmin()?"unlocked-guide":"")+" "+(e[6].automationSelectionMode&&!e[87].is_published?"mgPlayerJSqa_disabled":""))},m(e,t){xe(e,r,t),g[i].m(r,null),ke(r,s),o=!0},p(e,t){let a=i;(i=m(e,t))===a?g[i].p(e,t):(Re(),Be(g[a],1,1,()=>{g[a]=null}),He(),(n=g[i])?n.p(e,t):(n=g[i]=c[i](e)).c(),Ne(n,1),n.m(r,s)),(!o||72&t[0]&&l!==(l="mgPlayerJSqa_tour-item mgPlayerJSqa_guide-list-view "+(e[6].isMicroPlayer?"mgPlayerJSqa_guide-list-view-mplayer":"")+" "+(!e[87].is_locked||e[87].user_id==e[6].user.user_id||e[6].isOwnerOrAppAdmin()?"unlocked-guide":"")+" "+(e[6].automationSelectionMode&&!e[87].is_published?"mgPlayerJSqa_disabled":"")))&&$e(r,"class",l)},i(e){o||(Ne(n),o=!0)},o(e){Be(n),o=!1},d(e){e&&Le(r),g[i].d()}}}function Hn(e){let r,i,a,n=GmCXt.FT.creatorApp&&e[6].automationSelectionMode&&Bn(e);return(i=new Gi({props:{tour:e[87]}})).$on("updatePinnedTours",e[19]),{c(){n&&n.c(),r=Ie(),Ve(i.$$.fragment)},m(e,t){n&&n.m(e,t),xe(e,r,t),ze(i,e,t),a=!0},p(e,t){GmCXt.FT.creatorApp&&e[6].automationSelectionMode?n?n.p(e,t):((n=Bn(e)).c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null);var a={};8&t[0]&&(a.tour=e[87]),i.$set(a)},i(e){a||(Ne(i.$$.fragment,e),a=!0)},o(e){Be(i.$$.fragment,e),a=!1},d(e){e&&Le(r),n&&n.d(e),Ue(i,e)}}}function Nn(a){let r,i,n=a[6].svgs.drag_dots+"",s,l,o,c,g;function m(...e){return a[34](a[87],a[85],...e)}function d(...e){return a[36](a[85],...e)}return(l=new Gi({props:{tour:a[87]}})).$on("updatePinnedTours",a[19]),{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),Ve(l.$$.fragment),$e(i,"class","mgPlayerJSqa_drag-guide-icon-wrapper mgPlayerJSqa_ege-inline-block-vm"),$e(r,"draggable","true")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ze(l,r,null),o=!0,c||(g=[De(r,"dragstart",m),De(r,"drag",a[35]),De(r,"dragover",d),De(r,"dragend",a[37])],c=!0)},p(e,t){a=e,(!o||64&t[0])&&n!==(n=a[6].svgs.drag_dots+"")&&(i.innerHTML=n);e={};8&t[0]&&(e.tour=a[87]),l.$set(e)},i(e){o||(Ne(l.$$.fragment,e),o=!0)},o(e){Be(l.$$.fragment,e),o=!1},d(e){e&&Le(r),Ue(l),c=!1,Xe(g)}}}function Bn(a){let r,i,n,s;function l(){a[38].call(i,a[88],a[85])}function o(){return a[39](a[87])}return{c(){r=Ee("wmgPlayerJSqa_"),$e(i=Ee("input"),"class","mgPlayerJSqa_input-checkbox-custom"),$e(i,"type","checkbox"),$e(r,"class","mgPlayerJSqa_icon-update-margin mgPlayerJSqa_ege-inline-block-vm")},m(e,t){xe(e,r,t),ke(r,i),i.checked=a[87].automate,n||(s=[De(i,"change",l),De(i,"change",o)],n=!0)},p(e,t){a=e,8&t[0]&&(i.checked=a[87].automate)},d(e){e&&Le(r),n=!1,Xe(s)}}}function Vn(e){let a=e[18](e[87])&&!e[6].guideHideForPlayer(e[87].tour_settings),r,i,n=a&&Rn(e);return{c(){n&&n.c(),r=M()},m(e,t){n&&n.m(e,t),xe(e,r,t),i=!0},p(e,t){(a=72&t[0]?e[18](e[87])&&!e[6].guideHideForPlayer(e[87].tour_settings):a)?n?(n.p(e,t),72&t[0]&&Ne(n,1)):((n=Rn(e)).c(),Ne(n,1),n.m(r.parentNode,r)):n&&(Re(),Be(n,1,1,()=>{n=null}),He())},i(e){i||(Ne(n),i=!0)},o(e){Be(n),i=!1},d(e){e&&Le(r),n&&n.d(e)}}}function zn(e){let r,a;return(r=new dn({props:{category:e[15],parent:!1,subCategory:!0,onFolderClick:e[22]}})).$on("forwardTraversal",e[16]),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};4&t[0]&&(a.category=e[15]),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){Ue(r,e)}}}function Un(a){let r,i,n,s,l,o;function c(...e){return a[28](a[15],a[85],...e)}function g(...e){return a[30](a[85],...e)}return(i=new dn({props:{category:a[15],parent:!1,subCategory:!0,onFolderClick:a[22]}})).$on("forwardTraversal",a[16]),{c(){r=Ee("wmgPlayerJSqa_"),Ve(i.$$.fragment),n=Ie(),$e(r,"draggable","true")},m(e,t){xe(e,r,t),ze(i,r,null),ke(r,n),s=!0,l||(o=[De(r,"dragstart",c),De(r,"drag",a[29]),De(r,"dragover",g),De(r,"dragend",a[31])],l=!0)},p(e,t){a=e;e={};4&t[0]&&(e.category=a[15]),i.$set(e)},i(e){s||(Ne(i.$$.fragment,e),s=!0)},o(e){Be(i.$$.fragment,e),s=!1},d(e){e&&Le(r),Ue(i),l=!1,Xe(o)}}}function jn(e){let a,r,i,n,s;const l=[Un,zn],o=[];function c(e,t){return(a=null==(a=64&t[0]?null:a)?!(!e[6].isOwnerOrAppAdmin()||!GmCXt.FT.creatorApp||e[6].isDesktopApp()||e[6].hideMirrorAppCtrl()):a)?0:1}return r=c(e,[-1,-1,-1]),i=o[r]=l[r](e),{c(){i.c(),n=M()},m(e,t){o[r].m(e,t),xe(e,n,t),s=!0},p(e,t){let a=r;(r=c(e,t))===a?o[r].p(e,t):(Re(),Be(o[a],1,1,()=>{o[a]=null}),He(),(i=o[r])?i.p(e,t):(i=o[r]=l[r](e)).c(),Ne(i,1),i.m(n.parentNode,n))},i(e){s||(Ne(i),s=!0)},o(e){Be(i),s=!1},d(e){e&&Le(n),o[r].d(e)}}}function Wn(e){let r,a;return(r=new dn({props:{category:e[15],parent:!1,onFolderClick:e[22]}})).$on("forwardTraversal",e[16]),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};1&t[0]&&(a.category=e[15]),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){Ue(r,e)}}}function Zn(a){let r,i,n,s,l,o;function c(...e){return a[24](a[15],a[85],...e)}function g(...e){return a[26](a[85],...e)}return(i=new dn({props:{category:a[15],parent:!1,onFolderClick:a[22]}})).$on("forwardTraversal",a[16]),{c(){r=Ee("wmgPlayerJSqa_"),Ve(i.$$.fragment),n=Ie(),$e(r,"draggable","true")},m(e,t){xe(e,r,t),ze(i,r,null),ke(r,n),s=!0,l||(o=[De(r,"dragstart",c),De(r,"drag",a[25]),De(r,"dragover",g),De(r,"dragend",a[27])],l=!0)},p(e,t){a=e;e={};1&t[0]&&(e.category=a[15]),i.$set(e)},i(e){s||(Ne(i.$$.fragment,e),s=!0)},o(e){Be(i.$$.fragment,e),s=!1},d(e){e&&Le(r),Ue(i),l=!1,Xe(o)}}}function Yn(e){let a,r,i,n,s;const l=[Zn,Wn],o=[];function c(e,t){return(a=null==(a=64&t[0]?null:a)?!(!e[6].isOwnerOrAppAdmin()||!GmCXt.FT.creatorApp||e[6].isDesktopApp()||e[6].hideMirrorAppCtrl()):a)?0:1}return r=c(e,[-1,-1,-1]),i=o[r]=l[r](e),{c(){i.c(),n=M()},m(e,t){o[r].m(e,t),xe(e,n,t),s=!0},p(e,t){let a=r;(r=c(e,t))===a?o[r].p(e,t):(Re(),Be(o[a],1,1,()=>{o[a]=null}),He(),(i=o[r])?i.p(e,t):(i=o[r]=l[r](e)).c(),Ne(i,1),i.m(n.parentNode,n))},i(e){s||(Ne(i),s=!0)},o(e){Be(i),s=!1},d(e){e&&Le(n),o[r].d(e)}}}function Kn(){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function Qn(){let a,r;return a=new wn({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function es(a){let r,i,n,s,l,o,c,g,m=0<a[1].length&&Xn(a);const d=[xn,kn],p=[];function u(e){return e[1].length<1?0:0<e[1].length?1:-1}~(n=u(a))&&(s=p[n]=d[n](a));let h=a[6].automationSelectionMode&&Kn(),y=0==a[0].length&&Qn();return{c(){m&&m.c(),r=Ie(),i=Ee("wmgPlayerJSqa_"),s&&s.c(),l=Ie(),h&&h.c(),o=Ie(),y&&y.c(),$e(i,"class",c="mgPlayerJSqa_category-list "+(!a[0].length&&a[6].isMicroPlayer&&a[6].showGuidesFromDesktopApp?"mgPlayerJSqa_no-padding":"")),Ge(i,"height","682px")},m(e,t){m&&m.m(e,t),xe(e,r,t),xe(e,i,t),~n&&p[n].m(i,null),ke(i,l),h&&h.m(i,null),ke(i,o),y&&y.m(i,null),a[40](i),g=!0},p(e,t){0<e[1].length?m?(m.p(e,t),2&t[0]&&Ne(m,1)):((m=Xn(e)).c(),Ne(m,1),m.m(r.parentNode,r)):m&&(Re(),Be(m,1,1,()=>{m=null}),He());let a=n;(n=u(e))===a?~n&&p[n].p(e,t):(s&&(Re(),Be(p[a],1,1,()=>{p[a]=null}),He()),~n?((s=p[n])?s.p(e,t):(s=p[n]=d[n](e)).c(),Ne(s,1),s.m(i,l)):s=null),e[6].automationSelectionMode?h?64&t[0]&&Ne(h,1):((h=Kn()).c(),Ne(h,1),h.m(i,o)):h&&(Re(),Be(h,1,1,()=>{h=null}),He()),0==e[0].length?y?1&t[0]&&Ne(y,1):((y=Qn()).c(),Ne(y,1),y.m(i,null)):y&&(Re(),Be(y,1,1,()=>{y=null}),He()),(!g||65&t[0]&&c!==(c="mgPlayerJSqa_category-list "+(!e[0].length&&e[6].isMicroPlayer&&e[6].showGuidesFromDesktopApp?"mgPlayerJSqa_no-padding":"")))&&$e(i,"class",c)},i(e){g||(Ne(m),Ne(s),Ne(h),Ne(y),g=!0)},o(e){Be(m),Be(s),Be(h),Be(y),g=!1},d(e){e&&(Le(r),Le(i)),m&&m.d(e),~n&&p[n].d(),h&&h.d(),y&&y.d(),a[40](null)}}}let ts=50;function as(e,I,n){let s=[],r=[],l=[],o=[],c,a=[],g=[],t,i,m=!1,d=0,p,u=[],h=[],y=[],_=[],S=0,f=!0,P=!0,C=!0,b=0,D=0,$=0,F,O,q=!1,v=ge.activeTourId;v=v||0,ge.labels=GmCXt.getAllLabels(ge.language),i=GmCXt.getLXPLang()?GmCXt.getLXPLang():ce(me.selectedLang);const R=me.selectedLang.subscribe(e=>{n(6,ge.language=e&&"default"!==e?e:ge.defaultLang?.language?ge.defaultLang.language:ge.browserLang,ge),GmCXt.getLXPLang()||(i=ge.language);e=ce(me.allCategories);GmCXt.isEmpty(e)?A():(n(0,s=ge.prepCatLangJson(ce(me.allCategories),i)),y=ge.prepCatLangJson(ce(me.subCategories),i),n(3,g=H(ce(me.categoryTours))),n(2,a=ge.prepCatLangJson(ce(me.childCategories),i)),c&&(n(7,c=ge.prepSingCatLang(c,i)),l.pop(),l.push(c),me.breadCrumb.set(l)))});function H(e){return e=e&&e.map(e=>e=ge.getTranslatedTourAndSteps(e,i))}const N=me.categoryTours.subscribe(e=>{if(GmCXt.isEmpty(e))n(3,g=[]);else if(n(3,g=H(e)),GmCXt.FT.creatorApp&&g&&0<g.length&&!GmCXt.isEmpty(ge.pinnedToursList)){let t=ge.pinnedToursList.toString();n(23,u=g.filter(function(e){return e.pin=t.includes(e.tour_id),t.includes(e.tour_id)}));const a=u.map(e=>e.tour_id);e=g.filter(e=>!a.includes(e.tour_id));n(3,g=e),j()}});function w(i){0===i&&(S=0,n(10,q=!0));var e={category_id:d,limit:ts,offset:S};function a(e,a){GmCXt.isPlayer()&&!GmCXt.isEmpty(e)&&(e=GmCXt.filterScheduleTours(e)),e=ge.filterAnnouncement(e),n(6,ge.pinnedToursList=a,ge),GmCXt.saveToDapStorage("pinnedToursList",ge.pinnedToursList);var t=i,r=e;if(r&&0<r.length){if(m=!1,h=t?mg$.merge(h,r):r,h=ge.filterDefaultGuides(h),h=GmCXt.removeDuplicateGuides(h),GmCXt.FT.creatorApp)if(h=ge.getTranslatedTours(h),GmCXt.isEmpty(a))n(23,u=[]);else{let t=a.toString();n(23,u=h.filter(function(e){return e.pin=t.includes(e.tour_id),t.includes(e.tour_id)})),h.filter(function(e){return e.pin=t.includes(e.tour_id),!t.includes(e.tour_id)})}$=r.length,n(6,ge.totalTours=h.length,ge),v&&GmCXt.isDefined(r[v])&&(r[v].screencastInProgress=!0)}else m=!t;P=!0,h=ge.getTranslatedTours(h),e.forEach(function(e,t){e.automate=!1,e.tour_order=parseInt(e.tour_order)}),ge.categoryDataForAutomation.forEach(function(t,e){t.category_id===p?.category_id&&(t.tours.length,parseInt(t.total_publish_tour),h.forEach(function(a,e){t.tours.forEach(function(e,t){e.tour_id===a.tour_id&&(a.automate=!0)})}))}),ge.hideLoading(),n(6,ge.isApiCallOn=!1,ge),GmCXt.isPlayer()&&(h=h.filter(function(e){return!GmCXt.isFeatureTags(e)})),ge.guideSegmentation&&GmCXt.FT.isPlayer?GmCXt.checkGuidesBasedOnSegment(h,z,"guideListSeg"):me.categoryTours.set(h),me.childCategories.set(void 0),n(10,q=!1),GmCXt.FT.creatorApp&&ge.checkCurrentViewForUpdate(),ge.setContainerHeight("allguides")}if(GmCXt.FT.publishedGuides&&(e.published_guides="1"),ge.isUserLoggedIn()||GmCXt.onPrem()){let t=ge.allTourList["cat_"+d];!ge.hasUserEditedTour||GmCXt.isEmpty(t)?GmCXt.api.getTourList(e,a):a(Object.keys(t).map(function(e){return t[e]}),ge.pinnedToursList)}}const B=me.childCategories.subscribe(e=>{GmCXt.inPlayer&&e?n(2,a=ge.prepCatLangJson(e,i)):n(2,a=e)});function J(t){0===t&&(S=0);var e={parent_id:d,limit:ts,offset:S};GmCXt.FT.publishedCat&&(e.is_publish="1"),ge.getCategoryListApi(e,function(e){var a=t;if(e&&0<e.length){let t=[];D=e.length,e.forEach(function(a,e){t.push(a),a.automationTours=0,ge.categoryDataForAutomation.forEach(function(e,t){e.category_id===a.category_id&&(a.automationTours=e.tours.length)})}),ge.subCategoryStore&&GmCXt.isEmpty(ge.subCategoryStore["cat_"+d])&&ge.addMultiCategory(t,d),y=a?mg$.merge(y,t):e,y=GmCXt.removeDuplicateCategories(y),(y=GmCXt.inPlayer?ge.prepCatLangJson(y,ge.language):y).length||(m=!0)}else y.length||(m=!0);me.childCategories.set(y),ge.checkCurrentViewForUpdate(),ge.setContainerHeight("allguides"),ge.hideLoading(),C=!0,ge.hideLoading(),n(6,ge.isApiCallOn=!1,ge)})}function G(e){var t;me.childCategories.set(void 0),me.categoryTours.set(void 0),me.parent.set(e.detail.parent),n(3,g=[]),n(1,l=ce(me.breadCrumb)),l.length<1&&l.push("All Guides"),l.some(e=>"object"==typeof e&&e.category_id===c.category_id)||l.push(c),me.breadCrumb.set(l),e.detail.hasChild?(t=[],GmCXt.isEmpty(c.sub_categories)&&!GmCXt.inPlayer?(n(6,ge.subCategoryStore=[],ge),d=e.detail.parent.category_id,J(0)):(t=c.sub_categories.filter(e=>!e.has_tour||0<ge.filterGuideByEnv(e.tours).length),me.childCategories.set(t)),me.categoryTours.set(void 0)):e.detail.hasTour&&(me.categoryTours.set([]),GmCXt.isEmpty(c.tours)&&!GmCXt.inPlayer?(d=e.detail.parent.category_id,w(0)):setTimeout(()=>{let e=ge.filterGuideByEnv(c.tours);GmCXt.isPlayer()&&!GmCXt.isEmpty(e)&&(e=(e=GmCXt.filterScheduleTours(e)).filter(function(e){return!GmCXt.isFeatureTags(e)}),e=ge.filterAnnouncement(e)),GmCXt.checkGuidesBasedOnSegment(e,z,"guideListSeg"),me.childCategories.set(void 0)},1)),n(15,p=c)}function V(e){me.categoryTours.set([]),me.childCategories.set([]),me.stepOperationMode.set(GmCXt.STEP_VIEW_OPERATION),n(8,_=[]);let t=-1;var a,e=e.detail;let r,i=e.parent;if((r=s.find(e=>e.category_id===i.category_id))||!i.category_id||GmCXt.isEmpty(o)?i.category_id&&!GmCXt.inPlayer&&(r=i):r=o.find(e=>e.category_id===i.category_id),me.parent.set(r),-1===(t=c&&"All Guides"!==c?l.findIndex(e=>e.category_id===c.category_id):t))n(1,l=[]),me.breadCrumb.set(l),GmCXt.inPlayer?ge.hideLoading():A();else{if(n(1,l=l.slice(0,t+1)),me.breadCrumb.set(l),e.hasChild&&(a=[],GmCXt.isEmpty(c.sub_categories)&&!GmCXt.inPlayer?(d=e.parent.category_id,J(0)):(a=c.sub_categories.filter(e=>!e.has_tour||0<ge.filterGuideByEnv(e.tours).length),me.childCategories.set(a),ge.hideLoading()),me.categoryTours.set(void 0)),e.hasTour){if(me.categoryTours.set([]),GmCXt.isEmpty(c.tours)&&!GmCXt.inPlayer)d=e.parent.category_id,w(0);else{let e=ge.filterGuideByEnv(c.tours);GmCXt.isPlayer()&&!GmCXt.isEmpty(e)&&(e=GmCXt.filterScheduleTours(e),e=ge.filterAnnouncement(e)),GmCXt.checkGuidesBasedOnSegment(e,z,"guideListSeg"),ge.hideLoading()}me.childCategories.set(void 0)}e.hasChild||e.hasTour||(n(3,g=[]),me.childCategories.set(void 0),ge.hideLoading())}}function z(t){if(!GmCXt.isEmpty(t)){let e=ce(me.categoryTours);e.push(t),e=GmCXt.removeDuplicateGuides(e),me.categoryTours.set(e)}}function U(e,t,a){if(n(6,ge.refreshAllGuides=!1,ge),n(6,ge.isApiCallOn=!1,ge),GmCXt.isEmpty(e)&&GmCXt.isEmpty(r)){if(t)return;m=!0}else m=!1,e&&(b=e.length,e.forEach(function(t,e){1===t.category_image&&(t.category_image=0),t.automationTours=0,ge.categoryDataForAutomation.forEach(function(e){e.category_id===t?.category_id&&(t.automationTours=e.tours.length)}),t.category_order=parseInt(t?.category_order)})),r=function(e){let a=[],r=[];return mg$.each(e,function(e,t){-1===mg$.inArray(t.category_id,a)&&(a.push(t.category_id),r.push(t))}),r}(r=t?mg$.merge(r,e):e),f=!0,GmCXt.isEmpty(ge.categoryStore)&&ge.addMultiCategory(r),r=ge.prepCatLangJson(r,a);me.allCategories.set(r),ge.isAppJsonCalling||ge.hideLoading(),ge.checkCurrentViewForUpdate()}function A(a){var t=GmCXt.checkDomainInApps(GmCXt.urlParts.fullUrl);if((!t.appId||GmCXt.isDomainInActiveApp()||ge.manualAppSwitch)&&!ge.isApiCallOn){ge.resetOffset&&(S=0,n(6,ge.resetOffset=!1,ge)),0===a&&(S=0);let e=ts;ge.categoryStore&&(t=Object.keys(ge.categoryStore).length,e=ge.getApiLimit(t)),na.try(function(){let t={parent_id:0,limit:ge.refreshAllGuides?e:ts,offset:a?S:0};GmCXt.getLXPLang()?t.language=GmCXt.getLXPLang():ge.language&&-1===ge.language.indexOf("en-")&&-1===ge.language.indexOf("en_")&&!GmCXt.isFalse(ge.language)&&(t.language=ge.language),GmCXt.FT.publishedCat&&(t.is_publish="1"),n(6,ge.isApiCallOn=!0,ge),GmCXt.api.getCategoryList(t,function(e){U(e,a,t.language)})},804)}}function j(){const a=ge.automationSelectionMode?"is_published":t||"tour_order";n(8,_=[...u]),n(8,_=_.sort((e,t)=>{e=e[a],t=t[a];return e<t?-1:t<e?1:0})),ge.descOrder&&n(8,_=_.reverse())}const W=me.breadCrumb.subscribe(e=>{n(1,l=e)}),Z=me.activeSortFilterStore.subscribe(e=>{t=e,n(0,s=ge.sortDataByActiveFilter(s,"category_title",t)),n(2,a=ge.sortDataByActiveFilter(a,"category_title",t)),n(3,g=ge.sortDataByActiveFilter(g,"tour_title",t))}),Y=me.allCategories.subscribe(e=>{n(0,s=ge.prepCatLangJson(e,i)),r=e,ge.setContainerHeight("allguides")}),K=(me.subCategories.subscribe(e=>{o=e}),me.parent.subscribe(e=>{n(7,c=e),ge.setContainerHeight("allguides")})),Q=me.routeAction.subscribe(e=>{var t,a;e&&"createGuideCompleted"===e.action&&e.data?(t=e.data,(a=ce(me.categoryTours)).push(t.tour),me.categoryTours.set(a),me.routeAction.set(null)):e&&"createCategoryCompleted"===e.action&&e.data?(e.data,me.routeAction.set(null)):e&&"cat_import_compleated"===e.action&&e.data?(d=e.data.catId,J(0),me.routeAction.set(null)):e&&"on_app_select"===e.action&&e.app&&(me.breadCrumb.set([]),me.allCategories.set([]),n(6,ge.myGuidesFilter=!1,ge),n(6,ge.currentUserFilter=!1,ge),n(6,ge.filterByPublishedGuides="",ge),A(),me.routeAction.set(null))});function ee(t){na.try(function(){let a=[];t.filter(function(e,t){a.push({category_id:e.category_id,category_order:t+1}),e.category_order=t+1,ge.updateCategory(e,"category_order",parseInt(t+1))}),a=GmCXt.removeDuplicates(a);var e={organization_id:GmCXt.organization.organization_id,json:a};GmCXt.api.categoriesDrag(e,function(e){ge.showPopup(e.message)})},803)}function te(e){let a=[];e.filter(function(e,t){a.push({tour_id:e.tour_id,tour_order:t+1}),e.tour_order=t+1,ge.setTour(e,!1)}),a=GmCXt.removeDuplicates(a),e={category_id:e[0].category_id,json:a},GmCXt.api.toursDrag(e,function(e){ge.showPopup(e.message[0])})}let T,X=(T=me.isTourListRefresh.subscribe(t=>{if(t){let e=ce(me.parent);(e=t.data?t.data:e)&&(d=e.category_id,w(0),me.isTourListRefresh.set(!1))}T&&T()}),de(()=>{var e=ce(me.routeAction);e&&"backwardTraversal"===e.action&&e.data?(V(e.data),me.routeAction.set(null)):e&&"forwardTraversal"===e.action&&e.data&&(G(e.data),me.routeAction.set(null)),GmCXt.inPlayer&&ge.hideLoading(),GmCXt.inPlayer||setTimeout(()=>{A()},100),ge.setContainerHeight("allguides"),mg$(".mgPlayerJSqa_category-list").off("scroll").on("scroll",function(){var e=g&&0<g.length&&0<l.length?"tour":a&&0<a.length&&0<l.length?"subcategory":0<s.length||l.length<1?"category":null;if(O!=e&&(S=0,mg$(this).scrollTop(0)),"tour"===(O=e)){if(!P)return!0;mg$(this).scrollTop()+mg$(this).innerHeight()>=mg$(this)[0].scrollHeight-20&&mg$(this)[0].scrollHeight+20>mg$(this).innerHeight()&&(ge.setContainerHeight("allguides"),P=!1,$===ts)&&(S+=ts,w(1))}else if("category"===e){if(!f)return!0;mg$(this).scrollTop()+mg$(this).innerHeight()>=mg$(this)[0].scrollHeight-20&&mg$(this)[0].scrollHeight+20>mg$(this).innerHeight()&&(ge.setContainerHeight("allguides"),f=!1,b!==ts&&0!==b||(S+=ts,A(1)))}else if("subcategory"===e){if(!C)return!0;mg$(this).scrollTop()+mg$(this).innerHeight()>=mg$(this)[0].scrollHeight-20&&mg$(this)[0].scrollHeight+20>mg$(this).innerHeight()&&(ge.setContainerHeight("allguides"),C=!1,D===ts)&&(S+=ts,J(1))}})}),mg$(window).off("resize").on("resize",function(){ge.setContainerHeight("allguides")}),pe(()=>{document.removeEventListener("forwardTraversal",G),n(6,ge.isForwardListenerAttached=!1,ge),Y(),W(),N(),B(),K(),Q(),Z(),T(),R()}),null),k=null,x=null,L=null,E=null,M=null;s=ge.sortDataByActiveFilter(s,"category_title",t),a=ge.sortDataByActiveFilter(a,"category_title",t),g=ge.sortDataByActiveFilter(g,"tour_title",t);return e.$$.update=()=>{63&e.$$.dirty[0]&&null!=E&&null!=M&&E!=M&&(l.length<1?n(0,[s[E],s[M]]=[s[M],s[E]],s):a&&0<a.length?n(2,[a[E],a[M]]=[a[M],a[E]],a):g&&n(3,[g[E],g[M]]=[g[M],g[E]],g),n(4,E=M)),8388608&e.$$.dirty[0]&&0<=u.length&&j()},[s,l,a,g,E,M,ge,c,_,void 0,q,X,k,x,L,p,G,V,function(e){return!m&&!("smartTip"===e.tour_type&&"desktop"===e.tour_settings.tour_type||"bot"===e.tour_type&&GmCXt.isPlayer())&&("smartTip"!==e.tour_type||GmCXt.FT.creatorApp)},function(e){if("pin"==e.detail.action){let t=e.detail.tour;t.pin=!0,n(23,u=[...u,t]),n(3,g=g.filter(e=>e.tour_id!==t.tour_id))}else if("unpin"==e.detail.action){let t=e.detail.tour;n(23,u=u.filter(e=>e.tour_id!==t.tour_id)),t.pin=!1,n(3,g=[...g,t]),n(3,g=g.sort((e,t)=>e.tour_order-t.tour_order))}},ee,te,function(e){G(e)},u,(e,t,a)=>{n(11,X=a.clientY),n(13,x=e),n(4,E=t),n(14,L=e.category_id),n(12,k=a.target.getBoundingClientRect().y-a.clientY)},e=>{n(11,X=e.clientY)},(e,t)=>{n(5,M=e)},e=>{ee(s),n(14,L=null),n(5,M=null)},(e,t,a)=>{n(11,X=a.clientY),n(13,x=e),n(4,E=t),n(14,L=e.category_id),n(12,k=a.target.getBoundingClientRect().y-a.clientY)},e=>{n(11,X=e.clientY)},(e,t)=>{n(5,M=e)},e=>{ee(a),n(14,L=null),n(5,M=null)},function(e,t){e[t].automate=this.checked,n(8,_)},e=>ge.onChangeSelectedTourForAutomation(e),(e,t,a)=>{n(11,X=a.clientY),n(13,x=e),n(4,E=t),n(14,L=e.tour_id),n(12,k=a.target.getBoundingClientRect().y-a.clientY)},e=>{n(11,X=e.clientY)},(e,t)=>{n(5,M=e)},e=>{te(g),n(14,L=null),n(5,M=null)},function(e,t){e[t].automate=this.checked,n(3,g),n(4,E),n(5,M),n(1,l),n(0,s),n(2,a)},e=>ge.onChangeSelectedTourForAutomation(e),function(e){ue[e?"unshift":"push"](()=>{F=e,n(9,F)})}]}class rs extends e{constructor(e){super(),t(this,e,as,es,g,{},null,[-1,-1,-1])}}function is(a){let r,i,n=ge.svgs.myGuide+"",s,l,o,c;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.preview,$e(i,"id","mgPlayerJSqa_btn-tour-action-preview"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_guide-view-header-panel-icons mgPlayerJSqa_header-icon-preview mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center"),$e(i,"aria-label","preview smartTip"),$e(l,"class","mgPlayerJSqa_guide-view-header-panel-icons-text"),$e(r,"id","mgPlayerJSqa_guide-play-mode-preview-container"),$e(r,"class","mgPlayerJSqa_guide-view-header-panel mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_flex-direction-column")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),o||(c=De(i,"click",a[9]),o=!0)},p:we,d(e){e&&Le(r),o=!1,c()}}}function ns(e){let a=e[4](),r,i=e[5](),n,s=e[6](),l,o=e[7](),c,g=a&&function(a){let r,i,n,s=ge.svgs.myGuide+"",l,o=a[2](a[0])!==ge.playGuideMe&&!GmCXt.FT.isPlayer&&!a[0].is_published&&!ge.hideMirrorAppCtrl(),c,g=a[2](a[0])===ge.playGuideMe&&GmCXt.FT.creatorApp&&!a[0].is_published,m,d,p,u,h,y=o&&ss(a),_=g&&ls();return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("button"),l=Ie(),y&&y.c(),c=Ie(),_&&_.c(),m=Ie(),(d=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.guideMe,$e(n,"id","mgPlayerJSqa_btn-tour-action-guideme"),$e(n,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_guide-view-header-panel-icons mgPlayerJSqa_header-icon-guideme mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_active-play-mode"),$e(n,"aria-label","GuideMe"),Oe(n,"mgPlayerJSqa_active-play-mode","guideMe"===a[2](a[0])),$e(i,"class","mgPlayerJSqa_guide-play-mode-wrapper mgPlayerJSqa_position-relative"),$e(d,"class","mgPlayerJSqa_guide-view-header-panel-icons-text"),$e(r,"id","mgPlayerJSqa_guide-play-mode-guide-container"),$e(r,"class",p="mgPlayerJSqa_guide-view-header-panel mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_flex-direction-column "+(a[0].is_published?"published-tour":""))},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),n.innerHTML=s,ke(i,l),y&&y.m(i,null),ke(i,c),_&&_.m(i,null),ke(r,m),ke(r,d),u||(h=De(n,"click",a[10]),u=!0)},p(e,t){5&t&&Oe(n,"mgPlayerJSqa_active-play-mode","guideMe"===e[2](e[0])),(o=1&t?e[2](e[0])!==ge.playGuideMe&&!GmCXt.FT.isPlayer&&!e[0].is_published&&!ge.hideMirrorAppCtrl():o)?y?y.p(e,t):((y=ss(e)).c(),y.m(i,c)):y&&(y.d(1),y=null),(g=1&t?e[2](e[0])===ge.playGuideMe&&GmCXt.FT.creatorApp&&!e[0].is_published:g)?_?_.p(e,t):((_=ls()).c(),_.m(i,null)):_&&(_.d(1),_=null),1&t&&p!==(p="mgPlayerJSqa_guide-view-header-panel mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_flex-direction-column "+(e[0].is_published?"published-tour":""))&&$e(r,"class",p)},d(e){e&&Le(r),y&&y.d(),_&&_.d(),u=!1,h()}}}(e),m=i&&function(a){let r,i,n,s=ge.svgs.myShow+"",l,o=!(a[2](a[0])===ge.playSlideshow||GmCXt.FT.isPlayer||a[0].is_published||ge.hideMirrorAppCtrl()||ge.isDesktopApp()),c,g=a[2](a[0])===ge.playSlideshow&&GmCXt.FT.creatorApp&&!a[0].is_published,m,d,p,u,h,y=o&&os(a),_=g&&cs();return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("button"),l=Ie(),y&&y.c(),c=Ie(),_&&_.c(),m=Ie(),(d=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.showMe,$e(n,"id","mgPlayerJSqa_btn-tour-action-showme"),$e(n,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_guide-view-header-panel-icons mgPlayerJSqa_header-icon-showme mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center"),Oe(n,"mgPlayerJSqa_active-play-mode","slideshow"===a[2](a[0])),$e(i,"class","mgPlayerJSqa_guide-play-mode-wrapper mgPlayerJSqa_position-relative"),$e(d,"class","mgPlayerJSqa_guide-view-header-panel-icons-text"),$e(r,"id","mgPlayerJSqa_guide-play-mode-showme-container"),$e(r,"class",p="mgPlayerJSqa_guide-view-header-panel mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_flex-direction-column "+(a[0].is_published?"published-tour":""))},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),n.innerHTML=s,ke(i,l),y&&y.m(i,null),ke(i,c),_&&_.m(i,null),ke(r,m),ke(r,d),u||(h=De(n,"click",a[12]),u=!0)},p(e,t){5&t&&Oe(n,"mgPlayerJSqa_active-play-mode","slideshow"===e[2](e[0])),(o=1&t?!(e[2](e[0])===ge.playSlideshow||GmCXt.FT.isPlayer||e[0].is_published||ge.hideMirrorAppCtrl()||ge.isDesktopApp()):o)?y?y.p(e,t):((y=os(e)).c(),y.m(i,c)):y&&(y.d(1),y=null),(g=1&t?e[2](e[0])===ge.playSlideshow&&GmCXt.FT.creatorApp&&!e[0].is_published:g)?_?_.p(e,t):((_=cs()).c(),_.m(i,null)):_&&(_.d(1),_=null),1&t&&p!==(p="mgPlayerJSqa_guide-view-header-panel mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_flex-direction-column "+(e[0].is_published?"published-tour":""))&&$e(r,"class",p)},d(e){e&&Le(r),y&&y.d(),_&&_.d(),u=!1,h()}}}(e),d=s&&function(a){let r,i,n,s=ge.svgs.myBot+"",l,o=a[2](a[0])!==ge.playAuto&&!GmCXt.FT.isPlayer&&!a[0].is_published&&!ge.hideMirrorAppCtrl(),c,g=a[2](a[0])===ge.playAuto&&GmCXt.FT.creatorApp&&!a[0].is_published,m,d,p,u,h,y=o&&gs(a),_=g&&ms();return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("button"),l=Ie(),y&&y.c(),c=Ie(),_&&_.c(),m=Ie(),(d=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.doItForMe,$e(n,"id","mgPlayerJSqa_btn-tour-action-doitforme"),$e(n,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_guide-view-header-panel-icons mgPlayerJSqa_header-icon-doit mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center"),Oe(n,"mgPlayerJSqa_active-play-mode","doitforme"===a[2](a[0])),$e(i,"class","mgPlayerJSqa_guide-play-mode-wrapper mgPlayerJSqa_position-relative"),$e(d,"class","mgPlayerJSqa_guide-view-header-panel-icons-text"),$e(r,"id","mgPlayerJSqa_guide-play-mode-doitforme-container"),$e(r,"class",p="mgPlayerJSqa_guide-view-header-panel mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_flex-direction-column "+(a[0].is_published?"published-tour":""))},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),n.innerHTML=s,ke(i,l),y&&y.m(i,null),ke(i,c),_&&_.m(i,null),ke(r,m),ke(r,d),u||(h=De(n,"click",a[14]),u=!0)},p(e,t){5&t&&Oe(n,"mgPlayerJSqa_active-play-mode","doitforme"===e[2](e[0])),(o=1&t?e[2](e[0])!==ge.playAuto&&!GmCXt.FT.isPlayer&&!e[0].is_published&&!ge.hideMirrorAppCtrl():o)?y?y.p(e,t):((y=gs(e)).c(),y.m(i,c)):y&&(y.d(1),y=null),(g=1&t?e[2](e[0])===ge.playAuto&&GmCXt.FT.creatorApp&&!e[0].is_published:g)?_?_.p(e,t):((_=ms()).c(),_.m(i,null)):_&&(_.d(1),_=null),1&t&&p!==(p="mgPlayerJSqa_guide-view-header-panel mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_flex-direction-column "+(e[0].is_published?"published-tour":""))&&$e(r,"class",p)},d(e){e&&Le(r),y&&y.d(),_&&_.d(),u=!1,h()}}}(e),p=o&&function(a){let r,i,n=ge.svgs.myTest+"",s,l,o,c,g;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.testMe,$e(i,"id","mgPlayerJSqa_btn-tour-action-testme"),$e(i,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_guide-view-header-panel-icons mgPlayerJSqa_header-icon-doit mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center"),$e(i,"aria-label","TestMe"),Oe(i,"mgPlayerJSqa_active-play-mode","testMe"===a[2](a[0])),$e(l,"class","mgPlayerJSqa_guide-view-header-panel-icons-text"),$e(r,"id","mgPlayerJSqa_guide-play-mode-testme-container"),$e(r,"class",o="mgPlayerJSqa_guide-view-header-panel mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_flex-direction-column "+(a[0].is_published?"published-tour":"disabled"))},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),c||(g=De(i,"click",a[16]),c=!0)},p(e,t){5&t&&Oe(i,"mgPlayerJSqa_active-play-mode","testMe"===e[2](e[0])),1&t&&o!==(o="mgPlayerJSqa_guide-view-header-panel mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_flex-direction-column "+(e[0].is_published?"published-tour":"disabled"))&&$e(r,"class",o)},d(e){e&&Le(r),c=!1,g()}}}(e);return{c(){g&&g.c(),r=Ie(),m&&m.c(),n=Ie(),d&&d.c(),l=Ie(),p&&p.c(),c=M()},m(e,t){g&&g.m(e,t),xe(e,r,t),m&&m.m(e,t),xe(e,n,t),d&&d.m(e,t),xe(e,l,t),p&&p.m(e,t),xe(e,c,t)},p(e,t){a&&g.p(e,t),i&&m.p(e,t),s&&d.p(e,t),o&&p.p(e,t)},d(e){e&&(Le(r),Le(n),Le(l),Le(c)),g&&g.d(e),m&&m.d(e),d&&d.d(e),p&&p.d(e)}}}function ss(a){let r,i,n;return{c(){$e(r=Ee("input"),"type","radio"),$e(r,"class","mgPlayerJSqa_input-radio-custom mgPlayerJSqa_opacity mgPlayerJSqa_opacity-2"),$e(r,"name","mgPlayerJSqa_guide-play-mode")},m(e,t){xe(e,r,t),i||(n=De(r,"click",a[11]),i=!0)},p:we,d(e){e&&Le(r),i=!1,n()}}}function ls(){let a,r,i=GmCXt.svgs.doubleTick+"",n,s,l;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Ie(),s=Ee("wmgPlayerJSqa_"),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.defaultGuidePlayAction,$e(l,"class","mgPlayerJSqa_tooltip-title"),$e(s,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-top-right mgPlayerJSqa_margin-tb-5"),$e(a,"class","mgPlayerJSqa_selected-mode-tick mgPlayerJSqa_position-relative")},m(e,t){xe(e,a,t),ke(a,r),r.innerHTML=i,ke(a,n),ke(a,s),ke(s,l)},p:we,d(e){e&&Le(a)}}}function os(a){let r,i,n;return{c(){$e(r=Ee("input"),"type","radio"),$e(r,"class","mgPlayerJSqa_input-radio-custom mgPlayerJSqa_opacity mgPlayerJSqa_opacity-2"),$e(r,"name","mgPlayerJSqa_guide-play-mode")},m(e,t){xe(e,r,t),i||(n=De(r,"click",a[13]),i=!0)},p:we,d(e){e&&Le(r),i=!1,n()}}}function cs(){let a,r,i=GmCXt.svgs.doubleTick+"",n,s,l;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Ie(),s=Ee("wmgPlayerJSqa_"),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.defaultGuidePlayAction,$e(l,"class","mgPlayerJSqa_tooltip-title"),$e(s,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-top-right mgPlayerJSqa_margin-tb-5"),$e(a,"class","mgPlayerJSqa_selected-mode-tick mgPlayerJSqa_position-relative")},m(e,t){xe(e,a,t),ke(a,r),r.innerHTML=i,ke(a,n),ke(a,s),ke(s,l)},p:we,d(e){e&&Le(a)}}}function gs(a){let r,i,n;return{c(){$e(r=Ee("input"),"type","radio"),$e(r,"class","mgPlayerJSqa_input-radio-custom mgPlayerJSqa_opacity mgPlayerJSqa_opacity-2"),$e(r,"name","mgPlayerJSqa_guide-play-mode")},m(e,t){xe(e,r,t),i||(n=De(r,"click",a[15]),i=!0)},p:we,d(e){e&&Le(r),i=!1,n()}}}function ms(){let a,r,i=GmCXt.svgs.doubleTick+"",n,s,l;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Ie(),s=Ee("wmgPlayerJSqa_"),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.defaultGuidePlayAction,$e(l,"class","mgPlayerJSqa_tooltip-title"),$e(s,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-top-right mgPlayerJSqa_margin-tb-5"),$e(a,"class","mgPlayerJSqa_selected-mode-tick mgPlayerJSqa_position-relative")},m(e,t){xe(e,a,t),ke(a,r),r.innerHTML=i,ke(a,n),ke(a,s),ke(s,l)},p:we,d(e){e&&Le(a)}}}function ds(e){let a,r,i=ge.isTooltip(e[0])&&0<e[0].step_count,n,s=!ge.isAnnouncement(e[0]),l,o=i&&is(e),c=s&&ns(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),o&&o.c(),n=Ie(),c&&c.c(),$e(r,"class",ge.isAiSuggesionSteps?"mgPlayerJSqa_display-none":"mgPlayerJSqa_inline-block-vm"),$e(a,"class",l="mgPlayerJSqa_guide-view-header-panel-container mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between "+(e[0].isEditMode?"mgPlayerJSqa_disabled":""))},m(e,t){xe(e,a,t),ke(a,r),o&&o.m(r,null),ke(r,n),c&&c.m(r,null)},p(e,[t]){(i=1&t?ge.isTooltip(e[0])&&0<e[0].step_count:i)?o?o.p(e,t):((o=is(e)).c(),o.m(r,n)):o&&(o.d(1),o=null),(s=1&t?!ge.isAnnouncement(e[0]):s)?c?c.p(e,t):((c=ns(e)).c(),c.m(r,null)):c&&(c.d(1),c=null),1&t&&l!==(l="mgPlayerJSqa_guide-view-header-panel-container mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between "+(e[0].isEditMode?"mgPlayerJSqa_disabled":""))&&$e(a,"class",l)},i:we,o:we,d(e){e&&Le(a),o&&o.d(),c&&c.d()}}}function ps(e,t,a){let r=ce(me.currentTour);const i=me.currentTour.subscribe(e=>{a(0,r=e)}),n=(pe(()=>{i()}),(e,t,a)=>{if(e.stopPropagation(),"doitforme"===t&&GmCXt.disableDoItForMe)return D.open(ge.labels.doitForMeWarning,"warning"),!1;ge.guideAction(t,a,r,ce(me.CurrentPage),"")});const s=()=>{var e=ce(me.currentTour);GmCXt.isHowToGuide(e)||(e.steps.filter(function(e){return"inline"===e.step_type}).length?new vr({target:document.body,props:{showTestMe:!0,tour:e}}):ge.showPopup(ge.labels.noInappStepInGuide))};function l(){(e=JSON.parse(JSON.stringify(r))).is_published=!0;var e={action:"mgPlayerJSqa_action:preview_smarttip",data:[e]};GmCXt.handlePreviewTooltip(e)}de(()=>{GmCXt.isPlayer()&&ge.bindPlayerTheme()});return[r,n,e=>{let t=e.tour_settings.defaultPlayAction;return"Default"===t&&(t=GmCXt.getAppSetting("defaultPlayAction")),t=GmCXt.isHowToGuide(e)?ge.playSlideshow:t},s,()=>{var e=ce(me.currentTour);if(!e||GmCXt.isHowToGuide(e))return!1;var t=ge.existsOrUndefined(GmCXt.getAppSetting("guideMeSetting"));let a=!0;var r=GmCXt.createDeepCopy(e.tour_settings);void 0!==r.defaultPlayAction&&"Default"!==r.defaultPlayAction||(r.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(a=r.defaultPlayAction===ge.playGuideMe||r.defaultPlayAction===ge.playSlideshow&&ge.enableGuidemeMode);let i=GmCXt.isGuide(e)&&!ge.isDesktopGuide(e)&&!ge.isMobileGuide(e);return!!((i=window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer?GmCXt.isGuide(e)&&ge.isDesktopGuide(e)&&!ge.isMobileGuide(e):i)&&t&&a)},()=>{var e=ce(me.currentTour);if(ge.isOnlySurveyGuide(e))return!1;var t,a=ge.existsOrUndefined(GmCXt.getAppSetting("showMeSetting"));let r=!0;return ge.isDesktopApp()?r:(void 0!==(t=GmCXt.createDeepCopy(e.tour_settings)).defaultPlayAction&&"Default"!==t.defaultPlayAction||(t.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(r=t.defaultPlayAction===ge.playGuideMe||t.defaultPlayAction===ge.playSlideshow),t=GmCXt.isGuide(e)||ge.isCADGuide(e)||ge.isDesktopGuide(e)||ge.isMobileGuide(e)||GmCXt.isOnboarding(e)||GmCXt.isHowToGuide(e),GmCXt.FT.showMe&&a&&r&&t)},()=>{var e=ce(me.currentTour);if(ge.isOnlySurveyGuide(e)||GmCXt.isHowToGuide(e))return!1;let t=!0;var a=GmCXt.createDeepCopy(e.tour_settings);return void 0!==a.defaultPlayAction&&"Default"!==a.defaultPlayAction||(a.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(t=a.defaultPlayAction===ge.playAuto),ge._doitforme&&!ge.isCADGuide(e)&&GmCXt.isGuide(e)&&!ge.isDesktopGuide(e)&&!ge.isMobileGuide(e)&&t},()=>{var e=ce(me.currentTour);if(ge.isOnlySurveyGuide(e)||GmCXt.isHowToGuide(e))return!1;var t=ge.existsOrUndefined(GmCXt.getAppSetting("testMeSetting"));let a=!0;var r=GmCXt.createDeepCopy(e.tour_settings),r=(void 0!==r.defaultPlayAction&&"Default"!==r.defaultPlayAction||(r.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(a=r.defaultPlayAction===ge.playGuideMe),GmCXt.isGuide(e)&&!ge.isDesktopGuide(e)&&!ge.isMobileGuide(e)&&!GmCXt.containBranchStep(e));return GmCXt.FT.testme&&t&&a&&r},l,()=>l(),e=>n(e,"",""),()=>{a(0,r.tour_settings.defaultPlayAction="guideMe",r),ge.updateTourData(r)},e=>n(e,"slideshow"),()=>{a(0,r.tour_settings.defaultPlayAction="slideshow",r),ge.updateTourData(r)},e=>n(e,"doitforme"),()=>{a(0,r.tour_settings.defaultPlayAction="doitforme",r),ge.updateTourData(r)},e=>s()]}class us extends e{constructor(e){super(),t(this,e,ps,ds,g,{})}}function hs(e){l(e,"svelte-hv9a3t",".mgPlayerJSqa_tg-img.svelte-hv9a3t{width:100%;height:100%}")}function ys(a){let r,i,n,s,l,o,c;const g=[Ss,_s],m=[];function d(e,t){return(i=null==(i=2&t[0]?null:i)?!!GmCXt.isOnboarding(e[1]):i)?0:1}return n=d(a,[-1,-1]),s=m[n]=g[n](a),{c(){r=Ee("wmgPlayerJSqa_"),s.c()},m(e,t){xe(e,r,t),m[n].m(r,null),l=!0,o||(c=De(r,"click",a[10]),o=!0)},p(e,t){let a=n;(n=d(e,t))===a?m[n].p(e,t):(Re(),Be(m[a],1,1,()=>{m[a]=null}),He(),(s=m[n])?s.p(e,t):(s=m[n]=g[n](e)).c(),Ne(s,1),s.m(r,null))},i(e){l||(Ne(s),l=!0)},o(e){Be(s),l=!1},d(e){e&&Le(r),m[n].d(),o=!1,c()}}}function _s(e){let r,i,a,n,s,l,o,c,g;const m=[Cs,Ps,fs],d=[];function p(e,t){return(a=null==(a=3&t[0]?null:a)?!(!ge.isTrackingGuide(e[1])||(e[0].isEdit||e[0].isCreation)&&e[1].isEditMode):a)?0:(e[0].isEdit||e[0].isCreation)&&e[1].isEditMode?(e[0].isEdit||e[0].isCreation)&&e[1].isEditMode?2:-1:1}return~(n=p(e,[-1,-1]))&&(s=d[n]=m[n](e)),{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s&&s.c(),$e(i,"id",l="mgPlayerJSqa_step-"+e[0].step_id),$e(i,"class",o="mgPlayerJSqa_ege-inline-block-vt mgPlayerJSqa_step-title-description-wrapper "+(e[0].isEdit||e[0].isCreation?"mgPlayerJSqa_step-add-edit-view":"")+" "+("fail"===e[4]?"mgPlayerJSqa_step-failed-view":"")+" "+(ge.isTrackingGuide(e[1])?"mgPlayerJSqa_feature-tag-step-wrapper":"")),$e(r,"class",c="mgPlayerJSqa_step-item "+(ge.showBranchView(e[1])?"mgPlayerJSqa_branch-step-add-wrapper":"")),Oe(r,"mgPlayerJSqa_disabled",e[5]===GmCXt.STEP_EDIT_OPERATION&&!e[0].isEdit)},m(e,t){xe(e,r,t),ke(r,i),~n&&d[n].m(i,null),g=!0},p(e,t){let a=n;(n=p(e,t))===a?~n&&d[n].p(e,t):(s&&(Re(),Be(d[a],1,1,()=>{d[a]=null}),He()),~n?((s=d[n])?s.p(e,t):(s=d[n]=m[n](e)).c(),Ne(s,1),s.m(i,null)):s=null),(!g||1&t[0]&&l!==(l="mgPlayerJSqa_step-"+e[0].step_id))&&$e(i,"id",l),(!g||19&t[0]&&o!==(o="mgPlayerJSqa_ege-inline-block-vt mgPlayerJSqa_step-title-description-wrapper "+(e[0].isEdit||e[0].isCreation?"mgPlayerJSqa_step-add-edit-view":"")+" "+("fail"===e[4]?"mgPlayerJSqa_step-failed-view":"")+" "+(ge.isTrackingGuide(e[1])?"mgPlayerJSqa_feature-tag-step-wrapper":"")))&&$e(i,"class",o),(!g||2&t[0]&&c!==(c="mgPlayerJSqa_step-item "+(ge.showBranchView(e[1])?"mgPlayerJSqa_branch-step-add-wrapper":"")))&&$e(r,"class",c),(!g||35&t[0])&&Oe(r,"mgPlayerJSqa_disabled",e[5]===GmCXt.STEP_EDIT_OPERATION&&!e[0].isEdit)},i(e){g||(Ne(s),g=!0)},o(e){Be(s),g=!1},d(e){e&&Le(r),~n&&d[n].d()}}}function Ss(e){let a,r,i=e[2]+1+"",n,s,l,o,c=GmCXt.FT.creatorApp&&ge.hasTourAccess(e[1])&&!ge.hideMirrorAppCtrl()&&!ge.isAnnouncement(e[1])&&!ge.isUploadTutorial(e[1])&&!(e[1]?.is_published&&"video"==e[0].step_type),g,m=0<e[0].step_video||-1==e[0].screen_url.indexOf("default_icon"),d,p=ge.isUploadTutorial(e[1]),u,h,y=ml(e[0])+"",_,S,f,P=!ge.isAnnouncement(e[1]),C,b=!ge.hideMirrorAppCtrl()&&!ge.isAnnouncement(e[1])&&!ge.isUploadTutorial(e[1]),q,v=c&&el(e),w=m&&rl(e),J=p&&sl(),G=P&&ll(e),A=b&&ol(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),l=Ee("dnd-nodrag"),o=Ee("wmgPlayerJSqa_"),v&&v.c(),g=Ie(),w&&w.c(),d=Ie(),J&&J.c(),u=Ie(),h=Ee("wmgPlayerJSqa_"),S=Ie(),f=Ee("wmgPlayerJSqa_"),G&&G.c(),C=Ie(),A&&A.c(),$e(r,"class","mgPlayerJSqa_font-size-15 mgPlayerJSqa_font-weight-550"),$e(o,"class","mgPlayerJSqa_tg-btn-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between"),ee(l,"class","mgPlayerJSqa_dnd-nodrag-inline-block mgPlayerJSqa_step-action-menu-wrapper"),$e(a,"class","mgPlayerJSqa_tg-view-header mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_padding-20"),$e(h,"class",_="mgPlayerJSqa_tg-content-wrapper "+(0==e[0].step_video&&0<=e[0].screen_url.indexOf("default_icon")?"mgPlayerJSqa_min-tg-content-wrapper":"")),$e(f,"class","mgPlayerJSqa_step-overlay")},m(e,t){xe(e,a,t),ke(a,r),ke(r,n),ke(a,s),ke(a,l),ke(l,o),v&&v.m(o,null),xe(e,g,t),w&&w.m(e,t),xe(e,d,t),J&&J.m(e,t),xe(e,u,t),xe(e,h,t),h.innerHTML=y,xe(e,S,t),xe(e,f,t),G&&G.m(f,null),ke(f,C),A&&A.m(f,null),q=!0},p(e,t){(!q||4&t[0])&&i!==(i=e[2]+1+"")&&Fe(n,i),(c=3&t[0]?GmCXt.FT.creatorApp&&ge.hasTourAccess(e[1])&&!ge.hideMirrorAppCtrl()&&!ge.isAnnouncement(e[1])&&!ge.isUploadTutorial(e[1])&&!(e[1]?.is_published&&"video"==e[0].step_type):c)?v?v.p(e,t):((v=el(e)).c(),v.m(o,null)):v&&(v.d(1),v=null),(m=1&t[0]?0<e[0].step_video||-1==e[0].screen_url.indexOf("default_icon"):m)?w?w.p(e,t):((w=rl(e)).c(),w.m(d.parentNode,d)):w&&(w.d(1),w=null),(p=2&t[0]?ge.isUploadTutorial(e[1]):p)?J||((J=sl()).c(),J.m(u.parentNode,u)):J&&(J.d(1),J=null),(!q||1&t[0])&&y!==(y=ml(e[0])+"")&&(h.innerHTML=y),(!q||1&t[0]&&_!==(_="mgPlayerJSqa_tg-content-wrapper "+(0==e[0].step_video&&0<=e[0].screen_url.indexOf("default_icon")?"mgPlayerJSqa_min-tg-content-wrapper":"")))&&$e(h,"class",_),(P=2&t[0]?!ge.isAnnouncement(e[1]):P)?G?G.p(e,t):((G=ll(e)).c(),G.m(f,C)):G&&(G.d(1),G=null),(b=2&t[0]?!ge.hideMirrorAppCtrl()&&!ge.isAnnouncement(e[1])&&!ge.isUploadTutorial(e[1]):b)?A?(A.p(e,t),2&t[0]&&Ne(A,1)):((A=ol(e)).c(),Ne(A,1),A.m(f,null)):A&&(Re(),Be(A,1,1,()=>{A=null}),He())},i(e){q||(Ne(A),q=!0)},o(e){Be(A),q=!1},d(e){e&&(Le(a),Le(g),Le(d),Le(u),Le(h),Le(S),Le(f)),v&&v.d(),w&&w.d(e),J&&J.d(e),G&&G.d(),A&&A.d()}}}function fs(e){let r,i,n,a;const s=[Js,ws,vs,qs,bs],l=[];function o(e){return e[0].step_type===GmCXt.STEP_TYPE_INLINE?0:e[0].step_type===GmCXt.STEP_TYPE_MESSAGE?1:e[0].step_type===GmCXt.STEP_TYPE_IMAGE?2:e[0].step_type===GmCXt.STEP_TYPE_SMART_TIP?3:e[0].step_type===GmCXt.STEP_TYPE_TAG?4:-1}return~(r=o(e))&&(i=l[r]=s[r](e)),{c(){i&&i.c(),n=M()},m(e,t){~r&&l[r].m(e,t),xe(e,n,t),a=!0},p(e,t){let a=r;(r=o(e))===a?~r&&l[r].p(e,t):(i&&(Re(),Be(l[a],1,1,()=>{l[a]=null}),He()),~r?((i=l[r])?i.p(e,t):(i=l[r]=s[r](e)).c(),Ne(i,1),i.m(n.parentNode,n)):i=null)},i(e){a||(Ne(i),a=!0)},o(e){Be(i),a=!1},d(e){e&&Le(n),~r&&l[r].d(e)}}}function Ps(a){let r,i,n,s,l=a[2]+1+"",o,c,g=1<a[1].filteredSteps.length&&!a[1]?.is_published&&ge.hasTourAccess(a[1])&&!a[0].step_screen_temp&&!ge.isDesktopApp()&&!ge.hideMirrorAppCtrl()&&!a[1].isEditMode,m,d=0<a[1].filteredSteps.length&&ge.isTooltip(a[1]),p,u,h=GmCXt.truncate(GmCXt.htmlToPlaintext(a[0].step_title),140)+"",$,y,_,S=GmCXt.truncate(GmCXt.htmlToPlaintext(a[0].step_description),150)+"",f,P,C,b,q,v=a[5]===GmCXt.STEP_VIEW_OPERATION&&ge.isUserLoggedIn()&&GmCXt.FT.creatorApp&&ge.hasTourAccess(a[1])&&!ge.hideMirrorAppCtrl()&&!(a[1]?.is_published&&"video"===a[0].step_type),w,J,G,A,T,X,F,k=a[0].step_settings?.startPoint&&Gs(),x=g&&As(),L=d&&Ts(a);function O(e,t){return(C=null==(C=2&t[0]?null:C)?!!GmCXt.isOnboarding(e[1]):C)?xs:e[0].step_type===GmCXt.STEP_TYPE_VIDEO?ks:Xs}let E=O(a,[-1,-1]),M=E(a),I=v&&Is(a),D=a[5]===GmCXt.STEP_VIEW_OPERATION&&Bs(a);return{c(){r=Ee("wmgPlayerJSqa_"),k&&k.c(),i=Ie(),n=Ee("dnd-nodrag"),s=Ee("wmgPlayerJSqa_"),o=Me(l),c=Ie(),x&&x.c(),m=Ie(),L&&L.c(),p=Ie(),u=Ee("wmgPlayerJSqa_"),$=Ie(),y=Ee("dnd-nodrag"),_=Ee("wmgPlayerJSqa_"),f=Ie(),P=Ee("wmgPlayerJSqa_"),M.c(),b=Ie(),q=Ee("dnd-nodrag"),I&&I.c(),w=Ie(),J=Ee("wmgPlayerJSqa_"),G=Ee("dnd-nodrag"),A=Ee("wmgPlayerJSqa_"),D&&D.c(),$e(s,"class","mgPlayerJSqa_span mgPlayerJSqa_step-index"),$e(u,"class","mgPlayerJSqa_span mgPlayerJSqa_align-items-center"),ee(n,"class","mgPlayerJSqa_ege-inline-block-vt mgPlayerJSqa_width-100"),$e(_,"class","mgPlayerJSqa_step-view-description-wrapper"),ee(y,"class","mgPlayerJSqa_dnd-nodrag-block mgPlayerJSqa_ege-inline-block-vt mgPlayerJSqa_width-100"),$e(r,"class","mgPlayerJSqa_ege-inline-block-vt mgPlayerJSqa_step-title-wrapper mgPlayerJSqa_align-items-center"),$e(P,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_step-image-wrapper mgPlayerJSqa_step-image-wrapper-head"),ee(q,"class","mgPlayerJSqa_dnd-nodrag-inline-block mgPlayerJSqa_step-action-menu-wrapper"),$e(A,"class","mgPlayerJSqa_step-image-wrapper mgPlayerJSqa_width-100"),ee(G,"class","mgPlayerJSqa_dnd-nodrag-block"),$e(J,"class","mgPlayerJSqa_dnd-nodrag-block")},m(e,t){xe(e,r,t),k&&k.m(r,null),ke(r,i),ke(r,n),ke(n,s),ke(s,o),ke(n,c),x&&x.m(n,null),ke(n,m),L&&L.m(n,null),ke(n,p),ke(n,u),u.innerHTML=h,ke(r,$),ke(r,y),ke(y,_),_.innerHTML=S,xe(e,f,t),xe(e,P,t),M.m(P,null),xe(e,b,t),xe(e,q,t),I&&I.m(q,null),xe(e,w,t),xe(e,J,t),ke(J,G),ke(G,A),D&&D.m(A,null),T=!0,X||(F=[De(r,"click",function(){Y(a[1].isEditMode||a[0].isEdit&&a[0].isCreation?"":a[26])&&(a[1].isEditMode||a[0].isEdit&&a[0].isCreation?"":a[26]).apply(this,arguments)}),De(P,"click",function(){Y(a[1].isEditMode||a[0].isEdit&&a[0].isCreation?"":a[27])&&(a[1].isEditMode||a[0].isEdit&&a[0].isCreation?"":a[27]).apply(this,arguments)})],X=!0)},p(e,t){(a=e)[0].step_settings?.startPoint?k||((k=Gs()).c(),k.m(r,i)):k&&(k.d(1),k=null),(!T||4&t[0])&&l!==(l=a[2]+1+"")&&Fe(o,l),(g=3&t[0]?1<a[1].filteredSteps.length&&!a[1]?.is_published&&ge.hasTourAccess(a[1])&&!a[0].step_screen_temp&&!ge.isDesktopApp()&&!ge.hideMirrorAppCtrl()&&!a[1].isEditMode:g)?x||((x=As()).c(),x.m(n,m)):x&&(x.d(1),x=null),(d=2&t[0]?0<a[1].filteredSteps.length&&ge.isTooltip(a[1]):d)?L?L.p(a,t):((L=Ts(a)).c(),L.m(n,p)):L&&(L.d(1),L=null),(!T||1&t[0])&&h!==(h=GmCXt.truncate(GmCXt.htmlToPlaintext(a[0].step_title),140)+"")&&(u.innerHTML=h),(!T||1&t[0])&&S!==(S=GmCXt.truncate(GmCXt.htmlToPlaintext(a[0].step_description),150)+"")&&(_.innerHTML=S),E===(E=O(a,t))&&M?M.p(a,t):(M.d(1),(M=E(a))&&(M.c(),M.m(P,null))),(v=35&t[0]?a[5]===GmCXt.STEP_VIEW_OPERATION&&ge.isUserLoggedIn()&&GmCXt.FT.creatorApp&&ge.hasTourAccess(a[1])&&!ge.hideMirrorAppCtrl()&&!(a[1]?.is_published&&"video"===a[0].step_type):v)?I?I.p(a,t):((I=Is(a)).c(),I.m(q,null)):I&&(I.d(1),I=null),a[5]===GmCXt.STEP_VIEW_OPERATION?D?(D.p(a,t),32&t[0]&&Ne(D,1)):((D=Bs(a)).c(),Ne(D,1),D.m(A,null)):D&&(Re(),Be(D,1,1,()=>{D=null}),He())},i(e){T||(Ne(D),T=!0)},o(e){Be(D),T=!1},d(e){e&&(Le(r),Le(f),Le(P),Le(b),Le(q),Le(w),Le(J)),k&&k.d(),x&&x.d(),L&&L.d(),M.d(),I&&I.d(),D&&D.d(),X=!1,Xe(F)}}}function Cs(e){let a,r,i,n,s=ge.svgs.iconAddStepInline+"",l,o,c=ge.svgs.endTracking+"",g,m,d=ge.svgs.terminate+"",p,u,h=ge.svgs.captureEvents+"",y,_,S,f,P,C=e[5]===GmCXt.STEP_VIEW_OPERATION&&ge.isUserLoggedIn()&&GmCXt.FT.creatorApp&&ge.hasTourAccess(e[1])&&!ge.hideMirrorAppCtrl()&&!(e[1]?.is_published&&"video"==e[0].step_type),b,q,v=e[7](),w,J="smartTip"!==!e[0].step_type&&zs(e),G=C&&Us(e),A=v&&function(e){let a,r,i=e[8](e[0])&&!e[1]?.is_published,n,s,l,o,c,g=i&&Zs(e),m=e[0].step_screen_temp&&Ys(e),d=e[0].previewImage&&Ks(e),p=e[0].image_url&&Qs(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),g&&g.c(),n=Ie(),m&&m.c(),s=Ie(),d&&d.c(),l=Ie(),p&&p.c(),$e(r,"class","mgPlayerJSqa_step-image-overlay"),$e(a,"class",o="mgPlayerJSqa_step-image-wrapper "+("tag"===e[0].step_type?"mgPlayerJSqa_tag-step-img-wrapper":""))},m(e,t){xe(e,a,t),ke(a,r),g&&g.m(r,null),ke(a,n),m&&m.m(a,null),ke(a,s),d&&d.m(a,null),ke(a,l),p&&p.m(a,null),c=!0},p(e,t){(i=3&t[0]?e[8](e[0])&&!e[1]?.is_published:i)?g?(g.p(e,t),3&t[0]&&Ne(g,1)):((g=Zs(e)).c(),Ne(g,1),g.m(r,null)):g&&(Re(),Be(g,1,1,()=>{g=null}),He()),e[0].step_screen_temp?m?m.p(e,t):((m=Ys(e)).c(),m.m(a,s)):m&&(m.d(1),m=null),e[0].previewImage?d?d.p(e,t):((d=Ks(e)).c(),d.m(a,l)):d&&(d.d(1),d=null),e[0].image_url?p?p.p(e,t):((p=Qs(e)).c(),p.m(a,null)):p&&(p.d(1),p=null),(!c||1&t[0]&&o!==(o="mgPlayerJSqa_step-image-wrapper "+("tag"===e[0].step_type?"mgPlayerJSqa_tag-step-img-wrapper":"")))&&$e(a,"class",o)},i(e){c||(Ne(g),c=!0)},o(e){Be(g),c=!1},d(e){e&&Le(a),g&&g.d(),m&&m.d(),d&&d.d(),p&&p.d()}}}(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("dnd-nodrag"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),l=Ie(),o=Ee("wmgPlayerJSqa_"),g=Ie(),m=Ee("wmgPlayerJSqa_"),p=Ie(),u=Ee("wmgPlayerJSqa_"),y=Ie(),_=Ee("dnd-nodrag"),S=Me("Â \n\t\t\t\t\t\t\t\t"),J&&J.c(),f=Ie(),P=Ee("dnd-nodrag"),G&&G.c(),b=Ie(),q=Ee("dnd-nodrag"),A&&A.c(),Ge(n,"display",e[0].step_settings&&"start"===e[0].step_settings.trackerType?"":"none"),$e(n,"class","mgPlayerJSqa_inline-block-vm"),Ge(o,"display",e[0].step_settings&&"cancel"===e[0].step_settings.trackerType?"":"none"),$e(o,"class","mgPlayerJSqa_inline-block-vm"),Ge(m,"display",e[0].step_settings&&"end"===e[0].step_settings.trackerType?"":"none"),$e(m,"class","mgPlayerJSqa_inline-block-vm"),Ge(u,"display","tag"===e[0].step_type?"":"none"),$e(u,"class","mgPlayerJSqa_inline-block-vm"),$e(i,"class","mgPlayerJSqa_icon-step-insights mgPlayerJSqa_inline-block-vm"),ee(r,"class","mgPlayerJSqa_dnd-nodrag-inline-block"),ee(_,"class","mgPlayerJSqa_dnd-nodrag-inline-block"),$e(a,"class","mgPlayerJSqa_ege-inline-block-vt mgPlayerJSqa_step-title-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center"),ee(P,"class","mgPlayerJSqa_dnd-nodrag-inline-block mgPlayerJSqa_step-action-menu-wrapper"),ee(q,"class","mgPlayerJSqa_dnd-nodrag-block")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),ke(i,n),n.innerHTML=s,ke(i,l),ke(i,o),o.innerHTML=c,ke(i,g),ke(i,m),m.innerHTML=d,ke(i,p),ke(i,u),u.innerHTML=h,ke(a,y),ke(a,_),ke(_,S),J&&J.m(_,null),xe(e,f,t),xe(e,P,t),G&&G.m(P,null),xe(e,b,t),xe(e,q,t),A&&A.m(q,null),w=!0},p(e,t){(!w||1&t[0])&&Ge(n,"display",e[0].step_settings&&"start"===e[0].step_settings.trackerType?"":"none"),(!w||1&t[0])&&Ge(o,"display",e[0].step_settings&&"cancel"===e[0].step_settings.trackerType?"":"none"),(!w||1&t[0])&&Ge(m,"display",e[0].step_settings&&"end"===e[0].step_settings.trackerType?"":"none"),(!w||1&t[0])&&Ge(u,"display","tag"===e[0].step_type?"":"none"),"smartTip"!==!e[0].step_type?J?J.p(e,t):((J=zs(e)).c(),J.m(_,null)):J&&(J.d(1),J=null),(C=35&t[0]?e[5]===GmCXt.STEP_VIEW_OPERATION&&ge.isUserLoggedIn()&&GmCXt.FT.creatorApp&&ge.hasTourAccess(e[1])&&!ge.hideMirrorAppCtrl()&&!(e[1]?.is_published&&"video"==e[0].step_type):C)?G?G.p(e,t):((G=Us(e)).c(),G.m(P,null)):G&&(G.d(1),G=null),v&&A.p(e,t)},i(e){w||(Ne(A),w=!0)},o(e){Be(A),w=!1},d(e){e&&(Le(a),Le(f),Le(P),Le(b),Le(q)),J&&J.d(),G&&G.d(),A&&A.d()}}}function bs(t){let r,i,a;function e(e){t[40](e)}var n={index:t[2],imageStatus:t[4]};return void 0!==t[0]&&(n.step=t[0]),r=new Na({props:n}),ue.push(()=>U(r,"step",e)),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};4&t[0]&&(a.index=e[2]),16&t[0]&&(a.imageStatus=e[4]),!i&&1&t[0]&&(i=!0,a.step=e[0],z(()=>i=!1)),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){Ue(r,e)}}}function qs(t){let r,i,a;function e(e){t[39](e)}var n={index:t[2],imageStatus:t[4]};return void 0!==t[0]&&(n.step=t[0]),r=new Na({props:n}),ue.push(()=>U(r,"step",e)),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};4&t[0]&&(a.index=e[2]),16&t[0]&&(a.imageStatus=e[4]),!i&&1&t[0]&&(i=!0,a.step=e[0],z(()=>i=!1)),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){Ue(r,e)}}}function vs(t){let r,i,a;function e(e){t[38](e)}var n={index:t[2],imageStatus:t[4]};return void 0!==t[0]&&(n.step=t[0]),r=new Na({props:n}),ue.push(()=>U(r,"step",e)),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};4&t[0]&&(a.index=e[2]),16&t[0]&&(a.imageStatus=e[4]),!i&&1&t[0]&&(i=!0,a.step=e[0],z(()=>i=!1)),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){Ue(r,e)}}}function ws(t){let r,i,a;function e(e){t[37](e)}var n={index:t[2],imageStatus:t[4]};return void 0!==t[0]&&(n.step=t[0]),r=new Na({props:n}),ue.push(()=>U(r,"step",e)),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};4&t[0]&&(a.index=e[2]),16&t[0]&&(a.imageStatus=e[4]),!i&&1&t[0]&&(i=!0,a.step=e[0],z(()=>i=!1)),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){Ue(r,e)}}}function Js(t){let r,i,a;function e(e){t[36](e)}var n={index:t[2],imageStatus:t[4]};return void 0!==t[0]&&(n.step=t[0]),r=new Na({props:n}),ue.push(()=>U(r,"step",e)),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};4&t[0]&&(a.index=e[2]),16&t[0]&&(a.imageStatus=e[4]),!i&&1&t[0]&&(i=!0,a.step=e[0],z(()=>i=!1)),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){Ue(r,e)}}}function Gs(){let a,r=ge.svgs.startPoint+"";return{c(){a=Ee("wmgPlayerJSqa_")},m(e,t){xe(e,a,t),a.innerHTML=r},d(e){e&&Le(a)}}}function As(){let a,r=ge.svgs.dragStep+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_drag-step-icon-wrapper")},m(e,t){xe(e,a,t),a.innerHTML=r},d(e){e&&Le(a)}}}function Ts(e){let a,r=e[11](e[0].step_settings.smartTip.type)+"",i;return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class",i="mgPlayerJSqa_tooltip-type-icon-wrapper "+(1===e[1].filteredSteps.length||e[1].isEditMode?"mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex":""))},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t[0]&&r!==(r=e[11](e[0].step_settings.smartTip.type)+"")&&(a.innerHTML=r),2&t[0]&&i!==(i="mgPlayerJSqa_tooltip-type-icon-wrapper "+(1===e[1].filteredSteps.length||e[1].isEditMode?"mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex":""))&&$e(a,"class",i)},d(e){e&&Le(a)}}}function Xs(e){let a,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_step-image mgPlayerJSqa_custom-image"),Q(a.src,r=e[0].step_screen_temp||e[0].preview_image||e[3])||$e(a,"src",r),$e(a,"alt",ge.staticContentPath+"technology.jpg")},m(e,t){xe(e,a,t)},p(e,t){9&t[0]&&!Q(a.src,r=e[0].step_screen_temp||e[0].preview_image||e[3])&&$e(a,"src",r)},d(e){e&&Le(a)}}}function ks(e){let a,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_step-image mgPlayerJSqa_custom-image"),Q(a.src,r=e[0].image_url?e[3]:e[0].step_screen_temp)||$e(a,"src",r),$e(a,"alt",ge.staticContentPath+"technology.jpg")},m(e,t){xe(e,a,t)},p(e,t){9&t[0]&&!Q(a.src,r=e[0].image_url?e[3]:e[0].step_screen_temp)&&$e(a,"src",r)},d(e){e&&Le(a)}}}function xs(e){let a;function r(e){return"upload"===e[1].tour_settings.tutorial_tour_type?Ms:0==e[0].step_video?Es:0!=e[0].step_video?Ls:void 0}let i=r(e),n=i&&i(e);return{c(){n&&n.c(),a=M()},m(e,t){n&&n.m(e,t),xe(e,a,t)},p(e,t){i===(i=r(e))&&n?n.p(e,t):(n&&n.d(1),(n=i&&i(e))&&(n.c(),n.m(a.parentNode,a)))},d(e){e&&Le(a),n&&n.d(e)}}}function Ls(e){let a,r,i;return{c(){a=Ee("video"),Q((r=Ee("source")).src,i=e[0].step_screen_temp||e[3])||$e(r,"src",i),$e(r,"type","video/mp4"),$e(a,"class","mgPlayerJSqa_tg-img svelte-hv9a3t"),a.controls=!0,$e(a,"controlslist","nodownload"),$e(a,"disablepictureinpicture",""),a.muted=!0},m(e,t){xe(e,a,t),ke(a,r)},p(e,t){9&t[0]&&!Q(r.src,i=e[0].step_screen_temp||e[3])&&$e(r,"src",i)},d(e){e&&Le(a)}}}function Es(e){let a,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_step-image mgPlayerJSqa_custom-image"),Ge(a,"object-fit","contain"),Ge(a,"height","250px"),Q(a.src,r=e[0].step_screen_temp||e[0].preview_image||e[3])||$e(a,"src",r),$e(a,"alt",ge.staticContentPath+"technology.jpg")},m(e,t){xe(e,a,t)},p(e,t){9&t[0]&&!Q(a.src,r=e[0].step_screen_temp||e[0].preview_image||e[3])&&$e(a,"src",r)},d(e){e&&Le(a)}}}function Ms(e){let a,r=ge.svgs.pdf+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_document-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_margin-lr-10")},m(e,t){xe(e,a,t),a.innerHTML=r},p:we,d(e){e&&Le(a)}}}function Is(a){let r,i,n,s,l,o="image"!==a[0].step_type&&"video"!==a[0].step_type&&"guide"!==a[0].step_type&&!ge.isDesktopGuide(a[1])&&!ge.isMobileGuide(a[1])&&!ge.isElectron,c,g=!GmCXt.isOnboarding(a[1]),m,d=!GmCXt.isOnboarding(a[1])&&ge.isOwnerOrAppAdmin()&&"inline"===a[0].step_type,p,u,h,y,_=ge.svgs.historyIcon+"",S,f,P,C,b,q,v,w,J,G=!("video"===a[0].step_type&&a[1]?.is_published)&&Ds(a),A=!a[1]?.is_published&&"guide"!==a[0].step_type&&$s(a),T=!a[1]?.is_published&&"inline"===a[0].step_type&&"guide"!==a[0].step_type&&Fs(a),X=o&&Os(a),k=g&&Rs(a),x=d&&Hs(a),L=!a[1]?.is_published&&Ns(a);return{c(){r=Ee("wmgPlayerJSqa_"),G&&G.c(),i=Ie(),n=Ee("wmgPlayerJSqa_"),A&&A.c(),s=Ie(),T&&T.c(),l=Ie(),X&&X.c(),c=Ie(),k&&k.c(),m=Ie(),x&&x.c(),p=Ie(),L&&L.c(),u=Ie(),h=Ee("wmgPlayerJSqa_"),y=Ee("wmgPlayerJSqa_"),S=Ie(),(f=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.history,b=Ie(),q=Ee("wmgPlayerJSqa_"),$e(y,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(f,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(h,"id",P="mgPlayerJSqa_option-step-history-"+a[0].step_id),$e(h,"class",C="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":"")),$e(q,"class","mgPlayerJSqa_horizontal-line"),$e(n,"id",v="mgPlayerJSqa_step-menu-options-"+a[0].step_id),$e(n,"class","mgPlayerJSqa_step-action-menu-options-dropdown"),$e(r,"class","mgPlayerJSqa_step-action-menu-container mgPlayerJSqa_step-action-menu-container-head")},m(e,t){xe(e,r,t),G&&G.m(r,null),ke(r,i),ke(r,n),A&&A.m(n,null),ke(n,s),T&&T.m(n,null),ke(n,l),X&&X.m(n,null),ke(n,c),k&&k.m(n,null),ke(n,m),x&&x.m(n,null),ke(n,p),L&&L.m(n,null),ke(n,u),ke(n,h),ke(h,y),y.innerHTML=_,ke(h,S),ke(h,f),ke(n,b),ke(n,q),w||(J=De(h,"click",a[35]),w=!0)},p(e,t){"video"===e[0].step_type&&e[1]?.is_published?G&&(G.d(1),G=null):G?G.p(e,t):((G=Ds(e)).c(),G.m(r,i)),e[1]?.is_published||"guide"===e[0].step_type?A&&(A.d(1),A=null):A?A.p(e,t):((A=$s(e)).c(),A.m(n,s)),e[1]?.is_published||"inline"!==e[0].step_type||"guide"===e[0].step_type?T&&(T.d(1),T=null):T?T.p(e,t):((T=Fs(e)).c(),T.m(n,l)),(o=3&t[0]?"image"!==e[0].step_type&&"video"!==e[0].step_type&&"guide"!==e[0].step_type&&!ge.isDesktopGuide(e[1])&&!ge.isMobileGuide(e[1])&&!ge.isElectron:o)?X?X.p(e,t):((X=Os(e)).c(),X.m(n,c)):X&&(X.d(1),X=null),(g=2&t[0]?!GmCXt.isOnboarding(e[1]):g)?k?k.p(e,t):((k=Rs(e)).c(),k.m(n,m)):k&&(k.d(1),k=null),(d=3&t[0]?!GmCXt.isOnboarding(e[1])&&ge.isOwnerOrAppAdmin()&&"inline"===e[0].step_type:d)?x?x.p(e,t):((x=Hs(e)).c(),x.m(n,p)):x&&(x.d(1),x=null),e[1]?.is_published?L&&(L.d(1),L=null):L?L.p(e,t):((L=Ns(e)).c(),L.m(n,u)),1&t[0]&&P!==(P="mgPlayerJSqa_option-step-history-"+e[0].step_id)&&$e(h,"id",P),1&t[0]&&C!==(C="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(h,"class",C),1&t[0]&&v!==(v="mgPlayerJSqa_step-menu-options-"+e[0].step_id)&&$e(n,"id",v)},d(e){e&&Le(r),G&&G.d(),A&&A.d(),T&&T.d(),X&&X.d(),k&&k.d(),x&&x.d(),L&&L.d(),w=!1,J()}}}function Ds(a){let r,i,n,s,l,o,c,g,m,d;return{c(){r=Ee("wmgPlayerJSqa_"),i=b("svg"),n=b("defs"),s=b("g"),l=b("g"),o=b("g"),$e(c=b("path"),"d","M3.5,9 C2.125,9 1,10.125 1,11.5 C1,12.875 2.125,14 3.5,14 C4.875,14 6,12.875 6,11.5 C6,10.125 4.875,9 3.5,9 L3.5,9 Z M18.5,9 C17.125,9 16,10.125 16,11.5 C16,12.875 17.125,14 18.5,14 C19.875,14 21,12.875 21,11.5 C21,10.125 19.875,9 18.5,9 L18.5,9 Z M11,9 C9.625,9 8.5,10.125 8.5,11.5 C8.5,12.875 9.625,14 11,14 C12.375,14 13.5,12.875 13.5,11.5 C13.5,10.125 12.375,9 11,9 L11,9 Z"),$e(o,"id","mgPlayerJSqa_more-actions"),$e(l,"id","mgPlayerJSqa_step-action-icons"),$e(l,"fill","#757575"),$e(s,"stroke","none"),$e(s,"stroke-width","1"),$e(s,"fill","none"),$e(s,"fill-rule","evenodd"),$e(i,"width","18px"),$e(i,"height","18px"),$e(i,"viewBox","0 0 22 22"),$e(i,"version","1.2"),$e(i,"xmlns","http://www.w3.org/2000/svg"),$e(i,"xmlns:xlink","http://www.w3.org/1999/xlink"),$e(r,"class","mgPlayerJSqa_step-pencil-icon "+(0<ge.pendingStepCount?"mgPlayerJSqa_disable-edit":"")),$e(r,"id",g="mgPlayerJSqa_step-pencil-icon-"+a[0].step_id)},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(i,s),ke(s,l),ke(l,o),ke(o,c),m||(d=De(r,"click",a[28]),m=!0)},p(e,t){1&t[0]&&g!==(g="mgPlayerJSqa_step-pencil-icon-"+e[0].step_id)&&$e(r,"id",g)},d(e){e&&Le(r),m=!1,d()}}}function $s(a){let r,i,n=ge.svgs.iconEdit+"",s,l,o,c,g,m,d,p;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnEdit,g=Ie(),m=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"id",o="mgPlayerJSqa_option-step-edit-"+a[0].step_id),$e(r,"class",c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":"")),$e(m,"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),xe(e,g,t),xe(e,m,t),d||(p=De(r,"click",a[29]),d=!0)},p(e,t){1&t[0]&&o!==(o="mgPlayerJSqa_option-step-edit-"+e[0].step_id)&&$e(r,"id",o),1&t[0]&&c!==(c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(r,"class",c)},d(e){e&&(Le(r),Le(g),Le(m)),d=!1,p()}}}function Fs(a){let r,i,n=ge.svgs.iconEdit+"",s,l,o,c,g,m,d,p;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.editOnImg,g=Ie(),m=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"id",o="mgPlayerJSqa_option-step-edit-img-"+a[0].step_id),$e(r,"class",c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":"")),$e(m,"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),xe(e,g,t),xe(e,m,t),d||(p=De(r,"click",a[30]),d=!0)},p(e,t){1&t[0]&&o!==(o="mgPlayerJSqa_option-step-edit-img-"+e[0].step_id)&&$e(r,"id",o),1&t[0]&&c!==(c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(r,"class",c)},d(e){e&&(Le(r),Le(g),Le(m)),d=!1,p()}}}function Os(a){let r,i,n=ge.svgs.iconGoToStepUrl+"",s,l,o,c,g,m,d;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnGoToStepUrl,c=Ie(),g=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"id",o="mgPlayerJSqa_option-step-goto-step-url-"+a[0].step_id),$e(r,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item"),$e(g,"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),xe(e,c,t),xe(e,g,t),m||(d=De(r,"click",a[31]),m=!0)},p(e,t){1&t[0]&&o!==(o="mgPlayerJSqa_option-step-goto-step-url-"+e[0].step_id)&&$e(r,"id",o)},d(e){e&&(Le(r),Le(c),Le(g)),m=!1,d()}}}function Rs(a){let r,i,n=ge.svgs.copyGuideIcon+"",s,l,o,c,g,m,d,p;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnCopyStep,g=Ie(),m=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"id",o="mgPlayerJSqa_option-step-copy-"+a[0].step_id),$e(r,"class",c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":"")),$e(m,"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),xe(e,g,t),xe(e,m,t),d||(p=De(r,"click",a[32]),d=!0)},p(e,t){1&t[0]&&o!==(o="mgPlayerJSqa_option-step-copy-"+e[0].step_id)&&$e(r,"id",o),1&t[0]&&c!==(c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(r,"class",c)},d(e){e&&(Le(r),Le(g),Le(m)),d=!1,p()}}}function Hs(a){let r,i,n=ge.svgs.copyGuideIcon+"",s,l,o,c,g,m,d,p;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.findAndReplace,g=Ie(),m=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"id",o="mgPlayerJSqa_option-step-find-replace-"+a[0].step_id),$e(r,"class",c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":"")),$e(m,"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),xe(e,g,t),xe(e,m,t),d||(p=De(r,"click",a[33]),d=!0)},p(e,t){1&t[0]&&o!==(o="mgPlayerJSqa_option-step-find-replace-"+e[0].step_id)&&$e(r,"id",o),1&t[0]&&c!==(c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(r,"class",c)},d(e){e&&(Le(r),Le(g),Le(m)),d=!1,p()}}}function Ns(a){let r,i,n=ge.svgs.iconDelete+"",s,l,o,c,g,m,d,p;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnDelete,g=Ie(),m=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"id",o="mgPlayerJSqa_option-step-delete-"+a[0].step_id),$e(r,"class",c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":"")),$e(m,"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),xe(e,g,t),xe(e,m,t),d||(p=De(r,"click",a[34]),d=!0)},p(e,t){1&t[0]&&o!==(o="mgPlayerJSqa_option-step-delete-"+e[0].step_id)&&$e(r,"id",o),1&t[0]&&c!==(c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(r,"class",c)},d(e){e&&(Le(r),Le(g),Le(m)),d=!1,p()}}}function Bs(e){let a,r=e[8](e[0])&&!e[1]?.is_published,i,n=r&&Vs(e);return{c(){a=Ee("wmgPlayerJSqa_"),n&&n.c(),$e(a,"class","mgPlayerJSqa_step-image-overlay")},m(e,t){xe(e,a,t),n&&n.m(a,null),i=!0},p(e,t){(r=3&t[0]?e[8](e[0])&&!e[1]?.is_published:r)?n?(n.p(e,t),3&t[0]&&Ne(n,1)):((n=Vs(e)).c(),Ne(n,1),n.m(a,null)):n&&(Re(),Be(n,1,1,()=>{n=null}),He())},i(e){i||(Ne(n),i=!0)},o(e){Be(n),i=!1},d(e){e&&Le(a),n&&n.d()}}}function Vs(e){let r,a;return r=new Na({props:{step:e[0]}}),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};1&t[0]&&(a.step=e[0]),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){Ue(r,e)}}}function zs(e){let a,r=GmCXt.truncate(GmCXt.htmlToPlaintext(e[0].step_title),110)+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_span")},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t[0]&&r!==(r=GmCXt.truncate(GmCXt.htmlToPlaintext(e[0].step_title),110)+"")&&(a.innerHTML=r)},d(e){e&&Le(a)}}}function Us(a){let r,i,n,s,l,o,c,g,m,d,p,u,h,y,_,S="tag"!==a[0].step_type&&!a[1]?.is_published&&js(a),f="inline"!==a[0].step_type&&!a[1]?.is_published&&Ws(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=b("svg"),s=b("defs"),l=b("g"),o=b("g"),c=b("g"),g=b("path"),d=Ie(),p=Ee("wmgPlayerJSqa_"),S&&S.c(),u=Ie(),f&&f.c(),$e(g,"d","M3.5,9 C2.125,9 1,10.125 1,11.5 C1,12.875 2.125,14 3.5,14 C4.875,14 6,12.875 6,11.5 C6,10.125 4.875,9 3.5,9 L3.5,9 Z M18.5,9 C17.125,9 16,10.125 16,11.5 C16,12.875 17.125,14 18.5,14 C19.875,14 21,12.875 21,11.5 C21,10.125 19.875,9 18.5,9 L18.5,9 Z M11,9 C9.625,9 8.5,10.125 8.5,11.5 C8.5,12.875 9.625,14 11,14 C12.375,14 13.5,12.875 13.5,11.5 C13.5,10.125 12.375,9 11,9 L11,9 Z"),$e(g,"class","mgPlayerJSqa_shape"),$e(c,"id","mgPlayerJSqa_more-actions"),$e(o,"id","mgPlayerJSqa_step-action-icons"),$e(o,"fill","#757575"),$e(l,"stroke","none"),$e(l,"stroke-width","1"),$e(l,"fill","none"),$e(l,"fill-rule","evenodd"),$e(n,"width","18px"),$e(n,"height","18px"),$e(n,"viewBox","0 0 22 22"),$e(n,"version","1.1"),$e(i,"class","mgPlayerJSqa_step-pencil-icon"),$e(i,"id",m="mgPlayerJSqa_step-pencil-icon-"+a[0].step_id),$e(p,"id",h="mgPlayerJSqa_step-menu-options-"+a[0].step_id),$e(p,"class","mgPlayerJSqa_step-action-menu-options-dropdown"),$e(r,"class","mgPlayerJSqa_step-action-menu-container")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),ke(n,l),ke(l,o),ke(o,c),ke(c,g),ke(r,d),ke(r,p),S&&S.m(p,null),ke(p,u),f&&f.m(p,null),y||(_=De(i,"click",a[21]),y=!0)},p(e,t){1&t[0]&&m!==(m="mgPlayerJSqa_step-pencil-icon-"+e[0].step_id)&&$e(i,"id",m),"tag"===e[0].step_type||e[1]?.is_published?S&&(S.d(1),S=null):S?S.p(e,t):((S=js(e)).c(),S.m(p,u)),"inline"===e[0].step_type||e[1]?.is_published?f&&(f.d(1),f=null):f?f.p(e,t):((f=Ws(e)).c(),f.m(p,null)),1&t[0]&&h!==(h="mgPlayerJSqa_step-menu-options-"+e[0].step_id)&&$e(p,"id",h)},d(e){e&&Le(r),S&&S.d(),f&&f.d(),y=!1,_()}}}function js(a){let r,i,n=ge.svgs.iconEdit+"",s,l,o,c,g,m,d,p,u,h=ge.svgs.iconDelete+"",y,_,S,f,P,C;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnEdit,g=Ie(),m=Ee("wmgPlayerJSqa_"),d=Ie(),p=Ee("wmgPlayerJSqa_"),u=Ee("wmgPlayerJSqa_"),y=Ie(),(_=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnDelete,$e(i,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"id",o="mgPlayerJSqa_option-step-edit-"+a[0].step_id),$e(r,"class",c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":"")),$e(m,"class","mgPlayerJSqa_horizontal-line"),$e(u,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(_,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(p,"id",S="mgPlayerJSqa_option-step-delete-"+a[0].step_id),$e(p,"class",f="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":""))},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),xe(e,g,t),xe(e,m,t),xe(e,d,t),xe(e,p,t),ke(p,u),u.innerHTML=h,ke(p,y),ke(p,_),P||(C=[De(r,"click",a[22]),De(p,"click",a[23])],P=!0)},p(e,t){1&t[0]&&o!==(o="mgPlayerJSqa_option-step-edit-"+e[0].step_id)&&$e(r,"id",o),1&t[0]&&c!==(c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(r,"class",c),1&t[0]&&S!==(S="mgPlayerJSqa_option-step-delete-"+e[0].step_id)&&$e(p,"id",S),1&t[0]&&f!==(f="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(p,"class",f)},d(e){e&&(Le(r),Le(g),Le(m),Le(d),Le(p)),P=!1,Xe(C)}}}function Ws(a){let r,i,n=ge.svgs.iconEdit+"",s,l,o,c,g,m,d,p=ge.svgs.iconDelete+"",u,h,y,_,S,f;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnEdit,g=Ie(),m=Ee("wmgPlayerJSqa_"),d=Ee("wmgPlayerJSqa_"),u=Ie(),(h=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnDelete,$e(i,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"id",o="mgPlayerJSqa_option-step-edit-"+a[0].step_id),$e(r,"class",c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":"")),$e(d,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(h,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(m,"id",y="mgPlayerJSqa_option-step-delete-"+a[0].step_id),$e(m,"class",_="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":""))},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),xe(e,g,t),xe(e,m,t),ke(m,d),d.innerHTML=p,ke(m,u),ke(m,h),S||(f=[De(r,"click",a[24]),De(m,"click",a[25])],S=!0)},p(e,t){1&t[0]&&o!==(o="mgPlayerJSqa_option-step-edit-"+e[0].step_id)&&$e(r,"id",o),1&t[0]&&c!==(c="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(r,"class",c),1&t[0]&&y!==(y="mgPlayerJSqa_option-step-delete-"+e[0].step_id)&&$e(m,"id",y),1&t[0]&&_!==(_="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(m,"class",_)},d(e){e&&(Le(r),Le(g),Le(m)),S=!1,Xe(f)}}}function Zs(e){let r,a;return r=new Na({props:{step:e[0]}}),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};1&t[0]&&(a.step=e[0]),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){Ue(r,e)}}}function Ys(e){let a,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_step-image"),Q(a.src,r=e[0].step_screen_temp)||$e(a,"src",r)},m(e,t){xe(e,a,t)},p(e,t){1&t[0]&&!Q(a.src,r=e[0].step_screen_temp)&&$e(a,"src",r)},d(e){e&&Le(a)}}}function Ks(e){let a,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_step-image"),Q(a.src,r=e[0].previewImage)||$e(a,"src",r)},m(e,t){xe(e,a,t)},p(e,t){1&t[0]&&!Q(a.src,r=e[0].previewImage)&&$e(a,"src",r)},d(e){e&&Le(a)}}}function Qs(e){let a,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_step-image mgPlayerJSqa_custom-image"),Q(a.src,r=e[0].image_url+ge.getCdnSign())||$e(a,"src",r),$e(a,"alt",ge.staticContentPath+"technology.jpg")},m(e,t){xe(e,a,t)},p(e,t){1&t[0]&&!Q(a.src,r=e[0].image_url+ge.getCdnSign())&&$e(a,"src",r)},d(e){e&&Le(a)}}}function el(a){let r,i,n,s,l,o,c,g,m,d,p,u,h,y,_,S,f=!a[1]?.is_published&&tl(a),P=!a[0].step_screen_temp&&al(a),C=GmCXt.FT.creatorApp&&function(a){let r,i,n=ge.svgs.historyIcon+"",s,l,o,c,g;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.history,$e(i,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"class",o="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":""))},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),c||(g=De(r,"click",a[19]),c=!0)},p(e,t){1&t[0]&&o!==(o="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(r,"class",o)},d(e){e&&Le(r),c=!1,g()}}}(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=b("svg"),s=b("defs"),l=b("g"),o=b("g"),c=b("g"),g=b("path"),d=Ie(),p=Ee("wmgPlayerJSqa_"),f&&f.c(),u=Ie(),P&&P.c(),h=Ie(),C&&C.c(),$e(g,"d","M3.5,9 C2.125,9 1,10.125 1,11.5 C1,12.875 2.125,14 3.5,14 C4.875,14 6,12.875 6,11.5 C6,10.125 4.875,9 3.5,9 L3.5,9 Z M18.5,9 C17.125,9 16,10.125 16,11.5 C16,12.875 17.125,14 18.5,14 C19.875,14 21,12.875 21,11.5 C21,10.125 19.875,9 18.5,9 L18.5,9 Z M11,9 C9.625,9 8.5,10.125 8.5,11.5 C8.5,12.875 9.625,14 11,14 C12.375,14 13.5,12.875 13.5,11.5 C13.5,10.125 12.375,9 11,9 L11,9 Z"),$e(g,"class","mgPlayerJSqa_shape"),$e(c,"id","mgPlayerJSqa_more-actions"),$e(o,"id","mgPlayerJSqa_step-action-icons"),$e(o,"fill","#757575"),$e(l,"stroke","none"),$e(l,"stroke-width","1"),$e(l,"fill","none"),$e(l,"fill-rule","evenodd"),$e(n,"width","18px"),$e(n,"height","18px"),$e(n,"viewBox","0 0 22 22"),$e(n,"version","1.1"),$e(i,"class","mgPlayerJSqa_step-pencil-icon"),$e(i,"id",m="mgPlayerJSqa_step-pencil-icon-"+a[0].step_id),$e(p,"id",y="mgPlayerJSqa_step-menu-options-"+a[0].step_id),$e(p,"class","mgPlayerJSqa_step-action-menu-options-dropdown"),$e(r,"class","mgPlayerJSqa_step-action-menu-container")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),ke(n,l),ke(l,o),ke(o,c),ke(c,g),ke(r,d),ke(r,p),f&&f.m(p,null),ke(p,u),P&&P.m(p,null),ke(p,h),C&&C.m(p,null),_||(S=De(i,"click",a[15]),_=!0)},p(e,t){1&t[0]&&m!==(m="mgPlayerJSqa_step-pencil-icon-"+e[0].step_id)&&$e(i,"id",m),e[1]?.is_published?f&&(f.d(1),f=null):f?f.p(e,t):((f=tl(e)).c(),f.m(p,u)),e[0].step_screen_temp?P&&(P.d(1),P=null):P?P.p(e,t):((P=al(e)).c(),P.m(p,h)),GmCXt.FT.creatorApp&&C.p(e,t),1&t[0]&&y!==(y="mgPlayerJSqa_step-menu-options-"+e[0].step_id)&&$e(p,"id",y)},d(e){e&&Le(r),f&&f.d(),P&&P.d(),C&&C.d(),_=!1,S()}}}function tl(a){let r,i,n=ge.svgs.iconEdit+"",s,l,o,c,g,m,d,p,u=ge.svgs.iconDelete+"",h,y,_,S,f,P,C;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnEdit,c=Ie(),g=Ee("wmgPlayerJSqa_"),m=Ie(),d=Ee("wmgPlayerJSqa_"),p=Ee("wmgPlayerJSqa_"),h=Ie(),(y=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnDelete,S=Ie(),f=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"class",o="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":"")),$e(g,"class","mgPlayerJSqa_horizontal-line"),$e(p,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(y,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(d,"class",_="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(a[0].step_screen_temp?"mgPlayerJSqa_disabled":"")),$e(f,"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),xe(e,c,t),xe(e,g,t),xe(e,m,t),xe(e,d,t),ke(d,p),p.innerHTML=u,ke(d,h),ke(d,y),xe(e,S,t),xe(e,f,t),P||(C=[De(r,"click",a[16]),De(d,"click",a[17])],P=!0)},p(e,t){1&t[0]&&o!==(o="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(r,"class",o),1&t[0]&&_!==(_="mgPlayerJSqa_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSqa_disabled":""))&&$e(d,"class",_)},d(e){e&&(Le(r),Le(c),Le(g),Le(m),Le(d),Le(S),Le(f)),P=!1,Xe(C)}}}function al(a){let r,i,n=ge.svgs.copyGuideIcon+"",s,l,o,c,g,m;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),(l=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.btnCopyStep,o=Ie(),c=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-icon mgPlayerJSqa_inline-block-vm"),$e(l,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item-label mgPlayerJSqa_inline-block-vm"),$e(r,"class","mgPlayerJSqa_step-action-menu-options-dropdown-item"),$e(c,"class","mgPlayerJSqa_horizontal-line")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),xe(e,o,t),xe(e,c,t),g||(m=De(r,"click",a[18]),g=!0)},p:we,d(e){e&&(Le(r),Le(o),Le(c)),g=!1,m()}}}function rl(e){let a,r;function i(e){return 0==e[0].step_video?nl:il}let n=i(e),s=n(e);return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),s.c(),$e(r,"class","mgPlayerJSqa_tg-img-thumb mgPlayerJSqa_position-center"),$e(a,"class","mgPlayerJSqa_tg-step-img-thumb-wrapper")},m(e,t){xe(e,a,t),ke(a,r),s.m(r,null)},p(e,t){n===(n=i(e))&&s?s.p(e,t):(s.d(1),(s=n(e))&&(s.c(),s.m(r,null)))},d(e){e&&Le(a),s.d()}}}function il(e){let a,r=GmCXt.getVideoPopUpIFrameHTML(e[0].step_video_url+ge.getCdnSign())+"",i;return{c(){a=new te(!1),i=M(),a.a=i},m(e,t){a.m(r,e,t),xe(e,i,t)},p(e,t){1&t[0]&&r!==(r=GmCXt.getVideoPopUpIFrameHTML(e[0].step_video_url+ge.getCdnSign())+"")&&a.p(r)},d(e){e&&(Le(i),a.d())}}}function nl(e){let a,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_tg-img svelte-hv9a3t"),Q(a.src,r=e[0].screen_url+ge.getCdnSign())||$e(a,"src",r),$e(a,"alt",ge.staticContentPath+"technology.jpg")},m(e,t){xe(e,a,t)},p(e,t){1&t[0]&&!Q(a.src,r=e[0].screen_url+ge.getCdnSign())&&$e(a,"src",r)},d(e){e&&Le(a)}}}function sl(){let a,r=ge.svgs.pdfIcon+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_document-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_margin-lr-10")},m(e,t){xe(e,a,t),a.innerHTML=r},d(e){e&&Le(a)}}}function ll(a){let r,e=ge.labels.showMe+"",i,n,s,l=ge.svgs.guidePlayIconShowme+"",o,c;return{c(){r=Ee("wmgPlayerJSqa_"),i=Me(e),n=Ie(),$e(s=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_margin-lr-10"),$e(r,"class","mgPlayerJSqa_play-step-icon-wrapper mgPlayerJSqa_position-center mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_font-size-16")},m(e,t){xe(e,r,t),ke(r,i),ke(r,n),ke(r,s),s.innerHTML=l,o||(c=De(r,"click",a[20]),o=!0)},p:we,d(e){e&&Le(r),o=!1,c()}}}function ol(e){let a,r=e[8](e[0])&&!e[1]?.is_published,i,n=r&&cl(e);return{c(){a=Ee("wmgPlayerJSqa_"),n&&n.c(),$e(a,"class","mgPlayerJSqa_tour-action-wrapper mgPlayerJSqa_position-relative")},m(e,t){xe(e,a,t),n&&n.m(a,null),i=!0},p(e,t){(r=3&t[0]?e[8](e[0])&&!e[1]?.is_published:r)?n?(n.p(e,t),3&t[0]&&Ne(n,1)):((n=cl(e)).c(),Ne(n,1),n.m(a,null)):n&&(Re(),Be(n,1,1,()=>{n=null}),He())},i(e){i||(Ne(n),i=!0)},o(e){Be(n),i=!1},d(e){e&&Le(a),n&&n.d()}}}function cl(e){let r,a;return r=new Na({props:{step:e[0]}}),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};1&t[0]&&(a.step=e[0]),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){Ue(r,e)}}}function gl(e){let a=!GmCXt.isEmpty(e[0]),r,i,n=a&&ys(e);return{c(){n&&n.c(),r=M()},m(e,t){n&&n.m(e,t),xe(e,r,t),i=!0},p(e,t){(a=1&t[0]?!GmCXt.isEmpty(e[0]):a)?n?(n.p(e,t),1&t[0]&&Ne(n,1)):((n=ys(e)).c(),Ne(n,1),n.m(r.parentNode,r)):n&&(Re(),Be(n,1,1,()=>{n=null}),He())},i(e){i||(Ne(n),i=!0)},o(e){Be(n),i=!1},d(e){e&&Le(r),n&&n.d(e)}}}function ml(e){return GmCXt.isEmpty(e.step_title)?(e.step_description=GmCXt.updateOrgAndAddSignature(GmCXt.restoreAssetSrc(e.step_description)),e.step_description):e.step_title+e.step_description}function dl(e,t,a){let r=t["step"],i=t["index"],n=t["tour"],s=t["imageUploadData"],l=!1,o="",c="loading",g=ce(me.stepOperationMode),m={};const d=me.stepOperationMode.subscribe(e=>{a(5,g=e)});const p=(e,t,a)=>{if(e.stopPropagation(),GmCXt.isHowToGuide(n)&&(t=ge.playSlideshow),!ge.isDesktopApp())return"doitforme"===t&&GmCXt.disableDoItForMe?(D.open(ge.labels.doitForMeWarning,"warning"),!1):void ge.guideAction(t,a,n,ce(me.CurrentPage),"")};function u(e,t){t.stopPropagation(),ge.hideUserImageDropDown();t=mg$(".mgPlayerJSqa_step-image-wrapper"),mg$(t).removeClass("active"),mg$(".mgPlayerJSqa_tour-action-dropdown").slideUp(200),mg$(".mgPlayerJSqa_detail-view-action-options-dropdownn").slideUp(200),mg$(".mgPlayerJSqa_detail-download-action-options-dropdown").slideUp(200),t=mg$("#mgPlayerJSqa_step-menu-options-"+e).is(":visible");mg$(".mgPlayerJSqa_step-action-menu-options-dropdown").slideUp(200),t||mg$("#mgPlayerJSqa_step-menu-options-"+e).slideDown(200)}de(()=>{ge.checkCdnSignature().then(()=>{a(13,l=GmCXt.getCdnSign())})}),pe(()=>{d()});return e.$$set=e=>{"step"in e&&a(0,r=e.step),"index"in e&&a(2,i=e.index),"tour"in e&&a(1,n=e.tour),"imageUploadData"in e&&a(12,s=e.imageUploadData)},e.$$.update=()=>{if(20483&e.$$.dirty[0]){if(!GmCXt.isEmpty(s)&&s[r.step_id])switch(s[r.step_id].image_upload){case"success":a(4,c="pass");break;case"fail":a(4,c="fail");break;default:a(4,c="loading")}a(14,m=ge.isGuideInOriginalLang(n)?n:ge.getTranslatedTourAndSteps(n,ge.language)),a(1,n={...m})}8193&e.$$.dirty[0]&&l&&r&&a(3,o=function(e,t){if(GmCXt.isDefined(e))return GmCXt.isOnboarding(n)?0!=r.step_video?r.step_video_url+l:e+l:"guide"===t?e.split(".png")[0]+"_thumb.png"+l:"video"===t?e+l:"survey"==t||"transport"==t?-1==r.image_url.indexOf("default_icon")?r.image_url+l:ge.staticContentPath+"survey_step.png":r.is_screen_url_processed?e.split(".png")[0]+"_cropped.png"+l:r.screen_url+l;e=""}(r.step_type===GmCXt.STEP_TYPE_VIDEO?r.image_url:r.screen_url,r.step_type))},[r,n,i,o,c,g,p,function(){return!ge.onPrem||GmCXt.FT.showMe},function(e){return!e.step_type&&e.type&&(e.step_type=e.type),e.step_type!==GmCXt.STEP_TYPE_BRANCH&&e.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER&&!(e.step_settings&&e.step_settings.inlineBranch||e.hideStep)},u,function(e){e.isTrusted&&(r.isEdit||r.isCreation)&&g!==GmCXt.STEP_EDIT_OPERATION&&me.activeStepId.set(r.step_id)},e=>{return{guidance:ge.svgs.tooltip,validation:ge.svgs.tooltip_validation,both:ge.svgs.tooltip_and_validation,injector:ge.svgs.tooltip_power,disableElement:ge.svgs.tooltip_hide_element,formSubmit:ge.svgs.tooltip_form_submit}[e]||""},s,l,m,e=>u(r.step_id,e),()=>{ge.editStep(n,r,i),ge.hideStepActionDropdown()},()=>{ge.deleteStep(r,!1,n),ge.hideStepActionDropdown()},e=>ge.copyStep(r.step_id,r.step_type,e,n.tour_settings.tutorial_tour_type),e=>{ge.guideHistory(r,e,"step"),ge.hideStepActionDropdown()},e=>p(e,ge.playSlideshow,r),e=>u(r.step_id,e),()=>editStep(r,i),()=>deleteStep(r),()=>ge.editTag(r,n,i),()=>ge.deleteTag(r,n,i),e=>p(e,"",r),e=>p(e,"",r),e=>u(r.step_id,e),()=>{ge.editStep(n,r,i,!1),ge.hideStepActionDropdown()},()=>{ge.editStep(n,r,i,!0),ge.hideStepActionDropdown()},()=>ge.goToStepUrl(r,i),e=>ge.copyStep(r.step_id,r.step_type,e),()=>ge.handleFindAndReplaceClick(r),()=>{ge.deleteStep(r,!1,n),ge.hideStepActionDropdown()},e=>{ge.guideHistory(r,e,"step"),ge.hideStepActionDropdown()},function(e){r=e,a(0,r)},function(e){r=e,a(0,r)},function(e){r=e,a(0,r)},function(e){r=e,a(0,r)},function(e){r=e,a(0,r)}]}class pl extends e{constructor(e){super(),t(this,e,dl,gl,g,{step:0,index:2,tour:1,imageUploadData:12},hs,[-1,-1])}}function ul(e){l(e,"svelte-16e1c9u",".branch.svelte-16e1c9u{z-index:99999}")}function hl(e,t,a){e=e.slice();return e[47]=t[a],e[49]=a,e}function yl(e,t,a){e=e.slice();return e[50]=t[a],e[49]=a,e}function _l(a){let r,i,n,s,l,o=vl(a[47].step_title)+"",c,g,m,d,p=vl(a[47].step_title)+"",u,h,y,_,S,f,P,C=a[0]&&fl(a);function b(){return a[14](a[47])}return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),l=Ee("wmgPlayerJSqa_"),c=Me(o),g=Ie(),m=Ee("wmgPlayerJSqa_"),d=Ee("wmgPlayerJSqa_"),u=Me(p),h=Ie(),y=Ee("wmgPlayerJSqa_"),_=Ie(),S=Ee("wmgPlayerJSqa_"),C&&C.c(),$e(l,"class","mgPlayerJSqa_guide-title mgPlayerJSqa_text-overflow-ellipsis"),$e(d,"class","mgPlayerJSqa_tooltip-title"),$e(m,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-right mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y"),$e(s,"class","mgPlayerJSqa_step-title-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_position-relative"),$e(n,"id","mgPlayerJSqa_step"),$e(y,"class","mgPlayerJSqa_clear"),$e(S,"class","mgPlayerJSqa_step-image-wrapper"),$e(i,"class","mgPlayerJSqa_step-item"),$e(r,"class","mgPlayerJSqa_collapse mgPlayerJSqa_player-step mgPlayerJSqa_step-wrapper branchTreeHead2"),Ge(r,"display","block")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),ke(s,l),ke(l,c),ke(s,g),ke(s,m),ke(m,d),ke(d,u),ke(i,h),ke(i,y),ke(i,_),ke(i,S),C&&C.m(S,null),f||(P=De(S,"click",b),f=!0)},p(e,t){a=e,2&t[0]&&o!==(o=vl(a[47].step_title)+"")&&Fe(c,o),2&t[0]&&p!==(p=vl(a[47].step_title)+"")&&Fe(u,p),a[0]?C?C.p(a,t):((C=fl(a)).c(),C.m(S,null)):C&&(C.d(1),C=null)},d(e){e&&Le(r),C&&C.d(),f=!1,P()}}}function Sl(r){let a,i,n,s=ge.svgs.branch_head_icon+"",l,o,c=vl(r[47].step_title)+"",g,m,d,p,u=(r[2]||r[47].step_settings.branch[0].branchName)+"",h,y,_,S=ge.svgs.down_arrow_icon+"",f,P,C,b;function q(){return r[12](r[47])}let v=I(r[47].step_settings.branch),w=[];for(let e=0;e<v.length;e+=1)w[e]=Pl(yl(r,v,e));function J(...e){return r[13](r[49],...e)}return{c(){a=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),l=Ie(),o=Ee("wmgPlayerJSqa_"),g=Me(c),m=Ie(),d=Ee("button"),p=Ee("wmgPlayerJSqa_"),h=Me(u),y=Ie(),_=Ee("wmgPlayerJSqa_"),f=Ie(),P=Ee("wmgPlayerJSqa_");for(let e=0;e<w.length;e+=1)w[e].c();$e(n,"class","mgPlayerJSqa_head-branch-icon"),$e(o,"class","mgPlayerJSqa_branch-title"),$e(p,"class","mgPlayerJSqa_branch-dropdown-selected-item mgPlayerJSqa_pointer-events-none"),$e(_,"class","mgPlayerJSqa_filter-dropdown-arrow mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_pointer-events-none"),$e(P,"id","mgPlayerJSqa_branch-dropdown-list-wrapper-"+r[49]),$e(P,"class","mgPlayerJSqa_branch-dropdown-list-wrapper mgPlayerJSqa_branch-dropdown-list-wrapper-"+r[49]+" mgPlayerJSqa_open-down mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y svelte-16e1c9u"),$e(d,"id","mgPlayerJSqa_branch-dropdown-wrapper-0"),$e(d,"class","mgPlayerJSqa_branch-dropdown-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_lbl-btn"),$e(i,"class","mgPlayerJSqa_branch-head"),$e(a,"class","mgPlayerJSqa_branch-wrapper-player branchTreeHead0")},m(e,t){xe(e,a,t),ke(a,i),ke(i,n),n.innerHTML=s,ke(i,l),ke(i,o),ke(o,g),ke(i,m),ke(i,d),ke(d,p),ke(p,h),ke(d,y),ke(d,_),_.innerHTML=S,ke(d,f),ke(d,P);for(let e=0;e<w.length;e+=1)w[e]&&w[e].m(P,null);C||(b=[De(o,"click",q),De(d,"click",J)],C=!0)},p(e,t){if(r=e,2&t[0]&&c!==(c=vl(r[47].step_title)+"")&&Fe(g,c),6&t[0]&&u!==(u=(r[2]||r[47].step_settings.branch[0].branchName)+"")&&Fe(h,u),1030&t[0]){v=I(r[47].step_settings.branch);let e;for(e=0;e<v.length;e+=1){var a=yl(r,v,e);w[e]?w[e].p(a,t):(w[e]=Pl(a),w[e].c(),w[e].m(P,null))}for(;e<w.length;e+=1)w[e].d(1);w.length=v.length}},d(e){e&&Le(a),$(w,e),C=!1,Xe(b)}}}function fl(e){let a,r;return{c(){$e(a=Ee("img"),"class","mgPlayerJSqa_step-image mgPlayerJSqa_custom-image"),Q(a.src,r=e[4](e[47]))||$e(a,"src",r),$e(a,"alt",ge.staticContentPath+"technology.jpg")},m(e,t){xe(e,a,t)},p(e,t){2&t[0]&&!Q(a.src,r=e[4](e[47]))&&$e(a,"src",r)},d(e){e&&Le(a)}}}function Pl(a){let r,i=a[50].branchName+"",n,s,l,o,c;return{c(){r=Ee("button"),n=Me(i),s=Ie(),$e(r,"class",l="mgPlayerJSqa_branch-dropdown-list-item mgPlayerJSqa_lbl-btn mgPlayerJSqa_branch-dropdown-list-item "+(a[2]===a[47].step_settings.branch[a[49]].branchName?"mgPlayerJSqa_active-item":"")),r.value=a[49]},m(e,t){xe(e,r,t),ke(r,n),ke(r,s),o||(c=De(r,"click",function(){Y(a[10](a[47],a[49]))&&a[10](a[47],a[49]).apply(this,arguments)}),o=!0)},p(e,t){a=e,2&t[0]&&i!==(i=a[50].branchName+"")&&Fe(n,i),6&t[0]&&l!==(l="mgPlayerJSqa_branch-dropdown-list-item mgPlayerJSqa_lbl-btn mgPlayerJSqa_branch-dropdown-list-item "+(a[2]===a[47].step_settings.branch[a[49]].branchName?"mgPlayerJSqa_active-item":""))&&$e(r,"class",l)},d(e){e&&Le(r),o=!1,c()}}}function Cl(e){let a,r,i;function n(e,t){return(r=null==(r=2&t[0]?null:r)?!(e[47].step_type!==GmCXt.STEP_TYPE_BRANCH&&e[47].step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER&&!GmCXt.isTrue(e[47].step_settings&&e[47].step_settings.inlineBranch)):r)?Sl:_l}let s=n(e,[-1,-1]),l=s(e);return{c(){a=Ee("wmgPlayerJSqa_"),l.c(),i=Ie(),$e(a,"class","svelte-16e1c9u"),Oe(a,"branch",e[47].step_type===GmCXt.STEP_TYPE_BRANCH||GmCXt.isTrue(e[47].step_settings&&e[47].step_settings.inlineBranch))},m(e,t){xe(e,a,t),l.m(a,null),ke(a,i)},p(e,t){s===(s=n(e,t))&&l?l.p(e,t):(l.d(1),(l=s(e))&&(l.c(),l.m(a,i))),2&t[0]&&Oe(a,"branch",e[47].step_type===GmCXt.STEP_TYPE_BRANCH||GmCXt.isTrue(e[47].step_settings&&e[47].step_settings.inlineBranch))},d(e){e&&Le(a),l.d()}}}function bl(a){let r,i=GmCXt.svgs.close+"",n,s;return{c(){$e(r=Ee("wmgPlayerJSqa_"),"id","mgPlayerJSqa_icon-cancel-merge"),$e(r,"class","mgPlayerJSqa_cancel-branch-merge"),$e(r,"title","Cancel Merge Branch")},m(e,t){xe(e,r,t),r.innerHTML=i,n||(s=De(r,"click",a[5]),n=!0)},p:we,d(e){e&&Le(r),n=!1,s()}}}function ql(e){let a,r,i,n,s=!GmCXt.FT.creatorApp&&function(t){let i,n=I(t[1]),s=[];for(let e=0;e<n.length;e+=1)s[e]=Cl(hl(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();i=M()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);xe(t,i,a)},p(t,a){if(1815&a[0]){n=I(t[1]);let e;for(e=0;e<n.length;e+=1){var r=hl(t,n,e);s[e]?s[e].p(r,a):(s[e]=Cl(r),s[e].c(),s[e].m(i.parentNode,i))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}},d(e){e&&Le(i),$(s,e)}}}(e),l=e[3]&&bl(e),o=GmCXt.FT.creatorApp&&function(a){let r,i,n=ge.svgs.zoomIn+"",s,l,o=ge.svgs.zoomOut+"",c,g;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),$e(i,"id","mgPlayerJSqa_zoomin-branching-view"),$e(i,"class","mgPlayerJSqa_zoomin-branching-view mgPlayerJSqa_icons-hover-effect mgPlayerJSqa_inline-block-vm"),$e(l,"id","mgPlayerJSqa_zoomout-branching-view"),$e(l,"class","mgPlayerJSqa_zoomout-branching-view mgPlayerJSqa_icons-hover-effect mgPlayerJSqa_inline-block-vm"),$e(r,"class","mgPlayerJSqa_view-zoomin-zoomout")},m(e,t){xe(e,r,t),ke(r,i),i.innerHTML=n,ke(r,s),ke(r,l),l.innerHTML=o,c||(g=[De(i,"click",a[6]),De(l,"click",a[7])],c=!0)},p:we,d(e){e&&Le(r),c=!1,Xe(g)}}}(e);return{c(){a=Ee("wmgPlayerJSqa_"),s&&s.c(),r=Ie(),l&&l.c(),i=Ie(),o&&o.c(),n=M(),$e(a,"class","mgPlayerJSqa_step-view-type-branching"),Ge(a,"transform","scale(1) translate(0px, 0px)"),Oe(a,"mgPlayerJSqa_no-padding",GmCXt.FT.isPlayer)},m(e,t){xe(e,a,t),s&&s.m(a,null),xe(e,r,t),l&&l.m(e,t),xe(e,i,t),o&&o.m(e,t),xe(e,n,t)},p(e,t){GmCXt.FT.creatorApp||s.p(e,t),e[3]?l?l.p(e,t):((l=bl(e)).c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null),GmCXt.FT.creatorApp&&o.p(e,t)},i:we,o:we,d(e){e&&(Le(a),Le(r),Le(i),Le(n)),s&&s.d(),l&&l.d(e),o&&o.d(e)}}}function vl(e){return e?String(e).replace(/<[^>]+>/gm,""):""}function wl(e){var t={};switch(e){case 3:t.scale=.3,t.transformLeft="-90%",t.transformRight="-90%";break;case 4:t.scale=.4,t.transformLeft="-70%",t.transformRight="-70%";break;case 5:t.scale=.5,t.transformLeft="-45%",t.transformRight="-45%";break;case 6:t.scale=.6,t.transformLeft="-30%",t.transformRight="-30%";break;case 7:t.scale=.7,t.transformLeft="-20%",t.transformRight="-20%";break;case 8:t.scale=.8,t.transformLeft="-12%",t.transformRight="-12%";break;case 9:t.scale=.9,t.transformLeft="-5%",t.transformRight="-5%";break;case 10:t.scale=1,t.transformLeft="0%",t.transformRight="0%";break;case 11:t.scale=1.1,t.transformLeft="5%",t.transformRight="5%";break;case 12:t.scale=1.2,t.transformLeft="9%",t.transformRight="8%";break;case 13:t.scale=1.3,t.transformLeft="12%",t.transformRight="12%";break;case 14:t.scale=1.4,t.transformLeft="15%",t.transformRight="15%";break;case 15:t.scale=1.5,t.transformLeft="17%",t.transformRight="17%"}return t}function Jl(e,t,n){let P=ce(me.currentTour),a=!1,r=!1,i=!1,s=[],l=!1,g,C=!1,o=10,c=!1,m=!1,d=!1,p=[],u=[],h,y=[],_=me.selectedBranch.subscribe(e=>{n(2,l=e)});const S=me.currentTour.subscribe(e=>{n(11,P=e)});function f(t){if("p"!==g[t].type&&-1===mg$.inArray(t,p)&&p.push(t),0!==t)for(let e=0;e<g[t].head.length;e++)f(g[t].head[0])}let b=!1,q;function v(e,t){p=[],f(e.id);for(let e=0;e<g.length;e++)-1<mg$.inArray(g[e].tail,p)&&f(e);n(3,d=!0),q=t,b=!!(e.branch&&0<=e.branch.index)&&e.branch.index,mg$(".mgPlayerJSqa_delete-connection").css("display","none"),mg$(".mgPlayerJSqa_plus-step").css("display","none"),mg$(".mgPlayerJSqa_step-view-type-branching").empty(),k()}function w(t,e){if(-1===mg$.inArray(e,p)&&d){t=t.toString(),ge.showLoading();var a=P.tour_settings.play_structure;for(let e=0;e<a.length;e++){if(a[e].id===q&&b&&null!==a[e].branch){a[e].branch[b].tail=t;break}if(a[e].id===q&&null!==a[e].branch){a[e].tail=t;break}}n(11,P.tour_settings.play_structure=a,P),p=[],n(3,d=!1),ge.routeToStepContainer("updateTourWithApi",P)}else ge.showPopup("You cannot merge this step here.")}function J(e,t,a){var r=g[e].tail;if(g[r]&&1<g[r].head.length){mg$(".horizontalConnector"+e).remove(),g[e].tail=null;var i=mg$(a.target).closest(".mgPlayerJSqa_delete-connection").attr("branchindex");ge.getStepFromTour(t,P);for(let e=0;e<P.tour_settings.play_structure.length;e++)P.tour_settings.play_structure[e].id===t.toString()&&n(11,i?P.tour_settings.play_structure[e].branch[i].tail=null:P.tour_settings.play_structure[e].tail=null,P);ge.routeToStepContainer("updateTourWithApi",P)}}function G(e){let t=document.querySelector(".mgPlayerJSqa_step-view-type-branching"),a=(-1!==mg$.inArray(e.head[0],u)&&GmCXt.FT.creatorApp&&(t=document.querySelector(".branchTreeHead"+e.head[0]),u.push(e.id)),GmCXt.conf.staticContentPath+"technology.jpg"),r=ge.staticContentPath+"technology.jpg";if(e.step.step_screen)switch(e.step.step_type){case"inline":case"image":a=e.step.is_screen_url_processed?ge.getImageURL(e.step.screen_url,"_cropped.png"):GmCXt.restoreAssetSrc(e.step.screen_url);break;case"message":a=e.step.is_screen_url_processed?function(e){let t=ge.staticContentPath+"technology.jpg";var a;return e.screen_url&&(a=e.step_settings.domElems,t=a&&0<a.length&&e.is_thumbnail_processed?ge.getImageURL(e.screen_url,"_thumb.png"):e.is_screen_url_processed?ge.getImageURL(e.screen_url,"_cropped.png"):GmCXt.restoreAssetSrc(e.screen_url)),t}(e.step):GmCXt.restoreAssetSrc(e.step.screen_url);break;case"smartTip":a=GmCXt.restoreAssetSrc(e.step.screen_url);break;case"guide":a=ge.getImageURL(e.step.screen_url,"_thumb.png");break;case"video":a=GmCXt.restoreAssetSrc(e.step.image_url);break;case"survey":a=-1!==e.step.image_url.indexOf("default_icon")?ge.getDefaultSurveyStepIcon():GmCXt.restoreAssetSrc(e.step.image_url)}else e.step.step_video_url&&"video"===e.step.step_type&&(a=GmCXt.restoreAssetSrc(e.step.image_url),r="https://salesuapi.blob.core.windows.net/default/video-thumb.png");new Na({target:t,props:{node:e,mergeActive:d,currentTour:P,step_img:a,err_img:r,mergeArr:p,addMergeStep:v,mergeNodeStep:w,playTourFromBranchView:L}})}function A(e){var t=function(t){t=parseInt(t);for(let e=0;e<g.length;e++)if(g[e].id===t)return g[e]}(e.head[0]);let a=document.querySelector(".mgPlayerJSqa_step-view-type-branching");var r=e.branch&&e.branch.name?e.branch.name:"";let i="step-tail-large";var n=function(e){if(!e||!g[e])return"mgPlayerJSqa_hide-delete-connection";if(g[e].id===e){if(1<g[e].head.length)return"mgPlayerJSqa_allow-delete-connection";if(g[e].branch){h=g[e].branch;let t=0;for(let e=0;e<h.length;e++)-1===h[e].tail&&t++;return 1<t?"mgPlayerJSqa_allow-delete-connection":"mgPlayerJSqa_hide-delete-connection"}return"mgPlayerJSqa_hide-delete-connection"}}(e.tail);"b"===t.type&&r&&(mg$("#mgPlayerJSqa_branch-dropdown-list-wrapper-"+t.id).append("<button class='mgPlayerJSqa_branch-dropdown-list-item mgPlayerJSqa_lbl-btn mgPlayerJSqa_branch-dropdown-list-item-"+e.id+"' value='"+e.id+"'>"+r+"</button>"),!m)&&c&&(m=e.id),-1!==mg$.inArray(e.head[0],u)&&GmCXt.FT.creatorApp&&(a=document.querySelector(".branchTreeHead"+e.head[0]),u.push(e.id)),e.tail||(i="step-tail-small"),e.branch&&(i=""),new Na({target:a,props:{node:e,deleteClass:n,mergeActive:d,currentTour:P,branchName:r,lastStepWrapper:i,mergeArr:p,addMergeStep:v,deleteConnection:J,playTourFromBranchView:L}})}function T(e){o=10,c=!1,g=e,m=!1;for(let t=0;t<g.length;t++){var a=g[t].type;let e=void 0;var r,i=g[t].head[0];switch(null!=i&&void 0!==g[i].head[0]&&null!==g[i].head[0]&&(r=g[i].head[0],e=g[r]),g[t].prevNode=e,a){case"s":G(g[t]);break;case"b":{n=void 0;var n=g[t];let e=document.querySelector(".mgPlayerJSqa_step-view-type-branching");-1!==mg$.inArray(n.head[0],u)&&GmCXt.FT.creatorApp&&(e=document.querySelector(".branchTreeHead"+n.head[0])),u.push(n.id),new Na({target:e,props:{node:n,mergeActive:d,currentTour:P,mergeArr:p,addMergeStep:v,mergeNodeStep:w,playTourFromBranchView:L}})}c=!0;break;case"p":g[t].prevNode=g[i],A(g[t])}}mg$(".mgPlayerJSqa_collapse").css("display","none"),setTimeout(function(){mg$(".mgPlayerJSqa_branch-vconnector").remove(),mg$(".mgPlayerJSqa_branch-hconnector").remove();for(let e=0;e<g.length;e++){var r=g[e];if(2<=r.head.length)for(let a=0;a<r.head.length;a++){var i=mg$(".branchTreeHead"+r.id).offset().top,n=mg$(".branchTreeHead"+r.head[a]).offset().top,s=mg$(mg$(".branchTreeHead"+r.id).parents(".mgPlayerJSqa_branch-wrapper")[0]).offset().top,l=mg$(".branchTreeHead"+r.id).offset().left,o=mg$(".branchTreeHead"+r.head[a]).offset().left,c=mg$(mg$(".branchTreeHead"+r.id).parents(".mgPlayerJSqa_branch-wrapper")[0]).offset().left,o=parseInt(o-l),l=parseInt(l-c);let t=n-s;if(i<n){c=parseInt(n-i)+105;mg$(".branchTreeHead"+r.id).before("<wmgPlayerJSqa_ class='mgPlayerJSqa_branch-vconnector' style='height:"+c+"px'></wmgPlayerJSqa_>")}else if(n+120<i){t=n-s+(i-n)-75;let e=parseInt(i-n);mg$(".branchTreeHead"+r.head[a]).parent().hasClass("mgPlayerJSqa_branch-wrapper")?e-=105:e-=65,mg$(".branchTreeHead"+r.head[a]).append("<wmgPlayerJSqa_ class='mgPlayerJSqa_branch-vconnector mgPlayerJSqa_branch-vconnector-right' style='height:"+e+"px'></wmgPlayerJSqa_>")}mg$(mg$(".branchTreeHead"+r.id).parents(".mgPlayerJSqa_branch-wrapper")[0]).append("<wmgPlayerJSqa_ class='mgPlayerJSqa_branch-hconnector' style='top:"+t+"px;left:"+l+"px;width:"+o+"px'></wmgPlayerJSqa_>")}}},0)}function X(e,a){function r(e){var t=ge.getStepFromTour(e,a);return GmCXt.isAutomationStep(t)?(e=ge.getNode(e,P.tour_settings.play_structure))&&e.tail?r(e.tail):void 0:t}return r(e)}function k(){if(GmCXt.FT.creatorApp){let i="p",n="s",g="b",m=1,s=[],d=P.tour_settings.play_structure,p=P.steps;d=GmCXt.repairPlayStructure(d,P.steps);let u,h=(u=d&&0<d.length?d[0].id.toString():null,null),l=0,y=0;if(GmCXt.FT.creatorApp)for(let e=0;e<p.length;e++)GmCXt.checkForBranchVariationSteps(p[e])&&y++;var e;function _(e,t,a){if(t=t||null,void 0===a&&(a=null),null!==e&&!1!==e&&-1!==e||1!==m||C||0!==y)if(null===e||!1===e||-1===e)h=f(i,e,t,a),m--;else{var l=JSON.parse(JSON.stringify(function(t){for(let e=0;e<p.length;e++)if(p[e].step_id===t)return p[e]}(e)));if((h=l&&e!==u?f(i,null,null!=t?t:null,a):h)&&null!==a&&S(a,h.id),GmCXt.FT.creatorApp){var r=function(a){let r=-1;for(let e=0,t=s.length;e<t;e++){var i=s[e].step;if(i&&i.step_id===a){r=e;break}}return r}(e);if(-1!==r)return c=r,(c=s[c]).head.push(h.id),S(h.id,r),void(1!==m||C||0!==y?m--:T(s))}if(GmCXt.checkForBranchVariationSteps(l)){var o=l;var c=ge.getNode(l.step_id,P.tour_settings.play_structure);GmCXt.FT.creatorApp||y++;let a=JSON.parse(JSON.stringify(c.branch)),r=JSON.parse(JSON.stringify(o.step_settings.branch)),i=0,n=f(g,o),s;if(h=n,C=!0,a)for(let e=0;e<a.length;e++)i=e,a[e]&&(0<e&&m++,e===a.length-1&&y--,function(e){a.indexOf(e)===a.length-1&&(C=!1);var t=X(e.tail,P),t=(s=t?t.step_id:null,{name:r[i].branchName,index:a.indexOf(e).toString(),tail:s,head:n.id,stepType:o.step_type});null!==e.tail&&!1!==e.tail&&-1!==e.tail?_(s,t,n.id):_(null,t,n.id)}(a[e]));C=!1}else l&&(h=f(n,l,t),_(function(t){for(let e=0;e<d.length;e++)if(d[e].id===t){t=d[e].tail;break}var e=X(t,P);return e?e.step_id:null}(l.step_id),null,h.id))}else h=f(i,e,t,a),T(s)}function S(e,t){!GmCXt.FT.creatorApp&&null!==s[e].tail||(s[e].tail=t)}function f(e,t,a,r){t=t||null,a=a||null,null!=r&&0!==r.length||(r=[],r=h?h.id:null);e={id:l++,type:e,step:t,head:[r],tail:null,branch:a};return s[e.id]=e,r&&S(r,e.id),e}null!==(u=u&&(e=X(u,P))?e.step_id:u)&&_(u)}}function x(t){n(1,r=[]);let a=0;i.forEach(e=>{"branch"!=e.step_type&&(e.countid=++a),t.includes(e.step_id)&&("string"==typeof e.step_settings&&(e.step_settings=JSON.parse(e.step_settings)),r.push(e))})}function L(e){e=ge.getStepFromTour(e,P);ge.guideAction("",e,P,"","")}de(()=>{if(ge.checkCdnSignature().then(()=>{n(0,a=GmCXt.getCdnSign())}),i=P.steps,GmCXt.containBranchStep(P)&&!GmCXt.FT.creatorApp){y=[],i=[],function e(t){y.push(t);i.push(ge.getStepFromTour(t.id,P));if(t.tail)e(ge.getNode(t.tail,P.tour_settings.play_structure));else if(t.branch)for(var a in t.branch)e(ge.getNode(t.branch[a].tail,P.tour_settings.play_structure))}(P.tour_settings.play_structure[0]);for(const e of y)e.branch&&0==s.length?(s.push(e.id),s.push(e.branch[0].tail)):e.id===s[s.length-1]?(e.tail&&s.push(e.tail),e.branch&&s.push(e.branch[0].tail)):e.tail&&0==s.length&&(s.push(e.id),s.push(e.tail));x(s)}else n(1,r=i)});function E(e,t){mg$(".mgPlayerJSqa_branch-dropdown-list-wrapper").slideUp(200),(e=mg$(".mgPlayerJSqa_branch-dropdown-list-wrapper-"+e))&&!e.is(":visible")&&e.slideDown(200)}pe(()=>{_(),S(),me.selectedBranch.set(!1)});return e.$$.update=()=>{2048&e.$$.dirty[0]&&P&&GmCXt.FT.creatorApp&&"stepview"===ce(me.CurrentPage)&&GmCXt.timeout(function(){mg$(".mgPlayerJSqa_step-view-type-branching").empty(),k()},500)},[a,r,l,d,function(e){if(a)return e.screen_url=GmCXt.restoreAssetSrc(e.screen_url),e.is_screen_url_processed?e.screen_url.split(".png")[0]+"_cropped.png"+a:e.screen_url+a},function(){n(3,d=!1),mg$(".mgPlayerJSqa_delete-connection").css("display","block"),mg$(".mgPlayerJSqa_plus-step").css("display","block"),mg$(".mgPlayerJSqa_step-view-type-branching").empty(),k()},function(){var e;o<15&&(e=wl(++o))&&mg$(".mgPlayerJSqa_step-view-type-branching").css({transform:"scale("+e.scale+") translate("+e.transformLeft+", "+e.transformRight+")"})},function(){var e;2<o&&(e=wl(--o))&&mg$(".mgPlayerJSqa_step-view-type-branching").css({transform:"scale("+e.scale+") translate("+e.transformLeft+", "+e.transformRight+")"})},L,E,function(e,t){let a=e.step_id;me.selectedBranch.set(e.step_settings.branch[t].branchName);var e=s.indexOf(a)+1,r=s.length-1;s.splice(e,r),P.tour_settings.play_structure.forEach(e=>{s[s.length-1]===a&&e.id===a?s.push(e.branch[t].tail):s[s.length-1]===e.id&&(e.tail&&s.push(e.tail),e.branch)&&s.push(e.branch[0].tail)}),x(s)},P,e=>L(e.step_id),(e,t)=>E(e),e=>L(e.step_id)]}class Gl extends e{constructor(e){super(),t(this,e,Jl,ql,g,{},ul,[-1,-1])}}function Al(a){let r={},i={popup:(a=a||{}).popup,highlightedArea:a.highlightedArea||{},containerOffset:a.containerOffest||{left:0,top:0},alignment:a.alignment||"",hardApply:a.hardApply||!1,doNotApplyArrow:a.doNotApplyArrow||!1,arrowClass:"",left:null,top:null,isSet:!1,arrowId:a.tooltipArrowId||"",arrowWidth:a.isBeacon?5:12,isGuidance:a.isGuidance,customPos:a.customPos,isBeacon:a.isBeacon,dynamicPositioning:a.dynamicPositioning};if(i.arrowId||(i.doNotApplyArrow=!0),i.highlightedArea.origTop||(i.highlightedArea.origTop=i.highlightedArea.top),0!==i.popup.length){i.arrowId&&mg$("#"+i.arrowId).length&&mg$("#"+i.arrowId).remove(),!i.isGuidance||"top"!==i.alignment&&"bottom"!==i.alignment||(i.arrowWidth=8),i.popupWidth=i.popup.outerWidth()||310,i.popupHeight=i.popup.outerHeight()||50,i.highlightedArea.width=i.highlightedArea.width||0,i.highlightedArea.height=i.highlightedArea.height||0,i.highlightedArea.left=i.highlightedArea.left||0,i.highlightedArea.top=i.highlightedArea.top||0;let e=mg$(window).height(),t=mg$(window).width();return 0<i.highlightedArea.width&&0<i.highlightedArea.height?i.availableSpace={top:i.highlightedArea.origTop,left:i.highlightedArea.left,right:t-(i.highlightedArea.left+i.highlightedArea.width),bottom:e-(i.highlightedArea.origTop+i.highlightedArea.height)}:i.availableSpace={top:0,left:0,right:0,bottom:0},i.highlightedArea.left||i.highlightedArea.top||(i.availableSpace.top=i.availableSpace.top||0,i.availableSpace.left=i.availableSpace.left||0,i.availableSpace.right=i.availableSpace.right||0,i.availableSpace.bottom=i.availableSpace.bottom||0),void 0!==i.containerOffset&&(i.containerOffset.top<0&&(i.containerOffset.top=0),i.containerOffset.left<0&&(i.containerOffset.left=0),i.availableSpace.top+=i.containerOffset.top,i.availableSpace.left+=i.containerOffset.left,i.availableSpace.right-=i.containerOffset.left,i.availableSpace.bottom-=i.containerOffset.top),a.playingTour,0<=i.availableSpace.top&&(i.totalHeightMinusTop=e-i.availableSpace.top),0<=i.availableSpace.left&&(i.totalWidthMinusLeft=t-i.availableSpace.left),0<=i.availableSpace.bottom&&(i.totalHeightMinusBottom=e-i.availableSpace.bottom),0<=i.availableSpace.right&&(i.totalWidthMinusRight=t-i.availableSpace.right),r.getAvailablePositions=function(){return{"left-middle":n(),"left-top":l(),"left-bottom":c(),"right-middle":m(),"right-top":p(),"right-bottom":h(),"top-middle":_(),"top-left":f(),"top-right":C(),"bottom-middle":q(),"bottom-left":w(),"bottom-right":G()}},r.start=function(){switch(i.alignment){case"left":case"left-middle":s(),i.isSet||o(),i.isSet||g();break;case"left-top":o(),i.isSet||g();break;case"left-bottom":g(),i.isSet||o();break;case"right":case"right-middle":d(),i.isSet||u(),i.isSet||y();break;case"right-top":u(),i.isSet||y();break;case"right-bottom":y(),i.isSet||u();break;case"top":S(),i.isSet||P(),i.isSet||b();break;case"top-middle":S();break;case"top-left":P();break;case"top-right":b();break;case"bottom":v(),i.isSet||J(),i.isSet||A();break;case"bottom-middle":v();break;case"bottom-left":J();break;case"bottom-right":A();break;case"center":T();break;case"custom":"px"===i.customPos.left_pos?i.left=i.highlightedArea.left+i.customPos.left:"%"===i.customPos.left_pos&&(i.left=i.highlightedArea.left+i.highlightedArea.width*i.customPos.left/100,i.isBeacon)&&(i.left=i.left-i.popupWidth/2),"px"===i.customPos.top_pos?i.top=i.highlightedArea.top+i.customPos.top:"%"===i.customPos.top_pos&&(i.top=i.highlightedArea.top+i.highlightedArea.height*i.customPos.top/100,i.isBeacon)&&(i.top=i.top-i.popupHeight/2),i.isSet=!0,i.alignment="custom"}var e;return!1===i.hardApply&&(i.isSet||d(),i.isSet||u(),i.isSet||y(),i.isSet||s(),i.isSet||o(),i.isSet||g(),i.isSet||S(),i.isSet||P(),i.isSet||b(),i.isSet||v(),i.isSet||J(),i.isSet||A(),i.isSet||T()),null!==i.left&&null!==i.top&&(i.top<0&&(i.top=10),0<(e=mg$(".mgPlayerJSqa_screen").scrollTop())&&(i.top-=e),0<(e=mg$(".mgPlayerJSqa_screen").scrollLeft())&&(i.left-=e),i.popup.css({left:i.left+i.containerOffset.left,top:i.top+i.containerOffset.top})),i.arrowId&&(i.arrowClass=i.arrowClass+" mgPlayerJSqa_tooltip-arrow"),mg$(".mgPlayerJSqa_arrow-down").not(".mgPlayerJSqa_tooltip-arrow").remove(),mg$(".mgPlayerJSqa_arrow-up").not(".mgPlayerJSqa_tooltip-arrow").remove(),mg$(".mgPlayerJSqa_arrow-left").not(".mgPlayerJSqa_tooltip-arrow").remove(),mg$(".mgPlayerJSqa_arrow-right").not(".mgPlayerJSqa_tooltip-arrow").remove(),i.arrowLeft+=i.containerOffset.left,i.arrowLeft+=mg$(window).scrollLeft(),i.arrowTop+=i.containerOffset.top,i.arrowTop+=mg$(window).scrollTop(),i.doNotApplyArrow||mg$("html").append('<wmgPlayerJSqa_ id= "'+i.arrowId+'" class="'+i.arrowClass+'" style="left:'+i.arrowLeft+"px;top:"+i.arrowTop+'px;"></wmgPlayerJSqa_>'),!!i.isSet&&i.alignment},r.checkHeight=function(){var e=i.popup.outerHeight();i.popupHeight!==e&&r.redo()},r.redo=function(){i.isGuidance&&(i.arrowWidth=8),i.popupWidth=i.popup.outerWidth(),i.popupHeight=i.popup.outerHeight(),r.start()},r.clear=function(){GmCXt.clearPreviewPopupAlignment(i.popup),mg$(".mgPlayerJSqa_arrow-down").not(".mgPlayerJSqa_tooltip-arrow").remove(),mg$(".mgPlayerJSqa_arrow-up").not(".mgPlayerJSqa_tooltip-arrow").remove(),mg$(".mgPlayerJSqa_arrow-left").not(".mgPlayerJSqa_tooltip-arrow").remove(),mg$(".mgPlayerJSqa_arrow-right").not(".mgPlayerJSqa_tooltip-arrow").remove(),i.popup.css({left:0,top:0})},r;function n(){return!i.dynamicPositioning||Math.abs(i.availableSpace.left)>i.popupWidth&&i.highlightedArea.height/2<screen.height&&Math.abs(i.availableSpace.top)+i.highlightedArea.height/2>i.popupHeight/2&&Math.abs(i.availableSpace.bottom)+i.highlightedArea.height/2>i.popupHeight/2}function s(){n()&&(i.left=i.highlightedArea.left-i.popupWidth-i.arrowWidth,i.top=i.highlightedArea.top+i.highlightedArea.height/2-i.popupHeight/2,i.arrowClass="mgPlayerJSqa_arrow-right",i.arrowLeft=i.highlightedArea.left-12,i.arrowTop=i.top+i.popupHeight/2-10,i.isSet=!0,i.alignment="left-middle")}function l(){return!i.dynamicPositioning||Math.abs(i.availableSpace.left)>i.popupWidth&&i.totalHeightMinusTop>i.popupHeight}function o(){l()&&(i.left=i.highlightedArea.left-i.popupWidth-i.arrowWidth,i.top=i.highlightedArea.top,i.arrowClass="mgPlayerJSqa_arrow-right",i.arrowLeft=i.highlightedArea.left-12,i.arrowTop=i.top+7,i.isSet=!0,i.alignment="left-top")}function c(){return!i.dynamicPositioning||Math.abs(i.availableSpace.left)>i.popupWidth&&i.totalHeightMinusBottom>i.popupHeight}function g(){c()&&(i.left=i.highlightedArea.left-i.popupWidth-i.arrowWidth,i.top=i.highlightedArea.top+i.highlightedArea.height-i.popupHeight,i.arrowClass="mgPlayerJSqa_arrow-right",i.arrowLeft=i.highlightedArea.left-12,i.arrowTop=i.top+(i.popupHeight-30),i.isSet=!0,i.alignment="left-bottom")}function m(){return!i.dynamicPositioning||i.availableSpace.right>i.popupWidth&&i.highlightedArea.height/2<screen.height&&Math.abs(i.availableSpace.top)+i.highlightedArea.height/2>i.popupHeight/2&&Math.abs(i.availableSpace.bottom)+i.highlightedArea.height/2>i.popupHeight/2}function d(){m()&&(i.left=i.highlightedArea.left+i.highlightedArea.width+i.arrowWidth,i.top=i.highlightedArea.top+i.highlightedArea.height/2-i.popupHeight/2,i.arrowClass="mgPlayerJSqa_arrow-left",i.arrowLeft=i.left-10,i.arrowTop=i.top+i.popupHeight/2-10,i.isSet=!0,i.alignment="right-middle")}function p(){return!i.dynamicPositioning||i.availableSpace.right>i.popupWidth&&i.totalHeightMinusTop>i.popupHeight}function u(){p()&&(i.left=i.highlightedArea.left+i.highlightedArea.width+i.arrowWidth,i.top=i.highlightedArea.top,i.arrowClass="mgPlayerJSqa_arrow-left",i.arrowLeft=i.left-10,i.arrowTop=i.top+7,i.isSet=!0,i.alignment="right-top")}function h(){return!i.dynamicPositioning||i.availableSpace.right>i.popupWidth&&i.totalHeightMinusBottom>i.popupHeight}function y(){h()&&(i.left=i.highlightedArea.left+i.highlightedArea.width+i.arrowWidth,i.top=i.highlightedArea.top+i.highlightedArea.height-i.popupHeight,i.arrowClass="mgPlayerJSqa_arrow-left",i.arrowLeft=i.left-10,i.arrowTop=i.top+(i.popupHeight-30),i.isSet=!0,i.alignment="right-bottom")}function _(){return!i.dynamicPositioning||Math.abs(i.availableSpace.top)>i.popupHeight+15&&i.totalWidthMinusLeft>i.popupWidth/2&&Math.abs(i.availableSpace.left)+i.highlightedArea.width/2>i.popupWidth/2&&i.availableSpace.right+i.highlightedArea.width/2>i.popupWidth/2}function S(){_()&&(i.left=i.highlightedArea.left+i.highlightedArea.width/2-i.popupWidth/2,i.top=i.highlightedArea.top-i.popupHeight-i.arrowWidth,i.arrowClass="mgPlayerJSqa_arrow-down",i.arrowLeft=i.highlightedArea.left+i.highlightedArea.width/2-8,i.arrowTop=i.highlightedArea.top-12,i.isSet=!0,i.alignment="top-middle")}function f(){return!i.dynamicPositioning||Math.abs(i.availableSpace.top)>i.popupHeight+15&&i.totalWidthMinusLeft>i.popupWidth}function P(){f()&&(i.left=i.highlightedArea.left,i.top=i.highlightedArea.top-i.popupHeight-i.arrowWidth,i.arrowClass="mgPlayerJSqa_arrow-down",i.arrowLeft=i.highlightedArea.left+7,i.arrowTop=i.highlightedArea.top-12,i.isSet=!0,i.alignment="top-left")}function C(){return!i.dynamicPositioning||Math.abs(i.availableSpace.top)>i.popupHeight+15&&i.totalWidthMinusRight>i.popupWidth}function b(){C()&&(i.left=i.highlightedArea.left+i.highlightedArea.width-i.popupWidth,i.top=i.highlightedArea.top-i.popupHeight-i.arrowWidth,i.arrowClass="mgPlayerJSqa_arrow-down",i.arrowLeft=i.highlightedArea.left+i.highlightedArea.width-27,i.arrowTop=i.highlightedArea.top-12,i.isSet=!0,i.alignment="top-right")}function q(){return!i.dynamicPositioning||Math.abs(i.availableSpace.bottom)>i.popupHeight&&i.totalWidthMinusLeft>i.popupWidth/2&&Math.abs(i.availableSpace.left)+i.highlightedArea.width/2>i.popupWidth/2&&i.availableSpace.right+i.highlightedArea.width/2>i.popupWidth/2}function v(){q()&&(i.left=i.highlightedArea.left+i.highlightedArea.width/2-i.popupWidth/2,i.top=i.highlightedArea.top+i.highlightedArea.height+i.arrowWidth,i.arrowClass="mgPlayerJSqa_arrow-up",i.arrowLeft=i.highlightedArea.left+i.highlightedArea.width/2-8,i.arrowTop=i.highlightedArea.top+i.highlightedArea.height+2,i.isSet=!0,i.alignment="bottom-middle")}function w(){return!i.dynamicPositioning||Math.abs(i.availableSpace.bottom)>i.popupHeight&&i.totalWidthMinusLeft>i.popupWidth}function J(){w()&&(i.left=i.highlightedArea.left,i.top=i.highlightedArea.top+i.highlightedArea.height+i.arrowWidth,i.arrowClass="mgPlayerJSqa_arrow-up",i.arrowLeft=i.highlightedArea.left+7,i.arrowTop=i.highlightedArea.top+i.highlightedArea.height+2,i.isSet=!0,i.alignment="bottom-left")}function G(){return!i.dynamicPositioning||Math.abs(i.availableSpace.bottom)>i.popupHeight&&i.totalWidthMinusRight>i.popupWidth}function A(){G()&&(i.left=i.highlightedArea.left+i.highlightedArea.width-i.popupWidth,i.top=i.highlightedArea.top+i.highlightedArea.height+i.arrowWidth,i.arrowClass="mgPlayerJSqa_arrow-up",i.arrowLeft=i.highlightedArea.left+i.highlightedArea.width-27,i.arrowTop=i.highlightedArea.top+i.highlightedArea.height+2,i.isSet=!0,i.alignment="bottom-right")}function T(){i.left=(t-i.popupWidth)/2,i.left+=mg$(window).scrollLeft(),i.top=(e-i.popupHeight)/2,i.top+=mg$(window).scrollTop(),i.isSet=!0,i.alignment="center"}}}function Tl(e,t,a){e=e.slice();return e[105]=t[a],e[106]=t,e[107]=a,e}function Xl(e,t,a){e=e.slice();return e[105]=t[a],e[111]=t,e[109]=a,e}function kl(e,t,a){e=e.slice();return e[105]=t[a],e[110]=t,e[109]=a,e}function xl(e,t,a){e=e.slice();return e[105]=t[a],e[108]=t,e[109]=a,e}function Ll(){let a,r;return a=new us({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function El(e){let a,r=!GmCXt.isEmpty(e[11]),i,n=r&&Ml(e);return{c(){a=Ee("wmgPlayerJSqa_"),n&&n.c(),$e(a,"class","mgPlayerJSqa_clear mgPlayerJSqa_howto-paint-tool-container"),Oe(a,"mgPlayerJSqa_disabled",e[0].disableSaveButton||e[12])},m(e,t){xe(e,a,t),n&&n.m(a,null),i=!0},p(e,t){(r=2048&t[0]?!GmCXt.isEmpty(e[11]):r)?n?(n.p(e,t),2048&t[0]&&Ne(n,1)):((n=Ml(e)).c(),Ne(n,1),n.m(a,null)):n&&(Re(),Be(n,1,1,()=>{n=null}),He()),(!i||4097&t[0])&&Oe(a,"mgPlayerJSqa_disabled",e[0].disableSaveButton||e[12])},i(e){i||(Ne(n),i=!0)},o(e){Be(n),i=!1},d(e){e&&Le(a),n&&n.d()}}}function Ml(t){let r,a;var e={innerPaintTool:!0,step:t[11],toggleCropTool:t[27],initHowToPaintToolbar:t[29],updateStepData:t[30],checkHighlightAdd:t[28],isHowToPaintTool:!0};return r=new Na({props:e}),t[31](r),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};2048&t[0]&&(a.step=e[11]),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){t[31](null),Ue(r,e)}}}function Il(e){let r,a,i,n,s,l;const o=[Fl,$l,Dl],c=[];function g(e,t){return 9&t[0]&&(a=null),9&t[0]&&(i=null),e[0].filteredSteps&&0<e[0].filteredSteps.length?0:(a=null==a?!!e[3].isLocked(e[0]):a)?1:(i=null==i?!(0<e[0]?.filteredSteps?.length||0===e[0]?.filteredSteps?.length&&e[3].isLocked(e[0])):i)?2:-1}return~(n=g(e,[-1,-1,-1,-1]))&&(s=c[n]=o[n](e)),{c(){r=Ee("wmgPlayerJSqa_"),s&&s.c(),$e(r,"class","mgPlayerJSqa_category-list"),$e(r,"id","mgPlayerJSqa_category-list")},m(e,t){xe(e,r,t),~n&&c[n].m(r,null),l=!0},p(e,t){let a=n;(n=g(e,t))===a?~n&&c[n].p(e,t):(s&&(Re(),Be(c[a],1,1,()=>{c[a]=null}),He()),~n?((s=c[n])?s.p(e,t):(s=c[n]=o[n](e)).c(),Ne(s,1),s.m(r,null)):s=null)},i(e){l||(Ne(s),l=!0)},o(e){Be(s),l=!1},d(e){e&&Le(r),~n&&c[n].d()}}}function Dl(e){let a,r,i=e[3].svgs.noStep+"",n,s,l=e[3].labels.startYoursmartWalkthrough+"",o,c,g,m;return g=new Na({props:{step:{}}}),{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Ie(),s=Ee("wmgPlayerJSqa_"),o=Me(l),c=Ie(),Ve(g.$$.fragment),$e(r,"class","mgPlayerJSqa_no-step-created"),$e(s,"class","mgPlayerJSqa_label"),$e(a,"class","mgPlayerJSqa_add-branching-container")},m(e,t){xe(e,a,t),ke(a,r),r.innerHTML=i,ke(a,n),ke(a,s),ke(s,o),ke(a,c),ze(g,a,null),m=!0},p(e,t){(!m||8&t[0])&&i!==(i=e[3].svgs.noStep+"")&&(r.innerHTML=i),(!m||8&t[0])&&l!==(l=e[3].labels.startYoursmartWalkthrough+"")&&Fe(o,l)},i(e){m||(Ne(g.$$.fragment,e),m=!0)},o(e){Be(g.$$.fragment,e),m=!1},d(e){e&&Le(a),Ue(g)}}}function $l(e){let a,r,i,n=e[3].svgs.no_guides_image+"",s,l,o,c=e[3].labels.lockedTourNoStep+"",g;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Ee("wmgPlayerJSqa_"),g=Me(c),$e(i,"class","mgPlayerJSqa_no-guide-image-cartoon"),$e(r,"class","mgPlayerJSqa_no-guide-image-wrapper"),$e(o,"class","mgPlayerJSqa_no-guide-msg"),$e(o,"tabindex","0"),$e(l,"class","mgPlayerJSqa_no-guide-text-wrapper"),$e(a,"class","mgPlayerJSqa_no-tour-message-wrapper mgPlayerJSqa_position-center")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),i.innerHTML=n,ke(a,s),ke(a,l),ke(l,o),ke(o,g)},p(e,t){8&t[0]&&n!==(n=e[3].svgs.no_guides_image+"")&&(i.innerHTML=n),8&t[0]&&c!==(c=e[3].labels.lockedTourNoStep+"")&&Fe(g,c)},i:we,o:we,d(e){e&&Le(a)}}}function Fl(e){let a,r,i,n,s,l,o;const c=[Hl,Rl,Ol],g=[];function m(e,t){return 9&t[0]&&(a=null),65&t[0]&&(r=null),(a=null==a?!!e[3].showBranchView(e[0]):a)?0:(r=null==r?!(GmCXt.isOnboarding(e[0])||e[6]):r)?1:2}i=m(e,[-1,-1,-1,-1]),n=g[i]=c[i](e);let d=GmCXt.FT.creatorApp&&e[0].isEditMode&&Zl(e);return{c(){n.c(),s=Ie(),d&&d.c(),l=M()},m(e,t){g[i].m(e,t),xe(e,s,t),d&&d.m(e,t),xe(e,l,t),o=!0},p(e,t){let a=i;(i=m(e,t))===a?g[i].p(e,t):(Re(),Be(g[a],1,1,()=>{g[a]=null}),He(),(n=g[i])?n.p(e,t):(n=g[i]=c[i](e)).c(),Ne(n,1),n.m(s.parentNode,s)),GmCXt.FT.creatorApp&&e[0].isEditMode?d?d.p(e,t):((d=Zl(e)).c(),d.m(l.parentNode,l)):d&&(d.d(1),d=null)},i(e){o||(Ne(n),o=!0)},o(e){Be(n),o=!1},d(e){e&&(Le(s),Le(l)),g[i].d(e),d&&d.d(e)}}}function Ol(t){let i,r,n=I(t[0].filteredSteps),s=[];for(let e=0;e<n.length;e+=1)s[e]=Nl(Xl(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();i=M()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);xe(t,i,a),r=!0},p(t,a){if(33&a[0]){n=I(t[0].filteredSteps);let e;for(e=0;e<n.length;e+=1){var r=Xl(t,n,e);s[e]?(s[e].p(r,a),Ne(s[e],1)):(s[e]=Nl(r),s[e].c(),Ne(s[e],1),s[e].m(i.parentNode,i))}for(Re(),e=n.length;e<s.length;e+=1)(e=>Be(s[e],1,1,()=>{s[e]=null}))(e);He()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)Ne(s[e]);r=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Be(s[e]);r=!1},d(e){e&&Le(i),$(s,e)}}}function Rl(t){let i,a,n=I(t[0].filteredSteps),s=[];for(let e=0;e<n.length;e+=1)s[e]=Ul(kl(t,n,e));return{c(){i=Ee("wmgPlayerJSqa_");for(let e=0;e<s.length;e+=1)s[e].c();$e(i,"class","mgPlayerJSqa_step-view-type-default")},m(e,t){xe(e,i,t);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null);a=!0},p(t,a){if(67231791&a[0]){n=I(t[0].filteredSteps);let e;for(e=0;e<n.length;e+=1){var r=kl(t,n,e);s[e]?(s[e].p(r,a),Ne(s[e],1)):(s[e]=Ul(r),s[e].c(),Ne(s[e],1),s[e].m(i,null))}for(Re(),e=n.length;e<s.length;e+=1)(e=>Be(s[e],1,1,()=>{s[e]=null}))(e);He()}},i(e){if(!a){for(let e=0;e<n.length;e+=1)Ne(s[e]);a=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Be(s[e]);a=!1},d(e){e&&Le(i),$(s,e)}}}function Hl(t){let r,i,n,s,l=(r=new Gl({}),I(t[0].filteredSteps)),o=[];for(let e=0;e<l.length;e+=1)o[e]=Wl(xl(t,l,e));return{c(){Ve(r.$$.fragment),i=Ie();for(let e=0;e<o.length;e+=1)o[e].c();n=M()},m(t,a){ze(r,t,a),xe(t,i,a);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,a);xe(t,n,a),s=!0},p(t,a){if(33&a[0]){l=I(t[0].filteredSteps);let e;for(e=0;e<l.length;e+=1){var r=xl(t,l,e);o[e]?(o[e].p(r,a),Ne(o[e],1)):(o[e]=Wl(r),o[e].c(),Ne(o[e],1),o[e].m(n.parentNode,n))}for(Re(),e=l.length;e<o.length;e+=1)(e=>Be(o[e],1,1,()=>{o[e]=null}))(e);He()}},i(e){if(!s){Ne(r.$$.fragment,e);for(let e=0;e<l.length;e+=1)Ne(o[e]);s=!0}},o(e){Be(r.$$.fragment,e),o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Be(o[e]);s=!1},d(e){e&&(Le(i),Le(n)),Ue(r,e),$(o,e)}}}function Nl(a){let r,i,n,s,l,o;function e(e){a[40](e,a[105],a[111],a[109])}var t={index:a[109],tour:a[0],imageUploadData:a[5]};return void 0!==a[105]&&(t.step=a[105]),i=new pl({props:t}),ue.push(()=>U(i,"step",e)),{c(){r=Ee("wmgPlayerJSqa_"),Ve(i.$$.fragment),s=Ie(),$e(r,"class","mgPlayerJSqa_tg-view-container"),$e(r,"id",l="mgPlayerJSqa_tg-view-container-"+a[105].step_id)},m(e,t){xe(e,r,t),ze(i,r,null),ke(r,s),o=!0},p(e,t){a=e;e={};1&t[0]&&(e.tour=a[0]),32&t[0]&&(e.imageUploadData=a[5]),!n&&1&t[0]&&(n=!0,e.step=a[105],z(()=>n=!1)),i.$set(e),(!o||1&t[0]&&l!==(l="mgPlayerJSqa_tg-view-container-"+a[105].step_id))&&$e(r,"id",l)},i(e){o||(Ne(i.$$.fragment,e),o=!0)},o(e){Be(i.$$.fragment,e),o=!1},d(e){e&&Le(r),Ue(i)}}}function Bl(a){let r,i,n;function e(e){a[39](e,a[105],a[110],a[109])}var t={index:a[109],tour:a[0],imageUploadData:a[5]};return void 0!==a[105]&&(t.step=a[105]),r=new pl({props:t}),ue.push(()=>U(r,"step",e)),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),n=!0},p(e,t){a=e;e={};1&t[0]&&(e.tour=a[0]),32&t[0]&&(e.imageUploadData=a[5]),!i&&1&t[0]&&(i=!0,e.step=a[105],z(()=>i=!1)),r.$set(e)},i(e){n||(Ne(r.$$.fragment,e),n=!0)},o(e){Be(r.$$.fragment,e),n=!1},d(e){Ue(r,e)}}}function Vl(a){let r,i,n;function e(e){a[38](e,a[105],a[110],a[109])}var t={index:a[109],tour:a[0],imageUploadData:a[5]};return void 0!==a[105]&&(t.step=a[105]),r=new pl({props:t}),ue.push(()=>U(r,"step",e)),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),n=!0},p(e,t){a=e;e={};1&t[0]&&(e.tour=a[0]),32&t[0]&&(e.imageUploadData=a[5]),!i&&1&t[0]&&(i=!0,e.step=a[105],z(()=>i=!1)),r.$set(e)},i(e){n||(Ne(r.$$.fragment,e),n=!0)},o(e){Be(r.$$.fragment,e),n=!1},d(e){Ue(r,e)}}}function zl(a){let r,i,n,s,l,o,c;function e(e){a[33](e,a[105],a[110],a[109])}var t={index:a[109],tour:a[0],imageUploadData:a[5]};function g(...e){return a[34](a[105],a[109],...e)}function m(...e){return a[36](a[109],...e)}return void 0!==a[105]&&(t.step=a[105]),i=new pl({props:t}),ue.push(()=>U(i,"step",e)),{c(){r=Ee("wmgPlayerJSqa_"),Ve(i.$$.fragment),s=Ie(),$e(r,"draggable","true")},m(e,t){xe(e,r,t),ze(i,r,null),ke(r,s),l=!0,o||(c=[De(r,"dragstart",g),De(r,"drag",a[35]),De(r,"dragover",m),De(r,"dragend",a[37])],o=!0)},p(e,t){a=e;e={};1&t[0]&&(e.tour=a[0]),32&t[0]&&(e.imageUploadData=a[5]),!n&&1&t[0]&&(n=!0,e.step=a[105],z(()=>n=!1)),i.$set(e)},i(e){l||(Ne(i.$$.fragment,e),l=!0)},o(e){Be(i.$$.fragment,e),l=!1},d(e){e&&Le(r),Ue(i),o=!1,Xe(c)}}}function Ul(e){let a,r,i,n,s;const l=[zl,Vl,Bl],o=[];function c(e,t){return(a=null==(a=9&t[0]?null:a)?!(e[3].isTrackingGuide(e[0])||("user"===e[3].user.role||!GmCXt.FT.creatorApp||e[0].is_published||e[3].isLocked(e[0])||e[0].filteredSteps.length<=1||0<e[3].pendingStepCount||e[3].isDesktopApp()||e[3].hideMirrorAppCtrl()||e[0].isEditMode)):a)?0:0<!e[3].pendingStepCount?1:2}return r=c(e,[-1,-1,-1,-1]),i=o[r]=l[r](e),{c(){i.c(),n=M()},m(e,t){o[r].m(e,t),xe(e,n,t),s=!0},p(e,t){let a=r;(r=c(e,t))===a?o[r].p(e,t):(Re(),Be(o[a],1,1,()=>{o[a]=null}),He(),(i=o[r])?i.p(e,t):(i=o[r]=l[r](e)).c(),Ne(i,1),i.m(n.parentNode,n))},i(e){s||(Ne(i),s=!0)},o(e){Be(i),s=!1},d(e){e&&Le(n),o[r].d(e)}}}function jl(a){let r,i,n,s,l,o;function e(e){a[32](e,a[105],a[108],a[109])}var t={index:a[109],tour:a[0],imageUploadData:a[5]};return void 0!==a[105]&&(t.step=a[105]),n=new pl({props:t}),ue.push(()=>U(n,"step",e)),{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),Ve(n.$$.fragment),l=Ie(),$e(i,"class","mgPlayerJSqa_captured-settings-container"),$e(r,"class","mgPlayerJSqa_step-view-type-default")},m(e,t){xe(e,r,t),ke(r,i),ze(n,i,null),ke(r,l),o=!0},p(e,t){a=e;e={};1&t[0]&&(e.tour=a[0]),32&t[0]&&(e.imageUploadData=a[5]),!s&&1&t[0]&&(s=!0,e.step=a[105],z(()=>s=!1)),n.$set(e)},i(e){o||(Ne(n.$$.fragment,e),o=!0)},o(e){Be(n.$$.fragment,e),o=!1},d(e){e&&Le(r),Ue(n)}}}function Wl(e){let a,r,i=(e[105].isEdit||e[105].isCreation)&&e[0].isEditMode&&jl(e);return{c(){i&&i.c(),a=M()},m(e,t){i&&i.m(e,t),xe(e,a,t),r=!0},p(e,t){(e[105].isEdit||e[105].isCreation)&&e[0].isEditMode?i?(i.p(e,t),1&t[0]&&Ne(i,1)):((i=jl(e)).c(),Ne(i,1),i.m(a.parentNode,a)):i&&(Re(),Be(i,1,1,()=>{i=null}),He())},i(e){r||(Ne(i),r=!0)},o(e){Be(i),r=!1},d(e){e&&Le(a),i&&i.d(e)}}}function Zl(a){let r,i,n=a[3].labels.save+"",s,l,o,c,g=a[3].labels.btnCancel+"",m,d,p;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Me(n),o=Ie(),c=Ee("wmgPlayerJSqa_"),m=Me(g),$e(i,"id","mgPlayerJSqa_step-edit-save"),$e(i,"class",l="mgPlayerJSqa_btn-default mgPlayerJSqa_margin-lr-25 mgPlayerJSqa_disabledSaveBtn "+(a[0].disableSaveButton&&!a[3].isAiSuggesionSteps||a[12]?"mgPlayerJSqa_disabled":"")),$e(c,"id","mgPlayerJSqa_step-edit-cancel"),$e(c,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_btn-neutral mgPlayerJSqa_margin-lr-25 mgPlayerJSqa_disabledSaveBtn"),$e(r,"class","mgPlayerJSqa_step-edit-footer-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center")},m(e,t){xe(e,r,t),ke(r,i),ke(i,s),ke(r,o),ke(r,c),ke(c,m),d||(p=[De(i,"click",a[41]),De(c,"click",a[42])],d=!0)},p(e,t){8&t[0]&&n!==(n=e[3].labels.save+"")&&Fe(s,n),4105&t[0]&&l!==(l="mgPlayerJSqa_btn-default mgPlayerJSqa_margin-lr-25 mgPlayerJSqa_disabledSaveBtn "+(e[0].disableSaveButton&&!e[3].isAiSuggesionSteps||e[12]?"mgPlayerJSqa_disabled":""))&&$e(i,"class",l),8&t[0]&&g!==(g=e[3].labels.btnCancel+"")&&Fe(m,g)},d(e){e&&Le(r),d=!1,Xe(p)}}}function Yl(a){let r,i,n,s,l,o,c,g,m,d,p,u=a[3].labels.btnSelectAll+"",h,y,_,S,f,P=a[3].svgs.search+"",C,b,q,v,w,J=a[3].svgs.search_close+"",G,A,T,X=a[17]()&&a[7],k,x;function L(e){return e[7]&&e[9].length?Ql:Kl}let E=L(a),M=E(a),I=X&&ao(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("label"),l=Ee("input"),c=Ie(),g=Ee("wmgPlayerJSqa_"),d=Ie(),p=Ee("wmgPlayerJSqa_"),h=Me(u),y=Ie(),_=Ee("wmgPlayerJSqa_"),S=Ee("wmgPlayerJSqa_"),f=Ee("wmgPlayerJSqa_"),C=Ie(),b=Ee("input"),v=Ie(),w=Ee("button"),A=Ie(),M.c(),T=Ie(),I&&I.c(),$e(l,"type","checkbox"),$e(l,"class","mgPlayerJSqa_export-guide-checkbox mgPlayerJSqa_inline-block-vm mgPlayerJSqa_input-checkbox-custom"),$e(l,"name","export-guide-checkbox"),l.__value=o=a[3].labels.btnSelectAll,je(l,l.__value),$e(g,"class","mgPlayerJSqa_span mgPlayerJSqa_checkmark"),$e(s,"class",m="mgPlayerJSqa_checkbox-container "+(a[7]?"":"mgPlayerJSqa_disabled")),$e(p,"class","mgPlayerJSqa_margin-lr-25"),$e(f,"class","mgPlayerJSqa_search-icon mgPlayerJSqa_inline-block-vm"),$e(b,"id","mgPlayerJSqa_search-text-input"),$e(b,"class","mgPlayerJSqa_search-input mgPlayerJSqa_inline-block-vm mgPlayerJSqa_width-100 mgPlayerJSqa_height-100"),$e(b,"maxlength","100"),$e(b,"type","text"),$e(b,"placeholder",q=a[3].labels.btnSearchSteps),$e(b,"autocomplete","off"),$e(w,"id","mgPlayerJSqa_icon-search-close"),$e(w,"class",G="mgPlayerJSqa_search-close-icon mgPlayerJSqa_cursor-pointer mgPlayerJSqa_inline-block-vm mgPlayerJSqa_lbl-btn "+(a[3].searchStepKeyword&&a[3].searchStepKeyword.length?"mgPlayerJSqa_active":"")),$e(S,"class","mgPlayerJSqa_search-input-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_float-left"),$e(_,"class","mgPlayerJSqa_search-bar-container"),$e(n,"class","mgPlayerJSqa_step-copy-delete-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between"),$e(i,"class","mgPlayerJSqa_auto-header-bar-container"),$e(r,"class","mgPlayerJSqa_step-copy-delete-container")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),ke(s,l),l.checked=a[8],ke(s,c),ke(s,g),ke(n,d),ke(n,p),ke(p,h),ke(n,y),ke(n,_),ke(_,S),ke(S,f),f.innerHTML=P,ke(S,C),ke(S,b),je(b,a[3].searchStepKeyword),ke(S,v),ke(S,w),w.innerHTML=J,ke(r,A),M.m(r,null),ke(r,T),I&&I.m(r,null),k||(x=[De(l,"change",a[43]),De(l,"click",a[44]),De(b,"input",a[45]),De(b,"keyup",a[46]),De(w,"click",a[47])],k=!0)},p(e,t){8&t[0]&&o!==(o=e[3].labels.btnSelectAll)&&(l.__value=o,je(l,l.__value)),256&t[0]&&(l.checked=e[8]),128&t[0]&&m!==(m="mgPlayerJSqa_checkbox-container "+(e[7]?"":"mgPlayerJSqa_disabled"))&&$e(s,"class",m),8&t[0]&&u!==(u=e[3].labels.btnSelectAll+"")&&Fe(h,u),8&t[0]&&P!==(P=e[3].svgs.search+"")&&(f.innerHTML=P),8&t[0]&&q!==(q=e[3].labels.btnSearchSteps)&&$e(b,"placeholder",q),8&t[0]&&b.value!==e[3].searchStepKeyword&&je(b,e[3].searchStepKeyword),8&t[0]&&J!==(J=e[3].svgs.search_close+"")&&(w.innerHTML=J),8&t[0]&&G!==(G="mgPlayerJSqa_search-close-icon mgPlayerJSqa_cursor-pointer mgPlayerJSqa_inline-block-vm mgPlayerJSqa_lbl-btn "+(e[3].searchStepKeyword&&e[3].searchStepKeyword.length?"mgPlayerJSqa_active":""))&&$e(w,"class",G),E===(E=L(e))&&M?M.p(e,t):(M.d(1),(M=E(e))&&(M.c(),M.m(r,T))),(X=128&t[0]?e[17]()&&e[7]:X)?I?I.p(e,t):((I=ao(e)).c(),I.m(r,null)):I&&(I.d(1),I=null)},d(e){e&&Le(r),M.d(),I&&I.d(),k=!1,Xe(x)}}}function Kl(e){let a,r,i=e[3].labels.stepNotFound+"",n;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Me(i),$e(r,"class","mgPlayerJSqa_no-step-found-msg"),$e(a,"class","mgPlayerJSqa_category-list")},m(e,t){xe(e,a,t),ke(a,r),ke(r,n)},p(e,t){8&t[0]&&i!==(i=e[3].labels.stepNotFound+"")&&Fe(n,i)},d(e){e&&Le(a)}}}function Ql(t){let i,n=I(t[9]),s=[];for(let e=0;e<n.length;e+=1)s[e]=to(Tl(t,n,e));return{c(){i=Ee("wmgPlayerJSqa_");for(let e=0;e<s.length;e+=1)s[e].c();$e(i,"class","mgPlayerJSqa_category-list")},m(e,t){xe(e,i,t);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null)},p(t,a){if(4194816&a[0]){n=I(t[9]);let e;for(e=0;e<n.length;e+=1){var r=Tl(t,n,e);s[e]?s[e].p(r,a):(s[e]=to(r),s[e].c(),s[e].m(i,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}},d(e){e&&Le(i),$(s,e)}}}function eo(a){let r,i,n,s,l,o,c,g,m,d,p=so(a[105].step_order+". "+a[105].step_title+" "+a[105].step_description+(a[105].step_settings.smartTip.guidanceMessage||a[105].step_settings.smartTip.validationMessage||""))+"",u,h,y;function _(){a[48].call(s,a[106],a[107])}return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("label"),s=Ee("input"),o=Ie(),c=Ee("wmgPlayerJSqa_"),m=Ie(),d=Ee("wmgPlayerJSqa_"),u=Ie(),$e(s,"type","checkbox"),$e(s,"class","mgPlayerJSqa_export-guide-checkbox mgPlayerJSqa_inline-block-vm mgPlayerJSqa_input-checkbox-custom"),$e(s,"name","copy-guide-checkbox"),s.__value=l=a[105].step_id,je(s,s.__value),$e(c,"class",g="mgPlayerJSqa_span mgPlayerJSqa_checkmark "+("branch"===a[105].step_type?"mgPlayerJSqa_disabled":"")),$e(n,"class","mgPlayerJSqa_checkbox-container"),$e(d,"class","mgPlayerJSqa_margin-lr-25 mgPlayerJSqa_text-overflow-ellipsis"),$e(i,"class","mgPlayerJSqa_tour-list-copy-delete-wrapper"),$e(r,"class","mgPlayerJSqa_tour-item")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),s.checked=a[105].copy,ke(n,o),ke(n,c),ke(i,m),ke(i,d),d.innerHTML=p,ke(r,u),h||(y=[De(s,"change",_),De(s,"change",a[49])],h=!0)},p(e,t){a=e,512&t[0]&&l!==(l=a[105].step_id)&&(s.__value=l,je(s,s.__value)),512&t[0]&&(s.checked=a[105].copy),512&t[0]&&g!==(g="mgPlayerJSqa_span mgPlayerJSqa_checkmark "+("branch"===a[105].step_type?"mgPlayerJSqa_disabled":""))&&$e(c,"class",g),512&t[0]&&p!==(p=so(a[105].step_order+". "+a[105].step_title+" "+a[105].step_description+(a[105].step_settings.smartTip.guidanceMessage||a[105].step_settings.smartTip.validationMessage||""))+"")&&(d.innerHTML=p)},d(e){e&&Le(r),h=!1,Xe(y)}}}function to(e){let a,r=!e[105].hide&&eo(e);return{c(){r&&r.c(),a=M()},m(e,t){r&&r.m(e,t),xe(e,a,t)},p(e,t){e[105].hide?r&&(r.d(1),r=null):r?r.p(e,t):((r=eo(e)).c(),r.m(a.parentNode,a))},d(e){e&&Le(a),r&&r.d(e)}}}function ao(a){let r,i,n,s=a[3].labels.btnCancel+"",l,o,c,g,m=a[3].labels.btnCopySteps+"",d,p,u,h=!a[0].is_published&&ro(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),l=Me(s),o=Ie(),h&&h.c(),c=Ie(),g=Ee("wmgPlayerJSqa_"),d=Me(m),$e(n,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_btn-neutral mgPlayerJSqa_margin-lr-20"),$e(g,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_margin-lr-20"),$e(i,"class","mgPlayerJSqa_auto-btn-wrapper"),$e(r,"class","mgPlayerJSqa_list-page-btn-wrapper mgPlayerJSqa_no-padding")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,l),ke(i,o),h&&h.m(i,null),ke(i,c),ke(i,g),ke(g,d),p||(u=[De(n,"click",a[50]),De(g,"click",a[52])],p=!0)},p(e,t){8&t[0]&&s!==(s=e[3].labels.btnCancel+"")&&Fe(l,s),e[0].is_published?h&&(h.d(1),h=null):h?h.p(e,t):((h=ro(e)).c(),h.m(i,c)),8&t[0]&&m!==(m=e[3].labels.btnCopySteps+"")&&Fe(d,m)},d(e){e&&Le(r),h&&h.d(),p=!1,Xe(u)}}}function ro(a){let r,i=a[3].labels.btnDeleteSteps+"",n,s,l;return{c(){r=Ee("wmgPlayerJSqa_"),n=Me(i),$e(r,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_btn-neutral mgPlayerJSqa_margin-lr-20")},m(e,t){xe(e,r,t),ke(r,n),s||(l=De(r,"click",a[51]),s=!0)},p(e,t){8&t[0]&&i!==(i=e[3].labels.btnDeleteSteps+"")&&Fe(n,i)},d(e){e&&Le(r),s=!1,l()}}}function io(e){let a=e[0].filteredSteps&&0<e[0].filteredSteps.length&&"copySteps"!==e[4]&&!(0===e[0].tour_id&&GmCXt.isHowToGuide(e[0])),r,i=GmCXt.isHowToGuide(e[0])&&(ce(me.stepOperationMode)===GmCXt.STEP_EDIT_OPERATION||ce(me.stepOperationMode)===GmCXt.STEP_CREATE_OPERATION),n,s,l,o,c=a&&Ll(),g=i&&El(e),m="copySteps"!==e[4]&&!e[3].isApiCallOn&&Il(e),d="copySteps"===e[4]&&Yl(e);return{c(){c&&c.c(),r=Ie(),g&&g.c(),n=Ie(),m&&m.c(),s=Ie(),d&&d.c(),l=M()},m(e,t){c&&c.m(e,t),xe(e,r,t),g&&g.m(e,t),xe(e,n,t),m&&m.m(e,t),xe(e,s,t),d&&d.m(e,t),xe(e,l,t),o=!0},p(e,t){(a=17&t[0]?e[0].filteredSteps&&0<e[0].filteredSteps.length&&"copySteps"!==e[4]&&!(0===e[0].tour_id&&GmCXt.isHowToGuide(e[0])):a)?c?17&t[0]&&Ne(c,1):((c=Ll()).c(),Ne(c,1),c.m(r.parentNode,r)):c&&(Re(),Be(c,1,1,()=>{c=null}),He()),(i=1&t[0]?GmCXt.isHowToGuide(e[0])&&(ce(me.stepOperationMode)===GmCXt.STEP_EDIT_OPERATION||ce(me.stepOperationMode)===GmCXt.STEP_CREATE_OPERATION):i)?g?(g.p(e,t),1&t[0]&&Ne(g,1)):((g=El(e)).c(),Ne(g,1),g.m(n.parentNode,n)):g&&(Re(),Be(g,1,1,()=>{g=null}),He()),"copySteps"===e[4]||e[3].isApiCallOn?m&&(Re(),Be(m,1,1,()=>{m=null}),He()):m?(m.p(e,t),24&t[0]&&Ne(m,1)):((m=Il(e)).c(),Ne(m,1),m.m(s.parentNode,s)),"copySteps"===e[4]?d?d.p(e,t):((d=Yl(e)).c(),d.m(l.parentNode,l)):d&&(d.d(1),d=null)},i(e){o||(Ne(c),Ne(g),Ne(m),o=!0)},o(e){Be(c),Be(g),Be(m),o=!1},d(e){e&&(Le(r),Le(n),Le(s),Le(l)),c&&c.d(e),g&&g.d(e),m&&m.d(e),d&&d.d(e)}}}function no(e,t){e.step_audio_text=" ",e.audio=GmCXt.getPathnameFromUrl(t.audio_url),e.step_settings=e.step_settings||{},e.step_settings.customAudioText=!1,e.recordedBlobs&&0<e.recordedBlobs.size?(e.step_settings.recordedAudio=!0,e.step_settings.uploadedAudio=!1):(e.step_settings.uploadedAudio=!0,e.step_settings.recordedAudio=!1)}function so(e){return e?String(e).replace(/<[^>]+>/gm,""):""}function lo(e,I,c){let g=ce(me.currentTour),s=GmCXt.createDeepCopy(ce(me.currentTour)),t=!1,m={},a=!1,i,d,r=(ge.activeTourId,!0),n=!1,l=g.steps,p=(g.disableSaveButton=!0,ce(me.stepOperationMode)),o=ge.activeScreenCastTourId,u=(o=o||0,ge.currentTour=ce(me.currentTour),GmCXt.saveToDapStorage("currentTour",ge.currentTour),!1),h,y=0,_,S=!1,f=!(ge.howToImagesPushArray=[]),D=(ge.enableTranslation&&(GmCXt.getLXPLang()?i=GmCXt.getLXPLang():ge.language&&(i=ge.language)),{tour_type:ge.currentTour&&ge.currentTour.tour_type||""});function $(){if(GmCXt.isHowToGuide(g)){let t=ce(me.activeStepId);var e;t&&g?.filteredSteps&&(e=g?.filteredSteps.find(e=>e.step_id===t),c(11,_={...e})),GmCXt.timeout(function(){var e;!GmCXt.isEmpty(ce(me.activeStepId))&&GmCXt.isHowToGuide(g)&&(e="step-"+ce(me.activeStepId),e=document.getElementById(e),GmCXt.isEmpty(e)||e.style.setProperty("border-color","#005BF0","important"))},200)}}const F=me.currentTour.subscribe(e=>{c(0,g=e),p===GmCXt.STEP_VIEW_OPERATION?(c(3,ge.currentTour=g,ge),GmCXt.saveToDapStorage("currentTour",ge.currentTour),s=GmCXt.createDeepCopy(g)):0===ge.bulkStepCount&&p===GmCXt.STEP_CREATE_OPERATION?w():g.isEditMode&&(c(6,a=!0),GmCXt.timeout(function(){c(6,a=!1)},100)),GmCXt.isHowToGuide(g)&&p===GmCXt.STEP_CREATE_OPERATION&&$()}),O=me.selectedLang.subscribe(e=>{GmCXt.isEmpty(g)||(c(0,g.selectedLang=e,g),c(0,g=ge.getTranslatedTourAndSteps(g,e)))}),R=me.CurrentPage.subscribe(e=>{c(4,t=e)}),H=me.stepEditMode.subscribe(e=>{}),N=me.stepOperationMode.subscribe(e=>{p=e}),B=me.activeStepId.subscribe(e=>{var t;GmCXt.isHowToGuide(g)&&(GmCXt.isEmpty(y)||(t="#mgPlayerJSqa_step-"+y,GmCXt.isEmpty(t))||mg$(t).removeAttr("style"),$(),c(3,ge.toolSelected=!1,ge),GmCXt.isEmpty(e)||e===y||(c(3,ge.howToImagesPushArray=[],ge),GmCXt.isHowToGuide(g)&&g?.filteredSteps&&g.filteredSteps.forEach(e=>{GmCXt.isEmpty(e.howto_preview_image)||(GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:update_howto_step_creation",data:{step:e}}),delete e.howto_preview_image)}),y=e,h&&h.clearImageData(),mg$("#mgPlayerJSqa_step-creation-preview-image").empty(),f=!1,me.prevActiveStepId.set(y)))});let P=function(){var e=mg$("#mgPlayerJSqa_ege-header").innerHeight()?mg$("#mgPlayerJSqa_ege-header").innerHeight():0;return p===GmCXt.STEP_VIEW_OPERATION&&ge.setContainerHeight("stepContainer"),0===e&&GmCXt.timeout(function(){P()},500),!0};mg$(window).off("resize").on("resize",P),setTimeout(function(){P()},500);function C(e,t){var a=e.step,r=g.tour_settings.play_structure;e.prevStepData||(e.prevStepData=ge.prevStepData),r?((r=GmCXt.updateTourPlayStructure(e))&&c(0,g.tour_settings.play_structure=r.prevStepData.tour.tour_settings.play_structure,g),ge.setTour(g),"guide"===a.step_type||"video"===a.step_type||GmCXt.isDefined(ge.copiedStep)||"textSlide"===a.step_type?(c(3,ge.pendingStepCount=0,ge),me.statusBar.set("updateTourPlayStructure"),T(g,t)):X(g)):ge.hideLoading()}const b=function(e){var t;return e.is_screen_url_processed?e.step_settings.element&&e.step_settings.element.version&&(t=GmCXt.decodeVersion(e.step_settings.element.version),"Prod"===GmCXt.conf.env&&40509<t||"Test"===GmCXt.conf.env&&40601<t)?e.step_thumb=ge.getImageURL(e.screen_url,"_cropped.png"):e.step_thumb=ge.getImageURL(e.screen_url,"_thumb.png"):e.step_thumb=e.screen_url+ge.getCdnSign(),e};function V(t){if(GmCXt.isHowToGuide(g))if(GmCXt.isEmpty(t))q(),ge.backHandler();else for(let e=g.steps.length;e<t.length;e++)t[e].step_order=e+1;var e;GmCXt.isEmpty(t)?(e=ce(me.activeStepId),ge.changeActiveStep(e)):(ge.bulkStepCount||c(3,ge.bulkStepCount=t.length,ge),c(0,g.disableSaveButton=!0,g),c(0,g.isEditMode=!0,g),c(0,g.isBranchTour=GmCXt.containBranchStep(s),g),ge.isTrackingGuide(g)&&!ge.isAiSuggesionSteps?(t.elTags?(me.stepOperationMode.set(GmCXt.STEP_CREATE_OPERATION),c(0,g=GmCXt.createDeepCopy(s)),t.step_id=GmCXt.getCurrentTimeInMilSec(),t.isCreation=!0,g.filteredSteps.push(t)):t.data&&t.data.elTags&&(me.stepOperationMode.set(GmCXt.STEP_EDIT_OPERATION),t.isEdit=!0,c(0,g.filteredSteps=g.filteredSteps.map(function(e){return t.data.step_id===e.step_id?t:e}),g)),t.step_type=GmCXt.STEP_TYPE_TAG,c(0,g.isEditMode=!0,g),c(0,g.disableSaveButton=!1,g),c(6,a=!0),me.currentTour.set(g),GmCXt.timeout(function(){c(6,a=!1)},100)):(1===t.length&&(t[0].recapture||t[0].isMessageTooltip||t[0].isImageEdit)?(p===GmCXt.STEP_VIEW_OPERATION&&me.stepOperationMode.set(GmCXt.STEP_EDIT_OPERATION),t[0].element&&(t[0].step_settings.element=t[0].element),c(0,g.steps=g.steps.map(function(e){return t[0].step_id===e.step_id?t[0]:e}),g)):(me.stepOperationMode.set(GmCXt.STEP_CREATE_OPERATION),s=GmCXt.createDeepCopy(g),ge.isAiSuggesionSteps&&(c(0,g.steps=[],g),c(0,g.tour_type="walkthrough_tour",g)),t.forEach(function(e){var t=e.step_order-1;c(0,g.step_count++,g),g.steps.splice(t,0,e)})),X(g)),GmCXt.timeout(()=>{t[0]&&(ge.changeActiveStep(t[0].step_id),"image"===t[0].step_type)&&me.routeAction.set({action:"loadImageStepView"})},200),mg$("#mgPlayerJSqa_add-step-bottom-btn").hide(),GmCXt.increaseSidePanelWidth())}function z(t){let a=!1;Object.keys(t).forEach(e=>{"fail"===t[e].image_upload&&(a=!0),c(5,m[e]=t[e],m)}),c(0,g.disableSaveButton=a,g)}let q=function(){me.stepOperationMode.set(GmCXt.STEP_VIEW_OPERATION),c(0,g.isEditMode=!1,g),s.isEditMode=!1,c(0,g.disableSaveButton=!0,g),c(3,ge.bulkStepCount=0,ge),c(3,ge.section="",ge),c(5,m={}),mg$(".mgPlayerJSqa_sidepanel-screen-blackout").empty(),document.getElementById("mgPlayerJSqa_step-creation-preview-image").innerHTML="",ge.hidePanelOverlay(),GmCXt.reduceSidePanelWidth(),GmCXt.clearStepReq(),GmCXt.unlockScroll(),mg$(document).off("mouseover","#mgPlayerJSqa_canvas-draw"),mg$(document).off("mouseover",".mgPlayerJSqa_preview-step-popup-container"),mg$(document).off("mouseout","#mgPlayerJSqa_canvas-draw"),mg$(document).off("click",".mgPlayerJSqa_open-create-step-panel"),mg$(".mgPlayerJSqa_open-create-step-panel").removeAttr("style"),me.panelAlignment.set("right"),mg$(".mgPlayerJSqa_ege-panel").removeAttr("style")};function v(){if(GmCXt.isHowToGuide(g)&&GmCXt.isEmpty(ge.isHowToTitle)&&p===GmCXt.STEP_CREATE_OPERATION)GmCXt.toastMsg("Enter Tour title").show();else{let t=ce(me.activeStepId),a=g.filteredSteps.find(e=>e.step_id===t);if(GmCXt.isEmpty(a)||a.isEditOnImage&&(a.step_type=GmCXt.STEP_TYPE_INLINE),!GmCXt.isEmpty(a)&&("image"===a.step_type||a.isEditOnImage)){mg$(document).off("mouseover","#mgPlayerJSqa_canvas-draw"),mg$(document).off("mouseout","#mgPlayerJSqa_canvas-draw"),mg$(document).off("mouseover",".mgPlayerJSqa_open-create-step-panel"),mg$(document).off("click",".mgPlayerJSqa_open-create-step-panel"),GmCXt.isEmpty(a.step_title)&&(a.step_title=" "),GmCXt.isEmpty(a.step_audio_text)&&(a.step_audio_text=" "),a.forceSlideshow&&(a.step_settings.displayPreview=!1,a.displayPreview=!1);var r=GmCXt.getCanvasImageUrl(),r=(a.image_orig=document.querySelector("#mgPlayerJSqa_image_canvas").toDataURL("image/png",1),a.screen_url=r,a.highlightedArea.forEach(function(e,t){GmCXt.isEmpty(a.highlightedArea[t].title)||(a.highlightedArea[t].title=GmCXt.stripAssetSrcToPathname(a.highlightedArea[t].title))}),a.step_settings.highlightedArea=a.highlightedArea,a.step_settings.imageDimension=a.imageDimension,a.step_settings.version=GmCXt.conf.version,ce(me.imagePaintRef));let e=-1;if((e=GmCXt.isEmpty(r)?e:r.getImageEditCount())&&2<e.length)return r={action:"mgPlayerJSqa_action:save_image",data:a},void GmCXt.sendMessageToBackgroundService(r)}a?.step_settings?.domElems&&"message"===a.step_type&&a.step_settings.domElems.forEach(function(e,t){GmCXt.isEmpty(a.step_settings.domElems[t].title)||(a.step_settings.domElems[t].title=GmCXt.stripAssetSrcToPathname(a.step_settings.domElems[t].title))}),GmCXt.isHowToGuide(g)&&a?.howto_preview_image?(u=!0,GmCXt.isEmpty(a.howto_preview_image)||(GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:update_howto_step_creation",data:{step:a}}),delete a.howto_preview_image,g?.filteredSteps&&g.filteredSteps.forEach(e=>{"howto_preview_image"in e&&delete e.howto_preview_image}))):p===GmCXt.STEP_CREATE_OPERATION?W():p===GmCXt.STEP_EDIT_OPERATION&&j()}}function U(r){return new Promise((t,a)=>{var e;r.audioUplodedFile?(e=r.audioUplodedFile,ge.uploadAudioData(e,e.type,e=>{e&&e.audio_url?(no(r,e),t(e)):(console.error("uploadAudioFile returned invalid data:",e),a(new Error("Audio upload failed or returned invalid data")))})):r.recordedBlobs&&0<r.recordedBlobs.size?(e=r.step_title?r.step_title.trim():"",e=new File([r.recordedBlobs],e+".wav",{type:r.recordedBlobs.type}),ge.uploadAudioData(e,r.recordedBlobs.type,e=>{e&&e.audio_url?(no(r,e),t(e)):(console.error("uploadAudioFile returned invalid data:",e),a(new Error("Audio upload failed or returned invalid data")))})):t()})}async function j(){if(ge.isTrackingGuide(g))ge.processFeatureSteps(g,q);else{let e=g.filteredSteps.find(e=>e.isEdit);var t,a;e.error=!1,e.step_type!==GmCXt.STEP_TYPE_SMART_TIP&&GmCXt.validateStep(e,e.step_settings.automation)&&(ge.hideLoading(),e.error=!0),e.step_type===GmCXt.STEP_TYPE_SMART_TIP?e=ge.getSmartTipSettingsConfig(e):e.error||(e=ge.getStepSettingsConfig(e)),e.error?ge.changeActiveStep(e.step_id):(a=e.step_settings?.uploadedAudio||e.step_settings?.recordedAudio,t=!GmCXt.isEmpty(e.uploadedPreviewAudioUrl)||!GmCXt.isEmpty(e.recordedPreviewAudioUrl),e.audioUplodedFile||e.recordedBlobs&&0<e.recordedBlobs.size?await U(e):a&&t&&(e.audio=GmCXt.getPathnameFromUrl(e.step_audio),e.step_audio_text=" "),GmCXt.isEmpty(m)||(e.step_image=m[e.step_id].step_image,e.step_screen=m[e.step_id].step_image),e&&!e.error&&(a={stepObj:{tour_id:e.tour_id,step_title:e.step_title,step_description:GmCXt.stripAssetSrcToPathname(e.step_description),step_type:e.step_type,step_settings:e.step_settings,step_image:e.step_image,step_screen:e.step_screen,step_url:e.step_url,step_audio_text:e.step_audio_text,step_video_id:0,step_audio:e.audio&&"0"!==e.audio?e.audio:0,step_order:e.step_order,step_id:e.step_id,category_id:g.category_id,creation_id:GmCXt.getUUID(),language:e.language}},ge.updateStep(a,g),q()))}}async function W(){g.tour_type.includes("walkthrough_tour")||g.tour_type.includes("howto_tour")?async function(){if(ge.isAiSuggesionSteps&&!ge.aiTourTitle?.length)ge.hideLoading(),GmCXt.toastMsg(GmCXt.label.tourTitleRerquired).show();else{var r,i=[];let e=!1,t=[],a=(GmCXt.isEmpty(g.tour_settings.start_point_info)||(t=GmCXt.createDeepCopy(g.tour_settings.start_point_info)),{});for(r of g.filteredSteps)if(r.isCreation){if(GmCXt.validateStep(r,r.step_settings.automation)){ge.changeActiveStep(r.step_id),e=!0,ge.hideLoading();break}(r.audioUplodedFile||r.recordedBlobs&&0<r.recordedBlobs.size)&&await U(r),(r.isCreation||"image"===r.step_type&&0===parseInt(r.step_image))&&!ge.isAiSuggesionSteps?(r.step_image=m[r.step_id].step_image,r.step_screen=m[r.step_id].step_image):"image"===r.step_type&&0!==parseInt(r.step_image)&&(r.step_screen=r.step_image),(r=ge.getStepSettingsConfig(r)).step_settings.startPoint&&t.push({step_id:r.step_id,step_index:r.step_order+"",step_url:r.step_url}),a=r,i.push({category_id:g.category_id,creation_id:GmCXt.getUUID(),language:ge.language,step_id:r.step_id,step_audio:r.audio&&"0"!==r.audio?r.audio:0,step_audio_text:r.step_audio_text,step_description:GmCXt.isHowToGuide(g)?r.step_description:GmCXt.stripAssetSrcToPathname(r.step_description),step_image:r.step_image,step_order:parseInt(r.step_order),step_screen:r.step_screen,step_settings:r.step_settings,step_title:r.step_title,step_type:r.step_type,step_url:r.step_url,step_video_id:0,tour_id:g.tour_id,translation_required:"0"})}if(e||GmCXt.isEmpty(i))GmCXt.isEmpty(g.tour_settings.start_point_info)||(t=GmCXt.createDeepCopy(g.tour_settings.start_point_info));else{let e={};e=g.isBranchTour||1===i.length&&!GmCXt.isEmpty(i[0].step_settings.branch)?GmCXt.updateTourPlayStructure({step:a,prevStepData:a.data.prevStepData}).prevStepData.tour.tour_settings.play_structure:GmCXt.getGuidePlayStructure(g),c(0,g.tour_settings.play_structure=e,g);var n={tour_id:g.tour_id,steps:i,play_structure:e,start_point_info:t,has_branch_step:GmCXt.containBranchStep(s)};(ge.isAiSuggesionSteps?w:q)(),ge.createBulkSteps(n,g)}}}(g.filteredSteps):"smartTip"===g.tour_type?async function(){let e=[],t=!1;for(var a of g.filteredSteps)if(a.isCreation){if((a=ge.getSmartTipSettingsConfig(a)).error)return ge.hideLoading(),ge.changeActiveStep(a.step_id),t=!0;a.step_image=m[a.step_id].step_image,a.step_screen=m[a.step_id].step_image,e.push({category_id:g.category_id,creation_id:GmCXt.getUUID(),language:ge.language,step_id:a.step_id,step_audio:a.audio&&"0"!==a.audio?a.audio:0,step_audio_text:a.step_audio_text,step_description:a.step_description,step_image:a.step_image,step_order:parseInt(a.step_order),step_screen:a.step_screen,step_settings:a.step_settings,step_title:a.step_title,step_type:a.step_type,step_url:a.step_url,step_video_id:0,tour_id:g.tour_id,translation_required:"0"})}{var r;r=GmCXt.getGuidePlayStructure(g),t||GmCXt.isEmpty(e)||(r={tour_id:g.tour_id,steps:e,play_structure:r,has_branch_step:!1},q(),ge.showLoading(),GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:to_background;task:create_bulk_step",data:r}))}}(g.filteredSteps):"insights"===g.tour_type?ge.processFeatureSteps(g,q):console.error("Unknown step type:",g.type)}function w(e){q(),mg$("#mgPlayerJSqa_add-step-bottom-btn").show(),GmCXt.isHowToGuide(g)&&0===g.tour_id?ge.backHandler():(me.currentTour.set(s),e&&ge.isAiSuggesionSteps&&(c(3,ge.isAiSuggesionSteps=!1,ge),ge.backHandler()))}function Z(e){if(!function(e,a){let r=!1;return e.forEach(function(e,t){e.step_id!==a.step_id&&e.creation_id!==a.creation_id||(r=!0)}),r}(g.steps,e.stepObj)){ge.incrementPendingStepCount(),GmCXt.checkForBranchVariationSteps(e.stepObj)&&ge.showLoading();let a=e.stepIndex;e=e.stepObj;if(e.step_id=GmCXt.getCurrentTimeInMilSec(),c(0,g.step_count++,g),GmCXt.isAutomationStep(e)&&ge.showLoading(),e.step_screen&&100<e.step_screen.length||"guide"===e.step_type){var t=GmCXt.createDeepCopy(e);if(t.step_screen_temp=t.step_screen,t.step_screen="","guide"===t.step_type&&(t.step_screen_temp=ge.staticContentPath+"technology.jpg"),g.steps||c(0,g.steps=[],g),ge.isTrackingGuide(g))g.filteredSteps.push(t);else{g.steps.splice(a,0,t),X(g);for(let e=t.step_order;e<g.steps.length;e++)c(0,g.steps[e].step_order++,g)}GmCXt.isTrue(e.step_settings.inlineBranch)&&ge.showLoading()}setTimeout(function(){var e,t=mg$(".mgPlayerJSqa_step-item-auto");g.filteredSteps?a&&(a=function(e,t){let a=0,r=0;for(;e!==r&&r<t.length;)GmCXt.isAutomationStep(t[r])||a++,r++;return a}(a,g.steps),(e=mg$(".mgPlayerJSqa_step-item"))[a])&&e[a].scrollIntoView():t&&t[t.length-1]&&t[t.length-1].scrollIntoView()},20)}}function Y(){let t=[];l.forEach(function(e){e.copy&&t.push(parseInt(e.step_id))}),c(3,ge.copyStepsList={steps:t,tourId:g.tour_id,tourType:g.tour_type,stepType:g.steps[0].step_type},ge),0<=ge.copyStepsList.tourType.indexOf("onboarding_tour")&&c(3,ge.copyStepsList.tourType=g.tour_settings.tutorial_tour_type,ge),ge.copyStepsList.steps.length?(c(3,ge.copiedStep=!1,ge),c(3,ge.pasteStep=!0,ge),G()):ge.showPopup(GmCXt.label.unselectedStepsErrorMsg,"","warning")}function K(){let t=0;c(7,r=!0),c(9,l=l.map(function(e){return e.step_title.toLowerCase().includes(ge.searchStepKeyword.toLowerCase())||e.step_description.toLowerCase().includes(ge.searchStepKeyword.toLowerCase())?(e.hide=!1,t+=1):e.hide=!0,e})),0===t&&c(7,r=!1),J()}function J(){let e=!0;for(var t in l)if(!l[t].copy){e=!1;break}c(8,n=e)}function G(){c(9,l=l.map(function(e){return e.copy=!1,e})),c(3,ge.copySteps=!1,ge),c(3,ge.searchStepKeyword="",ge),c(8,n=!1),ge.setCurrentPage("stepview"),setTimeout(()=>{P()},100)}function Q(){c(9,l=l.map(function(e){return e.step_type===GmCXt.STEP_TYPE_BRANCH&&e.step_settings.inlineBranch&&e.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||(e.copy=!n),e})),c(8,n=!n)}function ee(){let t=[],a=[],r=(l.forEach(function(e){e.copy?t.push(parseInt(e.step_id)):a.push(e)}),{tour_id:g.tour_id});l.step_count!==t.length&&(r.step_ids="["+t+"]"),t.length?na.try(function(){ge.showPopup(ge.labels.confirmDeletMultipleSteps,function(){ge.showLoading(),GmCXt.api.bulkStepDelete(r,function(){var e;c(3,ge.pasteStep=!1,ge),r.step_ids?(c(0,g.is_locked=!0,g),c(0,g.steps=a,g),c(0,g.step_count=a.length,g),e=GmCXt.getGuidePlayStructure(g),c(0,g.tour_settings.play_structure=e,g)):(c(0,g.tour_settings.play_structure=[],g),c(0,g.steps=[],g),c(0,g.step_count=0,g)),ge.setTour(g),X(g)}),G()},"confirm")},117):ge.showPopup(GmCXt.label.unselectedStepsErrorMsg,"","warning")}function A(e){k(e)}const T=function(t,a){na.try(function(){ge.showLoading();var e={category_id:t.category_id,tour_title:t.tour_title,tour_description:t.tour_description,tour_image:t.tour_image,tour_settings:t.tour_settings,tour_type:t.tour_type,tour_url:t.tour_url,tour_id:t.tour_id,is_locked:t.is_locked,keywords:t.keywords};GmCXt.api.tourUpdate(e,function(){},function(e){ge.hideLoading()},function(){ge.hideLoading(),k(a),GmCXt.isFeatureTags(t)&&X(t)})},121)},te=function(t){GmCXt.storage().get(["howtoCaptureMode"]).then(function(e){c(3,ge.howtoCaptureMode=e.howtoCaptureMode,ge),"done"===e.howtoCaptureMode&&0===t.tour_id&&0===t.steps.length&&(q(),GmCXt.isHowToGuide(t))&&0===t.tour_id&&ge.backHandler()})},X=function(t){if(GmCXt.isHowToGuide(t)&&GmCXt.FT.creatorApp&&0===t.tour_id&&te(t),t){t.filteredSteps=GmCXt.filterOutAutomationSteps(t.steps),c(0,g=t),(d=ge.isTrackingGuide(t))&&c(0,g.filteredSteps=[],g),c(0,g.uuid=GmCXt.getUUID(),g),g.tour_id!==o||ge.isScreenRecorderClose?c(0,g.screencastInProgress=!1,g):c(0,g.screencastInProgress=!0,g),ge.isPublicApp&&c(0,g.is_public=!0,g),!i&&ge.language&&(i=ge.language),c(3,ge.isDefaultLang=GmCXt.checkDefaultLangForTour(g,i),ge);let e=!1,a=[],r=0;ge.deletedTagsList&&ge.deletedTagsList.length&&c(0,g.steps=g.steps.filter(function(e){return!ge.deletedTagsList.includes(parseInt(e.step_id))}),g),GmCXt.isHowToGuide(g)&&c(12,S=!0),g.steps.forEach(function(l,o){if(l.step_id&&"string"!=typeof l.step_id&&(l.step_id=l.step_id.toString()),GmCXt.isHowToGuide(g)&&ce(me.stepOperationMode)===GmCXt.STEP_CREATE_OPERATION&&l.isCreation){let e;var t={domHTML:e=l&&l.element?ge.attributesToHtml(l.element?.meta?.elAttributes):e,title:l.step_title,description:l.step_description,element:l.element,output:"both"};let n=l.step_title,s=l.step_description;l.aiStatus="Typing",l.step_title="Generating Title From AI...",l.step_description="Generating Description From AI...",GmCXt.api.generateTitleDescription(t,function(e){try{if(e.data){t=e.data.choices[0].message.content,a=t.match(/Title:\s*(.*)/i),t=t.match(/Description:\s*(.*)/i);const{title:r,desc:i}={title:a?a[1].trim():"",desc:t?t[1].trim():""};""!==r&&""!==i?c(0,g.filteredSteps=g.filteredSteps.map(e=>e.step_id===l.step_id?{...e,step_title:r,step_description:i,aiStatus:"done"}:e),g):c(0,g.filteredSteps=g.filteredSteps.map(e=>e.step_id===l.step_id?{...e,step_title:n,step_description:s,aiStatus:"done"}:e),g)}}catch(e){GmCXt.log(54,"Error in AI Title/Desc generation")}var t,a;o===g.steps.length-1&&c(12,S=!1),l.aiStatus="done"})}else o===g.steps.length-1&&c(12,S=!1);if("string"!=typeof(l=b(l)).step_screen&&(l.step_screen=l.step_screen.toString()),"video"===l.step_type&&-1===l.step_screen.indexOf("guideme-defaults/default.png"))l.step_video_thumbnail=l.step_video_url;else if(l.step_type===GmCXt.STEP_TYPE_BRANCH||l.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||GmCXt.isTrue(l.step_settings.inlineBranch)&&"keepNext"!==l.step_settings.completionEvent){e=!0;t=l.step_settings;l.branch=t.branch;for(let t=0;t<l.branch.length;t++)if(0<l.branch[t].tourId)for(let e=0;e<g.steps.length;e++)g.steps[e].step_id===l.branch[t].tail&&(c(0,g.steps[e].hideStep=!0,g),l.branch[t].tourData=g.steps[e])}d&&(((t=l.step_settings.groupId)?(a[t]||(a[t]=[]),a[t]):g.filteredSteps).push(l),r=Math.max(r,l.step_order))}),e&&ge.branchGuideDownloadOpts(g.tour_settings.downloadGuideFiles),c(0,g.downloadOpts=g.tour_settings.downloadGuideFiles,g),"insights"===g.tour_type&&Object.keys(a).forEach(function(e){var t=a[e],e={step_id:e,steps:t,image_url:t[0].thumbnail_url,step_title:t[0].step_settings.groupTitle,step_type:"tag",stepOrder:++r};g.filteredSteps.push(e)}),d||c(0,g=GmCXt.checkAndCorrectPS(g)),GmCXt.isOnboarding(g),i&&!ge.isGuideInOriginalLang(g)&&(c(0,g.selectedLang=i,g),t=g.language_data)&&t[i]&&c(0,g=ge.getTranslatedTourAndSteps(g,i)),setTimeout(function(){P()},200),"insights"===g.tour_type&&GmCXt.APP_PANEL_OPEN&&!g.isEditMode&&ge.isAiSuggesionSteps&&GmCXt.createInlineStepsFromAiSuggestion(g.steps),me.currentTour.set(g),c(3,ge.isApiCallOn=!1,ge),ge.hideLoading(),ge.showStepCreatedSuccessMsg&&me.statusBar.set("createBulkStepCompleted"),GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:load_step_previews"}),GmCXt.FT.creatorApp&&!g.isEditMode&&mg$("#mgPlayerJSqa_add-step-bottom-btn").show()}},k=function(e){g&&g.tour_id||c(0,g=GmCXt.validateDataModel(D,GmCXt.model.guide)),c(3,ge.isDefaultLang=GmCXt.checkDefaultLangForTour(g,i),ge),g.is_locked;var t={tour_id:g.tour_id,isPublic:!1,category_id:ge?.currentTour.category_id};GmCXt.checkDefaultLangForTour(g,i)||(t.language=i),p!==GmCXt.STEP_VIEW_OPERATION||!e&&!GmCXt.isEmpty(g)&&g.steps&&parseInt(g.step_count)===g.steps.length?X(g):GmCXt.api.getTour(t,X,function(){ge.hideLoading(),c(0,g=!1)},!0)};ge.isScreenRecorderClose&&ge.showPopup(ge.labels.screeRecordingError,function(){GmCXt.storage().remove(["screen_recorder_close"]),c(3,ge.isScreenRecorderClose=!1,ge)},"alert");function ae(r){na.try(function(){function e(e,r){function i(e){t.push({step_id:e.step_id,step_order:++a})}let t=[],a=0;for(let e=0;e<r.length&&GmCXt.isAutomationStep(r[e]);e++)i(r[e]);return e.forEach(function(t,e){i(t);var a=r.find(function(e){return e.step_id===t.step_id}),a=ge.getAutomationSteps(r,a);0<a.length&&a.forEach(function(e){i(e)})}),t}if(!(g.is_published||"user"===ge.user.role||g.is_locked&&g.user_id!==ge.user.user_id)){let a=[];r.filter(function(e,t){a.push({step_id:e.step_id,step_order:t+1})}),a=e(a,g.steps),c(0,g.steps=ge.sortTourSteps(a,g.steps),g);var t={tour_id:g.tour_id,json:a};GmCXt.api.stepsDrag(t,function(e){c(0,g.tour_settings.play_structure=GmCXt.buildGuidePlayStructure(g),g),T(g)},function(e){ge.showPopup(e.message)})}},120)}let x=null,re,ie,L=null,E=null,M=null;de(()=>{A(),GmCXt.isPlayer()&&ge.bindPlayerTheme()});const ne=me.routeAction.subscribe(a=>{if(a&&a.data)switch(a.action){case"createStepCompleted":{var t=a.data;let e=GmCXt.validateDataModel(t.step,GmCXt.model.step);if(e.tour_id===g.tour_id){var r=t.prevStepData||null,i=t.stepIndex,n=(d=ge.isTrackingGuide(g),g.steps);if(t.tour&&c(0,g=t.tour),c(0,g.steps=n,g),t.linkGuidePlayMode&&"guide"===e.step_type&&(e.linkGuidePlayMode=t.linkGuidePlayMode),r&&(c(3,ge.prevStepData=r,ge),ge.pendingStepCount)&&(c(3,ge.prevStepData.step_id=e.step_id,ge),c(3,ge.prevStepData.step_type=e.step_type,ge)),e.step_type!==GmCXt.STEP_TYPE_BRANCH&&e.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER||(e.branch=e.step_settings.branch),"guide"===e.step_type||t.isPaste?g.steps.splice(i,1,e):d||c(0,g.steps[i]=GmCXt.createDeepCopy(e),g),g.steps[i]&&!d){e.step_screen_temp="",e=b(e);for(let e=i;e<g.steps.length;e++)c(0,g.steps[e].step_order=e+1,g)}c(0,g.step_count=g.steps.length,g),"guide"===e.step_type||t.isPaste?C(t):d?GmCXt.isTrue(e.step_settings.inlineBranch)&&C(t):X(g),ge.hideLoading(),d?(c(0,g=ge.allTourList["cat_"+g.category_id]["tour_"+g.tour_id]),g.steps.push(t.step),c(0,g.step_count++,g),A()):(c(3,ge.prevStepData=void 0,ge),ge.setTour(g)),e.step_type!==GmCXt.STEP_TYPE_BRANCH&&e.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER&&(c(3,ge.showStepCreatedSuccessMsg=!0,ge),me.statusBar.set("createStepCompleted"))}}me.routeAction.set(null);break;case"updateStepCompleted":{n=a.data;n.step?(n.step.step_screen_temp="",e=GmCXt.validateDataModel(n.step,GmCXt.model.step),e=b(e),c(0,g.steps[n.stepIndex]=e,g)):n.langUpdated&&c(0,g.steps[n.stepIndex].step_screen_temp="",g),n.langUpdated&&c(0,g=ge.getTranslatedTourAndSteps(g,ge.language)),c(0,g.is_locked=!0,g);let t=!1;var s=g.steps[n.stepIndex];if(s.step_type===GmCXt.STEP_TYPE_BRANCH&&"Quick Branch"!==s.step_settings.branch_type){ge.showLoading();var e=ge.getNode(s.step_id,g.tour_settings.play_structure),l=g.tour_settings.play_structure.indexOf(e);c(0,g.tour_settings.play_structure[l].branch=[],g);for(let e=0;e<s.step_settings.branch.length;e++){var o={};o.tail=s.step_settings.branch[e].tail,g.tour_settings.play_structure[l].branch.push(o),t=!0}}GmCXt.isEmpty(ge.allTourList)||ge.setTour(g),(t&&ge.isGuideInOriginalLang(g)?T:X)(g),ge.hideLoading(),s.step_type!==GmCXt.STEP_TYPE_BRANCH&&s.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER&&(c(3,ge.showStepUpdatedSuccessMsg=!0,ge),me.statusBar.set("updateStepCompleted"))}me.routeAction.set(null);break;case"updateStepFailed":a.data,k(),me.routeAction.set(null);break;case"updateTourWithApi":T(a.data),me.routeAction.set(null);break;case"createStepPreview":Z(a.data),me.routeAction.set(null);break;case"refreshStep":r=a.data,GmCXt.isEmpty(r)||GmCXt.isEmpty(r.step)||r.step.tour_id===g.tour_id&&(c(0,g.steps=[],g),g.is_locked&&c(0,g.isLocked=!0,g),C(r,!0)),me.routeAction.set(null);break;case"refreshView":A(a.data),me.routeAction.set(null);break;case"mgPlayerJSqa_action:create_bulk_step_failed":ge.showPopup(a.data[0],function(){A(!0)},"error"),ge.hideLoading(),me.routeAction.set(null);break;case"mgPlayerJSqa_action:capture_step_completed,type:inline":case"mgPlayerJSqa_action:capture_step_completed,type:message":case"mgPlayerJSqa_action:capture_step_completed,type:tag":V(a.data),me.routeAction.set(null);break;case"mgPlayerJSqa_action:capture_step_image_upload_completed,type:inline":z(a.data),GmCXt.isHowToGuide(g)&&u&&(u=!1,v()),me.routeAction.set(null);break;case"mgPlayerJSqa_action:capture_step_image_upload_completed,type:message":z(a.data),me.routeAction.set(null);break;case"mgPlayerJSqa_action:open_image_step_editor_view":V([a.data]),me.routeAction.set(null);break;case"mgPlayerJSqa_action:capture_step_image_upload_completed,type:image":c(5,m[a.data.step_id]=a.data,m),c(0,g.disableSaveButton=!1,g),me.routeAction.set(null);break;case"reset_step_creation_panel":a.data&&a.data.data&&a.data.data.isCancel&&ge.hideLoading(),q(),me.routeAction.set(null);break;case"save_image_done":i=g.filteredSteps.findIndex(e=>e.step_id===a.data.step_id),t=(a.data.stepIndex=i,a.data);c(0,g.filteredSteps[i]=t,g),c(5,m[t.step_id]=t,m),p===GmCXt.STEP_CREATE_OPERATION?W():p===GmCXt.STEP_EDIT_OPERATION&&j(),me.routeAction.set(null);break;case"mgPlayerJSqa_action:Cancel_howto_guide_creation":if(q(),GmCXt.isHowToGuide(g)&&0===g.tour_id)return void ge.backHandler();me.routeAction.set(null)}});function se(e){h&&h.cropClickFunction(e)}function le(e){h&&h.cropClickCancelFunction(e)}function oe(){return new Promise((e,t)=>{mg$("#mgPlayerJSqa_canvas-draw").length||(mg$("#mgPlayerJSqa_preview-image").empty(),mg$("#mgPlayerJSqa_step-creation-preview-image").append("<wmgPlayerJSqa_ id='mgPlayerJSqa_canvas-draw' class='mgPlayerJSqa_preview-image mgPlayerJSqa_screen'><canvas id='mgPlayerJSqa_image_canvas' class='mgPlayerJSqa_position-absolute'></canvas><wmgPlayerJSqa_ id='mgPlayerJSqa_crop-tool-left' class='mgPlayerJSqa_crop-tool-border'></wmgPlayerJSqa_><wmgPlayerJSqa_ id='mgPlayerJSqa_crop-tool-top' class='mgPlayerJSqa_crop-tool-border'></wmgPlayerJSqa_><wmgPlayerJSqa_ id='mgPlayerJSqa_crop-tool-right' class='mgPlayerJSqa_crop-tool-border'></wmgPlayerJSqa_><wmgPlayerJSqa_ id='mgPlayerJSqa_crop-tool-bottom' class='mgPlayerJSqa_crop-tool-border'></wmgPlayerJSqa_><wmgPlayerJSqa_ id='mgPlayerJSqa_crop-tool-center' class='mgPlayerJSqa_crop-tool-center'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_crop-button-group' id='guideme_crop_group'><button id='mgPlayerJSqa_btn-crop-clicked' class='crop mgPlayerJSqa_btn-default' type='button'>"+ge.labels.crop+"</button><button id='mgPlayerJSqa_btn-cancel-crop-clicked' class='cancel mgPlayerJSqa_btn-default mgPlayerJSqa_btn-neutral' type='button'>"+ge.labels.btnCancel+"</button></wmgPlayerJSqa_></wmgPlayerJSqa_>"),mg$("#mgPlayerJSqa_step-creation-preview-image").append('<wmgPlayerJSqa_ id="mgPlayerJSqa_blackout"></wmgPlayerJSqa_>'),mg$(".mgPlayerJSqa_open-panel-text").html(ge.labels.openStepPanel),mg$(".mgPlayerJSqa_open-panel-svg").html(GmCXt.svgs.iconOpen),mg$("#mgPlayerJSqa_btn-crop-clicked").off("click").on("click",se),mg$("#mgPlayerJSqa_btn-cancel-crop-clicked").off("click").on("click",le),mg$("#guideme_crop_group").hide()),e()})}pe(()=>{F(),R(),O(),ne(),H(),N(),B()});return e.$$.update=()=>{7&e.$$.dirty[0]&&null!=E&&null!=M&&E!=M&&(c(0,[g.filteredSteps[E],g.filteredSteps[M]]=[g.filteredSteps[M],g.filteredSteps[E]],g),c(1,E=M)),1&e.$$.dirty[0]&&g&&c(9,l=g.steps)},[g,E,M,ge,t,m,a,r,n,l,h,_,S,x,null,null,L,P,v,w,Y,K,J,G,Q,ee,ae,function(e){e||mg$(".mgPlayerJSqa_paint-crop-toolbar").hide()},function(e){var t=_.step_settings;sizeValid=ge.popupSizeValid(t.stepPopupHeight,t.stepPopupWidth),(t=_.step_settings.alignment)&&"string"!=typeof t&&(t=t.detail.position),c(11,_.step_settings.alignment=t,_),GmCXt.timeout(function(){var e={popup:mg$(mg$(".mgPlayerJSqa_preview-step-popup-container")[0]),highlightedArea:_?.step_settings?.element?.position,containerOffest:mg$("#mgPlayerJSqa_canvas_ref").offset()},e=(_?.step_settings?.alignment&&(e.alignment=_.step_settings.alignment),e.dynamicPositioning=!0,Al(e));let t="";e&&(t=e.start()),stepPopup[0]&&(stepPopup[0].alignment=t),e&&stepPopup[0]&&(stepPopup[0].positions=e.getAvailablePositions())},500),ge.setDescImgSize()},function(e,t){return new Promise((e,t)=>{oe().then(function(){GmCXt.timeout(function(){h&&(me.imagePaintRef.set(h),f?(GmCXt.timeout(function(){h&&mg$(".mgPlayerJSqa_highlighter-span").remove()},100),e()):h.loadFunction().then(function(){f=!0,GmCXt.timeout(function(){document.getElementById("mgPlayerJSqa_step-creation-preview-image").querySelectorAll(".mgPlayerJSqa_preview-step-popup-container"),mg$(".mgPlayerJSqa_highlighter-span").remove(),e()},300)}))},300)})})},function(t){["filteredSteps","steps"].forEach(e=>{c(0,g[e]=g[e].map(e=>e.step_id===t.step_id?{...e,preview_image:t.preview_image,howto_preview_image:t.preview_image}:e),g)}),me.currentTour.set(g)},function(e){ue[e?"unshift":"push"](()=>{h=e,c(10,h)})},function(e,t,a,r){a[r]=e,c(0,g),c(1,E),c(2,M)},function(e,t,a,r){a[r]=e,c(0,g),c(1,E),c(2,M)},(e,t,a)=>{c(13,x=a.clientY),c(15,ie=e),c(1,E=t),c(16,L=e.step_id),c(14,re=a.target.getBoundingClientRect().y-a.clientY)},e=>{c(13,x=e.clientY)},(e,t)=>{c(2,M=e)},e=>{ae(g.filteredSteps),c(16,L=null),c(2,M=null)},function(e,t,a,r){a[r]=e,c(0,g),c(1,E),c(2,M)},function(e,t,a,r){a[r]=e,c(0,g),c(1,E),c(2,M)},function(e,t,a,r){a[r]=e,c(0,g),c(1,E),c(2,M)},()=>v(),()=>w(!0),function(){n=this.checked,c(8,n)},()=>Q(),function(){ge.searchStepKeyword=this.value,c(3,ge)},()=>K(),()=>clearSearch(),function(e,t){e[t].copy=this.checked,c(9,l),c(0,g),c(1,E),c(2,M)},()=>J(),()=>G(),()=>ee(),()=>Y()]}class oo extends e{constructor(e){super(),t(this,e,lo,io,g,{},null,[-1,-1,-1,-1])}}function co(a){let r,i,n,s,l=a[0].svgs.iconBack+"",o,c,g,m,d,p=a[1].tour_title+"",u,h,y,_,S,f=!GmCXt.isFalseObj(a[1]?.tour_settings?.downloadGuideFiles),P,C,b=GmCXt.FT.creatorApp&&(a[1].is_locked&&a[1].user_id==a[0].user.user_id||!a[1].is_locked||!a[1].is_published||a[0].isOwnerOrAppAdmin())&&!a[0].isUserRole()&&!a[0].isDesktopApp()&&!a[0].hideMirrorAppCtrl(),q,v,w,J,G,A,T,X=a[1].tour_description&&po(a),k=GmCXt.FT.creatorApp&&function(e){let a=e[0].showPublishBtn(e[1])&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl(),r,i=e[0].showSchedulePublish(e[1])&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl(),n,s=GmCXt.FT.publish&&e[1].is_published&&e[0].isOwnerOrAppAdmin()&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl()&&e[0].showUnpublish(e[1]),l,o=GmCXt.containBranchStep(e[1])&&GmCXt.FT.creatorApp,c,g=a&&uo(e),m=i&&ho(e),d=s&&yo(e),p=o&&_o(e);return{c(){g&&g.c(),r=Ie(),m&&m.c(),n=Ie(),d&&d.c(),l=Ie(),p&&p.c(),c=M()},m(e,t){g&&g.m(e,t),xe(e,r,t),m&&m.m(e,t),xe(e,n,t),d&&d.m(e,t),xe(e,l,t),p&&p.m(e,t),xe(e,c,t)},p(e,t){(a=3&t?e[0].showPublishBtn(e[1])&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl():a)?g?g.p(e,t):((g=uo(e)).c(),g.m(r.parentNode,r)):g&&(g.d(1),g=null),(i=3&t?e[0].showSchedulePublish(e[1])&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl():i)?m?m.p(e,t):((m=ho(e)).c(),m.m(n.parentNode,n)):m&&(m.d(1),m=null),(s=3&t?GmCXt.FT.publish&&e[1].is_published&&e[0].isOwnerOrAppAdmin()&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl()&&e[0].showUnpublish(e[1]):s)?d?d.p(e,t):((d=yo(e)).c(),d.m(l.parentNode,l)):d&&(d.d(1),d=null),(o=2&t?GmCXt.containBranchStep(e[1])&&GmCXt.FT.creatorApp:o)?p?p.p(e,t):((p=_o(e)).c(),p.m(c.parentNode,c)):p&&(p.d(1),p=null)},d(e){e&&(Le(r),Le(n),Le(l),Le(c)),g&&g.d(e),m&&m.d(e),d&&d.d(e),p&&p.d(e)}}}(a),x=f&&Po(a),L=b&&Co(a),E=a[0].jsonEditor&&bo(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("button"),o=Ie(),(c=Ee("wmgPlayerJSqa_")).innerHTML='<wmgPlayerJSqa_ class="mgPlayerJSqa_tooltip-title">Back</wmgPlayerJSqa_>',g=Ie(),m=Ee("wmgPlayerJSqa_"),d=Ee("wmgPlayerJSqa_"),u=Me(p),h=Ie(),X&&X.c(),y=Ie(),_=Ee("wmgPlayerJSqa_"),k&&k.c(),S=Ie(),x&&x.c(),P=Ie(),C=Ee("wmgPlayerJSqa_"),L&&L.c(),q=Ie(),E&&E.c(),v=Ie(),w=Ee("wmgPlayerJSqa_"),$e(s,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_ege-inline-block-vt mgPlayerJSqa_margin-t-13"),$e(s,"aria-label","back"),$e(c,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-right"),$e(n,"id","mgPlayerJSqa_btn-guide-view-back"),$e(n,"class","mgPlayerJSqa_back-button mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_no-padding"),$e(d,"class","mgPlayerJSqa_label mgPlayerJSqa_tour-view-tour-title mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_position-relative mgPlayerJSqa_width-100"),$e(m,"class","mgPlayerJSqa_tour-title-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(i,"class","mgPlayerJSqa_header-detail-view-tour-title"),$e(_,"class","mgPlayerJSqa_header-detail-view-tour-download-container"),$e(w,"class","mgPlayerJSqa_clear"),$e(C,"class","mgPlayerJSqa_header-detail-view-tour-edit-container"),$e(r,"class",J="mgPlayerJSqa_ege-panel-header-detail-view "+(a[1].isEditMode?"mgPlayerJSqa_disabled":""))},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),s.innerHTML=l,ke(n,o),ke(n,c),ke(i,g),ke(i,m),ke(m,d),ke(d,u),ke(m,h),X&&X.m(m,null),ke(r,y),ke(r,_),k&&k.m(_,null),ke(_,S),x&&x.m(_,null),ke(r,P),ke(r,C),L&&L.m(C,null),ke(C,q),E&&E.m(C,null),ke(C,v),ke(C,w),G=!0,A||(T=De(s,"click",a[5]),A=!0)},p(e,t){(!G||1&t)&&l!==(l=e[0].svgs.iconBack+"")&&(s.innerHTML=l),(!G||2&t)&&p!==(p=e[1].tour_title+"")&&Fe(u,p),e[1].tour_description?X?X.p(e,t):((X=po(e)).c(),X.m(m,null)):X&&(X.d(1),X=null),GmCXt.FT.creatorApp&&k.p(e,t),(f=2&t?!GmCXt.isFalseObj(e[1]?.tour_settings?.downloadGuideFiles):f)?x?(x.p(e,t),2&t&&Ne(x,1)):((x=Po(e)).c(),Ne(x,1),x.m(_,null)):x&&(Re(),Be(x,1,1,()=>{x=null}),He()),(b=3&t?GmCXt.FT.creatorApp&&(e[1].is_locked&&e[1].user_id==e[0].user.user_id||!e[1].is_locked||!e[1].is_published||e[0].isOwnerOrAppAdmin())&&!e[0].isUserRole()&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl():b)?L?(L.p(e,t),3&t&&Ne(L,1)):((L=Co(e)).c(),Ne(L,1),L.m(C,q)):L&&(Re(),Be(L,1,1,()=>{L=null}),He()),e[0].jsonEditor?E?E.p(e,t):((E=bo(e)).c(),E.m(C,v)):E&&(E.d(1),E=null),(!G||2&t&&J!==(J="mgPlayerJSqa_ege-panel-header-detail-view "+(e[1].isEditMode?"mgPlayerJSqa_disabled":"")))&&$e(r,"class",J)},i(e){G||(Ne(x),Ne(L),G=!0)},o(e){Be(x),Be(L),G=!1},d(e){e&&Le(r),X&&X.d(),k&&k.d(),x&&x.d(),L&&L.d(),E&&E.d(),A=!1,T()}}}function go(a){let r,i,n,s,l,o,c,g,m;return{c(){(r=Ee("wmgPlayerJSqa_")).textContent="Guide Name (*)",i=Ie(),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),l=Ee("wmgPlayerJSqa_"),o=Ee("input"),$e(r,"class","mgPlayerJSqa_ege-panel-header-detail-view mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_font-size-16"),$e(o,"class","mgPlayerJSqa_text-input mgPlayerJSqa_tour-view-tour-title mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_position-relative mgPlayerJSqa_width-100"),$e(o,"placeholder",c=a[1].tour_title),$e(l,"class","mgPlayerJSqa_tour-title-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(s,"class","mgPlayerJSqa_header-detail-view-tour-title"),$e(n,"class","mgPlayerJSqa_ege-panel-header-detail-view mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_ai-suggestion-panel-header")},m(e,t){xe(e,r,t),xe(e,i,t),xe(e,n,t),ke(n,s),ke(s,l),ke(l,o),je(o,a[0].isHowToTitle),g||(m=De(o,"input",a[7]),g=!0)},p(e,t){2&t&&c!==(c=e[1].tour_title)&&$e(o,"placeholder",c),1&t&&o.value!==e[0].isHowToTitle&&je(o,e[0].isHowToTitle)},i:we,o:we,d(e){e&&(Le(r),Le(i),Le(n)),g=!1,m()}}}function mo(a){let r,i=a[0].labels.labelAIGeneratedGuides+"",n,s,l,o,c,g,m,d,p;return{c(){r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),g=Ee("input"),$e(r,"class","mgPlayerJSqa_ege-panel-header-detail-view mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_font-size-16"),$e(g,"class","mgPlayerJSqa_text-input mgPlayerJSqa_tour-view-tour-title mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_position-relative mgPlayerJSqa_width-100"),$e(g,"placeholder",m=a[1].tour_title),$e(c,"class","mgPlayerJSqa_tour-title-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(o,"class","mgPlayerJSqa_header-detail-view-tour-title"),$e(l,"class","mgPlayerJSqa_ege-panel-header-detail-view mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_ai-suggestion-panel-header")},m(e,t){xe(e,r,t),ke(r,n),xe(e,s,t),xe(e,l,t),ke(l,o),ke(o,c),ke(c,g),je(g,a[0].aiTourTitle),d||(p=De(g,"input",a[6]),d=!0)},p(e,t){1&t&&i!==(i=e[0].labels.labelAIGeneratedGuides+"")&&Fe(n,i),2&t&&m!==(m=e[1].tour_title)&&$e(g,"placeholder",m),1&t&&g.value!==e[0].aiTourTitle&&je(g,e[0].aiTourTitle)},i:we,o:we,d(e){e&&(Le(r),Le(s),Le(l)),d=!1,p()}}}function po(e){let a,r,i=e[1]?.tour_description+"",n;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Me(i),$e(r,"class","mgPlayerJSqa_tooltip-tour-desc"),$e(a,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-right")},m(e,t){xe(e,a,t),ke(a,r),ke(r,n)},p(e,t){2&t&&i!==(i=e[1]?.tour_description+"")&&Fe(n,i)},d(e){e&&Le(a)}}}function uo(a){let r,i,n,s=a[0].svgs.publish+"",l,o,c,g=a[0].labels.publish+"",m,d,p,u;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("button"),l=Ie(),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),m=Me(g),$e(n,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_ege-inline-block-vt"),$e(n,"aria-label","publish"),$e(c,"class","mgPlayerJSqa_tooltip-title"),$e(o,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left"),$e(i,"class","mgPlayerJSqa_status-publish mgPlayerJSqa_status-publish-unpublish mgPlayerJSqa_icons-hover-effect mgPlayerJSqa_header-icon-wrapper mgPlayerJSqa_ege-inline-block-vt"),$e(r,"id","mgPlayerJSqa_btn-guide-view-publish"),$e(r,"class",d="mgPlayerJSqa_guide-status-wrapper "+(0<a[0].pendingStepCount||a[0].draftExists(a[1].tour_id,a[1].category_id)?"mgPlayerJSqa_disabled":""))},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),n.innerHTML=s,ke(i,l),ke(i,o),ke(o,c),ke(c,m),p||(u=De(n,"click",a[8]),p=!0)},p(e,t){1&t&&s!==(s=e[0].svgs.publish+"")&&(n.innerHTML=s),1&t&&g!==(g=e[0].labels.publish+"")&&Fe(m,g),3&t&&d!==(d="mgPlayerJSqa_guide-status-wrapper "+(0<e[0].pendingStepCount||e[0].draftExists(e[1].tour_id,e[1].category_id)?"mgPlayerJSqa_disabled":""))&&$e(r,"class",d)},d(e){e&&Le(r),p=!1,u()}}}function ho(a){let r,i,n,s=a[0].svgs.publish+"",l,o,c,g=a[0].labels.btnScheduledPublish+"",m,d,p,u;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("button"),l=Ie(),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),m=Me(g),$e(n,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_ege-inline-block-vt"),$e(n,"aria-label","publish"),$e(c,"class","mgPlayerJSqa_tooltip-title"),$e(o,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left"),$e(i,"class","mgPlayerJSqa_status-publish mgPlayerJSqa_status-publish-unpublish mgPlayerJSqa_icons-hover-effect mgPlayerJSqa_header-icon-wrapper mgPlayerJSqa_ege-inline-block-vt"),$e(r,"id","mgPlayerJSqa_btn-guide-view-schedule"),$e(r,"class",d="mgPlayerJSqa_guide-status-wrapper "+(0<a[0].pendingStepCount||a[0].draftExists(a[1].tour_id,a[1].category_id)?"mgPlayerJSqa_disabled":""))},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),n.innerHTML=s,ke(i,l),ke(i,o),ke(o,c),ke(c,m),p||(u=De(n,"click",a[9]),p=!0)},p(e,t){1&t&&s!==(s=e[0].svgs.publish+"")&&(n.innerHTML=s),1&t&&g!==(g=e[0].labels.btnScheduledPublish+"")&&Fe(m,g),3&t&&d!==(d="mgPlayerJSqa_guide-status-wrapper "+(0<e[0].pendingStepCount||e[0].draftExists(e[1].tour_id,e[1].category_id)?"mgPlayerJSqa_disabled":""))&&$e(r,"class",d)},d(e){e&&Le(r),p=!1,u()}}}function yo(a){let r,i,n,s=a[0].svgs.unpublish+"",l,o,c,g=a[0].labels.btnUnpublish+"",m,d,p;return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("button"),l=Ie(),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),m=Me(g),$e(n,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_ege-inline-block-vt"),$e(n,"aria-label","unpublish"),$e(c,"class","mgPlayerJSqa_tooltip-title"),$e(o,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left"),$e(i,"class","mgPlayerJSqa_status-unpublish mgPlayerJSqa_status-publish-unpublish mgPlayerJSqa_icons-hover-effect mgPlayerJSqa_header-icon-wrapper mgPlayerJSqa_ege-inline-block-vt"),$e(r,"id","mgPlayerJSqa_btn-guide-view-unpublish"),$e(r,"class","mgPlayerJSqa_guide-status-wrapper")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),n.innerHTML=s,ke(i,l),ke(i,o),ke(o,c),ke(c,m),d||(p=De(n,"click",a[10]),d=!0)},p(e,t){1&t&&s!==(s=e[0].svgs.unpublish+"")&&(n.innerHTML=s),1&t&&g!==(g=e[0].labels.btnUnpublish+"")&&Fe(m,g)},d(e){e&&Le(r),d=!1,p()}}}function _o(e){let a;function r(e){return e[0].guideViewFullScreen?So:fo}let i=r(e),n=i(e);return{c(){a=Ee("wmgPlayerJSqa_"),n.c(),$e(a,"id","mgPlayerJSqa_btn-guide-view-full-screen"),$e(a,"class","mgPlayerJSqa_guide-view-full-screen")},m(e,t){xe(e,a,t),n.m(a,null)},p(e,t){i===(i=r(e))&&n?n.p(e,t):(n.d(1),(n=i(e))&&(n.c(),n.m(a,null)))},d(e){e&&Le(a),n.d()}}}function So(a){let r,i=a[0].svgs.smallscreenIcon+"",n,s;return{c(){$e(r=Ee("button"),"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_guide-view-full-screen-icon mgPlayerJSqa_icons-hover-effect mgPlayerJSqa_header-icon-wrapper mgPlayerJSqa_ege-inline-block-vt"),$e(r,"aria-label","smallscreen")},m(e,t){xe(e,r,t),r.innerHTML=i,n||(s=De(r,"click",a[12]),n=!0)},p(e,t){1&t&&i!==(i=e[0].svgs.smallscreenIcon+"")&&(r.innerHTML=i)},d(e){e&&Le(r),n=!1,s()}}}function fo(a){let r,i=a[0].svgs.fullscreen+"",n,s;return{c(){$e(r=Ee("button"),"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_guide-view-full-screen-icon mgPlayerJSqa_icons-hover-effect mgPlayerJSqa_header-icon-wrapper mgPlayerJSqa_ege-inline-block-vt"),$e(r,"aria-label","fullscreen")},m(e,t){xe(e,r,t),r.innerHTML=i,n||(s=De(r,"click",a[11]),n=!0)},p(e,t){1&t&&i!==(i=e[0].svgs.fullscreen+"")&&(r.innerHTML=i)},d(e){e&&Le(r),n=!1,s()}}}function Po(e){let r,a;return r=new jr({props:{tour:e[1]}}),{c(){Ve(r.$$.fragment)},m(e,t){ze(r,e,t),a=!0},p(e,t){var a={};2&t&&(a.tour=e[1]),r.$set(a)},i(e){a||(Ne(r.$$.fragment,e),a=!0)},o(e){Be(r.$$.fragment,e),a=!1},d(e){Ue(r,e)}}}function Co(e){let r,a,i,n,s,l;return i=new Na({props:{tour:e[1]}}),{c(){r=Ee("wmgPlayerJSqa_"),a=Ee("button"),Ve(i.$$.fragment),$e(a,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_icons-hover-effect mgPlayerJSqa_header-icon-wrapper mgPlayerJSqa_inline-block-vm"),$e(a,"aria-label","tour action dropdown"),$e(r,"id",n="mgPlayerJSqa_tour-pencil-icon-"+(e[2]&&e[2]?.step_id||e[1]?.tour_id||e[3]&&e[3]?.entity_code)),$e(r,"class",s="mgPlayerJSqa_inline-block-vm mgPlayerJSqa_tour-more-option-icon "+(e[1].is_published?"":"mgPlayerJSqa_tour-pencil-icon-unpublish"))},m(e,t){xe(e,r,t),ke(r,a),ze(i,a,null),l=!0},p(e,t){var a={};2&t&&(a.tour=e[1]),i.$set(a),(!l||2&t&&n!==(n="mgPlayerJSqa_tour-pencil-icon-"+(e[2]&&e[2]?.step_id||e[1]?.tour_id||e[3]&&e[3]?.entity_code)))&&$e(r,"id",n),(!l||2&t&&s!==(s="mgPlayerJSqa_inline-block-vm mgPlayerJSqa_tour-more-option-icon "+(e[1].is_published?"":"mgPlayerJSqa_tour-pencil-icon-unpublish")))&&$e(r,"class",s)},i(e){l||(Ne(i.$$.fragment,e),l=!0)},o(e){Be(i.$$.fragment,e),l=!1},d(e){e&&Le(r),Ue(i)}}}function bo(a){let r,i=a[0].svgs.iconEdit+"",n,s;return{c(){$e(r=Ee("wmgPlayerJSqa_"),"id","mgPlayerJSqa_icon-edit-json"),$e(r,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_tour-more-option-icon mgPlayerJSqa_header-icon-wrapper mgPlayerJSqa_json-editor-icon")},m(e,t){xe(e,r,t),r.innerHTML=i,n||(s=De(r,"click",a[13]),n=!0)},p(e,t){1&t&&i!==(i=e[0].svgs.iconEdit+"")&&(r.innerHTML=i)},d(e){e&&Le(r),n=!1,s()}}}function qo(e){let a,r,i,n,s;const l=[mo,go,co],o=[];function c(e,t){return 2&t&&(a=null),e[0].isAiSuggesionSteps?0:(a=null==a?!(!GmCXt.isHowToGuide(e[1])||ce(me.stepOperationMode)!==GmCXt.STEP_CREATE_OPERATION||0!==e[1].tour_id):a)?1:2}return r=c(e,-1),i=o[r]=l[r](e),{c(){i.c(),n=M()},m(e,t){o[r].m(e,t),xe(e,n,t),s=!0},p(e,[t]){let a=r;(r=c(e,t))===a?o[r].p(e,t):(Re(),Be(o[a],1,1,()=>{o[a]=null}),He(),(i=o[r])?i.p(e,t):(i=o[r]=l[r](e)).c(),Ne(i,1),i.m(n.parentNode,n))},i(e){s||(Ne(i),s=!0)},o(e){Be(i),s=!1},d(e){e&&Le(n),o[r].d(e)}}}function vo(e,t,r){let a={},i;a=ce(me.currentTour);let n;ge.isTooltip(a),ge.labels=GmCXt.getAllLabels(ge.language);function s(e){r(0,ge.guideViewFullScreen=e,ge),ge.toggleGuideViewFullScreen()}const l=me.currentTour.subscribe(e=>{r(1,a={...e}),GmCXt.isEmpty(e)||(i=ge.isGuideInOriginalLang(a)?a:ge.getTranslatedTourAndSteps(a,ge.language),r(1,a={...i}))}),o=(ge.isAiSuggesionSteps&&(ge.aiTourTitle=a.tour_title),GmCXt.isHowToGuide(a)&&(ge.isHowToTitle=a.tour_title),me.breadCrumb.subscribe(e=>{n=e}),me.selectedLang.subscribe(e=>{GmCXt.isEmpty(a)||(r(1,a.selectedLang=e,a),r(1,a=ge.getTranslatedTourAndSteps(a,e)),me.currentTour.set(a))}));pe(()=>{l(),o()});ge.backHandler=e=>{if(ge.guideViewFullScreen&&(r(0,ge.guideViewFullScreen=!1,ge),GmCXt.reduceSidePanelWidth()),"AI_RECOMMENDATION"===ge.sourceOfGuideOpen)ge.setCurrentPage("addAIGuides"),r(0,ge.sourceOfGuideOpen=null,ge);else if(0<n.length){var a=n[n.length-1],e=(e&&(a.has_tour=!0),{parent:a,hasTour:a.has_tour,hasChild:a.has_child});let t={action:"backwardTraversal",data:{detail:e}};me.routeAction.update(e=>t),ge.setCurrentPage("allguides")}else ge.setCurrentPage("currentpage")};return[ge,a,void 0,void 0,s,function(){r(0,ge.isStepViewRefresh=!1,ge),ge.backHandler(!0)},function(){ge.aiTourTitle=this.value,r(0,ge)},function(){ge.isHowToTitle=this.value,r(0,ge)},e=>ge.changeStatus(a,"publish",0,e),()=>ge.schedulePubTour(a),e=>ge.changeStatus(a,"unpublish",0,e),()=>s(!ge.guideViewFullScreen),()=>s(!ge.guideViewFullScreen),()=>ge.editJson(a,"guide")]}class wo extends e{constructor(e){super(),t(this,e,vo,qo,g,{})}}function Jo(e,t,a){e=e.slice();return e[9]=t[a],e}function Go(t){let i,r,n=I(ge.sortDataByActiveFilter(t[0],"tour_title",t[1])),s=[];for(let e=0;e<n.length;e+=1)s[e]=To(Jo(t,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();i=M()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);xe(t,i,a),r=!0},p(t,a){if(3&a){n=I(ge.sortDataByActiveFilter(t[0],"tour_title",t[1]));let e;for(e=0;e<n.length;e+=1){var r=Jo(t,n,e);s[e]?(s[e].p(r,a),Ne(s[e],1)):(s[e]=To(r),s[e].c(),Ne(s[e],1),s[e].m(i.parentNode,i))}for(Re(),e=n.length;e<s.length;e+=1)(e=>Be(s[e],1,1,()=>{s[e]=null}))(e);He()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)Ne(s[e]);r=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Be(s[e]);r=!1},d(e){e&&Le(i),$(s,e)}}}function Ao(e){let a,r,i,n=ge.svgs.no_guides_image+"",s,l,o,c,g;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),(o=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.noGuideAvailableFor,c=Ie(),(g=Ee("wmgPlayerJSqa_")).textContent=""+ge.labels.tryModifyingYourSearch,$e(i,"class","mgPlayerJSqa_no-guide-found-search-icon"),$e(r,"class","mgPlayerJSqa_no-guide-image-wrapper mgPlayerJSqa_no-guide-search-wrapper"),$e(o,"class","mgPlayerJSqa_no-guide-msg"),$e(o,"tabindex","0"),$e(g,"class","mgPlayerJSqa_instruction-add-category"),$e(g,"tabindex","0"),$e(l,"class","mgPlayerJSqa_no-guide-text-wrapper mgPlayerJSqa_no-guide-text-search-wrapper"),$e(a,"class","mgPlayerJSqa_no-tour-message-wrapper mgPlayerJSqa_position-center "+(ge.isMicroPlayer?"mgPlayerJSqa_no-tour-message-mini-player":"")),Oe(a,"mgPlayerJSqa_margin-t-50",!ge.isMicroPlayer)},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),i.innerHTML=n,ke(a,s),ke(a,l),ke(l,o),ke(l,c),ke(l,g)},p:we,i:we,o:we,d(e){e&&Le(a)}}}function To(e){let a,r,i,n;return r=new Gi({props:{tour:e[9]}}),{c(){a=Ee("wmgPlayerJSqa_"),Ve(r.$$.fragment),i=Ie(),$e(a,"class","mgPlayerJSqa_tour-item mgPlayerJSqa_guide-list-view "+(ge.isMicroPlayer?"mgPlayerJSqa_guide-list-view-mplayer":"")),$e(a,"aria-live",ge.labels.searchResult)},m(e,t){xe(e,a,t),ze(r,a,null),ke(a,i),n=!0},p(e,t){var a={};3&t&&(a.tour=e[9]),r.$set(a)},i(e){n||(Ne(r.$$.fragment,e),n=!0)},o(e){Be(r.$$.fragment,e),n=!1},d(e){e&&Le(a),Ue(r)}}}function Xo(e){let r,i,n,a;const s=[Ao,Go],l=[];function o(e){return e[0].length<1?0:1}return i=o(e),n=l[i]=s[i](e),{c(){r=Ee("wmgPlayerJSqa_"),n.c(),$e(r,"class","mgPlayerJSqa_search-list")},m(e,t){xe(e,r,t),l[i].m(r,null),a=!0},p(e,[t]){let a=i;(i=o(e))===a?l[i].p(e,t):(Re(),Be(l[a],1,1,()=>{l[a]=null}),He(),(n=l[i])?n.p(e,t):(n=l[i]=s[i](e)).c(),Ne(n,1),n.m(r,null))},i(e){a||(Ne(n),a=!0)},o(e){Be(n),a=!1},d(e){e&&Le(r),l[i].d()}}}function ko(e,t,a){let r;GmCXt.user;let i,n;GmCXt.getLXPLang()&&(n=GmCXt.getLXPLang());const s=me.CurrentPage.subscribe(e=>{}),l=me.searchTours.subscribe(e=>{e&&a(0,r=ge.getTranslatedTours(e,n))}),o=(pe(()=>{s(),l(),o()}),me.selectedLang.subscribe(e=>{GmCXt.getLXPLang()||(n=e),a(0,r=ge.getTranslatedTours(r,n))}));return me.activeSortFilterStore.subscribe(e=>{a(1,i=e)}),setTimeout(function(){ge.setContainerHeight("search")},100),mg$(window).off("resize").on("resize",function(){ge.setContainerHeight("search")}),de(()=>{ge.setContainerHeight("search")}),[r,i]}class xo extends e{constructor(e){super(),t(this,e,ko,Xo,g,{})}}function Lo(e,t,a){e=e.slice();return e[13]=t[a],e}function Eo(e){let r,i,n,s;return i=new Gi({props:{tour:e[13]}}),{c(){r=Ee("wmgPlayerJSqa_"),Ve(i.$$.fragment),$e(r,"class",n="mgPlayerJSqa_tour-item mgPlayerJSqa_guide-list-view "+(e[0].isMicroPlayer?"mgPlayerJSqa_guide-list-view-mplayer":""))},m(e,t){xe(e,r,t),ze(i,r,null),s=!0},p(e,t){var a={};2&t&&(a.tour=e[13]),i.$set(a),(!s||1&t&&n!==(n="mgPlayerJSqa_tour-item mgPlayerJSqa_guide-list-view "+(e[0].isMicroPlayer?"mgPlayerJSqa_guide-list-view-mplayer":"")))&&$e(r,"class",n)},i(e){s||(Ne(i.$$.fragment,e),s=!0)},o(e){Be(i.$$.fragment,e),s=!1},d(e){e&&Le(r),Ue(i)}}}function Mo(){let a,r;return a=new wn({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function Io(t){let i,n,s,a,r,l=I(t[1]),o=[];for(let e=0;e<l.length;e+=1)o[e]=Eo(Lo(t,l,e));let c=t[2]&&Mo();return{c(){i=Ee("wmgPlayerJSqa_");for(let e=0;e<o.length;e+=1)o[e].c();n=Ie(),c&&c.c(),s=Ie(),$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_ege-clear"),$e(i,"class","mgPlayerJSqa_category-list")},m(e,t){xe(e,i,t);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(i,null);ke(i,n),c&&c.m(i,null),ke(i,s),ke(i,a),r=!0},p(t,[a]){if(3&a){l=I(t[1]);let e;for(e=0;e<l.length;e+=1){var r=Lo(t,l,e);o[e]?(o[e].p(r,a),Ne(o[e],1)):(o[e]=Eo(r),o[e].c(),Ne(o[e],1),o[e].m(i,n))}for(Re(),e=l.length;e<o.length;e+=1)(e=>Be(o[e],1,1,()=>{o[e]=null}))(e);He()}t[2]?c?4&a&&Ne(c,1):((c=Mo()).c(),Ne(c,1),c.m(i,s)):c&&(Re(),Be(c,1,1,()=>{c=null}),He())},i(e){if(!r){for(let e=0;e<l.length;e+=1)Ne(o[e]);Ne(c),r=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Be(o[e]);Be(c),r=!1},d(e){e&&Le(i),$(o,e),c&&c.d()}}}let Do=50;function $o(e,t,a){ge.filterByPublishedGuides,ge.currentUserFilter,ge.currentAssigneeFilter,ge.currentView="filter-list";let r=0,i=0,n=[],s=!0,l=!0,o=ge.activeTourId;o=o||0;function c(t){ge.showLoading();var e={limit:Do,offset:r};e.my_guides=ge.user.user_id,GmCXt.getLXPLang()&&(e.language=GmCXt.getLXPLang()),GmCXt.api.getTourList(e,function(e){m(t,e)})}const g=me.MyGuidePageTours.subscribe(e=>{a(1,n=e)}),m=(pe(()=>{g()}),c(0),function(e,t){(t=ge.getTranslatedTours(t))&&0<t.length?(a(1,n=e?mg$.merge(n,t):t),me.MyGuidePageTours.set(n),a(2,s=!1),i=t.length):a(2,s=!e),l=!0,n.forEach(function(e){e.tour_id===o&&(e.screencastInProgress=!0)}),me.MyGuidePageTours.set(n),ge.setContainerHeight("allguides")});return mg$(".mgPlayerJSqa_category-list").off("scroll").on("scroll",function(){if(!l)return!0;mg$(this).scrollTop()+mg$(this).innerHeight()>=mg$(this)[0].scrollHeight-20&&mg$(this)[0].scrollHeight+20>mg$(this).innerHeight()&&(l=!1,i===Do)&&(ge.showLoading(),r+=Do,c(1))}),ge.setContainerHeight("allguides"),mg$(window).off("resize").on("resize",function(){ge.setContainerHeight("allguides")}),[ge,n,s]}class Fo extends e{constructor(e){super(),t(this,e,$o,Io,g,{})}}function Oo(e){let a,r,i,n=e[0].svgs.no_guides_image+"",s,l,o=e[0].labels.noGuidesOnDomain+"",c,g,m,d=e[0].labels.noAppOnDomain+"",p,u,h,y,_,S,f,P,C=e[0].labels.contactAdmin+"";return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),s=Ie(),l=Ee("wmgPlayerJSqa_"),c=Me(o),g=Ie(),m=Ee("wmgPlayerJSqa_"),p=Me(d),u=Ie(),h=Ee("wmgPlayerJSqa_"),y=Me("("),_=Me(e[1]),S=Me(")"),f=Ie(),P=Ee("wmgPlayerJSqa_"),$e(i,"class","mgPlayerJSqa_no-app-icon mgPlayerJSqa_position-relative mgPlayerJSqa_inline-block-vm"),$e(r,"class","mgPlayerJSqa_no-app-icon-wrapper mgPlayerJSqa_display-inline-block mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-tb-30"),$e(l,"class","mgPlayerJSqa_no-guide-msg mgPlayerJSqa_text-align-center mgPlayerJSqa_font-size-20 mgPlayerJSqa_text-align-center mgPlayerJSqa_font-weight-550 mgPlayerJSqa_text-color-dark"),$e(h,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_font-weight-550"),$e(m,"class","mgPlayerJSqa_default-app-msg mgPlayerJSqa_display-inline-block mgPlayerJSqa_text-align-center mgPlayerJSqa_font-size-16 mgPlayerJSqa_margin-tb-10"),$e(P,"class","mgPlayerJSqa_contact-support-msg mgPlayerJSqa_display-inline-block mgPlayerJSqa_text-align-center mgPlayerJSqa_font-size-16 mgPlayerJSqa_margin-tb-10"),$e(a,"class","mgPlayerJSqa_no-app-container mgPlayerJSqa_text-align-center"),Oe(a,"mgPlayerJSqa_no-margin",!e[0].isMicroPlayer)},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),i.innerHTML=n,ke(a,s),ke(a,l),ke(l,c),ke(a,g),ke(a,m),ke(m,p),ke(m,u),ke(m,h),ke(h,y),ke(h,_),ke(h,S),ke(a,f),ke(a,P),P.innerHTML=C},p(e,[t]){1&t&&n!==(n=e[0].svgs.no_guides_image+"")&&(i.innerHTML=n),1&t&&o!==(o=e[0].labels.noGuidesOnDomain+"")&&Fe(c,o),1&t&&d!==(d=e[0].labels.noAppOnDomain+"")&&Fe(p,d),2&t&&Fe(_,e[1]),1&t&&C!==(C=e[0].labels.contactAdmin+"")&&(P.innerHTML=C),1&t&&Oe(a,"mgPlayerJSqa_no-margin",!e[0].isMicroPlayer)},i:we,o:we,d(e){e&&Le(a)}}}function Ro(e,t,a){GmCXt.log(21,"NO APPS found"),ge.currentView="no-app",ge.resetAppData();let r="";return GmCXt.urlParts&&GmCXt.urlParts.host&&a(1,r=GmCXt.urlParts.host),[ge,r]}class Ho extends e{constructor(e){super(),t(this,e,Ro,Oo,g,{})}}function No(){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function Bo(){let a,r;return a=new wo({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function Vo(e){let a,r,i,n=""!==e[0]&&ac(e);return{c(){a=Ee("wmgPlayerJSqa_"),n&&n.c(),$e(a,"id","mgPlayerJSqa_home-page-container"),$e(a,"class",r="mgPlayerJSqa_ege-panel-main-container mgPlayerJSqa_home-page-container "+("allguidesSearchPage"==e[0]||"currentPageSearchPage"==e[0]?"mgPlayerJSqa_search-page-container":""))},m(e,t){xe(e,a,t),n&&n.m(a,null),i=!0},p(e,t){""!==e[0]?n?(n.p(e,t),1&t&&Ne(n,1)):((n=ac(e)).c(),Ne(n,1),n.m(a,null)):n&&(Re(),Be(n,1,1,()=>{n=null}),He()),(!i||1&t&&r!==(r="mgPlayerJSqa_ege-panel-main-container mgPlayerJSqa_home-page-container "+("allguidesSearchPage"==e[0]||"currentPageSearchPage"==e[0]?"mgPlayerJSqa_search-page-container":"")))&&$e(a,"class",r)},i(e){i||(Ne(n),i=!0)},o(e){Be(n),i=!1},d(e){e&&Le(a),n&&n.d()}}}function zo(e){let a,r;return a=new Ho({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},p:we,i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function Uo(e){let a,r,i,n,s=(r=new oo({}),"addLinkGuide"==e[0]&&oc());return{c(){a=Ee("wmgPlayerJSqa_"),Ve(r.$$.fragment),i=Ie(),s&&s.c(),$e(a,"id","mgPlayerJSqa_tour-view-page-container"),$e(a,"class","mgPlayerJSqa_ege-panel-main-container mgPlayerJSqa_tour-view-page-container")},m(e,t){xe(e,a,t),ze(r,a,null),ke(a,i),s&&s.m(a,null),n=!0},p(e,t){"addLinkGuide"==e[0]?s?1&t&&Ne(s,1):((s=oc()).c(),Ne(s,1),s.m(a,null)):s&&(Re(),Be(s,1,1,()=>{s=null}),He())},i(e){n||(Ne(r.$$.fragment,e),Ne(s),n=!0)},o(e){Be(r.$$.fragment,e),Be(s),n=!1},d(e){e&&Le(a),Ue(r),s&&s.d()}}}function jo(e){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},p:we,i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function Wo(e){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},p:we,i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function Zo(e){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},p:we,i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function Yo(e){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},p:we,i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function Ko(e){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},p:we,i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function Qo(e){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},p:we,i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function ec(e){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},p:we,i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function tc(e){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},p:we,i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function ac(e){let r,a,i,n,s,l;a=new fr({});const o=[lc,sc,nc,ic,rc],c=[];function g(e){return"currentpage"===e[0]?0:"myguides"===e[0]?1:"allguides"==e[0]?2:"allguidesSearchPage"==e[0]||"currentPageSearchPage"==e[0]?3:"listView"==e[0]?4:-1}return~(n=g(e))&&(s=c[n]=o[n](e)),{c(){r=Ee("wmgPlayerJSqa_"),Ve(a.$$.fragment),i=Ie(),s&&s.c(),$e(r,"class","mgPlayerJSqa_tour-list-page-container")},m(e,t){xe(e,r,t),ze(a,r,null),ke(r,i),~n&&c[n].m(r,null),l=!0},p(e,t){let a=n;(n=g(e))!==a&&(s&&(Re(),Be(c[a],1,1,()=>{c[a]=null}),He()),~n?((s=c[n])||(s=c[n]=o[n](e)).c(),Ne(s,1),s.m(r,null)):s=null)},i(e){l||(Ne(a.$$.fragment,e),Ne(s),l=!0)},o(e){Be(a.$$.fragment,e),Be(s),l=!1},d(e){e&&Le(r),Ue(a),~n&&c[n].d()}}}function rc(e){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function ic(e){let a,r;return a=new xo({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function nc(e){let a,r;return a=new rs({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function sc(e){let a,r;return a=new Fo({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function lc(e){let a,r;return a=new Di({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function oc(){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function cc(e){let r,i,a,n,s,l=e[4](),o,c;var t=e[5]();let g,m,d,p,u,h,y,_,S,f,P,C,b,q,v,w,J,G,A,T,X,k=e[1]&&No(),x=(n=new $t({}),l&&function(e){let a,r,i;return r=new Na({props:{currentPageRoute:0<e[2].length&&"stepview"!==e[0]?"categorylist":e[0]}}),{c(){a=Ee("wmgPlayerJSqa_"),Ve(r.$$.fragment),$e(a,"class","mgPlayerJSqa_float-right mgPlayerJSqa_margin-lr-5")},m(e,t){xe(e,a,t),ze(r,a,null),i=!0},p(e,t){var a={};5&t&&(a.currentPageRoute=0<e[2].length&&"stepview"!==e[0]?"categorylist":e[0]),r.$set(a)},i(e){i||(Ne(r.$$.fragment,e),i=!0)},o(e){Be(r.$$.fragment,e),i=!1},d(e){e&&Le(a),Ue(r)}}}(e)),L=("stepview"==e[0]||"addLinkGuide"==e[0]||"copySteps"==e[0])&&Bo(),E=t&&function(){let a,r;return a=new Ha({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}();const M=[tc,ec,Qo,Ko,Yo,Zo,Wo,jo,Uo,zo,Vo],I=[];function D(e,t){return(m=null==(m=1&t?null:m)?!(!ge.isOwnerOrAppAdmin()||"appsettings"!=e[0]):m)?0:"addCategory"==e[0]?1:"addAIGuides"==e[0]?2:"addGuide"==e[0]?3:"addSurveyStep"==e[0]?4:"addTransportStep"==e[0]?5:"addVideoStep"==e[0]?6:"addTextSlideStep"==e[0]?7:"stepview"==e[0]||"addLinkGuide"==e[0]||"copySteps"==e[0]?8:"noapp"==e[0]?9:10}return d=D(e,-1),p=I[d]=M[d](e),T=new aa({}),{c(){r=Ee("wmgPlayerJSqa_"),k&&k.c(),i=Ie(),a=Ee("wmgPlayerJSqa_"),Ve(n.$$.fragment),s=Ie(),x&&x.c(),o=Ie(),L&&L.c(),c=Ie(),E&&E.c(),g=Ie(),p.c(),u=Ie(),h=Ee("wmgPlayerJSqa_"),y=Ie(),_=Ee("wmgPlayerJSqa_"),S=Ie(),f=Ee("wmgPlayerJSqa_"),P=Ie(),C=Ee("wmgPlayerJSqa_"),b=Ie(),q=Ee("wmgPlayerJSqa_"),v=Ie(),w=Ee("wmgPlayerJSqa_"),J=Ie(),G=Ee("wmgPlayerJSqa_"),A=Ie(),Ve(T.$$.fragment),$e(a,"class","mgPlayerJSqa_panel-header-wrapper mgPlayerJSqa_width-100 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between "+(ge.isMicroPlayer?"mgPlayerJSqa_br-white mgPlayerJSqa_panel-header-micro-wrapper":"")),$e(r,"id","mgPlayerJSqa_ege-header"),$e(r,"class","mgPlayerJSqa_ege-panel-header"),$e(h,"id","mgPlayerJSqa_add-branch-view"),$e(_,"id","mgPlayerJSqa_add-history-view"),$e(f,"id","mgPlayerJSqa_automation-url-results"),$e(C,"id","mgPlayerJSqa_step-creation-preview-image"),$e(q,"class","mgPlayerJSqa_sidepanel-screen-blackout"),$e(w,"id","mgPlayerJSqa_beacon-creation-preview-image"),$e(G,"class","mgPlayerJSqa_smarttip-icon"),$e(G,"id","guideme-beacon-icon")},m(e,t){xe(e,r,t),k&&k.m(r,null),ke(r,i),ke(r,a),ze(n,a,null),ke(r,s),x&&x.m(r,null),ke(r,o),L&&L.m(r,null),ke(r,c),E&&E.m(r,null),xe(e,g,t),I[d].m(e,t),xe(e,u,t),xe(e,h,t),xe(e,y,t),xe(e,_,t),xe(e,S,t),xe(e,f,t),xe(e,P,t),xe(e,C,t),xe(e,b,t),xe(e,q,t),xe(e,v,t),xe(e,w,t),xe(e,J,t),xe(e,G,t),xe(e,A,t),ze(T,e,t),X=!0},p(e,t){e[1]?k?2&t&&Ne(k,1):((k=No()).c(),Ne(k,1),k.m(r,i)):k&&(Re(),Be(k,1,1,()=>{k=null}),He()),l&&x.p(e,t),"stepview"==e[0]||"addLinkGuide"==e[0]||"copySteps"==e[0]?L?1&t&&Ne(L,1):((L=Bo()).c(),Ne(L,1),L.m(r,c)):L&&(Re(),Be(L,1,1,()=>{L=null}),He());let a=d;(d=D(e,t))===a?I[d].p(e,t):(Re(),Be(I[a],1,1,()=>{I[a]=null}),He(),(p=I[d])?p.p(e,t):(p=I[d]=M[d](e)).c(),Ne(p,1),p.m(u.parentNode,u))},i(e){X||(Ne(k),Ne(n.$$.fragment,e),Ne(x),Ne(L),Ne(E),Ne(p),Ne(T.$$.fragment,e),X=!0)},o(e){Be(k),Be(n.$$.fragment,e),Be(x),Be(L),Be(E),Be(p),Be(T.$$.fragment,e),X=!1},d(e){e&&(Le(r),Le(g),Le(u),Le(h),Le(y),Le(_),Le(S),Le(f),Le(P),Le(C),Le(b),Le(q),Le(v),Le(w),Le(J),Le(G),Le(A)),k&&k.d(),Ue(n),x&&x.d(),L&&L.d(),E&&E.d(),I[d].d(e),Ue(T,e)}}}function gc(e){let a=e[3],r,i,n=cc(e);return{c(){n.c(),r=M()},m(e,t){n.m(e,t),xe(e,r,t),i=!0},p(e,[t]){8&t&&g(a,a=e[3])?(Re(),Be(n,1,1,we),He(),(n=cc(e)).c(),Ne(n,1),n.m(r.parentNode,r)):n.p(e,t)},i(e){i||(Ne(n),i=!0)},o(e){Be(n),i=!1},d(e){e&&Le(r),n.d(e)}}}function mc(e,t,a){let r="",i=!1,n=[],s=0;const l=me.breadCrumb.subscribe(e=>{!1===e&&me.breadCrumb.set([]),a(2,n=e),GmCXt.saveToStorage("breadCrumb",e)}),o=(me.statusBar.subscribe(e=>{a(1,i=!1),setTimeout(()=>{a(1,i=!0)},10)}),me.CurrentPage.subscribe(e=>{a(0,r=e),a(3,s+=1),"AI_RECOMMENDATION"===ge.sourceOfGuideOpen||"stepview"!==e&&"allguides"!==e&&"myguides"!==e&&"currentpage"!==e||GmCXt.saveToStorage("currentPage",e)}));function c(){var e;0<n.length&&(e={detail:{parent:e=n[n.length-1],hasTour:e.has_tour,hasChild:e.has_child}},me.routeAction.set({action:"forwardTraversal",data:e}))}return a(2,n=ce(me.breadCrumb)),a(0,r=ce(me.CurrentPage)),ce(me.currentTour),GmCXt.FT.isPlayer&&ge.showGuidesFromDesktopApp?"stepview"===r?ge.setCurrentPage(r):"currentpage"!==r&&0<n.length&&(c(),ge.setCurrentPage("allguides")):GmCXt.FT.isPlayer&&"noapp"!==r?ge.allGuideView&&"allguides"!==r&&"stepview"!==r?(me.breadCrumb.set([]),me.allCategories.set([]),ge.setCurrentPage("allguides")):ge.allGuideView?c():ge.allGuideView||"currentpage"===r||ge.setCurrentPage("currentpage"):(c(),r&&!1!==r||(ge.allGuideView||!GmCXt.FT.isPlayer?ge.setCurrentPage("allguides"):ge.setCurrentPage("currentpage"))),pe(()=>{l(),o()}),[r,i,n,s,function(){return!["addCategory","addGuide","addSurveyStep","addTransportStep","addVideoStep","addTextSlideStep","copySteps","addAIGuides"].includes(r)&&!ge.automationSelectionMode&&!ge.showPlayer},function(){return ce(me.activeView),!["addCategory","addGuide","stepview","addSurveyStep","addTransportStep","addLinkGuide","addVideoStep","addTextSlideStep","copySteps","addAIGuides"].includes(r)&&!ge.showPlayer&&((GmCXt.FT.creatorApp||ge.showAppSwitcher&&1<ge.user.app_access.length)&&!ge.maintenance||GmCXt.FT.isPlayer&&ge.showGuidesFromDesktopApp)}]}class dc extends e{constructor(e){super(),t(this,e,mc,gc,g,{})}}function pc(e){let a,r=e[0].labels.cdnAccess+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_maintenance-message-wrapper mgPlayerJSqa_inline-block-vm mgPlayerJSqa_font-size-16 mgPlayerJSqa_text-align-center")},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t&&r!==(r=e[0].labels.cdnAccess+"")&&(a.innerHTML=r)},d(e){e&&Le(a)}}}function uc(e){let a,r=e[0].labels[1005]+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_maintenance-message-wrapper mgPlayerJSqa_inline-block-vm mgPlayerJSqa_font-size-16 mgPlayerJSqa_text-align-center")},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t&&r!==(r=e[0].labels[1005]+"")&&(a.innerHTML=r)},d(e){e&&Le(a)}}}function hc(a){let r;return{c(){$e(r=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_maintenance-message-wrapper mgPlayerJSqa_inline-block-vm mgPlayerJSqa_font-size-16 mgPlayerJSqa_text-align-center")},m(e,t){xe(e,r,t),r.innerHTML=a[1]},p(e,t){2&t&&(r.innerHTML=e[1])},d(e){e&&Le(r)}}}function yc(e){let a,r,i,n,s,l=e[0].svgs.maintenance_icon+"",o,c,g,m,d,p,u=(a=new Rt({}),e[0].cdn404&&pc(e)),h=e[0].cdn403&&uc(e),y=e[0].maintenance&&hc(e);return d=new aa({}),{c(){Ve(a.$$.fragment),r=Ie(),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),o=Ie(),u&&u.c(),c=Ie(),h&&h.c(),g=Ie(),y&&y.c(),m=Ie(),Ve(d.$$.fragment),$e(s,"class","mgPlayerJSqa_text-align-center"),$e(n,"class","mgPlayerJSqa_maintenance-icon-wrapper"),$e(i,"class","mgPlayerJSqa_maintenance-page-container mgPlayerJSqa_text-align-center")},m(e,t){ze(a,e,t),xe(e,r,t),xe(e,i,t),ke(i,n),ke(n,s),s.innerHTML=l,ke(i,o),u&&u.m(i,null),ke(i,c),h&&h.m(i,null),ke(i,g),y&&y.m(i,null),xe(e,m,t),ze(d,e,t),p=!0},p(e,[t]){(!p||1&t)&&l!==(l=e[0].svgs.maintenance_icon+"")&&(s.innerHTML=l),e[0].cdn404?u?u.p(e,t):((u=pc(e)).c(),u.m(i,c)):u&&(u.d(1),u=null),e[0].cdn403?h?h.p(e,t):((h=uc(e)).c(),h.m(i,g)):h&&(h.d(1),h=null),e[0].maintenance?y?y.p(e,t):((y=hc(e)).c(),y.m(i,null)):y&&(y.d(1),y=null)},i(e){p||(Ne(a.$$.fragment,e),Ne(d.$$.fragment,e),p=!0)},o(e){Be(a.$$.fragment,e),Be(d.$$.fragment,e),p=!1},d(e){e&&(Le(r),Le(i),Le(m)),Ue(a,e),u&&u.d(),h&&h.d(),y&&y.d(),Ue(d,e)}}}function _c(e,t,a){ge.currentView="maintenance";let r=ge.labels.maintenanceMessage;return r=r.replace("support@csod.com","<a href='mailto:support@csod.com' target='_top'>support@csod.com</a>"),[ge,r]}class Sc extends e{constructor(e){super(),t(this,e,_c,yc,g,{})}}function fc(a){let r,i,n,s,l=a[0].labels.forgetPassTitl+"",o,$,c,g,m,d,p,u,h=a[0].labels.placeholderEmail+"",y,F,_,S,O,f,P=a[0].labels.emailError+"",C,R,H,b,q,v=a[0].labels.forgetPassTitl+"",w,J,G,N,A,T,X=a[0].labels.backToLogin+"",k,x,B,L,E,M,I,V,D=(r=new Rt({}),!GmCXt.conf.hideCaptcha&&function(t){let a,r,i=t[0].labels.captchaLbl+"",n,s,l,o,c,g,m;function e(e){t[12](e)}function d(e){t[13](e)}function p(e){t[14](e)}var u={};return void 0!==t[2]&&(u.captchaValid=t[2]),void 0!==t[3]&&(u.showCaptchaError=t[3]),void 0!==t[4]&&(u.inputCaptchaRef=t[4]),l=new Vt({props:u}),ue.push(()=>U(l,"captchaValid",e)),ue.push(()=>U(l,"showCaptchaError",d)),ue.push(()=>U(l,"inputCaptchaRef",p)),{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),Ve(l.$$.fragment),$e(r,"class","mgPlayerJSqa_text-align-left mgPlayerJSqa_login-field-label"),$e(a,"class","mgPlayerJSqa_margin-tb-10")},m(e,t){xe(e,a,t),ke(a,r),ke(r,n),ke(a,s),ze(l,a,null),m=!0},p(e,t){(!m||1&t)&&i!==(i=e[0].labels.captchaLbl+"")&&Fe(n,i);var a={};!o&&4&t&&(o=!0,a.captchaValid=e[2],z(()=>o=!1)),!c&&8&t&&(c=!0,a.showCaptchaError=e[3],z(()=>c=!1)),!g&&16&t&&(g=!0,a.inputCaptchaRef=e[4],z(()=>g=!1)),l.$set(a)},i(e){m||(Ne(l.$$.fragment,e),m=!0)},o(e){Be(l.$$.fragment,e),m=!1},d(e){e&&Le(a),Ue(l)}}}(a));return E=new aa({}),{c(){Ve(r.$$.fragment),i=Ie(),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),o=Me(l),$=Ie(),c=Ee("wmgPlayerJSqa_"),g=Ee("wmgPlayerJSqa_"),m=Ee("wmgPlayerJSqa_"),d=Ee("wmgPlayerJSqa_"),p=Ee("wmgPlayerJSqa_"),u=Ee("wmgPlayerJSqa_"),y=Me(h),F=Ie(),_=Ee("input"),O=Ie(),f=Ee("wmgPlayerJSqa_"),C=Me(P),R=Ie(),D&&D.c(),H=Ie(),b=Ee("wmgPlayerJSqa_"),q=Ee("button"),w=Me(v),N=Ie(),A=Ee("wmgPlayerJSqa_"),T=Ee("button"),k=Me(X),B=Ie(),L=Ie(),Ve(E.$$.fragment),$e(s,"class","mgPlayerJSqa_h2 mgPlayerJSqa_font-size-24 mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-25"),$e(u,"class","mgPlayerJSqa_text-align-left mgPlayerJSqa_login-field-label"),$e(_,"id","mgPlayerJSqa_input-forgot-email"),$e(_,"class","mgPlayerJSqa_input-type-text mgPlayerJSqa_font-size-16 mgPlayerJSqa_inline-block-vm"),$e(_,"maxlength","50"),$e(_,"spellcheck","true"),$e(_,"type","email"),$e(_,"placeholder",S=a[0].labels.placeholderEmail),$e(_,"name","email"),$e(_,"aria-describedby","mgPlayerJSqa_input-forgot-email-err-msg"),$e(_,"autocomplete","email"),$e(_,"aria-label","Email ID"),_.required=!0,$e(f,"id","mgPlayerJSqa_input-forgot-email-err-msg"),$e(f,"class","mgPlayerJSqa_error-input-wrapper"),Oe(f,"active",a[7]),$e(p,"class","mgPlayerJSqa_input-email-wrapper mgPlayerJSqa_margin-tb-10"),$e(d,"class","mgPlayerJSqa_signin-form-input"),$e(q,"id","mgPlayerJSqa_btn-reset-pass"),$e(q,"type","button"),$e(q,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_font-size-15"),$e(q,"aria-disabled",J=a[7]||!a[2]),$e(q,"aria-label",G=a[0].labels.forgetPassTitl),$e(b,"class","mgPlayerJSqa_btn-login-wrapper mgPlayerJSqa_text-align-center"),$e(T,"id","mgPlayerJSqa_label-forgot-back-to-login"),$e(T,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_back-to-login mgPlayerJSqa_theme-color mgPlayerJSqa_text-align-center mgPlayerJSqa_cursor-pointer mgPlayerJSqa_font-weight-550 mgPlayerJSqa_inline-block-vm"),$e(T,"type","button"),$e(T,"aria-label",x=a[0].labels.backToLogin),$e(A,"class","mgPlayerJSqa_width-100 mgPlayerJSqa_text-align-center"),$e(m,"class","mgPlayerJSqa_signin-form-container"),$e(g,"role","form"),$e(g,"aria-labelledby","guide-forgot-password-form"),$e(g,"name","forgotPasswordForm"),$e(g,"autocomplete","off"),$e(c,"class","mgPlayerJSqa_signin-page-wrapper"),$e(n,"class","mgPlayerJSqa_ege-panel-main-container mgPlayerJSqa_signin-page-container mgPlayerJSqa_forgot-password-page-container")},m(e,t){ze(r,e,t),xe(e,i,t),xe(e,n,t),ke(n,s),ke(s,o),ke(n,$),ke(n,c),ke(c,g),ke(g,m),ke(m,d),ke(d,p),ke(p,u),ke(u,y),ke(p,F),ke(p,_),je(_,a[1]),a[11](_),ke(p,O),ke(p,f),ke(f,C),ke(d,R),D&&D.m(d,null),ke(m,H),ke(m,b),ke(b,q),ke(q,w),ke(m,N),ke(m,A),ke(A,T),ke(T,k),ke(n,B),xe(e,L,t),ze(E,e,t),M=!0,I||(V=[De(_,"input",a[10]),De(q,"click",a[9]),De(T,"click",function(){Y(a[0].goToLogin)&&a[0].goToLogin.apply(this,arguments)})],I=!0)},p(e,[t]){a=e,(!M||1&t)&&l!==(l=a[0].labels.forgetPassTitl+"")&&Fe(o,l),(!M||1&t)&&h!==(h=a[0].labels.placeholderEmail+"")&&Fe(y,h),(!M||1&t&&S!==(S=a[0].labels.placeholderEmail))&&$e(_,"placeholder",S),2&t&&_.value!==a[1]&&je(_,a[1]),(!M||1&t)&&P!==(P=a[0].labels.emailError+"")&&Fe(C,P),(!M||128&t)&&Oe(f,"active",a[7]),GmCXt.conf.hideCaptcha||D.p(a,t),(!M||1&t)&&v!==(v=a[0].labels.forgetPassTitl+"")&&Fe(w,v),(!M||132&t&&J!==(J=a[7]||!a[2]))&&$e(q,"aria-disabled",J),(!M||1&t&&G!==(G=a[0].labels.forgetPassTitl))&&$e(q,"aria-label",G),(!M||1&t)&&X!==(X=a[0].labels.backToLogin+"")&&Fe(k,X),(!M||1&t&&x!==(x=a[0].labels.backToLogin))&&$e(T,"aria-label",x)},i(e){M||(Ne(r.$$.fragment,e),Ne(D),Ne(E.$$.fragment,e),M=!0)},o(e){Be(r.$$.fragment,e),Be(D),Be(E.$$.fragment,e),M=!1},d(e){e&&(Le(i),Le(n),Le(L)),Ue(r,e),a[11](null),D&&D.d(),Ue(E,e),I=!1,Xe(V)}}}function Pc(e,t,a){let r="",i=!1,n=!1,s,l,o,c;ge.currentView="forgot-password-view";let g;function m(){var e={email:r};ge.showLoading(),GmCXt.api.forgetPassword(e,function(e){var t=ge.labels.otpSentDesc+" "+GmCXt.conf.adminEmail;D.open(t,"info",function(){ge.goToLogin()},!1,!1,!1,ge.labels.forgetPassTitl)},function(e){ge.showPopup(e.message)})}return[ge,r,i,n,s,"","",!1,g,function(){a(3,n=!1),a(7,c=!1),i||GmCXt.conf.hideCaptcha?""!==r.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(r)?m():(a(7,!0),g?.focus()):(a(3,n=!0),s?.focus())},function(){r=this.value,a(1,r)},function(e){ue[e?"unshift":"push"](()=>{g=e,a(8,g)})},function(e){i=e,a(2,i)},function(e){n=e,a(3,n)},function(e){s=e,a(4,s)},function(){r=this.value,a(1,r)},function(){r=this.value,a(1,r)},function(){l=this.value,a(5,l)},function(){o=this.value,a(6,o)}]}class Cc extends e{constructor(e){super(),t(this,e,Pc,fc,g,{})}}function bc(a){let r,i,n,s,l,o,c,g,m,d,p=a[0].svgs.iconBack+"",u,h,y,_=a[0].labels.back+"",S,f,P,C,b=a[0].labels.chatbot+"",q,v,w,J,G,A,T,X,k,x,L,E;return s=new $t({}),k=new aa({}),{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),Ve(s.$$.fragment),l=Ie(),o=Ee("wmgPlayerJSqa_"),c=Ee("wmgPlayerJSqa_"),g=Ee("wmgPlayerJSqa_"),m=Ee("wmgPlayerJSqa_"),d=Ee("wmgPlayerJSqa_"),u=Ie(),h=Ee("wmgPlayerJSqa_"),y=Ee("wmgPlayerJSqa_"),S=Me(_),f=Ie(),P=Ee("wmgPlayerJSqa_"),C=Ee("wmgPlayerJSqa_"),q=Me(b),v=Ie(),w=Ee("wmgPlayerJSqa_"),J=Ie(),G=Ee("wmgPlayerJSqa_"),A=Ie(),(T=Ee("wmgPlayerJSqa_")).innerHTML='<wmgPlayerJSqa_ id="mgPlayerJSqa_botdiv"></wmgPlayerJSqa_> <wmgPlayerJSqa_ id="mgPlayerJSqa_div_bottom" class="mgPlayerJSqa_div-bottom"></wmgPlayerJSqa_>',X=Ie(),Ve(k.$$.fragment),$e(n,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_width-100"),$e(i,"class","mgPlayerJSqa_panel-header-wrapper mgPlayerJSqa_width-100 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between"),Oe(i,"mgPlayerJSqa_bg-white",a[0].isMicroPlayer),Oe(i,"mgPlayerJSqa_panel-header-micro-wrapper",a[0].isMicroPlayer),$e(r,"id","mgPlayerJSqa_ege-header"),$e(r,"class","mgPlayerJSqa_ege-panel-header"),$e(d,"class","mgPlayerJSqa_ege-inline-block-vm"),$e(y,"class","mgPlayerJSqa_tooltip-title"),$e(h,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-left"),$e(m,"class","mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_chat-back-btn mgPlayerJSqa_position-relative"),$e(C,"class","mgPlayerJSqa_span mgPlayerJSqa_mychat-label mgPlayerJSqa_ege-inline-block-vt"),$e(P,"class","mgPlayerJSqa_chatbot-add-icon mgPlayerJSqa_inline-block-vm"),$e(w,"class","mgPlayerJSqa_ege-clear"),$e(G,"class","mgPlayerJSqa_ege-clear"),$e(c,"class","mgPlayerJSqa_chat-page-header mgPlayerJSqa_list-page-header"),Oe(c,"mgPlayerJSqa_chat-page-header-miniplayer",a[0].isMicroPlayer),$e(T,"id","mgPlayerJSqa_uilb-main-container"),$e(T,"scroll-bottom","mgPlayerJSqa_uilb-main-container"),$e(T,"class","mgPlayerJSqa_uilb-main-container"),$e(o,"class","mgPlayerJSqa_ege-panel-main-container mgPlayerJSqa_chatbot-page-container")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ze(s,n,null),xe(e,l,t),xe(e,o,t),ke(o,c),ke(c,g),ke(g,m),ke(m,d),d.innerHTML=p,ke(m,u),ke(m,h),ke(h,y),ke(y,S),ke(g,f),ke(g,P),ke(P,C),ke(C,q),ke(g,v),ke(g,w),ke(g,J),ke(g,G),ke(o,A),ke(o,T),ke(o,X),ze(k,o,null),x=!0,L||(E=De(m,"click",a[1]),L=!0)},p(e,t){(!x||1&t[0])&&Oe(i,"mgPlayerJSqa_bg-white",e[0].isMicroPlayer),(!x||1&t[0])&&Oe(i,"mgPlayerJSqa_panel-header-micro-wrapper",e[0].isMicroPlayer),(!x||1&t[0])&&p!==(p=e[0].svgs.iconBack+"")&&(d.innerHTML=p),(!x||1&t[0])&&_!==(_=e[0].labels.back+"")&&Fe(S,_),(!x||1&t[0])&&b!==(b=e[0].labels.chatbot+"")&&Fe(q,b),(!x||1&t[0])&&Oe(c,"mgPlayerJSqa_chat-page-header-miniplayer",e[0].isMicroPlayer)},i(e){x||(Ne(s.$$.fragment,e),Ne(k.$$.fragment,e),x=!0)},o(e){Be(s.$$.fragment,e),Be(k.$$.fragment,e),x=!1},d(e){e&&(Le(r),Le(l),Le(o)),Ue(s),Ue(k),L=!1,E()}}}function qc(e){e=e.parentElement;null!==e.parentElement&&e.parentElement.removeChild(e)}function vc(e,t,a){class r{constructor(e){this.domNode=e,this.domNode.classList.add("mgPlayerJSqa_uilb")}createtypingodots(){var e=document.createElement("wmgPlayerJSqa_"),t=(e.setAttribute("class","mgPlayerJSqa_typing-indicator mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft"),document.createElement("mgPlayerJSqa_uilb-span")),a=document.createElement("mgPlayerJSqa_uilb-span"),r=document.createElement("mgPlayerJSqa_uilb-span");return e.appendChild(t),e.appendChild(a),e.appendChild(r),this.domNode.appendChild(e),e}createContainer({human:e,cssClass:t,delay:a,resolve:r}){const i=document.createElement("wmgPlayerJSqa_");return i.className=`mgPlayerJSqa_uilb-container ${e?"human":"bot"} `+t,i.style.opacity=0,i.style.transform=`translateX(${e?"":"-"}8%)`,setTimeout(()=>{this.domNode.appendChild(i)},a),setTimeout(()=>{i.style.opacity=1,i.style.transform="translateX(0)",r&&r(i)},a+200),i}htmlToText(e){return e?String(e).replace(/<[^>]+>/gm,""):""}message({id:r,content:i,cssClass:n,delay:s,human:l,isHtmlContent:o}){return new Promise((e,t)=>{var e=this.createContainer({human:l,cssClass:n,delay:s,isHtmlContent:o,resolve:e}),a=document.createElement("wmgPlayerJSqa_");""!==r&&a.setAttribute("id",r),a.className=`mgPlayerJSqa_uilb-message mgPlayerJSqa_showtextdelay  ${l?"human":"bot"} `+n,"msg_search"===r||"msg-vid"===r||o?a.innerHTML=o?i:this.htmlToText(i):(a.innerHTML=""===i?"<wmgPlayerJSqa_ id='mgPlayerJSqa_wave'><wmgPlayerJSqa_ class='mgPlayerJSqa_span mgPlayerJSqa_dot'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_span mgPlayerJSqa_dot'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_span mgPlayerJSqa_dot'></wmgPlayerJSqa_></wmgPlayerJSqa_>":"<wmgPlayerJSqa_ id='mgPlayerJSqa_hideMe'><wmgPlayerJSqa_ id='mgPlayerJSqa_wave'><wmgPlayerJSqa_ class='mgPlayerJSqa_span mgPlayerJSqa_dot'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_span mgPlayerJSqa_dot'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_span mgPlayerJSqa_dot'></wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_>",a.innerHTML+=this.htmlToText(i)),e.appendChild(a),document.getElementById("mgPlayerJSqa_uilb-main-container")&&(document.getElementById("mgPlayerJSqa_uilb-main-container").scrollTop=300)})}action(e){return this[e.type+"Action"](e)}buttonAction({id:o,items:i,delay:c,human:g,cssClass:m}){const d=[];return new Promise((n,e)=>{const s=this.createContainer({human:g,delay:c,cssClass:"no-icon"}),t=(""!==o&&(s.id=o),document.createElement("form"));var a,r;t.className=`mgPlayerJSqa_uilb-action ${g?"human":"bot"} `+m,t.addEventListener("submit",e=>e.preventDefault()),"mgPlayerJSqa_uilb-btn-action"===o&&((a=document.createElement("wmgPlayerJSqa_")).id="mgPlayerJSqa_uilb-back-chat",a.title="Back",a.setAttribute("class","mgPlayerJSqa_uilb-action-opt-back"),(r=document.createElement("button")).id="mgPlayerJSqa_uilb-back-btn",r.className="mgPlayerJSqa_uilb-back",a.appendChild(r),(r=document.createElement("wmgPlayerJSqa_")).innerHTML="Back",r.setAttribute("class","mgPlayerJSqa_uilb-back-label"),a.appendChild(r),t.style="width: 360px;height: 100px;overflow: hidden;",s.appendChild(a));let l=0;i.forEach(r=>{const i=document.createElement("button");""!==r.id&&(i.id=r.id),i.className="mgPlayerJSqa_uilb-button "+r.cssClass,i.type="button",i.innerHTML=r.text,i.tag=r.tag,"mgPlayerJSqa_uilb-btn-action"===o&&(i.id="mgPlayerJSqa_uilb-btnresult"+l,i.style.display=0===l||1===l?"block":"none"),i.title=r.text,i.addEventListener("click",({target:e})=>{if("multiselect"!==r.tag){d&&d.length?n(d):n(r.value),s.style.opacity=0;const a=document.getElementById("mgPlayerJSqa_uilb-searchagain");a&&"mgPlayerJSqa_uilb-searchagain"!==i.id&&i.className.includes("mgPlayerJSqa_uilb-button-opt")?setTimeout(()=>{a.parentElement.removeChild(a),s.parentElement.removeChild(s)},200):setTimeout(()=>this.domNode.removeChild(s),200)}else{var t;d.includes(r.value)?(-1<(t=d.indexOf(r.value))&&d.splice(t,1),e.innerHTML=e.title.replace("&#9989;","&#9744;")):(d.push(r.value),e.innerHTML=e.title.replace("&#9744;","&#9989;"))}}),t.appendChild(i),l+=1}),s.appendChild(t),"mgPlayerJSqa_uilb-btn-action"===o&&2<l&&((r=document.createElement("wmgPlayerJSqa_")).id="uilb_totalresult",r.style.fontSize="12px",r.style.marginTop="10px",r.innerHTML="Total Guides: "+l,s.appendChild(r),(a=document.createElement("wmgPlayerJSqa_")).id="mgPlayerJSqa_uilb-leftarrow",s.appendChild(a),(r=document.createElement("wmgPlayerJSqa_")).id="mgPlayerJSqa_uilb-rightarrow",r.style.display="none",s.appendChild(r))})}textAction({tag:l,validate:o,delay:c,human:g}){return new Promise((e,t)=>{var a=this.createContainer({human:g,delay:c,cssClass:"no-icon"}),r=document.createElement("wmgPlayerJSqa_"),i=(r.id="mgPlayerJSqa_uilb-back-chat",r.title="Back",r.setAttribute("class","mgPlayerJSqa_uilb-action-opt-back"),r.setAttribute("style","margin-left: -60px; margin-top: -10px;"),document.createElement("button")),i=(i.id="mgPlayerJSqa_uilb-back-btn",i.className="mgPlayerJSqa_uilb-back",r.appendChild(i),document.createElement("wmgPlayerJSqa_")),i=(i.innerHTML="Back",i.setAttribute("class","mgPlayerJSqa_uilb-back-label"),r.appendChild(i),document.createElement("wmgPlayerJSqa_")),n=(i.className="mgPlayerJSqa_uilb-text-div",document.createElement("input")),s=(n.className="mgPlayerJSqa_uilb-text",n.id="txtsearch",n.type="text",n.placeholder="Type here",n.autocomplete="off",n.tag=l,n.validate=o,document.createElement("wmgPlayerJSqa_"));s.id="mgPlayerJSqa_uilb-txt-enter",s.className="mgPlayerJSqa_uilb-enter",i.appendChild(r),i.appendChild(n),i.appendChild(s),a.appendChild(i)})}}function i(){me.activeView.set("home")}let n=[],o=(ge.botTourPlayList=[],[]),s=[];GmCXt.reduceSidePanelWidth();let d,p,l=0,c=[],g=-1,m=[],u=-1;var h=GmCXt.appList["app:"+GmCXt.activeAppId].settings;GmCXt.isEmpty(ge.chatLabels)&&ge.setDefaultChatLabels(),ge.getChatLabels(h.chatLabels);let y={welcomeGreet:"Hey! Welcome to MyGuide. How can I help you?",searchGuide:"Search Guide",searchMessage:"What would you like to search? Just type or say!",noDataFound:"No Data Found",pleaseTryAgain:"Try Again!",chooseResult:"The results are here, choose your preferred one!",noInput:"No input found!",searchAgain:"Try Again!"};function _(e,t,a,r,i){return d.message({id:e,content:t,cssClass:a,isHtmlContent:i,delay:r})}function S(e,t){return d.message({human:!0,content:e,cssClass:"mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight",isHtmlContent:t,delay:0})}function f(e,t,a,r){return d.action({id:e,type:"button",cssClass:t,items:a,delay:r})}function P(e,t){function a(e){t&&t(e)}var r={},i=(r.conversation_code=e.conversation.conversationCode,r.user=ge.user,GmCXt.appList),n=GmCXt.activeAppId;e.isExit?r.app_code="":r.app_code=i["app:"+n].external_id,GmCXt.api.getGetBotConv(r).then(a).catch(function(e){a(!1)})}function C(e,t){if(l!==g){var a=e[g],r=t;switch(a.pageIndex,a.type){case"select":case"yes-no":!function(i,n){_("",i.question,"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",0).then(function(){let r=[];if(i.options&&0<i.options.length){let a="mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight mgPlayerJSqa_uilb-button-opt";"yes-no"===i.type&&(a="mgPlayerJSqa_animated mgPlayerJSqa_fadeInUp mgPlayerJSqa_uilb-button-opt-yesno"),mg$.each(i.options,function(e,t){r.push({text:t.option,value:t,cssClass:a}),i.isBranchNode&&m.push(t.nextHopOnBranch)}),f("","mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight",r,200).then(function(t){t.optionReferenceLink&&window.open(t.optionReferenceLink,"_blank"),T(i,t.option),S(t.option).then(function(){var e;g<c.length-1?i.isBranchNode?(e=function(t){let a=-1;for(let e=0;e<c.length;e++)if(c[e].pageIndex===t){a=e;break}return a}(t.nextHopOnBranch),u=t.nextHopOnBranch,g=e,C(c,n)):A(i,n):G()})})}})}(a,r);break;case"multi-select":!function r(i,n){_("",i.question,"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",0).then(function(){let a=[];if(i.options&&0<i.options.length){mg$.each(i.options,function(e,t){a.push({text:"&#9744; "+t.option,value:t,cssClass:"mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight mgPlayerJSqa_uilb-button-multi-opt",tag:"multiselect"})});let e=[];a.push({text:"Done",value:e,cssClass:"mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight mgPlayerJSqa_uilb-button-multi-opt-done"}),f("mgPlayerJSqa_multi","mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight",a,200).then(function(t){let a="";if(t&&t.length){for(let e=0;e<t.length;e++)a=GmCXt.isEmpty(a)?t[e].option:a+" , "+t[e].option;T(i,a),S(a).then(function(){A(i,n)})}else S(ge.labels.multiSelectOptionError).then(function(){r(i,n)})})}})}(a,r);break;case"comment":_("",a.question,"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",0).then(function(){d.action({type:"text",cssClass:"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",delay:100,tag:"comment_"+r.tour_id,validate:a.validateEmail})});break;case"range":_("",a.question,"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",0).then(function(){f("mgPlayerJSqa_uilb-btn-range","mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight",function(t){var a=[];for(let e=t.options[0];e<=t.options[1];e++)a.push({text:e,value:e,cssClass:"mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight mgPlayerJSqa_uilb-button-opt-range"});return a}(a),200).then(function(e){T(a,e),S(e).then(function(){A(a,r)})})});break;case"rating":_("",a.question,"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",0).then(function(){f("mgPlayerJSqa_uilb-btn-rate","mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight",function(t){var a=[];for(let e=t.options[0];e<=t.options[1];e++)a.push({id:"mgPlayerJSqa_rate-"+e,text:"&#9733;",value:e,cssClass:"mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight mgPlayerJSqa_uilb-button-opt-range"});return a}(a),200).then(function(e){T(a,e),S(function(t,a){let r="<wmgPlayerJSqa_ class='mgPlayerJSqa_rating' style='font-size:20px;'>";for(let e=t.options[0];e<=t.options[1];e++){var i="mgPlayerJSqa_lbl-btn mgPlayerJSqa_stars-rate";e<parseInt(a)+1?r+="<button class='"+i+"' id='mgPlayerJSqa_rate-"+e+"' aria-label='rate' >&#9733;</button>":r+="<button class='"+i+"' id='mgPlayerJSqa_rate-"+e+"' aria-label='rate' >&#9734;</button>"}return r+="</wmgPlayerJSqa_>"}(a,e),!0).then(function(){A(a,r)})})})}}}function b(e){var e=GmCXt.getTail(e.step_id,p.tour_settings.play_structure,null,p);e&&(e=GmCXt.getNextBotStepFromTour(e,p))?v(p.steps,e.step_id):G()}function q(t,a){for(let e=0;e<p.steps.length;e++)t.step_id===p.steps[e].step_id&&(p.steps[e].step_settings.automation.defaultData=a,p.steps[e].step_settings.automation.enableDefaultData=!0,p.steps[e].step_settings.automation.hasHumanInteraction=!1)}function v(e,t){let a,r=(a=t||e[0].step_id,GmCXt.getStepFromTourData(a,p));if(r&&r.step_settings&&r.step_settings.automation&&r.step_settings.automation.enableBot&&r.step_settings.automation.botQuestion){t=r.step_settings,e=t.automation.botQuestion;t.element&&t.element.targetInfo&&"SELECT"===t.element.targetInfo.tagName&&t.element.elOptions&&0<t.element.elOptions.length?(g=t.element.elOptions,m=r,_("",e,"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",0).then(function(){let a=[];g&&0<g.length&&(mg$.each(g,function(e,t){a.push({text:t.name,value:t,cssClass:"mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight mgPlayerJSqa_uilb-button-opt"})}),f("","mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight",a,200).then(function(e){q(m,e),S(e.name).then(function(){b(m)})}))})):t.branch&&0<t.branch.length?(o=t.branch,c=r,_("",e,"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",0).then(function(){let a=[];o&&0<o.length&&(mg$.each(o,function(e,t){a.push({text:t.branchName,value:t,cssClass:"mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight mgPlayerJSqa_uilb-button-opt"})}),f("","mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight",a,200).then(function(e){let t=e.tail;var a,r;t||(a=function(t){let a=p.tour_settings.play_structure,r=null;for(let e=0;e<a.length;e++)parseInt(a[e].id)===parseInt(t)&&(r=a[e]);return r}(c.step_id),r=o.indexOf(e),t=a.branch[r].tail),q(c,e),S(e.branchName).then(function(){var e;t?(e=GmCXt.getNextBotStepFromTour(t,p))?v(p.steps,e.step_id):b(e):G()})}))})):r.step_type!==GmCXt.STEP_TYPE_GUIDE&&_("",e,"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",0).then(function(){d.action({type:"text",cssClass:"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",delay:100,tag:r})})}else if(r.step_type===GmCXt.STEP_TYPE_GUIDE){var i=r;var n=function(e){v(p.steps,e.step_id)};let a=[];function s(e){p.steps=e,n&&n(a[0])}function l(e){a.length&&(p.tour_settings.play_structure=e,GmCXt.concatLinkGuideSteps(a,p,i.step_id,s))}t={tour_id:i.step_settings.tour_id};GmCXt.getSteps(t).then(function(e){var t;e&&(t={currentStepId:i.step_id,playStructure:p.tour_settings.play_structure},a=e.steps,GmCXt.updatePlayStructureLinkGuide(e,t,l))})}else if(p.tour_type.includes("onboarding_tour"))if(GmCXt.isEmpty(r.step_settings.tutorialUploadUrl)||"upload"!==p.tour_settings.tutorial_tour_type){let e="<wmgPlayerJSqa_ class='mgPlayerJSqa_chat-tg-content-wrapper'>",t="";r.step_description&&(t=GmCXt.replaceVariableWithValue(GmCXt.updateOrgAndAddSignature(r.step_description))),r&&0<r.step_video&&r.step_video_url?e=(e+="<wmgPlayerJSqa_ class='mgPlayerJSqa_chat-guide-info-wrapper mgPlayerJSqa_video-info-wrapper'>")+GmCXt.getVideoPopUpIFrameHTML(r.step_video_url+GmCXt.getCdnSign())+"</wmgPlayerJSqa_>":r&&r.image_url.indexOf("default")<0&&(e=e+"<wmgPlayerJSqa_ class='mgPlayerJSqa_chat-info-wrapper mgPlayerJSqa_img-info-wrapper'><img class='mgPlayerJSqa_chat-tg-image' src='"+r.image_url+GmCXt.getCdnSign()+"' /></wmgPlayerJSqa_>"),_("",e=e+"<wmgPlayerJSqa_ class='mgPlayerJSqa_chat-tg-step-content' > "+t+" </wmgPlayerJSqa_></wmgPlayerJSqa_>","mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",0,!0).then(function(){b(r)})}else{let e=r.step_settings.tutorialUploadUrl;_("","<a alt='' href='"+(e=-1!==e.indexOf(GmCXt.conf.cdn)?r.step_settings.tutorialUploadUrl+GmCXt.getCdnSign():e)+"' target='_blank' >"+r.step_settings.tutorialUploadUrl+"</a> ","mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",0,!0).then(function(){b(r)})}else GmCXt.isLastStep(r.step_id,p.tour_settings.play_structure)?G():r&&((e=GmCXt.getNextBotStepFromTour(r.step_id,p))?v(p.steps,e.step_id):G());var o,c,g,m}function w(e){e=ge.filterBotGuides(e);if(e&&e.length){n=e;let a=[];mg$.each(n,function(e,t){a.push({text:t.tour_title,value:t,cssClass:"mgPlayerJSqa_animated mgPlayerJSqa_fadeInRight mgPlayerJSqa_uilb-button-options"})}),f("","mgPlayerJSqa_animated mgPlayerJSqa_fadeInUp",a,200).then(function(e){S((p=e).tour_title).then(function(e){var t={tour_id:p.tour_id,category_id:p.category_id};GmCXt.api.getTour(t,function(e){var t;p=e,GmCXt.containBranchStep(p)||(p.tour_settings.play_structure=GmCXt.buildGuidePlayStructure(p)),GmCXt.isBotGuide(p)?(t=p,(e={}).conversation=t.tour_settings.conversation,P(e,function(e){l=e.data.questions.length,c=e.data.questions,g++,C(c,t)})):v(p.steps)})})})}else _("",y.noDataFound,"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",100)}function J(){let a=ge.readLocalCT(ge.pageUrl,GmCXt.pageTitle);if(a&&a.length)w(o=a);else{let t={url:ge.pageUrl};GmCXt.api.getContextualTour(t,function(e){GmCXt.log(30,"FETCHED tours from API"),a=ge.processContextualGuide(e,t.url),w(o=a)})}}function G(){_("",ge.chatLabels.botEndingMessage,"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",500).then(function(){f("","mgPlayerJSqa_animated mgPlayerJSqa_fadeInUp",[{text:ge.labels.btnYes,value:ge.labels.btnYes,cssClass:"mgPlayerJSqa_animated mgPlayerJSqa_fadeInUp mgPlayerJSqa_uilb-button-opt-yesno"},{text:ge.labels.btnNo,value:ge.labels.btnNo,cssClass:"mgPlayerJSqa_animated mgPlayerJSqa_fadeInUp mgPlayerJSqa_uilb-button-opt-yesno"}],100).then(function(e){var t;ge.botTourPlayList.push(p),GmCXt.storage().set({botTourPlayList:ge.botTourPlayList}),GmCXt.isOnboarding(p)&&ge.isUploadTutorial(p)?GmCXt.trackerV1.trackTutGuide(p,"upload_tutorial_guide_new_tab","bot"):GmCXt.isOnboarding(p)&&GmCXt.trackerV1.trackTutGuide(p,"create_tutorial_guide","bot"),GmCXt.isBotGuide(p)&&(t={trigger_source_type:"bot",trigger_source_id:p.tour_id,conversationCode:p.tour_settings.conversation.conversationCode},GmCXt.trackerV1.trackConversationResponse(s,t)),l=0,c=[],g=-1,m=[],u=-1,s=[],e===ge.labels.btnNo?S(e).then(function(){!function(){let e=!0;var t;return ge.botTourPlayList&&ge.botTourPlayList.length&&(t=ge.botTourPlayList.filter(function(e){if(!GmCXt.isBotGuide(e)&&-1===e.tour_type.indexOf("onboarding_tour"))return e}),a(0,ge.botTourPlayList=t,ge),e=0<ge.botTourPlayList.length),e}()||ge.guideAction(ge.playAuto,null,ge.botTourPlayList[0],"bot"),i()}):J()})})}function A(e,t){g<c.length-1?!(e.isBranchNode||u!==c[g+1].pageIndex&&m.includes(c[g+1].pageIndex))||GmCXt.isEmpty(m)?(g++,C(c,t)):(g++,A(e,t)):G()}function T(e,t){var a={question_id:e.questionID||"",question_type:e.type,question_name:e.question||""};switch(e.type){case"yes-no":void 0!==t&&(a.is_answer_yes="Yes"===t);break;case"comment":a.comment=t;break;case"multi-select":a.option=t.split(",");break;case"select":case"range":case"rating":a.option=t.toString().split()}s.push(a)}return mg$(document).off("keypress","#txtsearch"),mg$(document).on("keypress","#txtsearch",function(t){if(13===(t.keyCode||t.which)){let e=!1;var r,t=e=t.target.validate?!0:e,i=document.getElementById("txtsearch");if(null!==i&&0<i.value.length){var n=i.parentElement,s=n.parentElement;let a=i.value;if(i.tag&&"object"!=typeof i.tag&&-1!==i.tag.indexOf("comment_")&&a)i.tag.replace("comment_",""),S(a=t?/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,3}$/i.test(a)?i.value:ge.labels.emailError:a).then(function(){var e;a===ge.labels.emailError?C(c,p):(T(e=c[g],a),A(e,p))});else if(i.tag&&"object"!=typeof i.tag&&"searchGuide"===i.tag&&a){var t=document.getElementsByClassName("mgPlayerJSqa_uilb-button-options")[0].parentElement,l=(l=o,r=a,l.filter(function(e){if(-1!==e.tour_title.toLowerCase().indexOf(r.toLowerCase()))return e}));l&&(w(l),GmCXt.timeout(qc(t),200))}else{let t=i.tag;s.style.opacity=0,S(a).then(function(e){q(t,a),GmCXt.isLastStep(t.step_id,p.tour_settings.play_structure)?G():b(t)})}GmCXt.timeout(qc(n),200)}}}),setTimeout(()=>{ge.setContainerHeight("chatbot")},300),mg$(window).off("resize").on("resize",function(){ge.setContainerHeight("chatbot")}),de(()=>{d=new r(document.getElementById("mgPlayerJSqa_botdiv")),a(0,ge.botTourPlayList=[],ge),GmCXt.storage().remove(["botTourPlayList"]),_("",ge.chatLabels.greetingMessage,"mgPlayerJSqa_animated mgPlayerJSqa_fadeInLeft",0).then(function(){J()})}),[ge,i]}class wc extends e{constructor(e){super(),t(this,e,vc,bc,g,{},null,[-1,-1])}}function Jc(e,t,a){e=e.slice();return e[34]=t[a],e[36]=a,e}function Gc(e,t,a){e=e.slice();return e[37]=t[a],e[39]=a,e}function Ac(e,t,a){e=e.slice();return e[40]=t[a],e[42]=a,e}function Tc(e,t,a){e=e.slice();return e[40]=t[a],e[44]=a,e}function Xc(e){let a,r,i,n,s,l,o,c;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),n=Me(e[2]),s=Me("%"),l=Ie(),(o=Ee("wmgPlayerJSqa_")).innerHTML='<wmgPlayerJSqa_ class="mgPlayerJSqa_task-prog-first50-bar"></wmgPlayerJSqa_> <wmgPlayerJSqa_ class="mgPlayerJSqa_task-prog-value-bar"></wmgPlayerJSqa_>',$e(i,"class","mgPlayerJSqa_span mgPlayerJSqa_position-center"),$e(o,"class","mgPlayerJSqa_task-prog-left-half-clipper"),$e(r,"class",c="mgPlayerJSqa_task-progress-circle p"+e[2]),Oe(r,"over50",50<e[2]),Oe(r,"mgPlayerJSqa_task-progress-circle-mplayer",e[0].isMicroPlayer),$e(a,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i),ke(i,n),ke(i,s),ke(r,l),ke(r,o)},p(e,t){4&t[0]&&Fe(n,e[2]),4&t[0]&&c!==(c="mgPlayerJSqa_task-progress-circle p"+e[2])&&$e(r,"class",c),4&t[0]&&Oe(r,"over50",50<e[2]),5&t[0]&&Oe(r,"mgPlayerJSqa_task-progress-circle-mplayer",e[0].isMicroPlayer)},d(e){e&&Le(a)}}}function kc(e){let a,r=e[1][e[3]].task_list_title+"",i,n,s,l,o,c,g,m;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),s=Ie(),l=Ee("wmgPlayerJSqa_"),o=Me("Completed task: "),c=Me(e[8]),g=Me("/"),m=Me(e[7]),$e(a,"class","mgPlayerJSqa_task-list-header-title mgPlayerJSqa_inline-block-vm mgPlayerJSqa_font-size-12 mgPlayerJSqa_task-list-header"),$e(a,"title",n=e[1][e[3]].title),Oe(a,"mgPlayerJSqa_font-size-14",!e[0].isMicroPlayer),$e(l,"class","mgPlayerJSqa_task-count mgPlayerJSqa_inline-block-vm mgPlayerJSqa_margin-tb-5")},m(e,t){xe(e,a,t),ke(a,i),xe(e,s,t),xe(e,l,t),ke(l,o),ke(l,c),ke(l,g),ke(l,m)},p(e,t){10&t[0]&&r!==(r=e[1][e[3]].task_list_title+"")&&Fe(i,r),10&t[0]&&n!==(n=e[1][e[3]].title)&&$e(a,"title",n),1&t[0]&&Oe(a,"mgPlayerJSqa_font-size-14",!e[0].isMicroPlayer),256&t[0]&&Fe(c,e[8]),128&t[0]&&Fe(m,e[7])},d(e){e&&(Le(a),Le(s),Le(l))}}}function xc(e){let a,r=e[0].svgs.iconDownArrow+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_icon-collapse-expand mgPlayerJSqa_float-right mgPlayerJSqa_ege-inline-block-vm")},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t[0]&&r!==(r=e[0].svgs.iconDownArrow+"")&&(a.innerHTML=r)},d(e){e&&Le(a)}}}function Lc(e){let a,r=e[0].svgs.iconUpArrow+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_icon-collapse-expand mgPlayerJSqa_float-right mgPlayerJSqa_ege-inline-block-vm")},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t[0]&&r!==(r=e[0].svgs.iconUpArrow+"")&&(a.innerHTML=r)},d(e){e&&Le(a)}}}function Ec(t){let i,n=I(t[34].guides),s=[];for(let e=0;e<n.length;e+=1)s[e]=Ic(Tc(t,n,e));return{c(){i=Ee("wmgPlayerJSqa_");for(let e=0;e<s.length;e+=1)s[e].c();$e(i,"class","mgPlayerJSqa_chapter-container mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y mgPlayerJSqa_padding-tb-10")},m(e,t){xe(e,i,t);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null)},p(t,a){if(27154&a[0]){n=I(t[34].guides);let e;for(e=0;e<n.length;e+=1){var r=Tc(t,n,e);s[e]?s[e].p(r,a):(s[e]=Ic(r),s[e].c(),s[e].m(i,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}},d(e){e&&Le(i),$(s,e)}}}function Mc(){let a,r,i=GmCXt.svgs.taskCompleted+"";return{c(){a=Ee("wmgPlayerJSqa_"),$e(r=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_guide-complete-icon"),$e(a,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_guide-complete-wrapper")},m(e,t){xe(e,a,t),ke(a,r),r.innerHTML=i},p:we,d(e){e&&Le(a)}}}function Ic(a){let r,i,n,s,l,o=a[13](a[40])+"",c,g,m,d=a[14](a[40])+"",p,u,h,y,_=a[40].tour_title+"",S,f,P,C,b,q,v=a[40].is_guide_complete&&Mc();function w(...e){return a[17](a[40],a[34],...e)}return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),l=Ee("wmgPlayerJSqa_"),c=Ie(),g=Ee("wmgPlayerJSqa_"),m=Ee("wmgPlayerJSqa_"),p=Me(d),u=Ie(),h=Ee("wmgPlayerJSqa_"),y=Ee("wmgPlayerJSqa_"),S=Me(_),P=Ie(),v&&v.c(),C=Ie(),$e(l,"class","mgPlayerJSqa_published-tour-icon mgPlayerJSqa_inline-block-vm"),Oe(l,"mgPlayerJSqa_published-tour-icon-disable",a[4]&&a[40].content_order>a[9]),$e(m,"class","mgPlayerJSqa_tooltip-title mgPlayerJSqa_text-align-center"),$e(g,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-right"),$e(s,"class","mgPlayerJSqa_guide-play-icon-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_position-relative"),$e(y,"class","mgPlayerJSqa_chapter-title mgPlayerJSqa_text-overflow-ellipsis"),$e(y,"title",f=a[40].tour_title),Oe(y,"mgPlayerJSqa_chapter-title-complete",a[4]&&a[40].is_guide_complete),$e(h,"class","mgPlayerJSqa_chapter-content-wrapper mgPlayerJSqa_margin-lr-15 mgPlayerJSqa_inline-block-vm"),$e(n,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center"),$e(i,"class","mgPlayerJSqa_chapter-content-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between"),$e(r,"class","mgPlayerJSqa_chapter-box mgPlayerJSqa_chapter-box-folder-guide mgPlayerJSqa_lbl-btn"),Oe(r,"mgPlayerJSqa_chapter-box-disable",a[4]&&a[44]+1>a[9])},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),ke(s,l),l.innerHTML=o,ke(s,c),ke(s,g),ke(g,m),ke(m,p),ke(n,u),ke(n,h),ke(h,y),ke(y,S),ke(i,P),v&&v.m(i,null),ke(r,C),b||(q=De(r,"click",w),b=!0)},p(e,t){a=e,2&t[0]&&o!==(o=a[13](a[40])+"")&&(l.innerHTML=o),530&t[0]&&Oe(l,"mgPlayerJSqa_published-tour-icon-disable",a[4]&&a[40].content_order>a[9]),2&t[0]&&d!==(d=a[14](a[40])+"")&&Fe(p,d),2&t[0]&&_!==(_=a[40].tour_title+"")&&Fe(S,_),2&t[0]&&f!==(f=a[40].tour_title)&&$e(y,"title",f),18&t[0]&&Oe(y,"mgPlayerJSqa_chapter-title-complete",a[4]&&a[40].is_guide_complete),a[40].is_guide_complete?v?v.p(a,t):((v=Mc()).c(),v.m(i,null)):v&&(v.d(1),v=null),528&t[0]&&Oe(r,"mgPlayerJSqa_chapter-box-disable",a[4]&&a[44]+1>a[9])},d(e){e&&Le(r),v&&v.d(),b=!1,q()}}}function Dc(t){let i,n=I(t[34].folders),s=[];for(let e=0;e<n.length;e+=1)s[e]=Bc(Gc(t,n,e));return{c(){i=Ee("wmgPlayerJSqa_");for(let e=0;e<s.length;e+=1)s[e].c();$e(i,"class","mgPlayerJSqa_chapter-container mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y")},m(e,t){xe(e,i,t);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null)},p(t,a){if(31347&a[0]){n=I(t[34].folders);let e;for(e=0;e<n.length;e+=1){var r=Gc(t,n,e);s[e]?s[e].p(r,a):(s[e]=Bc(r),s[e].c(),s[e].m(i,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}},d(e){e&&Le(i),$(s,e)}}}function $c(a){let r,i,n,s,l=a[0].svgs.folder+"",o,c,g,m=a[37].folder_title+"",d,p,u,h,y,_,S,f,P=a[6]===a[39]&&Fc(a),C=a[6]!==a[39]&&Oc(a),b=0<a[37].guides.length&&a[6]===a[39]&&Rc(a);function q(...e){return a[19](a[37],a[39],a[36],...e)}return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),o=Ie(),c=Ee("wmgPlayerJSqa_"),g=Ee("wmgPlayerJSqa_"),d=Me(m),u=Ie(),P&&P.c(),h=Ie(),C&&C.c(),y=Ie(),b&&b.c(),_=Ie(),$e(s,"class","mgPlayerJSqa_category-icon mgPlayerJSqa_inline-block-vm"),$e(g,"class","mgPlayerJSqa_chapter-title mgPlayerJSqa_text-overflow-ellipsis"),$e(g,"title",p=a[37].folder_title),$e(c,"class","mgPlayerJSqa_chapter-content-wrapper mgPlayerJSqa_margin-10 mgPlayerJSqa_inline-block-vm"),$e(n,"class","mgPlayerJSqa_inline-block-vm"),$e(i,"class","mgPlayerJSqa_chapter-box mgPlayerJSqa_chapter-box-folder mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_lbl-btn"),Oe(i,"mgPlayerJSqa_chapter-box-disable",a[4]&&-1===a[5].indexOf(a[37].folder_id))},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),s.innerHTML=l,ke(n,o),ke(n,c),ke(c,g),ke(g,d),ke(i,u),P&&P.m(i,null),ke(i,h),C&&C.m(i,null),ke(r,y),b&&b.m(r,null),ke(r,_),S||(f=De(r,"click",q),S=!0)},p(e,t){a=e,1&t[0]&&l!==(l=a[0].svgs.folder+"")&&(s.innerHTML=l),2&t[0]&&m!==(m=a[37].folder_title+"")&&Fe(d,m),2&t[0]&&p!==(p=a[37].folder_title)&&$e(g,"title",p),a[6]===a[39]?P?P.p(a,t):((P=Fc(a)).c(),P.m(i,h)):P&&(P.d(1),P=null),a[6]!==a[39]?C?C.p(a,t):((C=Oc(a)).c(),C.m(i,null)):C&&(C.d(1),C=null),50&t[0]&&Oe(i,"mgPlayerJSqa_chapter-box-disable",a[4]&&-1===a[5].indexOf(a[37].folder_id)),0<a[37].guides.length&&a[6]===a[39]?b?b.p(a,t):((b=Rc(a)).c(),b.m(r,_)):b&&(b.d(1),b=null)},d(e){e&&Le(r),P&&P.d(),C&&C.d(),b&&b.d(),S=!1,f()}}}function Fc(e){let a,r=e[0].svgs.iconDownArrow+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_icon-collapse-expand mgPlayerJSqa_float-right mgPlayerJSqa_ege-inline-block-vm")},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t[0]&&r!==(r=e[0].svgs.iconDownArrow+"")&&(a.innerHTML=r)},d(e){e&&Le(a)}}}function Oc(e){let a,r=e[0].svgs.iconUpArrow+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_icon-collapse-expand mgPlayerJSqa_float-right mgPlayerJSqa_ege-inline-block-vm")},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){1&t[0]&&r!==(r=e[0].svgs.iconUpArrow+"")&&(a.innerHTML=r)},d(e){e&&Le(a)}}}function Rc(t){let i,n=I(t[37].guides),s=[];for(let e=0;e<n.length;e+=1)s[e]=Nc(Ac(t,n,e));return{c(){i=Ee("wmgPlayerJSqa_");for(let e=0;e<s.length;e+=1)s[e].c();$e(i,"class","mgPlayerJSqa_chapter-container mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y mgPlayerJSqa_ml-15 mgPlayerJSqa_padding-b-15")},m(e,t){xe(e,i,t);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null)},p(t,a){if(27186&a[0]){n=I(t[37].guides);let e;for(e=0;e<n.length;e+=1){var r=Ac(t,n,e);s[e]?s[e].p(r,a):(s[e]=Nc(r),s[e].c(),s[e].m(i,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}},d(e){e&&Le(i),$(s,e)}}}function Hc(){let a,r,i=GmCXt.svgs.taskCompleted+"";return{c(){a=Ee("wmgPlayerJSqa_"),$e(r=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_guide-complete-icon"),$e(a,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_guide-complete-wrapper")},m(e,t){xe(e,a,t),ke(a,r),r.innerHTML=i},p:we,d(e){e&&Le(a)}}}function Nc(a){let r,i,n,s,l,o=a[13](a[40])+"",c,g,m,d=a[14](a[40])+"",p,u,h,y,_=a[40].tour_title+"",S,f,P,C,b,q,v=a[40].is_guide_complete&&Hc();function w(...e){return a[18](a[40],a[34],...e)}return{c(){r=Ee("button"),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),l=Ee("wmgPlayerJSqa_"),c=Ie(),g=Ee("wmgPlayerJSqa_"),m=Ee("wmgPlayerJSqa_"),p=Me(d),u=Ie(),h=Ee("wmgPlayerJSqa_"),y=Ee("wmgPlayerJSqa_"),S=Me(_),P=Ie(),v&&v.c(),C=Ie(),$e(l,"class","mgPlayerJSqa_published-tour-icon mgPlayerJSqa_inline-block-vm"),$e(m,"class","mgPlayerJSqa_tooltip-title mgPlayerJSqa_text-align-center"),$e(g,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-right"),$e(s,"class","mgPlayerJSqa_guide-play-icon-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_position-relative"),$e(y,"class","mgPlayerJSqa_chapter-title mgPlayerJSqa_text-overflow-ellipsis"),$e(y,"title",f=a[40].tour_title),Oe(y,"mgPlayerJSqa_chapter-title-complete",a[4]&&a[40].is_guide_complete),$e(h,"class","mgPlayerJSqa_chapter-content-wrapper mgPlayerJSqa_margin-lr-15 mgPlayerJSqa_inline-block-vm mgPlayerJSqa_text-overflow-ellipsis"),$e(n,"class","mgPlayerJSqa_chapter-content-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center"),$e(i,"class","mgPlayerJSqa_chapter-content-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between"),$e(r,"class","mgPlayerJSqa_chapter-box mgPlayerJSqa_chapter-box-folder-guide mgPlayerJSqa_lbl-btn"),Oe(r,"mgPlayerJSqa_chapter-box-disable",a[4]&&(-1===a[5].indexOf(a[37].folder_id)||a[42]+1>a[9]))},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),ke(s,l),l.innerHTML=o,ke(s,c),ke(s,g),ke(g,m),ke(m,p),ke(n,u),ke(n,h),ke(h,y),ke(y,S),ke(i,P),v&&v.m(i,null),ke(r,C),b||(q=De(r,"click",w),b=!0)},p(e,t){a=e,2&t[0]&&o!==(o=a[13](a[40])+"")&&(l.innerHTML=o),2&t[0]&&d!==(d=a[14](a[40])+"")&&Fe(p,d),2&t[0]&&_!==(_=a[40].tour_title+"")&&Fe(S,_),2&t[0]&&f!==(f=a[40].tour_title)&&$e(y,"title",f),18&t[0]&&Oe(y,"mgPlayerJSqa_chapter-title-complete",a[4]&&a[40].is_guide_complete),a[40].is_guide_complete?v?v.p(a,t):((v=Hc()).c(),v.m(i,null)):v&&(v.d(1),v=null),562&t[0]&&Oe(r,"mgPlayerJSqa_chapter-box-disable",a[4]&&(-1===a[5].indexOf(a[37].folder_id)||a[42]+1>a[9]))},d(e){e&&Le(r),v&&v.d(),b=!1,q()}}}function Bc(e){let a,r=e[37].guides&&0<e[37].guides.length&&$c(e);return{c(){r&&r.c(),a=M()},m(e,t){r&&r.m(e,t),xe(e,a,t)},p(e,t){e[37].guides&&0<e[37].guides.length?r?r.p(e,t):((r=$c(e)).c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null)},d(e){e&&Le(a),r&&r.d(e)}}}function Vc(a){let r,i,n,s,l=a[0].svgs.tasklist+"",o,c,g,m=a[34].task_list_title+"",d,p,u,h,y,_,S,f,P,C=a[3]===a[36]&&xc(a),b=a[3]!==a[36]&&Lc(a),q=a[34].guides&&0<a[34].guides.length&&a[3]===a[36]&&Ec(a),v=a[34].folders&&0<a[34].folders.length&&a[3]===a[36]&&Dc(a);function w(){return a[20](a[34],a[36])}return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("button"),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),o=Ie(),c=Ee("wmgPlayerJSqa_"),g=Ee("wmgPlayerJSqa_"),d=Me(m),u=Ie(),C&&C.c(),h=Ie(),b&&b.c(),y=Ie(),q&&q.c(),_=Ie(),v&&v.c(),S=Ie(),$e(s,"class","mgPlayerJSqa_task-list-icon mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center"),$e(g,"class","mgPlayerJSqa_assign-title mgPlayerJSqa_margin-lr-5 mgPlayerJSqa_text-overflow-ellipsis"),$e(g,"title",p=a[34].task_list_title),$e(c,"class","mgPlayerJSqa_assign-content-wrapper mgPlayerJSqa_margin-10 mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center"),$e(n,"class","mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center"),$e(i,"class","mgPlayerJSqa_assignment-box mgPlayerJSqa_margin-15 mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_lbl-btn")},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),ke(n,s),s.innerHTML=l,ke(n,o),ke(n,c),ke(c,g),ke(g,d),ke(i,u),C&&C.m(i,null),ke(i,h),b&&b.m(i,null),ke(r,y),q&&q.m(r,null),ke(r,_),v&&v.m(r,null),ke(r,S),f||(P=De(r,"click",w),f=!0)},p(e,t){a=e,1&t[0]&&l!==(l=a[0].svgs.tasklist+"")&&(s.innerHTML=l),2&t[0]&&m!==(m=a[34].task_list_title+"")&&Fe(d,m),2&t[0]&&p!==(p=a[34].task_list_title)&&$e(g,"title",p),a[3]===a[36]?C?C.p(a,t):((C=xc(a)).c(),C.m(i,h)):C&&(C.d(1),C=null),a[3]!==a[36]?b?b.p(a,t):((b=Lc(a)).c(),b.m(i,null)):b&&(b.d(1),b=null),a[34].guides&&0<a[34].guides.length&&a[3]===a[36]?q?q.p(a,t):((q=Ec(a)).c(),q.m(r,_)):q&&(q.d(1),q=null),a[34].folders&&0<a[34].folders.length&&a[3]===a[36]?v?v.p(a,t):((v=Dc(a)).c(),v.m(r,S)):v&&(v.d(1),v=null)},d(e){e&&Le(r),C&&C.d(),b&&b.d(),q&&q.d(),v&&v.d(),f=!1,P()}}}function zc(a){let r,i,n,s,l,o,c,g=a[0].svgs.iconBack+"",m,d,p,e=a[0].labels.back+"",u,h,y,_,S,f,P,C,b,q,v,w,J,G,A,T=(r=new Rt({}),-1!==a[3]&&Xc(a)),X=-1!==a[3]&&kc(a),k=I(a[1]),x=[];for(let e=0;e<k.length;e+=1)x[e]=Vc(Jc(a,k,e));return w=new aa({}),{c(){Ve(r.$$.fragment),i=Ie(),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),l=Ee("wmgPlayerJSqa_"),o=Ee("button"),c=Ee("wmgPlayerJSqa_"),m=Ie(),d=Ee("wmgPlayerJSqa_"),p=Ee("wmgPlayerJSqa_"),u=Me(e),h=Ie(),(y=Ee("wmgPlayerJSqa_")).textContent="Task List",_=Ie(),S=Ee("wmgPlayerJSqa_"),T&&T.c(),f=Ie(),P=Ee("wmgPlayerJSqa_"),X&&X.c(),b=Ie(),q=Ee("wmgPlayerJSqa_");for(let e=0;e<x.length;e+=1)x[e].c();v=Ie(),Ve(w.$$.fragment),$e(c,"class","mgPlayerJSqa_ege-inline-block-vm"),$e(p,"class","mgPlayerJSqa_tooltip-title"),$e(d,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-left"),$e(o,"class","mgPlayerJSqa_task-back-btn mgPlayerJSqa_position-relative mgPlayerJSqa_lbl-btn"),$e(y,"class","mgPlayerJSqa_task-list-header-title mgPlayerJSqa_font-size-15 mgPlayerJSqa_margin-lr-10"),Oe(y,"mgPlayerJSqa_font-size-18",!a[0].isMicroPlayer),$e(l,"class","mgPlayerJSqa_task-list-go-back-container mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center"),$e(P,"class","mgPlayerJSqa_task-header-details mgPlayerJSqa_display-flex mgPlayerJSqa_flex-direction-column"),$e(S,"class",C="mgPlayerJSqa_progress-details-container mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center "+(-1!==a[3]&&a[0].isMicroPlayer?"mgPlayerJSqa_padding-5":"")+" "+(-1!==a[3]?"mgPlayerJSqa_margin-b-10 mgPlayerJSqa_progress-alignment":"")),$e(s,"class","mgPlayerJSqa_task-list-header mgPlayerJSqa_display-flex mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_flex-direction-column mgPlayerJSqa_position-relative mgPlayerJSqa_width-100"),$e(q,"class","mgPlayerJSqa_assign-container mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y mgPlayerJSqa_bg-white"),$e(n,"class","mgPlayerJSqa_task-list-container")},m(e,t){ze(r,e,t),xe(e,i,t),xe(e,n,t),ke(n,s),ke(s,l),ke(l,o),ke(o,c),c.innerHTML=g,ke(o,m),ke(o,d),ke(d,p),ke(p,u),ke(l,h),ke(l,y),ke(s,_),ke(s,S),T&&T.m(S,null),ke(S,f),ke(S,P),X&&X.m(P,null),ke(n,b),ke(n,q);for(let e=0;e<x.length;e+=1)x[e]&&x[e].m(q,null);xe(e,v,t),ze(w,e,t),J=!0,G||(A=De(o,"click",a[16]),G=!0)},p(t,a){if((!J||1&a[0])&&g!==(g=t[0].svgs.iconBack+"")&&(c.innerHTML=g),(!J||1&a[0])&&e!==(e=t[0].labels.back+"")&&Fe(u,e),(!J||1&a[0])&&Oe(y,"mgPlayerJSqa_font-size-18",!t[0].isMicroPlayer),-1!==t[3]?T?T.p(t,a):((T=Xc(t)).c(),T.m(S,f)):T&&(T.d(1),T=null),-1!==t[3]?X?X.p(t,a):((X=kc(t)).c(),X.m(P,null)):X&&(X.d(1),X=null),(!J||9&a[0]&&C!==(C="mgPlayerJSqa_progress-details-container mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center "+(-1!==t[3]&&t[0].isMicroPlayer?"mgPlayerJSqa_padding-5":"")+" "+(-1!==t[3]?"mgPlayerJSqa_margin-b-10 mgPlayerJSqa_progress-alignment":"")))&&$e(S,"class",C),32379&a[0]){k=I(t[1]);let e;for(e=0;e<k.length;e+=1){var r=Jc(t,k,e);x[e]?x[e].p(r,a):(x[e]=Vc(r),x[e].c(),x[e].m(q,null))}for(;e<x.length;e+=1)x[e].d(1);x.length=k.length}},i(e){J||(Ne(r.$$.fragment,e),Ne(w.$$.fragment,e),J=!0)},o(e){Be(r.$$.fragment,e),Be(w.$$.fragment,e),J=!1},d(e){e&&(Le(i),Le(n),Le(v)),Ue(r,e),T&&T.d(),X&&X.d(),$(x,e),Ue(w,e),G=!1,A()}}}function Uc(e,t,n){let i,a,r=(ge.currentView="taskList",[]),s=0,l=-1,o=(GmCXt.t.ruleTimeOut15ms,!(ge.isTaskListActive=!0)),c=[],g=0,m;ge.showLoading();let d,p;const u=me.allTaskList.subscribe(e=>{n(1,r=e)});ge.showLoading(),GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)&&GmCXt.isPlayer()&&(GmCXt.isEmpty(ge.taskList)?n(0,ge.taskList=null,ge):n(0,ge.taskList=ge.filterCompleatedTasks(ge.taskList),ge),ge.getTaskListData(function(e){mg$(".mgPlayerJSqa_push-notification-container").is(":visible")&&mg$(".mgPlayerJSqa_ege-panel").css({width:"500px",right:"-9550px"}),e.length&&(n(1,r=ge.processTaskListByRules(e)),n(3,l=-1),n(6,m=-1)),ge.hideLoading()},0));const h=(t,a)=>{t&&t.task_list_id&&l!==a?(n(3,l=a),ge.showLoading(),GmCXt.api.getTaskDetails(t.task_list_id).then(function(e){ge.hideLoading(),e.data.completion_percent?n(2,s=e.data.completion_percent):n(2,s=0),i=e.data.completed_guide_ids,n(8,p=e.data.completed_count),g=parseInt(e.data.total_count),t.guides&&t.guides.length&&(n(1,r[a]=(t=>{if(t.guides)for(let e=0;e<t.guides.length;e++)if(i.indexOf(t.guides[e].tour_id.toString())!==-1)t.guides[e].is_guide_complete=true;return t})(t),r),f(t.guides)),t.folders&&t.folders.length&&n(1,r[a]=(r=>{if(r.folders){n(5,c=[]);if(r.folders.length>0)c.push(r.folders[0].folder_id);for(let a=0;a<r.folders.length;a++){let t=0;for(let e=0;e<r.folders[a].guides.length;e++){if(i.indexOf(r.folders[a].guides[e].tour_id.toString())!==-1){r.folders[a].guides[e].is_guide_complete=true;t++}if(r.folders[a].guides.length===t&&r.folders[a+1]&&!GmCXt.isEmpty(r.folders[a+1])&&c.indexOf(r.folders[a+1].folder_id)===-1)c.push(r.folders[a+1].folder_id)}}}return r})(t),r),t.task_list_setting.force_completion&&n(4,o=t.task_list_setting.force_completion),n(7,d=e.data.total_count),n(6,m=-1)})):n(3,l=-1),GmCXt.timeout(function(){ge.setContainerHeight("tasklist"),GmCXt.isPlayer()&&ge.bindPlayerTheme()},500)},y=(e,t,r)=>{GmCXt.parseJSON(r.task_list_setting),t.stopPropagation();let i=!1;e.is_guide_complete&&(i=!0);t={tour_id:e.tour_id};ge.showLoading(),GmCXt.api.getTour(t,function(e){ge.hideLoading();var t={taskId:r.task_list_id,isComplete:i,complete_count:p,total_count:g};n(3,l=-1),n(6,m=-1);let a=ge.getDefaultPlayAction(e);"Default"===a&&(a=GmCXt.getAppSetting("defaultPlayAction")),ge.guideAction(a,!1,e,"task_list",e.category_title,t),n(0,ge.isTaskListActive=!1,ge),me.activeView.set("home")},_)};function _(){ge.showPopup(ge.labels.tourPlayError)}const S=(e,t,a,r)=>{m!==t?(r.stopPropagation(),n(6,m=t),ge.showLoading(),GmCXt.api.getTaskFolderDetails(e.folder_id).then(function(e){ge.hideLoading(),f(e.data.content_list)})):n(6,m=-1),GmCXt.timeout(function(){ge.setContainerHeight("tasklist"),GmCXt.isPlayer()&&ge.bindPlayerTheme()},500)},f=t=>{if(t){n(9,a=1);for(let e=0;e<t.length;e++)"1"==t[e].is_guide_complete&&Boolean(Number(t[0].is_guide_complete))&&n(9,a=e+2)}};const P=()=>{n(0,ge.isTaskListActive=!1,ge),ge.refreshCurrentPage(),me.activeView.set("home")};GmCXt.timeout(function(){ge.setContainerHeight("tasklist")},500),mg$(window).off("resize").on("resize",function(){ge.setContainerHeight("tasklist")}),de(()=>{GmCXt.isPlayer()&&ge.bindPlayerTheme()}),pe(()=>{u()});return i=[],n(9,a=1),[ge,r,s,l,o,c,m,d,p,a,h,y,S,e=>{var t={tour_settings:GmCXt.parseJSON(e.tour_settings)},a=ge.getDefaultPlayAction(t);return GmCXt.isOnboarding(e)?ge.svgs.guide_onboarding:a===ge.playSlideshow||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===ge.playSlideshow?ge.svgs.guideShowMe:a===ge.playAuto||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===ge.playAuto?ge.svgs.guideDoItForMe:ge.svgs.default_guide},e=>{var t={tour_settings:GmCXt.parseJSON(e.tour_settings)},a=ge.getDefaultPlayAction(t);return GmCXt.isOnboarding(e)||a===ge.playSlideshow||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===ge.playSlideshow?ge.labels.showMe:a===ge.playAuto||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===ge.playAuto?ge.labels.doItForMe:ge.labels.guideMe},P,()=>P(),(e,t,a)=>y(e,a,t),(e,t,a)=>y(e,a,t),(e,t,a,r)=>S(e,t,0,r),(e,t)=>h(e,t)]}class jc extends e{constructor(e){super(),t(this,e,Uc,zc,g,{},null,[-1,-1])}}function Wc(e){let a,r=e[0].labels.passFieldIsEmpty+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_error-text-color mgPlayerJSqa_margin-tb-5")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t&&r!==(r=e[0].labels.passFieldIsEmpty+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function Zc(e){let a,r=e[0].labels.passwordError+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_error-input-wrapper password-error-wrapper active")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t&&r!==(r=e[0].labels.passwordError+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function Yc(e){let a,r=e[0].labels.passFieldIsEmpty+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_error-text-color mgPlayerJSqa_margin-tb-5")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t&&r!==(r=e[0].labels.passFieldIsEmpty+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function Kc(e){let a,r=e[0].labels.passwordError+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_error-input-wrapper password-error-wrapper active")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t&&r!==(r=e[0].labels.passwordError+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function Qc(e){let a,r=e[0].labels.passFieldIsEmpty+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_error-text-color mgPlayerJSqa_margin-tb-5")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t&&r!==(r=e[0].labels.passFieldIsEmpty+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function eg(e){let a,r=e[0].labels.passwordError+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_error-input-wrapper password-error-wrapper active")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t&&r!==(r=e[0].labels.passwordError+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function tg(t){let a,r,i=t[0].labels.captchaLbl+"",n,s,l,o,c,g;function e(e){t[20](e)}function m(e){t[21](e)}var d={};return void 0!==t[4]&&(d.captchaValid=t[4]),void 0!==t[5]&&(d.showCaptchaError=t[5]),l=new Vt({props:d}),ue.push(()=>U(l,"captchaValid",e)),ue.push(()=>U(l,"showCaptchaError",m)),{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),n=Me(i),s=Ie(),Ve(l.$$.fragment),$e(r,"class","mgPlayerJSqa_change-password-label"),$e(a,"class","mgPlayerJSqa_margin-tb-10")},m(e,t){xe(e,a,t),ke(a,r),ke(r,n),ke(a,s),ze(l,a,null),g=!0},p(e,t){(!g||1&t)&&i!==(i=e[0].labels.captchaLbl+"")&&Fe(n,i);var a={};!o&&16&t&&(o=!0,a.captchaValid=e[4],z(()=>o=!1)),!c&&32&t&&(c=!0,a.showCaptchaError=e[5],z(()=>c=!1)),l.$set(a)},i(e){g||(Ne(l.$$.fragment,e),g=!0)},o(e){Be(l.$$.fragment,e),g=!1},d(e){e&&Le(a),Ue(l)}}}function ag(a){let r,$,i,n,s,l,o=a[0].svgs.iconBack+"",F,c,g,m=a[0].labels.back+"",O,R,d,p=a[0].labels.changePassword+"",H,N,B,u,h,y,_,S,V=a[0].labels.placeholderCurrentPassword+"",z,U,f,j,W,Z=a[6]||!a[1].trim(),Y,K,P,C,Q=a[0].labels.placeholderNewPassword+"",ee,te,b,ae,re,ie=a[8]||!a[2].trim(),ne,se,q,v,le=a[0].labels.placeholderPasswordC+"",oe,ce,w,ge,me,de=a[10]||!a[3].trim(),pe,ue,he,J,G,ye=a[0].labels.change+"",_e,Se,fe,A,Pe=a[0].labels.btnCancel+"",Ce,be,qe,ve,we,Je,Ge,T,X,Ae,Te,k=(r=new Rt({}),Z&&Wc(a)),x=a[7]&&Zc(a),L=ie&&Yc(a),E=a[9]&&Kc(a),M=de&&Qc(a),I=a[11]&&eg(a),D=!a[0].config.hideCaptcha&&tg(a);return T=new aa({}),{c(){Ve(r.$$.fragment),$=Ie(),i=Ee("wmgPlayerJSqa_"),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),l=Ee("wmgPlayerJSqa_"),F=Ie(),c=Ee("wmgPlayerJSqa_"),g=Ee("wmgPlayerJSqa_"),O=Me(m),R=Ie(),d=Ee("wmgPlayerJSqa_"),H=Me(p),N=Ie(),B=Ee("wmgPlayerJSqa_"),u=Ee("wmgPlayerJSqa_"),h=Ee("wmgPlayerJSqa_"),y=Ee("wmgPlayerJSqa_"),_=Ee("wmgPlayerJSqa_"),S=Ee("wmgPlayerJSqa_"),z=Me(V),U=Ie(),f=Ee("input"),W=Ie(),k&&k.c(),Y=Ie(),x&&x.c(),K=Ie(),P=Ee("wmgPlayerJSqa_"),C=Ee("wmgPlayerJSqa_"),ee=Me(Q),te=Ie(),b=Ee("input"),re=Ie(),L&&L.c(),ne=Ie(),E&&E.c(),se=Ie(),q=Ee("wmgPlayerJSqa_"),v=Ee("wmgPlayerJSqa_"),oe=Me(le),ce=Ie(),w=Ee("input"),me=Ie(),M&&M.c(),pe=Ie(),I&&I.c(),ue=Ie(),D&&D.c(),he=Ie(),J=Ee("wmgPlayerJSqa_"),G=Ee("button"),_e=Me(ye),fe=Ie(),A=Ee("button"),Ce=Me(Pe),qe=Ie(),ve=Ee("wmgPlayerJSqa_"),we=Ie(),Je=Ee("wmgPlayerJSqa_"),Ge=Ie(),Ve(T.$$.fragment),$e(l,"class","mgPlayerJSqa_ege-inline-block-vm"),$e(g,"class","mgPlayerJSqa_tooltip-title"),$e(c,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-center"),$e(s,"id","mgPlayerJSqa_btn-back-change-pass"),$e(s,"class","mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_back-btn mgPlayerJSqa_icons-hover-effect mgPlayerJSqa_back-btn"),$e(d,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_header-text mgPlayerJSqa_margin-lr-10 mgPlayerJSqa_font-size-16 mgPlayerJSqa_text-color-white mgPlayerJSqa_text-overflow-ellipsis"),$e(n,"class","mgPlayerJSqa_header-title mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_padding-lr-15"),$e(S,"id","mgPlayerJSqa_current-password-label"),$e(S,"class","mgPlayerJSqa_change-password-label"),$e(f,"class","mgPlayerJSqa_input-type-text mgPlayerJSqa_width-100 mgPlayerJSqa_password-text-text mgPlayerJSqa_text-input mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_font-size-16"),$e(f,"autocomplete","new-password"),$e(f,"maxlength","20"),$e(f,"spellcheck","true"),$e(f,"type","password"),$e(f,"placeholder",j=a[0].labels.placeholderCurrentPassword),$e(f,"name","currentPassword"),f.required=!0,$e(_,"class","mgPlayerJSqa_current-password-wrapper"),$e(C,"id","mgPlayerJSqa_new-password-label"),$e(C,"class","mgPlayerJSqa_change-password-label"),$e(b,"class","mgPlayerJSqa_input-type-text mgPlayerJSqa_width-100 mgPlayerJSqa_password-text-text mgPlayerJSqa_text-input mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_font-size-16"),$e(b,"autocomplete","new-password"),$e(b,"minlength","8"),$e(b,"maxlength","20"),$e(b,"spellcheck","true"),$e(b,"type","password"),$e(b,"placeholder",ae=a[0].labels.placeholderNewPassword),$e(b,"name","newPassword"),b.required=!0,$e(P,"class","mgPlayerJSqa_new-password-wrapper"),$e(v,"id","mgPlayerJSqa_confirm-password-label"),$e(v,"class","mgPlayerJSqa_change-password-label"),$e(w,"class","mgPlayerJSqa_input-type-text mgPlayerJSqa_width-100 mgPlayerJSqa_password-text-text mgPlayerJSqa_text-input mgPlayerJSqa_ege-inline-block-vm mgPlayerJSqa_font-size-16"),$e(w,"autocomplete","new-password"),$e(w,"minlength","8"),$e(w,"maxlength","20"),$e(w,"spellcheck","true"),$e(w,"type","password"),$e(w,"placeholder",ge=a[0].labels.placeholderPasswordC),$e(w,"name","confirmPassword"),w.required=!0,$e(q,"class","mgPlayerJSqa_confirm-password-wrapper"),$e(y,"class","mgPlayerJSqa_change-pass-signin-form"),$e(G,"type","button"),$e(G,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_btn-neutral"),$e(G,"aria-label",Se=a[0].labels.change),Oe(G,"mgPlayerJSqa_disabled",!a[1].trim()||a[6]||a[7]||!a[2].trim()||a[8]||a[9]||!a[3].trim()||a[10]||a[11]||a[5]),$e(A,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_btn-neutral"),$e(A,"aria-label",be=a[0].labels.btnCancel),$e(J,"class","mgPlayerJSqa_change-password-footer mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-tb-15"),$e(ve,"class","mgPlayerJSqa_ege-clear"),$e(h,"class","mgPlayerJSqa_change-pass-signin-form-container mgPlayerJSqa_no-border mgPlayerJSqa_no-border-all mgPlayerJSqa_no-padding mgPlayerJSqa_no-box-shadow"),$e(Je,"class","mgPlayerJSqa_ege-clear"),$e(u,"role","form"),$e(u,"aria-labelledby","guide-change-password-form"),$e(u,"name","cForm"),$e(u,"autocomplete","off"),$e(u,"method","post"),$e(B,"class","mgPlayerJSqa_change-pass-signin-page-wrapper mgPlayerJSqa_change-password-wrapper"),$e(i,"class","mgPlayerJSqa_ege-panel-main-container mgPlayerJSqa_signin-page-container")},m(e,t){ze(r,e,t),xe(e,$,t),xe(e,i,t),ke(i,n),ke(n,s),ke(s,l),l.innerHTML=o,ke(s,F),ke(s,c),ke(c,g),ke(g,O),ke(n,R),ke(n,d),ke(d,H),ke(i,N),ke(i,B),ke(B,u),ke(u,h),ke(h,y),ke(y,_),ke(_,S),ke(S,z),ke(_,U),ke(_,f),je(f,a[1]),ke(_,W),k&&k.m(_,null),ke(_,Y),x&&x.m(_,null),ke(y,K),ke(y,P),ke(P,C),ke(C,ee),ke(P,te),ke(P,b),je(b,a[2]),ke(P,re),L&&L.m(P,null),ke(P,ne),E&&E.m(P,null),ke(y,se),ke(y,q),ke(q,v),ke(v,oe),ke(q,ce),ke(q,w),je(w,a[3]),ke(q,me),M&&M.m(q,null),ke(q,pe),I&&I.m(q,null),ke(h,ue),D&&D.m(h,null),ke(h,he),ke(h,J),ke(J,G),ke(G,_e),ke(J,fe),ke(J,A),ke(A,Ce),ke(h,qe),ke(h,ve),ke(u,we),ke(u,Je),xe(e,Ge,t),ze(T,e,t),X=!0,Ae||(Te=[De(s,"click",a[13]),De(f,"input",a[14]),De(f,"focus",a[15]),De(b,"input",a[16]),De(b,"focus",a[17]),De(w,"input",a[18]),De(w,"focus",a[19]),De(G,"click",a[22]),De(A,"click",a[23])],Ae=!0)},p(e,[t]){(!X||1&t)&&o!==(o=e[0].svgs.iconBack+"")&&(l.innerHTML=o),(!X||1&t)&&m!==(m=e[0].labels.back+"")&&Fe(O,m),(!X||1&t)&&p!==(p=e[0].labels.changePassword+"")&&Fe(H,p),(!X||1&t)&&V!==(V=e[0].labels.placeholderCurrentPassword+"")&&Fe(z,V),(!X||1&t&&j!==(j=e[0].labels.placeholderCurrentPassword))&&$e(f,"placeholder",j),2&t&&f.value!==e[1]&&je(f,e[1]),(Z=66&t?e[6]||!e[1].trim():Z)?k?k.p(e,t):((k=Wc(e)).c(),k.m(_,Y)):k&&(k.d(1),k=null),e[7]?x?x.p(e,t):((x=Zc(e)).c(),x.m(_,null)):x&&(x.d(1),x=null),(!X||1&t)&&Q!==(Q=e[0].labels.placeholderNewPassword+"")&&Fe(ee,Q),(!X||1&t&&ae!==(ae=e[0].labels.placeholderNewPassword))&&$e(b,"placeholder",ae),4&t&&b.value!==e[2]&&je(b,e[2]),(ie=260&t?e[8]||!e[2].trim():ie)?L?L.p(e,t):((L=Yc(e)).c(),L.m(P,ne)):L&&(L.d(1),L=null),e[9]?E?E.p(e,t):((E=Kc(e)).c(),E.m(P,null)):E&&(E.d(1),E=null),(!X||1&t)&&le!==(le=e[0].labels.placeholderPasswordC+"")&&Fe(oe,le),(!X||1&t&&ge!==(ge=e[0].labels.placeholderPasswordC))&&$e(w,"placeholder",ge),8&t&&w.value!==e[3]&&je(w,e[3]),(de=1032&t?e[10]||!e[3].trim():de)?M?M.p(e,t):((M=Qc(e)).c(),M.m(q,pe)):M&&(M.d(1),M=null),e[11]?I?I.p(e,t):((I=eg(e)).c(),I.m(q,null)):I&&(I.d(1),I=null),e[0].config.hideCaptcha?D&&(Re(),Be(D,1,1,()=>{D=null}),He()):D?(D.p(e,t),1&t&&Ne(D,1)):((D=tg(e)).c(),Ne(D,1),D.m(h,he)),(!X||1&t)&&ye!==(ye=e[0].labels.change+"")&&Fe(_e,ye),(!X||1&t&&Se!==(Se=e[0].labels.change))&&$e(G,"aria-label",Se),(!X||4078&t)&&Oe(G,"mgPlayerJSqa_disabled",!e[1].trim()||e[6]||e[7]||!e[2].trim()||e[8]||e[9]||!e[3].trim()||e[10]||e[11]||e[5]),(!X||1&t)&&Pe!==(Pe=e[0].labels.btnCancel+"")&&Fe(Ce,Pe),(!X||1&t&&be!==(be=e[0].labels.btnCancel))&&$e(A,"aria-label",be)},i(e){X||(Ne(r.$$.fragment,e),Ne(D),Ne(T.$$.fragment,e),X=!0)},o(e){Be(r.$$.fragment,e),Be(D),Be(T.$$.fragment,e),X=!1},d(e){e&&(Le($),Le(i),Le(Ge)),Ue(r,e),k&&k.d(),x&&x.d(),L&&L.d(),E&&E.d(),M&&M.d(),I&&I.d(),D&&D.d(),Ue(T,e),Ae=!1,Xe(Te)}}}function rg(e,t,r){ge.currentView="change-password-view";let i={},n="",s="",l="",o=!1,c=!1,g=!1,m=!1,d=!1,p=!1,u=!1,h=!1;const a=()=>{var e;function t(){ge.logout("password_change")}function a(e){ge.hideLoading(),D.open(ge.labels.msgPasswordChangedSuccess,"success",t,t)}GmCXt.isEmpty(n)?r(6,g=!0):!GmCXt.isEmpty(n)&&n.length<8&&r(7,m=!0),GmCXt.isEmpty(s)?r(8,d=!0):!GmCXt.isEmpty(s)&&s.length<8&&r(9,p=!0),GmCXt.isEmpty(l)?r(10,u=!0):!GmCXt.isEmpty(l)&&l.length<8&&r(11,h=!0),o||GmCXt.conf.hideCaptcha||(r(5,c=!0),ge.hideLoading()),g||m||d||p||u||h||c||(s!==l?ge.showPopup(ge.labels.msgConfirmNewPasswordError):(ge.showLoading(),e={user_id:i.user_id,new_password:s,existing_password:n},GmCXt.api.changePassword(e,a)))},y=()=>{me.activeView.set("home")};i=ge.user,ge.hideLoading(),de(()=>{});return[ge,n,s,l,o,c,g,m,d,p,u,h,a,y,function(){n=this.value,r(1,n)},()=>r(7,m=!1),function(){s=this.value,r(2,s)},()=>r(9,p=!1),function(){l=this.value,r(3,l)},()=>r(11,h=!1),function(e){o=e,r(4,o)},function(e){c=e,r(5,c)},()=>a(),()=>y()]}class ig extends e{constructor(e){super(),t(this,e,rg,ag,g,{})}}function ng(e){let a,r=e[0].labels.creatorSsoError+"",i;return{c(){a=Ee("wmgPlayerJSqa_"),i=Me(r),$e(a,"class","mgPlayerJSqa_error-input-wrapper active")},m(e,t){xe(e,a,t),ke(a,i)},p(e,t){1&t&&r!==(r=e[0].labels.creatorSsoError+"")&&Fe(i,r)},d(e){e&&Le(a)}}}function sg(a){let r,i,n,s,l=a[0].labels.logInWithSSO+"",o,c,g,m,d,p,u,h,y,_,S,f,P,C=a[0].labels.logInWithSSO+"",b,q,v,w,J,G,A=a[0].labels.backToLogin+"",T,X,k,x,L,E,M,I=(r=new Rt({}),a[3]&&ng(a));return x=new aa({}),{c(){Ve(r.$$.fragment),i=Ie(),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),o=Me(l),c=Ie(),g=Ee("wmgPlayerJSqa_"),m=Ee("wmgPlayerJSqa_"),d=Ee("wmgPlayerJSqa_"),p=Ee("wmgPlayerJSqa_"),u=Ee("wmgPlayerJSqa_"),h=Ee("input"),_=Ie(),I&&I.c(),S=Ie(),f=Ee("wmgPlayerJSqa_"),P=Ee("button"),b=Me(C),w=Ie(),J=Ee("wmgPlayerJSqa_"),G=Ee("button"),T=Me(A),k=Ie(),Ve(x.$$.fragment),$e(s,"class","mgPlayerJSqa_h2 mgPlayerJSqa_font-size-24 mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-25"),$e(h,"id","mgPlayerJSqa_input-forgot-email"),$e(h,"class","mgPlayerJSqa_input-type-text mgPlayerJSqa_font-size-16 mgPlayerJSqa_inline-block-vm"),$e(h,"maxlength","50"),$e(h,"spellcheck","true"),$e(h,"type","text"),$e(h,"placeholder",y=a[0].labels.ssoDomain),$e(h,"name","ssoDomain"),$e(h,"aria-label","SSO Domain"),h.required=!0,$e(u,"class","mgPlayerJSqa_input-email-wrapper mgPlayerJSqa_margin-tb-10"),$e(p,"class","mgPlayerJSqa_signin-form-input"),$e(P,"id","mgPlayerJSqa_btn-reset-pass"),$e(P,"type","button"),$e(P,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_font-size-15"),$e(P,"aria-disabled",q=GmCXt.isEmpty(a[1])),$e(P,"aria-label",v=a[0].labels.logInWithSSO),Oe(P,"mgPlayerJSqa_disabled",GmCXt.isEmpty(a[1])),$e(f,"class","mgPlayerJSqa_btn-login-wrapper mgPlayerJSqa_text-align-center"),$e(G,"id","mgPlayerJSqa_label-forgot-back-to-login"),$e(G,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_back-to-login mgPlayerJSqa_theme-color mgPlayerJSqa_text-align-center mgPlayerJSqa_cursor-pointer mgPlayerJSqa_font-weight-550 mgPlayerJSqa_inline-block-vm"),$e(G,"type","button"),$e(G,"aria-label",X=a[0].labels.backToLogin),$e(J,"class","mgPlayerJSqa_width-100 mgPlayerJSqa_text-align-center"),$e(d,"class","mgPlayerJSqa_signin-form-container"),$e(m,"role","form"),$e(m,"aria-labelledby","guide-forgot-password-form"),$e(m,"name","forgotPasswordForm"),$e(m,"autocomplete","off"),$e(g,"class","mgPlayerJSqa_signin-page-wrapper"),$e(n,"class","mgPlayerJSqa_ege-panel-main-container mgPlayerJSqa_signin-page-container mgPlayerJSqa_forgot-password-page-container")},m(e,t){ze(r,e,t),xe(e,i,t),xe(e,n,t),ke(n,s),ke(s,o),ke(n,c),ke(n,g),ke(g,m),ke(m,d),ke(d,p),ke(p,u),ke(u,h),je(h,a[1]),a[5](h),ke(u,_),I&&I.m(u,null),ke(d,S),ke(d,f),ke(f,P),ke(P,b),ke(d,w),ke(d,J),ke(J,G),ke(G,T),xe(e,k,t),ze(x,e,t),L=!0,E||(M=[De(h,"input",a[4]),De(P,"click",a[6]),De(G,"click",function(){Y(a[0].goToLogin)&&a[0].goToLogin.apply(this,arguments)})],E=!0)},p(e,[t]){a=e,(!L||1&t)&&l!==(l=a[0].labels.logInWithSSO+"")&&Fe(o,l),(!L||1&t&&y!==(y=a[0].labels.ssoDomain))&&$e(h,"placeholder",y),2&t&&h.value!==a[1]&&je(h,a[1]),a[3]?I?I.p(a,t):((I=ng(a)).c(),I.m(u,null)):I&&(I.d(1),I=null),(!L||1&t)&&C!==(C=a[0].labels.logInWithSSO+"")&&Fe(b,C),(!L||2&t&&q!==(q=GmCXt.isEmpty(a[1])))&&$e(P,"aria-disabled",q),(!L||1&t&&v!==(v=a[0].labels.logInWithSSO))&&$e(P,"aria-label",v),(!L||2&t)&&Oe(P,"mgPlayerJSqa_disabled",GmCXt.isEmpty(a[1])),(!L||1&t)&&A!==(A=a[0].labels.backToLogin+"")&&Fe(T,A),(!L||1&t&&X!==(X=a[0].labels.backToLogin))&&$e(G,"aria-label",X)},i(e){L||(Ne(r.$$.fragment,e),Ne(x.$$.fragment,e),L=!0)},o(e){Be(r.$$.fragment,e),Be(x.$$.fragment,e),L=!1},d(e){e&&(Le(i),Le(n),Le(k)),Ue(r,e),a[5](null),I&&I.d(),Ue(x,e),E=!1,Xe(M)}}}function lg(e,t,a){let r="";ge.currentView="sso-login-view";let i,n=!1;const s=me.showSsoNotAvailableError.subscribe(e=>{a(3,n=e)});de(()=>{a(3,n=!1)}),pe(()=>{s()});return[ge,r,void 0,n,function(){r=this.value,a(1,r)},function(e){ue[e?"unshift":"push"](()=>{i=e,a(2,i)})},()=>ge.creatorSSOLogin(r)]}class og extends e{constructor(e){super(),t(this,e,lg,sg,g,{})}}function cg(e){let a,r;return a=new Sc({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function gg(e){let a,r;return a=new og({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function mg(e){let a,r;return a=new Na({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function dg(e){let a,r;return a=new ig({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function pg(e){let a,r;return a=new jc({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function ug(e){let a,r;return a=new wc({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function hg(e){let a,r;return a=new Cc({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function yg(e){let a,r;return a=new dc({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function _g(e){let a,r;return a=new wa({}),{c(){Ve(a.$$.fragment)},m(e,t){ze(a,e,t),r=!0},i(e){r||(Ne(a.$$.fragment,e),r=!0)},o(e){Be(a.$$.fragment,e),r=!1},d(e){Ue(a,e)}}}function Sg(){let a,r,i,e;return{c(){a=Ee("wmgPlayerJSqa_"),r=Ee("wmgPlayerJSqa_"),$e(i=Ee("img"),"class","mgPlayerJSqa_loader-image"),Q(i.src,e=GmCXt.loader())||$e(i,"src",e),$e(i,"alt","loader"),$e(r,"class","mgPlayerJSqa_ege-loader-wrapper-spinner"),$e(a,"id","mgPlayerJSqa_ege-spinner"),$e(a,"class","mgPlayerJSqa_ege-loader-wrapper")},m(e,t){xe(e,a,t),ke(a,r),ke(r,i)},p:we,d(e){e&&Le(a)}}}function fg(a){let r,i,n,s=a[1].svgs.iconCookiePolicy+"",l,o,c=a[1].labels.privacyPolicyText+"",g,m,d,p,u=a[1].labels.terms+"",h,y,_,S,f=a[1].labels.policyPrivacy+"",P,C,b,q,v,w=a[1].labels.iAgree+"",J,G,A,T;return{c(){r=Ee("div"),i=Ee("div"),n=Ee("div"),l=Ie(),o=Ee("div"),g=Me(c),m=Ie(),d=Ee("div"),p=Ee("a"),h=Me(u),_=Ie(),S=Ee("a"),P=Me(f),b=Ie(),q=Ee("div"),v=Ee("div"),J=Me(w),$e(n,"class","mgPlayerJSqa_popup-icon-cookies mgPlayerJSqa_inline-block-vm mgPlayerJSqa_position-relative"),$e(p,"class","mgPlayerJSqa_cookies-hyperlink mgPlayerJSqa_text-decoration-none"),$e(p,"href",y=a[1].config.termsURL),$e(p,"target","_blank"),$e(p,"rel","noopener noreferrer"),$e(S,"class","mgPlayerJSqa_cookies-hyperlink mgPlayerJSqa_text-decoration-none mgPlayerJSqa_margin-lr-5"),$e(S,"href",C=GmCXt.organization?.settings?.privacyPolicy||a[1].config.privacyPolicyUrl),$e(S,"target","_blank"),$e(S,"rel","noopener noreferrer"),$e(d,"class","mgPlayerJSqa_cookies-hyperlink-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_margin-tb-5"),$e(o,"class","mgPlayerJSqa_popup-content"),$e(i,"class","mgPlayerJSqa_popup-content-wrapper"),$e(v,"id","mgPlayerJSqa_btn-close-cookie-popup"),$e(v,"class","mgPlayerJSqa_btn-default mgPlayerJSqa_inline-block-vm"),$e(q,"class","mgPlayerJSqa_popup-agree-btn-wrapper mgPlayerJSqa_text-align-center mgPlayerJSqa_margin-15"),$e(r,"class",G="mgPlayerJSqa_cookie-policy-popup-container "+(a[1].isMicroPlayer?"mgPlayerJSqa_cookie-policy-popup-mini-player":""))},m(e,t){xe(e,r,t),ke(r,i),ke(i,n),n.innerHTML=s,ke(i,l),ke(i,o),ke(o,g),ke(o,m),ke(o,d),ke(d,p),ke(p,h),ke(d,_),ke(d,S),ke(S,P),ke(r,b),ke(r,q),ke(q,v),ke(v,J),A||(T=De(v,"click",function(){Y(a[1].closeCookiePopup)&&a[1].closeCookiePopup.apply(this,arguments)}),A=!0)},p(e,t){a=e,2&t&&s!==(s=a[1].svgs.iconCookiePolicy+"")&&(n.innerHTML=s),2&t&&c!==(c=a[1].labels.privacyPolicyText+"")&&Fe(g,c),2&t&&u!==(u=a[1].labels.terms+"")&&Fe(h,u),2&t&&y!==(y=a[1].config.termsURL)&&$e(p,"href",y),2&t&&f!==(f=a[1].labels.policyPrivacy+"")&&Fe(P,f),2&t&&C!==(C=GmCXt.organization?.settings?.privacyPolicy||a[1].config.privacyPolicyUrl)&&$e(S,"href",C),2&t&&w!==(w=a[1].labels.iAgree+"")&&Fe(J,w),2&t&&G!==(G="mgPlayerJSqa_cookie-policy-popup-container "+(a[1].isMicroPlayer?"mgPlayerJSqa_cookie-policy-popup-mini-player":""))&&$e(r,"class",G)},d(e){e&&Le(r),A=!1,T()}}}function Pg(e){let r,i,n,s,l=e[1].showCookiePopup()&&"signin"!==e[0],o,a,c;const g=[_g,yg,hg,ug,pg,dg,mg,gg,cg],m=[];function d(e){return"signin"==e[0]?0:"home"==e[0]?1:"forgotpwd"==e[0]?2:"chatbot"==e[0]?3:"taskList"==e[0]?4:"changePw"==e[0]?5:"findNReplace"==e[0]?6:"signInSSO"==e[0]?7:"maintenance"==e[0]?8:-1}~(r=d(e))&&(i=m[r]=g[r](e));let p=e[2]&&Sg(),u=l&&fg(e);return{c(){i&&i.c(),n=Ie(),p&&p.c(),s=Ie(),u&&u.c(),o=Ie(),$e(a=Ee("input"),"class","mgPlayerJSqa_display-none"),$e(a,"spellcheck","true"),$e(a,"id","mgPlayerJSqa_add-step-upload-file"),$e(a,"type","file"),$e(a,"tabindex","-1"),$e(a,"accept","image/png,image/jpeg"),Ge(a,"display","none")},m(e,t){~r&&m[r].m(e,t),xe(e,n,t),p&&p.m(e,t),xe(e,s,t),u&&u.m(e,t),xe(e,o,t),xe(e,a,t),c=!0},p(e,t){let a=r;(r=d(e))!==a&&(i&&(Re(),Be(m[a],1,1,()=>{m[a]=null}),He()),~r?((i=m[r])||(i=m[r]=g[r](e)).c(),Ne(i,1),i.m(n.parentNode,n)):i=null),e[2]?p?p.p(e,t):((p=Sg()).c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null),(l=3&t?e[1].showCookiePopup()&&"signin"!==e[0]:l)?u?u.p(e,t):((u=fg(e)).c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},i(e){c||(Ne(i),c=!0)},o(e){Be(i),c=!1},d(e){e&&(Le(n),Le(s),Le(o),Le(a)),~r&&m[r].d(e),p&&p.d(e),u&&u.d(e)}}}function Cg(e){let a=e[3],r,i,n=Pg(e);return{c(){n.c(),r=M()},m(e,t){n.m(e,t),xe(e,r,t),i=!0},p(e,[t]){8&t&&g(a,a=e[3])?(Re(),Be(n,1,1,we),He(),(n=Pg(e)).c(),Ne(n,1),n.m(r.parentNode,r)):n.p(e,t)},i(e){i||(Ne(n),i=!0)},o(e){Be(n),i=!1},d(e){e&&Le(r),n.d(e)}}}function bg(e,t,a){let{loadComp:r="signin"}=t,i=!1,n=(GmCXt.refreshView=!1,0);const s=me.activeView.subscribe(e=>{var t=r;""!==e&&t===e&&a(3,n+=1),""!==e&&(a(0,r=e),GmCXt.saveToStorage("activeView",e))}),l=(me.loading.subscribe(e=>{a(2,i=e)}),me.dialogBox.subscribe(e=>{})),o=me.selectedLang.subscribe(e=>{e&&"default"!==e&&a(1,ge.labels=GmCXt.getAllLabels(e),ge)});return de(()=>{a(0,r=ce(me.activeView))}),pe(()=>{l(),s(),o()}),e.$$set=e=>{"loadComp"in e&&a(0,r=e.loadComp)},[r,ge,i,n]}class qg extends e{constructor(e){super(),t(this,e,bg,Cg,g,{loadComp:0})}}function vg(e){e=e||{};const t={},i={popup:mg$(e.popup),highlightedArea:e.elementBounds||{},containerOffset:e.containerOffest||{left:0,top:0},alignment:e.alignment||"",hardApply:e.hardApply||!1,doNotApplyArrow:e.doNotApplyArrow||!1,arrowClass:"",left:null,top:null,isSet:!1,arrowId:e.tooltipArrowId||"",arrowWidth:e.isBeacon?5:12,isGuidance:e.isGuidance,customPos:e.customPos,isBeacon:e.isBeacon,dimensions:e.dimensions,totalHeightMinusTop:0,totalWidthMinusLeft:0,totalHeightMinusBottom:0,totalWidthMinusRight:0,stepType:e.stepType,disableElementColor:e.disableElementColor,changeInHeight:e.changeInHeight,isExtension:e.isExtension,dynamicPopupHeight:e.dynamicPopupHeight};if(i.arrowId||(i.doNotApplyArrow=!0),0!==i.popup.length)return i.arrowId&&mg$("#"+i.arrowId).length&&mg$("#"+i.arrowId).remove(),!i.isGuidance||"top"!==i.alignment&&"bottom"!==i.alignment||(i.arrowWidth=8),"smartTip"==i.stepType||"tooltip"==i.stepType||0!=i.popup.outerWidth()?i.popupWidth=i.popup.outerWidth():i.popupWidth=250,125<i.changeInHeight||"smartTip"==i.stepType||"tooltip"==i.stepType||"beacon"==i.stepType||!0===i.dynamicPopupHeight?i.popupHeight=i.popup.outerHeight():i.popupHeight=125,i.highlightedArea.cw=i.highlightedArea.cw||0,i.highlightedArea.ch=i.highlightedArea.ch||0,i.highlightedArea.cx=i.highlightedArea.cx||0,i.highlightedArea.cy=i.highlightedArea.cy||0,0<i.highlightedArea.cw&&0<i.highlightedArea.ch?i.availableSpace={top:i.highlightedArea.cy,left:i.highlightedArea.cx,right:i.dimensions.width-(i.highlightedArea.cx+i.highlightedArea.cw),bottom:i.dimensions.height-(i.highlightedArea.cy+i.highlightedArea.ch)}:i.availableSpace={top:0,left:0,right:0,bottom:0},i.highlightedArea.cx||i.highlightedArea.cy||(i.availableSpace.top=i.availableSpace.top||0,i.availableSpace.left=i.availableSpace.left||0,i.availableSpace.right=i.availableSpace.right||0,i.availableSpace.bottom=i.availableSpace.bottom||0),void 0!==i.containerOffset&&(i.containerOffset.top<0&&(i.containerOffset.top=0),i.containerOffset.left<0&&(i.containerOffset.left=0),i.availableSpace.top+=i.containerOffset.top,i.availableSpace.left+=i.containerOffset.left,i.availableSpace.right-=i.containerOffset.left,i.availableSpace.bottom-=i.containerOffset.top),e.playingTour,0<=i.availableSpace.top&&(i.totalHeightMinusTop=i.dimensions.height-i.availableSpace.top),0<=i.availableSpace.left&&(i.totalWidthMinusLeft=i.dimensions.width-i.availableSpace.left),0<=i.availableSpace.bottom&&(i.totalHeightMinusBottom=i.dimensions.height-i.availableSpace.bottom),0<=i.availableSpace.right&&(i.totalWidthMinusRight=i.dimensions.width-i.availableSpace.right),t.getAvailablePositions=function(){return{"left-middle":a(),"left-top":n(),"left-bottom":l(),"right-middle":c(),"right-top":m(),"right-bottom":p(),"top-middle":h(),"top-left":_(),"top-right":f(),"bottom-middle":C(),"bottom-left":q(),"bottom-right":w()}},t.getAvailablePositionsForTooltip=function(){var e,t,a=i.highlightedArea.cx+i.highlightedArea.cw+15,r=i.highlightedArea.cy+i.highlightedArea.ch+15;return{"left-middle":i.highlightedArea.cx>i.dimensions.width/5,"right-middle":(e=a,t=182,!(i.dimensions.width-e<t+30)),"top-middle":(e=a,!(i.highlightedArea.cy<81||i.highlightedArea.cx<50||i.dimensions.width-e<50)),"bottom-middle":(t=a,e=r,a=70,!(i.dimensions.height-e<a+16||i.highlightedArea.cx<50||i.dimensions.width-t<50))}},t.start=function(){switch(i.alignment){case"left":case"left-middle":r(),i.isSet||s(),i.isSet||o();break;case"left-top":s(),i.isSet||o();break;case"left-bottom":o(),i.isSet||s();break;case"right":case"right-middle":g(),i.isSet||d(),i.isSet||u();break;case"right-top":d(),i.isSet||u();break;case"right-bottom":u(),i.isSet||d();break;case"top":y(),i.isSet||S(),i.isSet||P();break;case"top-middle":y();break;case"top-left":S();break;case"top-right":P();break;case"bottom":b(),i.isSet||v(),i.isSet||J();break;case"bottom-middle":b();break;case"bottom-left":v();break;case"bottom-right":J();break;case"center":G();break;case"custom":i.left=i.highlightedArea.cx+i.customPos,i.top=i.highlightedArea.cy+i.customPos,i.isSet=!0,i.alignment="custom"}var e;return!1===i.hardApply&&(i.isSet||g(),i.isSet||d(),i.isSet||u(),i.isSet||r(),i.isSet||s(),i.isSet||o(),i.isSet||y(),i.isSet||S(),i.isSet||P(),i.isSet||b(),i.isSet||v(),i.isSet||J(),i.isSet||G()),null!==i.left&&null!==i.top&&(i.top<0&&(i.top=10),0<(e=mg$(window).scrollLeft())&&(i.left-=e),i.popup.css({left:i.left+i.containerOffset.left,top:i.top+i.containerOffset.top})),i.arrowId&&(i.arrowClass=i.arrowClass+" mgPlayerJSqa_tooltip-arrow"),i.doNotApplyArrow||mg$("html").append(`<wmgPlayerJSqa_ id= "${i.arrowId}" class="${i.arrowClass}" style="left:${i.arrowLeft}px;top:${i.arrowTop}px;"></wmgPlayerJSqa_>`),!!i.isSet&&{top:i.top+i.containerOffset.top,left:i.left+i.containerOffset.left,alignment:i.alignment}},t.checkHeight=function(){80!==i.popupHeight&&t.redo()},t.redo=function(){i.isGuidance&&(i.arrowWidth=8),i.popupWidth=307,125<i.changeInHeight?i.popupHeight=i.changeInHeight:i.popupHeight=125,t.start()},t.clear=function(){mg$(".mgPlayerJSqa_arrow-down").not(".mgPlayerJSqa_tooltip-arrow").remove(),mg$(".mgPlayerJSqa_arrow-up").not(".mgPlayerJSqa_tooltip-arrow").remove(),mg$(".mgPlayerJSqa_arrow-left").not(".mgPlayerJSqa_tooltip-arrow").remove(),mg$(".mgPlayerJSqa_arrow-right").not(".mgPlayerJSqa_tooltip-arrow").remove(),i.popup.css({left:0,top:0})},t;function a(){return Math.abs(i.availableSpace.left)>i.popupWidth&&i.highlightedArea.ch/2<screen.height&&Math.abs(i.availableSpace.top)+i.highlightedArea.ch/2>i.popupHeight/2&&Math.abs(i.availableSpace.bottom)+i.highlightedArea.ch/2>i.popupHeight/2}function r(){a()&&("smartTip"===i.stepType&&!i.isBeacon||"validation"===i.stepType?(i.left=i.highlightedArea.cx,i.isGuidance&&i.isExtension||"validation"===i.stepType?i.top=i.highlightedArea.cy:i.top=i.highlightedArea.cy+i.highlightedArea.ch/2-i.popupHeight/2):"beacon_tour"===i.stepType&&i.isExtension?(i.left=i.highlightedArea.cx,i.top=i.highlightedArea.cy):("inline"===i.stepType||"message"===i.stepType?i.left=i.highlightedArea.cx-i.popupWidth-i.arrowWidth:i.left=i.highlightedArea.cx-i.popupWidth-5,i.top=i.highlightedArea.cy+i.highlightedArea.ch/2-i.popupHeight/2),i.arrowClass="mgPlayerJSqa_arrow-right",i.arrowLeft=i.highlightedArea.cx-12,i.arrowTop=i.top+i.popupHeight/2-10,i.isSet=!0,i.alignment="left-middle")}function n(){return Math.abs(i.availableSpace.left)>i.popupWidth&&i.totalHeightMinusTop>i.popupHeight}function s(){n()&&(i.left=i.highlightedArea.cx-i.popupWidth-i.arrowWidth,i.top=i.highlightedArea.cy,i.arrowClass="mgPlayerJSqa_arrow-right",i.arrowLeft=i.highlightedArea.cx-12,i.arrowTop=i.top+7,i.isSet=!0,i.alignment="left-top")}function l(){return Math.abs(i.availableSpace.left)>i.popupWidth&&i.totalHeightMinusBottom>i.popupHeight}function o(){l()&&(i.left=i.highlightedArea.cx-i.popupWidth-i.arrowWidth,i.top=i.highlightedArea.cy+i.highlightedArea.ch-i.popupHeight,i.arrowClass="mgPlayerJSqa_arrow-right",i.arrowLeft=i.highlightedArea.cx-12,i.arrowTop=i.top+(i.popupHeight-30),i.isSet=!0,i.alignment="left-bottom")}function c(){return i.availableSpace.right>i.popupWidth&&i.highlightedArea.ch/2<screen.height&&Math.abs(i.availableSpace.top)+i.highlightedArea.ch/2>i.popupHeight/2&&Math.abs(i.availableSpace.bottom)+i.highlightedArea.ch/2>i.popupHeight/2}function g(){c()&&("smartTip"===i.stepType&&!i.isBeacon||"validation"===i.stepType?(i.left=i.highlightedArea.cx,i.isGuidance&&i.isExtension||"validation"===i.stepType?i.top=i.highlightedArea.cy:i.top=i.highlightedArea.cy+i.highlightedArea.ch/2-i.popupHeight/2):"beacon_tour"===i.stepType&&i.isExtension?(i.left=i.highlightedArea.cx,i.top=i.highlightedArea.cy):("inline"===i.stepType||"message"===i.stepType?i.left=i.highlightedArea.cx+i.highlightedArea.cw+i.arrowWidth:i.left=i.highlightedArea.cx+i.highlightedArea.cw+5,i.top=i.highlightedArea.cy+i.highlightedArea.ch/2-i.popupHeight/2),i.arrowClass="mgPlayerJSqa_arrow-left",i.arrowLeft=i.left-10,i.arrowTop=i.top+i.popupHeight/2-10,i.isSet=!0,i.alignment="right-middle")}function m(){return i.availableSpace.right>i.popupWidth&&i.totalHeightMinusTop>i.popupHeight}function d(){m()&&(i.left=i.highlightedArea.cx+i.highlightedArea.cw+i.arrowWidth,i.top=i.highlightedArea.cy,i.arrowClass="mgPlayerJSqa_arrow-left",i.arrowLeft=i.left-10,i.arrowTop=i.top+7,i.isSet=!0,i.alignment="right-top")}function p(){return i.availableSpace.right>i.popupWidth&&i.totalHeightMinusBottom>i.popupHeight}function u(){p()&&(i.left=i.highlightedArea.cx+i.highlightedArea.cw+i.arrowWidth,i.top=i.highlightedArea.cy+i.highlightedArea.ch-i.popupHeight,i.arrowClass="mgPlayerJSqa_arrow-left",i.arrowLeft=i.left-10,i.arrowTop=i.top+(i.popupHeight-30),i.isSet=!0,i.alignment="right-bottom")}function h(){return Math.abs(i.availableSpace.top)>i.popupHeight+15&&i.totalWidthMinusLeft>i.popupWidth/2&&Math.abs(i.availableSpace.left)+i.highlightedArea.cw/2>i.popupWidth/2&&i.availableSpace.right+i.highlightedArea.cw/2>i.popupWidth/2}function y(){"message"===i.stepType?(i.left=i.popupWidth/2,i.top=i.highlightedArea.cy-i.popupHeight-i.arrowWidth):"beacon_tour"===i.stepType&&i.isExtension?(i.left=i.highlightedArea.cx,i.top=i.highlightedArea.cy):h()&&(i.left=i.highlightedArea.cx+i.highlightedArea.cw/2-i.popupWidth/2,"inline"==i.step?i.top=i.highlightedArea.cy-i.popupHeight-i.arrowWidth:i.top=i.highlightedArea.cy-i.popupHeight-10),i.arrowClass="mgPlayerJSqa_arrow-down",i.arrowLeft=i.highlightedArea.cx+i.highlightedArea.cw/2-8,i.arrowTop=i.highlightedArea.cy-12,i.isSet=!0,i.alignment="top-middle"}function _(){return Math.abs(i.availableSpace.top)>i.popupHeight+15&&i.totalWidthMinusLeft>i.popupWidth}function S(){("message"==i.stepType||_())&&(i.left=i.highlightedArea.cx,i.top=i.highlightedArea.cy-i.popupHeight-i.arrowWidth,i.arrowClass="mgPlayerJSqa_arrow-down",i.arrowLeft=i.highlightedArea.cx+7,i.arrowTop=i.highlightedArea.cy-12,i.isSet=!0,i.alignment="top-left")}function f(){return Math.abs(i.availableSpace.top)>i.popupHeight+15&&i.totalWidthMinusRight>i.popupWidth}function P(){("message"===i.stepType||f())&&(i.left=i.highlightedArea.cx+i.highlightedArea.cw-i.popupWidth,i.top=i.highlightedArea.cy-i.popupHeight-i.arrowWidth,i.arrowClass="mgPlayerJSqa_arrow-down",i.arrowLeft=i.highlightedArea.cx+i.highlightedArea.cw-27,i.arrowTop=i.highlightedArea.cy-12,i.isSet=!0,i.alignment="top-right")}function C(){return Math.abs(i.availableSpace.bottom)>i.popupHeight&&i.totalWidthMinusLeft>i.popupWidth/2&&Math.abs(i.availableSpace.left)+i.highlightedArea.cw/2>i.popupWidth/2&&i.availableSpace.right+i.highlightedArea.cw/2>i.popupWidth/2}function b(){C()&&("smartTip"===i.stepType&&!i.isBeacon||"validation"===i.stepType?(i.left=i.highlightedArea.cx,i.isGuidance&&i.isExtension||"validation"===i.stepType?i.top=i.highlightedArea.cy:i.top=i.highlightedArea.cy+i.highlightedArea.ch/2-i.popupHeight/2):"beacon_tour"===i.stepType&&i.isExtension?(i.left=i.highlightedArea.cx,i.top=i.highlightedArea.cy):"inline"===i.stepType||"message"===i.stepType?(i.top=i.highlightedArea.cy+i.highlightedArea.ch+i.arrowWidth,i.left=i.highlightedArea.cx+i.highlightedArea.cw/2-i.popupWidth/2):(i.left=i.highlightedArea.cx+i.highlightedArea.cw/2-i.popupWidth/2,i.top=i.highlightedArea.cy+i.highlightedArea.ch+5),i.isSet=!0,i.alignment="bottom-middle")}function q(){return Math.abs(i.availableSpace.bottom)>i.popupHeight&&i.totalWidthMinusLeft>i.popupWidth}function v(){q()&&(i.left=i.highlightedArea.cx,i.top=i.highlightedArea.cy+i.highlightedArea.ch+i.arrowWidth,i.arrowClass="mgPlayerJSqa_arrow-up",i.arrowLeft=i.highlightedArea.cx+7,i.arrowTop=i.highlightedArea.cy+i.highlightedArea.ch+2,i.isSet=!0,i.alignment="bottom-left")}function w(){return Math.abs(i.availableSpace.bottom)>i.popupHeight&&i.totalWidthMinusRight>i.popupWidth}function J(){w()&&(i.left=i.highlightedArea.cx+i.highlightedArea.cw-i.popupWidth,i.top=i.highlightedArea.cy+i.highlightedArea.ch+i.arrowWidth,i.arrowClass="mgPlayerJSqa_arrow-up",i.arrowLeft=i.highlightedArea.cx+i.highlightedArea.cw-27,i.arrowTop=i.highlightedArea.cy+i.highlightedArea.ch+2,i.isSet=!0,i.alignment="bottom-right")}function G(){i.left=(i.dimensions.width-i.popupWidth)/2,i.top=(i.dimensions.height-i.popupHeight)/2,i.isSet=!0,i.alignment="center"}}var wg={d:(e,t)=>{for(var a in t)wg.o(t,a)&&!wg.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},Jg=globalThis.pdfjsLib={};wg.d(Jg,{AbortException:()=>am,AnnotationEditorLayer:()=>Mp,AnnotationEditorParamsType:()=>i,AnnotationEditorType:()=>d,AnnotationEditorUIManager:()=>Zm,AnnotationLayer:()=>qp,AnnotationMode:()=>kg,CMapCompressionType:()=>$g,ColorPicker:()=>kp,DOMSVGFactory:()=>wm,DrawLayer:()=>Ip,FeatureTest:()=>cm,GlobalWorkerOptions:()=>$d,ImageKind:()=>Eg,InvalidPDFException:()=>Kg,MissingPDFException:()=>Qg,OPS:()=>Fg,Outliner:()=>Jp,PDFDataRangeTransport:()=>k1,PDFDateString:()=>Mm,PDFWorker:()=>I1,PasswordResponses:()=>Og,PermissionFlag:()=>xg,PixelsPerInch:()=>Cm,RenderingCancelledException:()=>Gm,TextLayer:()=>b1,UnexpectedResponseException:()=>em,Util:()=>f,VerbosityLevel:()=>Dg,XfaLayer:()=>U1,build:()=>N1,createValidAbsoluteUrl:()=>function(e,t=null,a=null){if(e)try{if(a&&"string"==typeof e)if(a.addDefaultProtocol&&e.startsWith("www.")&&2<=e.match(/\./g)?.length&&(e="http://"+e),a.tryConvertEncoding)try{e=function(e){return decodeURIComponent(escape(e))}(e)}catch{}var r=t?new URL(e,t):new URL(e);if(function(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return 1;default:return}}(r))return r}catch{}return null},fetchData:()=>bm,getDocument:()=>function(e={}){"string"==typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const r=new X1,i=r["docId"],n=e.url?function(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(Gg&&"string"==typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(e.url):null,s=e.data?function(e){if(Gg&&"undefined"!=typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"==typeof e)return im(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"==typeof e&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(e.data):null,l=e.httpHeaders||null,o=!0===e.withCredentials,t=e.password??null,c=e.range instanceof k1?e.range:null,g=Number.isInteger(e.rangeChunkSize)&&0<e.rangeChunkSize?e.rangeChunkSize:v1;let m=e.worker instanceof I1?e.worker:null;const a=e.verbosity,d="string"!=typeof e.docBaseUrl||Am(e.docBaseUrl)?null:e.docBaseUrl,p="string"==typeof e.cMapUrl?e.cMapUrl:null,u=!1!==e.cMapPacked,h=e.CMapReaderFactory||J1,y="string"==typeof e.standardFontDataUrl?e.standardFontDataUrl:null,_=e.StandardFontDataFactory||A1,S=!0!==e.stopAtErrors,f=Number.isInteger(e.maxImageSize)&&-1<e.maxImageSize?e.maxImageSize:-1,P=!1!==e.isEvalSupported,C="boolean"==typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!Gg,b=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,q="boolean"==typeof e.disableFontFace?e.disableFontFace:Gg,v=!0===e.fontExtraProperties,w=!0===e.enableXfa,J=e.ownerDocument||globalThis.document,G=!0===e.disableRange,A=!0===e.disableStream,T=!0===e.disableAutoFetch,X=!0===e.pdfBug,k=!0===e.enableHWA,x=c?c.length:e.length??NaN,L="boolean"==typeof e.useSystemFonts?e.useSystemFonts:!Gg&&!q,E="boolean"==typeof e.useWorkerFetch?e.useWorkerFetch:h===qm&&_===vm&&p&&y&&km(p,document.baseURI)&&km(y,document.baseURI),I=e.canvasFactory||new w1({ownerDocument:J,enableHWA:k}),D=e.filterFactory||new G1({docId:i,ownerDocument:J}),M=(function(e){Number.isInteger(e)&&(Rg=e)}(a),{canvasFactory:I,filterFactory:D});E||(M.cMapReaderFactory=new h({baseUrl:p,isCompressed:u}),M.standardFontDataFactory=new _({baseUrl:y}));m||(e={verbosity:a,port:$d.workerPort},m=e.port?I1.fromPort(e):new I1(e),r._worker=m);const $={docId:i,apiVersion:"4.4.168",data:s,password:t,disableAutoFetch:T,rangeChunkSize:g,length:x,docBaseUrl:d,enableXfa:w,evaluatorOptions:{maxImageSize:f,disableFontFace:q,ignoreErrors:S,isEvalSupported:P,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:b,fontExtraProperties:v,useSystemFonts:L,cMapUrl:E?p:null,standardFontDataUrl:E?y:null}},F={disableFontFace:q,fontExtraProperties:v,ownerDocument:J,pdfBug:X,styleElement:null,loadingParams:{disableAutoFetch:T,enableXfa:w}};return m.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");var e,t=m.messageHandler.sendWithPromise("GetDocRequest",$,s?[s.buffer]:null);let a;if(c)a=new Ud(c,{disableRange:G,disableStream:A});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");a=(e={url:n,length:x,httpHeaders:l,withCredentials:o,rangeChunkSize:g,disableRange:G,disableStream:A},new(Gg?"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&km(e.url)?i1:u1:km(e.url)?i1:c1)(e))}return t.then(e=>{if(r.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");var e=new Hd(i,e,m.port),t=new D1(e,r,a,F,M);r._transport=t,e.send("Ready",null)})}).catch(r._capability.reject),r},getFilenameFromUrl:()=>function(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)},getPdfFilenameFromUrl:()=>function(e,t="document.pdf"){if("string"!=typeof e)return t;if(Am(e))return G('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;var a=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let r=a.exec(e[1])||a.exec(e[2])||a.exec(e[3]);if(r&&(r=r[0]).includes("%"))try{r=a.exec(decodeURIComponent(r))[0]}catch{}return r||t},getXfaPageViewport:()=>function(e,{scale:t=1,rotation:a=0}){var{width:e,height:r}=e.attributes.style,e=[0,0,parseInt(e),parseInt(r)];return new Jm({viewBox:e,scale:t,rotation:a})},isDataScheme:()=>Am,isPdfFile:()=>Tm,noContextMenu:()=>xm,normalizeUnicode:()=>function(e){mm||(mm=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,dm=new Map([["ï¬…","Å¿t"]]));return e.replaceAll(mm,(e,t,a)=>t?t.normalize("NFKC"):dm.get(a))},renderTextLayer:()=>function(){Lm("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:e,container:t,viewport:a,...r}=arguments[0],i=Object.keys(r);0<i.length&&G("Ignoring `renderTextLayer` parameters: "+i.join(", "));var n=new b1({textContentSource:e,container:t,viewport:a}),{textDivs:s,textContentItemsStr:l}=n,n=n.render();return{promise:n,textDivs:s,textContentItemsStr:l}},setLayerDimensions:()=>Om,shadow:()=>n,updateTextLayer:()=>function(){Lm("`updateTextLayer`, please use `TextLayer` instead.")},version:()=>H1});const Gg=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),Ag=[1,0,0,1,0,0],Tg=[.001,0,0,.001,0,0],Xg={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},kg={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},d={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},i={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},xg={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Lg={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Eg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Mg={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ig={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Dg={ERRORS:0,WARNINGS:1,INFOS:5},$g={NONE:0,BINARY:1},Fg={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},Og={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Rg=Dg.WARNINGS;function Hg(){return Rg}function Ng(e){Rg>=Dg.INFOS&&console.log("Info: "+e)}function G(e){Rg>=Dg.WARNINGS&&console.log("Warning: "+e)}function Bg(e){throw new Error(e)}function Vg(e,t){e||Bg(t)}function n(e,t,a,r=!1){return Object.defineProperty(e,t,{value:a,enumerable:!r,configurable:!0,writable:!1}),a}Wg.prototype=new Error;var zg,Ug,jg=Wg.constructor=Wg;function Wg(e,t){this.constructor===Wg&&Bg("Cannot initialize BaseException."),this.message=e,this.name=t}class Zg extends jg{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Yg extends jg{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Kg extends jg{constructor(e){super(e,"InvalidPDFException")}}class Qg extends jg{constructor(e){super(e,"MissingPDFException")}}class em extends jg{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class tm extends jg{constructor(e){super(e,"FormatError")}}class am extends jg{constructor(e){super(e,"AbortException")}}function rm(t){"object"==typeof t&&void 0!==t?.length||Bg("Invalid argument for bytesToString");var a=t.length;if(a<8192)return String.fromCharCode.apply(null,t);var r=[];for(let e=0;e<a;e+=8192){var i=Math.min(e+8192,a),i=t.subarray(e,i);r.push(String.fromCharCode.apply(null,i))}return r.join("")}function im(t){"string"!=typeof t&&Bg("Invalid argument for stringToBytes");var a=t.length,r=new Uint8Array(a);for(let e=0;e<a;++e)r[e]=255&t.charCodeAt(e);return r}function nm(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function sm(e){var t,a,r=Object.create(null);for([t,a]of e)r[t]=a;return r}function lm(){var e=new Uint8Array(4),e=(e[0]=1,new Uint32Array(e.buffer,0,1));return 1===e[0]}function om(){try{return new Function(""),!0}catch{return!1}}class cm{static get isLittleEndian(){return n(this,"isLittleEndian",lm())}static get isEvalSupported(){return n(this,"isEvalSupported",om())}static get isOffscreenCanvasSupported(){return n(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}static get platform(){return"undefined"!=typeof navigator&&"string"==typeof navigator?.platform?n(this,"platform",{isMac:navigator.platform.includes("Mac")}):n(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return n(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const gm=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class f{static makeHexColor(e,t,a){return"#"+gm[e]+gm[t]+gm[a]}static scaleMinMax(e,t){let a;e[0]?(e[0]<0&&(a=t[0],t[0]=t[2],t[2]=a),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(a=t[1],t[1]=t[3],t[3]=a),t[1]*=e[3],t[3]*=e[3]):(a=t[0],t[0]=t[1],t[1]=a,a=t[2],t[2]=t[3],t[3]=a,e[1]<0&&(a=t[1],t[1]=t[3],t[3]=a),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(a=t[0],t[0]=t[2],t[2]=a),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){var a=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/a,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/a]}static getAxialAlignedBoundingBox(e,t){var a=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),e=this.applyTransform([e[2],e[1]],t);return[Math.min(a[0],r[0],i[0],e[0]),Math.min(a[1],r[1],i[1],e[1]),Math.max(a[0],r[0],i[0],e[0]),Math.max(a[1],r[1],i[1],e[1])]}static inverseTransform(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){var t=[e[0],e[2],e[1],e[3]],a=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],e=e[2]*t[1]+e[3]*t[3],t=(a+e)/2,a=Math.sqrt((a+e)**2-4*(a*e-i*r))/2,e=t-a||1;return[Math.sqrt(t+a||1),Math.sqrt(e)]}static normalizeRect(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){var a,r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));return i<r||(a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),(e=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3])))<a)?null:[r,a,i,e]}static#getExtremumOnCurve(e,t,a,r,i,n,s,l,o,c){var g;o<=0||1<=o||(a=(g=1-o)*(g*(g*e+3*o*t)+3*(e=o*o)*a)+(t=e*o)*r,r=g*(g*(g*i+3*o*n)+3*e*s)+t*l,c[0]=Math.min(c[0],a),c[1]=Math.min(c[1],r),c[2]=Math.max(c[2],a),c[3]=Math.max(c[3],r))}static#getExtremum(e,t,a,r,i,n,s,l,o,c,g,m){Math.abs(o)<1e-12?1e-12<=Math.abs(c)&&this.#getExtremumOnCurve(e,t,a,r,i,n,s,l,-g/c,m):(g=c**2-4*g*o)<0||(g=Math.sqrt(g),this.#getExtremumOnCurve(e,t,a,r,i,n,s,l,(-c+g)/(o=2*o),m),this.#getExtremumOnCurve(e,t,a,r,i,n,s,l,(-c-g)/o,m))}static bezierBoundingBox(e,t,a,r,i,n,s,l,o){return o?(o[0]=Math.min(o[0],e,s),o[1]=Math.min(o[1],t,l),o[2]=Math.max(o[2],e,s),o[3]=Math.max(o[3],t,l)):o=[Math.min(e,s),Math.min(t,l),Math.max(e,s),Math.max(t,l)],this.#getExtremum(e,a,i,s,t,r,n,l,3*(3*(a-i)-e+s),6*(e-2*a+i),3*(a-e),o),this.#getExtremum(e,a,i,s,t,r,n,l,3*(3*(r-n)-t+l),6*(t-2*r+n),3*(r-t),o),o}}let mm=null,dm=null;function pm(){if("undefined"!=typeof crypto&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();var t=new Uint8Array(32);if("undefined"!=typeof crypto&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(255*Math.random());return rm(t)}const um="pdfjs_internal_id_",hm={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class ym{constructor(){this.constructor===ym&&Bg("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,a,r,i){return"none"}destroy(e=0){}}class _m{#enableHWA=!1;constructor({enableHWA:e=!1}={}){this.constructor===_m&&Bg("Cannot initialize BaseCanvasFactory."),this.#enableHWA=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");e=this._createCanvas(e,t);return{canvas:e,context:e.getContext("2d",{willReadFrequently:!this.#enableHWA})}}reset(e,t,a){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||a<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=a}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Bg("Abstract method `_createCanvas` called.")}}class Sm{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Sm&&Bg("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");e=this.isCompressed?$g.BINARY:$g.NONE;return this._fetchData(t,e).catch(e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: `+t)})}_fetchData(e,t){Bg("Abstract method `_fetchData` called.")}}class fm{constructor({baseUrl:e=null}){this.constructor===fm&&Bg("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=""+this.baseUrl+e;return this._fetchData(t).catch(e=>{throw new Error("Unable to load font data at: "+t)})}_fetchData(e){Bg("Abstract method `_fetchData` called.")}}const Pm="http://www.w3.org/2000/svg";class Cm{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}(class{[ym](){}});(class{[_m](){}});async function bm(r,i="text"){if(km(r,document.baseURI)){var e=await fetch(r);if(!e.ok)throw new Error(e.statusText);switch(i){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,t)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType=i,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE)if(200===a.status||0===a.status){switch(i){case"arraybuffer":case"blob":case"json":return void e(a.response)}e(a.responseText)}else t(new Error(a.statusText))},a.send(null)})}class qm extends Sm{_fetchData(e,t){return bm(e,this.isCompressed?"arraybuffer":"text").then(e=>({cMapData:e instanceof ArrayBuffer?new Uint8Array(e):im(e),compressionType:t}))}}class vm extends fm{_fetchData(e){return bm(e,"arraybuffer").then(e=>new Uint8Array(e))}}class wm extends class Vu{constructor(){this.constructor===Vu&&Bg("Cannot initialize BaseSVGFactory.")}create(e,t,a=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");var r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),a||(r.setAttribute("width",e+"px"),r.setAttribute("height",t+"px")),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} `+t),r}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Bg("Abstract method `_createSVG` called.")}}{_createSVG(e){return document.createElementNS(Pm,e)}}class Jm{constructor({viewBox:e,scale:t,rotation:a,offsetX:r=0,offsetY:i=0,dontFlip:n=!1}){this.viewBox=e,this.scale=t,this.rotation=a,this.offsetX=r,this.offsetY=i;var s=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let o,c,g,m;switch((a%=360)<0&&(a+=360),a){case 180:o=-1,c=0,g=0,m=1;break;case 90:o=0,c=1,g=1,m=0;break;case 270:o=0,c=-1,g=-1,m=0;break;case 0:o=1,c=0,g=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}n&&(g=-g,m=-m);let d,p,u,h;h=0===o?(d=Math.abs(l-e[1])*t+r,p=Math.abs(s-e[0])*t+i,u=(e[3]-e[1])*t,(e[2]-e[0])*t):(d=Math.abs(s-e[0])*t+r,p=Math.abs(l-e[1])*t+i,u=(e[2]-e[0])*t,(e[3]-e[1])*t),this.transform=[o*t,c*t,g*t,m*t,d-o*t*s-g*t*l,p-c*t*s-m*t*l],this.width=u,this.height=h}get rawDims(){var e=this["viewBox"];return n(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:a=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}={}){return new Jm({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:a,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return f.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){var t=f.applyTransform([e[0],e[1]],this.transform),e=f.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],e[0],e[1]]}convertToPdfPoint(e,t){return f.applyInverseTransform([e,t],this.transform)}}class Gm extends jg{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Am(e){var t=e.length;let a=0;for(;a<t&&""===e[a].trim();)a++;return"data:"===e.substring(a,a+5).toLowerCase()}function Tm(e){return"string"==typeof e&&/\.pdf$/i.test(e)}class Xm{started=Object.create(null);times=[];time(e){e in this.started&&G("Timer is already running for "+e),this.started[e]=Date.now()}timeEnd(e){e in this.started||G("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){var e,t,a,r,i=[];let n=0;for({name:e}of this.times)n=Math.max(e.length,n);for({name:t,start:a,end:r}of this.times)i.push(`${t.padEnd(n)} ${r-a}ms\n`);return i.join("")}}function km(e,t){try{var a=(t?new URL(e,t):new URL(e))["protocol"];return"http:"===a||"https:"===a}catch{return!1}}function xm(e){e.preventDefault()}function Lm(e){console.log("Deprecated API usage: "+e)}let Em;class Mm{static toDateObject(e){if(!e||"string"!=typeof e)return null;e=(Em||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")).exec(e);if(!e)return null;var t=parseInt(e[1],10),a=1<=(a=parseInt(e[2],10))&&a<=12?a-1:0,r=1<=(r=parseInt(e[3],10))&&r<=31?r:1;let i=parseInt(e[4],10),n=(i=0<=i&&i<=23?i:0,parseInt(e[5],10));n=0<=n&&n<=59?n:0;var s=0<=(s=parseInt(e[6],10))&&s<=59?s:0,l=e[7]||"Z",o=0<=(o=parseInt(e[8],10))&&o<=23?o:0,e=0<=(e=parseInt(e[9],10)||0)&&e<=59?e:0;return"-"===l?(i+=o,n+=e):"+"===l&&(i-=o,n-=e),new Date(Date.UTC(t,a,r,i,n,s))}}function Im(e){var t;return e.startsWith("#")?[(16711680&(t=parseInt(e.slice(1),16)))>>16,(65280&t)>>8,255&t]:e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(G(`Not a valid color format: "${e}"`),[0,0,0])}function Dm(e){var t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const r of e.keys()){t.style.color=r;var a=window.getComputedStyle(t).color;e.set(r,Im(a))}t.remove()}function $m(e){var{a:e,b:t,c:a,d:r,e:i,f:n}=e.getTransform();return[e,t,a,r,i,n]}function Fm(e){var{a:e,b:t,c:a,d:r,e:i,f:n}=e.getTransform().invertSelf();return[e,t,a,r,i,n]}function Om(e,t,a=!1,r=!0){var i,n,s,l;t instanceof Jm&&({pageWidth:s,pageHeight:n}=t.rawDims,i=e["style"],s=`var(--scale-factor) * ${s}px`,n=`var(--scale-factor) * ${n}px`,s=(l=cm.isCSSRoundSupported)?`round(${s}, 1px)`:`calc(${s})`,l=l?`round(${n}, 1px)`:`calc(${n})`,a&&t.rotation%180!=0?(i.width=l,i.height=s):(i.width=s,i.height=l)),r&&e.setAttribute("data-main-rotation",t.rotation)}class Rm{#toolbar=null;#colorPicker=null;#editor;#buttons=null;constructor(e){this.#editor=e}render(){var e,t,a=this.#toolbar=document.createElement("div"),r=(a.className="editToolbar",a.setAttribute("role","toolbar"),this.#editor._uiManager._signal),r=(a.addEventListener("contextmenu",xm,{signal:r}),a.addEventListener("pointerdown",Rm.#pointerDown,{signal:r}),this.#buttons=document.createElement("div")),r=(r.className="buttons",a.append(r),this.#editor.toolbarPosition);return r&&(e=a["style"],t="ltr"===this.#editor._uiManager.direction?1-r[0]:r[0],e.insetInlineEnd=100*t+"%",e.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`),this.#addDeleteButton(),a}static#pointerDown(e){e.stopPropagation()}#focusIn(e){this.#editor._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#focusOut(e){this.#editor._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#addListenersToElement(e){var t=this.#editor._uiManager._signal;e.addEventListener("focusin",this.#focusIn.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#focusOut.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",xm,{signal:t})}hide(){this.#toolbar.classList.add("hidden"),this.#colorPicker?.hideDropdown()}show(){this.#toolbar.classList.remove("hidden")}#addDeleteButton(){var e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#editor.editorType}-button`),this.#addListenersToElement(e),e.addEventListener("click",e=>{this.#editor._uiManager.delete()},{signal:this.#editor._uiManager._signal}),this.#buttons.append(e)}get#divider(){var e=document.createElement("div");return e.className="divider",e}addAltTextButton(e){this.#addListenersToElement(e),this.#buttons.prepend(e,this.#divider)}addColorPicker(e){e=(this.#colorPicker=e).renderButton();this.#addListenersToElement(e),this.#buttons.prepend(e,this.#divider)}remove(){this.#toolbar.remove(),this.#colorPicker?.destroy(),this.#colorPicker=null}}class Hm{#buttons=null;#toolbar=null;#uiManager;constructor(e){this.#uiManager=e}#render(){var e=this.#toolbar=document.createElement("div"),t=(e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",xm,{signal:this.#uiManager._signal}),this.#buttons=document.createElement("div"));return t.className="buttons",e.append(t),this.#addHighlightButton(),e}#getLastPoint(e,t){let a=0,r=0;for(const s of e){var i,n=s.y+s.height;n<a||(i=s.x+(t?s.width:0),n>a?(r=i,a=n):t?i>r&&(r=i):i<r&&(r=i))}return[t?1-r:r,a]}show(e,t,a){var[t,a]=this.#getLastPoint(t,a),r=(this.#toolbar||=this.#render())["style"];e.append(this.#toolbar),r.insetInlineEnd=100*t+"%",r.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#toolbar.remove()}#addHighlightButton(){var e=document.createElement("button"),t=(e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1"),document.createElement("span")),t=(e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),this.#uiManager._signal);e.addEventListener("contextmenu",xm,{signal:t}),e.addEventListener("click",()=>{this.#uiManager.highlightSelection("floating_button")},{signal:t}),this.#buttons.append(e)}}function Nm(e,t,a){for(const r of a)t.addEventListener(r,e[r].bind(e))}function Bm(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}class Vm{#id=0;get id(){return"pdfjs_internal_editor_"+this.#id++}}class zm{#baseId=pm();#id=0;#cache=null;static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n(this,"_isSVGFittingCanvas",t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])))}async#get(e,t){this.#cache||=new Map;let a=this.#cache.get(e);if(null===a)return null;if(a?.bitmap)a.refCounter+=1;else{try{a||={bitmap:null,id:`image_${this.#baseId}_`+this.#id++,refCounter:0,isSvg:!1};let e;if("image/svg+xml"===(e="string"==typeof t?await bm(a.url=t,"blob"):a.file=t).type){const i=zm._isSVGFittingCanvas,n=new FileReader,s=new Image;var r=new Promise((e,t)=>{s.onload=()=>{a.bitmap=s,a.isSvg=!0,e()},n.onload=async()=>{var e=a.svgUrl=n.result;s.src=await i?e+"#svgView(preserveAspectRatio(none))":e},s.onerror=n.onerror=t});n.readAsDataURL(e),await r}else a.bitmap=await createImageBitmap(e);a.refCounter=1}catch(e){console.error(e),a=null}this.#cache.set(e,a),a&&this.#cache.set(a.id,a)}return a}async getFromFile(e){var{lastModified:t,name:a,size:r,type:i}=e;return this.#get(t+`_${a}_${r}_`+i,e)}async getFromUrl(e){return this.#get(e,e)}async getFromId(e){this.#cache||=new Map;e=this.#cache.get(e);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(e){e=this.#cache.get(e);return e?.isSvg?e.svgUrl:null}deleteId(e){this.#cache||=new Map;e=this.#cache.get(e);e&&(--e.refCounter,0===e.refCounter)&&(e.bitmap=null)}isValidId(e){return e.startsWith(`image_${this.#baseId}_`)}}class Um{#commands=[];#locked=!1;#maxSize;#position=-1;constructor(e=128){this.#maxSize=e}add({cmd:e,undo:t,post:a,mustExec:r,type:i=NaN,overwriteIfSameType:n=!1,keepUndo:s=!1}){r&&e(),this.#locked||(r={cmd:e,undo:t,post:a,type:i},-1===this.#position?(0<this.#commands.length&&(this.#commands.length=0),this.#position=0,this.#commands.push(r)):n&&this.#commands[this.#position].type===i?(s&&(r.undo=this.#commands[this.#position].undo),this.#commands[this.#position]=r):((e=this.#position+1)===this.#maxSize?this.#commands.splice(0,1):(this.#position=e)<this.#commands.length&&this.#commands.splice(e),this.#commands.push(r)))}undo(){var e,t;-1!==this.#position&&(this.#locked=!0,{undo:e,post:t}=this.#commands[this.#position],e(),t?.(),this.#locked=!1,--this.#position)}redo(){var e,t;this.#position<this.#commands.length-1&&(this.#position+=1,this.#locked=!0,{cmd:e,post:t}=this.#commands[this.#position],e(),t?.(),this.#locked=!1)}hasSomethingToUndo(){return-1!==this.#position}hasSomethingToRedo(){return this.#position<this.#commands.length-1}destroy(){this.#commands=null}}class jm{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;var t,a,r,i=cm.platform["isMac"];for([t,a,r={}]of e)for(const s of t){var n=s.startsWith("mac+");i&&n?(this.callbacks.set(s.slice(4),{callback:a,options:r}),this.allKeys.add(s.split("+").at(-1))):i||n||(this.callbacks.set(s,{callback:a,options:r}),this.allKeys.add(s.split("+").at(-1)))}}#serialize(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);e=this.buffer.join("+");return this.buffer.length=0,e}exec(e,t){var a,r,i,n;this.allKeys.has(t.key)&&(a=this.callbacks.get(this.#serialize(t)))&&({callback:a,options:{bubbles:r=!1,args:i=[],checker:n=null}}=a,n&&!n(e,t)||(a.bind(e,...i,t)(),r)||(t.stopPropagation(),t.preventDefault()))}}class Wm{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){var e=new Map([["CanvasText",null],["Canvas",null]]);return Dm(e),n(this,"_colors",e)}convert(e){const a=Im(e);if(window.matchMedia("(forced-colors: active)").matches)for(var[t,r]of this._colors)if(r.every((e,t)=>e===a[t]))return Wm._colorsMapping.get(t);return a}getHexCode(e){var t=this._colors.get(e);return t?f.makeHexColor(...t):e}}class Zm{#abortController=new AbortController;#activeEditor=null;#allEditors=new Map;#allLayers=new Map;#altTextManager=null;#annotationStorage=null;#changedExistingAnnotations=null;#commandManager=new Um;#currentPageIndex=0;#deletedAnnotationsElementIds=new Set;#draggingEditors=null;#editorTypes=null;#editorsToRescale=new Set;#enableHighlightFloatingButton=!1;#filterFactory=null;#focusMainContainerTimeoutId=null;#highlightColors=null;#highlightWhenShiftUp=!1;#highlightToolbar=null;#idManager=new Vm;#isEnabled=!1;#isWaiting=!1;#lastActiveElement=null;#mainHighlightColorPicker=null;#mlManager=null;#mode=d.NONE;#selectedEditors=new Set;#selectedTextNode=null;#pageColors=null;#showAllStates=null;#boundBlur=this.blur.bind(this);#boundFocus=this.focus.bind(this);#boundCopy=this.copy.bind(this);#boundCut=this.cut.bind(this);#boundPaste=this.paste.bind(this);#boundKeydown=this.keydown.bind(this);#boundKeyup=this.keyup.bind(this);#boundOnEditingAction=this.onEditingAction.bind(this);#boundOnPageChanging=this.onPageChanging.bind(this);#boundOnScaleChanging=this.onScaleChanging.bind(this);#boundOnRotationChanging=this.onRotationChanging.bind(this);#previousStates={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#translation=[0,0];#translationTimeoutId=null;#container=null;#viewer=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){var e=Zm.prototype,t=e=>e.#container.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),a=(e,{target:t})=>{return!(t instanceof HTMLInputElement)||(t=t["type"],"text"!==t&&"number"!==t)},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return n(this,"_keyboardManager",new jm([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:a}],[["ctrl+z","mac+meta+z"],e.undo,{checker:a}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:a}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:a}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&e.#container.contains(t)&&!e.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&e.#container.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,a,r,i,n,s,l,o){this._signal=this.#abortController.signal,this.#container=e,this.#viewer=t,this.#altTextManager=a,this._eventBus=r,this._eventBus._on("editingaction",this.#boundOnEditingAction),this._eventBus._on("pagechanging",this.#boundOnPageChanging),this._eventBus._on("scalechanging",this.#boundOnScaleChanging),this._eventBus._on("rotationchanging",this.#boundOnRotationChanging),this.#addSelectionListener(),this.#addDragAndDropListeners(),this.#addKeyboardManager(),this.#annotationStorage=i.annotationStorage,this.#filterFactory=i.filterFactory,this.#pageColors=n,this.#highlightColors=s||null,this.#enableHighlightFloatingButton=l,this.#mlManager=o||null,this.viewParameters={realScale:Cm.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#abortController?.abort(),this.#abortController=null,this._signal=null,this._eventBus._off("editingaction",this.#boundOnEditingAction),this._eventBus._off("pagechanging",this.#boundOnPageChanging),this._eventBus._off("scalechanging",this.#boundOnScaleChanging),this._eventBus._off("rotationchanging",this.#boundOnRotationChanging);for(const e of this.#allLayers.values())e.destroy();this.#allLayers.clear(),this.#allEditors.clear(),this.#editorsToRescale.clear(),this.#activeEditor=null,this.#selectedEditors.clear(),this.#commandManager.destroy(),this.#altTextManager?.destroy(),this.#highlightToolbar?.hide(),this.#highlightToolbar=null,this.#focusMainContainerTimeoutId&&(clearTimeout(this.#focusMainContainerTimeoutId),this.#focusMainContainerTimeoutId=null),this.#translationTimeoutId&&(clearTimeout(this.#translationTimeoutId),this.#translationTimeoutId=null)}async mlGuess(e){return this.#mlManager?.guess(e)||null}get hasMLManager(){return!!this.#mlManager}get hcmFilter(){return n(this,"hcmFilter",this.#pageColors?this.#filterFactory.addHCMFilter(this.#pageColors.foreground,this.#pageColors.background):"none")}get direction(){return n(this,"direction",getComputedStyle(this.#container).direction)}get highlightColors(){return n(this,"highlightColors",this.#highlightColors?new Map(this.#highlightColors.split(",").map(e=>e.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return n(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){this.#mainHighlightColorPicker=e}editAltText(e){this.#altTextManager?.editAltText(this,e)}onPageChanging({pageNumber:e}){this.#currentPageIndex=e-1}focusMainContainer(){this.#container.focus()}findParent(e,t){for(const s of this.#allLayers.values()){var{x:a,y:r,width:i,height:n}=s.div.getBoundingClientRect();if(a<=e&&e<=a+i&&r<=t&&t<=r+n)return s}return null}disableUserSelect(e=!1){this.#viewer.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#editorsToRescale.add(e)}removeShouldRescale(e){this.#editorsToRescale.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Cm.PDF_TO_CSS_UNITS;for(const t of this.#editorsToRescale)t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#getAnchorElementForSelection({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}highlightSelection(e=""){var t=document.getSelection();if(t&&!t.isCollapsed){var{anchorNode:a,anchorOffset:r,focusNode:i,focusOffset:n}=t,s=t.toString(),l=this.#getAnchorElementForSelection(t).closest(".textLayer"),o=this.getSelectionBoxes(l);if(o){t.empty(),this.#mode===d.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:d.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const c of this.#allLayers.values())if(c.hasTextLayer(l)){c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:o,anchorNode:a,anchorOffset:r,focusNode:i,focusOffset:n,text:s});break}}}}#displayHighlightToolbar(){var e,t=document.getSelection();t&&!t.isCollapsed&&(t=this.#getAnchorElementForSelection(t).closest(".textLayer"),e=this.getSelectionBoxes(t))&&(this.#highlightToolbar||=new Hm(this),this.#highlightToolbar.show(t,e,"ltr"===this.direction))}addToAnnotationStorage(e){e.isEmpty()||!this.#annotationStorage||this.#annotationStorage.has(e.id)||this.#annotationStorage.setValue(e.id,e)}#selectionChange(){var e=document.getSelection();if(!e||e.isCollapsed)this.#selectedTextNode&&(this.#highlightToolbar?.hide(),this.#selectedTextNode=null,this.#dispatchUpdateStates({hasSelectedText:!1}));else{var t=e["anchorNode"];if(t!==this.#selectedTextNode)if(this.#getAnchorElementForSelection(e).closest(".textLayer")){if(this.#highlightToolbar?.hide(),this.#selectedTextNode=t,this.#dispatchUpdateStates({hasSelectedText:!0}),(this.#mode===d.HIGHLIGHT||this.#mode===d.NONE)&&(this.#mode===d.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#highlightWhenShiftUp=this.isShiftKeyDown,!this.isShiftKeyDown)){e=this._signal;const a=e=>{"pointerup"===e.type&&0!==e.button||(window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),"pointerup"===e.type&&this.#onSelectEnd("main_toolbar"))};window.addEventListener("pointerup",a,{signal:e}),window.addEventListener("blur",a,{signal:e})}}else this.#selectedTextNode&&(this.#highlightToolbar?.hide(),this.#selectedTextNode=null,this.#dispatchUpdateStates({hasSelectedText:!1}))}}#onSelectEnd(e=""){this.#mode===d.HIGHLIGHT?this.highlightSelection(e):this.#enableHighlightFloatingButton&&this.#displayHighlightToolbar()}#addSelectionListener(){document.addEventListener("selectionchange",this.#selectionChange.bind(this),{signal:this._signal})}#addFocusManager(){var e=this._signal;window.addEventListener("focus",this.#boundFocus,{signal:e}),window.addEventListener("blur",this.#boundBlur,{signal:e})}#removeFocusManager(){window.removeEventListener("focus",this.#boundFocus),window.removeEventListener("blur",this.#boundBlur)}blur(){if(this.isShiftKeyDown=!1,this.#highlightWhenShiftUp&&(this.#highlightWhenShiftUp=!1,this.#onSelectEnd("main_toolbar")),this.hasSelection){var e=document["activeElement"];for(const t of this.#selectedEditors)if(t.div.contains(e)){this.#lastActiveElement=[t,e],t._focusEventsAllowed=!1;break}}}focus(){if(this.#lastActiveElement){const[e,t]=this.#lastActiveElement;this.#lastActiveElement=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}}#addKeyboardManager(){var e=this._signal;window.addEventListener("keydown",this.#boundKeydown,{signal:e}),window.addEventListener("keyup",this.#boundKeyup,{signal:e})}#removeKeyboardManager(){window.removeEventListener("keydown",this.#boundKeydown),window.removeEventListener("keyup",this.#boundKeyup)}#addCopyPasteListeners(){var e=this._signal;document.addEventListener("copy",this.#boundCopy,{signal:e}),document.addEventListener("cut",this.#boundCut,{signal:e}),document.addEventListener("paste",this.#boundPaste,{signal:e})}#removeCopyPasteListeners(){document.removeEventListener("copy",this.#boundCopy),document.removeEventListener("cut",this.#boundCut),document.removeEventListener("paste",this.#boundPaste)}#addDragAndDropListeners(){var e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#addKeyboardManager(),this.#addCopyPasteListeners()}removeEditListeners(){this.#removeKeyboardManager(),this.#removeCopyPasteListeners()}dragOver(e){for(var{type:t}of e.dataTransfer.items)for(const a of this.#editorTypes)if(a.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const a of this.#editorTypes)if(a.isHandlingMimeForPasting(t.type))return a.paste(t,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#activeEditor?.commitOrRemove(),this.hasSelection){var t=[];for(const r of this.#selectedEditors){var a=r.serialize(!0);a&&t.push(a)}0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();e=e.clipboardData;for(const i of e.items)for(const n of this.#editorTypes)if(n.isHandlingMimeForPasting(i.type))return void n.paste(i,this.currentLayer);let t=e.getData("application/pdfjs");if(t){try{t=JSON.parse(t)}catch(e){return void G(`paste: "${e.message}".`)}if(Array.isArray(t)){this.unselectAll();var a=this.currentLayer;try{const s=[];for(const l of t){var r=a.deserialize(l);if(!r)return;s.push(r)}this.addCommands({cmd:()=>{for(const e of s)this.#addEditorToLayer(e);this.#selectEditors(s)},undo:()=>{for(const e of s)e.remove()},mustExec:!0})}catch(e){G(`paste: "${e.message}".`)}}}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),this.#mode===d.NONE||this.isEditorHandlingKeyboard||Zm._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#highlightWhenShiftUp)&&(this.#highlightWhenShiftUp=!1,this.#onSelectEnd("main_toolbar"))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#dispatchUpdateStates(e){Object.entries(e).some(([e,t])=>this.#previousStates[e]!==t)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#previousStates,e)}),this.#mode===d.HIGHLIGHT)&&!1===e.hasSelectedEditor&&this.#dispatchUpdateUI([[i.HIGHLIGHT_FREE,!0]])}#dispatchUpdateUI(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#addFocusManager(),this.#addCopyPasteListeners(),this.#dispatchUpdateStates({isEditing:this.#mode!==d.NONE,isEmpty:this.#isEmpty(),hasSomethingToUndo:this.#commandManager.hasSomethingToUndo(),hasSomethingToRedo:this.#commandManager.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#removeFocusManager(),this.#removeCopyPasteListeners(),this.#dispatchUpdateStates({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#editorTypes){this.#editorTypes=e;for(const t of this.#editorTypes)this.#dispatchUpdateUI(t.defaultPropertiesToUpdate)}}getId(){return this.#idManager.id}get currentLayer(){return this.#allLayers.get(this.#currentPageIndex)}getLayer(e){return this.#allLayers.get(e)}get currentPageIndex(){return this.#currentPageIndex}addLayer(e){this.#allLayers.set(e.pageIndex,e),this.#isEnabled?e.enable():e.disable()}removeLayer(e){this.#allLayers.delete(e.pageIndex)}updateMode(e,t=null,a=!1){if(this.#mode!==e)if((this.#mode=e)===d.NONE)this.setEditingState(!1),this.#disableAll();else{this.setEditingState(!0),this.#enableAll(),this.unselectAll();for(const r of this.#allLayers.values())r.updateMode(e);if(!t&&a)this.addNewEditorFromKeyboard();else if(t)for(const i of this.#allEditors.values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#mode&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#editorTypes){switch(e){case i.CREATE:return void this.currentLayer.addNewEditor();case i.HIGHLIGHT_DEFAULT_COLOR:this.#mainHighlightColorPicker?.updateColor(t);break;case i.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#showAllStates||=new Map).set(e,t),this.showAllEditors("highlight",t)}for(const a of this.#selectedEditors)a.updateParams(e,t);for(const r of this.#editorTypes)r.updateDefaultParams(e,t)}}showAllEditors(e,t,a=0){for(const r of this.#allEditors.values())r.editorType===e&&r.show(t);(this.#showAllStates?.get(i.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#dispatchUpdateUI([[i.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#isWaiting!==e){this.#isWaiting=e;for(const t of this.#allLayers.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}#enableAll(){if(!this.#isEnabled){this.#isEnabled=!0;for(const e of this.#allLayers.values())e.enable();for(const t of this.#allEditors.values())t.enable()}}#disableAll(){if(this.unselectAll(),this.#isEnabled){this.#isEnabled=!1;for(const e of this.#allLayers.values())e.disable();for(const t of this.#allEditors.values())t.disable()}}getEditors(e){var t=[];for(const a of this.#allEditors.values())a.pageIndex===e&&t.push(a);return t}getEditor(e){return this.#allEditors.get(e)}addEditor(e){this.#allEditors.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#focusMainContainerTimeoutId&&clearTimeout(this.#focusMainContainerTimeoutId),this.#focusMainContainerTimeoutId=setTimeout(()=>{this.focusMainContainer(),this.#focusMainContainerTimeoutId=null},0)),this.#allEditors.delete(e.id),this.unselect(e),e.annotationElementId&&this.#deletedAnnotationsElementIds.has(e.annotationElementId)||this.#annotationStorage?.remove(e.id)}addDeletedAnnotationElement(e){this.#deletedAnnotationsElementIds.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#deletedAnnotationsElementIds.has(e)}removeDeletedAnnotationElement(e){this.#deletedAnnotationsElementIds.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#addEditorToLayer(e){var t=this.#allLayers.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#activeEditor!==e&&(this.#activeEditor=e)&&this.#dispatchUpdateUI(e.propertiesToUpdate)}get#lastSelectedEditor(){let e=null;for(e of this.#selectedEditors);return e}updateUI(e){this.#lastSelectedEditor===e&&this.#dispatchUpdateUI(e.propertiesToUpdate)}toggleSelected(e){this.#selectedEditors.has(e)?(this.#selectedEditors.delete(e),e.unselect(),this.#dispatchUpdateStates({hasSelectedEditor:this.hasSelection})):(this.#selectedEditors.add(e),e.select(),this.#dispatchUpdateUI(e.propertiesToUpdate),this.#dispatchUpdateStates({hasSelectedEditor:!0}))}setSelected(e){for(const t of this.#selectedEditors)t!==e&&t.unselect();this.#selectedEditors.clear(),this.#selectedEditors.add(e),e.select(),this.#dispatchUpdateUI(e.propertiesToUpdate),this.#dispatchUpdateStates({hasSelectedEditor:!0})}isSelected(e){return this.#selectedEditors.has(e)}get firstSelectedEditor(){return this.#selectedEditors.values().next().value}unselect(e){e.unselect(),this.#selectedEditors.delete(e),this.#dispatchUpdateStates({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#selectedEditors.size}get isEnterHandled(){return 1===this.#selectedEditors.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#commandManager.undo(),this.#dispatchUpdateStates({hasSomethingToUndo:this.#commandManager.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#isEmpty()})}redo(){this.#commandManager.redo(),this.#dispatchUpdateStates({hasSomethingToUndo:!0,hasSomethingToRedo:this.#commandManager.hasSomethingToRedo(),isEmpty:this.#isEmpty()})}addCommands(e){this.#commandManager.add(e),this.#dispatchUpdateStates({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#isEmpty()})}#isEmpty(){if(0===this.#allEditors.size)return!0;if(1===this.#allEditors.size)for(const e of this.#allEditors.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),this.hasSelection){const t=[...this.#selectedEditors];this.addCommands({cmd:()=>{for(const e of t)e.remove()},undo:()=>{for(const e of t)this.#addEditorToLayer(e)},mustExec:!0})}}commitOrRemove(){this.#activeEditor?.commitOrRemove()}hasSomethingToControl(){return this.#activeEditor||this.hasSelection}#selectEditors(e){for(const t of this.#selectedEditors)t.unselect();this.#selectedEditors.clear();for(const a of e)a.isEmpty()||(this.#selectedEditors.add(a),a.select());this.#dispatchUpdateStates({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#selectedEditors)e.commit();this.#selectEditors(this.#allEditors.values())}unselectAll(){if((!this.#activeEditor||(this.#activeEditor.commitOrRemove(),this.#mode===d.NONE))&&this.hasSelection){for(const e of this.#selectedEditors)e.unselect();this.#selectedEditors.clear(),this.#dispatchUpdateStates({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,a=!1){if(a||this.commitOrRemove(),this.hasSelection){this.#translation[0]+=e,this.#translation[1]+=t;const[r,i]=this.#translation,n=[...this.#selectedEditors];this.#translationTimeoutId&&clearTimeout(this.#translationTimeoutId),this.#translationTimeoutId=setTimeout(()=>{this.#translationTimeoutId=null,this.#translation[0]=this.#translation[1]=0,this.addCommands({cmd:()=>{for(const e of n)this.#allEditors.has(e.id)&&e.translateInPage(r,i)},undo:()=>{for(const e of n)this.#allEditors.has(e.id)&&e.translateInPage(-r,-i)},mustExec:!1})},1e3);for(const s of n)s.translateInPage(e,t)}}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#draggingEditors=new Map;for(const e of this.#selectedEditors)this.#draggingEditors.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#draggingEditors)return!1;this.disableUserSelect(!1);const i=this.#draggingEditors;this.#draggingEditors=null;let e=!1;for(var[{x:t,y:a,pageIndex:r},n]of i)n.newX=t,n.newY=a,n.newPageIndex=r,e||=t!==n.savedX||a!==n.savedY||r!==n.savedPageIndex;if(!e)return!1;const s=(e,t,a,r)=>{var i;this.#allEditors.has(e.id)&&((i=this.#allLayers.get(r))?e._setParentAndPosition(i,t,a):(e.pageIndex=r,e.x=t,e.y=a))};return this.addCommands({cmd:()=>{for(var[e,{newX:t,newY:a,newPageIndex:r}]of i)s(e,t,a,r)},undo:()=>{for(var[e,{savedX:t,savedY:a,savedPageIndex:r}]of i)s(e,t,a,r)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#draggingEditors)for(const a of this.#draggingEditors.keys())a.drag(e,t)}rebuild(e){var t;null===e.parent?(t=this.getLayer(e.pageIndex))?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild()):e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#selectedEditors.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#activeEditor===e}getActive(){return this.#activeEditor}getMode(){return this.#mode}get imageManager(){return n(this,"imageManager",new zm)}getSelectionBoxes(a){if(!a)return null;var r=document.getSelection();for(let e=0,t=r.rangeCount;e<t;e++)if(!a.contains(r.getRangeAt(e).commonAncestorContainer))return null;const{x:i,y:n,width:s,height:l}=a.getBoundingClientRect();let o;switch(a.getAttribute("data-main-rotation")){case"90":o=(e,t,a,r)=>({x:(t-n)/l,y:1-(e+a-i)/s,width:r/l,height:a/s});break;case"180":o=(e,t,a,r)=>({x:1-(e+a-i)/s,y:1-(t+r-n)/l,width:a/s,height:r/l});break;case"270":o=(e,t,a,r)=>({x:1-(t+r-n)/l,y:(e-i)/s,width:r/l,height:a/s});break;default:o=(e,t,a,r)=>({x:(e-i)/s,y:(t-n)/l,width:a/s,height:r/l})}var c=[];for(let e=0,t=r.rangeCount;e<t;e++){var g=r.getRangeAt(e);if(!g.collapsed)for(var{x:m,y:d,width:p,height:u}of g.getClientRects())0!==p&&0!==u&&c.push(o(m,d,p,u))}return 0===c.length?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#changedExistingAnnotations||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#changedExistingAnnotations?.delete(e)}renderAnnotationElement(e){var t=this.#changedExistingAnnotations?.get(e.data.id);(t=t&&this.#annotationStorage.getRawValue(t))&&(this.#mode!==d.NONE||t.hasBeenModified)&&t.renderAnnotationElement(e)}}class Ym{#altText="";#altTextDecorative=!1;#altTextButton=null;#altTextTooltip=null;#altTextTooltipTimeout=null;#altTextWasFromKeyBoard=!1;#editor=null;static _l10nPromise=null;constructor(e){this.#editor=e}static initialize(e){Ym._l10nPromise||=e}async render(){const t=this.#altTextButton=document.createElement("button");t.className="altText";var e=await Ym._l10nPromise.get("pdfjs-editor-alt-text-button-label"),e=(t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0",this.#editor._uiManager._signal);t.addEventListener("contextmenu",xm,{signal:e}),t.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:e});const a=e=>{e.preventDefault(),this.#editor._uiManager.editAltText(this.#editor)};return t.addEventListener("click",a,{capture:!0,signal:e}),t.addEventListener("keydown",e=>{e.target===t&&"Enter"===e.key&&(this.#altTextWasFromKeyBoard=!0,a(e))},{signal:e}),await this.#setState(),t}finish(){this.#altTextButton&&(this.#altTextButton.focus({focusVisible:this.#altTextWasFromKeyBoard}),this.#altTextWasFromKeyBoard=!1)}isEmpty(){return!this.#altText&&!this.#altTextDecorative}get data(){return{altText:this.#altText,decorative:this.#altTextDecorative}}set data({altText:e,decorative:t}){this.#altText===e&&this.#altTextDecorative===t||(this.#altText=e,this.#altTextDecorative=t,this.#setState())}toggle(e=!1){this.#altTextButton&&(!e&&this.#altTextTooltipTimeout&&(clearTimeout(this.#altTextTooltipTimeout),this.#altTextTooltipTimeout=null),this.#altTextButton.disabled=!e)}destroy(){this.#altTextButton?.remove(),this.#altTextButton=null,this.#altTextTooltip=null}async#setState(){const t=this.#altTextButton;if(t)if(this.#altText||this.#altTextDecorative){t.classList.add("done"),Ym._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(e=>{t.setAttribute("aria-label",e)});let e=this.#altTextTooltip;if(!e){this.#altTextTooltip=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip");var a=e.id="alt-text-tooltip-"+this.#editor.id;t.setAttribute("aria-describedby",a);a=this.#editor._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#altTextTooltipTimeout),this.#altTextTooltipTimeout=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#altTextTooltipTimeout=setTimeout(()=>{this.#altTextTooltipTimeout=null,this.#altTextTooltip.classList.add("show"),this.#editor._reportTelemetry({action:"alt_text_tooltip"})},100)},{signal:a}),t.addEventListener("mouseleave",()=>{this.#altTextTooltipTimeout&&(clearTimeout(this.#altTextTooltipTimeout),this.#altTextTooltipTimeout=null),this.#altTextTooltip?.classList.remove("show")},{signal:a})}e.innerText=this.#altTextDecorative?await Ym._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#altText,e.parentNode||t.append(e),this.#editor.getImageForAltText()?.setAttribute("aria-describedby",e.id)}else t.classList.remove("done"),this.#altTextTooltip?.remove()}}class w{#accessibilityData=null;#allResizerDivs=null;#altText=null;#disabled=!1;#keepAspectRatio=!1;#resizersDiv=null;#savedDimensions=null;#boundFocusin=this.focusin.bind(this);#boundFocusout=this.focusout.bind(this);#editToolbar=null;#focusedResizerName="";#hasBeenClicked=!1;#initialPosition=null;#isEditing=!1;#isInEditMode=!1;#isResizerEnabledForKeyboard=!1;#moveInDOMTimeout=null;#prevDragX=0;#prevDragY=0;#telemetryTimeouts=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#isDraggable=!1;#zIndex=w._zIndex++;static _borderLineWidth=-1;static _colorManager=new Wm;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){var e=w.prototype._resizeWithKeyboard,t=Zm.TRANSLATE_SMALL,a=Zm.TRANSLATE_BIG;return n(this,"_resizerKeyboardManager",new jm([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-a,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[a,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-a]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,a]}],[["Escape","mac+Escape"],w.prototype._stopResizingWithKeyboard]]))}constructor(e){this.constructor===w&&Bg("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;var{rotation:t,rawDims:{pageWidth:a,pageHeight:r,pageX:i,pageY:n}}=this.parent.viewport,[t,a]=(this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,r],this.pageTranslation=[i,n],this.parentDimensions);this.x=e.x/t,this.y=e.y/a,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return n(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){var t=new Km({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(t,e,a){if(w._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(e=>[e,t.get(e.replaceAll(/([A-Z])/g,e=>"-"+e.toLowerCase()))])),a?.strings)for(const r of a.strings)w._l10nPromise.set(r,t.get(r));-1===w._borderLineWidth&&(a=getComputedStyle(document.documentElement),w._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0)}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Bg("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#isDraggable}set _isDraggable(e){this.#isDraggable=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){var[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#zIndex}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#stopResizing(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#hasBeenClicked?this.#hasBeenClicked=!1:this.parent.setSelected(this))}focusout(e){this._focusEventsAllowed&&this.isAttachedToDOM&&!e.relatedTarget?.closest("#"+this.id)&&(e.preventDefault(),!this.parent?.isMultipleSelection)&&this.commitOrRemove()}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,a,r){var[i,n]=this.parentDimensions;[a,r]=this.screenToPageTranslation(a,r),this.x=(e+a)/i,this.y=(t+r)/n,this.fixAndSetPosition()}#translate([e,t],a,r){[a,r]=this.screenToPageTranslation(a,r),this.x+=a/e,this.y+=r/t,this.fixAndSetPosition()}translate(e,t){this.#translate(this.parentDimensions,e,t)}translateInPage(e,t){this.#initialPosition||=[this.x,this.y],this.#translate(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#initialPosition||=[this.x,this.y];var[a,r]=this.parentDimensions;if(this.x+=e/a,this.y+=t/r,this.parent&&(this.x<0||1<this.x||this.y<0||1<this.y)){const{x:i,y:n}=this.div.getBoundingClientRect();this.parent.findNewParent(this,i,n)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:n}=this;var[e,a]=this.getBaseTranslation();i+=e,n+=a,this.div.style.left=(100*i).toFixed(2)+"%",this.div.style.top=(100*n).toFixed(2)+"%",this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#initialPosition&&(this.#initialPosition[0]!==this.x||this.#initialPosition[1]!==this.y)}getBaseTranslation(){var[e,t]=this.parentDimensions,a=w["_borderLineWidth"],r=a/e,i=a/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){var[t,a]=this.pageDimensions;let{x:r,y:i,width:n,height:s}=this;if(n*=t,s*=a,r*=t,i*=a,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-n,r)),i=Math.max(0,Math.min(a-s,i));break;case 90:r=Math.max(0,Math.min(t-s,r)),i=Math.min(a,Math.max(n,i));break;case 180:r=Math.min(t,Math.max(n,r)),i=Math.min(a,Math.max(s,i));break;case 270:r=Math.min(t,Math.max(s,r)),i=Math.max(0,Math.min(a-n,i))}this.x=r/=t,this.y=i/=a;var[e,l]=this.getBaseTranslation(),e=(r+=e,i+=l,this.div)["style"];e.left=(100*r).toFixed(2)+"%",e.top=(100*i).toFixed(2)+"%",this.moveInDOM()}static#rotatePoint(e,t,a){switch(a){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return w.#rotatePoint(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return w.#rotatePoint(e,t,360-this.parentRotation)}#getRotationMatrix(e){switch(e){case 90:var[t,a]=this.pageDimensions;return[0,-t/a,a/t,0];case 180:return[-1,0,0,-1];case 270:var[a,t]=this.pageDimensions;return[0,a/t,-t/a,0];default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){var{parentScale:e,pageDimensions:[t,a]}=this,t=t*e,a=a*e;return cm.isCSSRoundSupported?[Math.round(t),Math.round(a)]:[t,a]}setDims(e,t){var[a,r]=this.parentDimensions;this.div.style.width=(100*e/a).toFixed(2)+"%",this.#keepAspectRatio||(this.div.style.height=(100*t/r).toFixed(2)+"%")}fixDims(){var e,t,a=this.div["style"],{height:r,width:i}=a,n=i.endsWith("%"),s=!this.#keepAspectRatio&&r.endsWith("%");n&&s||([e,t]=this.parentDimensions,n||(a.width=(100*parseFloat(i)/e).toFixed(2)+"%"),this.#keepAspectRatio)||s||(a.height=(100*parseFloat(r)/t).toFixed(2)+"%")}getInitialTranslation(){return[0,0]}#createResizers(){if(!this.#resizersDiv){this.#resizersDiv=document.createElement("div"),this.#resizersDiv.classList.add("resizers");var e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){var a=document.createElement("div");this.#resizersDiv.append(a),a.classList.add("resizer",r),a.setAttribute("data-resizer-name",r),a.addEventListener("pointerdown",this.#resizerPointerdown.bind(this,r),{signal:t}),a.addEventListener("contextmenu",xm,{signal:t}),a.tabIndex=-1}this.div.prepend(this.#resizersDiv)}}#resizerPointerdown(e,t){t.preventDefault();var a=cm.platform["isMac"];if(!(0!==t.button||t.ctrlKey&&a)){this.#altText?.toggle(!1);const r=this.#resizerPointermove.bind(this,e),i=this._isDraggable;this._isDraggable=!1;a=this._uiManager._signal;const n={passive:!0,capture:!0,signal:a},s=(this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,n),window.addEventListener("contextmenu",xm,{signal:a}),this.x),l=this.y,o=this.width,c=this.height,g=this.parent.div.style.cursor,m=this.div.style.cursor,d=(this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor,()=>{this.parent.togglePointerEvents(!0),this.#altText?.toggle(!0),this._isDraggable=i,window.removeEventListener("pointerup",d),window.removeEventListener("blur",d),window.removeEventListener("pointermove",r,n),window.removeEventListener("contextmenu",xm),this.parent.div.style.cursor=g,this.div.style.cursor=m,this.#addResizeToUndoStack(s,l,o,c)});window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})}}#addResizeToUndoStack(a,r,i,n){const s=this.x,l=this.y,o=this.width,c=this.height;s===a&&l===r&&o===i&&c===n||this.addCommands({cmd:()=>{this.width=o,this.height=c,this.x=s,this.y=l;var[e,t]=this.parentDimensions;this.setDims(e*o,t*c),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=n,this.x=a,this.y=r;var[e,t]=this.parentDimensions;this.setDims(e*i,t*n),this.fixAndSetPosition()},mustExec:!0})}#resizerPointermove(e,t){var[a,r]=this.parentDimensions,i=this.x,n=this.y,s=this.width,l=this.height,o=w.MIN_SIZE/a,c=w.MIN_SIZE/r,g=e=>Math.round(1e4*e)/1e4;const m=this.#getRotationMatrix(this.rotation);var d=(e,t)=>[m[0]*e+m[2]*t,m[1]*e+m[3]*t];const p=this.#getRotationMatrix(360-this.rotation);let u,h,y=!1,_=!1;switch(e){case"topLeft":y=!0,u=(e,t)=>[0,0],h=(e,t)=>[e,t];break;case"topMiddle":u=(e,t)=>[e/2,0],h=(e,t)=>[e/2,t];break;case"topRight":y=!0,u=(e,t)=>[e,0],h=(e,t)=>[0,t];break;case"middleRight":_=!0,u=(e,t)=>[e,t/2],h=(e,t)=>[0,t/2];break;case"bottomRight":y=!0,u=(e,t)=>[e,t],h=(e,t)=>[0,0];break;case"bottomMiddle":u=(e,t)=>[e/2,t],h=(e,t)=>[e/2,0];break;case"bottomLeft":y=!0,u=(e,t)=>[0,t],h=(e,t)=>[e,0];break;case"middleLeft":_=!0,u=(e,t)=>[0,t/2],h=(e,t)=>[e,t/2]}var e=u(s,l),S=h(s,l),f=d(...S),i=g(i+f[0]),n=g(n+f[1]);let P=1,C=1;var[t,b]=this.screenToPageTranslation(t.movementX,t.movementY),q=([t,b]=(v=t/a,q=b/r,[p[0]*v+p[2]*q,p[1]*v+p[3]*q]),y?(v=Math.hypot(s,l),P=C=Math.max(Math.min(Math.hypot(S[0]-e[0]-t,S[1]-e[1]-b)/v,1/s,1/l),o/s,c/l)):_?P=Math.max(o,Math.min(1,Math.abs(S[0]-e[0]-t)))/s:C=Math.max(c,Math.min(1,Math.abs(S[1]-e[1]-b)))/l,g(s*P)),v=g(l*C),o=i-(f=d(...h(q,v)))[0],t=n-f[1];this.width=q,this.height=v,this.x=o,this.y=t,this.setDims(a*q,r*v),this.fixAndSetPosition()}altTextFinish(){this.#altText?.finish()}async addEditToolbar(){return this.#editToolbar||this.#isInEditMode||(this.#editToolbar=new Rm(this),this.div.append(this.#editToolbar.render()),this.#altText&&this.#editToolbar.addAltTextButton(await this.#altText.render())),this.#editToolbar}removeEditToolbar(){this.#editToolbar&&(this.#editToolbar.remove(),this.#editToolbar=null,this.#altText?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#altText||(Ym.initialize(w._l10nPromise),this.#altText=new Ym(this),this.#accessibilityData&&(this.#altText.data=this.#accessibilityData,this.#accessibilityData=null),await this.addEditToolbar())}get altTextData(){return this.#altText?.data}set altTextData(e){this.#altText&&(this.#altText.data=e)}hasAltText(){return!this.#altText?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#disabled?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();var e=this._uiManager._signal,[e,t]=(this.div.addEventListener("focusin",this.#boundFocusin,{signal:e}),this.div.addEventListener("focusout",this.#boundFocusout,{signal:e}),this.parentDimensions),[e,t]=(this.parentRotation%180!=0&&(this.div.style.maxWidth=(100*t/e).toFixed(2)+"%",this.div.style.maxHeight=(100*e/t).toFixed(2)+"%"),this.getInitialTranslation());return this.translate(e,t),Nm(this,this.div,["pointerdown"]),this.div}pointerdown(e){var t=cm.platform["isMac"];0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#hasBeenClicked=!0,this._isDraggable?this.#setUpDragSession(e):this.#selectOnPointerEvent(e))}#selectOnPointerEvent(e){var t=cm.platform["isMac"];e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#setUpDragSession(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let a,r;var i=this._uiManager._signal;t&&(this.div.classList.add("moving"),a={passive:!0,capture:!0,signal:i},this.#prevDragX=e.clientX,this.#prevDragY=e.clientY,r=e=>{var{clientX:e,clientY:t}=e,[a,r]=this.screenToPageTranslation(e-this.#prevDragX,t-this.#prevDragY);this.#prevDragX=e,this.#prevDragY=t,this._uiManager.dragSelectedEditors(a,r)},window.addEventListener("pointermove",r,a));const n=()=>{window.removeEventListener("pointerup",n),window.removeEventListener("blur",n),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,a)),this.#hasBeenClicked=!1,this._uiManager.endDragSession()||this.#selectOnPointerEvent(e)};window.addEventListener("pointerup",n,{signal:i}),window.addEventListener("blur",n,{signal:i})}moveInDOM(){this.#moveInDOMTimeout&&clearTimeout(this.#moveInDOMTimeout),this.#moveInDOMTimeout=setTimeout(()=>{this.#moveInDOMTimeout=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,a){e.changeParent(this),this.x=t,this.y=a,this.fixAndSetPosition()}getRect(e,t,a=this.rotation){var r=this.parentScale,[i,n]=this.pageDimensions,[s,l]=this.pageTranslation,o=e/r,c=t/r,g=this.x*i,m=this.y*n,d=this.width*i,p=this.height*n;switch(a){case 0:return[g+o+s,n-m-c-p+l,g+o+d+s,n-m-c+l];case 90:return[g+c+s,n-m+o+l,g+c+p+s,n-m+o+d+l];case 180:return[g-o-d+s,n-m+c+l,g-o+s,n-m+c+p+l];case 270:return[g-c-p+s,n-m-o-d+l,g-c+s,n-m-o+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){var[a,r,i,n]=e,s=i-a,l=n-r;switch(this.rotation){case 0:return[a,t-n,s,l];case 90:return[a,t-r,l,s];case 180:return[i,t-r,s,l];case 270:return[i,t-n,l,s];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#isInEditMode=!0}disableEditMode(){this.#isInEditMode=!1}isInEditMode(){return this.#isInEditMode}shouldGetKeyboardEvents(){return this.#isResizerEnabledForKeyboard}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e=this._uiManager._signal;this.div?.addEventListener("focusin",this.#boundFocusin,{signal:e}),this.div?.addEventListener("focusout",this.#boundFocusout,{signal:e})}rotate(e){}serialize(e=0,t){Bg("An editor must be serializable")}static deserialize(e,t,a){var t=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:a}),[a,r]=(t.rotation=e.rotation,t.#accessibilityData=e.accessibilityData,t.pageDimensions),[e,i,n,s]=t.getRectInCurrentCoords(e.rect,r);return t.x=e/a,t.y=i/r,t.width=n/a,t.height=s/r,t}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",this.#boundFocusin),this.div.removeEventListener("focusout",this.#boundFocusout),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#moveInDOMTimeout&&(clearTimeout(this.#moveInDOMTimeout),this.#moveInDOMTimeout=null),this.#stopResizing(),this.removeEditToolbar(),this.#telemetryTimeouts){for(const e of this.#telemetryTimeouts.values())clearTimeout(e);this.#telemetryTimeouts=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#createResizers(),this.#resizersDiv.classList.remove("hidden"),Nm(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(this.isResizable&&e.target===this.div&&"Enter"===e.key){this._uiManager.setSelected(this),this.#savedDimensions={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};var a=this.#resizersDiv.children;if(!this.#allResizerDivs){this.#allResizerDivs=Array.from(a);var r=this.#resizerKeydown.bind(this),i=this.#resizerBlur.bind(this),n=this._uiManager._signal;for(const g of this.#allResizerDivs){var s=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",r,{signal:n}),g.addEventListener("blur",i,{signal:n}),g.addEventListener("focus",this.#resizerFocus.bind(this,s),{signal:n}),w._l10nPromise.get("pdfjs-editor-resizer-label-"+s).then(e=>g.setAttribute("aria-label",e))}}var l=this.#allResizerDivs[0];let t=0;for(const m of a){if(m===l)break;t++}var o=(360-this.rotation+this.parentRotation)%360/90*(this.#allResizerDivs.length/4);if(o!==t){if(o<t)for(let e=0;e<t-o;e++)this.#resizersDiv.append(this.#resizersDiv.firstChild);else if(o>t)for(let e=0;e<o-t;e++)this.#resizersDiv.firstChild.before(this.#resizersDiv.lastChild);let e=0;for(const d of a){var c=this.#allResizerDivs[e++].getAttribute("data-resizer-name");w._l10nPromise.get("pdfjs-editor-resizer-label-"+c).then(e=>d.setAttribute("aria-label",e))}}this.#setResizerTabIndex(0),this.#isResizerEnabledForKeyboard=!0,this.#resizersDiv.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}}#resizerKeydown(e){w._resizerKeyboardManager.exec(this,e)}#resizerBlur(e){this.#isResizerEnabledForKeyboard&&e.relatedTarget?.parentNode!==this.#resizersDiv&&this.#stopResizing()}#resizerFocus(e){this.#focusedResizerName=this.#isResizerEnabledForKeyboard?e:""}#setResizerTabIndex(e){if(this.#allResizerDivs)for(const t of this.#allResizerDivs)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#isResizerEnabledForKeyboard&&this.#resizerPointermove(this.#focusedResizerName,{movementX:e,movementY:t})}#stopResizing(){var e,t,a,r;this.#isResizerEnabledForKeyboard=!1,this.#setResizerTabIndex(-1),this.#savedDimensions&&({savedX:e,savedY:t,savedWidth:a,savedHeight:r}=this.#savedDimensions,this.#addResizeToUndoStack(e,t,a,r),this.#savedDimensions=null)}_stopResizingWithKeyboard(){this.#stopResizing(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.#editToolbar?this.#editToolbar?.show():this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this.#editToolbar?.show()})}unselect(){this.#resizersDiv?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#editToolbar?.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#isEditing}set isEditing(e){this.#isEditing=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#keepAspectRatio=!0;var a=this.div["style"];a.aspectRatio=e/t,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#telemetryTimeouts||=new Map;const a=e["action"];t=this.#telemetryTimeouts.get(a);t&&clearTimeout(t),t=setTimeout(()=>{this._reportTelemetry(e),this.#telemetryTimeouts.delete(a),0===this.#telemetryTimeouts.size&&(this.#telemetryTimeouts=null)},w._telemetryTimeout),void this.#telemetryTimeouts.set(a,t)}else e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#disabled=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#disabled=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");var a;return t?"CANVAS"===t.nodeName&&(a=t,(t=document.createElement("div")).classList.add("annotationContent",this.editorType),a.before(t)):((t=document.createElement("div")).classList.add("annotationContent",this.editorType),e.container.prepend(t)),t}resetAnnotationElement(e){e=e.container.firstChild;"DIV"===e.nodeName&&e.classList.contains("annotationContent")&&e.remove()}}class Km extends w{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Qm=3285377520,ed=4294901760,td=65535;class ad{constructor(e){this.h1=e?4294967295&e:Qm,this.h2=e?4294967295&e:Qm}update(a){let r,i;if("string"==typeof a){r=new Uint8Array(2*a.length);for(let e=i=0,t=a.length;e<t;e++){var n=a.charCodeAt(e);n<=255?r[i++]=n:(r[i++]=n>>>8,r[i++]=255&n)}}else{if(!ArrayBuffer.isView(a))throw new Error("Invalid data format, must be a string or TypedArray.");r=a.slice(),i=r.byteLength}var t=i>>2,e=i-4*t,s=new Uint32Array(r.buffer,0,t);let l=0,o,c=this.h1,g=this.h2;var m=3432918353,d=461845907;for(let e=0;e<t;e++)1&e?(l=(l=(l=(l=s[e])*m&ed|11601*l&td)<<15|l>>>17)*d&ed|13715*l&td,c=5*(c=(c^=l)<<13|c>>>19)+3864292196):(o=(o=(o=(o=s[e])*m&ed|11601*o&td)<<15|o>>>17)*d&ed|13715*o&td,g=5*(g=(g^=o)<<13|g>>>19)+3864292196);switch(l=0,e){case 3:l^=r[4*t+2]<<16;case 2:l^=r[4*t+1]<<8;case 1:l=(l=(l=(l^=r[4*t])*m&ed|11601*l&td)<<15|l>>>17)*d&ed|13715*l&td,1&t?c^=l:g^=l}this.h1=c,this.h2=g}hexdigest(){var e=this.h1,t=this.h2,e=3981806797*(e^=t>>>1)&ed|36045*e&td;return e=444984403*(e^=(t=4283543511*t&ed|(2950163797*(t<<16|e>>>16)&ed)>>>16)>>>1)&ed|60499*e&td,((e^=(t=3301882366*t&ed|(3120437893*(t<<16|e>>>16)&ed)>>>16)>>>1)>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const rd=Object.freeze({map:null,hash:"",transfer:void 0});class id{#modified=!1;#storage=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){e=this.#storage.get(e);return void 0===e?t:Object.assign(t,e)}getRawValue(e){return this.#storage.get(e)}remove(e){if(this.#storage.delete(e),0===this.#storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const t of this.#storage.values())if(t instanceof w)return;this.onAnnotationEditor(null)}}setValue(e,t){var a=this.#storage.get(e);let r=!1;if(void 0!==a)for(var[i,n]of Object.entries(t))a[i]!==n&&(r=!0,a[i]=n);else r=!0,this.#storage.set(e,t);r&&this.#setModified(),t instanceof w&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#storage.has(e)}getAll(){return 0<this.#storage.size?sm(this.#storage):null}setAll(e){for(var[t,a]of Object.entries(e))this.setValue(t,a)}get size(){return this.#storage.size}#setModified(){this.#modified||(this.#modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#modified&&(this.#modified=!1,"function"==typeof this.onResetModified)&&this.onResetModified()}get print(){return new nd(this)}get serializable(){if(0===this.#storage.size)return rd;var e,t,a=new Map,r=new ad,i=[],n=Object.create(null);let s=!1;for([e,t]of this.#storage){var l=t instanceof w?t.serialize(!1,n):t;l&&(a.set(e,l),r.update(e+":"+JSON.stringify(l)),s||=!!l.bitmap)}if(s)for(const o of a.values())o.bitmap&&i.push(o.bitmap);return 0<a.size?{map:a,hash:r.hexdigest(),transfer:i}:rd}get editorStats(){let e=null;var t,a,r=new Map;for(const g of this.#storage.values())if(g instanceof w){var i=g.telemetryFinalData;if(i){var n,s,l=i["type"],o=(r.has(l)||r.set(l,Object.getPrototypeOf(g).constructor),(e||=Object.create(null))[l]||=new Map);for([n,s]of Object.entries(i))if("type"!==n){let e=o.get(n);e||(e=new Map,o.set(n,e));var c=e.get(s)??0;e.set(s,c+1)}}}for([t,a]of r)e[t]=a.computeTelemetryFinalData(e[t]);return e}}class nd extends id{#serializable;constructor(e){super();var{map:e,hash:t,transfer:a}=e.serializable,e=structuredClone(e,a?{transfer:a}:null);this.#serializable={map:e,hash:t,transfer:a}}get print(){Bg("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#serializable}}class sd{#systemFonts=new Set;constructor({ownerDocument:e=globalThis.document}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));var t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#systemFonts.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(e&&!this.#systemFonts.has(e.loadedName))if(Vg(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){var{loadedName:a,src:r,style:i}=e,r=new FontFace(a,r,i);this.addNativeFontFace(r);try{await r.load(),this.#systemFonts.add(a),t?.(e)}catch{G(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(r)}}else Bg("Not implemented: loadSystemFont without the Font Loading API.")}async bind(t){if(!(t.attached||t.missingFile&&!t.systemFontInfo))if(t.attached=!0,t.systemFontInfo)await this.loadSystemFont(t);else if(this.isFontLoadingAPISupported){var a=t.createNativeFontFace();if(a){this.addNativeFontFace(a);try{await a.loaded}catch(e){throw G(`Failed to load font '${a.family}': '${e}'.`),t.disableFontFace=!0,e}}}else{a=t.createFontFaceRule();a&&(this.insertRule(a),this.isSyncFontLoadingSupported||await new Promise(e=>{e=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,e)}))}}get isFontLoadingAPISupported(){return n(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let e=!1;return n(this,"isSyncFontLoadingSupported",e=Gg||"undefined"!=typeof navigator&&"string"==typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent)?!0:e)}_queueLoadingCallback(e){const t=this["loadingRequests"],a={done:!1,complete:function(){for(Vg(!a.done,"completeRequest() cannot be called twice."),a.done=!0;0<t.length&&t[0].done;){var e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(a),a}get _loadTestFont(){return n(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function a(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,a,r){return e.substring(0,t)+r+e.substring(t+a)}let i,n;var s=this._document.createElement("canvas");s.width=1,s.height=1;const l=s.getContext("2d");let o=0;function c(e,t){30<++o?(G("Load test font never loaded."),t()):(l.font="30px "+e,l.fillText(".",0,20),0<l.getImageData(0,0,1,1).data[3]?t():setTimeout(c.bind(null,e,t)))}var g="lt"+Date.now()+this.loadTestFontId++;let m=a(s=r(this._loadTestFont,976,g.length,g),16);for(i=0,n=g.length-3;i<n;i+=4)m=m-1482184792+a(g,i)|0;s=r(s,16,4,nm(m=i<g.length?m-1482184792+a(g+"XXX",i)|0:m));s=`url(data:font/opentype;base64,${btoa(s)});`;this.insertRule(`@font-face {font-family:"${g}";src:${s}}`);const d=this._document.createElement("div");d.style.visibility="hidden",d.style.width=d.style.height="10px",d.style.position="absolute",d.style.top=d.style.left="0px";for(const u of[e.loadedName,g]){var p=this._document.createElement("span");p.textContent="Hi",p.style.fontFamily=u,d.append(p)}this._document.body.append(d),c(g,()=>{d.remove(),t.complete()})}}class ld{constructor(e,{disableFontFace:t=!1,inspectFont:a=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=!0===t,this._inspectFont=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;var t;return e=this.cssFontInfo?(t={weight:this.cssFontInfo.fontWeight},this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),new FontFace(this.cssFontInfo.fontFamily,this.data,t)):new FontFace(this.loadedName,this.data,{}),this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;var t=rm(this.data),t=`url(data:${this.mimetype};base64,${btoa(t)});`;let a;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),a=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else a=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),a}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let a;try{a=e.get(this.loadedName+"_path_"+t)}catch(e){G(`getPathGenerator - ignoring character: "${e}".`)}if(!Array.isArray(a)||0===a.length)return this.compiledGlyphs[t]=function(e,t){};const r=[];for(let e=0,t=a.length;e<t;)switch(a[e++]){case hm.BEZIER_CURVE_TO:{const[i,n,s,l,o,c]=a.slice(e,e+6);r.push(e=>e.bezierCurveTo(i,n,s,l,o,c)),e+=6}break;case hm.MOVE_TO:{const[g,m]=a.slice(e,e+2);r.push(e=>e.moveTo(g,m)),e+=2}break;case hm.LINE_TO:{const[d,p]=a.slice(e,e+2);r.push(e=>e.lineTo(d,p)),e+=2}break;case hm.QUADRATIC_CURVE_TO:{const[u,h,y,_]=a.slice(e,e+4);r.push(e=>e.quadraticCurveTo(u,h,y,_)),e+=4}break;case hm.RESTORE:r.push(e=>e.restore());break;case hm.SAVE:r.push(e=>e.save());break;case hm.SCALE:Vg(2===r.length,"Scale command is only valid at the third position.");break;case hm.TRANSFORM:{const[S,f,P,C,b,q]=a.slice(e,e+6);r.push(e=>e.transform(S,f,P,C,b,q)),e+=6}break;case hm.TRANSLATE:{const[v,w]=a.slice(e,e+2);r.push(e=>e.translate(v,w)),e+=2}}return this.compiledGlyphs[t]=function(a,e){r[0](a),r[1](a),a.scale(e,-e);for(let e=2,t=r.length;e<t;e++)r[e](a)}}}Gg&&(zg=Promise.withResolvers(),Ug=null,(async()=>{var e=await import("./_node-resolve_empty-gSkQxbSw.js"),t=await import("./_node-resolve_empty-gSkQxbSw.js"),a=await import("./_node-resolve_empty-gSkQxbSw.js"),r=await import("./_node-resolve_empty-gSkQxbSw.js");return new Map(Object.entries({fs:e,http:t,https:a,url:r,canvas:void 0,path2d:void 0}))})().then(e=>{Ug=e,zg.resolve()},e=>{G("loadPackages: "+e),Ug=new Map,zg.resolve()}));class od{static get promise(){return zg.promise}static get(e){return Ug?.get(e)}}function cd(e){return od.get("fs").promises.readFile(e).then(e=>new Uint8Array(e))}(class{[ym](){}});(class{[_m](){}});(class{[Sm](){}});(class{[fm](){}});const gd={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function md(e,t){var a,r,i;t&&(a=t[2]-t[0],r=t[3]-t[1],(i=new Path2D).rect(t[0],t[1],a,r),e.clip(i))}class dd{constructor(){this.constructor===dd&&Bg("Cannot initialize BaseShadingPattern.")}getPattern(){Bg("Abstract method `getPattern` called.")}}class pd extends dd{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const a of this._colorStops)t.addColorStop(a[0],a[1]);return t}getPattern(e,t,a,r){let i;var n,s;return r===gd.STROKE||r===gd.FILL?(r=t.current.getClippedPathBoundingBox(r,$m(e))||[0,0,0,0],n=Math.ceil(r[2]-r[0])||1,s=Math.ceil(r[3]-r[1])||1,(s=(n=t.cachedCanvases.getCanvas("pattern",n,s,!0)).context).clearRect(0,0,s.canvas.width,s.canvas.height),s.beginPath(),s.rect(0,0,s.canvas.width,s.canvas.height),s.translate(-r[0],-r[1]),a=f.transform(a,[1,0,0,1,r[0],r[1]]),s.transform(...t.baseTransform),this.matrix&&s.transform(...this.matrix),md(s,this._bbox),s.fillStyle=this._createGradient(s),s.fill(),i=e.createPattern(n.canvas,"no-repeat"),r=new DOMMatrix(a),i.setTransform(r)):(md(e,this._bbox),i=this._createGradient(e)),i}}function ud(e,t,a,r,i,o,c,g){var n=t.coords,m=t.colors,d=e.data,p=4*e.width;let s;n[a+1]>n[r+1]&&(s=a,a=r,r=s,s=o,o=c,c=s),n[r+1]>n[i+1]&&(s=r,r=i,i=s,s=c,c=g,g=s),n[a+1]>n[r+1]&&(s=a,a=r,r=s,s=o,o=c,c=s);var u=(n[a]+t.offsetX)*t.scaleX,h=(n[a+1]+t.offsetY)*t.scaleY,y=(n[r]+t.offsetX)*t.scaleX,_=(n[r+1]+t.offsetY)*t.scaleY,S=(n[i]+t.offsetX)*t.scaleX,f=(n[i+1]+t.offsetY)*t.scaleY;if(!(f<=h)){var P=m[o],C=m[o+1],b=m[o+2],q=m[c],v=m[c+1],w=m[c+2],J=m[g],G=m[g+1],A=m[g+2],e=Math.round(h),T=Math.round(f);let i,n,s,l;for(let r=e;r<=T;r++){if(r<_){var X=r<h?0:(h-r)/(h-_);i=u-(u-y)*X,n=P-(P-q)*X,s=C-(C-v)*X,l=b-(b-w)*X}else{let e;e=r>f?1:_==f?0:(_-r)/(_-f),i=y-(y-S)*e,n=q-(q-J)*e,s=v-(v-G)*e,l=w-(w-A)*e}let t;var k=u-(u-S)*(t=r<h?0:r>f?1:(h-r)/(h-f)),x=P-(P-J)*t,L=C-(C-G)*t,E=b-(b-A)*t,X=Math.round(Math.min(i,k)),M=Math.round(Math.max(i,k));let a=p*r+4*X;for(let e=X;e<=M;e++)(t=(i-e)/(i-k))<0?t=0:1<t&&(t=1),d[a++]=n-(n-x)*t|0,d[a++]=s-(s-L)*t|0,d[a++]=l-(l-E)*t|0,d[a++]=255}}}function hd(a,e,r){var i=e.coords,n=e.colors;let s,t;switch(e.type){case"lattice":var l=e.verticesPerRow,o=Math.floor(i.length/l)-1,c=l-1;for(s=0;s<o;s++){let t=s*l;for(let e=0;e<c;e++,t++)ud(a,r,i[t],i[t+1],i[t+l],n[t],n[t+1],n[t+l]),ud(a,r,i[t+l+1],i[t+1],i[t+l],n[t+l+1],n[t+1],n[t+l])}break;case"triangles":for(s=0,t=i.length;s<t;s+=3)ud(a,r,i[s],i[s+1],i[s+2],n[s],n[s+1],n[s+2]);break;default:throw new Error("illegal figure")}}class yd extends dd{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,a,t){var r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),n=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,l=Math.min(Math.ceil(Math.abs(n*e[0]*1.1)),3e3),e=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),n=n/l,s=s/e,o={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/n,scaleY:1/s},t=t.getCanvas("mesh",l+4,e+4,!1),c=t.context,g=c.createImageData(l,e);if(a){var m=g.data;for(let e=0,t=m.length;e<t;e+=4)m[e]=a[0],m[e+1]=a[1],m[e+2]=a[2],m[e+3]=255}for(const d of this._figures)hd(g,d,o);return c.putImageData(g,2,2),{canvas:t.canvas,offsetX:r-2*n,offsetY:i-2*s,scaleX:n,scaleY:s}}getPattern(e,t,a,r){md(e,this._bbox);let i;r===gd.SHADING?i=f.singularValueDecompose2dScale($m(e)):(i=f.singularValueDecompose2dScale(t.baseTransform),this.matrix&&(n=f.singularValueDecompose2dScale(this.matrix),i=[i[0]*n[0],i[1]*n[1]]));var n=this._createMeshCanvas(i,r===gd.SHADING?null:this._background,t.cachedCanvases);return r!==gd.SHADING&&(e.setTransform(...t.baseTransform),this.matrix)&&e.transform(...this.matrix),e.translate(n.offsetX,n.offsetY),e.scale(n.scaleX,n.scaleY),e.createPattern(n.canvas,"no-repeat")}}class _d extends dd{getPattern(){return"hotpink"}}function Sd(e){switch(e[0]){case"RadialAxial":return new pd(e);case"Mesh":return new yd(e);case"Dummy":return new _d}throw new Error("Unknown IR type: "+e[0])}const fd={COLORED:1,UNCOLORED:2};class Pd{static MAX_PATTERN_SIZE=3e3;constructor(e,t,a,r,i){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=a,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){var t=this.operatorList,a=this.bbox,r=this.xstep,i=this.ystep,n=this.paintType,s=this.tilingType,l=this.color,o=this.canvasGraphicsFactory,s=(Ng("TilingType: "+s),a[0]),c=a[1],g=a[2],a=a[3],m=f.singularValueDecompose2dScale(this.matrix),d=f.singularValueDecompose2dScale(this.baseTransform),m=[m[0]*d[0],m[1]*d[1]],d=this.getSizeAndScale(r,this.ctx.canvas.width,m[0]),r=this.getSizeAndScale(i,this.ctx.canvas.height,m[1]),i=e.cachedCanvases.getCanvas("pattern",d.size,r.size,!0),m=i.context,o=o.createCanvasGraphics(m);o.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(o,n,l);let p=s,u=c,h=g,y=a;return s<0&&(p=0,h+=Math.abs(s)),c<0&&(u=0,y+=Math.abs(c)),m.translate(-(d.scale*p),-(r.scale*u)),o.transform(d.scale,0,0,r.scale,0,0),m.save(),this.clipBbox(o,p,u,h,y),o.baseTransform=$m(o.ctx),o.executeOperatorList(t),o.endDrawing(),{canvas:i.canvas,scaleX:d.scale,scaleY:r.scale,offsetX:p,offsetY:u}}getSizeAndScale(e,t,a){e=Math.abs(e);t=Math.max(Pd.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*a);return r>=t?r=t:a=r/e,{scale:a,size:r}}clipBbox(e,t,a,r,i){e.ctx.rect(t,a,r-t,i-a),e.current.updateRectMinMax($m(e.ctx),[t,a,r,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,a){var r=e.ctx,i=e.current;switch(t){case fd.COLORED:var n=this.ctx;r.fillStyle=n.fillStyle,r.strokeStyle=n.strokeStyle,i.fillColor=n.fillStyle,i.strokeColor=n.strokeStyle;break;case fd.UNCOLORED:n=f.makeHexColor(a[0],a[1],a[2]);r.fillStyle=n,r.strokeStyle=n,i.fillColor=n,i.strokeColor=n;break;default:throw new tm("Unsupported paint type: "+t)}}getPattern(e,t,a,r){let i=a;r!==gd.SHADING&&(i=f.transform(i,t.baseTransform),this.matrix)&&(i=f.transform(i,this.matrix));a=this.createPatternCanvas(t);let n=new DOMMatrix(i);n=(n=n.translate(a.offsetX,a.offsetY)).scale(1/a.scaleX,1/a.scaleY);r=e.createPattern(a.canvas,"repeat");return r.setTransform(n),r}}const Cd=1e3,bd=16;function qd(e,s){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){s.save(),this.__originalSave()},e.restore=function(){s.restore(),this.__originalRestore()},e.translate=function(e,t){s.translate(e,t),this.__originalTranslate(e,t)},e.scale=function(e,t){s.scale(e,t),this.__originalScale(e,t)},e.transform=function(e,t,a,r,i,n){s.transform(e,t,a,r,i,n),this.__originalTransform(e,t,a,r,i,n)},e.setTransform=function(e,t,a,r,i,n){s.setTransform(e,t,a,r,i,n),this.__originalSetTransform(e,t,a,r,i,n)},e.resetTransform=function(){s.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){s.rotate(e),this.__originalRotate(e)},e.clip=function(e){s.clip(e),this.__originalClip(e)},e.moveTo=function(e,t){s.moveTo(e,t),this.__originalMoveTo(e,t)},e.lineTo=function(e,t){s.lineTo(e,t),this.__originalLineTo(e,t)},e.bezierCurveTo=function(e,t,a,r,i,n){s.bezierCurveTo(e,t,a,r,i,n),this.__originalBezierCurveTo(e,t,a,r,i,n)},e.rect=function(e,t,a,r){s.rect(e,t,a,r),this.__originalRect(e,t,a,r)},e.closePath=function(){s.closePath(),this.__originalClosePath()},e.beginPath=function(){s.beginPath(),this.__originalBeginPath()}}class vd{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,a){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,a)):(r=this.canvasFactory.create(t,a),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const t in this.cache){var e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function wd(e,t,a,r,i,n,s,l,o,c){var g,m,d,p,[u,h,y,_,S,f]=$m(e);0===h&&0===y?(g=Math.round(s*u+S),m=Math.round(l*_+f),d=Math.abs(Math.round((s+o)*u+S)-g)||1,p=Math.abs(Math.round((l+c)*_+f)-m)||1,e.setTransform(Math.sign(u),0,0,Math.sign(_),g,m),e.drawImage(t,a,r,i,n,0,0,d,p),e.setTransform(u,h,y,_,S,f)):0===u&&0===_?(g=Math.round(l*y+S),m=Math.round(s*h+f),d=Math.abs(Math.round((l+c)*y+S)-g)||1,p=Math.abs(Math.round((s+o)*h+f)-m)||1,e.setTransform(0,Math.sign(h),Math.sign(y),0,g,m),e.drawImage(t,a,r,i,n,0,0,p,d),e.setTransform(u,h,y,_,S,f)):(e.drawImage(t,a,r,i,n,s,l,o,c),Math.hypot(u,h),Math.hypot(y,_))}function Jd(e){const{width:a,height:t}=e;if(a>Cd||t>Cd)return null;var r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=a+1;let n=new Uint8Array(i*(t+1)),s,l,o;var c=a+7&-8;let g=new Uint8Array(c*t),m=0;for(const f of e.data){let e=128;for(;0<e;)g[m++]=f&e?0:255,e>>=1}let d=0;for((m=0)!==g[m]&&(n[0]=1,++d),l=1;l<a;l++)g[m]!==g[m+1]&&(n[l]=g[m]?2:1,++d),m++;for(0!==g[m]&&(n[l]=2,++d),s=1;s<t;s++){m=s*c,o=s*i,g[m-c]!==g[m]&&(n[o]=g[m]?1:8,++d);let e=(g[m]?4:0)+(g[m-c]?8:0);for(l=1;l<a;l++)r[e=(e>>2)+(g[m+1]?4:0)+(g[m-c+1]?8:0)]&&(n[o+l]=r[e],++d),m++;if(g[m-c]!==g[m]&&(n[o+l]=g[m]?2:4,++d),1e3<d)return null}for(m=c*(t-1),o=s*i,0!==g[m]&&(n[o]=8,++d),l=1;l<a;l++)g[m]!==g[m+1]&&(n[o+l]=g[m]?4:8,++d),m++;if(0!==g[m]&&(n[o+l]=4,++d),1e3<d)return null;var p=new Int32Array([0,i,-1,0,-i,0,0,0,1]);const u=new Path2D;for(s=0;d&&s<=t;s++){let t=s*i;for(var h=t+a;t<h&&!n[t];)t++;if(t!==h){u.moveTo(t%i,s);var y=t;let e=n[t];do{for(var _=p[e];t+=_,!n[t];);var S=n[t];5!==S&&10!==S?(e=S,n[t]=0):(e=S&51*e>>4,n[t]&=e>>2|e<<2),u.lineTo(t%i,t/i|0),n[t]||--d}while(y!==t);--s}}g=null,n=null;return function(e){e.save(),e.scale(1/a,-1/t),e.translate(0,-t),e.fill(u),e.beginPath(),e.restore()}}class Gd{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Ag,this.textMatrixScale=1,this.fontMatrix=Tg,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Lg.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){var e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,a){[t,a]=f.applyTransform([t,a],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,a),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,a)}updateRectMinMax(e,t){var a=f.applyTransform(t,e),r=f.applyTransform(t.slice(2),e),i=f.applyTransform([t[0],t[3]],e),t=f.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,a[0],r[0],i[0],t[0]),this.minY=Math.min(this.minY,a[1],r[1],i[1],t[1]),this.maxX=Math.max(this.maxX,a[0],r[0],i[0],t[0]),this.maxY=Math.max(this.maxY,a[1],r[1],i[1],t[1])}updateScalingPathMinMax(e,t){f.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,a,r,i,n,s,l,o,c){t=f.bezierBoundingBox(t,a,r,i,n,s,l,o,c);c||this.updateRectMinMax(e,t)}getPathBoundingBox(e=gd.FILL,t=null){var a=[this.minX,this.minY,this.maxX,this.maxY];return e===gd.STROKE&&(t||Bg("Stroke bounding box must include transform."),t=(e=f.singularValueDecompose2dScale(t))[0]*this.lineWidth/2,e=e[1]*this.lineWidth/2,a[0]-=t,a[1]-=e,a[2]+=t,a[3]+=e),a}updateClipFromPath(){var e=f.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=gd.FILL,t=null){return f.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Ad(s,l){if("undefined"!=typeof ImageData&&l instanceof ImageData)s.putImageData(l,0,0);else{var o=l.height,c=l.width,g=o%bd,m=(o-g)/bd,d=0==g?m:1+m,p=s.createImageData(c,bd);let r=0,i;var u=l.data,h=p.data;let e,t,a,n;if(l.kind===Eg.GRAYSCALE_1BPP){var y=u.byteLength,_=new Uint32Array(h.buffer,0,h.byteLength>>2),S=_.length,f=c+7>>3,P=4294967295,C=cm.isLittleEndian?4278190080:255;for(e=0;e<d;e++){for(a=e<m?bd:g,i=0,t=0;t<a;t++){var b=y-r;let e=0;var q=f<b?c:8*b-7,v=-8&q;let t=0,a=0;for(;e<v;e+=8)a=u[r++],_[i++]=128&a?P:C,_[i++]=64&a?P:C,_[i++]=32&a?P:C,_[i++]=16&a?P:C,_[i++]=8&a?P:C,_[i++]=4&a?P:C,_[i++]=2&a?P:C,_[i++]=1&a?P:C;for(;e<q;e++)0===t&&(a=u[r++],t=128),_[i++]=a&t?P:C,t>>=1}for(;i<S;)_[i++]=0;s.putImageData(p,0,e*bd)}}else if(l.kind===Eg.RGBA_32BPP){for(t=0,n=c*bd*4,e=0;e<m;e++)h.set(u.subarray(r,r+n)),r+=n,s.putImageData(p,0,t),t+=bd;e<d&&(n=c*g*4,h.set(u.subarray(r,r+n)),s.putImageData(p,0,t))}else{if(l.kind!==Eg.RGB_24BPP)throw new Error("bad image kind: "+l.kind);for(a=bd,n=c*a,e=0;e<d;e++){for(e>=m&&(a=g,n=c*a),i=0,t=n;t--;)h[i++]=u[r++],h[i++]=u[r++],h[i++]=u[r++],h[i++]=255;s.putImageData(p,0,e*bd)}}}}function Td(a,e){if(e.bitmap)a.drawImage(e.bitmap,0,0);else{var r=e.height,i=e.width,n=r%bd,s=(r-n)/bd,l=0==n?s:1+s,o=a.createImageData(i,bd);let t=0;var c=e.data,g=o.data;for(let e=0;e<l;e++){var m=e<s?bd:n;({srcPos:t}=function({src:t,srcPos:a=0,dest:r,width:e,height:i,nonBlackColor:n,inverseDecode:s=!1}){var l=cm.isLittleEndian?4278190080:255,[o,c]=s?[n,l]:[l,n],g=e>>3,m=7&e,d=t.length;r=new Uint32Array(r.buffer);let p=0;for(let e=0;e<i;e++){for(var u=a+g;a<u;a++){var h=a<d?t[a]:255;r[p++]=128&h?c:o,r[p++]=64&h?c:o,r[p++]=32&h?c:o,r[p++]=16&h?c:o,r[p++]=8&h?c:o,r[p++]=4&h?c:o,r[p++]=2&h?c:o,r[p++]=1&h?c:o}if(0!=m){var y=a<d?t[a++]:255;for(let e=0;e<m;e++)r[p++]=y&1<<7-e?c:o}}return{srcPos:a,destPos:p}}({src:c,srcPos:t,dest:g,width:i,height:m,nonBlackColor:0})),a.putImageData(o,0,e*bd)}}}function Xd(e,t){for(const a of["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"])void 0!==e[a]&&(t[a]=e[a]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function kd(e){var t;e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),Gg||(t=e["filter"],"none"!==t&&""!==t&&(e.filter="none"))}function xd(e,t){return!!t||((t=f.singularValueDecompose2dScale(e))[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]),e=Math.fround((globalThis.devicePixelRatio||1)*Cm.PDF_TO_CSS_UNITS),t[0]<=e&&t[1]<=e)}const Ld=["butt","round","square"],Ed=["miter","round","bevel"],Md={},Id={};class Dd{constructor(e,t,a,r,i,{optionalContentConfig:n,markedContentStack:s=null},l,o){this.ctx=e,this.current=new Gd(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=a,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=s||[],this.optionalContentConfig=n,this.cachedCanvases=new vd(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?(e.startsWith("g_")?this.commonObjs:this.objs).get(e):t}beginDrawing({transform:e,viewport:t,transparency:a=!1,background:r=null}){var i=this.ctx.canvas.width,n=this.ctx.canvas.height,s=this.ctx.fillStyle;this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,i,n),this.ctx.fillStyle=s,a&&(r=this.cachedCanvases.getCanvas("transparent",i,n),this.compositeCtx=this.ctx,this.transparentCanvas=r.canvas,this.ctx=r.context,this.ctx.save(),this.ctx.transform(...$m(this.compositeCtx))),this.ctx.save(),kd(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=$m(this.ctx)}executeOperatorList(e,t,a,r){var i=e.argsArray,n=e.fnArray;let s=t||0;var l=i.length;if(l===s)return s;var o=10<l-s&&"function"==typeof a,c=o?Date.now()+15:0;let g=0;for(var m,d=this.commonObjs,p=this.objs;;){if(void 0!==r&&s===r.nextBreakPoint)return r.breakIt(s,a),s;if((m=n[s])!==Fg.dependency)this[m].apply(this,i[s]);else for(const h of i[s]){var u=h.startsWith("g_")?d:p;if(!u.has(h))return u.get(h,a),s}if(++s===l)return s;if(o&&10<++g){if(Date.now()>c)return a(),s;g=0}}}#restoreInitialState(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#restoreInitialState(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#drawFilter()}#drawFilter(){var e,t;this.pageColors&&"none"!==(e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background))&&(t=this.ctx.filter,this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t)}_scaleImage(a,e){var r,i,t=a.width,n=a.height;let s=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),o=t,c=n,g="prescale1";for(;2<s&&1<o||2<l&&1<c;){let e=o,t=c;2<s&&1<o&&(e=16384<=o?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/e),2<l&&1<c&&(t=16384<=c?Math.floor(c/2)-1||1:Math.ceil(c)/2,l/=c/t),(i=(r=this.cachedCanvases.getCanvas(g,e,t)).context).clearRect(0,0,e,t),i.drawImage(a,0,0,o,c,0,0,e,t),a=r.canvas,o=e,c=t,g="prescale1"===g?"prescale2":"prescale1"}return{img:a,paintWidth:o,paintHeight:c}}_createMaskCanvas(e){var t=this.ctx,{width:a,height:r}=e,i=this.current.fillColor,n=this.current.patternFill,s=$m(t);let l,o,c,g;if((e.bitmap||e.data)&&1<e.count){var m=e.bitmap||e.data.buffer,m=(o=JSON.stringify(n?s:[s.slice(0,4),i]),(l=this._cachedBitmapsMap.get(m))||(l=new Map,this._cachedBitmapsMap.set(m,l)),l.get(o));if(m&&!n){const h=Math.round(Math.min(s[0],s[2])+s[4]),y=Math.round(Math.min(s[1],s[3])+s[5]);return{canvas:m,offsetX:h,offsetY:y}}c=m}c||Td((g=this.cachedCanvases.getCanvas("maskCanvas",a,r)).context,e);var m=f.transform(s,[1/a,0,0,-1/r,0,0]),m=f.transform(m,[1,0,0,1,0,-r]),[s,d,p,u]=f.getAxialAlignedBoundingBox([0,0,a,r],m),p=Math.round(p-s)||1,u=Math.round(u-d)||1,p=this.cachedCanvases.getCanvas("fillCanvas",p,u),u=p.context;const h=s,y=d;u.translate(-h,-y),u.transform(...m),c||(c=(c=this._scaleImage(g.canvas,Fm(u))).img,l&&n&&l.set(o,c)),u.imageSmoothingEnabled=xd($m(u),e.interpolate),wd(u,c,0,0,c.width,c.height,0,0,a,r),u.globalCompositeOperation="source-in";s=f.transform(Fm(u),[1,0,0,1,-h,-y]);return u.fillStyle=n?i.getPattern(t,this,s,gd.FILL):i,u.fillRect(0,0,a,r),l&&!n&&(this.cachedCanvases.delete("fillCanvas"),l.set(o,p.canvas)),{canvas:p.canvas,offsetX:Math.round(h),offsetY:Math.round(y)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Ld[e]}setLineJoin(e){this.ctx.lineJoin=Ed[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){var a=this.ctx;void 0!==a.setLineDash&&(a.setLineDash(e),a.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(var[t,a]of e)switch(t){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){var e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var e=this.ctx.canvas.width,t=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(a,e,t),e=(this.suspendedCtx=this.ctx,this.ctx=a.context,this.ctx);e.setTransform(...$m(this.suspendedCtx)),Xd(this.suspendedCtx,e),qd(e,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Xd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){var t,a;this.current.activeSMask&&(e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],t=this.current.activeSMask,a=this.suspendedCtx,this.composeSMask(a,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}composeSMask(e,t,a,r){var i=r[0],n=r[1],s=r[2]-i,r=r[3]-n;0!=s&&0!=r&&(this.genericComposeSMask(t.context,a,s,r,t.subtype,t.backdrop,t.transferMap,i,n,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(a.canvas,0,0),e.restore())}genericComposeSMask(e,t,a,r,i,n,s,l,o,c,g){let m=e.canvas,d=l-c,p=o-g;if(n)if(d<0||p<0||d+a>m.width||p+r>m.height){c=this.cachedCanvases.getCanvas("maskExtension",a,r),g=c.context;g.drawImage(m,-d,-p),n.some(e=>0!==e)&&(g.globalCompositeOperation="destination-atop",g.fillStyle=f.makeHexColor(...n),g.fillRect(0,0,a,r),g.globalCompositeOperation="source-over"),m=c.canvas,d=p=0}else if(n.some(e=>0!==e)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const u=new Path2D;u.rect(d,p,a,r),e.clip(u),e.globalCompositeOperation="destination-atop",e.fillStyle=f.makeHexColor(...n),e.fillRect(d,p,a,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===i&&s?t.filter=this.filterFactory.addAlphaFilter(s):"Luminosity"===i&&(t.filter=this.filterFactory.addLuminosityFilter(s));const u=new Path2D;u.rect(l,o,a,r),t.clip(u),t.globalCompositeOperation="destination-in",t.drawImage(m,d,p,a,r,l,o,a,r),t.restore()}save(){(this.inSMaskMode?(Xd(this.ctx,this.suspendedCtx),this.suspendedCtx):this.ctx).save();var e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Xd(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,a,r,i,n){this.ctx.transform(e,t,a,r,i,n),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(r,i,e){var n=this.ctx,s=this.current;let l=s.x,o=s.y,c,g;var m=$m(n),d=0===m[0]&&0===m[3]||0===m[1]&&0===m[2],p=d?e.slice(0):null;for(let e=0,t=0,a=r.length;e<a;e++)switch(0|r[e]){case Fg.rectangle:l=i[t++],o=i[t++];var u=i[t++],h=i[t++],y=l+u,_=o+h;n.moveTo(l,o),0===u||0===h?n.lineTo(y,_):(n.lineTo(y,o),n.lineTo(y,_),n.lineTo(l,_)),d||s.updateRectMinMax(m,[l,o,y,_]),n.closePath();break;case Fg.moveTo:l=i[t++],o=i[t++],n.moveTo(l,o),d||s.updatePathMinMax(m,l,o);break;case Fg.lineTo:l=i[t++],o=i[t++],n.lineTo(l,o),d||s.updatePathMinMax(m,l,o);break;case Fg.curveTo:c=l,g=o,l=i[t+4],o=i[t+5],n.bezierCurveTo(i[t],i[t+1],i[t+2],i[t+3],l,o),s.updateCurvePathMinMax(m,c,g,i[t],i[t+1],i[t+2],i[t+3],l,o,p),t+=6;break;case Fg.curveTo2:c=l,g=o,n.bezierCurveTo(l,o,i[t],i[t+1],i[t+2],i[t+3]),s.updateCurvePathMinMax(m,c,g,l,o,i[t],i[t+1],i[t+2],i[t+3],p),l=i[t+2],o=i[t+3],t+=4;break;case Fg.curveTo3:c=l,g=o,l=i[t+2],o=i[t+3],n.bezierCurveTo(i[t],i[t+1],l,o,l,o),s.updateCurvePathMinMax(m,c,g,i[t],i[t+1],l,o,l,o,p),t+=4;break;case Fg.closePath:n.closePath()}d&&s.updateScalingPathMinMax(m,p),s.setCurrentPoint(l,o)}closePath(){this.ctx.closePath()}stroke(e=!0){var t=this.ctx,a=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof a&&a?.getPattern?(t.save(),t.strokeStyle=a.getPattern(t,this,Fm(t),gd.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){var t=this.ctx,a=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),t.fillStyle=a.getPattern(t,this,Fm(t),gd.FILL),r=!0);a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Md}eoClip(){this.pendingClip=Id}beginText(){this.current.textMatrix=Ag,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){var e=this.pendingTextPaths,t=this.ctx;if(void 0===e)t.beginPath();else{t.save(),t.beginPath();for(const a of e)t.setTransform(...a.transform),t.translate(a.x,a.y),a.addToPath(t,a.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(a,r){var i=this.commonObjs.get(a),n=this.current;if(!i)throw new Error("Can't find font for "+a);if(n.fontMatrix=i.fontMatrix||Tg,0!==n.fontMatrix[0]&&0!==n.fontMatrix[3]||G("Invalid font matrix for font "+a),r<0?(r=-r,n.fontDirection=-1):n.fontDirection=1,this.current.font=i,this.current.fontSize=r,!i.isType3Font){a=i.loadedName||"sans-serif",n=i.systemFontInfo?.css||`"${a}", `+i.fallbackName;let e="normal";i.black?e="900":i.bold&&(e="bold");a=i.italic?"italic":"normal";let t=r;r<16?t=16:100<r&&(t=100),this.current.fontSizeScale=r/t,this.ctx.font=a+` ${e} ${t}px `+n}}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,a,r,i,n){this.current.textMatrix=[e,t,a,r,i,n],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,a,r){var i=this.ctx,n=this.current,s=n.font,l=n.textRenderingMode,o=n.fontSize/n.fontSizeScale,c=l&Lg.FILL_STROKE_MASK,l=!!(l&Lg.ADD_TO_PATH_FLAG),n=n.patternFill&&!s.missingFile;let g;(s.disableFontFace||l||n)&&(g=s.getPathGenerator(this.commonObjs,e)),s.disableFontFace||n?(i.save(),i.translate(t,a),i.beginPath(),g(i,o),r&&i.setTransform(...r),c!==Lg.FILL&&c!==Lg.FILL_STROKE||i.fill(),c!==Lg.STROKE&&c!==Lg.FILL_STROKE||i.stroke(),i.restore()):(c!==Lg.FILL&&c!==Lg.FILL_STROKE||i.fillText(e,t,a),c!==Lg.STROKE&&c!==Lg.FILL_STROKE||i.strokeText(e,t,a)),l&&(this.pendingTextPaths||=[]).push({transform:$m(i),x:t,y:a,fontSize:o,addToPath:g})}get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10)["context"],t=(e.scale(1.5,1),e.fillText("I",0,10),e.getImageData(0,0,10,10).data);let a=!1;for(let e=3;e<t.length;e+=4)if(0<t[e]&&t[e]<255){a=!0;break}return n(this,"isFontSubpixelAAEnabled",a)}showText(t){var a=this.current,s=a.font;if(s.isType3Font)return this.showType3Text(t);var l=a.fontSize;if(0!==l){var o=this.ctx,c=a.fontSizeScale,g=a.charSpacing,m=a.wordSpacing,d=a.fontDirection,r=a.textHScale*d,p=t.length,u=s.vertical,h=u?1:-1,y=s.defaultVMetrics,_=l*a.fontMatrix[0],S=a.textRenderingMode===Lg.FILL&&!s.disableFontFace&&!a.patternFill;o.save(),o.transform(...a.textMatrix),o.translate(a.x,a.y+a.textRise),0<d?o.scale(r,-1):o.scale(r,1);let n,e=(a.patternFill&&(o.save(),f=a.fillColor.getPattern(o,this,Fm(o),gd.FILL),n=$m(o),o.restore(),o.fillStyle=f),a.lineWidth);var i,f=a.textMatrixScale;if(0===f||0===e?(i=a.textRenderingMode&Lg.FILL_STROKE_MASK)!==Lg.STROKE&&i!==Lg.FILL_STROKE||(e=this.getSinglePixelWidth()):e/=f,1!==c&&(o.scale(c,c),e/=c),o.lineWidth=e,s.isInvalidPDFjsFont){var P=[];let e=0;for(const A of t)P.push(A.unicode),e+=A.width;o.fillText(P.join(""),0,0),a.x+=e*_*r,o.restore(),void this.compose()}else{let i=0,e;for(e=0;e<p;++e){var C=t[e];if("number"==typeof C)i+=h*C*l/1e3;else{let e=!1;var b,q,v,w=(C.isSpace?m:0)+g,J=C.fontChar,G=C.accent;let t,a,r=C.width;a=u?(b=C.vmetric||y,q=-(C.vmetric?b[1]:.5*r)*_,v=b[2]*_,r=b?-b[0]:r,t=q/c,(i+v)/c):(t=i/c,0),s.remeasure&&0<r&&(b=1e3*o.measureText(J).width/l*c,r<b&&this.isFontSubpixelAAEnabled?(q=r/b,e=!0,o.save(),o.scale(q,1),t/=q):r!==b&&(t+=(r-b)/2e3*l/c)),this.contentVisible&&(C.isInFont||s.missingFile)&&(S&&!G?o.fillText(J,t,a):(this.paintChar(J,t,a,n),G&&(v=t+l*G.offset.x/c,C=a-l*G.offset.y/c,this.paintChar(G.fontChar,v,C,n))));J=u?r*_-w*d:r*_+w*d;i+=J,e&&o.restore()}}u?a.y-=i:a.x+=i*r,o.restore(),this.compose()}}}showType3Text(e){var t,a,r=this.ctx,i=this.current,n=i.font,s=i.fontSize,l=i.fontDirection,o=n.vertical?1:-1,c=i.charSpacing,g=i.wordSpacing,m=i.textHScale*l,d=i.fontMatrix||Tg,p=e.length,u=i.textRenderingMode===Lg.INVISIBLE;let h,y,_,S;if(!u&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),r.transform(...i.textMatrix),r.translate(i.x,i.y),r.scale(m,l),h=0;h<p;++h)"number"==typeof(y=e[h])?(this.ctx.translate(S=o*y*s/1e3,0),i.x+=S*m):(t=(y.isSpace?g:0)+c,(a=n.charProcOperatorList[y.operatorListId])?(this.contentVisible&&(this.processingType3=y,this.save(),r.scale(s,s),r.transform(...d),this.executeOperatorList(a),this.restore()),_=f.applyTransform([y.width,0],d)[0]*s+t,r.translate(_,0),i.x+=_*m):G(`Type3 character "${y.operatorListId}" is not available.`));r.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,a,r,i,n){this.ctx.rect(a,r,i-a,n-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;var a,r,i;return t="TilingPattern"===e[0]?(a=e[1],r=this.baseTransform||$m(this.ctx),i={createCanvasGraphics:e=>new Dd(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},new Pd(e,a,this.ctx,i,r)):this._getPattern(e[1],e[2])}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,a){e=f.makeHexColor(e,t,a);this.ctx.strokeStyle=e,this.current.strokeColor=e}setFillRGBColor(e,t,a){e=f.makeHexColor(e,t,a);this.ctx.fillStyle=e,this.current.fillColor=e,this.current.patternFill=!1}_getPattern(e,t=null){let a;return this.cachedPatterns.has(e)?a=this.cachedPatterns.get(e):(a=Sd(this.getObject(e)),this.cachedPatterns.set(e,a)),t&&(a.matrix=t),a}shadingFill(e){var t,a,r;this.contentVisible&&(t=this.ctx,this.save(),e=this._getPattern(e),t.fillStyle=e.getPattern(t,this,Fm(t),gd.SHADING),(e=Fm(t))?({width:t,height:a}=t.canvas,[t,a,e,r]=f.getAxialAlignedBoundingBox([0,0,t,a],e),this.ctx.fillRect(t,a,e-t,r-a)):this.ctx.fillRect(-1e10,-1e10,2e10,2e10),this.compose(this.current.getClippedPathBoundingBox()),this.restore())}beginInlineImage(){Bg("Should not call beginInlineImage")}beginImageData(){Bg("Should not call beginImageData")}paintFormXObjectBegin(e,t){var a;this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=$m(this.ctx),t)&&(e=t[2]-t[0],a=t[3]-t[1],this.ctx.rect(t[0],t[1],e,a),this.current.updateRectMinMax($m(this.ctx),t),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(this.contentVisible){this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);var a=this.ctx,r=(t.isolated||Ng("TODO: Support non-isolated groups."),t.knockout&&G("Knockout groups not supported."),$m(a));if(t.matrix&&a.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");var i=f.getAxialAlignedBoundingBox(t.bbox,$m(a)),n=[0,0,a.canvas.width,a.canvas.height],i=f.intersect(i,n)||[0,0,0,0],n=Math.floor(i[0]),s=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-n,1),i=Math.max(Math.ceil(i[3])-s,1);this.current.startNewPathAndClipBox([0,0,l,i]);let e="groupAt"+this.groupLevel;t.smask&&(e+="_smask_"+this.smaskCounter++%2);l=this.cachedCanvases.getCanvas(e,l,i),i=l.context;i.translate(-n,-s),i.transform(...r),t.smask?this.smaskStack.push({canvas:l.canvas,context:i,offsetX:n,offsetY:s,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(a.setTransform(1,0,0,1,0,0),a.translate(n,s),a.save()),Xd(a,i),this.ctx=i,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++}}endGroup(e){var t,a;this.contentVisible&&(this.groupLevel--,t=this.ctx,a=this.groupStack.pop(),this.ctx=a,this.ctx.imageSmoothingEnabled=!1,e.smask?(this.tempSMask=this.smaskStack.pop(),this.restore()):(this.ctx.restore(),a=$m(this.ctx),this.restore(),this.ctx.save(),this.ctx.setTransform(...a),e=f.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],a),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(e)))}beginAnnotation(e,t,a,r,i){var n,s,l,o,c;this.#restoreInitialState(),kd(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t&&(n=t[2]-t[0],s=t[3]-t[1],i&&this.annotationCanvasMap?((a=a.slice())[4]-=t[0],a[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=n,t[3]=s,[i,l]=f.singularValueDecompose2dScale($m(this.ctx)),c=this["viewportScale"],o=Math.ceil(n*this.outputScaleX*c),c=Math.ceil(s*this.outputScaleY*c),{canvas:o,context:c}=(this.annotationCanvas=this.canvasFactory.create(o,c),this.annotationCanvas),this.annotationCanvasMap.set(e,o),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(i,0,0,-l,0,s*l),kd(this.ctx)):(kd(this.ctx),this.ctx.rect(t[0],t[1],n,s),this.ctx.clip(),this.endPath())),this.current=new Gd(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...a),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#drawFilter(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){var t,a;this.contentVisible&&(t=e.count,(e=this.getObject(e.data,e)).count=t,t=this.ctx,(a=this.processingType3)&&(void 0===a.compiled&&(a.compiled=Jd(e)),a.compiled)?a.compiled(t):(e=(a=this._createMaskCanvas(e)).canvas,t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(e,a.offsetX,a.offsetY),t.restore(),this.compose()))}paintImageMaskXObjectRepeat(e,a,r=0,i=0,n,s){if(this.contentVisible){e=this.getObject(e.data,e);var l=this.ctx,o=(l.save(),$m(l)),c=(l.transform(a,r,i,n,0,0),this._createMaskCanvas(e));l.setTransform(1,0,0,1,c.offsetX-o[4],c.offsetY-o[5]);for(let e=0,t=s.length;e<t;e+=2){var g=f.transform(o,[a,r,i,n,s[e],s[e+1]]),[g,m]=f.applyTransform([0,0],g);l.drawImage(c.canvas,g,m)}l.restore(),this.compose()}}paintImageMaskXObjectGroup(e){if(this.contentVisible){var t=this.ctx,a=this.current.fillColor,r=this.current.patternFill;for(const g of e){var{data:i,width:n,height:s,transform:l}=g,o=this.cachedCanvases.getCanvas("maskCanvas",n,s),c=o.context,i=(c.save(),this.getObject(i,g));Td(c,i),c.globalCompositeOperation="source-in",c.fillStyle=r?a.getPattern(c,this,Fm(t),gd.FILL):a,c.fillRect(0,0,n,s),c.restore(),t.save(),t.transform(...l),t.scale(1,-1),wd(t,o.canvas,0,0,n,s,0,-1,1,1),t.restore()}this.compose()}}paintImageXObject(e){this.contentVisible&&((e=this.getObject(e))?this.paintInlineImageXObject(e):G("Dependent image isn't ready yet"))}paintImageXObjectRepeat(e,a,r,i){if(this.contentVisible){e=this.getObject(e);if(e){var n=e.width,s=e.height,l=[];for(let e=0,t=i.length;e<t;e+=2)l.push({transform:[a,0,0,r,i[e],i[e+1]],x:0,y:0,w:n,h:s});this.paintInlineImageXObjectGroup(e,l)}else G("Dependent image isn't ready yet")}}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){var t,a;return"none"===this.current.transferMaps?e.bitmap:({bitmap:e,width:t,height:a}=e,(a=(t=this.cachedCanvases.getCanvas("inlineImage",t,a)).context).filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",t.canvas)}paintInlineImageXObject(t){if(this.contentVisible){var a=t.width,r=t.height,i=this.ctx;this.save(),Gg||(n=i["filter"],"none"!==n&&""!==n&&(i.filter="none")),i.scale(1/a,-1/r);let e;e=t.bitmap?this.applyTransferMapsToBitmap(t):"function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data?t:(Ad(n=this.cachedCanvases.getCanvas("inlineImage",a,r).context,t),this.applyTransferMapsToCanvas(n));var n=this._scaleImage(e,Fm(i));i.imageSmoothingEnabled=xd($m(i),t.interpolate),wd(i,n.img,0,0,n.paintWidth,n.paintHeight,0,-r,a,r),this.compose(),this.restore()}}paintInlineImageXObjectGroup(t,a){if(this.contentVisible){var r,i,n=this.ctx;let e;e=t.bitmap||(i=t.width,r=t.height,Ad(i=this.cachedCanvases.getCanvas("inlineImage",i,r).context,t),this.applyTransferMapsToCanvas(i));for(const s of a)n.save(),n.transform(...s.transform),n.scale(1,-1),wd(n,e,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){var t=this.current.isEmptyClip(),e=(this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e),this.ctx);this.pendingClip&&(t||(this.pendingClip===Id?e.clip("evenodd"):e.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),e.beginPath()}getSinglePixelWidth(){var e,t,a;return this._cachedGetSinglePixelWidth||(0===(a=$m(this.ctx))[1]&&0===a[2]?this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(a[0]),Math.abs(a[3])):(e=Math.abs(a[0]*a[3]-a[2]*a[1]),t=Math.hypot(a[0],a[2]),a=Math.hypot(a[1],a[3]),this._cachedGetSinglePixelWidth=Math.max(t,a)/e)),this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){var a,r,i,n=this.current["lineWidth"],{a:s,b:l,c:o,d:c}=this.ctx.getTransform();let e,t;0===l&&0===o?(i=Math.abs(s))===(a=Math.abs(c))?e=t=0===n?1/i:(r=i*n)<1?1/r:1:t=0===n?(e=1/i,1/a):(r=i*n,i=a*n,e=r<1?1/r:1,i<1?1/i:1):(a=Math.abs(s*c-l*o),r=Math.hypot(s,l),i=Math.hypot(o,c),t=0===n?(e=i/a,r/a):(s=n*a,e=s<i?i/s:1,s<r?r/s:1)),this._cachedScaleForStroking[0]=e,this._cachedScaleForStroking[1]=t}return this._cachedScaleForStroking}rescaleAndStroke(e){var t=this["ctx"],a=this.current["lineWidth"],[r,i]=this.getScaleForStroking();if(t.lineWidth=a||1,1===r&&1===i)t.stroke();else{a=t.getLineDash();if(e&&t.save(),t.scale(r,i),0<a.length){const n=Math.max(r,i);t.setLineDash(a.map(e=>e/n)),t.lineDashOffset/=n}t.stroke(),e&&t.restore()}}isContentVisible(){for(let e=this.markedContentStack.length-1;0<=e;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const zu in Fg)void 0!==Dd.prototype[zu]&&(Dd.prototype[Fg[zu]]=Dd.prototype[zu]);class $d{static#port=null;static#src="";static get workerPort(){return this.#port}static set workerPort(e){if(!("undefined"!=typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#port=e}static get workerSrc(){return this.#src}static set workerSrc(e){if("string"!=typeof e)throw new Error("Invalid `workerSrc` type.");this.#src=e}}const Fd={UNKNOWN:0,DATA:1,ERROR:2},Od={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Rd(e){switch(e instanceof Error||"object"==typeof e&&null!==e||Bg('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new am(e.message);case"MissingPDFException":return new Qg(e.message);case"PasswordException":return new Zg(e.message,e.code);case"UnexpectedResponseException":return new em(e.message,e.status);case"UnknownErrorException":return new Yg(e.message,e.details);default:return new Yg(e.message,e.toString())}}class Hd{constructor(e,t,s){this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName===this.sourceName)if(t.stream)this.#processStreamMessage(t);else if(t.callback){var e=t.callbackId,a=this.callbackCapabilities[e];if(!a)throw new Error("Cannot resolve callback "+e);if(delete this.callbackCapabilities[e],t.callback===Fd.DATA)a.resolve(t.data);else{if(t.callback!==Fd.ERROR)throw new Error("Unexpected callback case");a.reject(Rd(t.reason))}}else{const r=this.actionHandler[t.action];if(!r)throw new Error("Unknown action from worker: "+t.action);if(t.callbackId){const i=this.sourceName,n=t.sourceName;void new Promise(function(e){e(r(t.data))}).then(function(e){s.postMessage({sourceName:i,targetName:n,callback:Fd.DATA,callbackId:t.callbackId,data:e})},function(e){s.postMessage({sourceName:i,targetName:n,callback:Fd.ERROR,callbackId:t.callbackId,reason:Rd(e)})})}else t.streamId?this.#createStreamSink(t):r(t.data)}},s.addEventListener("message",this._onComObjOnMessage)}on(e,t){var a=this.actionHandler;if(a[e])throw new Error(`There is already an actionName called "${e}"`);a[e]=t}send(e,t,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},a)}sendWithPromise(e,t,a){var r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},a)}catch(e){i.reject(e)}return i.promise}sendWithStream(a,r,e,i){const n=this.streamId++,s=this.sourceName,l=this.targetName,o=this.comObj;return new ReadableStream({start:e=>{var t=Promise.withResolvers();return this.streamControllers[n]={controller:e,startCall:t,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:s,targetName:l,action:a,streamId:n,data:r,desiredSize:e.desiredSize},i),t.promise},pull:e=>{var t=Promise.withResolvers();return this.streamControllers[n].pullCall=t,o.postMessage({sourceName:s,targetName:l,stream:Od.PULL,streamId:n,desiredSize:e.desiredSize}),t.promise},cancel:e=>{Vg(e instanceof Error,"cancel must have a valid reason");var t=Promise.withResolvers();return this.streamControllers[n].cancelCall=t,this.streamControllers[n].isClosed=!0,o.postMessage({sourceName:s,targetName:l,stream:Od.CANCEL,streamId:n,reason:Rd(e)}),t.promise}},e)}#createStreamSink(t){const i=t.streamId,n=this.sourceName,s=t.sourceName,l=this.comObj,e=this,a=this.actionHandler[t.action],r={enqueue(e,t=1,a){var r;this.isCancelled||(r=this.desiredSize,this.desiredSize-=t,0<r&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:n,targetName:s,stream:Od.ENQUEUE,streamId:i,chunk:e},a))},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:s,stream:Od.CLOSE,streamId:i}),delete e.streamSinks[i])},error(e){Vg(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:s,stream:Od.ERROR,streamId:i,reason:Rd(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};r.sinkCapability.resolve(),r.ready=r.sinkCapability.promise,this.streamSinks[i]=r,new Promise(function(e){e(a(t.data,r))}).then(function(){l.postMessage({sourceName:n,targetName:s,stream:Od.START_COMPLETE,streamId:i,success:!0})},function(e){l.postMessage({sourceName:n,targetName:s,stream:Od.START_COMPLETE,streamId:i,reason:Rd(e)})})}#processStreamMessage(t){const a=t.streamId,r=this.sourceName,i=t.sourceName,n=this.comObj,e=this.streamControllers[a],s=this.streamSinks[a];switch(t.stream){case Od.START_COMPLETE:t.success?e.startCall.resolve():e.startCall.reject(Rd(t.reason));break;case Od.PULL_COMPLETE:t.success?e.pullCall.resolve():e.pullCall.reject(Rd(t.reason));break;case Od.PULL:s?(s.desiredSize<=0&&0<t.desiredSize&&s.sinkCapability.resolve(),s.desiredSize=t.desiredSize,new Promise(function(e){e(s.onPull?.())}).then(function(){n.postMessage({sourceName:r,targetName:i,stream:Od.PULL_COMPLETE,streamId:a,success:!0})},function(e){n.postMessage({sourceName:r,targetName:i,stream:Od.PULL_COMPLETE,streamId:a,reason:Rd(e)})})):n.postMessage({sourceName:r,targetName:i,stream:Od.PULL_COMPLETE,streamId:a,success:!0});break;case Od.ENQUEUE:Vg(e,"enqueue should have stream controller"),e.isClosed||e.controller.enqueue(t.chunk);break;case Od.CLOSE:Vg(e,"close should have stream controller"),e.isClosed||(e.isClosed=!0,e.controller.close(),this.#deleteStreamController(e,a));break;case Od.ERROR:Vg(e,"error should have stream controller"),e.controller.error(Rd(t.reason)),this.#deleteStreamController(e,a);break;case Od.CANCEL_COMPLETE:t.success?e.cancelCall.resolve():e.cancelCall.reject(Rd(t.reason)),this.#deleteStreamController(e,a);break;case Od.CANCEL:s&&(new Promise(function(e){e(s.onCancel?.(Rd(t.reason)))}).then(function(){n.postMessage({sourceName:r,targetName:i,stream:Od.CANCEL_COMPLETE,streamId:a,success:!0})},function(e){n.postMessage({sourceName:r,targetName:i,stream:Od.CANCEL_COMPLETE,streamId:a,reason:Rd(e)})}),s.sinkCapability.reject(Rd(t.reason)),s.isCancelled=!0,delete this.streamSinks[a]);break;default:throw new Error("Unexpected stream case")}}async#deleteStreamController(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class Nd{#metadataMap;#data;constructor({parsedData:e,rawData:t}){this.#metadataMap=e,this.#data=t}getRaw(){return this.#data}get(e){return this.#metadataMap.get(e)??null}getAll(){return sm(this.#metadataMap)}has(e){return this.#metadataMap.has(e)}}const Bd=Symbol("INTERNAL");class Vd{#isDisplay=!1;#isPrint=!1;#userSet=!1;#visible=!0;constructor(e,{name:t,intent:a,usage:r}){this.#isDisplay=!!(e&Xg.DISPLAY),this.#isPrint=!!(e&Xg.PRINT),this.name=t,this.intent=a,this.usage=r}get visible(){var e,t;return this.#userSet?this.#visible:!!this.#visible&&({print:e,view:t}=this.usage,this.#isDisplay?"OFF"!==t?.viewState:!this.#isPrint||"OFF"!==e?.printState)}_setVisible(e,t,a=!1){e!==Bd&&Bg("Internal method `_setVisible` called."),this.#userSet=a,this.#visible=t}}class zd{#cachedGetHash=null;#groups=new Map;#initialHash=null;#order=null;constructor(e,t=Xg.DISPLAY){if(this.renderingIntent=t,this.name=null,(this.creator=null)!==e){this.name=e.name,this.creator=e.creator,this.#order=e.order;for(const a of e.groups)this.#groups.set(a.id,new Vd(t,a));if("OFF"===e.baseState)for(const r of this.#groups.values())r._setVisible(Bd,!1);for(const i of e.on)this.#groups.get(i)._setVisible(Bd,!0);for(const n of e.off)this.#groups.get(n)._setVisible(Bd,!1);this.#initialHash=this.getHash()}}#evaluateVisibilityExpression(a){var e=a.length;if(e<2)return!0;var r=a[0];for(let t=1;t<e;t++){var i=a[t];let e;if(Array.isArray(i))e=this.#evaluateVisibilityExpression(i);else{if(!this.#groups.has(i))return G("Optional content group not found: "+i),!0;e=this.#groups.get(i).visible}switch(r){case"And":if(e)break;return!1;case"Or":if(e)return!0;break;case"Not":return!e;default:return!0}}return"And"===r}isVisible(e){if(0!==this.#groups.size)if(e){if("OCG"===e.type)return this.#groups.has(e.id)?this.#groups.get(e.id).visible:(G("Optional content group not found: "+e.id),!0);if("OCMD"===e.type){if(e.expression)return this.#evaluateVisibilityExpression(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#groups.has(t))return G("Optional content group not found: "+t),!0;if(this.#groups.get(t).visible)return!0}return!1}if("AllOn"===e.policy)for(const a of e.ids){if(!this.#groups.has(a))return G("Optional content group not found: "+a),!0;if(!this.#groups.get(a).visible)return!1}else{if("AnyOff"===e.policy){for(const r of e.ids){if(!this.#groups.has(r))return G("Optional content group not found: "+r),!0;if(!this.#groups.get(r).visible)return!0}return!1}if("AllOff"===e.policy)for(const i of e.ids){if(!this.#groups.has(i))return G("Optional content group not found: "+i),!0;if(this.#groups.get(i).visible)return!1}else G(`Unknown optional content policy ${e.policy}.`)}}else G(`Unknown group type ${e.type}.`)}else Ng("Optional content group not defined.");return!0}setVisibility(e,t=!0){var a=this.#groups.get(e);a?(a._setVisible(Bd,!!t,!0),this.#cachedGetHash=null):G("Optional content group not found: "+e)}setOCGState({state:e}){let t;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":t=r;continue}var a=this.#groups.get(r);if(a)switch(t){case"ON":a._setVisible(Bd,!0);break;case"OFF":a._setVisible(Bd,!1);break;case"Toggle":a._setVisible(Bd,!a.visible)}}this.#cachedGetHash=null}get hasInitialVisibility(){return null===this.#initialHash||this.getHash()===this.#initialHash}getOrder(){return this.#groups.size?this.#order?this.#order.slice():[...this.#groups.keys()]:null}getGroups(){return 0<this.#groups.size?sm(this.#groups):null}getGroup(e){return this.#groups.get(e)||null}getHash(){if(null!==this.#cachedGetHash)return this.#cachedGetHash;var e,t,a=new ad;for([e,t]of this.#groups)a.update(e+":"+t.visible);return this.#cachedGetHash=a.hexdigest()}}class Ud{constructor(e,{disableRange:t=!1,disableStream:a=!1}){Vg(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');var{length:r,initialData:i,progressiveDone:n,contentDispositionFilename:s}=e;this._queuedChunks=[],this._progressiveDone=n,this._contentDispositionFilename=s,0<i?.length&&(n=(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i:new Uint8Array(i)).buffer,this._queuedChunks.push(n)),this._pdfDataRangeTransport=e,this._isStreamingSupported=!a,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),e.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),e.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:t,chunk:e}){const a=(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e:new Uint8Array(e)).buffer;void 0===t?this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a):Vg(this._rangeReaders.some(function(e){return e._begin===t&&(e._enqueue(a),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){e=this._rangeReaders.indexOf(e);0<=e&&this._rangeReaders.splice(e,1)}getFullReader(){Vg(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new jd(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){var a;return t<=this._progressiveDataLength?null:(a=new Wd(this,e,t),this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(a),a)}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class jd{constructor(e,t,a=!1,r=null){this._stream=e,this._done=a||!1,this._filename=Tm(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),(e._fullRequestReader=this).onProgress=null}_enqueue(e){this._done||(0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){var e;return 0<this._queuedChunks.length?{value:this._queuedChunks.shift(),done:!1}:this._done?{value:void 0,done:!0}:(e=Promise.withResolvers(),this._requests.push(e),e.promise)}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Wd{constructor(e,t,a){this._stream=e,this._begin=t,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){var e;return this._queuedChunk?(e=this._queuedChunk,this._queuedChunk=null,{value:e,done:!1}):this._done?{value:void 0,done:!0}:(e=Promise.withResolvers(),this._requests.push(e),e.promise)}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Zd(e){let i=!0,t=l("filename\\*","i").exec(e);var a;return t?(a=o(t=t[1]),r(a=s(a=c(a=unescape(a))))):(t=function(e){var r=[];var t=l("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(a=t.exec(e));){var[,a,i,n]=a;if((a=parseInt(a,10))in r){if(0===a)break}else r[a]=[i,n]}var s=[];for(let a=0;a<r.length&&a in r;++a){let[e,t]=r[a];t=o(t),e&&(t=unescape(t),0===a)&&(t=c(t)),s.push(t)}return s.join("")}(e))?r(s(t)):(t=l("filename","i").exec(e))?r(s(o(t=t[1]))):"";function l(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function n(e,t){if(e){if(!/^[\x00-\xFF]+$/.test(t))return t;try{var a=new TextDecoder(e,{fatal:!0}),r=im(t);t=a.decode(r),i=!1}catch{}}return t}function r(e){return e=i&&/[\x80-\xff]/.test(e)&&(e=n("utf-8",e),i)?n("iso-8859-1",e):e}function o(e){if(e.startsWith('"')){var t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){var a=t[e].indexOf('"');-1!==a&&(t[e]=t[e].slice(0,a),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function c(e){var t=e.indexOf("'");return-1===t?e:n(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function s(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,a,r){if("q"===a||"Q"===a)return n(t,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{r=atob(r)}catch{}return n(t,r)})}}function Yd({getResponseHeader:e,isHttp:t,rangeChunkSize:a,disableRange:r}){var i={allowRangeRequests:!1,suggestedLength:void 0},n=parseInt(e("Content-Length"),10);return!Number.isInteger(n)||(i.suggestedLength=n)<=2*a||!r&&t&&"bytes"===e("Accept-Ranges")&&"identity"===(e("Content-Encoding")||"identity")&&(i.allowRangeRequests=!0),i}function Kd(t){t=t("Content-Disposition");if(t){let e=Zd(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Tm(e))return e}return null}function Qd(e,t){return 404===e||0===e&&t.startsWith("file:")?new Qg('Missing PDF "'+t+'".'):new em(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function e1(e){return 200===e||206===e}function t1(e,t,a){return{method:"GET",headers:e,signal:a.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function a1(e){var t=new Headers;for(const r in e){var a=e[r];void 0!==a&&t.append(r,a)}return t}function r1(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(G("getArrayBuffer - unexpected data format: "+e),new Uint8Array(e).buffer)}class i1{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Vg(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new n1(this),this._fullRequestReader}getRangeReader(e,t){return t<=this._progressiveDataLength?null:(e=new s1(this,e,t),this._rangeRequestReaders.push(e),e)}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class n1{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;e=e.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=a1(this._stream.httpHeaders);const i=e.url;fetch(i,t1(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!e1(t.status))throw Qd(t.status,i);this._reader=t.body.getReader(),this._headersCapability.resolve();var e=e=>t.headers.get(e),{allowRangeRequests:a,suggestedLength:r}=Yd({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=r||this._contentLength,this._filename=Kd(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new am("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;var{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:r1(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class s1{constructor(e,t,a){this._stream=e,this._reader=null,this._loaded=0;e=e.source;this._withCredentials=e.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!e.disableStream,this._abortController=new AbortController,this._headers=a1(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-`+(a-1));const r=e.url;fetch(r,t1(this._headers,this._withCredentials,this._abortController)).then(e=>{if(!e1(e.status))throw Qd(e.status,r);this._readCapability.resolve(),this._reader=e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;var{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:r1(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}function l1(e){e=e.response;return"string"!=typeof e?e:im(e).buffer}class o1{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,a){var r={begin:e,end:t};for(const i in a)r[i]=a[i];return this.request(r)}requestFull(e){return this.request(e)}request(t){const a=new XMLHttpRequest;var e=this.currXhrId++,r=this.pendingRequests[e]={xhr:a};a.open("GET",this.url),a.withCredentials=this.withCredentials;for(const n in this.httpHeaders){var i=this.httpHeaders[n];void 0!==i&&a.setRequestHeader(n,i)}return this.isHttp&&"begin"in t&&"end"in t?(a.setRequestHeader("Range",`bytes=${t.begin}-`+(t.end-1)),r.expectedStatus=206):r.expectedStatus=200,a.responseType="arraybuffer",t.onError&&(a.onerror=function(e){t.onError(a.status)}),a.onreadystatechange=this.onStateChange.bind(this,e),a.onprogress=this.onProgress.bind(this,e),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,a.send(null),e}onProgress(e,t){e=this.pendingRequests[e];e&&e.onProgress?.(t)}onStateChange(e,t){var a,r,i=this.pendingRequests[e];i&&(2<=(a=i.xhr).readyState&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4===a.readyState)&&e in this.pendingRequests&&(delete this.pendingRequests[e],(0!==a.status||!this.isHttp)&&(200===(e=a.status||200)&&206===i.expectedStatus||e===i.expectedStatus)?(r=l1(a),206===e?(e=a.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(e),i.onDone({begin:parseInt(e[1],10),chunk:r})):r?i.onDone({begin:0,chunk:r}):i.onError?.(a.status)):i.onError?.(a.status))}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class c1{constructor(e){this._source=e,this._manager=new o1(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){e=this._rangeRequestReaders.indexOf(e);0<=e&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Vg(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g1(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){e=new m1(this._manager,e,t);return e.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(e),e}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class g1{constructor(e,t){this._manager=e;var a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(a),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){var e=this._fullRequestId;const t=this._manager.getRequestXhr(e);var a=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:i}=Yd({getResponseHeader:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=Kd(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(0<this._requests.length?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(0<this._cachedChunks.length)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Qd(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;var e;return 0<this._cachedChunks.length?{value:this._cachedChunks.shift(),done:!1}:this._done?{value:void 0,done:!0}:(e=Promise.withResolvers(),this._requests.push(e),e.promise)}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class m1{constructor(e,t,a){this._manager=e;var r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,a,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){e=e.chunk;0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Qd(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;var e;return null!==this._queuedChunk?(e=this._queuedChunk,this._queuedChunk=null,{value:e,done:!1}):this._done?{value:void 0,done:!0}:(e=Promise.withResolvers(),this._requests.push(e),e.promise)}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const d1=/^file:\/\/\/[a-zA-Z]:\//;function p1(e){var t=od.get("url"),a=t.parse(e);if("file:"!==a.protocol&&!a.host){if(/^[a-z]:[/\\]/i.test(e))return t.parse("file:///"+e);a.host||(a.protocol="file:")}return a}class u1{constructor(e){this.source=e,this.url=p1(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Vg(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new(this.isFsUrl?P1:S1)(this),this._fullRequestReader}getRangeReader(e,t){return t<=this._progressiveDataLength?null:(e=new(this.isFsUrl?C1:f1)(this,e,t),this._rangeRequestReaders.push(e),e)}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class h1{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;e=e.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;var e=this._readableStream.read();return null===e?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){(this._readableStream=e).on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new am("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class y1{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();e=e.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;var e=this._readableStream.read();return null===e?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){(this._readableStream=e).on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _1(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class S1 extends h1{constructor(r){super(r);var e,t=e=>{var t,a;404===e.statusCode?(t=new Qg(`Missing PDF "${this._url}".`),this._storedError=t,this._headersCapability.reject(t)):(this._headersCapability.resolve(),this._setReadableStream(e),{allowRangeRequests:e,suggestedLength:a}=Yd({getResponseHeader:t=e=>this._readableStream.headers[e.toLowerCase()],isHttp:r.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),this._isRangeSupported=e,this._contentLength=a||this._contentLength,this._filename=Kd(t))};this._request=null,"http:"===this._url.protocol?(e=od.get("http"),this._request=e.request(_1(this._url,r.httpHeaders),t)):(e=od.get("https"),this._request=e.request(_1(this._url,r.httpHeaders),t)),this._request.on("error",e=>{this._storedError=e,this._headersCapability.reject(e)}),this._request.end()}}class f1 extends y1{constructor(e,t,a){super(e),this._httpHeaders={};for(const i in e.httpHeaders){var r=e.httpHeaders[i];void 0!==r&&(this._httpHeaders[i]=r)}this._httpHeaders.Range=`bytes=${t}-`+(a-1);t=e=>{var t;404===e.statusCode?(t=new Qg(`Missing PDF "${this._url}".`),this._storedError=t):this._setReadableStream(e)};this._request=null,"http:"===this._url.protocol?(a=od.get("http"),this._request=a.request(_1(this._url,this._httpHeaders),t)):(a=od.get("https"),this._request=a.request(_1(this._url,this._httpHeaders),t)),this._request.on("error",e=>{this._storedError=e}),this._request.end()}}class P1 extends h1{constructor(e){super(e);let t=decodeURIComponent(this._url.path);d1.test(this._url.href)&&(t=t.replace(/^\//,""));const a=od.get("fs");a.promises.lstat(t).then(e=>{this._contentLength=e.size,this._setReadableStream(a.createReadStream(t)),this._headersCapability.resolve()},e=>{"ENOENT"===e.code&&(e=new Qg(`Missing PDF "${t}".`)),this._storedError=e,this._headersCapability.reject(e)})}}class C1 extends y1{constructor(e,t,a){super(e);let r=decodeURIComponent(this._url.path);d1.test(this._url.href)&&(r=r.replace(/^\//,""));e=od.get("fs");this._setReadableStream(e.createReadStream(r,{start:t,end:a-1}))}}class b1{#capability=Promise.withResolvers();#container=null;#disableProcessItems=!1;#fontInspectorEnabled=!!globalThis.FontInspector?.enabled;#lang=null;#layoutTextParams=null;#pageHeight=0;#pageWidth=0;#reader=null;#rootContainer=null;#rotation=0;#scale=0;#styleCache=Object.create(null);#textContentItemsStr=[];#textContentSource=null;#textDivs=[];#textDivProperties=new WeakMap;#transform=null;static#ascentCache=new Map;static#canvasContexts=new Map;static#minFontSize=null;static#pendingTextLayers=new Set;constructor({textContentSource:t,container:e,viewport:a}){if(t instanceof ReadableStream)this.#textContentSource=t;else{if("object"!=typeof t)throw new Error('No "textContentSource" parameter specified.');this.#textContentSource=new ReadableStream({start(e){e.enqueue(t),e.close()}})}this.#container=this.#rootContainer=e,this.#scale=a.scale*(globalThis.devicePixelRatio||1),this.#rotation=a.rotation,this.#layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};var{pageWidth:r,pageHeight:i,pageX:n,pageY:s}=a.rawDims;this.#transform=[1,0,0,-1,-n,s+i],this.#pageWidth=r,this.#pageHeight=i,b1.#ensureMinFontSizeComputed(),Om(e,a),this.#capability.promise.catch(()=>{}).then(()=>{b1.#pendingTextLayers.delete(this),this.#layoutTextParams=null,this.#styleCache=null})}render(){const a=()=>{this.#reader.read().then(({value:e,done:t})=>{t?this.#capability.resolve():(this.#lang??=e.lang,Object.assign(this.#styleCache,e.styles),this.#processItems(e.items),a())},this.#capability.reject)};return this.#reader=this.#textContentSource.getReader(),b1.#pendingTextLayers.add(this),a(),this.#capability.promise}update({viewport:e,onBefore:t=null}){var a=e.scale*(globalThis.devicePixelRatio||1),e=e.rotation;if(e!==this.#rotation&&(t?.(),this.#rotation=e,Om(this.#rootContainer,{rotation:e})),a!==this.#scale){t?.(),this.#scale=a;var r={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:b1.#getCtx(this.#lang)};for(const i of this.#textDivs)r.properties=this.#textDivProperties.get(i),r.div=i,this.#layout(r)}}cancel(){var e=new am("TextLayer task cancelled.");this.#reader?.cancel(e).catch(()=>{}),this.#reader=null,this.#capability.reject(e)}get textDivs(){return this.#textDivs}get textContentItemsStr(){return this.#textContentItemsStr}#processItems(e){if(!this.#disableProcessItems){this.#layoutTextParams.ctx??=b1.#getCtx(this.#lang);var t,a=this.#textDivs,r=this.#textContentItemsStr;for(const i of e){if(1e5<a.length)return G("Ignoring additional textDivs for performance reasons."),void(this.#disableProcessItems=!0);void 0===i.str?"beginMarkedContentProps"===i.type||"beginMarkedContent"===i.type?(t=this.#container,this.#container=document.createElement("span"),this.#container.classList.add("markedContent"),null!==i.id&&this.#container.setAttribute("id",""+i.id),t.append(this.#container)):"endMarkedContent"===i.type&&(this.#container=this.#container.parentNode):(r.push(i.str),this.#appendText(i))}}}#appendText(e){var t=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0},r=(this.#textDivs.push(t),f.transform(this.#transform,e.transform));let i=Math.atan2(r[1],r[0]);var n=this.#styleCache[e.fontName],s=(n.vertical&&(i+=Math.PI/2),this.#fontInspectorEnabled&&n.fontSubstitution||n.fontFamily),l=Math.hypot(r[2],r[3]),o=l*b1.#getAscent(s,this.#lang);let c,g;g=0===i?(c=r[4],r[5]-o):(c=r[4]+o*Math.sin(i),r[5]-o*Math.cos(i));var r="calc(var(--scale-factor)*",o=t.style;this.#container===this.#rootContainer?(o.left=(100*c/this.#pageWidth).toFixed(2)+"%",o.top=(100*g/this.#pageHeight).toFixed(2)+"%"):(o.left=r+c.toFixed(2)+"px)",o.top=r+g.toFixed(2)+"px)"),o.fontSize=r+(b1.#minFontSize*l).toFixed(2)+"px)",o.fontFamily=s,a.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#fontInspectorEnabled&&(t.dataset.fontName=n.fontSubstitutionLoadedName||e.fontName),0!==i&&(a.angle=i*(180/Math.PI));let m=!1;(m=1<e.str.length||" "!==e.str&&e.transform[0]!==e.transform[3]&&(r=Math.abs(e.transform[0]))!==(o=Math.abs(e.transform[3]))&&1.5<Math.max(r,o)/Math.min(r,o)?!0:m)&&(a.canvasWidth=n.vertical?e.height:e.width),this.#textDivProperties.set(t,a),this.#layoutTextParams.div=t,this.#layoutTextParams.properties=a,this.#layout(this.#layoutTextParams),a.hasText&&this.#container.append(t),a.hasEOL&&((s=document.createElement("br")).setAttribute("role","presentation"),this.#container.append(s))}#layout(e){var t,a,r,{div:i,properties:n,ctx:s,prevFontSize:l,prevFontFamily:o}=e,c=i["style"];let g="";1<b1.#minFontSize&&(g=`scale(${1/b1.#minFontSize})`),0!==n.canvasWidth&&n.hasText&&(t=c["fontFamily"],{canvasWidth:a,fontSize:r}=n,l=(l===r&&o===t||(s.font=r*this.#scale+"px "+t,e.prevFontSize=r,e.prevFontFamily=t),s.measureText(i.textContent))["width"],0<l)&&(g=`scaleX(${a*this.#scale/l}) `+g),0<(g=0!==n.angle?`rotate(${n.angle}deg) `+g:g).length&&(c.transform=g)}static cleanup(){if(!(0<this.#pendingTextLayers.size)){this.#ascentCache.clear();for(var{canvas:e}of this.#canvasContexts.values())e.remove();this.#canvasContexts.clear()}}static#getCtx(e=null){let t=this.#canvasContexts.get(e||="");var a;return t||((a=document.createElement("canvas")).className="hiddenCanvasElement",a.lang=e,document.body.append(a),t=a.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#canvasContexts.set(e,t)),t}static#ensureMinFontSizeComputed(){var e;null===this.#minFontSize&&((e=document.createElement("div")).style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),this.#minFontSize=e.getBoundingClientRect().height,e.remove())}static#getAscent(e,t){var a=this.#ascentCache.get(e);if(a)return a;var a=this.#getCtx(t),t=a.font,r=(a.canvas.width=a.canvas.height=30,a.font="30px "+e,a.measureText(""));let i=r.fontBoundingBoxAscent,n=Math.abs(r.fontBoundingBoxDescent);if(i){const l=i/(i+n);return this.#ascentCache.set(e,l),a.canvas.width=a.canvas.height=0,a.font=t,l}a.strokeStyle="red",a.clearRect(0,0,30,30),a.strokeText("g",0,0);let s=a.getImageData(0,0,30,30).data;n=0;for(let e=s.length-1-3;0<=e;e-=4)if(0<s[e]){n=Math.ceil(e/4/30);break}a.clearRect(0,0,30,30),a.strokeText("A",0,30),s=a.getImageData(0,0,30,30).data;for(let e=i=0,t=s.length;e<t;e+=4)if(0<s[e]){i=30-Math.floor(e/4/30);break}a.canvas.width=a.canvas.height=0,a.font=t;const l=i?i/(i+n):.8;return this.#ascentCache.set(e,l),l}}class q1{static textContent(e){const n=[];var t={items:n,styles:Object.create(null)};return function t(a){if(a){let e=null;var r=a.name;if("#text"===r)e=a.value;else{if(!q1.shouldBuildText(r))return;a?.attributes?.textContent?e=a.attributes.textContent:a.value&&(e=a.value)}if(null!==e&&n.push({str:e}),a.children)for(const i of a.children)t(i)}}(e),t}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const v1=65536,w1=Gg?class extends _m{_createCanvas(e,t){return od.get("canvas").createCanvas(e,t)}}:class extends _m{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){var a=this._document.createElement("canvas");return a.width=e,a.height=t,a}},J1=Gg?class extends Sm{_fetchData(e,t){return cd(e).then(e=>({cMapData:e,compressionType:t}))}}:qm,G1=Gg?class extends ym{}:class extends ym{#_cache;#_defs;#docId;#document;#_hcmCache;#id=0;constructor({docId:e,ownerDocument:t=globalThis.document}={}){super(),this.#docId=e,this.#document=t}get#cache(){return this.#_cache||=new Map}get#hcmCache(){return this.#_hcmCache||=new Map}get#defs(){var e,t;return this.#_defs||(t=(e=this.#document.createElement("div"))["style"],t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1,(t=this.#document.createElementNS(Pm,"svg")).setAttribute("width",0),t.setAttribute("height",0),this.#_defs=this.#document.createElementNS(Pm,"defs"),e.append(t),t.append(this.#_defs),this.#document.body.append(e)),this.#_defs}#createTables(e){if(1===e.length){const r=e[0];var t=new Array(256);for(let e=0;e<256;e++)t[e]=r[e]/255;var a=t.join(",");return[a,a,a]}const[r,i,n]=e;var s=new Array(256),l=new Array(256),o=new Array(256);for(let e=0;e<256;e++)s[e]=r[e]/255,l[e]=i[e]/255,o[e]=n[e]/255;return[s.join(","),l.join(","),o.join(",")]}addFilter(e){var t,a,r,i,n;return e?(i=this.#cache.get(e))||([t,a,r]=this.#createTables(e),n=1===e.length?t:""+t+a+r,(i=this.#cache.get(n))?(this.#cache.set(e,i),i):(i=`g_${this.#docId}_transfer_map_`+this.#id++,this.#cache.set(e,e=`url(#${i})`),this.#cache.set(n,e),n=this.#createFilter(i),this.#addTransferMapConversion(t,a,r,n),e)):"none"}addHCMFilter(e,t){var a=e+"-"+t;let r=this.#hcmCache.get("base");if(r?.key!==a&&(r?(r.filter?.remove(),r.key=a,r.url="none",r.filter=null):(r={key:a,url:"none",filter:null},this.#hcmCache.set("base",r)),e)&&t){const s=this.#getRGB(e),l=(e=f.makeHexColor(...s),this.#getRGB(t));if(t=f.makeHexColor(...l),this.#defs.style.color="",("#000000"!==e||"#ffffff"!==t)&&e!==t){var i=new Array(256);for(let e=0;e<=255;e++){var n=e/255;i[e]=n<=.03928?n/12.92:((.055+n)/1.055)**2.4}a=i.join(","),e=`g_${this.#docId}_hcm_filter`,t=r.filter=this.#createFilter(e),a=(this.#addTransferMapConversion(a,a,a,t),this.#addGrayConversion(t),(e,t)=>{var a=s[e]/255,r=l[e]/255,i=new Array(t+1);for(let e=0;e<=t;e++)i[e]=a+e/t*(r-a);return i.join(",")});this.#addTransferMapConversion(a(0,5),a(1,5),a(2,5),t),r.url=`url(#${e})`}}return r.url}addAlphaFilter(e){var t,a,r=this.#cache.get(e);return r||([t]=this.#createTables([e]),(r=this.#cache.get(a="alpha_"+t))?(this.#cache.set(e,r),r):(r=`g_${this.#docId}_alpha_map_`+this.#id++,this.#cache.set(e,e=`url(#${r})`),this.#cache.set(a,e),a=this.#createFilter(r),this.#addTransferMapAlphaConversion(t,a),e))}addLuminosityFilter(e){var t,a=this.#cache.get(e||"luminosity");if(a)return a;let r,i;return i=e?([r]=this.#createTables([e]),"luminosity_"+r):"luminosity",(a=this.#cache.get(i))?(this.#cache.set(e,a),a):(a=`g_${this.#docId}_luminosity_map_`+this.#id++,this.#cache.set(e,t=`url(#${a})`),this.#cache.set(i,t),a=this.#createFilter(a),this.#addLuminosityConversion(a),e&&this.#addTransferMapAlphaConversion(r,a),t)}addHighlightHCMFilter(a,r,i,n,s){var l=r+`-${i}-${n}-`+s;let o=this.#hcmCache.get(a);if(o?.key!==l&&(o?(o.filter?.remove(),o.key=l,o.url="none",o.filter=null):(o={key:l,url:"none",filter:null},this.#hcmCache.set(a,o)),r)&&i){var[l,r]=[r,i].map(this.#getRGB.bind(this));let g=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),m=Math.round(.2126*r[0]+.7152*r[1]+.0722*r[2]),[e,t]=[n,s].map(this.#getRGB.bind(this));m<g&&([g,m,e,t]=[m,g,t,e]),this.#defs.style.color="";i=(e,t,a)=>{var r=new Array(256),i=(m-g)/a,n=e/255,s=(t-e)/(255*a);let l=0;for(let e=0;e<=a;e++){var o=Math.round(g+e*i),c=n+e*s;for(let e=l;e<=o;e++)r[e]=c;l=o+1}for(let e=l;e<256;e++)r[e]=r[l-1];return r.join(",")},l=`g_${this.#docId}_hcm_${a}_filter`,r=o.filter=this.#createFilter(l);this.#addGrayConversion(r),this.#addTransferMapConversion(i(e[0],t[0],5),i(e[1],t[1],5),i(e[2],t[2],5),r),o.url=`url(#${l})`}return o.url}destroy(e=!1){e&&0!==this.#hcmCache.size||(this.#_defs&&(this.#_defs.parentNode.parentNode.remove(),this.#_defs=null),this.#_cache&&(this.#_cache.clear(),this.#_cache=null),this.#id=0)}#addLuminosityConversion(e){var t=this.#document.createElementNS(Pm,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#addGrayConversion(e){var t=this.#document.createElementNS(Pm,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#createFilter(e){var t=this.#document.createElementNS(Pm,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#defs.append(t),t}#appendFeFunc(e,t,a){t=this.#document.createElementNS(Pm,t);t.setAttribute("type","discrete"),t.setAttribute("tableValues",a),e.append(t)}#addTransferMapConversion(e,t,a,r){var i=this.#document.createElementNS(Pm,"feComponentTransfer");r.append(i),this.#appendFeFunc(i,"feFuncR",e),this.#appendFeFunc(i,"feFuncG",t),this.#appendFeFunc(i,"feFuncB",a)}#addTransferMapAlphaConversion(e,t){var a=this.#document.createElementNS(Pm,"feComponentTransfer");t.append(a),this.#appendFeFunc(a,"feFuncA",e)}#getRGB(e){return this.#defs.style.color=e,Im(getComputedStyle(this.#defs).getPropertyValue("color"))}},A1=Gg?class extends fm{_fetchData(e){return cd(e)}}:vm;function T1(e){return"object"==typeof e&&Number.isInteger(e?.num)&&0<=e.num&&Number.isInteger(e?.gen)&&0<=e.gen}class X1{static#docId=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+X1.#docId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class k1{constructor(e,t,a=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=a,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const a of this._rangeListeners)a(e,t)}onDataProgress(t,a){this._readyCapability.promise.then(()=>{for(const e of this._progressListeners)e(t,a)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Bg("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class x1{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return n(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){e=this._transport.getRenderingIntent(e).renderingIntent;return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class L1{#delayedCleanupTimeout=null;#pendingCleanup=!1;constructor(e,t,a,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=a,this._stats=r?new Xm:null,this._pdfBug=r,this.commonObjs=a.commonObjs,this.objs=new F1,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:a=0,offsetY:r=0,dontFlip:i=!1}={}){return new Jm({viewBox:this.view,scale:e,rotation:t,offsetX:a,offsetY:r,dontFlip:i})}getAnnotations({intent:e="display"}={}){e=this._transport.getRenderingIntent(e).renderingIntent;return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return n(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:a="display",annotationMode:r=kg.ENABLE,transform:i=null,background:n=null,optionalContentConfigPromise:s=null,annotationCanvasMap:l=null,pageColors:o=null,printAnnotationStorage:c=null}){this._stats?.time("Overall");a=this._transport.getRenderingIntent(a,r,c);const{renderingIntent:g,cacheKey:m}=a;this.#pendingCleanup=!1,this.#abortDelayedCleanup(),s||=this._transport.getOptionalContentConfig(g);let d=this._intentStates.get(m);d||(d=Object.create(null),this._intentStates.set(m,d)),d.streamReaderCancelTimeout&&(clearTimeout(d.streamReaderCancelTimeout),d.streamReaderCancelTimeout=null);const p=!!(g&Xg.PRINT),u=(d.displayReadyCapability||(d.displayReadyCapability=Promise.withResolvers(),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),e=>{d.renderTasks.delete(h),(this._maybeCleanupAfterRender||p)&&(this.#pendingCleanup=!0),this.#tryCleanup(!p),e?(h.capability.reject(e),this._abortOperatorList({intentState:d,reason:e instanceof Error?e:new Error(e)})):h.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled)&&globalThis.Stats.add(this.pageNumber,this._stats)}),h=new R1({callback:u,params:{canvasContext:e,viewport:t,transform:i,background:n},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:d.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!p,pdfBug:this._pdfBug,pageColors:o});(d.renderTasks||=new Set).add(h);r=h.task;return Promise.all([d.displayReadyCapability.promise,s]).then(([e,t])=>{if(this.destroyed)u();else{if(this._stats?.time("Rendering"),!(t.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");h.initializeGraphics({transparency:e,optionalContentConfig:t}),h.operatorListChanged()}}).catch(u),r}getOperatorList({intent:e="display",annotationMode:t=kg.ENABLE,printAnnotationStorage:a=null}={}){e=this._transport.getRenderingIntent(e,t,a,!0);let r=this._intentStates.get(e.cacheKey);r||(r=Object.create(null),this._intentStates.set(e.cacheKey,r));let i;return r.opListReadCapability||((i=Object.create(null)).operatorListChanged=function(){r.operatorList.lastChunk&&(r.opListReadCapability.resolve(r.operatorList),r.renderTasks.delete(i))},r.opListReadCapability=Promise.withResolvers(),(r.renderTasks||=new Set).add(i),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(e)),r.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size(e){return e.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>q1.textContent(e));const a=this.streamTextContent(e);return new Promise(function(r,e){const t=a.getReader(),i={items:[],styles:Object.create(null),lang:null};!function a(){t.read().then(function({value:e,done:t}){t?r(i):(i.lang??=e.lang,Object.assign(i.styles,e.styles),i.items.push(...e.items),a())},e)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;var e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const a of t.renderTasks)e.push(a.completed),a.cancel();return this.objs.clear(),this.#pendingCleanup=!1,this.#abortDelayedCleanup(),Promise.all(e)}cleanup(e=!1){this.#pendingCleanup=!0;var t=this.#tryCleanup(!1);return e&&t&&(this._stats&&=new Xm),t}#tryCleanup(e=!1){if(this.#abortDelayedCleanup(),!this.#pendingCleanup||this.destroyed)return!1;if(e)return this.#delayedCleanupTimeout=setTimeout(()=>{this.#delayedCleanupTimeout=null,this.#tryCleanup(!1)},5e3),!1;for(var{renderTasks:t,operatorList:a}of this._intentStates.values())if(0<t.size||!a.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),!(this.#pendingCleanup=!1)}#abortDelayedCleanup(){this.#delayedCleanupTimeout&&(clearTimeout(this.#delayedCleanupTimeout),this.#delayedCleanupTimeout=null)}_startRenderPage(e,t){t=this._intentStates.get(t);t&&(this._stats?.timeEnd("Page Request"),t.displayReadyCapability?.resolve(e))}_renderPageChunk(a,r){for(let e=0,t=a.length;e<t;e++)r.operatorList.fnArray.push(a.fnArray[e]),r.operatorList.argsArray.push(a.argsArray[e]);r.operatorList.lastChunk=a.lastChunk,r.operatorList.separateAnnots=a.separateAnnots;for(const e of r.renderTasks)e.operatorListChanged();a.lastChunk&&this.#tryCleanup(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:a}){var{map:a,transfer:r}=a;const i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a},r).getReader(),n=this._intentStates.get(t),s=(n.streamReader=i,()=>{i.read().then(({value:e,done:t})=>{t?n.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,n),s())},e=>{if(n.streamReader=null,!this._transport.destroyed){if(n.operatorList){n.operatorList.lastChunk=!0;for(const t of n.renderTasks)t.operatorListChanged();this.#tryCleanup(!0)}if(n.displayReadyCapability)n.displayReadyCapability.reject(e);else{if(!n.opListReadCapability)throw e;n.opListReadCapability.reject(e)}}})});s()}_abortOperatorList({intentState:t,reason:a,force:e=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!e){if(0<t.renderTasks.size)return;if(a instanceof Gm){let e=100;return 0<a.extraDelay&&a.extraDelay<1e3&&(e+=a.extraDelay),void(t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:a,force:!0})},e))}}if(t.streamReader.cancel(new am(a.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(var[r,i]of this._intentStates)if(i===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}class E1{#listeners=new Set;#deferred=Promise.resolve();postMessage(e,t){const a={data:structuredClone(e,t?{transfer:t}:null)};this.#deferred.then(()=>{for(const e of this.#listeners)e.call(this,a)})}addEventListener(e,t){this.#listeners.add(t)}removeEventListener(e,t){this.#listeners.delete(t)}terminate(){this.#listeners.clear()}}const M1={isWorkerDisabled:!1,fakeWorkerId:0};Gg&&(M1.isWorkerDisabled=!0,$d.workerSrc||="./pdf.worker.mjs"),M1.isSameOrigin=function(e,t){let a;try{if(!(a=new URL(e)).origin||"null"===a.origin)return!1}catch{return!1}e=new URL(t,a);return a.origin===e.origin},M1.createCDNWrapper=function(e){return URL.createObjectURL(new Blob([`await import("${e}");`],{type:"text/javascript"}))};class I1{static#workerPorts;constructor({name:e=null,port:t=null,verbosity:a=Hg()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=a,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(I1.#workerPorts?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(I1.#workerPorts||=new WeakMap).set(t,this),this._initializeFromPort(t)}else this._initialize()}get promise(){return Gg?Promise.all([od.promise,this._readyCapability.promise]):this._readyCapability.promise}#resolve(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Hd("main","worker",e),this._messageHandler.on("ready",function(){}),this.#resolve()}_initialize(){if(!M1.isWorkerDisabled&&!I1.#mainThreadWorkerMessageHandler){let e=I1["workerSrc"];try{M1.isSameOrigin(window.location.href,e)||(e=M1.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),a=new Hd("main","worker",t),r=()=>{i.abort(),a.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController,n=(t.addEventListener("error",()=>{this._webWorker||r()},{signal:i.signal}),a.on("test",e=>{i.abort(),this.destroyed||!e?r():(this._messageHandler=a,this._port=t,this._webWorker=t,this.#resolve())}),a.on("ready",e=>{if(i.abort(),this.destroyed)r();else try{n()}catch{this._setupFakeWorker()}}),()=>{var e=new Uint8Array;a.send("test",e,[e.buffer])});return void n()}catch{Ng("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){M1.isWorkerDisabled||(G("Setting up fake worker."),M1.isWorkerDisabled=!0),I1._setupFakeWorkerGlobal.then(e=>{var t,a,r;this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):(t=new E1,this._port=t,a="fake"+M1.fakeWorkerId++,r=new Hd(a+"_worker",a,t),e.setup(r,t),this._messageHandler=new Hd(a,a+"_worker",t),this.#resolve())}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),I1.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");var t=this.#workerPorts?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new I1(e)}static get workerSrc(){if($d.workerSrc)return $d.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return n(this,"_setupFakeWorkerGlobal",(async()=>{return this.#mainThreadWorkerMessageHandler||(await import(this.workerSrc)).WorkerMessageHandler})())}}class D1{#methodPromises=new Map;#pageCache=new Map;#pagePromises=new Map;#pageRefCache=new Map;#passwordCapability=null;constructor(e,t,a,r,i){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new F1,this.fontLoader=new sd({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#cacheSimpleMethod(e,t=null){var a=this.#methodPromises.get(e);return a||(a=this.messageHandler.sendWithPromise(e,t),this.#methodPromises.set(e,a),a)}get annotationStorage(){return n(this,"annotationStorage",new id)}getRenderingIntent(e,t=kg.ENABLE,a=null,r=!1){let i=Xg.DISPLAY,n=rd;switch(e){case"any":i=Xg.ANY;break;case"display":break;case"print":i=Xg.PRINT;break;default:G("getRenderingIntent - invalid intent: "+e)}switch(t){case kg.DISABLE:i+=Xg.ANNOTATIONS_DISABLE;break;case kg.ENABLE:break;case kg.ENABLE_FORMS:i+=Xg.ANNOTATIONS_FORMS;break;case kg.ENABLE_STORAGE:var s=(i+=Xg.ANNOTATIONS_STORAGE)&Xg.PRINT&&a instanceof nd?a:this.annotationStorage;n=s.serializable;break;default:G("getRenderingIntent - invalid annotationMode: "+t)}return r&&(i+=Xg.OPLIST),{renderingIntent:i,cacheKey:i+"_"+n.hash,annotationStorageSerializable:n}}destroy(){if(!this.destroyCapability){this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#passwordCapability?.reject(new Error("Worker was destroyed during onPassword callback"));var e=[];for(const a of this.#pageCache.values())e.push(a._destroy());this.#pageCache.clear(),this.#pagePromises.clear(),this.#pageRefCache.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var t=this.messageHandler.sendWithPromise("Terminate",null);e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#methodPromises.clear(),this.filterFactory.destroy(),b1.cleanup(),this._networkStream?.cancelAllRequests(new am("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject)}return this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:m,loadingTask:r}=this;m.on("GetReader",(e,a)=>{Vg(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},a.onPull=()=>{this._fullReader.read().then(function({value:e,done:t}){t?a.close():(Vg(e instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{a.error(e)})},a.onCancel=e=>{this._fullReader.cancel(e),a.ready.catch(e=>{if(!this.destroyed)throw e})}}),m.on("ReaderHeadersReady",e=>{const t=Promise.withResolvers(),a=this._fullReader;return a.headersReady.then(()=>{a.isStreamingSupported&&a.isRangeSupported||(this._lastProgress&&r.onProgress?.(this._lastProgress),a.onProgress=e=>{r.onProgress?.({loaded:e.loaded,total:e.total})}),t.resolve({isStreamingSupported:a.isStreamingSupported,isRangeSupported:a.isRangeSupported,contentLength:a.contentLength})},t.reject),t.promise}),m.on("GetRangeReader",(e,a)=>{Vg(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const t=this._networkStream.getRangeReader(e.begin,e.end);t?(a.onPull=()=>{t.read().then(function({value:e,done:t}){t?a.close():(Vg(e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{a.error(e)})},a.onCancel=e=>{t.cancel(e),a.ready.catch(e=>{if(!this.destroyed)throw e})}):a.close()}),m.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,r._capability.resolve(new x1(e,this))}),m.on("DocException",function(e){let t;switch(e.name){case"PasswordException":t=new Zg(e.message,e.code);break;case"InvalidPDFException":t=new Kg(e.message);break;case"MissingPDFException":t=new Qg(e.message);break;case"UnexpectedResponseException":t=new em(e.message,e.status);break;case"UnknownErrorException":t=new Yg(e.message,e.details);break;default:Bg("DocException - expected a valid Error.")}r._capability.reject(t)}),m.on("PasswordRequest",e=>{if(this.#passwordCapability=Promise.withResolvers(),r.onPassword){var t=e=>{e instanceof Error?this.#passwordCapability.reject(e):this.#passwordCapability.resolve({password:e})};try{r.onPassword(t,e.code)}catch(e){this.#passwordCapability.reject(e)}}else this.#passwordCapability.reject(new Zg(e.message,e.code));return this.#passwordCapability.promise}),m.on("DataLoaded",e=>{r.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),m.on("StartRenderPage",e=>{this.destroyed||this.#pageCache.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),m.on("commonobj",([e,t,a])=>{if(!this.destroyed&&!this.commonObjs.has(e))switch(t){case"Font":const{disableFontFace:s,fontExtraProperties:l,pdfBug:o}=this._params;if("error"in a){var r=a.error;G("Error during font loading: "+r),this.commonObjs.resolve(e,r)}else{r=o&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null;const c=new ld(a,{disableFontFace:s,inspectFont:r});this.fontLoader.bind(c).catch(()=>m.sendWithPromise("FontFallback",{id:e})).finally(()=>{!l&&c.data&&(c.data=null),this.commonObjs.resolve(e,c)})}break;case"CopyLocalImage":var i=a["imageRef"];Vg(i,"The imageRef must be defined.");for(const g of this.#pageCache.values())for(var[,n]of g.objs)if(n?.ref===i)return n.dataLen?(this.commonObjs.resolve(e,structuredClone(n)),n.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(e,a);break;default:throw new Error("Got unknown common object type "+t)}return null}),m.on("obj",([e,t,a,r])=>{if(!this.destroyed){var i=this.#pageCache.get(t);if(!i.objs.has(e))if(0===i._intentStates.size)r?.bitmap?.close();else switch(a){case"Image":i.objs.resolve(e,r),1e7<r?.dataLen&&(i._maybeCleanupAfterRender=!0);break;case"Pattern":i.objs.resolve(e,r);break;default:throw new Error("Got unknown object type "+a)}}}),m.on("DocProgress",e=>{this.destroyed||r.onProgress?.({loaded:e.loaded,total:e.total})}),m.on("FetchBuiltInCMap",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),m.on("FetchStandardFontData",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&G("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");var{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const a=t-1,e=this.#pagePromises.get(a);var r;return e||(r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:a}).then(e=>{if(this.destroyed)throw new Error("Transport destroyed");e.refStr&&this.#pageRefCache.set(e.refStr,t);e=new L1(a,e,this,this._params.pdfBug);return this.#pageCache.set(a,e),e}),this.#pagePromises.set(a,r),r)}getPageIndex(e){return T1(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#cacheSimpleMethod("GetFieldObjects")}hasJSActions(){return this.#cacheSimpleMethod("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#cacheSimpleMethod("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#cacheSimpleMethod("GetOptionalContentConfig").then(e=>new zd(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){var e="GetMetadata",t=this.#methodPromises.get(e);return t||(t=this.messageHandler.sendWithPromise(e,null).then(e=>({info:e[0],metadata:e[1]?new Nd(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})),this.#methodPromises.set(e,t),t)}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#pageCache.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#methodPromises.clear(),this.filterFactory.destroy(!0),b1.cleanup()}}cachedPageNumber(e){return T1(e)?(e=0===e.gen?e.num+"R":e.num+"R"+e.gen,this.#pageRefCache.get(e)??null):null}}const $1=Symbol("INITIAL_DATA");class F1{#objs=Object.create(null);#ensureObj(e){return this.#objs[e]||={...Promise.withResolvers(),data:$1}}get(e,t=null){if(t){const a=this.#ensureObj(e);return a.promise.then(()=>t(a.data)),null}const a=this.#objs[e];if(a&&a.data!==$1)return a.data;throw new Error(`Requesting object that isn't resolved yet ${e}.`)}has(e){e=this.#objs[e];return!!e&&e.data!==$1}resolve(e,t=null){e=this.#ensureObj(e);e.data=t,e.resolve()}clear(){for(const t in this.#objs){var e=this.#objs[t]["data"];e?.bitmap?.close()}this.#objs=Object.create(null)}*[Symbol.iterator](){for(const t in this.#objs){var e=this.#objs[t]["data"];e!==$1&&(yield[t,e])}}}class O1{#internalRenderTask=null;constructor(e){this.#internalRenderTask=e,this.onContinue=null}get promise(){return this.#internalRenderTask.capability.promise}cancel(e=0){this.#internalRenderTask.cancel(null,e)}get separateAnnots(){var e,t=this.#internalRenderTask.operatorList["separateAnnots"];return!!t&&(e=this.#internalRenderTask["annotationCanvasMap"],t.form||t.canvas&&0<e?.size)}}class R1{#rAF=null;static#canvasInUse=new WeakSet;constructor({callback:e,params:t,objs:a,commonObjs:r,annotationCanvasMap:i,operatorList:n,pageIndex:s,canvasFactory:l,filterFactory:o,useRequestAnimationFrame:c=!1,pdfBug:g=!1,pageColors:m=null}){this.callback=e,this.params=t,this.objs=a,this.commonObjs=r,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=n,this._pageIndex=s,this.canvasFactory=l,this.filterFactory=o,this._pdfBug=g,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!=typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new O1(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(!this.cancelled){if(this._canvas){if(R1.#canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");R1.#canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var{canvasContext:a,viewport:r,transform:i,background:n}=this.params;this.gfx=new Dd(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:n}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#rAF&&(window.cancelAnimationFrame(this.#rAF),this.#rAF=null),R1.#canvasInUse.delete(this._canvas),this.callback(e||new Gm("Rendering cancelled, page "+(this._pageIndex+1),t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#rAF=window.requestAnimationFrame(()=>{this.#rAF=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk)&&(this.gfx.endDrawing(),R1.#canvasInUse.delete(this._canvas),this.callback()))}}const H1="4.4.168",N1="19fbc8998";function B1(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function V1(e){return Math.max(0,Math.min(255,255*e))}class z1{static CMYK_G([e,t,a,r]){return["G",1-Math.min(1,.3*e+.59*a+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return[e=V1(e),e,e]}static G_HTML([e]){e=B1(e);return"#"+e+e+e}static RGB_G([e,t,a]){return["G",.3*e+.59*t+.11*a]}static RGB_rgb(e){return e.map(V1)}static RGB_HTML(e){return"#"+e.map(B1).join("")}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,a,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,a+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,a,r]){return[V1(1-Math.min(1,e+r)),V1(1-Math.min(1,a+r)),V1(1-Math.min(1,t+r))]}static CMYK_HTML(e){e=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([e,t,a]){e=1-e,t=1-t,a=1-a;return["CMYK",e,t,a,Math.min(e,t,a)]}}class U1{static setupStorage(e,t,a,r,i){var n=r.getValue(t,{value:null});switch(a.name){case"textarea":null!==n.value&&(e.textContent=n.value),"print"!==i&&e.addEventListener("input",e=>{r.setValue(t,{value:e.target.value})});break;case"input":if("radio"===a.attributes.type||"checkbox"===a.attributes.type){if(n.value===a.attributes.xfaOn?e.setAttribute("checked",!0):n.value===a.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==n.value&&e.setAttribute("value",n.value),"print"===i)break;e.addEventListener("input",e=>{r.setValue(t,{value:e.target.value})})}break;case"select":if(null!==n.value){e.setAttribute("value",n.value);for(const s of a.children)s.attributes.value===n.value?s.attributes.selected=!0:s.attributes.hasOwnProperty("selected")&&delete s.attributes.selected}e.addEventListener("input",e=>{e=e.target.options,e=-1===e.selectedIndex?"":e[e.selectedIndex].value;r.setValue(t,{value:e})})}}static setAttributes({html:e,element:t,storage:a=null,intent:r,linkService:i}){var n,s,l=t["attributes"],o=e instanceof HTMLAnchorElement;"radio"===l.type&&(l.name=l.name+"-"+r);for([n,s]of Object.entries(l))if(null!==s&&void 0!==s)switch(n){case"class":s.length&&e.setAttribute(n,s.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",s);break;case"style":Object.assign(e.style,s);break;case"textContent":e.textContent=s;break;default:o&&("href"===n||"newWindow"===n)||e.setAttribute(n,s)}o&&i.addLinkAttributes(e,l.href,l.newWindow),a&&l.dataId&&this.setupStorage(e,l.dataId,t,a)}static render(e){var t=e.annotationStorage,a=e.linkService,r=e.xfaHtml,i=e.intent||"display",n=document.createElement(r.name),s=(r.attributes&&this.setAttributes({html:n,element:r,intent:i,linkService:a}),"richText"!==i),l=e.div,o=(l.append(n),e.viewport&&(e=`matrix(${e.viewport.transform.join(",")})`,l.style.transform=e),s&&l.setAttribute("class","xfaLayer xfaFont"),[]);if(0===r.children.length)r.value&&(e=document.createTextNode(r.value),n.append(e),s)&&q1.shouldBuildText(r.name)&&o.push(e);else{for(var c=[[r,-1,n]];0<c.length;){var g,[m,d,p]=c.at(-1);d+1===m.children.length?c.pop():null!==(d=m.children[++c.at(-1)[1]])&&(m=d["name"],"#text"===m?(g=document.createTextNode(d.value),o.push(g),p.append(g)):(g=d?.attributes?.xmlns?document.createElementNS(d.attributes.xmlns,m):document.createElement(m),p.append(g),d.attributes&&this.setAttributes({html:g,element:d,storage:t,intent:i,linkService:a}),0<d.children?.length?c.push([d,-1,g]):d.value&&(p=document.createTextNode(d.value),s&&q1.shouldBuildText(m)&&o.push(p),g.append(p))))}for(const u of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0)}return{textDivs:o}}static update(e){var t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const j1=new WeakSet;function W1(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class Z1{static create(e){switch(e.data.annotationType){case Mg.LINK:return new K1(e);case Mg.TEXT:return new Q1(e);case Mg.WIDGET:switch(e.data.fieldType){case"Tx":return new tp(e);case"Btn":return e.data.radioButton?new ip(e):new(e.data.checkBox?rp:np)(e);case"Ch":return new sp(e);case"Sig":return new ap(e)}return new ep(e);case Mg.POPUP:return new lp(e);case Mg.FREETEXT:return new cp(e);case Mg.LINE:return new gp(e);case Mg.SQUARE:return new mp(e);case Mg.CIRCLE:return new dp(e);case Mg.POLYLINE:return new pp(e);case Mg.CARET:return new hp(e);case Mg.INK:return new yp(e);case Mg.POLYGON:return new up(e);case Mg.HIGHLIGHT:return new _p(e);case Mg.UNDERLINE:return new Sp(e);case Mg.SQUIGGLY:return new fp(e);case Mg.STRIKEOUT:return new Pp(e);case Mg.STAMP:return new Cp(e);case Mg.FILEATTACHMENT:return new bp(e);default:return new Y1(e)}}}class Y1{#updates=null;#hasBorder=!1;#popupElement=null;constructor(e,{isRenderable:t=!1,ignoreBorder:a=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(a)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:a}){return!!(e?.str||t?.str||a?.str)}get hasPopupData(){return Y1._hasPopupData(this.data)}updateEdited(e){var t;this.container&&(this.#updates||={rect:this.data.rect.slice(0)},t=e["rect"],t&&this.#setRectEdited(t),this.#popupElement?.popup.updateEdited(e))}resetEdited(){this.#updates&&(this.#setRectEdited(this.#updates.rect),this.#popupElement?.popup.resetEdited(),this.#updates=null)}#setRectEdited(e){var{container:{style:t},data:{rect:a,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:n,pageX:s,pageY:l}}}}=this,{width:a,height:o}=(a?.splice(0,4,...e),W1(e));t.left=100*(e[0]-s)/i+"%",t.top=100*(n-e[3]+l)/n+"%",0===r?(t.width=100*a/i+"%",t.height=100*o/n+"%"):this.setRotation(r)}_createContainer(e){var{data:t,parent:{page:a,viewport:r}}=this,i=document.createElement("section"),n=(i.setAttribute("data-annotation-id",t.id),this instanceof ep||(i.tabIndex=1e3),i)["style"];if(n.zIndex=this.parent.zIndex++,t.popupRef&&i.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof lp){const g=t["rotation"];t.hasOwnCanvas||0===g||this.setRotation(g,i)}else{var{width:s,height:l}=W1(t.rect);if(!e&&0<t.borderStyle.width){n.borderWidth=t.borderStyle.width+"px";var e=t.borderStyle.horizontalCornerRadius,o=t.borderStyle.verticalCornerRadius;switch(0<e||0<o?n.borderRadius=`calc(${e}px * var(--scale-factor)) / calc(${o}px * var(--scale-factor))`:this instanceof ip&&(n.borderRadius=`calc(${s}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`),t.borderStyle.style){case Ig.SOLID:n.borderStyle="solid";break;case Ig.DASHED:n.borderStyle="dashed";break;case Ig.BEVELED:G("Unimplemented border style: beveled");break;case Ig.INSET:G("Unimplemented border style: inset");break;case Ig.UNDERLINE:n.borderBottomStyle="solid"}e=t.borderColor||null;e?(this.#hasBorder=!0,n.borderColor=f.makeHexColor(0|e[0],0|e[1],0|e[2])):n.borderWidth=0}var o=f.normalizeRect([t.rect[0],a.view[3]-t.rect[1]+a.view[1],t.rect[2],a.view[3]-t.rect[3]+a.view[1]]),{pageWidth:e,pageHeight:a,pageX:r,pageY:c}=r.rawDims;n.left=100*(o[0]-r)/e+"%",n.top=100*(o[1]-c)/a+"%";const g=t["rotation"];t.hasOwnCanvas||0===g?(n.width=100*s/e+"%",n.height=100*l/a+"%"):this.setRotation(g,i)}return i}setRotation(a,r=this.container){if(this.data.rect){var{pageWidth:i,pageHeight:n}=this.parent.viewport.rawDims,{width:s,height:l}=W1(this.data.rect);let e,t;t=a%180==0?(e=100*s/i,100*l/n):(e=100*l/i,100*s/n),r.style.width=e+"%",r.style.height=t+"%",r.setAttribute("data-main-rotation",(360-a)%360)}}get _commonActions(){const t=(e,t,a)=>{var e=a.detail[e],r=e[0],e=e.slice(1);a.target.style[t]=z1[r+"_HTML"](e),this.annotationStorage.setValue(this.data.id,{[t]:z1[r+"_rgb"](e)})};return n(this,"_commonActions",{display:e=>{var e=e.detail["display"],t=e%2==1;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:t,noPrint:1===e||2===e})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{e=e.detail.hidden;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{e=e.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(e,t){var a=this._commonActions;for(const r of Object.keys(t.detail))(e[r]||a[r])?.(t)}_setDefaultPropertiesFromJS(e){if(this.enableScripting){var t=this.annotationStorage.getRawValue(this.data.id);if(t){var a,r,i=this._commonActions;for([a,r]of Object.entries(t)){var n=i[a];n&&(n({detail:{[a]:r},target:e}),delete t[a])}}}}_createQuadrilaterals(){if(this.container){var r=this.data["quadPoints"];if(r){var[i,e,t,n]=this.data.rect.map(e=>Math.fround(e));if(8===r.length){var[s,l,o,c]=r.subarray(2,6);if(t===s&&n===l&&i===o&&e===c)return}s=this.container["style"];let a;this.#hasBorder&&({borderColor:l,borderWidth:o}=s,s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${l}" stroke-width="${o}">`],this.container.classList.add("hasBorder"));var g=t-i,m=n-e,d=this["svgFactory"],c=d.createElement("svg"),l=(c.classList.add("quadrilateralsContainer"),c.setAttribute("width",0),c.setAttribute("height",0),d.createElement("defs")),p=(c.append(l),d.createElement("clipPath")),o="clippath_"+this.data.id;p.setAttribute("id",o),p.setAttribute("clipPathUnits","objectBoundingBox"),l.append(p);for(let e=2,t=r.length;e<t;e+=8){var u=r[e],h=r[e+1],y=r[e+2],_=r[e+3],S=d.createElement("rect"),f=(y-i)/g,P=(n-h)/m,u=(u-y)/g,y=(h-_)/m;S.setAttribute("x",f),S.setAttribute("y",P),S.setAttribute("width",u),S.setAttribute("height",y),p.append(S),a?.push(`<rect vector-effect="non-scaling-stroke" x="${f}" y="${P}" width="${u}" height="${y}"/>`)}this.#hasBorder&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(c),this.container.style.clipPath=`url(#${o})`}}}_createPopup(){var{container:e,data:t}=this,e=(e.setAttribute("aria-haspopup","dialog"),this.#popupElement=new lp({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:"popup_"+t.id,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Bg("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){var a=[];if(this._fieldObjects){var r=this._fieldObjects[e];if(r)for(var{page:i,id:n,exportValues:s}of r)-1!==i&&n!==t&&(i="string"==typeof s?s:null,(s=document.querySelector(`[data-element-id="${n}"]`))&&!j1.has(s)?G("_getElementsByName - element not allowed: "+n):a.push({id:n,exportValue:i,domElement:s}))}else for(const c of document.getElementsByName(e)){var l=c["exportValue"],o=c.getAttribute("data-element-id");o!==t&&j1.has(c)&&a.push({id:o,exportValue:l,domElement:c})}return a}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){var e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(this._isEditable){const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}}}class K1 extends Y1{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){var{data:e,linkService:t}=this,a=document.createElement("a");a.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(a,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(a,e.action),r=!0):e.attachment?(this.#bindAttachment(a,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(this.#bindSetOCGState(a,e.setOCGState),r=!0):e.dest?(this._bindLink(a,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,e),r=!0),e.resetForm?(this._bindResetFormAction(a,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(a,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(a),this.container}#setInternalLink(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),!t&&""!==t||this.#setInternalLink()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#setInternalLink()}#bindAttachment(e,t,a=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,a),!1),this.#setInternalLink()}#bindSetOCGState(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#setInternalLink()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");var a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){var r=a.get(i);r&&(e[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}e.onclick||(e.onclick=()=>!1),this.#setInternalLink()}_bindResetFormAction(e,_){const S=e.onclick;S||(e.href=this.linkService.getAnchorUrl("")),this.#setInternalLink(),this._fieldObjects?e.onclick=()=>{S?.();var{fields:e,refs:t,include:a}=_,r=[];if(0!==e.length||0!==t.length){var i,n=new Set(t);for(const d of e)for({id:i}of this._fieldObjects[d]||[])n.add(i);for(const p of Object.values(this._fieldObjects))for(const u of p)n.has(u.id)===a&&r.push(u)}else for(const h of Object.values(this._fieldObjects))r.push(...h);var s=this.annotationStorage,l=[];for(const y of r){var o=y["id"];switch(l.push(o),y.type){case"text":var c=y.defaultValue||"";s.setValue(o,{value:c});break;case"checkbox":case"radiobutton":c=y.defaultValue===y.exportValues;s.setValue(o,{value:c});break;case"combobox":case"listbox":var g=y.defaultValue||"";s.setValue(o,{value:g});break;default:continue}var m=document.querySelector(`[data-element-id="${o}"]`);m&&(j1.has(m)?m.dispatchEvent(new Event("resetform")):G("_bindResetFormAction - element not allowed: "+o))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}),!1}:(G('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),S||(e.onclick=()=>!1))}}class Q1 extends Y1{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");var e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ep extends Y1{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return cm.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,a,r,i){a.includes("mouse")?e.addEventListener(a,e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(a,e=>{if("blur"===a){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===a){if(t.focused)return;t.focused=!0}i&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e)}})})}_setEventListeners(e,t,a,r){for(var[i,n]of a)"Action"!==n&&!this.data.actions?.[n]||("Focus"!==n&&"Blur"!==n||(t||={focused:!1}),this._setEventListener(e,t,i,n,r),"Focus"!==n||this.data.actions?.Blur?"Blur"!==n||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){var t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":f.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){var t=this.data.defaultAppearanceData["fontColor"],a=this.data.defaultAppearanceData.fontSize||9,e=e.style;let r;var i,n,s=e=>Math.round(10*e)/10;r=this.data.multiLine?(n=Math.abs(this.data.rect[3]-this.data.rect[1]-2),i=Math.round(n/(1.35*a))||1,Math.min(a,s(n/i/1.35))):(n=Math.abs(this.data.rect[3]-this.data.rect[1]-2),Math.min(a,s(n/1.35))),e.fontSize=`calc(${r}px * var(--scale-factor))`,e.color=f.makeHexColor(t[0],t[1],t[2]),null!==this.data.textAlignment&&(e.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class tp extends ep{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,a,r){var i=this.annotationStorage;for(const n of this._getElementsByName(e.name,e.id))n.domElement&&(n.domElement[t]=a),i.setValue(n.id,{[r]:a})}render(){const r=this.annotationStorage,c=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){var n=r.getValue(c,{value:this.data.fieldValue});let e=n.value||"";var s=r.getValue(c,{charLimit:this.data.maxLen}).charLimit;s&&e.length>s&&(e=e.slice(0,s));let t=n.formattedValue||this.data.textContent?.join("\n")||null;t&&this.data.comb&&(t=t.replaceAll(/\s+/g,""));const g={userValue:e,formattedValue:t,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?((i=document.createElement("textarea")).textContent=t??e,this.data.doNotScroll&&(i.style.overflowY="hidden")):((i=document.createElement("input")).type="text",i.setAttribute("value",t??e),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),j1.add(i),i.setAttribute("data-element-id",c),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=1e3,this._setRequired(i,this.data.required),s&&(i.maxLength=s),i.addEventListener("input",e=>{r.setValue(c,{value:e.target.value}),this.setPropertyOnSiblings(i,"value",e.target.value,"value"),g.formattedValue=null}),i.addEventListener("resetform",e=>{var t=this.data.defaultFieldValue??"";i.value=g.userValue=t,g.formattedValue=null});let a=e=>{var t=g["formattedValue"];null!=t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",e=>{g.focused||(e=e["target"],g.userValue&&(e.value=g.userValue),g.lastCommittedValue=e.value,g.commitKey=1,this.data.actions?.Focus)||(g.focused=!0)}),i.addEventListener("updatefromsandbox",e=>{this.showElementAndHideCanvas(e.target),this._dispatchEventFromSandbox({value(e){g.userValue=e.detail.value??"",r.setValue(c,{value:g.userValue.toString()}),e.target.value=g.userValue},formattedValue(e){var t=e.detail["formattedValue"];null!=(g.formattedValue=t)&&e.target!==document.activeElement&&(e.target.value=t),r.setValue(c,{formattedValue:t})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:t=>{var a=t.detail["charLimit"],t=t["target"];if(0===a)t.removeAttribute("maxLength");else{t.setAttribute("maxLength",a);let e=g.userValue;!e||e.length<=a||(e=e.slice(0,a),t.value=g.userValue=e,r.setValue(c,{value:e}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:e,willCommit:!0,commitKey:1,selStart:t.selectionStart,selEnd:t.selectionEnd}}))}}},e)}),i.addEventListener("keydown",e=>{let t=-(g.commitKey=1);var a;"Escape"===e.key?t=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(g.commitKey=3):t=2,-1!==t&&(a=e.target.value,g.lastCommittedValue!==a)&&(g.lastCommittedValue=a,g.userValue=a,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:a,willCommit:!0,commitKey:t,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});const l=a;a=null,i.addEventListener("blur",e=>{var t;g.focused&&e.relatedTarget&&(this.data.actions?.Blur||(g.focused=!1),t=e.target["value"],g.userValue=t,g.lastCommittedValue!==t&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:t,willCommit:!0,commitKey:g.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),l(e))}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",e=>{g.lastCommittedValue=null;var{data:t,target:a}=e,{value:r,selectionStart:i,selectionEnd:n}=a;let s=i,l=n;switch(e.inputType){case"deleteWordBackward":var o=r.substring(0,i).match(/\w*[^\w]*$/);o&&(s-=o[0].length);break;case"deleteWordForward":o=r.substring(i).match(/^[^\w]*\w*/);o&&(l+=o[0].length);break;case"deleteContentBackward":i===n&&--s;break;case"deleteContentForward":i===n&&(l+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:r,change:t||"",willCommit:!1,selStart:s,selEnd:l}})}),this._setEventListeners(i,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}a&&i.addEventListener("blur",a),this.data.comb&&(n=(this.data.rect[2]-this.data.rect[0])/s,i.classList.add("comb"),i.style.letterSpacing=`calc(${n}px * var(--scale-factor) - 1ch)`)}else(i=document.createElement("div")).textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class ap extends ep{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class rp extends ep{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const i=this.annotationStorage,n=this.data,s=n.id;let e=i.getValue(s,{value:n.exportValue===n.fieldValue}).value;"string"==typeof e&&(e="Off"!==e,i.setValue(s,{value:e})),this.container.classList.add("buttonWidgetAnnotation","checkBox");var t=document.createElement("input");return j1.add(t),t.setAttribute("data-element-id",s),t.disabled=n.readOnly,this._setRequired(t,this.data.required),t.type="checkbox",t.name=n.fieldName,e&&t.setAttribute("checked",!0),t.setAttribute("exportValue",n.exportValue),t.tabIndex=1e3,t.addEventListener("change",e=>{var{name:e,checked:t}=e.target;for(const r of this._getElementsByName(e,s)){var a=t&&r.exportValue===n.exportValue;r.domElement&&(r.domElement.checked=a),i.setValue(r.id,{value:a})}i.setValue(s,{value:t})}),t.addEventListener("resetform",e=>{var t=n.defaultFieldValue||"Off";e.target.checked=t===n.exportValue}),this.enableScripting&&this.hasJSActions&&(t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({value(e){e.target.checked="Off"!==e.detail.value,i.setValue(s,{value:e.target.checked})}},e)}),this._setEventListeners(t,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(t),this._setDefaultPropertiesFromJS(t),this.container.append(t),this.container}}class ip extends ep{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const i=this.annotationStorage,a=this.data,n=a.id;let e=i.getValue(n,{value:a.fieldValue===a.buttonValue}).value;if("string"==typeof e&&(e=e!==a.buttonValue,i.setValue(n,{value:e})),e)for(const r of this._getElementsByName(a.fieldName,n))i.setValue(r.id,{value:!1});var t=document.createElement("input");if(j1.add(t),t.setAttribute("data-element-id",n),t.disabled=a.readOnly,this._setRequired(t,this.data.required),t.type="radio",t.name=a.fieldName,e&&t.setAttribute("checked",!0),t.tabIndex=1e3,t.addEventListener("change",e=>{var{name:e,checked:t}=e.target;for(const a of this._getElementsByName(e,n))i.setValue(a.id,{value:!1});i.setValue(n,{value:t})}),t.addEventListener("resetform",e=>{var t=a.defaultFieldValue;e.target.checked=null!=t&&t===a.buttonValue}),this.enableScripting&&this.hasJSActions){const s=a.buttonValue;t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({value:e=>{var t=s===e.detail.value;for(const r of this._getElementsByName(e.target.name)){var a=t&&r.id===n;r.domElement&&(r.domElement.checked=a),i.setValue(r.id,{value:a})}}},e)}),this._setEventListeners(t,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(t),this._setDefaultPropertiesFromJS(t),this.container.append(t),this.container}}class np extends K1{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){var e=super.render(),t=(e.classList.add("buttonWidgetAnnotation","pushButton"),e.lastChild);return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class sp extends ep{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const s=this.annotationStorage,l=this.data.id;var e=s.getValue(l,{value:this.data.fieldValue});const o=document.createElement("select");j1.add(o),o.setAttribute("data-element-id",l),o.disabled=this.data.readOnly,this._setRequired(o,this.data.required),o.name=this.data.fieldName,o.tabIndex=1e3;let t=this.data.combo&&0<this.data.options.length;this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",e=>{var t=this.data.defaultFieldValue;for(const a of o.options)a.selected=a.value===t});for(const i of this.data.options){var a=document.createElement("option");a.textContent=i.displayValue,a.value=i.exportValue,e.value.includes(i.exportValue)&&(a.setAttribute("selected",!0),t=!1),o.append(a)}let r=null;if(t){const n=document.createElement("option");n.value=" ",n.setAttribute("hidden",!0),n.setAttribute("selected",!0),o.prepend(n),r=()=>{n.remove(),o.removeEventListener("input",r),r=null},o.addEventListener("input",r)}const c=e=>{const t=e?"value":"textContent";var{options:e,multiple:a}=o;return a?Array.prototype.filter.call(e,e=>e.selected).map(e=>e[t]):-1===e.selectedIndex?null:e[e.selectedIndex][t]};let g=c(!1);const m=e=>{e=e.target.options;return Array.prototype.map.call(e,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({value(e){r?.();var e=e.detail.value,t=new Set(Array.isArray(e)?e:[e]);for(const a of o.options)a.selected=t.has(a.value);s.setValue(l,{value:c(!0)}),g=c(!1)},multipleSelection(e){o.multiple=!0},remove(e){var t=o.options,a=e.detail.remove;t[a].selected=!1,o.remove(a),0<t.length&&-1===Array.prototype.findIndex.call(t,e=>e.selected)&&(t[0].selected=!0),s.setValue(l,{value:c(!0),items:m(e)}),g=c(!1)},clear(e){for(;0!==o.length;)o.remove(0);s.setValue(l,{value:null,items:[]}),g=c(!1)},insert(e){var{index:t,displayValue:a,exportValue:r}=e.detail.insert,t=o.children[t],i=document.createElement("option");i.textContent=a,i.value=r,t?t.before(i):o.append(i),s.setValue(l,{value:c(!0),items:m(e)}),g=c(!1)},items(e){for(var t=e.detail["items"];0!==o.length;)o.remove(0);for(const n of t){var{displayValue:a,exportValue:r}=n,i=document.createElement("option");i.textContent=a,i.value=r,o.append(i)}0<o.options.length&&(o.options[0].selected=!0),s.setValue(l,{value:c(!0),items:m(e)}),g=c(!1)},indices(e){var t=new Set(e.detail.indices);for(const a of e.target.options)a.selected=t.has(a.index);s.setValue(l,{value:c(!0)}),g=c(!1)},editable(e){e.target.disabled=!e.detail.editable}},e)}),o.addEventListener("input",e=>{var t=c(!0),a=c(!1);s.setValue(l,{value:t}),e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:g,change:a,changeEx:t,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):o.addEventListener("input",function(e){s.setValue(l,{value:c(!0)})}),this.data.combo&&this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class lp extends Y1{constructor(e){var{data:t,elements:a}=e;super(e,{isRenderable:Y1._hasPopupData(t)}),this.elements=a,this.popup=null}render(){this.container.classList.add("popupAnnotation");var e=this.popup=new op({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const a of this.elements)a.popup=e,t.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(e=>um+e).join(",")),this.container}}class op{#boundKeyDown=this.#keyDown.bind(this);#boundHide=this.#hide.bind(this);#boundShow=this.#show.bind(this);#boundToggle=this.#toggle.bind(this);#color=null;#container=null;#contentsObj=null;#dateObj=null;#elements=null;#parent=null;#parentRect=null;#pinned=!1;#popup=null;#position=null;#rect=null;#richText=null;#titleObj=null;#updates=null;#wasVisible=!1;constructor({container:e,color:t,elements:a,titleObj:r,modificationDate:i,contentsObj:n,richText:s,parent:l,rect:o,parentRect:c,open:g}){this.#container=e,this.#titleObj=r,this.#contentsObj=n,this.#richText=s,this.#parent=l,this.#color=t,this.#rect=o,this.#parentRect=c,this.#elements=a,this.#dateObj=Mm.toDateObject(i),this.trigger=a.flatMap(e=>e.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",this.#boundToggle),m.addEventListener("mouseenter",this.#boundShow),m.addEventListener("mouseleave",this.#boundHide),m.classList.add("popupTriggerArea");for(const d of a)d.container?.addEventListener("keydown",this.#boundKeyDown);this.#container.hidden=!0,g&&this.#toggle()}render(){if(!this.#popup){var e=this.#popup=document.createElement("div");if(e.className="popup",this.#color){var t=e.style.outlineColor=f.makeHexColor(...this.#color);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`;else e.style.backgroundColor=f.makeHexColor(...this.#color.map(e=>Math.floor(.7*(255-e)+e)))}var t=document.createElement("span"),a=(t.className="header",document.createElement("h1")),t=(t.append(a),{dir:a.dir,str:a.textContent}=this.#titleObj,e.append(t),this.#dateObj&&((a=document.createElement("span")).classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),a.setAttribute("data-l10n-args",JSON.stringify({date:this.#dateObj.toLocaleDateString(),time:this.#dateObj.toLocaleTimeString()})),t.append(a)),this.#html);t?(U1.render({xfaHtml:t,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent")):(a=this._formatContents(this.#contentsObj),e.append(a)),this.#container.append(e)}}get#html(){var e=this.#richText,t=this.#contentsObj;return e?.str&&(!t?.str||t.str===e.str)&&this.#richText.html||null}get#fontSize(){return this.#html?.attributes?.style?.fontSize||0}get#fontColor(){return this.#html?.attributes?.style?.color||null}#makePopupContent(e){var t=[],a={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#fontColor,fontSize:this.#fontSize?`calc(${this.#fontSize}px * var(--scale-factor))`:""}};for(const i of e.split("\n"))t.push({name:"span",value:i,attributes:r});return a}_formatContents({str:e,dir:t}){var a=document.createElement("p"),r=(a.classList.add("popupContent"),a.dir=t,e.split(/(?:\r\n?|\n)/));for(let e=0,t=r.length;e<t;++e){var i=r[e];a.append(document.createTextNode(i)),e<t-1&&a.append(document.createElement("br"))}return a}#keyDown(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#pinned)&&this.#toggle()}updateEdited({rect:e,popupContent:t}){this.#updates||={contentsObj:this.#contentsObj,richText:this.#richText},e&&(this.#position=null),t&&(this.#richText=this.#makePopupContent(t),this.#contentsObj=null),this.#popup?.remove(),this.#popup=null}resetEdited(){this.#updates&&({contentsObj:this.#contentsObj,richText:this.#richText}=this.#updates,this.#updates=null,this.#popup?.remove(),this.#popup=null,this.#position=null)}#setPosition(){if(null===this.#position){var{page:{view:a},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:n,pageY:s}}}=this.#parent;let e=!!this.#parentRect,t=e?this.#parentRect:this.#rect;for(const o of this.#elements)if(!t||null!==f.intersect(o.data.rect,t)){t=o.data.rect,e=!0;break}var a=f.normalizeRect([t[0],a[3]-t[1]+a[1],t[2],a[3]-t[3]+a[1]]),l=e?t[2]-t[0]+5:0,l=a[0]+l,a=a[1],l=(this.#position=[100*(l-n)/r,100*(a-s)/i],this.#container)["style"];l.left=this.#position[0]+"%",l.top=this.#position[1]+"%"}}#toggle(){this.#pinned=!this.#pinned,this.#pinned?(this.#show(),this.#container.addEventListener("click",this.#boundToggle),this.#container.addEventListener("keydown",this.#boundKeyDown)):(this.#hide(),this.#container.removeEventListener("click",this.#boundToggle),this.#container.removeEventListener("keydown",this.#boundKeyDown))}#show(){this.#popup||this.render(),this.isVisible?this.#pinned&&this.#container.classList.add("focused"):(this.#setPosition(),this.#container.hidden=!1,this.#container.style.zIndex=parseInt(this.#container.style.zIndex)+1e3)}#hide(){this.#container.classList.remove("focused"),!this.#pinned&&this.isVisible&&(this.#container.hidden=!0,this.#container.style.zIndex=parseInt(this.#container.style.zIndex)-1e3)}forceHide(){this.#wasVisible=this.isVisible,this.#wasVisible&&(this.#container.hidden=!0)}maybeShow(){this.#wasVisible&&(this.#popup||this.#show(),this.#wasVisible=!1,this.#container.hidden=!1)}get isVisible(){return!1===this.#container.hidden}}class cp extends Y1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=d.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){var e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const a of this.textContent){var t=document.createElement("span");t.textContent=a,e.append(t)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class gp extends Y1{#line=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");var e=this.data,{width:t,height:a}=W1(e.rect),t=this.svgFactory.create(t,a,!0),a=this.#line=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),t.append(a),this.container.append(t),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#line}addHighlightArea(){this.container.classList.add("highlightArea")}}class mp extends Y1{#square=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");var e=this.data,{width:t,height:a}=W1(e.rect),r=this.svgFactory.create(t,a,!0),i=e.borderStyle.width,n=this.#square=this.svgFactory.createElement("svg:rect");return n.setAttribute("x",i/2),n.setAttribute("y",i/2),n.setAttribute("width",t-i),n.setAttribute("height",a-i),n.setAttribute("stroke-width",i||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),r.append(n),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#square}addHighlightArea(){this.container.classList.add("highlightArea")}}class dp extends Y1{#circle=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");var e=this.data,{width:t,height:a}=W1(e.rect),r=this.svgFactory.create(t,a,!0),i=e.borderStyle.width,n=this.#circle=this.svgFactory.createElement("svg:ellipse");return n.setAttribute("cx",t/2),n.setAttribute("cy",a/2),n.setAttribute("rx",t/2-i/2),n.setAttribute("ry",a/2-i/2),n.setAttribute("stroke-width",i||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),r.append(n),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#circle}addHighlightArea(){this.container.classList.add("highlightArea")}}class pp extends Y1{#polyline=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);var{rect:r,vertices:i,borderStyle:e,popupRef:t}=this["data"];if(i){var{width:n,height:s}=W1(r),n=this.svgFactory.create(n,s,!0);let a=[];for(let e=0,t=i.length;e<t;e+=2){var l=i[e]-r[0],o=r[3]-i[e+1];a.push(l+","+o)}a=a.join(" ");s=this.#polyline=this.svgFactory.createElement(this.svgElementName);s.setAttribute("points",a),s.setAttribute("stroke-width",e.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),n.append(s),this.container.append(n),!t&&this.hasPopupData&&this._createPopup()}return this.container}getElementsToTriggerPopup(){return this.#polyline}addHighlightArea(){this.container.classList.add("highlightArea")}}class up extends pp{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class hp extends Y1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class yp extends Y1{#polylines=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=d.INK}render(){this.container.classList.add(this.containerClassName);var{rect:r,inkLists:e,borderStyle:t,popupRef:i}=this["data"],{width:a,height:n}=W1(r),s=this.svgFactory.create(a,n,!0);for(const g of e){let a=[];for(let e=0,t=g.length;e<t;e+=2){var l=g[e]-r[0],o=r[3]-g[e+1];a.push(l+","+o)}a=a.join(" ");var c=this.svgFactory.createElement(this.svgElementName);this.#polylines.push(c),c.setAttribute("points",a),c.setAttribute("stroke-width",t.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),!i&&this.hasPopupData&&this._createPopup(),s.append(c)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return this.#polylines}addHighlightArea(){this.container.classList.add("highlightArea")}}class _p extends Y1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Sp extends Y1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class fp extends Y1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Pp extends Y1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Cp extends Y1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class bp extends Y1{#trigger=null;constructor(e){super(e,{isRenderable:!0});e=this.data.file;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");var{container:e,data:t}=this;let a;t.hasAppearance||0===t.fillAlpha?a=document.createElement("div"):((a=document.createElement("img")).src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),a.addEventListener("dblclick",this.#download.bind(this)),this.#trigger=a;const r=cm.platform["isMac"];return e.addEventListener("keydown",e=>{"Enter"===e.key&&(r?e.metaKey:e.ctrlKey)&&this.#download()}),!t.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),e.append(a),e}getElementsToTriggerPopup(){return this.#trigger}addHighlightArea(){this.container.classList.add("highlightArea")}#download(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class qp{#accessibilityManager=null;#annotationCanvasMap=null;#editableAnnotations=new Map;constructor({div:e,accessibilityManager:t,annotationCanvasMap:a,annotationEditorUIManager:r,page:i,viewport:n}){this.div=e,this.#accessibilityManager=t,this.#annotationCanvasMap=a,this.page=i,this.viewport=n,this.zIndex=0,this._annotationEditorUIManager=r}#appendElement(e,t){var a=e.firstChild||e;a.id=um+t,this.div.append(e),this.#accessibilityManager?.moveElementInDOM(this.div,e,a,!1)}async render(e){var t=e["annotations"],a=this.div,r=(Om(a,this.viewport),new Map),i={data:null,layer:a,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new wm,annotationStorage:e.annotationStorage||new id,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t)if(!o.noHTML){var n=o.annotationType===Mg.POPUP;if(n){var s=r.get(o.id);if(!s)continue;i.elements=s}else{var{width:s,height:l}=W1(o.rect);if(s<=0||l<=0)continue}i.data=o;l=Z1.create(i);l.isRenderable&&(!n&&o.popupRef&&((n=r.get(o.popupRef))?n.push(l):r.set(o.popupRef,[l])),n=l.render(),o.hidden&&(n.style.visibility="hidden"),this.#appendElement(n,o.id),0<l.annotationEditorType)&&(this.#editableAnnotations.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#setAnnotationCanvasMap()}update({viewport:e}){var t=this.div;Om(t,{rotation:(this.viewport=e).rotation}),this.#setAnnotationCanvasMap(),t.hidden=!1}#setAnnotationCanvasMap(){if(this.#annotationCanvasMap){var e,t,a=this.div;for([e,t]of this.#annotationCanvasMap){var r,i=a.querySelector(`[data-annotation-id="${e}"]`);i&&(t.className="annotationContent",r=i["firstChild"],r?"CANVAS"===r.nodeName?r.replaceWith(t):r.classList.contains("annotationContent")?r.after(t):r.before(t):i.append(t))}this.#annotationCanvasMap.clear()}}getEditableAnnotations(){return Array.from(this.#editableAnnotations.values())}getEditableAnnotation(e){return this.#editableAnnotations.get(e)}}const vp=/\r\n?|\n/g;class wp extends w{#boundEditorDivBlur=this.editorDivBlur.bind(this);#boundEditorDivFocus=this.editorDivFocus.bind(this);#boundEditorDivInput=this.editorDivInput.bind(this);#boundEditorDivKeydown=this.editorDivKeydown.bind(this);#boundEditorDivPaste=this.editorDivPaste.bind(this);#color;#content="";#editorDivId=this.id+"-editor";#fontSize;#initialData=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){var e=wp.prototype,t=e=>e.isEmpty(),a=Zm.TRANSLATE_SMALL,r=Zm.TRANSLATE_BIG;return n(this,"_keyboardManager",new jm([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[a,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,a],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=d.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#color=e.color||wp._defaultColor||w._defaultLineColor,this.#fontSize=e.fontSize||wp._defaultFontSize}static initialize(e,t){w.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case i.FREETEXT_SIZE:wp._defaultFontSize=t;break;case i.FREETEXT_COLOR:wp._defaultColor=t}}updateParams(e,t){switch(e){case i.FREETEXT_SIZE:this.#updateFontSize(t);break;case i.FREETEXT_COLOR:this.#updateColor(t)}}static get defaultPropertiesToUpdate(){return[[i.FREETEXT_SIZE,wp._defaultFontSize],[i.FREETEXT_COLOR,wp._defaultColor||w._defaultLineColor]]}get propertiesToUpdate(){return[[i.FREETEXT_SIZE,this.#fontSize],[i.FREETEXT_COLOR,this.#color]]}#updateFontSize(e){var t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#fontSize)*this.parentScale),this.#fontSize=e,this.#setEditorDimensions()},a=this.#fontSize;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#updateColor(e){var t=e=>{this.#color=this.editorDiv.style.color=e},a=this.#color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){var e=this.parentScale;return[-wp._internalPadding*e,-(wp._internalPadding+this.#fontSize)*e]}rebuild(){this.parent&&(super.rebuild(),null===this.div||this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){var e;this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(d.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),e=this._uiManager._signal,this.editorDiv.addEventListener("keydown",this.#boundEditorDivKeydown,{signal:e}),this.editorDiv.addEventListener("focus",this.#boundEditorDivFocus,{signal:e}),this.editorDiv.addEventListener("blur",this.#boundEditorDivBlur,{signal:e}),this.editorDiv.addEventListener("input",this.#boundEditorDivInput,{signal:e}),this.editorDiv.addEventListener("paste",this.#boundEditorDivPaste,{signal:e}))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#editorDivId),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#boundEditorDivKeydown),this.editorDiv.removeEventListener("focus",this.#boundEditorDivFocus),this.editorDiv.removeEventListener("blur",this.#boundEditorDivBlur),this.editorDiv.removeEventListener("input",this.#boundEditorDivInput),this.editorDiv.removeEventListener("paste",this.#boundEditorDivPaste),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv)&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#extractText(){var e=[];this.editorDiv.normalize();for(const t of this.editorDiv.childNodes)e.push(wp.#getNodeContent(t));return e.join("\n")}#setEditorDimensions(){var e,t,a,r,[i,n]=this.parentDimensions;let s;this.isAttachedToDOM?s=this.div.getBoundingClientRect():({currentLayer:e,div:t}=this,a=t.style.display,r=t.classList.contains("hidden"),t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),s=t.getBoundingClientRect(),t.remove(),t.style.display=a,t.classList.toggle("hidden",r)),this.rotation%180==this.parentRotation%180?(this.width=s.width/i,this.height=s.height/n):(this.width=s.height/i,this.height=s.width/n),this.fixAndSetPosition()}commit(){if(this.isInEditMode()){super.commit(),this.disableEditMode();const e=this.#content,t=this.#content=this.#extractText().trimEnd();if(e!==t){const a=e=>{(this.#content=e)?(this.#setContent(),this._uiManager.rebuild(this),this.#setEditorDimensions()):this.remove()};this.addCommands({cmd:()=>{a(t)},undo:()=>{a(e)},mustExec:!1}),this.#setEditorDimensions()}}}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){wp._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(!this.div){let i,n;this.width&&(i=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#editorDivId),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),w._l10nPromise.get("pdfjs-free-text-default-content").then(e=>this.editorDiv?.setAttribute("default-content",e)),this.editorDiv.contentEditable=!0;var s=this.editorDiv["style"];if(s.fontSize=`calc(${this.#fontSize}px * var(--scale-factor))`,s.color=this.#color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Nm(this,this.div,["dblclick","keydown"]),this.width){var[s,l]=this.parentDimensions;if(this.annotationElementId){var o=this.#initialData["position"];let[e,t]=this.getInitialTranslation();[e,t]=this.pageTranslationToScreen(e,t);var[c,g]=this.pageDimensions,[m,d]=this.pageTranslation;let a,r;switch(this.rotation){case 0:a=i+(o[0]-m)/c,r=n+this.height-(o[1]-d)/g;break;case 90:a=i+(o[0]-m)/c,r=n-(o[1]-d)/g,[e,t]=[t,-e];break;case 180:a=i-this.width+(o[0]-m)/c,r=n-(o[1]-d)/g,[e,t]=[-e,-t];break;case 270:a=i+(o[0]-m-this.height*g)/c,r=n+(o[1]-d-this.width*c)/g,[e,t]=[-t,e]}this.setAt(a*s,r*l,e,t)}else this.setAt(i*s,n*l,this.width*s,this.height*l);this.#setContent(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0}return this.div}static#getNodeContent(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(vp,"")}editorDivPaste(t){var a=t.clipboardData||window.clipboardData,r=a["types"];if(1!==r.length||"text/plain"!==r[0]){t.preventDefault();r=wp.#deserializeContent(a.getData("text")||"").replaceAll(vp,"\n");if(r){t=window.getSelection();if(t.rangeCount){this.editorDiv.normalize(),t.deleteFromDocument();a=t.getRangeAt(0);if(r.includes("\n")){var{startContainer:i,startOffset:n}=a,s=[],l=[];if(i.nodeType===Node.TEXT_NODE){var o=i.parentElement;if(l.push(i.nodeValue.slice(n).replaceAll(vp,"")),o!==this.editorDiv){let e=s;for(const d of this.editorDiv.childNodes)d===o?e=l:e.push(wp.#getNodeContent(d))}s.push(i.nodeValue.slice(0,n).replaceAll(vp,""))}else if(i===this.editorDiv){let e=s,t=0;for(const p of this.editorDiv.childNodes)(e=t++===n?l:e).push(wp.#getNodeContent(p))}this.#content=""+s.join("\n")+r+l.join("\n"),this.#setContent();var c,g=new Range;let e=s.reduce((e,t)=>e+t.length,0);for({firstChild:c}of this.editorDiv.childNodes)if(c.nodeType===Node.TEXT_NODE){var m=c.nodeValue.length;if(e<=m){g.setStart(c,e),g.setEnd(c,e);break}e-=m}t.removeAllRanges(),t.addRange(g)}else a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),t.collapseToStart()}}}}#setContent(){if(this.editorDiv.replaceChildren(),this.#content)for(const t of this.#content.split("\n")){var e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#serializeContent(){return this.#content.replaceAll("Â "," ")}static#deserializeContent(e){return e.replaceAll(" ","Â ")}get contentDiv(){return this.editorDiv}static deserialize(e,t,a){let r=null;if(e instanceof cp){var{data:{defaultAppearanceData:{fontSize:i,fontColor:n},rect:s,rotation:l,id:o},textContent:c,textPosition:g,parent:{page:{pageNumber:m}}}=e;if(!c||0===c.length)return null;r=e={annotationType:d.FREETEXT,color:Array.from(n),fontSize:i,value:c.join("\n"),position:g,pageIndex:m-1,rect:s.slice(0),rotation:l,id:o,deleted:!1}}n=super.deserialize(e,t,a);return n.#fontSize=e.fontSize,n.#color=f.makeHexColor(...e.color),n.#content=wp.#deserializeContent(e.value),n.annotationElementId=e.id||null,n.#initialData=r,n}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};var t=wp._internalPadding*this.parentScale,t=this.getRect(t,t),a=w._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#color),a={annotationType:d.FREETEXT,color:a,fontSize:this.#fontSize,value:this.#serializeContent(),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId};if(!e){if(this.annotationElementId&&!this.#hasElementChanged(a))return null;a.id=this.annotationElementId}return a}#hasElementChanged(e){const{value:t,fontSize:a,color:r,pageIndex:i}=this.#initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==a||e.color.some((e,t)=>e!==r[t])||e.pageIndex!==i}renderAnnotationElement(e){var t=super.renderAnnotationElement(e);if(!this.deleted){var a=t["style"];a.fontSize=`calc(${this.#fontSize}px * var(--scale-factor))`,a.color=this.#color,t.replaceChildren();for(const i of this.#content.split("\n")){var r=document.createElement("div");r.append(i?document.createTextNode(i):document.createElement("br")),t.append(r)}a=wp._internalPadding*this.parentScale;e.updateEdited({rect:this.getRect(a,a),popupContent:this.#content})}return t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Jp{#box;#verticalEdges=[];#intervals=[];constructor(e,t=0,a=0,r=!0){let i=1/0,n=-1/0,s=1/0,l=-1/0;var o,c,g,m,d=10**-4;for({x:o,y:c,width:g,height:m}of e){var p=Math.floor((o-t)/d)*d,u=Math.ceil((o+g+t)/d)*d,h=Math.floor((c-t)/d)*d,y=Math.ceil((c+m+t)/d)*d;this.#verticalEdges.push([p,h,y,!0],[u,h,y,!1]),i=Math.min(i,p),n=Math.max(n,u),s=Math.min(s,h),l=Math.max(l,y)}var _=n-i+2*a,S=l-s+2*a,f=i-a,P=s-a,e=this.#verticalEdges.at(r?-1:-2),a=[e[0],e[2]];for(const v of this.#verticalEdges){var[C,b,q]=v;v[0]=(C-f)/_,v[1]=(b-P)/S,v[2]=(q-P)/S}this.#box={x:f,y:P,width:_,height:S,lastPoint:a}}getOutlines(){this.#verticalEdges.sort((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]);var e=[];for(const t of this.#verticalEdges)t[3]?(e.push(...this.#breakEdge(t)),this.#insert(t)):(this.#remove(t),e.push(...this.#breakEdge(t)));return this.#getOutlines(e)}#getOutlines(e){var a=[],o=new Set;for(const l of e){var[t,r,i]=l;a.push([t,r,l],[t,i,l])}a.sort((e,t)=>e[1]-t[1]||e[0]-t[0]);for(let e=0,t=a.length;e<t;e+=2){var n=a[e][2],s=a[e+1][2];n.push(s),s.push(n),o.add(n),o.add(s)}for(var c,g=[];0<o.size;){var m=o.values().next().value;let[t,a,r,i,n]=m,s=(o.delete(m),t),l=a;for(g.push(c=[t,r]);;){let e;if(o.has(i))e=i;else{if(!o.has(n))break;e=n}o.delete(e),[t,a,r,i,n]=e,s!==t&&(c.push(s,l,t,l===a?a:r),s=t),l=l===a?r:a}c.push(s,l)}return new Ap(g,this.#box)}#binarySearch(e){var t=this.#intervals;let a=0,r=t.length-1;for(;a<=r;){var i=a+r>>1,n=t[i][0];if(n===e)return i;n<e?a=1+i:r=i-1}return r+1}#insert([,e,t]){var a=this.#binarySearch(e);this.#intervals.splice(a,0,[e,t])}#remove([,t,a]){var r=this.#binarySearch(t);for(let e=r;e<this.#intervals.length;e++){var[i,n]=this.#intervals[e];if(i!==t)break;if(i===t&&n===a)return void this.#intervals.splice(e,1)}for(let e=r-1;0<=e;e--){var[s,l]=this.#intervals[e];if(s!==t)break;if(s===t&&l===a)return void this.#intervals.splice(e,1)}}#breakEdge(e){var[a,e,t]=e,r=[[a,e,t]],i=this.#binarySearch(t);for(let e=0;e<i;e++){var[n,s]=this.#intervals[e];for(let e=0,t=r.length;e<t;e++){var[,l,o]=r[e];if(!(s<=l||o<=n))if(n<=l)if(s<o)r[e][1]=s;else{if(1===t)return[];r.splice(e,1),e--,t--}else r[e][2]=n,s<o&&r.push([a,s,o])}}return r}}class Gp{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Xp}}class Ap extends Gp{#box;#outlines;constructor(e,t){super(),this.#outlines=e,this.#box=t}toSVGPath(){var r=[];for(const s of this.#outlines){let[t,a]=s;r.push(`M${t} `+a);for(let e=2;e<s.length;e+=2){var i=s[e],n=s[e+1];i===t?(r.push("V"+n),a=n):n===a&&(r.push("H"+i),t=i)}r.push("Z")}return r.join(" ")}serialize([t,e,a,r],i){var n=[],s=a-t,l=r-e;for(const c of this.#outlines){var o=new Array(c.length);for(let e=0;e<c.length;e+=2)o[e]=t+c[e]*s,o[e+1]=r-c[e+1]*l;n.push(o)}return n}get box(){return this.#box}}class Tp{#box;#bottom=[];#innerMargin;#isLTR;#top=[];#last=new Float64Array(18);#lastX;#lastY;#min;#min_dist;#scaleFactor;#thickness;#points=[];static#MIN_DIST=8;static#MIN_DIFF=2;static#MIN=Tp.#MIN_DIST+Tp.#MIN_DIFF;constructor({x:e,y:t},a,r,i,n,s=0){this.#box=a,this.#thickness=i*r,this.#isLTR=n,this.#last.set([NaN,NaN,NaN,NaN,e,t],6),this.#innerMargin=s,this.#min_dist=Tp.#MIN_DIST*r,this.#min=Tp.#MIN*r,this.#scaleFactor=r,this.#points.push(e,t)}get free(){return!0}isEmpty(){return isNaN(this.#last[8])}#getLastCoords(){var e=this.#last.subarray(4,6),t=this.#last.subarray(16,18),[a,r,i,n]=this.#box;return[(this.#lastX+(e[0]-t[0])/2-a)/i,(this.#lastY+(e[1]-t[1])/2-r)/n,(this.#lastX+(t[0]-e[0])/2-a)/i,(this.#lastY+(t[1]-e[1])/2-r)/n]}add({x:e,y:t}){this.#lastX=e,this.#lastY=t;var[a,r,i,n]=this.#box;let[s,l,o,c]=this.#last.subarray(8,12);var g=e-o,m=t-c,d=Math.hypot(g,m);if(d<this.#min)return!1;var p=d-this.#min_dist,d=p/d,g=d*g,d=d*m;let u=s,h=l;s=o,l=c,o+=g,c+=d,this.#points?.push(e,t);m=-d/p*this.#thickness,e=g/p*this.#thickness;return this.#last.set(this.#last.subarray(2,8),0),this.#last.set([o+m,c+e],4),this.#last.set(this.#last.subarray(14,18),12),this.#last.set([o-m,c-e],16),isNaN(this.#last[6])?(0===this.#top.length&&(this.#last.set([s+m,l+e],2),this.#top.push(NaN,NaN,NaN,NaN,(s+m-a)/i,(l+e-r)/n),this.#last.set([s-m,l-e],14),this.#bottom.push(NaN,NaN,NaN,NaN,(s-m-a)/i,(l-e-r)/n)),this.#last.set([u,h,s,l,o,c],6),!this.isEmpty()):(this.#last.set([u,h,s,l,o,c],6),Math.abs(Math.atan2(h-l,u-s)-Math.atan2(d,g))<Math.PI/2?([s,l,o,c]=this.#last.subarray(2,6),this.#top.push(NaN,NaN,NaN,NaN,((s+o)/2-a)/i,((l+c)/2-r)/n),[s,l,u,h]=this.#last.subarray(14,18),this.#bottom.push(NaN,NaN,NaN,NaN,((u+s)/2-a)/i,((h+l)/2-r)/n)):([u,h,s,l,o,c]=this.#last.subarray(0,6),this.#top.push(((u+5*s)/6-a)/i,((h+5*l)/6-r)/n,((5*s+o)/6-a)/i,((5*l+c)/6-r)/n,((s+o)/2-a)/i,((l+c)/2-r)/n),[o,c,s,l,u,h]=this.#last.subarray(12,18),this.#bottom.push(((u+5*s)/6-a)/i,((h+5*l)/6-r)/n,((5*s+o)/6-a)/i,((5*l+c)/6-r)/n,((s+o)/2-a)/i,((l+c)/2-r)/n)),!0)}toSVGPath(){if(this.isEmpty())return"";var t=this.#top,a=this.#bottom,e=this.#last.subarray(4,6),r=this.#last.subarray(16,18),[i,n,s,l]=this.#box,[o,c,g,m]=this.#getLastCoords();if(isNaN(this.#last[6])&&!this.isEmpty())return`M${(this.#last[2]-i)/s} ${(this.#last[3]-n)/l} L${(this.#last[4]-i)/s} ${(this.#last[5]-n)/l} L${o} ${c} L${g} ${m} L${(this.#last[16]-i)/s} ${(this.#last[17]-n)/l} L${(this.#last[14]-i)/s} ${(this.#last[15]-n)/l} Z`;var d=[];d.push(`M${t[4]} `+t[5]);for(let e=6;e<t.length;e+=6)isNaN(t[e])?d.push(`L${t[e+4]} `+t[e+5]):d.push(`C${t[e]} ${t[e+1]} ${t[e+2]} ${t[e+3]} ${t[e+4]} `+t[e+5]);d.push(`L${(e[0]-i)/s} ${(e[1]-n)/l} L${o} ${c} L${g} ${m} L${(r[0]-i)/s} `+(r[1]-n)/l);for(let e=a.length-6;6<=e;e-=6)isNaN(a[e])?d.push(`L${a[e+4]} `+a[e+5]):d.push(`C${a[e]} ${a[e+1]} ${a[e+2]} ${a[e+3]} ${a[e+4]} `+a[e+5]);return d.push(`L${a[4]} ${a[5]} Z`),d.join(" ")}getOutlines(){var t=this.#top,a=this.#bottom,e=this.#last,r=e.subarray(4,6),i=e.subarray(16,18),[n,s,l,o]=this.#box,c=new Float64Array((this.#points?.length??0)+2);for(let e=0,t=c.length-2;e<t;e+=2)c[e]=(this.#points[e]-n)/l,c[e+1]=(this.#points[e+1]-s)/o;c[c.length-2]=(this.#lastX-n)/l,c[c.length-1]=(this.#lastY-s)/o;var[g,m,d,p]=this.#getLastCoords();if(isNaN(e[6])&&!this.isEmpty()){const u=new Float64Array(36);return u.set([NaN,NaN,NaN,NaN,(e[2]-n)/l,(e[3]-s)/o,NaN,NaN,NaN,NaN,(e[4]-n)/l,(e[5]-s)/o,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(e[16]-n)/l,(e[17]-s)/o,NaN,NaN,NaN,NaN,(e[14]-n)/l,(e[15]-s)/o],0),new Xp(u,c,this.#box,this.#scaleFactor,this.#innerMargin,this.#isLTR)}const u=new Float64Array(this.#top.length+24+this.#bottom.length);let h=t.length;for(let e=0;e<h;e+=2)isNaN(t[e])?u[e]=u[e+1]=NaN:(u[e]=t[e],u[e+1]=t[e+1]);u.set([NaN,NaN,NaN,NaN,(r[0]-n)/l,(r[1]-s)/o,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(i[0]-n)/l,(i[1]-s)/o],h),h+=24;for(let t=a.length-6;6<=t;t-=6)for(let e=0;e<6;e+=2)isNaN(a[t+e])?u[h]=u[h+1]=NaN:(u[h]=a[t+e],u[h+1]=a[t+e+1]),h+=2;return u.set([NaN,NaN,NaN,NaN,a[4],a[5]],h),new Xp(u,c,this.#box,this.#scaleFactor,this.#innerMargin,this.#isLTR)}}class Xp extends Gp{#box;#bbox=null;#innerMargin;#isLTR;#points;#scaleFactor;#outline;constructor(a,r,e,t,i,n){super(),this.#outline=a,this.#points=r,this.#box=e,this.#scaleFactor=t,this.#innerMargin=i,this.#isLTR=n,this.#computeMinMax(n);var{x:s,y:l,width:o,height:c}=this.#bbox;for(let e=0,t=a.length;e<t;e+=2)a[e]=(a[e]-s)/o,a[e+1]=(a[e+1]-l)/c;for(let e=0,t=r.length;e<t;e+=2)r[e]=(r[e]-s)/o,r[e+1]=(r[e+1]-l)/c}toSVGPath(){var a=[`M${this.#outline[4]} `+this.#outline[5]];for(let e=6,t=this.#outline.length;e<t;e+=6)isNaN(this.#outline[e])?a.push(`L${this.#outline[e+4]} `+this.#outline[e+5]):a.push(`C${this.#outline[e]} ${this.#outline[e+1]} ${this.#outline[e+2]} ${this.#outline[e+3]} ${this.#outline[e+4]} `+this.#outline[e+5]);return a.push("Z"),a.join(" ")}serialize([e,t,a,r],i){var n=a-e,s=r-t;let l,o;switch(i){case 0:l=this.#rescale(this.#outline,e,r,n,-s),o=this.#rescale(this.#points,e,r,n,-s);break;case 90:l=this.#rescaleAndSwap(this.#outline,e,t,n,s),o=this.#rescaleAndSwap(this.#points,e,t,n,s);break;case 180:l=this.#rescale(this.#outline,a,t,-n,s),o=this.#rescale(this.#points,a,t,-n,s);break;case 270:l=this.#rescaleAndSwap(this.#outline,a,r,-n,-s),o=this.#rescaleAndSwap(this.#points,a,r,-n,-s)}return{outline:Array.from(l),points:[Array.from(o)]}}#rescale(a,r,i,n,s){var l=new Float64Array(a.length);for(let e=0,t=a.length;e<t;e+=2)l[e]=r+a[e]*n,l[e+1]=i+a[e+1]*s;return l}#rescaleAndSwap(a,r,i,n,s){var l=new Float64Array(a.length);for(let e=0,t=a.length;e<t;e+=2)l[e]=r+a[e+1]*n,l[e+1]=i+a[e]*s;return l}#computeMinMax(e){var a=this.#outline;let r=a[4],i=a[5],n=r,s=i,l=r,o=i,c=r,g=i;var m,d=e?Math.max:Math.min;for(let e=6,t=a.length;e<t;e+=6)isNaN(a[e])?(n=Math.min(n,a[e+4]),s=Math.min(s,a[e+5]),l=Math.max(l,a[e+4]),o=Math.max(o,a[e+5]),g<a[e+5]?(c=a[e+4],g=a[e+5]):g===a[e+5]&&(c=d(c,a[e+4]))):(m=f.bezierBoundingBox(r,i,...a.slice(e,e+6)),n=Math.min(n,m[0]),s=Math.min(s,m[1]),l=Math.max(l,m[2]),o=Math.max(o,m[3]),g<m[3]?(c=m[2],g=m[3]):g===m[3]&&(c=d(c,m[2]))),r=a[e+4],i=a[e+5];var e=n-this.#innerMargin,t=s-this.#innerMargin,p=l-n+2*this.#innerMargin,u=o-s+2*this.#innerMargin;this.#bbox={x:e,y:t,width:p,height:u,lastPoint:[c,g]}}get box(){return this.#bbox}getNewOutline(e,t){var{x:a,y:r,width:i,height:n}=this.#bbox,[s,l,o,c]=this.#box,g=i*o,m=n*c,d=a*o+s,p=r*c+l,u=new Tp({x:this.#points[0]*g+d,y:this.#points[1]*m+p},this.#box,this.#scaleFactor,e,this.#isLTR,t??this.#innerMargin);for(let e=2;e<this.#points.length;e+=2)u.add({x:this.#points[e]*g+d,y:this.#points[e+1]*m+p});return u.getOutlines()}}class kp{#boundKeyDown=this.#keyDown.bind(this);#boundPointerDown=this.#pointerDown.bind(this);#button=null;#buttonSwatch=null;#defaultColor;#dropdown=null;#dropdownWasFromKeyboard=!1;#isMainColorPicker=!1;#editor=null;#eventBus;#uiManager=null;#type;static get _keyboardManager(){return n(this,"_keyboardManager",new jm([[["Escape","mac+Escape"],kp.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],kp.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],kp.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],kp.prototype._moveToPrevious],[["Home","mac+Home"],kp.prototype._moveToBeginning],[["End","mac+End"],kp.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#isMainColorPicker=!1,this.#type=i.HIGHLIGHT_COLOR,this.#editor=e):(this.#isMainColorPicker=!0,this.#type=i.HIGHLIGHT_DEFAULT_COLOR),this.#uiManager=e?._uiManager||t,this.#eventBus=this.#uiManager._eventBus,this.#defaultColor=e?.color||this.#uiManager?.highlightColors.values().next().value||"#FFFF98"}renderButton(){var e=this.#button=document.createElement("button"),t=(e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),this.#uiManager._signal),t=(e.addEventListener("click",this.#openDropdown.bind(this),{signal:t}),e.addEventListener("keydown",this.#boundKeyDown,{signal:t}),this.#buttonSwatch=document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=this.#defaultColor,e.append(t),e}renderMainDropdown(){var e=this.#dropdown=this.#getDropdownRoot();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#getDropdownRoot(){var e,t,a=document.createElement("div"),r=this.#uiManager._signal;a.addEventListener("contextmenu",xm,{signal:r}),a.className="dropdown",a.role="listbox",a.setAttribute("aria-multiselectable",!1),a.setAttribute("aria-orientation","vertical"),a.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for([e,t]of this.#uiManager.highlightColors){var i=document.createElement("button"),n=(i.tabIndex="0",i.role="option",i.setAttribute("data-color",t),i.title=e,i.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-"+e),document.createElement("span"));i.append(n),n.className="swatch",n.style.backgroundColor=t,i.setAttribute("aria-selected",t===this.#defaultColor),i.addEventListener("click",this.#colorSelect.bind(this,t),{signal:r}),a.append(i)}return a.addEventListener("keydown",this.#boundKeyDown,{signal:r}),a}#colorSelect(e,t){t.stopPropagation(),this.#eventBus.dispatch("switchannotationeditorparams",{source:this,type:this.#type,value:e})}_colorSelectFromKeyboard(e){var t;e.target===this.#button?this.#openDropdown(e):(t=e.target.getAttribute("data-color"))&&this.#colorSelect(t,e)}_moveToNext(e){this.#isDropdownVisible?(e.target===this.#button?this.#dropdown.firstChild:e.target.nextSibling)?.focus():this.#openDropdown(e)}_moveToPrevious(e){e.target===this.#dropdown?.firstChild||e.target===this.#button?this.#isDropdownVisible&&this._hideDropdownFromKeyboard():(this.#isDropdownVisible||this.#openDropdown(e),e.target.previousSibling?.focus())}_moveToBeginning(e){this.#isDropdownVisible?this.#dropdown.firstChild?.focus():this.#openDropdown(e)}_moveToEnd(e){this.#isDropdownVisible?this.#dropdown.lastChild?.focus():this.#openDropdown(e)}#keyDown(e){kp._keyboardManager.exec(this,e)}#openDropdown(e){this.#isDropdownVisible?this.hideDropdown():(this.#dropdownWasFromKeyboard=0===e.detail,window.addEventListener("pointerdown",this.#boundPointerDown,{signal:this.#uiManager._signal}),this.#dropdown?this.#dropdown.classList.remove("hidden"):(e=this.#dropdown=this.#getDropdownRoot(),this.#button.append(e)))}#pointerDown(e){this.#dropdown?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#dropdown?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#boundPointerDown)}get#isDropdownVisible(){return this.#dropdown&&!this.#dropdown.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#isMainColorPicker||(this.#isDropdownVisible?(this.hideDropdown(),this.#button.focus({preventScroll:!0,focusVisible:this.#dropdownWasFromKeyboard})):this.#editor?.unselect())}updateColor(e){if(this.#buttonSwatch&&(this.#buttonSwatch.style.backgroundColor=e),this.#dropdown){var t=this.#uiManager.highlightColors.values();for(const a of this.#dropdown.children)a.setAttribute("aria-selected",t.next().value===e)}}destroy(){this.#button?.remove(),this.#button=null,this.#buttonSwatch=null,this.#dropdown?.remove(),this.#dropdown=null}}class xp extends w{#anchorNode=null;#anchorOffset=0;#boxes;#clipPathId=null;#colorPicker=null;#focusOutlines=null;#focusNode=null;#focusOffset=0;#highlightDiv=null;#highlightOutlines=null;#id=null;#isFreeHighlight=!1;#boundKeydown=this.#keydown.bind(this);#lastPoint=null;#opacity;#outlineId=null;#text="";#thickness;#methodOfCreation="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=d.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){var e=xp.prototype;return n(this,"_keyboardManager",new jm([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||xp._defaultColor,this.#thickness=e.thickness||xp._defaultThickness,this.#opacity=e.opacity||xp._defaultOpacity,this.#boxes=e.boxes||null,this.#methodOfCreation=e.methodOfCreation||"",this.#text=e.text||"",this._isDraggable=!1,-1<e.highlightId?(this.#isFreeHighlight=!0,this.#createFreeOutlines(e),this.#addToDrawLayer()):(this.#anchorNode=e.anchorNode,this.#anchorOffset=e.anchorOffset,this.#focusNode=e.focusNode,this.#focusOffset=e.focusOffset,this.#createOutlines(),this.#addToDrawLayer(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#isFreeHighlight?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#thickness,methodOfCreation:this.#methodOfCreation}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#createOutlines(){var e=new Jp(this.#boxes,.001),e=(this.#highlightOutlines=e.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#highlightOutlines.box,new Jp(this.#boxes,.0025,.001,"ltr"===this._uiManager.direction)),e=(this.#focusOutlines=e.getOutlines(),this.#focusOutlines.box)["lastPoint"];this.#lastPoint=[(e[0]-this.x)/this.width,(e[1]-this.y)/this.height]}#createFreeOutlines({highlightOutlines:e,highlightId:t,clipPathId:a}){this.#highlightOutlines=e;this.#focusOutlines=e.getNewOutline(this.#thickness/2+1.5,.0025),0<=t?(this.#id=t,this.#clipPathId=a,this.parent.drawLayer.finalizeLine(t,e),this.#outlineId=this.parent.drawLayer.highlightOutline(this.#focusOutlines)):this.parent&&(a=this.parent.viewport.rotation,this.parent.drawLayer.updateLine(this.#id,e),this.parent.drawLayer.updateBox(this.#id,xp.#rotateBbox(this.#highlightOutlines.box,(a-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#outlineId,this.#focusOutlines),this.parent.drawLayer.updateBox(this.#outlineId,xp.#rotateBbox(this.#focusOutlines.box,a)));var{x:r,y:i,width:n,height:s}=e.box;switch(this.rotation){case 0:this.x=r,this.y=i,this.width=n,this.height=s;break;case 90:var[l,o]=this.parentDimensions;this.x=i,this.y=1-r,this.width=n*o/l,this.height=s*l/o;break;case 180:this.x=1-r,this.y=1-i,this.width=n,this.height=s;break;case 270:var[l,o]=this.parentDimensions;this.x=1-i,this.y=r,this.width=n*o/l,this.height=s*l/o}t=this.#focusOutlines.box.lastPoint;this.#lastPoint=[(t[0]-r)/n,(t[1]-i)/s]}static initialize(e,t){w.initialize(e,t),xp._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case i.HIGHLIGHT_DEFAULT_COLOR:xp._defaultColor=t;break;case i.HIGHLIGHT_THICKNESS:xp._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#lastPoint}updateParams(e,t){switch(e){case i.HIGHLIGHT_COLOR:this.#updateColor(t);break;case i.HIGHLIGHT_THICKNESS:this.#updateThickness(t)}}static get defaultPropertiesToUpdate(){return[[i.HIGHLIGHT_DEFAULT_COLOR,xp._defaultColor],[i.HIGHLIGHT_THICKNESS,xp._defaultThickness]]}get propertiesToUpdate(){return[[i.HIGHLIGHT_COLOR,this.color||xp._defaultColor],[i.HIGHLIGHT_THICKNESS,this.#thickness||xp._defaultThickness],[i.HIGHLIGHT_FREE,this.#isFreeHighlight]]}#updateColor(e){var t=e=>{this.color=e,this.parent?.drawLayer.changeColor(this.#id,e),this.#colorPicker?.updateColor(e)},a=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#updateThickness(e){var t=this.#thickness,a=e=>{this.#thickness=e,this.#changeThickness(e)};this.addCommands({cmd:a.bind(this,e),undo:a.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){var e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#colorPicker=new kp({editor:this}),e.addColorPicker(this.#colorPicker)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#getRotation())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#getRotation())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#cleanDrawLayer(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null===this.div||(this.#addToDrawLayer(),this.isAttachedToDOM)||this.parent.add(this))}setParent(e){let t=!1;this.parent&&!e?this.#cleanDrawLayer():e&&(this.#addToDrawLayer(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#changeThickness(e){var t;this.#isFreeHighlight&&(this.#createFreeOutlines({highlightOutlines:this.#highlightOutlines.getNewOutline(e/2)}),this.fixAndSetPosition(),[e,t]=this.parentDimensions,this.setDims(this.width*e,this.height*t))}#cleanDrawLayer(){null!==this.#id&&this.parent&&(this.parent.drawLayer.remove(this.#id),this.#id=null,this.parent.drawLayer.remove(this.#outlineId),this.#outlineId=null)}#addToDrawLayer(e=this.parent){null===this.#id&&({id:this.#id,clipPathId:this.#clipPathId}=e.drawLayer.highlight(this.#highlightOutlines,this.color,this.#opacity),this.#outlineId=e.drawLayer.highlightOutline(this.#focusOutlines),this.#highlightDiv)&&(this.#highlightDiv.style.clipPath=this.#clipPathId)}static#rotateBbox({x:e,y:t,width:a,height:r},i){switch(i){case 90:return{x:1-t-r,y:e,width:r,height:a};case 180:return{x:1-e-a,y:1-t-r,width:a,height:r};case 270:return{x:t,y:1-e-a,width:r,height:a}}return{x:e,y:t,width:a,height:r}}rotate(e){var t=this.parent["drawLayer"];let a;a=this.#isFreeHighlight?(e=(e-this.rotation+360)%360,xp.#rotateBbox(this.#highlightOutlines.box,e)):xp.#rotateBbox(this,e),t.rotate(this.#id,e),t.rotate(this.#outlineId,e),t.updateBox(this.#id,a),t.updateBox(this.#outlineId,xp.#rotateBbox(this.#focusOutlines.box,e))}render(){var e,t,a;return this.div||(e=super.render(),this.#text&&(e.setAttribute("aria-label",this.#text),e.setAttribute("role","mark")),this.#isFreeHighlight?e.classList.add("free"):this.div.addEventListener("keydown",this.#boundKeydown,{signal:this._uiManager._signal}),t=this.#highlightDiv=document.createElement("div"),[t,a]=(e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#clipPathId,this.parentDimensions),this.setDims(this.width*t,this.height*a),Nm(this,this.#highlightDiv,["pointerover","pointerleave"]),this.enableEditing(),e)}pointerover(){this.parent.drawLayer.addClass(this.#outlineId,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#outlineId,"hovered")}#keydown(e){xp._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#setCaret(!0);break;case 1:case 3:this.#setCaret(!1)}}#setCaret(e){var t;this.#anchorNode&&(t=window.getSelection(),e?t.setPosition(this.#anchorNode,this.#anchorOffset):t.setPosition(this.#focusNode,this.#focusOffset))}select(){super.select(),this.#outlineId&&(this.parent?.drawLayer.removeClass(this.#outlineId,"hovered"),this.parent?.drawLayer.addClass(this.#outlineId,"selected"))}unselect(){super.unselect(),this.#outlineId&&(this.parent?.drawLayer.removeClass(this.#outlineId,"selected"),this.#isFreeHighlight||this.#setCaret(!1))}get _mustFixPosition(){return!this.#isFreeHighlight}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#id,e),this.parent.drawLayer.show(this.#outlineId,e))}#getRotation(){return this.#isFreeHighlight?this.rotation:0}#serializeBoxes(){if(this.#isFreeHighlight)return null;var e,t,a,r,[i,n]=this.pageDimensions,s=this.#boxes,l=new Float32Array(8*s.length);let o=0;for({x:e,y:t,width:a,height:r}of s){var c=e*i,g=(1-t-r)*n;l[o]=l[o+4]=c,l[o+1]=l[o+3]=g,l[o+2]=l[o+6]=c+a*i,l[o+5]=l[o+7]=g+r*n,o+=8}return l}#serializeOutlines(e){return this.#highlightOutlines.serialize(e,this.#getRotation())}static startHighlighting(t,e,{target:a,x:r,y:i}){var{x:n,y:s,width:l,height:o}=a.getBoundingClientRect();const c=e=>{this.#highlightMove(t,e)};var g=t._signal;const m={capture:!0,passive:!1,signal:g},d=e=>{e.preventDefault(),e.stopPropagation()},p=e=>{a.removeEventListener("pointermove",c),window.removeEventListener("blur",p),window.removeEventListener("pointerup",p),window.removeEventListener("pointerdown",d,m),window.removeEventListener("contextmenu",xm),this.#endHighlight(t,e)};window.addEventListener("blur",p,{signal:g}),window.addEventListener("pointerup",p,{signal:g}),window.addEventListener("pointerdown",d,m),window.addEventListener("contextmenu",xm,{signal:g}),a.addEventListener("pointermove",c,{signal:g}),this._freeHighlight=new Tp({x:r,y:i},[n,s,l,o],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#highlightMove(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#endHighlight(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,a){var t=super.deserialize(e,t,a),{rect:[a,r,i,n],color:s,quadPoints:l}=e,[o,c]=(t.color=f.makeHexColor(...s),t.#opacity=e.opacity,t.pageDimensions),g=(t.width=(i-a)/o,t.height=(n-r)/c,t.#boxes=[]);for(let e=0;e<l.length;e+=8)g.push({x:(l[4]-i)/o,y:(n-(1-l[e+5]))/c,width:(l[e+2]-l[e])/o,height:(l[e+5]-l[e+1])/c});return t.#createOutlines(),t}serialize(e=!1){var t;return this.isEmpty()||e?null:(e=this.getRect(0,0),t=w._colorManager.convert(this.color),{annotationType:d.HIGHLIGHT,color:t,opacity:this.#opacity,thickness:this.#thickness,quadPoints:this.#serializeBoxes(),outlines:this.#serializeOutlines(e),pageIndex:this.pageIndex,rect:e,rotation:this.#getRotation(),structTreeParentId:this._structTreeParentId})}static canCreateNewEmptyEditor(){return!1}}class Lp extends w{#baseHeight=0;#baseWidth=0;#boundCanvasPointermove=this.canvasPointermove.bind(this);#boundCanvasPointerleave=this.canvasPointerleave.bind(this);#boundCanvasPointerup=this.canvasPointerup.bind(this);#boundCanvasPointerdown=this.canvasPointerdown.bind(this);#canvasContextMenuTimeoutId=null;#currentPath2D=new Path2D;#disableEditing=!1;#hasSomethingToDraw=!1;#isCanvasInitialized=!1;#observer=null;#realWidth=0;#realHeight=0;#requestFrameCallback=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=d.INK;constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){w.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case i.INK_THICKNESS:Lp._defaultThickness=t;break;case i.INK_COLOR:Lp._defaultColor=t;break;case i.INK_OPACITY:Lp._defaultOpacity=t/100}}updateParams(e,t){switch(e){case i.INK_THICKNESS:this.#updateThickness(t);break;case i.INK_COLOR:this.#updateColor(t);break;case i.INK_OPACITY:this.#updateOpacity(t)}}static get defaultPropertiesToUpdate(){return[[i.INK_THICKNESS,Lp._defaultThickness],[i.INK_COLOR,Lp._defaultColor||w._defaultLineColor],[i.INK_OPACITY,Math.round(100*Lp._defaultOpacity)]]}get propertiesToUpdate(){return[[i.INK_THICKNESS,this.thickness||Lp._defaultThickness],[i.INK_COLOR,this.color||Lp._defaultColor||w._defaultLineColor],[i.INK_OPACITY,Math.round(100*(this.opacity??Lp._defaultOpacity))]]}#updateThickness(e){var t=e=>{this.thickness=e,this.#fitToContent()},a=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#updateColor(e){var t=e=>{this.color=e,this.#redraw()},a=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#updateOpacity(e){var t=e=>{this.opacity=e,this.#redraw()},a=this.opacity;this.addCommands({cmd:t.bind(this,e/=100),undo:t.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div)&&(this.canvas||(this.#createCanvas(),this.#createObserver()),this.isAttachedToDOM||(this.parent.add(this),this.#setCanvasDims()),this.#fitToContent())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#canvasContextMenuTimeoutId&&(clearTimeout(this.#canvasContextMenuTimeoutId),this.#canvasContextMenuTimeoutId=null),this.#observer?.disconnect(),this.#observer=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){var[e,t]=this.parentDimensions,e=this.width*e,t=this.height*t;this.setDimensions(e,t)}enableEditMode(){this.#disableEditing||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#boundCanvasPointerdown,{signal:this._uiManager._signal}))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#boundCanvasPointerdown))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#getInitialBBox(){var{parentRotation:e,parentDimensions:[t,a]}=this;switch(e){case 90:return[0,a,a,t];case 180:return[t,a,t,a];case 270:return[t,0,a,t];default:return[0,0,t,a]}}#setStroke(){var{ctx:e,color:t,opacity:a,thickness:r,parentScale:i,scaleFactor:n}=this;e.lineWidth=r*i/n,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=""+t+Bm(a)}#startDrawing(e,t){var a=this._uiManager._signal;this.canvas.addEventListener("contextmenu",xm,{signal:a}),this.canvas.addEventListener("pointerleave",this.#boundCanvasPointerleave,{signal:a}),this.canvas.addEventListener("pointermove",this.#boundCanvasPointermove,{signal:a}),this.canvas.addEventListener("pointerup",this.#boundCanvasPointerup,{signal:a}),this.canvas.removeEventListener("pointerdown",this.#boundCanvasPointerdown),this.isEditing=!0,this.#isCanvasInitialized||(this.#isCanvasInitialized=!0,this.#setCanvasDims(),this.thickness||=Lp._defaultThickness,this.color||=Lp._defaultColor||w._defaultLineColor,this.opacity??=Lp._defaultOpacity),this.currentPath.push([e,t]),this.#hasSomethingToDraw=!1,this.#setStroke(),this.#requestFrameCallback=()=>{this.#drawPoints(),this.#requestFrameCallback&&window.requestAnimationFrame(this.#requestFrameCallback)},window.requestAnimationFrame(this.#requestFrameCallback)}#draw(t,a){var[r,e]=this.currentPath.at(-1);if(!(1<this.currentPath.length&&t===r&&a===e)){r=this.currentPath;let e=this.#currentPath2D;r.push([t,a]),this.#hasSomethingToDraw=!0,r.length<=2?(e.moveTo(...r[0]),e.lineTo(t,a)):(3===r.length&&(this.#currentPath2D=e=new Path2D,e.moveTo(...r[0])),this.#makeBezierCurve(e,...r.at(-3),...r.at(-2),t,a))}}#endPath(){var e;0!==this.currentPath.length&&(e=this.currentPath.at(-1),this.#currentPath2D.lineTo(...e))}#stopDrawing(e,t){this.#requestFrameCallback=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#draw(e,t),this.#endPath();let a;a=1!==this.currentPath.length?this.#generateBezierPoints():[[e=[e,t],e.slice(),e.slice(),e]];const r=this.#currentPath2D,i=this.currentPath;this.currentPath=[],this.#currentPath2D=new Path2D;this.addCommands({cmd:()=>{this.allRawPaths.push(i),this.paths.push(a),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#createCanvas(),this.#createObserver()),this.#fitToContent())},mustExec:!0})}#drawPoints(){if(this.#hasSomethingToDraw){this.#hasSomethingToDraw=!1;Math.ceil(this.thickness*this.parentScale);var e=this.currentPath.slice(-3),t=e.map(e=>e[0]),e=e.map(e=>e[1]),a=(Math.min(...t),Math.max(...t),Math.min(...e),Math.max(...e),this)["ctx"];a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const r of this.bezierPath2D)a.stroke(r);a.stroke(this.#currentPath2D),a.restore()}}#makeBezierCurve(e,t,a,r,i,n,s){t=(t+r)/2,a=(a+i)/2,n=(r+n)/2,s=(i+s)/2;e.bezierCurveTo(t+2*(r-t)/3,a+2*(i-a)/3,n+2*(r-n)/3,s+2*(i-s)/3,n,s)}#generateBezierPoints(){var e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];var t=[];let a,[r,i]=e[0];for(a=1;a<e.length-2;a++){const[l,o]=e[a],[c,g]=e[a+1];var n=(l+c)/2,s=(o+g)/2;const m=[r+2*(l-r)/3,i+2*(o-i)/3],d=[n+2*(l-n)/3,s+2*(o-s)/3];t.push([[r,i],m,d,[n,s]]),[r,i]=[n,s]}const[l,o]=e[a],[c,g]=e[a+1],m=[r+2*(l-r)/3,i+2*(o-i)/3],d=[c+2*(l-c)/3,g+2*(o-g)/3];return t.push([[r,i],m,d,[c,g]]),t}#redraw(){if(this.isEmpty())this.#updateTransform();else{this.#setStroke();var{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#updateTransform();for(const a of this.bezierPath2D)t.stroke(a)}}commit(){this.#disableEditing||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#disableEditing=!0,this.div.classList.add("disabled"),this.#fitToContent(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#disableEditing&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#startDrawing(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#draw(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#endDrawing(e)}canvasPointerleave(e){this.#endDrawing(e)}#endDrawing(e){this.canvas.removeEventListener("pointerleave",this.#boundCanvasPointerleave),this.canvas.removeEventListener("pointermove",this.#boundCanvasPointermove),this.canvas.removeEventListener("pointerup",this.#boundCanvasPointerup),this.canvas.addEventListener("pointerdown",this.#boundCanvasPointerdown,{signal:this._uiManager._signal}),this.#canvasContextMenuTimeoutId&&clearTimeout(this.#canvasContextMenuTimeoutId),this.#canvasContextMenuTimeoutId=setTimeout(()=>{this.#canvasContextMenuTimeoutId=null,this.canvas.removeEventListener("contextmenu",xm)},10),this.#stopDrawing(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#createObserver(){this.#observer=new ResizeObserver(e=>{e=e[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)}),this.#observer.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#observer?.disconnect(),this.#observer=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#disableEditing}render(){if(!this.div){let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");var[a,r,i,n]=this.#getInitialBBox();this.setAt(a,r,0,0),this.setDims(i,n),this.#createCanvas(),this.width?([a,r]=this.parentDimensions,this.setAspectRatio(this.width*a,this.height*r),this.setAt(e*a,t*r,this.width*a,this.height*r),this.#isCanvasInitialized=!0,this.#setCanvasDims(),this.setDims(this.width*a,this.height*r),this.#redraw(),this.div.classList.add("disabled")):(this.div.classList.add("editing"),this.enableEditMode()),this.#createObserver()}return this.div}#setCanvasDims(){var e,t;this.#isCanvasInitialized&&([e,t]=this.parentDimensions,this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#updateTransform())}setDimensions(e,t){var a=Math.round(e),r=Math.round(t);this.#realWidth===a&&this.#realHeight===r||(this.#realWidth=a,this.#realHeight=r,this.canvas.style.visibility="hidden",[a,r]=this.parentDimensions,this.width=e/a,this.height=t/r,this.fixAndSetPosition(),this.#disableEditing&&this.#setScaleFactor(e,t),this.#setCanvasDims(),this.#redraw(),this.canvas.style.visibility="visible",this.fixDims())}#setScaleFactor(e,t){var a=this.#getPadding(),e=(e-a)/this.#baseWidth,t=(t-a)/this.#baseHeight;this.scaleFactor=Math.min(e,t)}#updateTransform(){var e=this.#getPadding()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#buildPath2D(a){var r=new Path2D;for(let e=0,t=a.length;e<t;e++){var[i,n,s,l]=a[e];0===e&&r.moveTo(...i),r.bezierCurveTo(n[0],n[1],s[0],s[1],l[0],l[1])}return r}static#toPDFCoordinates(a,e,t){var[r,i,n,s]=e;switch(t){case 0:for(let e=0,t=a.length;e<t;e+=2)a[e]+=r,a[e+1]=s-a[e+1];break;case 90:for(let e=0,t=a.length;e<t;e+=2){var l=a[e];a[e]=a[e+1]+r,a[e+1]=l+i}break;case 180:for(let e=0,t=a.length;e<t;e+=2)a[e]=n-a[e],a[e+1]+=i;break;case 270:for(let e=0,t=a.length;e<t;e+=2){var o=a[e];a[e]=n-a[e+1],a[e+1]=s-o}break;default:throw new Error("Invalid rotation")}return a}static#fromPDFCoordinates(a,e,t){var[r,i,n,s]=e;switch(t){case 0:for(let e=0,t=a.length;e<t;e+=2)a[e]-=r,a[e+1]=s-a[e+1];break;case 90:for(let e=0,t=a.length;e<t;e+=2){var l=a[e];a[e]=a[e+1]-i,a[e+1]=l-r}break;case 180:for(let e=0,t=a.length;e<t;e+=2)a[e]=n-a[e],a[e+1]-=i;break;case 270:for(let e=0,t=a.length;e<t;e+=2){var o=a[e];a[e]=s-a[e+1],a[e+1]=n-o}break;default:throw new Error("Invalid rotation")}return a}#serializePaths(a,e,t,r){var i=[],n=this.thickness/2,s=a*e+n,l=a*t+n;for(const S of this.paths){var o=[],c=[];for(let e=0,t=S.length;e<t;e++){var[g,m,d,p]=S[e];if(g[0]===p[0]&&g[1]===p[1]&&1===t){var u=a*g[0]+s,h=a*g[1]+l;o.push(u,h),c.push(u,h);break}var u=a*g[0]+s,h=a*g[1]+l,g=a*m[0]+s,m=a*m[1]+l,y=a*d[0]+s,d=a*d[1]+l,_=a*p[0]+s,p=a*p[1]+l;0===e&&(o.push(u,h),c.push(u,h)),o.push(g,m,y,d,_,p),c.push(g,m),e===t-1&&c.push(_,p)}i.push({bezier:Lp.#toPDFCoordinates(o,r,this.rotation),points:Lp.#toPDFCoordinates(c,r,this.rotation)})}return i}#getBbox(){let e=1/0,t=-1/0,a=1/0,r=-1/0;for(const o of this.paths)for(var[i,n,s,l]of o){i=f.bezierBoundingBox(...i,...n,...s,...l);e=Math.min(e,i[0]),a=Math.min(a,i[1]),t=Math.max(t,i[2]),r=Math.max(r,i[3])}return[e,a,t,r]}#getPadding(){return this.#disableEditing?Math.ceil(this.thickness*this.parentScale):0}#fitToContent(e=!1){var t,a,r,i,n,s;this.isEmpty()||(this.#disableEditing?(s=this.#getBbox(),t=this.#getPadding(),this.#baseWidth=Math.max(w.MIN_SIZE,s[2]-s[0]),this.#baseHeight=Math.max(w.MIN_SIZE,s[3]-s[1]),a=Math.ceil(t+this.#baseWidth*this.scaleFactor),r=Math.ceil(t+this.#baseHeight*this.scaleFactor),[i,n]=this.parentDimensions,this.width=a/i,this.height=r/n,this.setAspectRatio(a,r),i=this.translationX,n=this.translationY,this.translationX=-s[0],this.translationY=-s[1],this.#setCanvasDims(),this.#redraw(),this.#realWidth=a,this.#realHeight=r,this.setDims(a,r),s=e?t/this.scaleFactor/2:0,this.translate(i-this.translationX-s,n-this.translationY-s)):this.#redraw())}static deserialize(e,t,a){if(e instanceof yp)return null;var i,n=super.deserialize(e,t,a),[t,a]=(n.thickness=e.thickness,n.color=f.makeHexColor(...e.color),n.opacity=e.opacity,n.pageDimensions),t=n.width*t,a=n.height*a,s=n.parentScale,l=e.thickness/2,{paths:e,rect:o,rotation:c}=(n.#disableEditing=!0,n.#realWidth=Math.round(t),n.#realHeight=Math.round(a),e);for({bezier:i}of e){i=Lp.#fromPDFCoordinates(i,o,c);var g=[];n.paths.push(g);let a=s*(i[0]-l),r=s*(i[1]-l);for(let e=2,t=i.length;e<t;e+=6){var m=s*(i[e]-l),d=s*(i[e+1]-l),p=s*(i[e+2]-l),u=s*(i[e+3]-l),h=s*(i[e+4]-l),y=s*(i[e+5]-l);g.push([[a,r],[m,d],[p,u],[h,y]]),a=h,r=y}var _=this.#buildPath2D(g);n.bezierPath2D.push(_)}e=n.#getBbox();return n.#baseWidth=Math.max(w.MIN_SIZE,e[2]-e[0]),n.#baseHeight=Math.max(w.MIN_SIZE,e[3]-e[1]),n.#setScaleFactor(t,a),n}serialize(){var e,t;return this.isEmpty()?null:(e=this.getRect(0,0),t=w._colorManager.convert(this.ctx.strokeStyle),{annotationType:d.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#serializePaths(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId})}}class Ep extends w{#bitmap=null;#bitmapId=null;#bitmapPromise=null;#bitmapUrl=null;#bitmapFile=null;#bitmapFileName="";#canvas=null;#observer=null;#resizeTimeoutId=null;#isSvg=!1;#hasBeenAddedInUndoStack=!1;static _type="stamp";static _editorType=d.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#bitmapUrl=e.bitmapUrl,this.#bitmapFile=e.bitmapFile}static initialize(e,t){w.initialize(e,t)}static get supportedTypes(){return n(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>"image/"+e))}static get supportedTypesStr(){return n(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(d.STAMP,{bitmapFile:e.getAsFile()})}#getBitmapFetched(e,t=!1){e?(this.#bitmap=e.bitmap,t||(this.#bitmapId=e.id,this.#isSvg=e.isSvg),e.file&&(this.#bitmapFileName=e.file.name),this.#createCanvas()):this.remove()}#getBitmapDone(){this.#bitmapPromise=null,this._uiManager.enableWaiting(!1),this.#canvas&&this.div.focus()}#getBitmap(){var e;if(this.#bitmapId)this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#bitmapId).then(e=>this.#getBitmapFetched(e,!0)).finally(()=>this.#getBitmapDone());else if(this.#bitmapUrl)e=this.#bitmapUrl,this.#bitmapUrl=null,this._uiManager.enableWaiting(!0),this.#bitmapPromise=this._uiManager.imageManager.getFromUrl(e).then(e=>this.#getBitmapFetched(e)).finally(()=>this.#getBitmapDone());else if(this.#bitmapFile)e=this.#bitmapFile,this.#bitmapFile=null,this._uiManager.enableWaiting(!0),this.#bitmapPromise=this._uiManager.imageManager.getFromFile(e).then(e=>this.#getBitmapFetched(e)).finally(()=>this.#getBitmapDone());else{const a=document.createElement("input"),r=(a.type="file",a.accept=Ep.supportedTypesStr,this._uiManager._signal);this.#bitmapPromise=new Promise(t=>{a.addEventListener("change",async()=>{var e;a.files&&0!==a.files.length?(this._uiManager.enableWaiting(!0),e=await this._uiManager.imageManager.getFromFile(a.files[0]),this.#getBitmapFetched(e)):this.remove(),t()},{signal:r}),a.addEventListener("cancel",()=>{this.remove(),t()},{signal:r})}).finally(()=>this.#getBitmapDone()),a.click()}}remove(){this.#bitmapId&&(this.#bitmap=null,this._uiManager.imageManager.deleteId(this.#bitmapId),this.#canvas?.remove(),this.#canvas=null,this.#observer?.disconnect(),this.#observer=null,this.#resizeTimeoutId)&&(clearTimeout(this.#resizeTimeoutId),this.#resizeTimeoutId=null),super.remove()}rebuild(){this.parent?(super.rebuild(),null===this.div||(this.#bitmapId&&null===this.#canvas&&this.#getBitmap(),this.isAttachedToDOM)||this.parent.add(this)):this.#bitmapId&&this.#getBitmap()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#bitmapPromise||this.#bitmap||this.#bitmapUrl||this.#bitmapFile||this.#bitmapId)}get isResizable(){return!0}render(){if(!this.div){let e,t;var a,r;this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#bitmap?this.#createCanvas():this.#getBitmap(),this.width&&([a,r]=this.parentDimensions,this.setAt(e*a,t*r,this.width*a,this.height*r))}return this.div}#createCanvas(){var e=this["div"];let{width:t,height:a}=this.#bitmap;var[r,i]=this.pageDimensions,[n,s]=(this.width?(t=this.width*r,a=this.height*i):(t>.75*r||a>.75*i)&&(n=Math.min(.75*r/t,.75*i/a),t*=n,a*=n),this.parentDimensions),n=(this.setDims(t*n/r,a*s/i),this._uiManager.enableWaiting(!1),this.#canvas=document.createElement("canvas"));e.append(n),e.hidden=!1,this.#drawBitmap(t,a),this.#createObserver(),this.#hasBeenAddedInUndoStack||(this.parent.addUndoableEditor(this),this.#hasBeenAddedInUndoStack=!0),this._reportTelemetry({action:"inserted_image"}),this.#bitmapFileName&&n.setAttribute("aria-label",this.#bitmapFileName)}#setDimensions(e,t){var[a,r]=this.parentDimensions;this.width=e/a,this.height=t/r,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),(this._initialOptions=null)!==this.#resizeTimeoutId&&clearTimeout(this.#resizeTimeoutId);this.#resizeTimeoutId=setTimeout(()=>{this.#resizeTimeoutId=null,this.#drawBitmap(e,t)},200)}#scaleBitmap(e,t){var{width:a,height:r}=this.#bitmap;let i=a,n=r,s=this.#bitmap;for(;i>2*e||n>2*t;){var l=i,o=n,c=(i>2*e&&(i=16384<=i?Math.floor(i/2)-1:Math.ceil(i/2)),n>2*t&&(n=16384<=n?Math.floor(n/2)-1:Math.ceil(n/2)),new OffscreenCanvas(i,n));c.getContext("2d").drawImage(s,0,0,l,o,0,0,i,n),s=c.transferToImageBitmap()}return s}#drawBitmap(e,t){e=Math.ceil(e),t=Math.ceil(t);var a=this.#canvas;if(a&&(a.width!==e||a.height!==t)){a.width=e,a.height=t;var r=this.#isSvg?this.#bitmap:this.#scaleBitmap(e,t);if(this._uiManager.hasMLManager&&!this.hasAltText()){const i=new OffscreenCanvas(e,t).getContext("2d");i.drawImage(r,0,0,r.width,r.height,0,0,e,t),this._uiManager.mlGuess({service:"image-to-text",request:{data:i.getImageData(0,0,e,t).data,width:e,height:t,channels:4}}).then(e=>{e=e?.output||"";this.parent&&e&&!this.hasAltText()&&(this.altTextData={altText:e,decorative:!1})})}const i=a.getContext("2d");i.filter=this._uiManager.hcmFilter,i.drawImage(r,0,0,r.width,r.height,0,0,e,t)}}getImageForAltText(){return this.#canvas}#serializeBitmap(e){if(e){if(this.#isSvg){e=this._uiManager.imageManager.getSvgUrl(this.#bitmapId);if(e)return e}e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#bitmap,e.getContext("2d").drawImage(this.#bitmap,0,0),e.toDataURL()}var t,a;return this.#isSvg?([e,t]=this.pageDimensions,e=Math.round(this.width*e*Cm.PDF_TO_CSS_UNITS),t=Math.round(this.height*t*Cm.PDF_TO_CSS_UNITS),(a=new OffscreenCanvas(e,t)).getContext("2d").drawImage(this.#bitmap,0,0,this.#bitmap.width,this.#bitmap.height,0,0,e,t),a.transferToImageBitmap()):structuredClone(this.#bitmap)}#createObserver(){this._uiManager._signal&&(this.#observer=new ResizeObserver(e=>{e=e[0].contentRect;e.width&&e.height&&this.#setDimensions(e.width,e.height)}),this.#observer.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#observer?.disconnect(),this.#observer=null},{once:!0}))}static deserialize(e,t,a){var r,i,n,s;return e instanceof Cp?null:(t=super.deserialize(e,t,a),{rect:e,bitmapUrl:r,bitmapId:s,isSvg:i,accessibilityData:n}=e,[a,s]=(s&&a.imageManager.isValidId(s)?t.#bitmapId=s:t.#bitmapUrl=r,t.#isSvg=i,t.pageDimensions),t.width=(e[2]-e[0])/a,t.height=(e[3]-e[1])/s,n&&(t.altTextData=n),t)}serialize(e=!1,t=null){var a,r;return this.isEmpty()?null:(a={annotationType:d.STAMP,bitmapId:this.#bitmapId,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#isSvg,structTreeParentId:this._structTreeParentId},e?(a.bitmapUrl=this.#serializeBitmap(!0),a.accessibilityData=this.altTextData):({decorative:e,altText:r}=this.altTextData,!e&&r&&(a.accessibilityData={type:"Figure",alt:r}),null!==t&&(t.stamps||=new Map,e=this.#isSvg?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null,t.stamps.has(this.#bitmapId)?this.#isSvg&&e>(r=t.stamps.get(this.#bitmapId)).area&&(r.area=e,r.serialized.bitmap.close(),r.serialized.bitmap=this.#serializeBitmap(!1)):(t.stamps.set(this.#bitmapId,{area:e,serialized:a}),a.bitmap=this.#serializeBitmap(!1)))),a)}}class Mp{#accessibilityManager;#allowClick=!1;#annotationLayer=null;#boundPointerup=null;#boundPointerdown=null;#boundTextLayerPointerDown=null;#editorFocusTimeoutId=null;#editors=new Map;#hadPointerDown=!1;#isCleaningUp=!1;#isDisabling=!1;#textLayer=null;#uiManager;static _initialized=!1;static#editorTypes=new Map([wp,Lp,Ep,xp].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:a,accessibilityManager:r,annotationLayer:i,drawLayer:n,textLayer:s,viewport:l,l10n:o}){var c=[...Mp.#editorTypes.values()];if(!Mp._initialized){Mp._initialized=!0;for(const g of c)g.initialize(o,e)}e.registerEditorTypes(c),this.#uiManager=e,this.pageIndex=t,this.div=a,this.#accessibilityManager=r,this.#annotationLayer=i,this.viewport=l,this.#textLayer=s,this.drawLayer=n,this.#uiManager.addLayer(this)}get isEmpty(){return 0===this.#editors.size}get isInvisible(){return this.isEmpty&&this.#uiManager.getMode()===d.NONE}updateToolbar(e){this.#uiManager.updateToolbar(e)}updateMode(e=this.#uiManager.getMode()){switch(this.#cleanup(),e){case d.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case d.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case d.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);var t=this.div["classList"];for(const a of Mp.#editorTypes.values())t.toggle(a._type+"Editing",e===a._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#textLayer?.div}addInkEditorIfNeeded(e){if(this.#uiManager.getMode()===d.INK){if(!e)for(const t of this.#editors.values())if(t.isEmpty())return void t.setInBackground();const t=this.createAndAddNewEditor({offsetX:0,offsetY:0},!1);t.setInBackground()}}setEditingState(e){this.#uiManager.setEditingState(e)}addCommands(e){this.#uiManager.addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#annotationLayer?.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);var e,t=new Set;for(const a of this.#editors.values())a.enableEditing(),a.show(!0),a.annotationElementId&&(this.#uiManager.removeChangedExistingAnnotation(a),t.add(a.annotationElementId));if(this.#annotationLayer)for(const r of this.#annotationLayer.getEditableAnnotations())r.hide(),this.#uiManager.isDeletedAnnotationElement(r.data.id)||t.has(r.data.id)||(e=this.deserialize(r))&&(this.addOrRebuild(e),e.enableEditing())}disable(){this.#isDisabling=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);var t=new Map,a=new Map;for(const i of this.#editors.values())i.disableEditing(),i.annotationElementId&&(null!==i.serialize()?t.set(i.annotationElementId,i):(a.set(i.annotationElementId,i),this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()));if(this.#annotationLayer)for(const n of this.#annotationLayer.getEditableAnnotations()){var r=n.data["id"];if(!this.#uiManager.isDeletedAnnotationElement(r)){let e=a.get(r);e?(e.resetAnnotationElement(n),e.show(!1)):(e=t.get(r))&&(this.#uiManager.addChangedExistingAnnotation(e),e.renderAnnotationElement(n),e.show(!1)),n.show()}}this.#cleanup(),this.isEmpty&&(this.div.hidden=!0);var e=this.div["classList"];for(const s of Mp.#editorTypes.values())e.remove(s._type+"Editing");this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#isDisabling=!1}getEditableAnnotation(e){return this.#annotationLayer?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#uiManager.getActive()!==e&&this.#uiManager.setActiveEditor(e)}enableTextSelection(){this.div.tabIndex=-1,this.#textLayer?.div&&!this.#boundTextLayerPointerDown&&(this.#boundTextLayerPointerDown=this.#textLayerPointerDown.bind(this),this.#textLayer.div.addEventListener("pointerdown",this.#boundTextLayerPointerDown,{signal:this.#uiManager._signal}),this.#textLayer.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#textLayer?.div&&this.#boundTextLayerPointerDown&&(this.#textLayer.div.removeEventListener("pointerdown",this.#boundTextLayerPointerDown),this.#boundTextLayerPointerDown=null,this.#textLayer.div.classList.remove("highlighting"))}#textLayerPointerDown(e){var t;this.#uiManager.unselectAll(),e.target===this.#textLayer.div&&(t=cm.platform["isMac"],0!==e.button||e.ctrlKey&&t||(this.#uiManager.showAllEditors("highlight",!0,!0),this.#textLayer.div.classList.add("free"),xp.startHighlighting(this,"ltr"===this.#uiManager.direction,e),this.#textLayer.div.addEventListener("pointerup",()=>{this.#textLayer.div.classList.remove("free")},{once:!0,signal:this.#uiManager._signal}),e.preventDefault()))}enableClick(){var e;this.#boundPointerdown||(e=this.#uiManager._signal,this.#boundPointerdown=this.pointerdown.bind(this),this.#boundPointerup=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#boundPointerdown,{signal:e}),this.div.addEventListener("pointerup",this.#boundPointerup,{signal:e}))}disableClick(){this.#boundPointerdown&&(this.div.removeEventListener("pointerdown",this.#boundPointerdown),this.div.removeEventListener("pointerup",this.#boundPointerup),this.#boundPointerdown=null,this.#boundPointerup=null)}attach(e){this.#editors.set(e.id,e);var t=e["annotationElementId"];t&&this.#uiManager.isDeletedAnnotationElement(t)&&this.#uiManager.removeDeletedAnnotationElement(e)}detach(e){this.#editors.delete(e.id),this.#accessibilityManager?.removePointerInTextLayer(e.contentDiv),!this.#isDisabling&&e.annotationElementId&&this.#uiManager.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#uiManager.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#isCleaningUp||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#uiManager.addDeletedAnnotationElement(e.annotationElementId),w.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div)&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div))}add(e){var t;e.parent===this&&e.isAttachedToDOM||(this.changeParent(e),this.#uiManager.addEditor(e),this.attach(e),e.isAttachedToDOM||(t=e.render(),this.div.append(t),e.isAttachedToDOM=!0),e.fixAndSetPosition(),e.onceAdded(),this.#uiManager.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData))}moveEditorInDOM(e){if(e.isAttachedToDOM){const t=document["activeElement"];e.div.contains(t)&&!this.#editorFocusTimeoutId&&(e._focusEventsAllowed=!1,this.#editorFocusTimeoutId=setTimeout(()=>{this.#editorFocusTimeoutId=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#uiManager._signal}),t.focus())},0)),e._structTreeParentId=this.#accessibilityManager?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#uiManager.getId()}get#currentEditorType(){return Mp.#editorTypes.get(this.#uiManager.getMode())}get _signal(){return this.#uiManager._signal}#createNewEditor(e){var t=this.#currentEditorType;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#currentEditorType?.canCreateNewEmptyEditor()}pasteEditor(e,t){this.#uiManager.updateToolbar(e),this.#uiManager.updateMode(e);var{offsetX:e,offsetY:a}=this.#getCenterPoint(),r=this.getNextId(),r=this.#createNewEditor({parent:this,id:r,x:e,y:a,uiManager:this.#uiManager,isCentered:!0,...t});r&&this.add(r)}deserialize(e){return Mp.#editorTypes.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#uiManager)||null}createAndAddNewEditor(e,t,a={}){var r=this.getNextId(),r=this.#createNewEditor({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:this.#uiManager,isCentered:t,...a});return r&&this.add(r),r}#getCenterPoint(){var{x:e,y:t,width:a,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),n=Math.max(0,t),i=(i+Math.min(window.innerWidth,e+a))/2-e,a=(n+Math.min(window.innerHeight,t+r))/2-t,[e,n]=this.viewport.rotation%180==0?[i,a]:[a,i];return{offsetX:e,offsetY:n}}addNewEditor(){this.createAndAddNewEditor(this.#getCenterPoint(),!0)}setSelected(e){this.#uiManager.setSelected(e)}toggleSelected(e){this.#uiManager.toggleSelected(e)}isSelected(e){return this.#uiManager.isSelected(e)}unselect(e){this.#uiManager.unselect(e)}pointerup(e){var t=cm.platform["isMac"];0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#hadPointerDown&&(this.#hadPointerDown=!1,this.#allowClick?this.#uiManager.getMode()===d.STAMP?this.#uiManager.unselectAll():this.createAndAddNewEditor(e,!1):this.#allowClick=!0)}pointerdown(e){var t;this.#uiManager.getMode()===d.HIGHLIGHT&&this.enableTextSelection(),this.#hadPointerDown?this.#hadPointerDown=!1:(t=cm.platform.isMac,0!==e.button||e.ctrlKey&&t||e.target===this.div&&(this.#hadPointerDown=!0,t=this.#uiManager.getActive(),this.#allowClick=!t||t.isEmpty()))}findNewParent(e,t,a){t=this.#uiManager.findParent(t,a);return null!==t&&t!==this&&(t.changeParent(e),!0)}destroy(){this.#uiManager.getActive()?.parent===this&&(this.#uiManager.commitOrRemove(),this.#uiManager.setActiveEditor(null)),this.#editorFocusTimeoutId&&(clearTimeout(this.#editorFocusTimeoutId),this.#editorFocusTimeoutId=null);for(const e of this.#editors.values())this.#accessibilityManager?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#editors.clear(),this.#uiManager.removeLayer(this)}#cleanup(){this.#isCleaningUp=!0;for(const e of this.#editors.values())e.isEmpty()&&e.remove();this.#isCleaningUp=!1}render({viewport:e}){this.viewport=e,Om(this.div,e);for(const t of this.#uiManager.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#uiManager.commitOrRemove(),this.#cleanup();var t=this.viewport.rotation,a=e.rotation;if(this.viewport=e,Om(this.div,{rotation:a}),t!==a)for(const r of this.#editors.values())r.rotate(a);this.addInkEditorIfNeeded(!1)}get pageDimensions(){var{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#uiManager.viewParameters.realScale}}class Ip{#parent=null;#id=0;#mapping=new Map;#toUpdate=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(this.#parent){if(this.#parent!==e){if(0<this.#mapping.size)for(const t of this.#mapping.values())t.remove(),e.append(t);this.#parent=e}}else this.#parent=e}static get _svgFactory(){return n(this,"_svgFactory",new wm)}static#setBox(e,{x:t=0,y:a=0,width:r=1,height:i=1}={}){e=e.style;e.top=100*a+"%",e.left=100*t+"%",e.width=100*r+"%",e.height=100*i+"%"}#createSVG(e){var t=Ip._svgFactory.create(1,1,!0);return this.#parent.append(t),t.setAttribute("aria-hidden",!0),Ip.#setBox(t,e),t}#createClipPath(e,t){var a=Ip._svgFactory.createElement("clipPath"),e=(e.append(a),"clip_"+t),r=(a.setAttribute("id",e),a.setAttribute("clipPathUnits","objectBoundingBox"),Ip._svgFactory.createElement("use"));return a.append(r),r.setAttribute("href","#"+t),r.classList.add("clip"),e}highlight(e,t,a,r=!1){var i=this.#id++,n=this.#createSVG(e.box),s=(n.classList.add("highlight"),e.free&&n.classList.add("free"),Ip._svgFactory.createElement("defs")),l=(n.append(s),Ip._svgFactory.createElement("path")),o=(s.append(l),`path_p${this.pageIndex}_`+i),e=(l.setAttribute("id",o),l.setAttribute("d",e.toSVGPath()),r&&this.#toUpdate.set(i,l),this.#createClipPath(s,o)),r=Ip._svgFactory.createElement("use");return n.append(r),n.setAttribute("fill",t),n.setAttribute("fill-opacity",a),r.setAttribute("href","#"+o),this.#mapping.set(i,n),{id:i,clipPathId:`url(#${e})`}}highlightOutline(e){var t=this.#id++,a=this.#createSVG(e.box),r=(a.classList.add("highlightOutline"),Ip._svgFactory.createElement("defs")),i=(a.append(r),Ip._svgFactory.createElement("path")),n=(r.append(i),`path_p${this.pageIndex}_`+t);i.setAttribute("id",n),i.setAttribute("d",e.toSVGPath()),i.setAttribute("vector-effect","non-scaling-stroke");let s;e.free&&(a.classList.add("free"),i=Ip._svgFactory.createElement("mask"),r.append(i),s=`mask_p${this.pageIndex}_`+t,i.setAttribute("id",s),i.setAttribute("maskUnits","objectBoundingBox"),e=Ip._svgFactory.createElement("rect"),i.append(e),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("fill","white"),r=Ip._svgFactory.createElement("use"),i.append(r),r.setAttribute("href","#"+n),r.setAttribute("stroke","none"),r.setAttribute("fill","black"),r.setAttribute("fill-rule","nonzero"),r.classList.add("mask"));e=Ip._svgFactory.createElement("use"),a.append(e),e.setAttribute("href","#"+n),s&&e.setAttribute("mask",`url(#${s})`),i=e.cloneNode();return a.append(i),e.classList.add("mainOutline"),i.classList.add("secondaryOutline"),this.#mapping.set(t,a),t}finalizeLine(e,t){var a=this.#toUpdate.get(e);this.#toUpdate.delete(e),this.updateBox(e,t.box),a.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#mapping.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#toUpdate.delete(e)}updatePath(e,t){this.#toUpdate.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){Ip.#setBox(this.#mapping.get(e),t)}show(e,t){this.#mapping.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#mapping.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#mapping.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#mapping.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#mapping.get(e).classList.add(t)}removeClass(e,t){this.#mapping.get(e).classList.remove(t)}remove(e){null!==this.#parent&&(this.#mapping.get(e).remove(),this.#mapping.delete(e))}destroy(){this.#parent=null;for(const e of this.#mapping.values())e.remove();this.#mapping.clear()}}var jg=Jg.GlobalWorkerOptions,Dp=Jg.getDocument;jg.workerSrc=GmCXt.getBaseUrl("/common/pdfLibJS/pdf.worker.js");let $p={ready:!0,autoPlayNextStep:!1,slideshowAutoplay:!1},Fp=(GmCXt.imgThumLength=5,[]),Op=null;function Rp(e){me.slideState.set({});var t,a,r=mg$("#mgPlayerJSqa_autoplay-slider-checkbox"),r=(r.prop("checked")&&r.prop("checked",!1).trigger("change"),GmCXt.closeSlideshowActivities(),GmCXt.playerI.tour);GmCXt.playerI&&GmCXt.isPlayer()&&!GmCXt.playerI.giphyPlayed&&(a=!1,GmCXt.isLastStep(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure)||(t=GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure),a=GmCXt.isLastStep(t.step_id,GmCXt.playerI.playStructure),(!GmCXt.isVideoEndedOnShowme&&GmCXt.playerI.type===GmCXt.TOUR_PLAYER_VIDEO||t&&GmCXt.playerI.type!==GmCXt.TOUR_PLAYER_VIDEO&&!a&&t.step_type!==GmCXt.STEP_TYPE_SURVEY&&t.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER&&t.step_type!==GmCXt.STEP_TYPE_TRANSPORT||!a&&t&&-1!==Fp.indexOf(t.step_id))&&(a=GmCXt.getOrgSettings())&&a.exitSentiment&&(t={tour:GmCXt.playerI.tour,guideNotCompleted:!0},GmCXt.showSurveyScreen(t,t.guideNotCompleted))),Fp=[]),GmCXt.isMyguideLibrary?GmCXt.closeMyguideLibShowme():(GmCXt.FT.isPlayer&&(a=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId),ge.setPlayedStepsInfo(a)),GmCXt.tourPlayerI&&GmCXt.tourPlayerI.closeGuide(!1,!0)),mg$(".mgPlayerJSqa_panel").removeAttr("style"),GmCXt.closeAppPanel(),GmCXt.requestHandler.closeSlideshow(),GmCXt.cleanPlayer(),GmCXt.isHowToGuide(r)&&!GmCXt.isMyguideLibrary&&GmCXt.openAppPanel()}function Hp(){let t=-1;var a=mg$(".mgPlayerJSqa_thumbnail-preview");for(let e=0;e<a.length;e++)a[e].id==="mgPlayerJSqa_slideshow-thumb-"+GmCXt.playerI.currentStepId&&(t=e);return t}function Np(e){l(e,"svelte-z74ak0",".mgPlayerJSqa_autoplay-option-checkbox.svelte-z74ak0.svelte-z74ak0{display:flex;align-items:center;margin:5px;&:hover {\n\t\t\t& .mgPlayerJSqa_title-tooltip-wrapper {\n\t\t\t\tfont-weight: normal !important;\n\t\t\t\tdisplay: block !important;\n\t\t\t\ttop: 25px !important;\n\t\t\t}\n\t\t}}.mgPlayerJSqa_autoplay-custom-checkbox.svelte-z74ak0.svelte-z74ak0{position:relative !important;display:inline-block !important;width:40px !important;height:18px !important}input[type='checkbox'].svelte-z74ak0.svelte-z74ak0{opacity:0;width:0;height:0}.mgPlayerJSqa_autoplay-custom-slider.svelte-z74ak0.svelte-z74ak0{position:absolute !important;cursor:pointer !important;top:0 !important;left:0 !important;right:0 !important;bottom:0 !important;-webkit-transition:0.4s !important;transition:0.4s !important;width:36px !important;height:18px !important;border-radius:50px !important;background-color:#8e8fa6 !important;background-size:cover !important}.mgPlayerJSqa_autoplay-custom-slider.svelte-z74ak0.svelte-z74ak0::before{position:absolute;content:'';height:14px;width:14px;left:2px;bottom:2px;border-radius:50%;background-color:#ffffff !important;-webkit-transition:0.4s;transition:0.4s;background-size:cover}input[type='checkbox'].svelte-z74ak0:checked+.mgPlayerJSqa_autoplay-custom-slider.svelte-z74ak0{background-color:var(--mg-primary) !important}input[type='checkbox'].svelte-z74ak0:checked+.mgPlayerJSqa_autoplay-custom-slider.svelte-z74ak0::before{-webkit-transform:translateX(18px);-ms-transform:translateX(18px);transform:translateX(18px)}.mgPlayerJSqa_autoplay-text.svelte-z74ak0.svelte-z74ak0{font-size:16px;color:#333;font-weight:400;user-select:none}.mgPlayerJSqa_preview-step-popup-container.svelte-z74ak0.svelte-z74ak0{z-index:initial;position:absolute}")}function Bp(a){let r,e=GmCXt.label.zoomIn+"",i,n,s,l=GmCXt.svgs.close_slideshow+"",o,c;return{c(){r=Ee("wmgPlayerJSqa_"),i=Me(e),n=Ie(),$e(s=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_span"),$e(r,"class","mgPlayerJSqa_zoom-error"),$e(r,"id","mgPlayerJSqa_zoom-in-error"),$e(r,"role","alertdialog")},m(e,t){xe(e,r,t),ke(r,i),ke(r,n),ke(r,s),s.innerHTML=l,o||(c=De(s,"click",a[25]),o=!0)},p:we,d(e){e&&Le(r),o=!1,c()}}}function Vp(a){let r,i,n,s,l,o;return{c(){$e(r=Ee("img"),"id","mgPlayerJSqa_slide-img"),$e(r,"class",i=Je(a[19]?"mgPlayerJSqa_slideshow-step-img":"mgPlayerJSqa_slideshow-step-img-inline")+" svelte-z74ak0"),$e(r,"style",n=a[19]?"top: 50%; transform: translate(-50%, -50%);":`transition: ${a[0]>a[7]?"1s":"unset"}; z-index: -1; transform-origin: 0px 0px; transform: translate(${a[20]?"0,0":`calc(-50% * ${a[0]}), 0`}) scale(${a[0]}); left: `+(a[20]?"0":"50%")),Q(r.src,s=a[18])||$e(r,"src",s),$e(r,"alt","")},m(e,t){xe(e,r,t),l||(o=De(r,"load",a[21]),l=!0)},p(e,t){524288&t[0]&&i!==(i=Je(e[19]?"mgPlayerJSqa_slideshow-step-img":"mgPlayerJSqa_slideshow-step-img-inline")+" svelte-z74ak0")&&$e(r,"class",i),1572993&t[0]&&n!==(n=e[19]?"top: 50%; transform: translate(-50%, -50%);":`transition: ${e[0]>e[7]?"1s":"unset"}; z-index: -1; transform-origin: 0px 0px; transform: translate(${e[20]?"0,0":`calc(-50% * ${e[0]}), 0`}) scale(${e[0]}); left: `+(e[20]?"0":"50%"))&&$e(r,"style",n),262144&t[0]&&!Q(r.src,s=e[18])&&$e(r,"src",s)},d(e){e&&Le(r),l=!1,o()}}}function zp(a){let r,e=GmCXt.label.zoomOut+"",i,n,s,l=GmCXt.svgs.close_slideshow+"",o,c;return{c(){r=Ee("wmgPlayerJSqa_"),i=Me(e),n=Ie(),$e(s=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_span"),$e(r,"class","mgPlayerJSqa_zoom-error"),$e(r,"id","mgPlayerJSqa_zoom-out-error"),$e(r,"role","alertdialog")},m(e,t){xe(e,r,t),ke(r,i),ke(r,n),ke(r,s),s.innerHTML=l,o||(c=De(s,"click",a[25]),o=!0)},p:we,d(e){e&&Le(r),o=!1,c()}}}function Up(e){let a,r=e[8]?.step_description+"";return{c(){$e(a=Ee("wmgPlayerJSqa_"),"class","mgPlayerJSqa_step-desc"),$e(a,"style",e[14])},m(e,t){xe(e,a,t),a.innerHTML=r},p(e,t){256&t[0]&&r!==(r=e[8]?.step_description+"")&&(a.innerHTML=r),16384&t[0]&&$e(a,"style",e[14])},d(e){e&&Le(a)}}}function jp(e){let a;return{c(){$e(a=Ee("wmgPlayerJSqa_"),"id","mgPlayerJSqa_howto-circle"),Ge(a,"left",e[3]+"px"),Ge(a,"top",e[4]+"px"),Ge(a,"width",e[6]+"px"),Ge(a,"height",e[5]+"px"),Ge(a,"position","absolute"),Ge(a,"border","5px solid transparent")},m(e,t){xe(e,a,t)},p(e,t){8&t[0]&&Ge(a,"left",e[3]+"px"),16&t[0]&&Ge(a,"top",e[4]+"px"),64&t[0]&&Ge(a,"width",e[6]+"px"),32&t[0]&&Ge(a,"height",e[5]+"px")},d(e){e&&Le(a)}}}function Wp(a){let r,i,$,F,n,s,l,o,O,R,H,c,g,m,N,B,V,d,z,U,p,j,W,Z,Y,u,h,K,y,Q,ee,_,te,ae,re,S,ie,ne,f,P,C,b,q=a[8]?.step_title+"",se,le,v,w,e=GmCXt.label.btnPrev+"",oe,J,ce,G,A=(!1===a[12]?GmCXt.label.close:GmCXt.label.next)+"",ge,T,me,de,X,pe,ue,he,k,ye,x,_e,Se,fe,Pe,Ce,be,qe,ve,L=a[1]&&Bp(a),E=a[18]&&Vp(a),M=a[2]&&zp(a),I=a[8]?.step_description&&""!=a[8].step_description&&Up(a),D=a[3]&&a[4]&&a[6]&&a[5]&&jp(a);return{c(){r=Ee("wmgPlayerJSqa_"),i=Ee("wmgPlayerJSqa_"),($=Ee("wmgPlayerJSqa_")).innerHTML='<wmgPlayerJSqa_ class="mgPlayerJSqa_h3 mgPlayerJSqa_slideshow-tour-title mgPlayerJSqa_font-weight-normal mgPlayerJSqa_no-margin"></wmgPlayerJSqa_>',F=Ie(),n=Ee("wmgPlayerJSqa_"),s=Ee("wmgPlayerJSqa_"),l=Ee("wmgPlayerJSqa_"),O=Ie(),(R=Ee("wmgPlayerJSqa_")).innerHTML='<wmgPlayerJSqa_ class="mgPlayerJSqa_tooltip-title">Zoom in</wmgPlayerJSqa_>',H=Ie(),c=Ee("wmgPlayerJSqa_"),g=Ee("wmgPlayerJSqa_"),N=Ie(),(B=Ee("wmgPlayerJSqa_")).innerHTML='<wmgPlayerJSqa_ class="mgPlayerJSqa_tooltip-title">Zoom out</wmgPlayerJSqa_>',V=Ie(),d=Ee("wmgPlayerJSqa_"),(z=Ee("label")).innerHTML='<input class="mgPlayerJSqa_autoplay-user-pref-scope svelte-z74ak0" type="checkbox" id="mgPlayerJSqa_autoplay-slider-checkbox"/> <wmgPlayerJSqa_ class="mgPlayerJSqa_span mgPlayerJSqa_autoplay-custom-slider svelte-z74ak0"></wmgPlayerJSqa_>',U=Ie(),p=Ee("wmgPlayerJSqa_"),(j=Ee("wmgPlayerJSqa_")).textContent=""+GmCXt.label.autoplay,W=Ie(),(Z=Ee("wmgPlayerJSqa_")).innerHTML='<wmgPlayerJSqa_ class="mgPlayerJSqa_player-audio-controls mgPlayerJSqa_position-center"><button id="mgPlayerJSqa_btn-audio-mute" class="mgPlayerJSqa_lbl-btn mgPlayerJSqa_btn-audio-mute mgPlayerJSqa_cursor-pointer mgPlayerJSqa_display-none" aria-label="slideshow audio mute button"></button> <button id="mgPlayerJSqa_btn-audio-unmute" class="mgPlayerJSqa_lbl-btn mgPlayerJSqa_btn-audio-unmute mgPlayerJSqa_cursor-pointer" aria-label="slideshow audio unmute button"></button></wmgPlayerJSqa_>',Y=Ie(),u=Ee("wmgPlayerJSqa_"),h=Ee("button"),K=Ie(),y=Ee("wmgPlayerJSqa_"),(Q=Ee("wmgPlayerJSqa_")).textContent=""+GmCXt.label.close,ee=Ie(),_=Ee("wmgPlayerJSqa_"),L&&L.c(),te=Ie(),ae=Ee("wmgPlayerJSqa_"),re=Ie(),S=Ee("wmgPlayerJSqa_"),E&&E.c(),ie=Ie(),M&&M.c(),ne=Ie(),f=Ee("wmgPlayerJSqa_"),P=Ee("wmgPlayerJSqa_"),C=Ee("wmgPlayerJSqa_"),b=Ee("wmgPlayerJSqa_"),se=Ie(),I&&I.c(),le=Ie(),v=Ee("wmgPlayerJSqa_"),w=Ee("button"),oe=Me(e),ce=Ie(),G=Ee("button"),ge=Me(A),me=Ie(),D&&D.c(),de=Ie(),(X=Ee("wmgPlayerJSqa_")).innerHTML='<wmgPlayerJSqa_ class="mgPlayerJSqa_slideshow-spinner-outer"><wmgPlayerJSqa_ class="mgPlayerJSqa_slideshow-image-spinner"><img alt="slideshow spinner image"/></wmgPlayerJSqa_></wmgPlayerJSqa_>',he=Ie(),(k=Ee("button")).innerHTML='<wmgPlayerJSqa_ class="mgPlayerJSqa_span mgPlayerJSqa_icon-slideshow-prev-button mgPlayerJSqa_inline-block-vm mgPlayerJSqa_position-center"></wmgPlayerJSqa_>',ye=Ie(),(x=Ee("button")).innerHTML='<wmgPlayerJSqa_ class="mgPlayerJSqa_span mgPlayerJSqa_icon-slideshow-next-button mgPlayerJSqa_inline-block-vm mgPlayerJSqa_position-center"></wmgPlayerJSqa_>',_e=Ie(),(Se=Ee("wmgPlayerJSqa_")).innerHTML='<wmgPlayerJSqa_><wmgPlayerJSqa_ class="mgPlayerJSqa_slideshow-step-num mgPlayerJSqa_inline-block-vm"></wmgPlayerJSqa_> <wmgPlayerJSqa_ class="mgPlayerJSqa_slideshow-step-title mgPlayerJSqa_inline-block-vm"></wmgPlayerJSqa_></wmgPlayerJSqa_> <wmgPlayerJSqa_ class="mgPlayerJSqa_slideshow-step-desc"></wmgPlayerJSqa_>',fe=Ie(),(Pe=Ee("wmgPlayerJSqa_")).innerHTML=`<wmgPlayerJSqa_ class="mgPlayerJSqa_slideshow-branch-heading"><wmgPlayerJSqa_ class="mgPlayerJSqa_slideshow-branch-heading-label mgPlayerJSqa_font-size-15">Select the <wmgPlayerJSqa_ class="mgPlayerJSqa_span mgPlayerJSqa_font-weight-600">Branch</wmgPlayerJSqa_>
					that you want to play further</wmgPlayerJSqa_></wmgPlayerJSqa_> <wmgPlayerJSqa_ class="mgPlayerJSqa_slideshow-branch-heading"><wmgPlayerJSqa_ class="mgPlayerJSqa_slideshow-branch-step-desc mgPlayerJSqa_font-size-15"></wmgPlayerJSqa_></wmgPlayerJSqa_> <wmgPlayerJSqa_ class="mgPlayerJSqa_slideshow-button-container"></wmgPlayerJSqa_>`,Ce=Ie(),(be=Ee("wmgPlayerJSqa_")).innerHTML='<button id="mgPlayerJSqa_btn-thumbnail-prev" class="mgPlayerJSqa_lbl-btn mgPlayerJSqa_control-thumbnail-prev mgPlayerJSqa_cursor-pointer mgPlayerJSqa_position-relative" aria-label="slideshow thumbnail previous button"><wmgPlayerJSqa_ class="mgPlayerJSqa_span mgPlayerJSqa_control-icon-prev mgPlayerJSqa_inline-block-vm mgPlayerJSqa_position-center"></wmgPlayerJSqa_></button> <wmgPlayerJSqa_ id="mgPlayerJSqa_thumbnail-preview-wrapper" class="mgPlayerJSqa_thumbnail-preview-wrapper mgPlayerJSqa_width-100"></wmgPlayerJSqa_> <button id="mgPlayerJSqa_btn-thumbnail-next" class="mgPlayerJSqa_lbl-btn mgPlayerJSqa_control-thumbnail-next mgPlayerJSqa_cursor-pointer mgPlayerJSqa_position-relative" aria-label="slideshow thumbnail next button"><wmgPlayerJSqa_ class="mgPlayerJSqa_span mgPlayerJSqa_control-icon-next mgPlayerJSqa_inline-block-vm mgPlayerJSqa_position-center"></wmgPlayerJSqa_></button>',$e($,"class","mgPlayerJSqa_slideshow-header-left mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center"),$e(l,"id","mgPlayerJSqa_zoom-in"),$e(l,"class",o="mgPlayerJSqa_zoom mgPlayerJSqa_cursor-pointer mgPlayerJSqa_focus-controls-wrapper "+(a[9]?"":"mgPlayerJSqa_display-none")),$e(R,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left"),$e(s,"class","mgPlayerJSqa_btn-zoom-in-wrapper mgPlayerJSqa_position-relative"),$e(g,"id","mgPlayerJSqa_zoom-out"),$e(g,"class",m="mgPlayerJSqa_zoom mgPlayerJSqa_cursor-pointer mgPlayerJSqa_focus-controls-wrapper "+(a[9]?"":"mgPlayerJSqa_display-none")),$e(B,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left"),$e(c,"class","mgPlayerJSqa_btn-zoom-out-wrapper mgPlayerJSqa_position-relative"),$e(z,"class","mgPlayerJSqa_autoplay-custom-checkbox svelte-z74ak0"),$e(j,"class","mgPlayerJSqa_tooltip-title"),$e(p,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left"),$e(d,"class","mgPlayerJSqa_autoplay-option-checkbox mgPlayerJSqa_autoplay-cursor-pointer mgPlayerJSqa_position-relative svelte-z74ak0"),$e(Z,"class","mgPlayerJSqa_showMe-play-ctrl-audio mgPlayerJSqa_position-relative"),$e(h,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_icon-close-slideshow mgPlayerJSqa_inline-block-vm"),$e(h,"aria-label","slideshow close button"),$e(Q,"class","mgPlayerJSqa_tooltip-title"),$e(y,"class","mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-bottom-left"),$e(u,"class","mgPlayerJSqa_inline-block-vm mgPlayerJSqa_slideshow-close mgPlayerJSqa_position-relative"),$e(n,"class","mgPlayerJSqa_slideshow-header-right mgPlayerJSqa_display-flex mgPlayerJSqa_display-inline-flex mgPlayerJSqa_align-items-center"),$e(i,"class","mgPlayerJSqa_slideshow-header mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_padding-15"),$e(ae,"class","mgPlayerJSqa_iframe-wrapper-div"),$e(b,"class","mgPlayerJSqa_step-title"),$e(b,"style",a[13]),$e(C,"class","mgPlayerJSqa_justify-content-space-between mgPlayerJSqa_step-data-title"),$e(P,"class","mgPlayerJSqa_step-data mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y mgPlayerJSqa_scrollbar-thin"),Ge(P,"height",a[8]?.step_description&&""!=a[8].step_description?"80px":"56px"),$e(w,"id","mgPlayerJSqa_slideshow-popup-prev-button"),$e(w,"class",J="mgPlayerJSqa_action-btn mgPlayerJSqa_prev "+(a[11]?"":"mgPlayerJSqa_display-none")),$e(w,"style",a[17]),$e(w,"aria-label","Prev"),$e(G,"id","mgPlayerJSqa_slideshow-popup-next-button"),$e(G,"class","mgPlayerJSqa_action-btn mgPlayerJSqa_next"),$e(G,"style",a[16]),$e(v,"class","mgPlayerJSqa_action-container"),$e(f,"id","mgPlayerJSqa_tooltipPopup"),$e(f,"class",T="mgPlayerJSqa_preview-step-popup-container "+a[10]+" svelte-z74ak0"),$e(f,"style",a[15]),$e(X,"id","mgPlayerJSqa_spinner"),$e(X,"class","mgPlayerJSqa_loader-wrapper"),$e(S,"id","mgPlayerJSqa_image_scroll"),$e(S,"class",pe=Je(`mgPlayerJSqa_slideshow-step-img-div mgPlayerJSqa_position-center ${a[19]?"":"mgPlayerJSqa_overflow mgPlayerJSqa_scrollbar-thin"} `)+" svelte-z74ak0"),$e(S,"style",ue=a[19]?"overflow: unset; transition: unset;":""),$e(k,"id","mgPlayerJSqa_slideshow-prev-button"),$e(k,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_slideshow-prev-button"),$e(k,"aria-label","slideshow previous step button"),$e(x,"id","mgPlayerJSqa_slideshow-next-button"),$e(x,"class","mgPlayerJSqa_lbl-btn mgPlayerJSqa_slideshow-next-button"),$e(x,"aria-label","slideshow next step button"),$e(Se,"class","mgPlayerJSqa_slideshow-step-content"),$e(Pe,"class","mgPlayerJSqa_slideshow-branch-content"),$e(_,"class","mgPlayerJSqa_slideshow-main"),$e(be,"class","mgPlayerJSqa_step-thumbnail-container mgPlayerJSqa_width-100"),$e(r,"class","mgPlayerJSqa_tour-player-panel mgPlayerJSqa_display-none")},m(e,t){xe(e,r,t),ke(r,i),ke(i,$),ke(i,F),ke(i,n),ke(n,s),ke(s,l),ke(s,O),ke(s,R),ke(n,H),ke(n,c),ke(c,g),ke(c,N),ke(c,B),ke(n,V),ke(n,d),ke(d,z),ke(d,U),ke(d,p),ke(p,j),ke(n,W),ke(n,Z),ke(n,Y),ke(n,u),ke(u,h),ke(u,K),ke(u,y),ke(y,Q),ke(r,ee),ke(r,_),L&&L.m(_,null),ke(_,te),ke(_,ae),ke(_,re),ke(_,S),E&&E.m(S,null),ke(S,ie),M&&M.m(S,null),ke(S,ne),ke(S,f),ke(f,P),ke(P,C),ke(C,b),b.innerHTML=q,ke(P,se),I&&I.m(P,null),ke(f,le),ke(f,v),ke(v,w),ke(w,oe),ke(v,ce),ke(v,G),ke(G,ge),ke(S,me),D&&D.m(S,null),ke(S,de),ke(S,X),ke(_,he),ke(_,k),ke(_,ye),ke(_,x),ke(_,_e),ke(_,Se),ke(_,fe),ke(_,Pe),ke(r,Ce),ke(r,be),qe||(ve=[De(l,"click",a[23]),De(g,"click",a[24]),De(G,"click",a[22])],qe=!0)},p(e,t){512&t[0]&&o!==(o="mgPlayerJSqa_zoom mgPlayerJSqa_cursor-pointer mgPlayerJSqa_focus-controls-wrapper "+(e[9]?"":"mgPlayerJSqa_display-none"))&&$e(l,"class",o),512&t[0]&&m!==(m="mgPlayerJSqa_zoom mgPlayerJSqa_cursor-pointer mgPlayerJSqa_focus-controls-wrapper "+(e[9]?"":"mgPlayerJSqa_display-none"))&&$e(g,"class",m),e[1]?L?L.p(e,t):((L=Bp(e)).c(),L.m(_,te)):L&&(L.d(1),L=null),e[18]?E?E.p(e,t):((E=Vp(e)).c(),E.m(S,ie)):E&&(E.d(1),E=null),e[2]?M?M.p(e,t):((M=zp(e)).c(),M.m(S,ne)):M&&(M.d(1),M=null),256&t[0]&&q!==(q=e[8]?.step_title+"")&&(b.innerHTML=q),8192&t[0]&&$e(b,"style",e[13]),e[8]?.step_description&&""!=e[8].step_description?I?I.p(e,t):((I=Up(e)).c(),I.m(P,null)):I&&(I.d(1),I=null),256&t[0]&&Ge(P,"height",e[8]?.step_description&&""!=e[8].step_description?"80px":"56px"),2048&t[0]&&J!==(J="mgPlayerJSqa_action-btn mgPlayerJSqa_prev "+(e[11]?"":"mgPlayerJSqa_display-none"))&&$e(w,"class",J),131072&t[0]&&$e(w,"style",e[17]),4096&t[0]&&A!==(A=(!1===e[12]?GmCXt.label.close:GmCXt.label.next)+"")&&Fe(ge,A),65536&t[0]&&$e(G,"style",e[16]),1024&t[0]&&T!==(T="mgPlayerJSqa_preview-step-popup-container "+e[10]+" svelte-z74ak0")&&$e(f,"class",T),32768&t[0]&&$e(f,"style",e[15]),e[3]&&e[4]&&e[6]&&e[5]?D?D.p(e,t):((D=jp(e)).c(),D.m(S,de)):D&&(D.d(1),D=null),524288&t[0]&&pe!==(pe=Je(`mgPlayerJSqa_slideshow-step-img-div mgPlayerJSqa_position-center ${e[19]?"":"mgPlayerJSqa_overflow mgPlayerJSqa_scrollbar-thin"} `)+" svelte-z74ak0")&&$e(S,"class",pe),524288&t[0]&&ue!==(ue=e[19]?"overflow: unset; transition: unset;":"")&&$e(S,"style",ue)},i:we,o:we,d(e){e&&Le(r),L&&L.d(),E&&E.d(),M&&M.d(),I&&I.d(),D&&D.d(),qe=!1,Xe(ve)}}}GmCXt.showSelector=function(e){GmCXt.setElementStyle(e,{display:"block"},!0)},GmCXt.hideSelector=function(e){GmCXt.setElementStyle(e,{display:"none"},!0)},GmCXt.showInlineBlock=function(e){mg$(e).css("display","inline-block")},GmCXt.disableSelector=function(e){mg$(e).css({opacity:".5","pointer-events":"none"})},GmCXt.resetSelector=function(e){mg$(e).css({opacity:"","pointer-events":""})},GmCXt.activateSelector=function(e){mg$(e).addClass("mgPlayerJSqa_showMe-player-active-mode")},GmCXt.inactivateSelector=function(e){mg$(e).removeClass("mgPlayerJSqa_showMe-player-active-mode")},GmCXt.removeStyleSelector=function(e){mg$(e).removeAttr("style")},GmCXt.disableSlideshowAutoplay=function(){!0===$p.slideshowAutoplay&&($p.slideshowAutoplay=!1,$p.autoPlayNextStep=!1)},GmCXt.playModeView=function(e){GmCXt.FT.audio||GmCXt.hideSelector(".mgPlayerJSqa_showMe-play-ctrl-audio"),"slideshow"===e?(mg$(".mgPlayerJSqa_slideshow-main").css({height:"calc(100% - 150px)"}),window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer&&mg$(".mgPlayerJSqa_slideshow-main").css({height:"calc(100% - 17%)"}),mg$(".mgPlayerJSqa_iframe-wrapper-div").css({height:"89%"})):"video"!==e&&"gif"!==e&&"giphy"!==e||(mg$(".mgPlayerJSqa_slideshow-main").css({height:"86%"}),window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer&&mg$(".mgPlayerJSqa_slideshow-main").css({height:"calc(100% - 12%)"}),mg$(".mgPlayerJSqa_iframe-wrapper-div").css({height:"92%"}),GmCXt.disableSlideshowAutoplay())},void 0===GmCXt.requestHandler&&(GmCXt.requestHandler={}),GmCXt.hideSlideShowPlayer=function(){mg$(".mgPlayerJSqa_tour-player-panel").hide(),GmCXt.hideSelector(".mgPlayerJSqa_showMe-player-ctrl-container")},GmCXt.showSlideShowPlayer=function(){$p.settings={showMeSetting:GmCXt.getAppSetting("showMeSetting"),giphy:GmCXt.getAppSetting("giphy"),video:GmCXt.getAppSetting("video")},GmCXt.increaseSidePanelWidth(),mg$(".mgPlayerJSqa_ege-panel").css({width:"500px",right:"-9550px",transition:"width 0s"}),mg$(".mgPlayerJSqa_slideshow-panel").css({display:"block",left:"50%"}),mg$(".mgPlayerJSqa_tour-player-panel").show(),GmCXt.showSelector(".mgPlayerJSqa_showMe-player-ctrl-container"),mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").empty()},GmCXt.getBulCount=function(e){let t=mg$(e).find("li").length;return mg$(e).find("li").each(function(){var e=mg$(this).text().replace(/.*\{|\}/g,"");-1!==e.indexOf(";")&&(e=e.split(";")[1])&&"optional"===e.trim()&&t--}),t},GmCXt.validateShowMe=function(e){var t=mg$(e).attr("maxlength"),t=parseInt(t),a=mg$(e).val().length;return t<=a?(mg$(e).next(".mgPlayerJSqa_power-form-error").each(function(){this.style.setProperty("display","block","important")}),t<a||void 0):(mg$(e).next(".mgPlayerJSqa_power-form-error").each(function(){this.style.setProperty("display","none","important")}),!1)},GmCXt.checkPreFilledData=function(e,t){e=GmCXt.getBulCount(e);let a=GmCXt.getBulCount(t)<=e?!0:!1;return a},GmCXt.getFormHtml=function(s,e){e=e.replace(/&nbsp;/gm,"");let a=mg$(s).text().trim().toLowerCase(),l=GmCXt.getBulCount(e),o=GmCXt.checkPreFilledData(s,e),c="";function g(e){let t="";return t=e&&-1!==mg$(e).text().indexOf(":")?mg$(e).text().substring(mg$(e).text().indexOf(":")+1):mg$(e).text()}return mg$(e).find("li").each(function(r){let i=mg$(this).text().replace(/{(.*?)}/g,"");var e=mg$(this).text().replace(/.*\{|\}/g,"");let t="",n="";if(o){let a=!1;mg$(s).find("li").each(function(t){if(!a){let e=-1!==mg$(this).text().indexOf(":")?mg$(this).text().split(":")[0]:"";(e=e.replace(/\s/g,""))&&0===i.replace(/\s/g,"").indexOf(e)?(n=mg$(s).find("li")[t],a=!0):e||i||(n=mg$(s).find("li")[r],a=!0)}})}1!==l||"yes"!==a&&"no"!==a||(n=mg$(s)),-1!==e.indexOf("|")?t=function(e,t){var a,r=g(t),i=e.split("|");let n="<select>",s="";for(let e=0;e<i.length;e++)s=r&&r.replace(/\s/g,"").toLowerCase()===i[e].replace(/\s/g,"").toLowerCase()?"selected":"",a=25<i[e].length?i[e].slice(0,25)+"...":i[e],n=n+"<option "+s+" title ='"+i[e]+"' value = '"+i[e]+"' >"+a+"</option>";return n+"</select>"}(e,n):-1!==e.indexOf("char")&&(t=function(e,t){var t=g(t),a=parseInt(e.split("char")[0]),e=e.split(";")[1];let r=!1;return"<textarea optional='"+(r=e&&"optional"===e.trim()?!0:r)+"' maxlength='"+a+"'  value='"+t+"' >"+t+"</textarea><wmgPlayerJSqa_ class='mgPlayerJSqa_power-form-error'>"+GmCXt.label.powerFormMandatory+" "+a+" </wmgPlayerJSqa_>"}(e,n)),c=c+"<li>"+i+t+"</li>"}),c},GmCXt.expandPowerForm=function(){"none"===mg$(".mgPlayerJSqa_form-injector-old-value-wrapper").css("display")?(mg$(".mgPlayerJSqa_form-injector-old-value-wrapper").css({display:"inline-block"}),mg$(".mgPlayerJSqa_form-injector-form").css({width:"56%","border-left":"1px solid #bdbdbd"}),mg$(".mgPlayerJSqa_power-form-expand-icon").css({transform:"rotate(180deg)"})):(mg$(".mgPlayerJSqa_form-injector-old-value-wrapper").css({display:"none"}),mg$(".mgPlayerJSqa_form-injector-form").css({width:"100%","border-left":"none"}),mg$(".mgPlayerJSqa_power-form-expand-icon").css({transform:"rotate(0deg)"}))},GmCXt.openPowerForm=function(e){let t=e.he,a=e.tag;var r=e.value;let i=e.jobId,n=e.step,s=e.isPreview,l=GmCXt.label.powerFormNewData;function o(){mg$(".mgPlayerJSqa_form-injector-form").find("li").each(function(){var e=mg$(this).html();if(-1!==e.indexOf("<select"))t=this,a=mg$(t).find("select").val(),mg$(t).find("select").remove(),mg$(t).html(mg$(t).html()+a);else if(-1!==e.indexOf("<textarea")){var t=this;var a=mg$(t).find("textarea");let e=mg$(a).val().trim();a=mg$(a).attr("optional"),e||"true"!==a?("."===e[e.length-1]&&(e=e.substring(0,e.length-1)),mg$(t).find("textarea").remove(),mg$(t).html(mg$(t).html()+e)):mg$(t).remove();return}}),mg$(".mgPlayerJSqa_power-form-error").remove(),mg$(".mgPlayerJSqa_form-injector-form-title").remove();var e=mg$(".mgPlayerJSqa_form-injector-form").find("li").length,t=mg$(".mgPlayerJSqa_form-injector-form").text().trim();1!==e||"yes"!==t.toLowerCase()&&"no"!==t.toLowerCase()||mg$(".mgPlayerJSqa_form-injector-form").html(mg$(".mgPlayerJSqa_form-injector-form").text())}GmCXt.checkPreFilledData(t,r)||(l=l+"<br/><p class='mgPlayerJSqa_font-size-11'> "+GmCXt.label.powerFormNewDataMore+"</p>");e="<wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-wrapper mgPlayerJSqa_form-injector-wrapper"+i+"'>   <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-wrapper-inner'>   <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-header'>       <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-title'>"+GmCXt.label.powerFormTitle+"</wmgPlayerJSqa_>       <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-brand-logo'>"+GmCXt.getPopupLogo()+"</wmgPlayerJSqa_>   </wmgPlayerJSqa_>       <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-form-container'>           <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-old-value-wrapper'>               <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-old-value-title'>"+GmCXt.label.powerFormOldData+"</wmgPlayerJSqa_>               <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-old-value'>"+t+"</wmgPlayerJSqa_>           </wmgPlayerJSqa_>           <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-form'>               <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-form-title'>"+l+"</wmgPlayerJSqa_>               <ul>"+GmCXt.getFormHtml(t,r)+"</ul>           </wmgPlayerJSqa_>       </wmgPlayerJSqa_>       <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-btns'>           <wmgPlayerJSqa_ class='mgPlayerJSqa_power-form-expand-icon'></wmgPlayerJSqa_>           <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-cancel mgPlayerJSqa_btn-default mgPlayerJSqa_btn-neutral'>"+GmCXt.label.btnCancel+" </wmgPlayerJSqa_>           <wmgPlayerJSqa_ class='mgPlayerJSqa_form-injector-submit mgPlayerJSqa_btn-default'> "+GmCXt.label.btnSubmit+"</wmgPlayerJSqa_>       </wmgPlayerJSqa_>   </wmgPlayerJSqa_> </wmgPlayerJSqa_>",mg$(".mgPlayerJSqa_form-injector-wrapper").remove(),mg$("html").append(e),r=GmCXt.getBrandLogo();r||mg$(".mgPlayerJSqa_form-injector-brand-logo").html(GmCXt.svgs.white_myguide_logo),mg$(".mgPlayerJSqa_power-form-expand-icon").html(GmCXt.svgs.expand_power_form),mg$(".mgPlayerJSqa_form-injector-form li textarea").off("change keyup paste").on("change keyup paste",function(){GmCXt.validateShowMe(this)}),mg$(".mgPlayerJSqa_power-form-expand-icon").off("click").on("click",GmCXt.expandPowerForm),mg$(".mgPlayerJSqa_form-injector-submit").off("click").on("click",function(){var e;!function(){let r=!0;return mg$(".mgPlayerJSqa_form-injector-form").find("li").each(function(){var e,t,a;-1!==mg$(this).html().indexOf("<textarea")&&(e=mg$(this).find("textarea"),t=mg$(e).val().trim(),a=mg$(e).attr("optional"),!t&&"true"!==a||GmCXt.validateShowMe(e))&&(mg$(this).find(".mgPlayerJSqa_power-form-error").each(function(){this.style.setProperty("display","block","important")}),r=!1)}),r}()||(!s&&n&&GmCXt.updateTooltipActionInfo(n.tour_id,n.step_id,n.step_settings.smarttip,"submit"),o(),e=mg$(".mgPlayerJSqa_form-injector-form").html(),e={he:t,tag:a,formHtml:e,forceInsert:!0,jobId:i},GmCXt.sendMessageToAllWindows("mgPlayerJSqa_action:insert_power_html",e),GmCXt.closePowerForm())}),mg$(".mgPlayerJSqa_form-injector-cancel").off("click").on("click",function(){!s&&n&&GmCXt.updateTooltipActionInfo(n.tour_id,n.step_id,n.step_settings.smarttip,"cancel"),GmCXt.closePowerFormSp()})},GmCXt.getCustomImgName=function(){return"mgPlayerJSqa_custom-image"},GmCXt.requestHandler.playVideo=function(){GmCXt.hideSelector(".mgPlayerJSqa_showMe-player-ctrl-container"),GmCXt.hideSelector(".mgPlayerJSqa_slideshow-next-button"),GmCXt.hideSelector(".mgPlayerJSqa_slideshow-prev-button"),mg$(".mgPlayerJSqa_slideshow-tour-title").text(GmCXt.playerI.title),mg$(".mgPlayerJSqa_slideshow-logo").attr("src",GmCXt.brandLogo());var e=GmCXt.getVideoPopUpIFrameHTML(GmCXt.playerI.video_url);mg$(".mgPlayerJSqa_iframe-wrapper-div").html(e),document.getElementById("mgPlayerJSqa_video-container").onended=function(){GmCXt.closeStepInSlideShow(),GmCXt.requestHandler.videoAssignmentPlayed()}},GmCXt.addSlidePlayerThumbnail=function(e,t){let a,r,i;!e&&t?GmCXt.branchStepExistInPS()?(a=GmCXt.getStepSortedByPS(GmCXt.playerI.playStructure,GmCXt.playerI.currentStepId),e=GmCXt.playerI.currentStepId):a=t:a=GmCXt.branchStepExistInPS()&&e?GmCXt.getStepSortedByPS(GmCXt.playerI.playStructure,e):GmCXt.playerI.tour.steps,r=a.length,a.forEach(function(e,t){e.step_id===GmCXt.playerI.currentStepId&&(i=t)}),5<r&&(i>=GmCXt.imgThumLength?r=i+1:r>GmCXt.imgThumLength&&(r=GmCXt.imgThumLength)),GmCXt.createThumbnail(e,r,a)},GmCXt.showSlideShowControls=function(){GmCXt.showSelector(".mgPlayerJSqa_player-audio-controls"),GmCXt.showSelector(".mgPlayerJSqa_step-thumbnail-container"),GmCXt.showSelector(".mgPlayerJSqa_mode-slideshow"),GmCXt.showSelector(".mgPlayerJSqa_mode-giphy"),GmCXt.showSelector(".mgPlayerJSqa_mode-video"),GmCXt.showSelector(".mgPlayerJSqa_showMe-play-mode-autoplay-wrapper"),GmCXt.showSelector(".mgPlayerJSqa_showMe-play-mode-autoplay"),GmCXt.containBranchStep(GmCXt.playerI.tour)&&(GmCXt.hideSelector(".mgPlayerJSqa_mode-video"),GmCXt.hideSelector(".mgPlayerJSqa_mode-giphy"),GmCXt.hideSelector(".mgPlayerJSqa_autoplay-option-checkbox"),GmCXt.hideSelector(".mgPlayerJSqa_showMe-play-mode-autoplay-wrapper"),GmCXt.disableSlideshowAutoplay()),GmCXt.setShowMeOptions(),GmCXt.showSelector(".mgPlayerJSqa_resize-slideshow")},GmCXt.hideShowControls=function(){GmCXt.showSlideShowControls();var e=GmCXt.playerI.tour.media_files;e&&void 0!==e[0]?(e[0].video&&$p.settings.video?GmCXt.resetSelector(".mgPlayerJSqa_mode-video"):GmCXt.disableSelector(".mgPlayerJSqa_mode-video"),e[0].gify&&$p.settings.giphy?GmCXt.resetSelector(".mgPlayerJSqa_mode-giphy"):GmCXt.disableSelector(".mgPlayerJSqa_mode-giphy")):(GmCXt.disableSelector(".mgPlayerJSqa_mode-video"),GmCXt.disableSelector(".mgPlayerJSqa_mode-giphy"))},GmCXt.requestHandler.playSlideshow=function(){GmCXt.showSlideShowPlayer(),GmCXt.stopAudio(),$p.autoPlayNextStep=!1,$p.slideshowAutoplay=!1,GmCXt.loadSlideshow(),mg$("#mgPlayerJSqa_player-audio-controls-header").addClass("mgPlayerJSqa_display-none-imp"),GmCXt.playerI.playStructure&&0!==GmCXt.playerI.playStructure.length||(GmCXt.playerI.playStructure=[],t=GmCXt.playerI.tour,t=GmCXt.getGuidePlayStructure(t),GmCXt.playerI.playStructure=GmCXt.playerI.playStructure.concat(t)),GmCXt.hideShowControls();let e=null;switch((e=GmCXt.playerI.currentStepId?GmCXt.playerI.currentStepId:e)&&GmCXt.getStepFromPlayerI(e).step_type!==GmCXt.STEP_TYPE_GUIDE&&GmCXt.addSlidePlayerThumbnail(e),mg$(document).off("click").on("click",".slideshow-thumbnail-img",function(){GmCXt.playerI.currentStepId=mg$(this).attr("stepId"),mg$(".mgPlayerJSqa_active-thumbnail").attr("stepid")!==GmCXt.playerI.currentStepId&&(GmCXt.closeStepInSlideShow(),GmCXt.playSlideshowStep(),mg$(".slideshow-thumbnail-img").removeClass("mgPlayerJSqa_active-thumbnail"),mg$(this).addClass("mgPlayerJSqa_active-thumbnail"))}),!0===$p.slideshowAutoplay?$p.autoPlayNextStep=!0:$p.autoPlayNextStep=!1,GmCXt.initSlideshowControls(),GmCXt.tourPlayStarted=!1,GmCXt.tourPlayCompleted=!1,GmCXt.playerI.isAutolaunch?GmCXt.setAutoTour(GmCXt.playerI.tour.tour_id):GmCXt.setAutoTour(0),GmCXt.isLastStepPlayedOnShowme=!1,GmCXt.isVideoEndedOnShowme=!1,GmCXt.isGiphyPlayedOnShowme=!1,GmCXt.isVideoPlayedOnShowMe=!1,GmCXt.playerI.type){case GmCXt.TOUR_PLAYER_SLIDESHOW:GmCXt.playSlideshowStep();break;case GmCXt.TOUR_PLAYER_VIDEO:GmCXt.playVideoStepInSlideshow();break;case GmCXt.TOUR_PLAYER_GIPHY:GmCXt.playGuideGiphy()}mg$(document).off("keydown").on("keydown",function(e){37===e.which?GmCXt.playStep("previous"):39===e.which?GmCXt.playStep("next"):27===e.which&&Rp()}),GmCXt.activeSlideshowThumbnail(),GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId);var t=GmCXt.findCurrentStepIndex()+1;mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").scrollLeft(112*t)},GmCXt.initSlideshowControls=function(){GmCXt.playerI.totalStepCount=parseInt(GmCXt.playerI.tour.step_count),4<GmCXt.playerI.totalStepCount?(GmCXt.resetSelector(".mgPlayerJSqa_control-thumbnail-prev"),GmCXt.resetSelector(".mgPlayerJSqa_control-thumbnail-next")):(GmCXt.disableSelector(".mgPlayerJSqa_control-thumbnail-prev"),GmCXt.disableSelector(".mgPlayerJSqa_control-thumbnail-next")),GmCXt.showInlineBlock(".mgPlayerJSqa_slideshow-main"),GmCXt.showInlineBlock(".mgPlayerJSqa_slideshow-next-button"),GmCXt.showInlineBlock(".mgPlayerJSqa_slideshow-prev-button"),GmCXt.showSelector(".mgPlayerJSqa_tour-player-panel"),mg$(".mgPlayerJSqa_slideshow-tour-title").removeClass("mgPlayerJSqa_disabled mgPlayerJSqa_text-italic"),0===GmCXt.playerI.tour.tour_id&&GmCXt.isHowToGuide(GmCXt.playerI.tour)&&(GmCXt.playerI.tour.tour_title="Saving How To Guide ...",mg$(".mgPlayerJSqa_slideshow-tour-title").addClass("mgPlayerJSqa_disabled mgPlayerJSqa_text-italic")),mg$(".mgPlayerJSqa_slideshow-tour-title").text(GmCXt.playerI.tour.tour_title),mg$(".mgPlayerJSqa_slideshow-logo").attr("src",GmCXt.brandLogo()),GmCXt.removeStyleSelector("#mgPlayerJSqa_svg-prev-bg"),GmCXt.removeStyleSelector("#mgPlayerJSqa_svg-next-bg"),GmCXt.removeStyleSelector("#mgPlayerJSqa_svg-next-arrow"),GmCXt.removeStyleSelector("#mgPlayerJSqa_svg-prev-arrow")},GmCXt.loadSlideshow=function(){mg$(".mgPlayerJSqa_slideshow-redirect-link").text(GmCXt.label.redirectLivetour),mg$(".mgPlayerJSqa_slideshow-image-spinner img").attr("src",GmCXt.loader()),GmCXt.showInlineBlock(".mgPlayerJSqa_slideshow-main"),GmCXt.showInlineBlock(".mgPlayerJSqa_slideshow-next-button"),GmCXt.showInlineBlock(".mgPlayerJSqa_slideshow-prev-button"),GmCXt.attachDOMEvents(),GmCXt.attachStringConstant(),GmCXt.attachSvgConstant()},GmCXt.attachStringConstant=function(){mg$(".mgPlayerJSqa_popup-content-wrapper").html(GmCXt.label.guideNotAvailable),mg$(".mgPlayerJSqa_redirect-to-link-ok-btn").html(GmCXt.label.ok),mg$(".mgPlayerJSqa_redirect-to-link-cancel-btn").html(GmCXt.label.btnCancel),mg$(".mgPlayerJSqa_label-in-app").html(GmCXt.label.inApp),mg$(".mgPlayerJSqa_label-video").html(GmCXt.label.video),mg$(".mgPlayerJSqa_label-giphy").html(GmCXt.label.giphy),mg$(".mgPlayerJSqa_label-slideshow").html(GmCXt.label.slideshow),mg$(".mgPlayerJSqa_label-live").html(GmCXt.label.live),mg$("#mgPlayerJSqa_btn-autoplay").html(GmCXt.label.autoplay),mg$("#mgPlayerJSqa_btn-autoplay-on").html(GmCXt.label.on),mg$("#mgPlayerJSqa_btn-autoplay-off").html(GmCXt.label.off)},GmCXt.attachSvgConstant=function(){mg$(".mgPlayerJSqa_icon-close-slideshow").html(GmCXt.svgs.close_slideshow),mg$(".mgPlayerJSqa_icon-close-oops-msg").html(GmCXt.svgs.close_slideshow),mg$(".mgPlayerJSqa_icon-slideshow-prev-button").html(GmCXt.svgs.slideshow_prev_button),mg$(".mgPlayerJSqa_icon-slideshow-next-button").html(GmCXt.svgs.slideshow_next_button),mg$(".mgPlayerJSqa_control-icon-prev").html(GmCXt.svgs.slideshow_prev_button),mg$(".mgPlayerJSqa_control-icon-next").html(GmCXt.svgs.slideshow_next_button),mg$(".mgPlayerJSqa_playerbar-icon-slideshow-prev").html(GmCXt.svgs.playerbar_prev_button),mg$(".mgPlayerJSqa_playerbar-icon-slideshow-next").html(GmCXt.svgs.playerbar_next_button),mg$(".mgPlayerJSqa_btn-audio-mute").html(GmCXt.svgs.play_step_audio_off),mg$(".mgPlayerJSqa_btn-audio-unmute").html(GmCXt.svgs.play_step_audio_on),mg$(".mgPlayerJSqa_icon-mode-video").html(GmCXt.svgs.slideshow_video_mode),mg$(".mgPlayerJSqa_icon-mode-giphy").html(GmCXt.svgs.slideshow_giphy_mode),mg$(".mgPlayerJSqa_icon-mode-slideshow").html(GmCXt.svgs.slideshow_mode),mg$(".mgPlayerJSqa_icon-player-close").html(GmCXt.svgs.playerbar_close),mg$("#mgPlayerJSqa_zoom-in").html(GmCXt.svgs.add_icon),mg$("#mgPlayerJSqa_zoom-out").html(GmCXt.svgs.subtract_icon)},GmCXt.attachDOMEvents=function(){mg$(".mgPlayerJSqa_slideshow-close").off("click").on("click",Rp),mg$(".mgPlayerJSqa_player-close").off("click").on("click",Rp),mg$(".mgPlayerJSqa_player-audio-controls").off("click").on("click",GmCXt.SlideshowAudioIconClickEvent),mg$(".mgPlayerJSqa_mode-video").off("click").on("click",GmCXt.playVideoStepInSlideshow),mg$(".mgPlayerJSqa_mode-giphy").off("click").on("click",GmCXt.playGuideGiphy),mg$(".mgPlayerJSqa_mode-slideshow").off("click").on("click",GmCXt.playSlideshowStep),mg$(".mgPlayerJSqa_autoplay-custom-slider").on("click",function(){var e=mg$(".mgPlayerJSqa_autoplay-slider-checkbox");e.prop("checked",!e.prop("checked")).trigger("change")}),mg$("#mgPlayerJSqa_autoplay-slider-checkbox").on("change",function(){mg$(this).prop("checked")?($p.videoPaused?GmCXt.resumeVideoStepInSlideShow():GmCXt.playSlideshowStep(),$p.slideshowAutoplay=!0,$p.autoPlayNextStep=!0):($p.slideshowAutoplay=!1,$p.autoPlayNextStep=!1)}),mg$(".mgPlayerJSqa_slideshow-next-button").off("click").on("click",function(){GmCXt.playStep("next")}),mg$(".mgPlayerJSqa_slideshow-prev-button").off("click").on("click",function(){GmCXt.playStep("previous")}),mg$(".mgPlayerJSqa_control-thumbnail-next").off("click").on("click",function(){GmCXt.playStep("next")}),mg$("#mgPlayerJSqa_slideshow-popup-next-button").off("click").on("click",function(){GmCXt.playStep("next")}),mg$(".mgPlayerJSqa_control-thumbnail-prev").off("click").on("click",function(){GmCXt.playStep("previous")}),mg$("#mgPlayerJSqa_slideshow-popup-prev-button").off("click").on("click",function(){GmCXt.playStep("previous")})},GmCXt.pauseVideoStepInSlideShow=function(){var e;GmCXt.playerI&&GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId).step_type===GmCXt.STEP_TYPE_VIDEO&&($p.videoPaused=!0,e=document.getElementById("mgPlayerJSqa_video-container"))&&e.pause()},GmCXt.resumeVideoStepInSlideShow=function(){GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId).step_type===GmCXt.STEP_TYPE_VIDEO&&document.getElementById("mgPlayerJSqa_video-container").play()},GmCXt.removeVideoShowMe=function(){mg$(".mgPlayerJSqa_iframe-wrapper-div").find("iframe").remove(),mg$(".mgPlayerJSqa_iframe-wrapper-div").find("video").length&&mg$(".mgPlayerJSqa_iframe-wrapper-div").find("video").remove()},GmCXt.closeSlideshowActivities=function(){var e;GmCXt.playerI&&(e=GmCXt.playerI.tour.tour_settings)&&e.play_structure&&e.play_structure.length&&GmCXt.playerI.tour&&GmCXt.playerI.tour.steps&&GmCXt.playerI.tour.steps.length&&GmCXt.playerI.tour.steps[0].step_id===e.play_structure[0].id&&GmCXt.isLastStep(GmCXt.playerI.currentStepId,e.play_structure)&&(GmCXt.playerI.completeEventTracked=!0),$p.autoPlayNextStep=!1,GmCXt.stopAudio(),GmCXt.pauseVideoStepInSlideShow(),GmCXt.pauseAudio(),GmCXt.stopSlideshow(),GmCXt.imgThumLength=5,mg$(".mgPlayerJSqa_ege-panel").css({width:"500px","max-width":"500px",transition:"width 0s",right:"initial"})},GmCXt.stopSlideshow=function(){GmCXt.closeStepInSlideShow(),GmCXt.reduceSidePanelWidth(),mg$(".mgPlayerJSqa_slideshow-panel").css("display","none")},GmCXt.enableSlideShowTab=function(){switch(GmCXt.hideSelector(".mgPlayerJSqa_slideshow-next-button"),GmCXt.hideSelector(".mgPlayerJSqa_slideshow-prev-button"),GmCXt.showSlideShowControls(),GmCXt.playerI.type){case GmCXt.TOUR_PLAYER_SLIDESHOW:GmCXt.enableSlideshow();break;case GmCXt.TOUR_PLAYER_VIDEO:GmCXt.showIframe(),GmCXt.hideSelector(".mgPlayerJSqa_showMe-play-ctrl-audio"),GmCXt.hideSelector(".mgPlayerJSqa_slideshow-step-img-div"),GmCXt.inactivateSelector(".mgPlayerJSqa_mode-slideshow"),GmCXt.inactivateSelector(".mgPlayerJSqa_mode-giphy"),GmCXt.activateSelector(".mgPlayerJSqa_mode-video"),GmCXt.hideSelector(".mgPlayerJSqa_step-thumbnail-container"),GmCXt.showSelector(".mgPlayerJSqa_showMe-play-bar"),GmCXt.hideSelector(".mgPlayerJSqa_showMe-play-mode-autoplay-wrapper"),GmCXt.playModeView("video");break;case GmCXt.TOUR_PLAYER_GIPHY:GmCXt.showIframe(),GmCXt.hideSelector(".mgPlayerJSqa_showMe-play-ctrl-audio"),GmCXt.hideSelector(".mgPlayerJSqa_slideshow-step-img-div"),GmCXt.inactivateSelector(".mgPlayerJSqa_mode-slideshow"),GmCXt.inactivateSelector(".mgPlayerJSqa_mode-video"),GmCXt.activateSelector(".mgPlayerJSqa_mode-giphy"),GmCXt.hideSelector(".mgPlayerJSqa_step-thumbnail-container"),GmCXt.showSelector(".mgPlayerJSqa_showMe-play-bar"),GmCXt.hideSelector(".mgPlayerJSqa_showMe-play-mode-autoplay-wrapper"),GmCXt.playModeView("gif")}},GmCXt.showIframe=function(){GmCXt.removeVideoShowMe(),mg$(".mgPlayerJSqa_iframe-wrapper-div").empty(),GmCXt.showSelector(".mgPlayerJSqa_iframe-wrapper-div")},GmCXt.enableSlideshow=function(){GmCXt.removeVideoShowMe(),GmCXt.activateSelector(".mgPlayerJSqa_mode-slideshow"),GmCXt.inactivateSelector(".mgPlayerJSqa_mode-video"),GmCXt.inactivateSelector(".mgPlayerJSqa_mode-giphy"),GmCXt.showSelector(".mgPlayerJSqa_slideshow-next-button"),GmCXt.showSelector(".mgPlayerJSqa_slideshow-prev-button"),GmCXt.resetSelector(".mgPlayerJSqa_showMe-play-mode-autoplay"),GmCXt.resetSelector(".mgPlayerJSqa_player-audio-controls"),mg$(".mgPlayerJSqa_step-thumbnail-container").css("display","flex"),GmCXt.hideSelector(".mgPlayerJSqa_showMe-play-bar"),GmCXt.playModeView("slideshow");var e=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId);void 0!==e&&(e.step_type===GmCXt.STEP_TYPE_VIDEO?(GmCXt.showSelector(".mgPlayerJSqa_iframe-wrapper-div"),GmCXt.hideSelector(".mgPlayerJSqa_slideshow-step-img-div"),GmCXt.hideSelector(".mgPlayerJSqa_showMe-play-ctrl-audio"),GmCXt.inactivateSelector(".mgPlayerJSqa_mode-video"),GmCXt.activateSelector(".mgPlayerJSqa_mode-slideshow"),GmCXt.inactivateSelector(".mgPlayerJSqa_mode-giphy"),mg$(".mgPlayerJSqa_iframe-wrapper-div").css({height:"98%"})):(GmCXt.hideSelector(".mgPlayerJSqa_iframe-wrapper-div"),GmCXt.showSelector(".mgPlayerJSqa_slideshow-step-img-div"),GmCXt.showSelector(".mgPlayerJSqa_showMe-play-ctrl-audio"),GmCXt.showInlineBlock(".mgPlayerJSqa_player-audio-controls"))),mg$(".mgPlayerJSqa_slideshow-step-img").attr("src","").attr("alt","")},GmCXt.playVideoStepInSlideshow=function(){GmCXt.stopAudio(),GmCXt.playerI.type=GmCXt.TOUR_PLAYER_VIDEO;var e=GmCXt.playerI.tour.media_files[0];if(e){let t="";e=(t=e.video&&"0"!==e.video?e.video:t)+GmCXt.getCdnSign();t=GmCXt.getUrlWithLang(t),GmCXt.enableSlideShowTab(),GmCXt.checkAssetUrl(t,e,function(e){e&&(t=e);e=GmCXt.getVideoPopUpIFrameHTML(t),mg$(".mgPlayerJSqa_iframe-wrapper-div").html(e),GmCXt.playerI.videoPlayed||(GmCXt.playerI.videoPlayed=!0),e=document.getElementById("mgPlayerJSqa_video-container");GmCXt.isVideoPlayedOnShowMe=!0,GmCXt.isVideoEndedOnShowme=!1,e.onended=function(){GmCXt.isVideoEndedOnShowme=!0}})}},GmCXt.getUrlWithLang=function(e){var t=e.split("."),t="."+t[t.length-1];let a=e.replace(t,""),r="";return GmCXt.enableTranslation&&GmCXt.language&&(GmCXt.defaultLang&&(a=a.replace("_"+GmCXt.defaultLang.language,"")),r="_"+GmCXt.language),a+r+t+GmCXt.getCdnSign()},GmCXt.playGuideGiphy=function(){GmCXt.stopAudio(),GmCXt.playerI.type=GmCXt.TOUR_PLAYER_GIPHY,GmCXt.enableSlideShowTab();var e,t;GmCXt.playerI.tour.media_files[0]&&(e=(t=GmCXt.playerI.tour.media_files[0].gify)+GmCXt.getCdnSign(),t=GmCXt.getUrlWithLang(t),GmCXt.checkAssetUrl(t,e,function(e){e&&(t=e),GmCXt.onPrem()||(t+='&d="'+Date.now()+'"');e="<img class='gif-item "+GmCXt.getCustomImgName()+"' src='"+t+"' alt='"+GmCXt.playerI.tour.tour_title+"' />";mg$(".mgPlayerJSqa_iframe-wrapper-div").empty().html(e),GmCXt.playerI.giphyPlayed||(GmCXt.playerI.giphyPlayed=!0),GmCXt.isGiphyPlayedOnShowme=!0}))},GmCXt.activeSlideshowThumbnail=function(){mg$(".slideshow-thumbnail-img").removeClass("mgPlayerJSqa_active-thumbnail"),mg$(".mgPlayerJSqa_slideshow-thumb-"+GmCXt.playerI.currentStepId).addClass("mgPlayerJSqa_active-thumbnail")},GmCXt.playStep=function(r){if(!(GmCXt.isEmpty(GmCXt.playerI)||GmCXt.isEmpty(GmCXt.playerI.tour)||GmCXt.isEmpty(GmCXt.playerI.tour.steps))){let t=null;var i=GmCXt.playerI.tour.steps;let a=0;var e=Hp()+1;if(!0===$p.ready&&GmCXt.playerI){if("previous"===r){var n=GmCXt.getPreviousStepsList(parseInt(GmCXt.playerI.currentStepId));if(n&&1<n.length){for(let e=0;e<n.length;e++)if(mg$("#mgPlayerJSqa_slideshow-thumb-"+n[e])&&mg$("#mgPlayerJSqa_slideshow-thumb-"+n[e]).length){t=n[e];break}}else t=GmCXt.getPreviousStepId(parseInt(GmCXt.playerI.currentStepId),"slideshow")}else t=GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure),GmCXt.markAutoLaunchTourDoNotShow(GmCXt.playerI.tour);if(t){$p.ready=!1,GmCXt.closeStepInSlideShow(),GmCXt.playerI.currentStepId=t;var s=GmCXt.getStepFromPlayerI(t);if(GmCXt.isAutomationStep(s)||void 0===s.step_type)$p.ready=!0,GmCXt.playStep(r);else if(!0!==(l=GmCXt.getCurrentStep(GmCXt.playerI.currentStepId)).step_settings.displayPreview||GmCXt.playerI.linkGuidePlayMode&&"Show Me"===GmCXt.playerI.linkGuidePlayMode&&GmCXt.playerI.linkedGuides&&GmCXt.playerI.linkedGuides.includes(l.tour_id)||"live"!==GmCXt.playerI.mode)if((s=GmCXt.getStepFromPlayerI(t)).step_type===GmCXt.STEP_TYPE_SURVEY||s.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||s.step_type===GmCXt.STEP_TYPE_TRANSPORT)$p.ready=!0,GmCXt.isLastStep(s.step_id,GmCXt.playerI.playStructure)?GmCXt.setPrevNextButtonsShowMe(s):GmCXt.playStep(r);else{if(s.step_type===GmCXt.STEP_TYPE_GUIDE?($p.ready=!0,l={tour_id:s.step_settings.tour_id},GmCXt.enableTranslation&&GmCXt.language&&(GmCXt.checkDefaultLangForTour(GmCXt.playerI.tour,GmCXt.language)||(l.language=GmCXt.language)),mg$("#mgPlayerJSqa_spinner").addClass("show"),GmCXt.disableSelector(".mgPlayerJSqa_slideshow-prev-button"),GmCXt.disableSelector(".mgPlayerJSqa_control-thumbnail-prev"),GmCXt.disableSelector(".mgPlayerJSqa_slideshow-next-button"),GmCXt.disableSelector(".mgPlayerJSqa_control-thumbnail-next"),GmCXt.getSteps(l).then(function(e){!!e?(Fp.splice(Fp.indexOf(s.step_id),1),GmCXt.playSlideshowStep()):(GmCXt.removeSlideThum(s.step_id),Fp.push(s.step_id),GmCXt.isLastStep(s.step_id,GmCXt.playerI.playStructure)?GmCXt.setPrevNextButtonsShowMe(s):GmCXt.playStep(r),mg$("#mgPlayerJSqa_spinner").removeClass("show"))})):GmCXt.playSlideshowStep(),GmCXt.containBranchStep(GmCXt.playerI.tour)){var l=GmCXt.findCurrentStepIndex();"next"===r&&GmCXt.imgThumLength!==parseInt(GmCXt.playerI.tour.step_count)&&i[l]&&c(i[l])&&(e===GmCXt.imgThumLength||0===e&&GmCXt.getPreviousStepId(parseInt(i[l].step_id))===GmCXt.playerI.mergingFromId)&&(GmCXt.createSlideThum(i[l]),GmCXt.imgThumLength+=1)}else if(e>=GmCXt.imgThumLength-4&&"next"===r){for(let e=GmCXt.imgThumLength;e<GmCXt.imgThumLength+4&&e<i.length;e++){var o=i[e];if(c(o)&&(GmCXt.createSlideThum(o),a++),4<=a)break}GmCXt.imgThumLength+=a}GmCXt.activeSlideshowThumbnail(),"previous"===r&&s.step_type!==GmCXt.STEP_TYPE_BRANCH&&e<=GmCXt.imgThumLength-2?mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").scrollLeft(mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").scrollLeft()-mg$(".mgPlayerJSqa_thumbnail-preview").outerWidth(!0)):"next"===r&&3<=e&&mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").scrollLeft(mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").scrollLeft()+mg$(".mgPlayerJSqa_thumbnail-preview").outerWidth(!0))}else GmCXt.closeSlideshowActivities(),GmCXt.playerI.type="live",GmCXt.requestHandler.playGuide(GmCXt.playerI)}else Rp()}function c(e){return e&&e.step_type!==GmCXt.STEP_TYPE_SURVEY&&e.step_type!==GmCXt.STEP_TYPE_TRANSPORT&&e.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER}}},GmCXt.playSlideshowStep=function(){ge.processSlideImageTimeout&&clearTimeout(ge.processSlideImageTimeout),GmCXt.playerI.type=GmCXt.TOUR_PLAYER_SLIDESHOW,GmCXt.enableSlideShowTab(),mg$("#mgPlayerJSqa_tooltipPopup").hide();var e=GmCXt.playerI.tour.steps;function a(t,a){GmCXt.isEmpty(t)&&(GmCXt.removeSlideThum(a),Fp.push(r.step_id));a=t;if(a.length){GmCXt.branchStepExistInPS()&&(t="#mgPlayerJSqa_slideshow-thumb-"+GmCXt.playerI.currentStepId,mg$(t).nextAll(".slideshow-thumbnail-img").remove(),GmCXt.removeSlideThum(GmCXt.playerI.currentStepId)),GmCXt.concatLinkGuideSteps(a),GmCXt.playerI.currentStepId=GmCXt.playerI.linkGuideFS,GmCXt.playerI.tour.step_count;let e=GmCXt.playerI.tour.steps;GmCXt.containBranchStep(GmCXt.playerI.tour)&&(GmCXt.playerI.tour.tour_settings.play_structure=GmCXt.playerI.playStructure),e=GmCXt.branchStepExist(GmCXt.playerI.tour)?GmCXt.getStepSortedByPS(GmCXt.playerI.playStructure,GmCXt.playerI.currentStepId):GmCXt.playerI.tour.steps,GmCXt.addSlidePlayerThumbnail(void 0,e),GmCXt.activeSlideshowThumbnail(),GmCXt.playSlideStep()}else GmCXt.removeSlideThum(GmCXt.playerI.currentStepId),$p.ready=!0,GmCXt.playStep("next");mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").scrollLeft(mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").scrollLeft()+mg$(".mgPlayerJSqa_thumbnail-preview").outerWidth(!0))}var r=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId);parseInt(r.step_order)===e.length&&(GmCXt.isLastStepPlayedOnShowme=!0),"guide"===r.step_type?(e={tour_id:r.step_settings.tour_id},GmCXt.enableTranslation&&GmCXt.language&&(GmCXt.checkDefaultLangForTour(GmCXt.playerI.tour,GmCXt.language)||(e.language=GmCXt.language)),GmCXt.apiPlayer&&(e.forceJSONApi=!0),GmCXt.getSteps(e).then(function(t){t?GmCXt.checkGuidesBasedOnSegment([t],function(e){GmCXt.isEmpty(e)?t.steps=[]:(t.steps=GmCXt.filterOutAutomationSteps(t.steps),GmCXt.updatePlayStructureLinkGuide(t)),a(t.steps,r.step_id)}):a([],r.step_id)})):GmCXt.playSlideStep()},GmCXt.playSlideVideo=function(e){let t=e.step_video_url+GmCXt.getCdnSign();GmCXt.checkAssetUrl(t,t,function(e){e&&(t=e);e=GmCXt.getVideoPopUpIFrameHTML(t);mg$(".mgPlayerJSqa_iframe-wrapper-div").html(e),mg$(".mgPlayerJSqa_focus-controls-wrapper").addClass("mgPlayerJSqa_display-none")})},GmCXt.playSlideBranch=function(e){mg$(".mgPlayerJSqa_slideshow-thumb-"+e.step_id).nextAll(".slideshow-thumbnail-img").remove(),mg$("#mgPlayerJSqa_spinner").removeClass("show"),GmCXt.hideSelector(".mgPlayerJSqa_slideshow-next-button"),GmCXt.showSelector(".mgPlayerJSqa_slideshow-branch-content"),mg$(".mgPlayerJSqa_focus-controls-wrapper").addClass("mgPlayerJSqa_display-none");let t="";var a=e.step_settings.branch,r=function(t,a){for(let e=0;e<t.length;e++)if(t[e].id===a)return t[e]}(GmCXt.playerI.playStructure,e.step_id);mg$(".mgPlayerJSqa_slideshow-branch-heading-label").html(e.step_title);for(let e=0;e<a.length;e++){var i=a[e].branchName,n=r.branch[e].tail;t=t+"<wmgPlayerJSqa_ class='mgPlayerJSqa_slideshow-branch-btn mgPlayerJSqa_btn-default' tail="+n+"><wmgPlayerJSqa_ class='mgPlayerJSqa_slideshow-branch-icon'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_slideshow-branch-label mgPlayerJSqa_line-clamp mgPlayerJSqa_line-clamp-1'>"+i+"</wmgPlayerJSqa_></wmgPlayerJSqa_>"}mg$(".mgPlayerJSqa_slideshow-button-container").append(t),a.length<=1?mg$(".mgPlayerJSqa_slideshow-button-container").addClass("mgPlayerJSqa_text-align-center"):mg$(".mgPlayerJSqa_slideshow-button-container").removeClass("mgPlayerJSqa_text-align-center"),GmCXt.disableSelector(".mgPlayerJSqa_control-thumbnail-next"),mg$(".mgPlayerJSqa_slideshow-branch-icon").html(GmCXt.svgs.branch_slideshow),GmCXt.addBranchButtonsListener(),me.slideState.set({step:e,isImageUpdated:!1})},GmCXt.playSlideImage=function(e){mg$("#mgPlayerJSqa_spinner").addClass("show"),mg$(".mgPlayerJSqa_slideshow-step-img").off("load").on("load",function(){mg$("#mgPlayerJSqa_spinner").removeClass("show")});let t=void 0,a=(e.step_type===GmCXt.STEP_TYPE_INLINE&&(t=GmCXt.STEP_TYPE_INLINE),GmCXt.getImgURLShowMe(e,!1,t));0===GmCXt.playerI.tour.tour_id&&GmCXt.isHowToGuide(GmCXt.playerI.tour)&&(a=e.preview_image),mg$(".mgPlayerJSqa_slideshow-step-img").addClass(GmCXt.getCustomImgName()),mg$(".mgPlayerJSqa_slideshow-step-img").attr("alt",GmCXt.concatHTMLStringWithSpace(e.step_title)),me.slideState.set({step:e,isImageUpdated:!0,slideImgURL:a})},GmCXt.setPrevNextButtonsShowMe=function(e){GmCXt.resetSelector(".mgPlayerJSqa_slideshow-prev-button"),GmCXt.resetSelector(".mgPlayerJSqa_slideshow-next-button"),GmCXt.resetSelector(".mgPlayerJSqa_control-thumbnail-prev"),GmCXt.resetSelector(".mgPlayerJSqa_control-thumbnail-next"),e.step_type===GmCXt.STEP_TYPE_BRANCH&&GmCXt.disableSelector(".mgPlayerJSqa_control-thumbnail-next");var t=GmCXt.getPreviousStepId(parseInt(GmCXt.playerI.currentStepId)),t=GmCXt.getStepFromPlayerI(t),t=((GmCXt.isFirstNonAutomationStep()||t&&(t.step_type===GmCXt.STEP_TYPE_SURVEY||t.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||t.step_type===GmCXt.STEP_TYPE_TRANSPORT)&&GmCXt.isFirstNonAutomationStep(t.step_id))&&(GmCXt.disableSelector(".mgPlayerJSqa_slideshow-prev-button"),GmCXt.disableSelector(".mgPlayerJSqa_control-thumbnail-prev")),GmCXt.getTail(e.step_id,GmCXt.playerI.playStructure)),t=GmCXt.getStepFromPlayerI(t);(GmCXt.isLastStep(e.step_id,GmCXt.playerI.playStructure)||t&&(t.step_type===GmCXt.STEP_TYPE_SURVEY||t.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||t.step_type===GmCXt.STEP_TYPE_TRANSPORT)&&GmCXt.isLastStep(t.step_id,GmCXt.playerI.playStructure))&&(GmCXt.disableSelector(".mgPlayerJSqa_slideshow-next-button"),GmCXt.disableSelector(".mgPlayerJSqa_control-thumbnail-next"),GmCXt.isFirstNonAutomationStep())&&(GmCXt.disableSelector(".mgPlayerJSqa_slideshow-prev-button"),GmCXt.disableSelector(".mgPlayerJSqa_control-thumbnail-prev"))},GmCXt.playStepFromStepIdInShowMe=function(e){clearTimeout(Op),Op=GmCXt.timeout(function(){!0===$p.autoPlayNextStep&&GmCXt.playerI.currentStepId!==e&&GmCXt.playStep("next")},5e3)},GmCXt.playAudioAndGoNext=function(r,i){GmCXt.storage().get(["stepAudioRunningStatus"]).then(function(e){GmCXt.audioObject&&GmCXt.audioObject.pause(),GmCXt.playerI||(GmCXt.playerI=i);let t=GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure),a="";GmCXt.isDefined(r.step_audio)&&GmCXt.getAudioPreference(e.stepAudioRunningStatus)?(e={audioTrack:r.step_audio,step:r},a=e.audioTrack,!GmCXt.isMyguideLibrary&&a&&-1===a.indexOf(GmCXt.user.cdn_signature.split("=")[0])&&(a+=GmCXt.getCdnSign()),GmCXt.checkAssetUrl(a,a,function(e){fetch(e).then(e=>{if(e.ok)return e.blob();throw new Error("HTTP error! Status: "+e.status)}).then(e=>{e=URL.createObjectURL(e);GmCXt.audioObject=new Audio(e),GmCXt.audioObject.onended=function(){GmCXt.playerI&&!GmCXt.isLastStep(r.step_id,GmCXt.playerI.playStructure)&&GmCXt.playStepFromStepIdInShowMe(t)},GmCXt.playAudioObjectShowMe(),GmCXt.stepAudioRunningStatus=!0,GmCXt.showSelector(".mgPlayerJSqa_btn-audio-unmute"),GmCXt.hideSelector(".mgPlayerJSqa_btn-audio-mute"),mg$(".mgPlayerJSqa_player-audio-controls").addClass("playing-audio")})})):(GmCXt.playStepFromStepIdInShowMe(t),GmCXt.stepAudioRunningStatus=!1,GmCXt.hideSelector(".mgPlayerJSqa_btn-audio-unmute"),GmCXt.showSelector(".mgPlayerJSqa_btn-audio-mute"),mg$(".mgPlayerJSqa_player-audio-controls").removeClass("playing-audio"))})},GmCXt.playSlideStep=function(){GmCXt.hideSelector(".mgPlayerJSqa_slideshow-branch-content"),mg$(".mgPlayerJSqa_slideshow-button-container").empty(),GmCXt.enableSlideShowTab(),mg$(".mgPlayerJSqa_focus-controls-wrapper").hasClass("mgPlayerJSqa_display-none")&&mg$(".mgPlayerJSqa_focus-controls-wrapper").removeClass("mgPlayerJSqa_display-none");var e=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId),t=((e.is_first_step||e.is_last_step)&&(GmCXt.hideSelector(".mgPlayerJSqa_showMe-play-ctrl-audio"),mg$(".mgPlayerJSqa_focus-controls-wrapper").addClass("mgPlayerJSqa_display-none")),GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure));if(void 0!==e){var a=e.step_type;if(a===GmCXt.STEP_TYPE_VIDEO)GmCXt.playSlideVideo(e);else if(a===GmCXt.STEP_TYPE_BRANCH||GmCXt.isTrue(e.step_settings.inlineBranch))GmCXt.playSlideBranch(e);else{if(a===GmCXt.STEP_TYPE_SURVEY||a===GmCXt.STEP_TYPE_ERROR_HANDLER||a===GmCXt.STEP_TYPE_TRANSPORT)return void(t&&(GmCXt.playerI.currentStepId=t,GmCXt.playSlideStep()));GmCXt.playSlideImage(e)}mg$(".mgPlayerJSqa_slideshow-step-title").text(e.step_title),"howto_tour"!==GmCXt.playerI.tour.tour_type&&e.step_type!==GmCXt.STEP_TYPE_VIDEO&&e.step_type!==GmCXt.STEP_TYPE_TRANSPORT&&GmCXt.step_type!==GmCXt.STEP_TYPE_SURVEY&&(e.step_description=GmCXt.updateOrgAndAddSignature(GmCXt.restoreAssetSrc(e.step_description))),mg$(".mgPlayerJSqa_slideshow-step-desc").html(e.step_description),GmCXt.activeSlideshowThumbnail(),a!==GmCXt.STEP_TYPE_VIDEO&&GmCXt.playAudioAndGoNext(e,GmCXt.playerI),GmCXt.trackStepEvent(e,""),GmCXt.setPrevNextButtonsShowMe(e),GmCXt.playerI.lastStepStatus="success",$p.ready=!0}},GmCXt.getImgURLShowMe=function(e,t,a){if(a===GmCXt.STEP_TYPE_BRANCH)return GmCXt.conf.staticContentPath+"default_branch.png";let r="",i;switch(a){case GmCXt.STEP_TYPE_VIDEO:i=e.image_url;break;case GmCXt.STEP_TYPE_INLINE:i=e.thumbnail_url;break;case GmCXt.STEP_TYPE_MESSAGE:i=e.thumbnail_url.includes("default_icon")?e.thumbnail_url:e.screen_url;default:e.screen_url?i=e.screen_url:e.step_screen_temp&&(r=e.step_screen_temp)}if(!r){var a=i.substring(i.lastIndexOf("/")+1),n=a.split(".");let e="";1<n.length&&(e=n[1].split("?")),r=t&&-1===a.indexOf("default_icon")?(t=n[0]+"."+e[0],i.replace(a,t)):(t=n[0]+"."+e[0],i.replace(a,t)),r+=GmCXt.getCdnSign()}return r},GmCXt.SlideshowAudioIconClickEvent=function(){GmCXt.stopAudio();var t=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId);if(!t.is_first_step&&!t.is_last_step){let e="";e=GmCXt.isMyguideLibrary?t.step_audio:GmCXt.updateOrgAndAddSignature(GmCXt.restoreAssetSrc(t.step_audio)),fetch(e).then(e=>{if(e.ok)return e.blob();throw new Error("HTTP error! Status: "+e.status)}).then(e=>{e=URL.createObjectURL(e);GmCXt.audioObject=new Audio(e),mg$(".mgPlayerJSqa_player-audio-controls").hasClass("playing-audio")?(GmCXt.audioObject.pause(),mg$(".mgPlayerJSqa_player-audio-controls").removeClass("playing-audio"),GmCXt.storage().set({stepAudioRunningStatus:!1}),GmCXt.stepAudioRunningStatus=!1,GmCXt.hideSelector(".mgPlayerJSqa_btn-audio-unmute"),GmCXt.showSelector(".mgPlayerJSqa_btn-audio-mute")):(GmCXt.playAudioObjectShowMe(),mg$(".mgPlayerJSqa_player-audio-controls").addClass("playing-audio"),GmCXt.storage().set({stepAudioRunningStatus:!0}),GmCXt.stepAudioRunningStatus=!0,GmCXt.showSelector(".mgPlayerJSqa_btn-audio-unmute"),GmCXt.hideSelector(".mgPlayerJSqa_btn-audio-mute"))})}},GmCXt.closeStepInSlideShow=function(){GmCXt.stopAudio(),GmCXt.removeVideoShowMe()},GmCXt.setShowMeOptions=function(){$p.settings.showMeSetting&&!GmCXt.containBranchStep(GmCXt.playerI.tour)?(mg$(".mgPlayerJSqa_mode-video").css("display","inline-flex"),$p.settings.giphy||GmCXt.hideSelector(".mgPlayerJSqa_mode-giphy"),$p.settings.video||GmCXt.hideSelector(".mgPlayerJSqa_mode-video")):(GmCXt.hideSelector(".mgPlayerJSqa_mode-giphy"),GmCXt.hideSelector(".mgPlayerJSqa_mode-video"))},GmCXt.playAudioObjectShowMe=function(){var e=GmCXt.audioObject.play();void 0!==e&&e.then(function(){}).catch(function(){})},GmCXt.addBranchButtonsListener=function(){mg$(".mgPlayerJSqa_slideshow-branch-btn").on("click",function(e){var t,a=e.currentTarget.getAttribute("tail");GmCXt.convertType(a)&&(GmCXt.playerI.currentStepId=a,GmCXt.playerI.tour.steps,t=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId),GmCXt.isLastStep(t.step_id,GmCXt.playerI.playStructure)&&t.step_type===GmCXt.STEP_TYPE_SURVEY?e.preventDefault():(mg$(".mgPlayerJSqa_slideshow-button-container").empty(),GmCXt.hideSelector(".mgPlayerJSqa_slideshow-branch-content"),mg$(".mgPlayerJSqa_slideshow-branch-btn").off("click"),$p.ready=!1,GmCXt.closeStepInSlideShow(),t.step_type!==GmCXt.STEP_TYPE_GUIDE&&(GmCXt.findCurrentStepIndex(),GmCXt.addSlidePlayerThumbnail(a),mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").scrollLeft(mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").scrollLeft()+mg$(".mgPlayerJSqa_thumbnail-preview").outerWidth(!0))),"live"===GmCXt.playerI.mode?GmCXt.requestHandler.playGuide(GmCXt.playerI):GmCXt.playSlideshowStep()))})},GmCXt.createSlideThum=function(t){var a="#mgPlayerJSqa_slideshow-thumb-"+t.step_id;if(!(t.step_type===GmCXt.STEP_TYPE_SURVEY||0!==mg$(a).length||t.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||t.step_type===GmCXt.STEP_TYPE_TRANSPORT||mg$("#mgPlayerJSqa_slideshow-thumb-"+t.step_id)&&mg$("#mgPlayerJSqa_slideshow-thumb-"+t.step_id).length)){let e=GmCXt.getImgURLShowMe(t,t.is_screen_url_processed,t.step_type);0===GmCXt.playerI.tour.tour_id&&GmCXt.isHowToGuide(GmCXt.playerI.tour)&&(e=t.preview_image);a="<button id='mgPlayerJSqa_slideshow-thumb-"+t.step_id+"' class='mgPlayerJSqa_thumbnail-preview mgPlayerJSqa_inline-block-vm mgPlayerJSqa_cursor-pointer slideshow-thumbnail-img mgPlayerJSqa_position-relative mgPlayerJSqa_slideshow-thumb-"+t.step_id+" mgPlayerJSqa_lbl-btn' stepId='"+t.step_id+"'><img class='"+GmCXt.getCustomImgName()+" slideshow-thumbnail img-thumbnail-"+t.step_id+"' src="+e+" err-src='"+GmCXt.conf.staticContentPath+"technology.jpg'></button>";mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").append(a)}},GmCXt.removeSlideThum=function(e){e="#mgPlayerJSqa_slideshow-thumb-"+e,mg$(e).remove()},GmCXt.createThumbnail=function(e,t,a){void 0===e&&mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").empty();e="<wmgPlayerJSqa_ class='mgPlayerJSqa_step-count-wrapper'><wmgPlayerJSqa_ class='mgPlayerJSqa_step-count'>Step "+(GmCXt.findCurrentStepIndex()+1)+" of "+parseInt(GmCXt.playerI.tour.step_count)+"</wmgPlayerJSqa_></wmgPlayerJSqa_>";mg$(".mgPlayerJSqa_thumbnail-preview-wrapper").append(e);for(let e=0;e<t;e++)a[e]&&-1===Fp.indexOf(a[e].step_id)&&GmCXt.createSlideThum(a[e]),a[e]&&(a[e].step_type===GmCXt.STEP_TYPE_SURVEY||a[e].step_type===GmCXt.STEP_TYPE_TRANSPORT||a[e].step_type===GmCXt.STEP_TYPE_ERROR_HANDLER)&&t<a.length&&(t+=1)},GmCXt.findCurrentStepIndex=function(){let a=-1;return GmCXt.playerI.tour.steps.forEach(function(e,t){e.step_id===GmCXt.playerI.currentStepId&&(a=t)}),a},GmCXt.removeDuplicateGuides=function(e){let t=[];return e=e.filter(function(e){if(-1===t.indexOf(e.tour_id))return t.push(e.tour_id),e})},GmCXt.removeDuplicateCategories=function(e){let t=[];return e=e.filter(function(e){if(-1===t.indexOf(e.category_id))return t.push(e.category_id),e})},GmCXt.migrateTour=function(e){if(e){var t=e.tour_settings;if(t.smartTip){t.tour_url=t.smartTip.url;let e="matchUrl";t.smartTip.matchDomain&&(e="matchDomain"),t.smartTipTriggerEvent=e,delete t.smartTip}e.tour_settings=t}return e},GmCXt.checkAndCorrectPS=function(e){var t,a;return!GmCXt.containBranchStep(e)&&(t=GmCXt.parseJSON(e.tour_settings),!(a=t.play_structure)||Array.isArray(a)&&(!a.length||a.length<e.steps.length)||(a=a).length&&1<a.filter(function(e){return null===e.tail}).length)&&(t.play_structure=GmCXt.buildGuidePlayStructure(e),e.tour_settings=t),e},GmCXt.makeSlideshowFullScreen=function(e){(GmCXt.playerI&&GmCXt.inArrayString(GmCXt.playerI.type,["slideshow","video","giphy"])||e.isPowerform)&&("full"===e.size?(mg$(".mgPlayerJSqa_slideshow-panel").css({width:"100%",height:"100%",top:"0px",transform:"translate(0,0)"}),mg$(".mgPlayerJSqa_slideshow-panel").addClass("mgPlayerJSqa_slideshow-panel-left")):(mg$(".mgPlayerJSqa_slideshow-panel").css({width:"85%",height:"90%",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}),mg$(".mgPlayerJSqa_slideshow-panel").removeClass("mgPlayerJSqa_slideshow-panel-left")),mg$(".mgPlayerJSqa_slideshow-step-img").css({top:"50%",transform:"translate(-50%,-50%)"}))},GmCXt.getPopUpHTML=function(e,t,a,r,i){function n(e){return e?String(e).replace(/<[^>]+>/gm,""):""}let s="<wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-container'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_video-panel' ><wmgPlayerJSqa_ class='mgPlayerJSqa_video-panel-header'><wmgPlayerJSqa_ class='mgPlayerJSqa_video-panel-header-labels'><wmgPlayerJSqa_ class='mgPlayerJSqa_video-panel-header-title'>"+n(a)+"<wmgPlayerJSqa_ class='mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-right mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y'><wmgPlayerJSqa_ class='mgPlayerJSqa_tooltip-title'>"+n(a)+"</wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_video-panel-header-desc'>"+n(r)+"<wmgPlayerJSqa_ class='mgPlayerJSqa_title-tooltip-wrapper mgPlayerJSqa_position-right mgPlayerJSqa_overflow mgPlayerJSqa_overflow-y'><wmgPlayerJSqa_ class='mgPlayerJSqa_tooltip-title'>"+n(r)+"</wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_video-panel-controls'>";return i||(s+="<wmgPlayerJSqa_ class='mgPlayerJSqa_video-panel-header-maximize'><button class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_audio-button-image mgPlayerJSqa_icons-hover-effect mgPlayerJSqa_inline-block-vm' aria-label='maximize image' ><wmgPlayerJSqa_ class='mgPlayerJSqa_span'></wmgPlayerJSqa_></button></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_video-panel-header-maximize'><button class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_max-button-image mgPlayerJSqa_icons-hover-effect mgPlayerJSqa_inline-block-vm' aria-label='maximize image' ><wmgPlayerJSqa_ class='mgPlayerJSqa_span'></wmgPlayerJSqa_></button></wmgPlayerJSqa_>"),s+="<wmgPlayerJSqa_ class='mgPlayerJSqa_video-panel-header-close'><button class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_close-button-video mgPlayerJSqa_icons-hover-effect mgPlayerJSqa_inline-block-vm' aria-label='close video player' ><wmgPlayerJSqa_ class='mgPlayerJSqa_span'></wmgPlayerJSqa_></button></wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_>",i?s=(s+="<wmgPlayerJSqa_ class='mgPlayerJSqa_video-panel-iframe-wrapper'>")+GmCXt.getVideoPopUpIFrameHTML(e,t)+"</wmgPlayerJSqa_>":s+=GmCXt.getImagePopUpIFrameHTML(e,t),s+=GmCXt.getPopUpFooterHTML()+" </wmgPlayerJSqa_>"},GmCXt.addVideoPanelEvents=function(e,t,a){var r=GmCXt.getStepSettings().popupDesign;let i=!1;r&&("default"===r.type?(mg$("#mgPlayerJSqa_play_step_prev").removeClass("mgPlayerJSqa_popup-classic-design-navigation-prev"),mg$("#mgPlayerJSqa_play_step_prev").addClass("mgPlayerJSqa_play-step-prev"),mg$("#mgPlayerJSqa_play_step_next").removeClass("mgPlayerJSqa_popup-classic-navigation-next"),mg$("#mgPlayerJSqa_play_step_next").addClass("mgPlayerJSqa_play-step-next")):"classic"===r.type&&(mg$("#mgPlayerJSqa_play_step_prev").removeClass("mgPlayerJSqa_play-step-prev"),mg$("#mgPlayerJSqa_play_step_prev").addClass("mgPlayerJSqa_popup-classic-design-navigation-prev"),mg$("#mgPlayerJSqa_play_step_next").removeClass("mgPlayerJSqa_play-step-next"),mg$("#mgPlayerJSqa_play_step_next").addClass("mgPlayerJSqa_popup-classic-navigation-next"))),GmCXt.setElementStyle("#mgPlayerJSqa_play_step_prev",{"background-color":r.current.prevBtnBackground,color:r.current.prevBtnColor,"border-color":r.current.prevBtnColor},!0),GmCXt.setElementStyle("#mgPlayerJSqa_play_step_prev svg path",{fill:r.current.prevBtnColor},!0),GmCXt.setElementStyle("#mgPlayerJSqa_play_step_next",{"background-color":r.current.nextBtnBackground,color:r.current.nextBtnColor,"border-color":r.current.nextBtnColor},!0),GmCXt.setElementStyle("#mgPlayerJSqa_play_step_next svg path",{fill:r.current.nextBtnColor},!0),mg$(".mgPlayerJSqa_close-button-video").off("click").on("click",GmCXt.confirmTourClose),GmCXt.setElementStyle("#mgPlayerJSqa_play_step_prev",{display:"none"},!0),t?e.step_settings.showFullScreen&&(mg$(".mgPlayerJSqa_video-panel").css({height:"100%",width:"100%","justify-content":"center"}),mg$(".mgPlayerJSqa_video-panel-iframe-wrapper").css({height:"100%",width:"100%","margin-left":"0"})):(a={audioTrack:e.step_audio,step:e,playerInstance:GmCXt.playerI},GmCXt.playerI.playAudio&&GmCXt.FT.audio&&GmCXt.playStepAudio(a),mg$(".mgPlayerJSqa_max-button-image").off("click").on("click",function(){i?(mg$(".mgPlayerJSqa_video-panel").css({height:"650px",width:"850px"}),mg$(".mgPlayerJSqa_play-video-iframe").css({height:"100%",width:"99%"}),mg$(".mgPlayerJSqa_video-panel-iframe-wrapper").css({height:"70%",width:"92%","margin-left":"4%"}),mg$(".mgPlayerJSqa_play-video-iframe").removeClass("mgPlayerJSqa_position-center"),mg$(".mgPlayerJSqa_max-button-image .mgPlayerJSqa_span").html(GmCXt.svgs.fullscreen)):(mg$(".mgPlayerJSqa_video-panel").css({height:"100%",width:"100%"}),mg$(".mgPlayerJSqa_play-video-iframe").css({height:"auto",width:"auto"}),mg$(".mgPlayerJSqa_video-panel-iframe-wrapper").css({height:"100%",width:"100%","margin-left":"0"}),mg$(".mgPlayerJSqa_play-video-iframe").addClass("mgPlayerJSqa_position-center"),mg$(".mgPlayerJSqa_max-button-image .mgPlayerJSqa_span").html(GmCXt.svgs.smallscreen)),i=!i}),mg$(".mgPlayerJSqa_audio-button-image").off("click").on("click",function(){GmCXt.playerI.playAudio?(mg$(".mgPlayerJSqa_audio-button-image .mgPlayerJSqa_span").html(GmCXt.svgs.play_step_audio_off),GmCXt.stopAudio()):GmCXt.FT.audio&&(mg$(".mgPlayerJSqa_audio-button-image .mgPlayerJSqa_span").html(GmCXt.svgs.play_step_audio_on),GmCXt.playStepAudio(a)),GmCXt.playerI.playAudio=!GmCXt.playerI.playAudio})),null!==GmCXt.getPreviousStepId(parseInt(GmCXt.playerI.currentStepId))&&a.prev_btn&&(GmCXt.setElementStyle("#mgPlayerJSqa_play_step_prev",{display:"flex"},!0),mg$("#mgPlayerJSqa_play_step_prev").off("click").on("click",function(){GmCXt.requestHandler.playTourPrevStep(),GmCXt.increaseSidePanelWidth()})),GmCXt.isLastStep(e.step_id,GmCXt.playerI.playStructure)?(mg$("#mgPlayerJSqa_play_step_next").html(GmCXt.label.close),mg$("#mgPlayerJSqa_play_step_next").off("click").on("click",GmCXt.confirmTourClose)):mg$("#mgPlayerJSqa_play_step_next").off("click").on("click",function(){GmCXt.requestHandler.playTourNextStep(),GmCXt.increaseSidePanelWidth()})},GmCXt.getVideoPopUpIFrameHTML=function(e){return"<iframe allowfullscreen='true' id='mgPlayerJSqa_play-step-video-iframe' class='mgPlayerJSqa_width-height-100' title='Guideme step video iframe' src='"+GmCXt.getBasePath("common/video/video.html?videoUrl="+GmCXt.encodeStringToBase64(e))+"' ></iframe>"},GmCXt.getImagePopUpIFrameHTML=function(e){var t="<wmgPlayerJSqa_ class='mgPlayerJSqa_video-panel-iframe-wrapper'>";return t+("<img id='mgPlayerJSqa_step-image-container' width='100%'  class='mgPlayerJSqa_play-video-iframe'  src='"+e+"'></img> ")+"</wmgPlayerJSqa_>"},GmCXt.getPopUpFooterHTML=function(){var e,t,a=GmCXt.getStepSettings().popupDesign,r="classic"===a.type?GmCXt.label.btnPrevious:GmCXt.label.btnPrev,i="classic"===a.type?GmCXt.svgs.iconClassicNavPrev:"",a="classic"===a.type?GmCXt.svgs.iconClassicNavNext:"",n=GmCXt.getAppSetting();GmCXt.organization&&n&&(e=GmCXt.getAppSetting("userLabels").next,t=GmCXt.getAppSetting("userLabels").btnPrev);let s="<wmgPlayerJSqa_ class='mgPlayerJSqa_video-step-popup-footer mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-flex-end'><wmgPlayerJSqa_ class='mgPlayerJSqa_play-video-step-navigation mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-flex-end'>";return GmCXt.playerI&&GmCXt.playerI.tour&&!GmCXt.playerI.tour.tour_settings.step_settings.hidePrevBtn&&(s+="<wmgPlayerJSqa_ class='mgPlayerJSqa_play-step-prev mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center' id='mgPlayerJSqa_play_step_prev' tabindex='0' aria-label='"+(t||r)+"' ><wmgPlayerJSqa_ class='mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center'>"+i+"</wmgPlayerJSqa_>"+(t||r)+"</wmgPlayerJSqa_>"),s+="<wmgPlayerJSqa_ class='mgPlayerJSqa_play-step-next mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center' id='mgPlayerJSqa_play_step_next' tabindex='0' aria-label='"+(e||GmCXt.label.next)+"' >"+(e||GmCXt.label.next)+"<wmgPlayerJSqa_ class='mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center'>"+a+"</wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_>"},GmCXt.playStepInMyShowShell=function(a,r){if(mg$(window).focus(),!GmCXt.isEmpty(GmCXt.playerI)){let t=GmCXt.getCurrentStep(GmCXt.playerI.currentStepId);var i;i=a?GmCXt.restoreAssetSrc(t.step_video_url):GmCXt.restoreAssetSrc(t.screen_url),GmCXt.checkAssetUrl(i,i,function(e){GmCXt.isEmpty(GmCXt.playerI)||(e&&(i=e),e=GmCXt.getPopUpHTML(i,!0,t.step_title,t.step_description,a),mg$("html").append(e),mg$(".mgPlayerJSqa_close-button-video .mgPlayerJSqa_span").html(GmCXt.svgs.popup_close),mg$(".mgPlayerJSqa_max-button-image .mgPlayerJSqa_span").html(GmCXt.svgs.fullscreen),GmCXt.playerI.playAudio?mg$(".mgPlayerJSqa_audio-button-image .mgPlayerJSqa_span").html(GmCXt.svgs.play_step_audio_on):mg$(".mgPlayerJSqa_audio-button-image .mgPlayerJSqa_span").html(GmCXt.svgs.play_step_audio_off),GmCXt.addVideoPanelEvents(t,a,r),GmCXt.showNotificationHtml(!1,!0),GmCXt.timeout(function(){mg$(".mgPlayerJSqa_close-button-video").focus(),GmCXt.accessibility&&(mg$(".mgPlayerJSqa_play-video-step-navigation").addClass("mgPlayerJSqa_accessibility-theme"),mg$("#mgPlayerJSqa_play_step_prev").addClass("mgPlayerJSqa_ass-default-btn"),mg$("#mgPlayerJSqa_play_step_next").addClass("mgPlayerJSqa_ass-default-btn"))},500))})}},GmCXt.getPDFMediaPlayerIcons=function(){mg$(".mgPlayerJSqa_icon-popout-media-player").html(GmCXt.svgs.external_link_white),mg$(".mgPlayerJSqa_icon-close-media-player").html(GmCXt.svgs.close_media_popup),mg$(".mgPlayerJSqa_icon-print-media-player").html(GmCXt.svgs.print_icon),mg$(".mgPlayerJSqa_icon-min-media-player").html(GmCXt.svgs.min_pdf_icon),mg$(".mgPlayerJSqa_icon-max-media-player").html(GmCXt.svgs.max_pdf_icon),mg$(".mgPlayerJSqa_icon-page-down-media-player").html(GmCXt.svgs.page_down_icon),mg$(".mgPlayerJSqa_icon-page-up-media-player").html(GmCXt.svgs.page_up_icon),mg$(".mgPlayerJSqa_icon-pdf-download").html(GmCXt.svgs.pdf_download_icon)},GmCXt.showSurveyForTutorial=function(e){GmCXt.isPlayer()&&e&&-1!==e.tour_type.indexOf("onboarding_tour")&&e.tour_settings.sentiment&&!GmCXt.isEmpty(e.tour_settings.sentiment.sentimentCode)&&(e={tour:e,guideNotCompleted:!1},GmCXt.handleCloseApp(),GmCXt.getSurveyScreen(e,e.guideNotCompleted))},GmCXt.closeMediaPlayer=function(e,t,a){var r=0<mg$(".mgPlayerJSqa_play-from-task-player").length,i=mg$(".mgPlayerJSqa_media-player-panel").html();mg$(".mgPlayerJSqa_media-player-panel").html(""),mg$(".mgPlayerJSqa_media-player-panel").html(i),GmCXt.isDefined(GmCXt.trackerEnable)&&(GmCXt.trackerUtil=GmCXt.trackerEnable);let n="showme",s=null;r&&(mg$(".mgPlayerJSqa_media-player-panel").removeClass("mgPlayerJSqa_play-from-task-player"),n="task_list",a)&&a.taskId&&(s=a.taskId),mg$(".mgPlayerJSqa_media-player-panel").hide(),mg$("#mgPlayerJSqa_media-iframe").remove(),mg$("#mgPlayerJSqa_media-video").remove(),GmCXt.isMediaPlayerOn=!1,mg$(".mgPlayerJSqa_preview-step-popup-container").removeClass("mgPlayerJSqa_preview-step-popup-container-mp"),e&&e.terminate||GmCXt.isEmpty(GmCXt.playerI)||"PDF"!==GmCXt.playerI.linkGuidePlayMode?(GmCXt.showSurveyForTutorial(t),GmCXt.isTutorialLink?(mg$(".mgPlayerJSqa_overlay-tours-popup").show(),mg$(".mgPlayerJSqa_overlay-container").show()):(GmCXt.reduceSidePanelWidth(),mg$(".mgPlayerJSqa_ege-panel").css({width:"500px",right:"0px","max-width":"500px",transition:"0s"})),GmCXt.pdfPlayedOnUploadTut&&GmCXt.trackerV1.trackTutGuide(t,"upload_tutorial_guide_same_tab",n,s)):($p.ready=!0,delete GmCXt.playerI.linkGuidePlayMode,GmCXt.playStep("next")),r&&GmCXt.handleCloseApp(),GmCXt.isTutorialLink=!1},GmCXt.addMediaPlayerEvent=function(){mg$("#mgPlayerJSqa_media-player-close").off("click").on("click",GmCXt.closeMediaPlayer)},GmCXt.hidePdfControls=function(){mg$(".mgPlayerJSqa_options-left").hide(),mg$("#mgPlayerJSqa_pdf-canvas").hide(),mg$("#mgPlayerJSqa_media-player-print").hide(),mg$("#mgPlayerJSqa_media-player-popout").hide(),mg$("#mgPlayerJSqa_icon-pdf-download").hide()},GmCXt.showPdfControls=function(){mg$(".mgPlayerJSqa_options-left").show(),mg$("#mgPlayerJSqa_pdf-canvas").hide(),mg$("#mgPlayerJSqa_media-player-print").show(),mg$("#mgPlayerJSqa_media-player-popout").show(),mg$("#mgPlayerJSqa_icon-pdf-download").show()},GmCXt.openPdfLinkStep=function(t){tempUrl=GmCXt.getUrlWithLang(t),t+=GmCXt.getCdnSign(),GmCXt.checkAssetUrl(tempUrl,t,function(e){e&&(t=e),GmCXt.openPdf(t)})},GmCXt.openPdf=function(r,i,t){GmCXt.trackerEnable=GmCXt.trackerUtil,mg$(".mgPlayerJSqa_preview-step-popup-container").addClass("mgPlayerJSqa_preview-step-popup-container-mp"),GmCXt.isMediaPlayerOn=!0,GmCXt.increaseSidePanelWidth(),mg$(".mgPlayerJSqa_media-player-panel").show(),mg$("#mgPlayerJSqa_media-iframe").remove(),mg$("#mgPlayerJSqa_media-video").remove(),mg$("#mgPlayerJSqa_pdf-container").css({background:"#FFFFFF"}),mg$(".mgPlayerJSqa_pdf-image-spinner").show(),mg$(".mgPlayerJSqa_pdf-image-spinner img").attr("src",GmCXt.loader()),GmCXt.hidePdfControls();let a=1,n=1,s,e=r;function l(e){var t=n,t=e.getViewport({scale:t}),a=document.getElementById("mgPlayerJSqa_pdf-canvas"),r=a.getContext("2d"),r=(a.height=t.height,a.width=t.width,{canvasContext:r,viewport:t});e.render(r),mg$(".mgPlayerJSqa_pdf-image-spinner").attr("style","display: none;"),GmCXt.showPdfControls(),a.style.display="block",mg$(".mgPlayerJSqa_media-player-page-cnt-text")[0].innerHTML=e.pageNumber;{let e=i;e||GmCXt.playerI&&GmCXt.playerI.tour&&(e=GmCXt.playerI.tour),e&&(t=GmCXt.organization.admin_settings,r=document.getElementById("mgPlayerJSqa_icon-pdf-download"),a=document.getElementById("mgPlayerJSqa_media-player-print"),!t||!t.mediafile_creation||e.tour_settings&&e.tour_settings.downloadGuideFiles&&!e.tour_settings.downloadGuideFiles.pdf_file)&&(r.style.display="none",a.style.display="none")}}async function o(){await Dp({url:e}).promise.then(function(e){mg$(".mgPlayerJSqa_media-player-page-cnt-text-total")[0].innerHTML="of "+e._pdfInfo.numPages,mg$(".mgPlayerJSqa_media-player-zoom-text")[0].innerText="100%",e.total_pages=e._pdfInfo.numPages,c(e,1),s=e}).catch(function(e){GmCXt.toastMsg(GmCXt.label.mediaFileNotFound).show(),GmCXt.timeout(function(){GmCXt.closeMediaPlayer()},1e3)})}function c(e,t){parseInt(t)===parseInt(e._pdfInfo.numPages)&&(GmCXt.fullPdfPlayedOnUploadTutGuide=!0);try{e.getPage(t).then(function(e){l(e)})}catch(e){a=1,o()}}o(),document.getElementById("mgPlayerJSqa_media-player-pd").onclick=function(){a>=s.total_pages||(a++,c(s,a))},document.getElementById("mgPlayerJSqa_media-player-pu").onclick=function(){a<=1||(a--,c(s,a))},document.getElementById("mgPlayerJSqa_max-media-player").onclick=function(){n+=.25,mg$(".mgPlayerJSqa_media-player-zoom-text")[0].innerText=100*parseFloat(n)+"%",c(s,a)},document.getElementById("mgPlayerJSqa_min-media-player").onclick=function(){n<=.25||(n-=.25,mg$(".mgPlayerJSqa_media-player-zoom-text")[0].innerText=100*parseFloat(n)+"%",c(s,a))},document.getElementById("mgPlayerJSqa_icon-pdf-download").onclick=function(){var e,t,a;e=r,t="myPdf.pdf",window.ActiveXObject?window.ActiveXObject&&document.execCommand&&((a=window.open(e,"_blank")).document.close(),a.document.execCommand("SaveAs",!0,t),a.close()):((a=document.createElement("a")).href=e,a.target="_blank",a.download=t,e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),a.dispatchEvent(e),(window.URL||window.webkitURL).revokeObjectURL(a.href))},document.getElementById("mgPlayerJSqa_media-player-print").onclick=function(){printJS(r)},document.getElementById("mgPlayerJSqa_media-player-popout").onclick=function(){var e=document.createElement("a");e.href=r,e.target="_blank",e.click(),e.remove()},GmCXt.getPDFMediaPlayerIcons(),mg$("#mgPlayerJSqa_media-player-close").off("click").one("click",function(){GmCXt.closeMediaPlayer(void 0,i,t)}),mg$(document).keyup(function(e){"Escape"===e.key&&GmCXt.closeMediaPlayer(void 0,i,t)})},GmCXt.openVideoPlayer=function(e){mg$(".mgPlayerJSqa_preview-step-popup-container").addClass("mgPlayerJSqa_preview-step-popup-container-mp"),GmCXt.isMediaPlayerOn=!0,GmCXt.increaseSidePanelWidth(),mg$(".mgPlayerJSqa_ege-panel").css({width:"500px",right:"-9550px",transition:"0s"}),mg$("#mgPlayerJSqa_pdf-container").removeAttr("style"),mg$(".mgPlayerJSqa_media-player-panel").show(),mg$(".mgPlayerJSqa_icon-close-media-player").html(GmCXt.svgs.close_media_popup),mg$("#mgPlayerJSqa_media-player-close").off("click").on("click",GmCXt.closeMediaPlayer),mg$(".mgPlayerJSqa_pdf-image-spinner").show(),mg$(".mgPlayerJSqa_pdf-image-spinner img").attr("src",GmCXt.loader()),GmCXt.hidePdfControls(),mg$("#mgPlayerJSqa_media-iframe").remove(),mg$("#mgPlayerJSqa_media-video").remove(),new URL(e);mg$("#mgPlayerJSqa_pdf-container").append("<video id='mgPlayerJSqa_media-video' width='99%' height='99%' frameborder='0' disablePictureInPicture controls autoplay > </video> "),mg$("#mgPlayerJSqa_media-video")[0].addEventListener("error",function(){GmCXt.toastMsg(GmCXt.label.mediaFileNotFound).show(),GmCXt.timeout(function(){GmCXt.closeMediaPlayer()},1e3)}),mg$("#mgPlayerJSqa_media-video").attr("src",e),mg$("#mgPlayerJSqa_media-video")[0].load(),GmCXt.timeout(function(){mg$(".mgPlayerJSqa_pdf-image-spinner").hide()},1e3)},GmCXt.closePowerFormSp=function(){mg$(".mgPlayerJSqa_form-injector-wrapper").remove(),GmCXt.stopSlideshow(),mg$(".mgPlayerJSqa_ege-panel").css({width:"500px","max-width":"500px",transition:"width 0s"}),GmCXt.handleCloseApp(!0)},GmCXt.showPowerForm=function(e){GmCXt.showSlideShowPlayer(),GmCXt.hideSlideShowPlayer(),GmCXt.openPowerForm(e)},GmCXt.removePowerForm=function(){mg$(".mgPlayerJSqa_form-injector-wrapper_"+message.data.step_id).length&&(mg$(".mgPlayerJSqa_form-injector-wrapper_"+message.data.step_id).remove(),GmCXt.closePowerFormSp())},GmCXt.removeVideoPlayer=function(){mg$(".mgPlayerJSqa_overlay-container").remove(),mg$(".mgPlayerJSqa_video-panel").remove(),GmCXt.openSidePanelNotificaton()};const Zp=1,Yp=4,Kp=1,Qp=2;function eu(e,I,y){let a=0,_,S,f,P,C=Zp,r=void 0,i=void 0,n=void 0,s=Kp,l=Qp,t=!1,o=!1,b,c=!1,q="center",v=!0,w=!0,J=GmCXt.getAppSetting(),G=(J?.popupDesign?.type,J.stepPopupWidth),A=J?.popupDesign?.current,T="",X="",k="",x="",L="",g="",m=!1,d=!1,E=!1;function p(){var e=document.querySelector("#mgPlayerJSqa_image_scroll"),e=(i=e.clientWidth,n=e.clientHeight,document.querySelector("#mgPlayerJSqa_slide-img")),t=e.clientWidth,e=e.clientHeight,t=i/t,e=n/e;if(y(7,s=e<t?e:t),l=(e<t?t:e)*Yp,y(0,C=s),_&&S)for(r?y(0,C=r):y(0,C=s*Zp);i<P*C||n<f*C;)y(0,C-=.2)}function u(){var e,t,a,r,i,n,s,l,o=b;y(3,_=0),y(4,S=0),y(6,P=0),y(5,f=0),null==o||!o.hasOwnProperty("step_settings")||b.step_type===GmCXt.STEP_TYPE_MESSAGE&&b.step_type===GmCXt.STEP_TYPE_IMAGE?(y(3,_=0),y(4,S=0)):(o="string"==typeof o.step_settings?JSON.parse(o.step_settings):o.step_settings).hasOwnProperty("coordinates")?(y(3,_="string"==typeof o.coordinates?JSON.parse(o.coordinates).x:o.coordinates?.x),y(4,S="string"==typeof o.coordinates?JSON.parse(o.coordinates).y:o.coordinates?.y)):o.elementBounds&&0<Object.keys(o.elementBounds).length?(y(3,_=o.elementBounds.cx*o.dpr||1),y(4,S=o.elementBounds.cy*o.dpr||1),y(6,P=o.elementBounds.cw*o.dpr||1),y(5,f=o.elementBounds.ch*o.dpr||1)):o.hasOwnProperty("highlightedArea")&&o.highlightedArea&&0<o.highlightedArea.length&&(l=(e=document.querySelector("#mgPlayerJSqa_slide-img")).clientWidth*C,e=e.clientHeight*C,{windowWidth:o,windowHeight:t,origTop:a,top:r,left:i,width:n,height:s}=o.highlightedArea[0],l=l/o,o=e/t,y(3,_=i*l),y(4,S=t<a||!a?r*o:a*o),y(6,P=n*l),y(5,f=s*o)),p()}function h(){var e,i;if(!b.is_first_step&&!b.is_last_step&&(!GmCXt.isEmpty(b.step_title.trim())||!GmCXt.isEmpty(b.step_description.trim())))if(J=GmCXt.getAppSetting(),A=(GmCXt.isMyguideLibrary?((e=GmCXt.validateDataModel({org_id:"123"},GmCXt.model.organization).settings)?.popupDesign?.type,G=e.stepPopupWidth,e):(J?.popupDesign?.type,G=J.stepPopupWidth,J))?.popupDesign?.current,y(13,T=`color:${A.stepTitleColor}; font-size: ${A.stepTitleFontSize}; font-weight:${A.stepTitleFontWeight}; font-family:${A.stepTitleFontFamily}; transform: scale(0.8); transform-origin: left top; min-width: 125%; `),y(14,X=`color:${A.stepDescColor}; font-size: ${A.stepDesFontSize}; font-family:${A.stepDesFontFamily}; transform: scale(0.75); transform-origin: left top; min-width: 135%; padding: 0 10px;`),y(15,k=`background-color:${A.bgColor}; width:${.8*G}px;  border:${A.borderWidth}px solid ${A.borderColor}; border-radius: ${A.borderRadius}px`),y(16,x=`background-color:${A.nextBtnBackground+" !important"}; color:`+A.nextBtnColor+" !important"),y(17,L=`background-color:${A.prevBtnBackground+" !important"}; color:${A.prevBtnColor+" !important"};`),e=b,GmCXt.playerI&&(y(12,w=!0),y(11,v=!0),e.step_type===GmCXt.STEP_TYPE_BRANCH&&y(12,w=!1),i=GmCXt.getPreviousStepId(parseInt(GmCXt.playerI.currentStepId)),i=GmCXt.getStepFromPlayerI(i),(GmCXt.isFirstNonAutomationStep()||i&&(i.step_type===GmCXt.STEP_TYPE_SURVEY||i.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER)&&GmCXt.isFirstNonAutomationStep(i.step_id))&&y(11,v=!1),i=GmCXt.getTail(e.step_id,GmCXt.playerI.playStructure),i=GmCXt.getStepFromPlayerI(i),GmCXt.isLastStep(e.step_id,GmCXt.playerI.playStructure)||i&&i.step_type===GmCXt.STEP_TYPE_SURVEY&&i.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER&&GmCXt.isLastStep(i.step_id,GmCXt.playerI.playStructure))&&(y(12,w=!1),GmCXt.isFirstNonAutomationStep())&&y(11,v=!1),b.step_type===GmCXt.STEP_TYPE_MESSAGE||b.step_type===GmCXt.STEP_TYPE_IMAGE||null==_&&null==S){let e,t,a,r=document.getElementById("mgPlayerJSqa_image_scroll");r&&(i=r.clientWidth,n=r.clientHeight,i={width:i,height:n},n=(e="string"==typeof b.step_settings?JSON.parse(b.step_settings):b.step_settings).hasOwnProperty("alignment")?e.alignment:"center",y(10,q="none"),{left:a,top:t}=function(e,t,a,r){var i=(e=mg$(e)).width(),n=e.height(),s=t.width,l=t.height;let o=(s-i)/2,c=0;var g=r.elementTop,m=r.elementLeft;if(i&&n){switch(a){case"top":c=20,o=(s-i)/2;break;case"center":c=(l-n)/2,o=(s-i)/2;break;case"bottom":c=l-n-40,o=(s-i)/2;break;case"left-top":c=20,o=20;break;case"left-center":c=(l-n)/2,o=20;break;case"left-bottom":c=l-n-40,o=20;break;case"right-top":c=20,o=s-i-45;break;case"right-center":c=(l-n)/2,o=s-i-45;break;case"right-bottom":c=l-n-40,o=s-i-45;break;case"custom":c=g*l/100,o=m*s/100}return e.css({left:o,top:c}),{left:o,top:c}}}("#mgPlayerJSqa_tooltipPopup",i,n,e),(i=document.getElementById("mgPlayerJSqa_tooltipPopup"))&&a&&0<a&&t&&0<t&&(i.style.left=a+"px",i.style.top=t+"px",y(15,k+=` ;top:${t}px; left:${a}px;`)),GmCXt.timeout(function(){mg$("#mgPlayerJSqa_tooltipPopup").show()},10))}else{let e=_,t=S,a=0,r=0;P&&f?(r=f,a=P):(n=document.getElementById("mgPlayerJSqa_howto-circle"))&&(e-=n.clientWidth/2,t-=n.clientHeight/2,r=n.clientHeight,a=n.clientWidth);var n,s={cx:e,cy:t,cw:a,ch:r},l=document.getElementById("mgPlayerJSqa_image_scroll"),o=document.getElementById("mgPlayerJSqa_slide-img"),c=o.clientHeight*C,o=o.clientWidth*C;if(l){var g=l.clientWidth,m=l.clientHeight,d=b.step_settings.alignment,d=S+120>c?d:"bottom-middle",s={elementBounds:s,dimensions:{width:g,height:m},stepType:b&&b.step_type||"inline",popup:mg$("#mgPlayerJSqa_tooltipPopup"),doNotApplyArrow:!0,alignment:d,dynamicPopupHeight:!0};let e,t,a;const p=vg(s),u=({top:e,left:t,alignmentResult:a}=p.start(),p.getAvailablePositions());if(u[d])s.alignment=d;else{s.alignment=Object.keys(u).find(e=>!0===u[e]);const p=vg(s);({top:e,left:t,alignmentResult:a}=p.start())}g=l.offsetWidth,m=l.offsetHeight,d=o<g&&(g-o)/2||0,l=c<m&&(m-c)/2||0;y(20,E=g<o);const h=document.getElementById("mgPlayerJSqa_tooltipPopup");h&&t&&0<t&&e&&0<e&&(h.style.left=t+d+"px",h.style.top=e+l+"px",y(15,k+=` ;top:${e+l}px; left:${t+d}px;`)),document.getElementById("mgPlayerJSqa_howto-circle")&&(document.getElementById("mgPlayerJSqa_howto-circle").style.display="block"),y(10,q=s.alignment),GmCXt.timeout(function(){mg$("#mgPlayerJSqa_tooltipPopup").show(),h.style.setProperty("--tooltip-border-right-color",A.bgColor)},10)}}}function M(){setTimeout(()=>{var e=document.querySelector("#mgPlayerJSqa_howto-circle");e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},100);var e,t=document.querySelector("#mgPlayerJSqa_thumbnail-preview-wrapper");t&&(e=Hp(),a=190*e,t.scrollTo(a,0))}return me.slideState.subscribe(e=>{e.isImageUpdated?(y(8,b=e.step),b.step_type===GmCXt.STEP_TYPE_IMAGE||b.step_type===GmCXt.STEP_TYPE_MESSAGE&&b.thumbnail_url.includes("default_icon")?y(19,m=!0):y(19,m=!1),y(9,c=b?.step_type&&(b?.step_type===GmCXt.STEP_TYPE_WEB_INLINE||b?.step_type===GmCXt.STEP_TYPE_INLINE)),y(18,g=e.slideImgURL)):y(18,g="")}),e.$$.update=()=>{6&e.$$.dirty[0]&&(t||o)&&setTimeout(()=>{y(1,t=!1),y(2,o=!1)},5e3),67108865&e.$$.dirty[0]&&d&&C&&(u(),h())},[C,t,o,_,S,f,P,s,b,c,q,v,w,T,X,k,x,L,g,m,E,function(){mg$("#mgPlayerJSqa_spinner").removeClass("show"),(b.step_settings.inlineBranch||b.step_type!==GmCXt.STEP_TYPE_INLINE)&&(b.step_type!==GmCXt.STEP_TYPE_MESSAGE&&b.step_type!==GmCXt.STEP_TYPE_IMAGE||b.thumbnail_url.includes("default_icon"))||(y(26,d=!0),y(20,E=!1),r=void 0,p(),ge.processSlideImageTimeout=GmCXt.timeout(function(){u(),h()},500))},function(){!1===w&&Rp()},function(){var e;y(1,t=!1),y(2,o=!1),C+.2>l?y(1,t=!0):(y(0,C+=.2),r=C,h(),M(),(e=mg$("#mgPlayerJSqa_autoplay-slider-checkbox")).prop("checked")&&e.prop("checked",!1).trigger("change"))},function(){y(1,t=!1),C-.2<s?y(2,o=!0):(y(0,C-=.2),r=C,h(),M())},function(){y(2,o=!1),y(1,t=!1)},d]}class tu extends e{constructor(e){super(),t(this,e,eu,Wp,g,{},Np,[-1,-1])}}let au={},ru=(au.updateTour=function(t,a,e,r){let i={tour_id:t.tour_id,category_id:t.category_id};function n(e){GmCXt.inPlayer&&(a?ge.updateTourToStorage(!0,e,!1,a):ge.playerSyncCount--,delete ge.toursModifiedTime[t.tour_id],GmCXt.saveToStorage("toursModifiedTime",ge.toursModifiedTime)),GmCXt.FT.creatorApp&&au.updateTourInTourList(e)}e?n(e):(e=GmCXt.getLXPLang()?GmCXt.getLXPLang():ge.language,GmCXt.checkDefaultLangForTour(t,e)||(i.language=e),GmCXt.api.getTour(i,n,function(){ge.toursModifiedTime[t.tour_id]=t,GmCXt.saveToStorage("toursModifiedTime",ge.toursModifiedTime),ge.removeTour(i.category_id,t.tour_id,a)},r))},au.updateTourInTourList=function(t){let e=ce(me.categoryTours);e=e.map(function(e){return e.tour_id===t.tour_id?t:e}),me.categoryTours.set(e)},au.updateCat=function(r,i){return new Promise(function(t,e){var a=!!GmCXt.inPlayer;ge.getCategoryApi(r.category_id,function(e){t(e)},a,i)})},au.categoryUpdateCb=function(e){delete ge.subCategoryStore["cat_"+e.category_id],delete ge.allTourList["cat_"+e.category_id]},{});function iu(a,t,r){t=t||ge.publishedTours;for(let e=0;e<t.length;e++){var i=t[e],n=!!i&&function(t){return a.filter(function(e){return e.tour_id===parseInt(t.tour_id)})}(i);GmCXt.isEmpty(n)&&(ge.playerSyncCount++,ge.removeTour(i.category_id,i.tour_id,r))}}function nu(a){for(let t=0;t<a.length;t++){var r=a[t];let e=!!ge.allTourList["cat_"+r.category_id]&&ge.allTourList["cat_"+r.category_id]["tour_"+r.tour_id];e=e||ge.toursModifiedTime[r.tour_id]||!1,!function(a){let e=!1;if(ge.guideSegmentation&&a.tour_segment&&a.tour_segment.length){var r=[];for(let t=0;t<a.tour_segment.length;t++)for(let e=0;e<a.tour_segment[t].length;e++)r.push(a.tour_segment[t][e]);GmCXt.areUserSegmentsValid(r)&&(e=!0)}else e=!0;return e}(r)||(e?0<parseInt(r.modification_date)-parseInt(e.modification_date)?(ge.playerSyncCount++,au.updateTour(r,"","",!0)):parseInt(r.tour_order)!==parseInt(e.tour_order)&&(ge.playerSyncCount++,e.tour_order=r.tour_order,au.updateTour(r,"",e)):(ge.playerSyncCount++,au.updateTour(r)))}iu(a)}function su(t,a){GmCXt.log(70,"CATEGORY UPDATES for CURRENT APP");function r(e){e&&e.length&&e.forEach(function(e){ge.playerSyncCount++,ge.updateTourToStorage(!0,e)})}function i(e){ge.updateCategoryInStorage(e,!1,a),e.has_tour&&(GmCXt.log(70,"FETCH TOURS FOR: "+GmCXt.categoryLog(e)),ge.fetchToursForCategory(e.category_id,r,!0))}function n(e){ge.updateCategoryInStorage(e,!1,a)}var s,l,o;for(let e=0;e<t.length;e++){var c=t[e],g=ge.getCategory(c.category_id,!0);g?0<parseInt(c.modification_date)-parseInt(g.modification_date)?(ge.playerSyncCount++,GmCXt.log(70,"UPDATE: "+GmCXt.categoryLog(g)),au.updateCat(c).then(n)):parseInt(c.category_order)!==parseInt(g.category_order)&&(ge.playerSyncCount++,g.category_order=c.category_order,n(g)):(ge.playerSyncCount++,GmCXt.log(70,"ADD: "+GmCXt.categoryLog(g)),au.updateCat(c).then(i))}s=t,GmCXt.log(70,"CHECK CATEGORY DELETE"),l=l||ge.allCategories,Object.keys(l).forEach(function(e){let t=l[e];e=s.filter(function(e){return parseInt(e.category_id)===parseInt(t.category_id)});GmCXt.isEmpty(e)&&(ge.playerSyncCount++,GmCXt.log(70,"Category update not found. Delete "+GmCXt.categoryLog(t)),GmCXt.log(70,"REMOVE CAT from GLOBLE"+GmCXt.categoryLog(t)),ge.removeCategory(t),ge.updateCategoryInStorage(t,!0,o))})}function lu(e,t){var a;ge.playerSyncCount<=0?(a=GmCXt.appList["app:"+GmCXt.activeAppId],ge.processAppDataActiveApp(a),GmCXt.getContextGuides("Process Guides"),ge.refreshTime=e.last_updated_time,GmCXt.saveToStorage("refreshTime_"+GmCXt.activeAppId,ge.refreshTime)):t?GmCXt.timeout(function(){lu(e)},5e3):GmCXt.log(70,"Process Update Failed"+ge.playerSyncCount)}ru.processUpdates=function(r){ge.playerSyncCount=0;var e=r.modification_date,t=GmCXt.organization;if(parseInt(e)-parseInt(t.modification_date)&&(GmCXt.log(70,"GET ORG"),GmCXt.api.getOrgJson(function(e){GmCXt.saveToStorage("organization",e),GmCXt.updateGlobalOrg(e),GmCXt.organization=e})),r.applications){var i=[];for(let e=0;e<GmCXt.user.app_access.length;e++){var n=GmCXt.user.app_access[e];GmCXt.isEmpty(r.applications[n])||GmCXt.inArray(n,i)||i.push(n)}if(GmCXt.user.app_access=i,GmCXt.user&&GmCXt.user.app_access.length&&GmCXt.user.app_access.length!==Object.keys(GmCXt.appList).length)return void ge.refreshAllData();let a;if(Object.keys(r.applications).forEach(function(e){var e=r.applications[e],t=GmCXt.appList["app:"+e.application_id];t&&(e&&0<parseInt(e.modification_date)-parseInt(t.modification_date)&&(ge.playerSyncCount++,GmCXt.api.getAppJson(t.application_id,function(e){e=GmCXt.validateDataModel(e,GmCXt.model.application);var t=GmCXt.createDeepCopy(GmCXt.appList["app:"+e.application_id].categories);e.categories=t,GmCXt.appList["app:"+e.application_id]=e,ge.syncApps(GmCXt.appList),GmCXt.saveToDapStorage("appData",GmCXt.appList),ge.playerSyncCount--})),t.application_id===GmCXt.activeAppId)&&(a={application_id:GmCXt.activeAppId,categories:e.categories,tours:e.tours})}),GmCXt.isEmpty(ge.allCategories))return void lu(r,!0);if(a&&a.categories)su(a.categories,a.application_id),a.tours.length&&nu(a.tours);else if(a){var s=a.application_id;for(let e=0;e<ge.allCategories.length;e++)ge.playerSyncCount++,ge.removeCategory(ge.allCategories[e],!0),GmCXt.appList["app:"+s].categories=[]}}else ge.refreshAllData();lu(r,!0)};Jg={main:()=>{window.addEventListener("message",ge.winListener)}};ge.winListener=function(e){let t=GmCXt.parseMsg(e);t&&t.action&&0===t.action.indexOf("mgPlayerJSqa_action:")&&((t=GmCXt.convertMgdata(t)).data&&t.data.config&&(GmCXt.conf=t.data.config),GmCXt.sidePanelMsgAction(t))};const ou={"mgPlayerJSqa_action:maintenance":e=>{ge.goToMaintenance()},"mgPlayerJSqa_action:update_access_token":e=>{updateUser(e.data)},"mgPlayerJSqa_action:update_timestamp_sync_time":e=>{ge.lastTimeStampSync=GmCXt.getCurrentTimeInSec(),GmCXt.saveToStorage("lastTimeStampSync_"+GmCXt.activeAppId,ge.lastTimeStampSync)},"mgPlayerJSqa_action:get_cdn_signature_from_app":()=>{ge.getNewCdnSignature()},"mgPlayerJSqa_action:logout_user":()=>{ge.clearSession()},"mgPlayerJSqa_action:signin_from_console":e=>{ge.loginFromConsole(e.data)},"mgPlayerJSqa_action:update_registration_secret":()=>{ge.trackerSecrets={},ge.registerClientInsights()}},cu=(GmCXt.sidePanelMsgAction=function(e){var t=ou[e.action];t?t(e):GmCXt.playerAppMsgHandler(e)},GmCXt.onUserSignin=function(e){var t=e.data.user,e=e.forceLogin;GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)||e?e&&ge.onUserSignin(t,!0):ge.onUserSignin(t,!1)},{});cu.logout=function(t){function e(e){cu.clearSession(t),GmCXt.showWidget(),GmCXt.removeChatIcon(),ge.hideCurrentPageGuidesIndicator(),ge.hideLoading()}ge.showLoading(),t=t||"user",GmCXt.log(1,"User logged out: "+t),ge.videoUploadMessage=!1,ge.uploadProgressBar=!1,me.statusBar.set("logoutServ"),ge.uploadInProgress=!1,ge.closeAppPopup(),ge.isElectron?GmCXt.stopVideoStep_():GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:stop_video_upload_in_background"}),"logout_button_click"===t?GmCXt.api.userSignOut(e):e()},cu.clearSession=function(e){let t=!1;var a=GmCXt.user,a=(a&&!GmCXt.isEmpty(a)&&(ge.showPlayer=!1,ge.initPlayerMode(!0),GmCXt.clearIndexedDb(GmCXt.conf.appName+GmCXt.conf.env+"DB"),"user"!==e)&&(t=!0),GmCXt.getAllFromStorage(["dual_auth_token","lastSsoRedirectTime","triggerSsoAfterFiveMins"]).then(function(e){GmCXt.resetStorage(),e.dualAuthToken&&GmCXt.saveToStorage("dual_auth_token",ge.thirtyDaysInSeconds),e.lastSsoTime&&GmCXt.saveToStorage("lastSsoRedirectTime",e.lastSsoTime),e.triggerSsoAfterFiveMins&&GmCXt.saveToStorage("triggerSsoAfterFiveMins",e.triggerSsoAfterFiveMins)}),ge.setCurrentPage(""),ge.browserLang?(GmCXt.mgActiveLang=ge.browserLang,GmCXt.saveToStorage("activeLang",ge.browserLang)):GmCXt.mgActiveLang=!1,GmCXt.removeFromStorage("activeLang"),ge.language=!1,GmCXt.language=!1,GmCXt.activeAppId=!1,GmCXt.removeFromStorage("confirmLinkGuidePub"),ge.taskList=[],GmCXt.removeFromDapStorage("taskList"),ge.updateLabels(),ge.copiedStep=!1,ge.copiedTour=!1,ge.edLogin=!1,ge.hideLoading(),me.miniPlayer.set(!1),ge.chatBot=!1,ge.chatBotMin=!1,ge.user=!1,GmCXt.organization=!1,ge.enableTranslation=!1,ge.activeSortFilter="",ge.descOrder=!1,ge.contextTours={},ge.uploadStepProgressBar=!1,ge.pendingStepCount=-1,GmCXt.enableTranslation=!1,ge.publishedTours=[],ge.resetCreatorData(),GmCXt.edCandidates=null,ge.uploadProgressBar=!1,me.statusBar.set("logout"),ge.videoUploadMessage=!1,GmCXt.user={},GmCXt.organization={},GmCXt.showWidget(),ge.resetAppData(),ge.showGuidesFromDesktopApp=!1,GmCXt.removeFromStorage("showGuidesFromDesktopApp"),{startInterval:t});GmCXt.clearDataOnLogout(a),GmCXt.sendMessageToAllWindows("mgPlayerJSqa_action:empty_user_on_logout_in_iframes",{}),ge.navBarVisible=!1,ge.hidePanelOverlay();GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:stop_sync_interval"}),GmCXt.isExtension()&&GmCXt.storage().set({login_state:!1}),GmCXt.storage().remove(["user","userList","organization","activeAppId","playerMode","currentPage","segmentGroupData","taskList","currentPage","breadCrumb"]).then(function(){ge.setCurrentPage(""),ge.setActivePage("signin"),GmCXt.activeAppId=!1,GmCXt.appList={},GmCXt.user={},GmCXt.updateGlobalUser({}),ge.taskList=[],ge.userList={},ge.oldCurrentPageLang="",GmCXt.updateGlobalOrg({});var e=GmCXt.organization;GmCXt.organization=e,me.user.set({}),me.accessToken.set(""),me.organization.set({}),me.tours.set([]),me.appOnDomain.set({}),me.loggedIn.set(!1),me.appData.set([]),me.allGuides.set([]),me.activeAppData.set({}),me.activeAppId.set(""),me.allCategories.set([]),me.subCategories.set({}),me.breadCrumb.set([]),me.breadcrumbCategories.set([]),me.validatedSegments.set({}),me.isPageReloaded.set(!1),me.guidePlayTracker.set({}),me.showPlayer.set(!1),me.accessibility.set(!1),me.isMediaPlayerOn.set(!1),me.appList.set([]),me.currentTour.set({}),me.dialogBox.set({}),me.showModal.set({}),me.publishedTours.set({}),me.CurrentPageTours.set([]),me.MyGuidePageTours.set([]),me.parent.set(),me.categoryTours.set([]),me.childCategories.set(),me.isNotificationReqd.set(!0),me.dShowAgain.set(!1),me.wLater.set(!1),ge.hideLoading(),me.activeSortFilterStore.set(),me.searchTours.set([]),me.selectedBranch.set(!1),me.lanDropDownVisible.set(!1),me.miniPlayer.set(!1),me.showNoTour.set(!1),me.isTaskListVisible.set(!1),me.params.set({}),me.routeAction.set({}),me.filters.set({}),me.statusBar.set(""),me.labels.set(ge.labels),me.slideState.set({}),me.slideshowInstance.set({}),me.isTourListRefresh.set(!1),me.allTaskList.set([]),me.taskListCount.set(0),me.searchTerm.set(""),me.stepEditMode.set(""),me.stepOperationMode.set(GmCXt.STEP_VIEW_OPERATION)}),GmCXt.removeFromDapStorage("appData"),t&&(ge.appConfig.login.SSO||GmCXt.isMyGuide())&&GmCXt.isPlayer()&&ge.isAllowedDomain()&&GmCXt.urlParts&&ge.signInWithSso()};let gu={};function mu(e){var t=ce(me.parent).category_id;t&&(ge.isUpdateNeeded(t,"category")?au.updateCat({category_id:t}).then(function(e){au.categoryUpdateCb(e),ge.setCurrentPage("allguides")}):e&&(ge.catUpdatePending=!0),-1!==ge.serverDeletes.categories.indexOf(t))&&ge.goBack()}function du(e){let t=!1;e.forEach(function(e){ge.isUpdateNeeded(e.category_id,"category")&&(t=!0,au.updateCat(e).then(function(e){ge.setCurrentPage("allguides")}))}),t}gu.updateTour=au.updateTour,gu.updateCat=au.updateCat,gu.setTour=function(e,t,a){var r="cat_"+e.category_id,i="tour_"+e.tour_id;ge.allTourList[r]||a||(ge.allTourList[r]={}),GmCXt.FT.creatorApp&&(e.modification_date=GmCXt.getCurrentTimeInSec(),t||gu.updateServerUpdateList(e.tour_id,"tour")),a||(ge.allTourList[r][i]=e),GmCXt.inPlayer||GmCXt.saveToDapStorage("allTourList",ge.allTourList)},gu.deleteTourServerUpdate=function(e){for(var t in ge.allTourList){var a,r;for(a in ge.allTourList[t])"tour_"+e===a&&(r=t.split("_")[1],ge.removeTour(r,e))}},gu.checkCurrentViewForUpdate=function(e){var t;GmCXt.isPlayer()||((t=ce(me.CurrentPage))&&("stepview"===t?(ge.catUpdatePending=!0,ge.isUpdateNeeded(ce(me.currentTour).tour_id,"tour")&&ge.routeToStepContainer("refreshView",!0),0<=ge.serverDeletes.tours.indexOf(ce(me.currentTour).tour_id)&&ge.backHandler()):"allguides"!==t||GmCXt.isEmpty(ce(me.categoryTours))?"allguides"!==t||GmCXt.isEmpty(ce(me.childCategories))?"allguides"===t&&(t=ce(me.allCategories),ge.catUpdatePending=!0,du(t)):(t=ce(me.childCategories),ce(me.parent).category_id,ge.catUpdatePending=!0,du(t),mu(e)):(ce(me.categoryTours).forEach(function(e){ge.isUpdateNeeded(e.tour_id,"tour")&&au.updateTour(e)}),mu(e))),ge.isUpdateNeeded(GmCXt.organization.organization_id,"organization")&&ge.fetchOrgFromAPI(),ge.isUpdateNeeded(GmCXt.activeAppId,"application")&&ge.fetchApps())};gu.isUpdateNeeded=function(e,t){if(GmCXt.isEmpty(ge.serverUpdates))return!1;var a=function(e,t){let a={};return"category"===e?a=ge.getCategory(t):"tour"===e?a=ge.getTourFromId(t):"organization"===e?a=GmCXt.organization:"application"===e&&(a=GmCXt.appList["app:"+t]),a}(t,e);if(GmCXt.isEmpty(a))return!1;a=parseInt(a.modification_date)||0;let r=!1;a=(ge.serverUpdates[t+"_"+e]||0)-a,t="isUpdateNeeded: "+t+"_"+e+" .....?"+(r=2<a?!0:r)+"...time difference..."+a;return GmCXt.log(61,t),r},gu.deleteCategoryServerUpdate=function(e){var t=ge.getCategory(e).parent_id;ge.removeCategory({category_id:e}),ge.refreshAllGuides=!1,"0"===t&&(ge.refreshAllGuides=!0)},gu.updateServerUpdateList=function(e,t){delete ge.serverUpdates[t+"_"+e],GmCXt.saveToDapStorage("serverUpdates",ge.serverUpdates)},gu.updateTourProperty=function(e,t,a){GmCXt.isEmpty(e)||(ge.allTourList["cat_"+e.category_id]&&ge.allTourList["cat_"+e.category_id]["tour_"+e.tour_id]&&(ge.allTourList["cat_"+e.category_id]["tour_"+e.tour_id][a]=t),GmCXt.saveToDapStorage("allTourList",ge.allTourList))};let pu=GmCXt.storage();const uu=["appData","categories","pinnedToursList","currentTour","allTourList","languageList","serverUpdates","serverDeletes","taskList"];GmCXt.getFromStorage=function(r){return new Promise(function(a,t){try{pu.get([r,r+"_time"]).then(function(e){var t=e[r],e=e[r+"_time"];e&&void 0!==e?e<Date.now()&&(GmCXt.removeFromStorage(r),a(!1)):a(!1),t&&void 0!==t?(t=GmCXt.parseJSON(t),GmCXt.isDefined(t)&&a(t)):a(!1)})}catch(e){GmCXt.showCookieDisabledPopup(),t(!1)}})},GmCXt.getFromDapStorage=function(a){return new Promise(function(t,e){GmCXt.isClientJs()?GmCXt.dapStore.getItem(a).then(function(e){t(e)}):GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:get_from_dap_storage",data:a},function(e){t(e)})})},GmCXt.getAllFromStorage=function(r){let i={};return new Promise(function(t,e){var a=r.map(function(e){return-1!==uu.indexOf(e)?GmCXt.getFromDapStorage(e):GmCXt.getFromStorage(e)});Promise.all(a).then(function(e){e.forEach(function(e,t){i[r[t]]=e}),t(i)})})},GmCXt.saveGuideUser=function(e){var t={action:"mgPlayerJSqa_action:save_user_info",data:e};GmCXt.updateGlobalUser(e),GmCXt.sendMessageToBackgroundService(t)},GmCXt.saveGuideOrgDetails=function(e){var t={action:"mgPlayerJSqa_action:save_org",data:e};GmCXt.updateGlobalOrg(e),GmCXt.sendMessageToBackgroundService(t)},GmCXt.saveToStorage=function(r,i,n){return new Promise(function(e,t){"user"===r?GmCXt.saveGuideUser(i):"organization"===r&&GmCXt.saveGuideOrgDetails(i),i=JSON.stringify(i);var a={};a[r]=i,a[r+"_time"]=function(e){let t;return t=e&&GmCXt.isDefined(e)&&!isNaN(e)?Date.now()+1e3*e:Date.now()+864e6}(n),pu.set(a).then(function(){e(!0)}).catch(function(e){t(e)})})},GmCXt.saveToDapStorage=function(a,r){return new Promise(function(e,t){GmCXt.isClientJs()?GmCXt.dapStore.setItem(a,r).then(function(){e(!0)}):GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:save_to_dap_storage",data:{key:a,data:r}},function(){e(!0)})})},GmCXt.removeFromStorage=function(a){return new Promise(function(e,t){"user"===a?GmCXt.saveGuideUser(!1):"organization"===a&&GmCXt.saveGuideOrgDetails(!1),pu.remove([a,a+"_time"]).then(function(){e(!0)}).catch(function(e){t(e)})})},GmCXt.removeFromDapStorage=function(a){return new Promise(function(e,t){GmCXt.isClientJs()?GmCXt.dapStore.removeItem(a).then(function(){e(!0)}):GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:remove_from_dap_storage",data:a},function(){e(!0)})})},GmCXt.resetStorage=function(){return GmCXt.clearIndexedDb(),new Promise(function(e,t){GmCXt.saveGuideUser(!1),GmCXt.saveGuideOrgDetails(!1),e(!0)})},GmCXt.conf.appName,GmCXt.conf.env,GmCXt.isLXP()&&document.referrer&&GmCXt.filterUrlScheme(document.referrer).replaceAll(".",""),GmCXt.clearIndexedDb=function(t){try{GmCXt.isClientJs()?GmCXt.dapStore.clear():GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:clear_dap_storage"})}catch(e){GmCXt.log(1,"ERROR: IndexedDb not cleared, "+t)}},ge.refreshPlayer=function(e){var t;ge.maintenance=e.maintenance_mode,ge.lastTimeStampSync=GmCXt.getCurrentTimeInSec(),GmCXt.saveToStorage("lastTimeStampSync_"+GmCXt.activeAppId,ge.lastTimeStampSync),e.maintenance_mode?ge.goToMaintenance():ru.processUpdates(e),(GmCXt.inPlayer||GmCXt.onPrem())&&(t={action:"mgPlayerJSqa_action:update_player_sync_time",data:{refreshTime:e.last_updated_time,lastTimeStampSync:GmCXt.getCurrentTimeInSec()}},GmCXt.isClientJs()?(GmCXt.refreshTime=e.last_updated_time,GmCXt.lastTimeStampSync=GmCXt.getCurrentTimeInSec()):GmCXt.sendMessageToBackgroundService(t))},ge.updateUser=function(e){var t;e.accesstoken&&(t=GmCXt.user)&&(t.accesstoken=e.accesstoken,t.refreshtoken=e.refreshtoken,GmCXt.isDefined(e.profile)&&(t.profile=e.profile),GmCXt.isDefined(e.app_access)&&(t.app_access=e.app_access),ge.saveUser(t))},GmCXt.playerAppMsgHandler=function(e){var t={"mgPlayerJSqa_action:get_cdn_signature_from_app":()=>{ge.getNewCdnSignature()},"mgPlayerJSqa_action:update_access_token":()=>{ge.updateUser(e.data)},"mgPlayerJSqa_action:refresh_player":()=>{ge.refreshPlayer(e.data)},"mgPlayerJSqa_action:update_timestamp_sync_time":()=>{ge.lastTimeStampSync=GmCXt.getCurrentTimeInSec(),GmCXt.saveToStorage("lastTimeStampSync_"+GmCXt.activeAppId,ge.lastTimeStampSync)},"mgPlayerJSqa_action:fetch_user":()=>{var e=GmCXt.user;GmCXt.isEmpty(e)?ge.clearSession():ge.syncUser()},"mgPlayerJSqa_action:update_registration_secret":()=>{ge.trackerSecrets={},ge.registerClientInsights()},"mgPlayerJSqa_action:logout_user":()=>{ge.clearSession()},"mgPlayerJSqa_action:trackApiCalls":()=>{GmCXt.trackApiCalls(!0)},"mgPlayerJSqa_action:get_data_from_panel":()=>{GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:get_data_from_panel_response",data:{user:GmCXt.user,organization:GmCXt.organization}})},"mgPlayerJSqa_action:save_image_done":()=>{me.routeAction.set({action:"save_image_done",data:e.data})},"mgPlayerJSqa_action:video_ended":()=>{var e,t;GmCXt.playerI&&(e=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId),t=GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure),GmCXt.isLastStep(e.step_id,GmCXt.playerI.playStructure)||GmCXt.playStepFromStepIdInShowMe(t))}}[e.action];t?t():GmCXt.creatorAppMsgHandler&&GmCXt.creatorAppMsgHandler(e)},GmCXt.api.getHeaders=function(e){let t="";var a={"Content-Type":"application/json","x-mg-host":t=GmCXt.isEmpty(GmCXt.urlParts)?t:GmCXt.urlParts.host,"x-mg-source":GmCXt.conf.appName,"x-mg-orgId":""};let r="",i="";var n=GmCXt.user;return n&&n.accesstoken&&(r=n.accesstoken),n&&n.refreshtoken&&(i=n.refreshtoken),!e.serviceName||-1===e.serviceName.indexOf("user/signout")&&-1===e.serviceName.indexOf("user/token")?e.serviceName&&-1!==e.serviceName.indexOf("user/sso/login")||"user/sso/autologin"===e.serviceName?(a.Authorization=e.data.myGuideOrgKey,delete e.data.myGuideOrgKey):"user/signin/edcast"===e.serviceName?(a.EdcastToken=e.data.EdcastToken,delete e.data.EdcastToken):a.AccessToken=r:a.RefreshToken=i,a.appType=GmCXt.conf.appType,n&&(a.userId=n.user_id,a.orgId=n.organization_id,a["x-mg-orgId"]=n.organization_id),a},GmCXt.api.fetch=function(e){return new Promise(function(t,a){GmCXt.trackApiCalls(),fetch(e.url,{method:e.method,headers:e.headers,body:JSON.stringify(e.data)}).then(e=>{GmCXt.activeApiCallCount--,ge.hideLoading(),t(e.json())}).catch(function(e){GmCXt.activeApiCallCount--,ge.hideLoading(),e.stack&&(e.data=GmCXt.getCodeError()),a(e.data)})})},GmCXt.api.xhrDesktopApp=function(e){return new Promise(function(t,a){mg$.ajax({url:e.url,data:e.data,method:e.method,success:function(e){e&&t(e)},error:function(e){a(e)}})})},GmCXt.processApi=function(e,t){let a=e?.url?.replace(GmCXt.conf.webServiceUrl,"");var r={serviceName:a=-1!==a.indexOf("?")?a.split("?")[0]:a,method:e.method_type,data:e.params,onSuccess:t};"GET"===e.method_type?GmCXt.api.get_(r).then(e=>{t&&t(e)}):(t&&(r.onSuccess=t),GmCXt.api.post_(r))},GmCXt.api.get_=function(i){let n={url:GmCXt.conf.webServiceUrl+i.serviceName,method:i.method,headers:GmCXt.api.getHeaders(i),params:i.data};function a(e){GmCXt.processApi(e,i.cb)}function s(e){var t;e=e||GmCXt.getDefaultError(),(t=e).url=n.url,t.params=n.params,t.method_type=n.method,i.onSuccess&&(t.successCb=i.onSuccess),e=t,ge.hideLoading(),1007===e.code?na.on(e,a):2036===e.code&&e?.data?.remove_cookie&&GmCXt.user?.ssoSignInTrue?ge.removeCookieWithSSO().then(function(){na.on(e)}):3033!==e.code&&na.on(e)}return new Promise(function(a,r){n.url=GmCXt.getSearchURL(n.url,i.data),GmCXt.api.fetch(n).then(function(e){ge.isAppJsonCalling||ge.hideLoading();var t=e;t&&(t.error?(s(t),r(t)):(GmCXt.validateDataModel(t,GmCXt.model.api),i.onSuccess?a(i.onSuccess(e)):a(e)))}).catch(function(e){e&&e.stack?(e.data=GmCXt.getCodeError(),s(e.data)):s()})})},GmCXt.api.get=function(e){return e.data.isDeskReq?(delete e.data.isDeskReq,GmCXt.api.get_(e)):(ge.isFetchingCdn=!1,ge.checkCdnSignature().then(function(){return GmCXt.api.get_(e)}))},GmCXt.api.getCDN=function(e){return ge.checkCdnSignature().then(function(){return GmCXt.onPrem()||(e=ge.addCdnUrl(e)),new Promise(function(t,a){GmCXt.trackApiCalls(),fetch(e).then(e=>{if(GmCXt.activeApiCallCount--,ge.hideLoading(),e.ok)return e.json();throw new Error("Network response was not ok")}).then(e=>{t(e)}).catch(e=>{GmCXt.activeApiCallCount--,ge.hideLoading(),a(e)})})})},GmCXt.api.post_=function(a){let r={url:GmCXt.conf.webServiceUrl+a.serviceName,method:a.method,headers:GmCXt.api.getHeaders(a),data:a.data};function i(e){GmCXt.processApi(e,a.onSuccess)}function n(e){var t;e=e||GmCXt.getDefaultError(),(t=e).url=r.url,t.params=r.data,t.method_type=r.method,1007===(e=t).code?na.on(e,i):3033!==e.code&&na.on(e),a.onFail&&a.onFail(e)}GmCXt.api.fetch(r).then(function(e){ge.hideLoading(),ge.uploadInProgress=!1;var t=e;t.error?n(t):a.onSuccess&&(!0===a.signIn&&(e=e.data.token?GmCXt.validateDataModel(e.data.token,GmCXt.model.token):e.data.orgs?e.data:GmCXt.validateDataModel(e.data.user,GmCXt.model.user)),a.onSuccess(e))}).catch(function(e){e?(e.stack&&(e.data=GmCXt.getCodeError()),n(e.data)):console.error("Error in GmCXt.api.post")})},GmCXt.api.post=function(e){ge.checkCdnSignature().then(function(){GmCXt.api.post_(e)})},GmCXt.api.userSignIn=function(e,t,a){GmCXt.api.post({serviceName:"user/signin",method:"POST",data:e,onSuccess:t,onFail:a,signIn:!0})},GmCXt.api.userSignOut=function(e){var t="user/signout?mg_source_name="+GmCXt.conf.appConfig.customer;GmCXt.api.post({serviceName:t,method:"POST",serviceType:"",data:{},onSuccess:e})},GmCXt.api.verifyUser=function(e,t,a){GmCXt.api.post({serviceName:"user/verify",method:"POST",data:e,onSuccess:t,onFail:a,signIn:!0})},GmCXt.api.forgetPassword=function(e,t,a){GmCXt.api.get({serviceName:"user/password/reset",method:"GET",data:e,cb:t}).then(t)},GmCXt.api.changePassword=function(e,t){GmCXt.api.post({serviceName:"user/password",method:"PUT",data:e,onSuccess:t})},GmCXt.api.resetPassword=function(e,t){GmCXt.api.post({serviceName:"user/resetpassword",method:"POST",data:e,onSuccess:t})},GmCXt.api.resendOTP=function(e,t){return GmCXt.api.post_({serviceName:"user/otp/resend",method:"POST",data:e,serviceType:"",onSuccess:t,signIn:!0})},GmCXt.api.getAccessToken=function(a){var e={serviceName:GmCXt.getCustomerSpecificURL("user/token"),method:"GET",serviceType:"",data:{force_update:!0,mg_source_name:GmCXt.conf.appConfig.customer}};function t(e){let t={};t=e.data.data||e.data;e=GmCXt.validateDataModel(t,GmCXt.model.userToken);a(e)}e.cb=t,GmCXt.api.get_(e).then(t)},GmCXt.api.callGetCdnSignature=function(e,t){GmCXt.api.get_({serviceName:"organization/signature",method:"GET",serviceType:"",data:e,cb:t}).then(t)},GmCXt.api.getUserList=function(e,t){e.organization_id=GmCXt.user.organization_id;e={serviceName:"user/list",method:"GET",data:e,serviceType:"",cb:t};ge.showLoading(),GmCXt.api.get_(e).then(t)},GmCXt.api.getOrganization=function(t){let a={serviceName:"organization",method:"GET",data:{organization_id:GmCXt.user.organization_id},serviceType:""};function e(e){GmCXt.validateApiResp(t,a.serviceName,e.data.organization,GmCXt.model.organization)}ge.showLoading(),a.cb=e,GmCXt.api.get_(a).then(e)},GmCXt.api.getDomains=function(e){var t={serviceName:"organization/domain",method:"GET",data:{organization_id:GmCXt.user.organization_id},serviceType:"",cb:e};GmCXt.api.get_(t).then(e)},GmCXt.api.sendMsgToMyBot=function(e){var t={url:"http://localhost:11311/"+e.url,data:"",method:"GET"};return e.method&&(t.method=e.method),e.info&&(t.data={info:JSON.stringify(e.info)}),GmCXt.api.xhrDesktopApp(t).catch(function(e){GmCXt.log(1,"ERROR: failed to connect Desktop app",e)})},GmCXt.api.postUserProfile=function(e,t){e.organization_id=GmCXt.user.organization_id,GmCXt.api.post({serviceName:"user",method:"PUT",serviceType:"",data:e,onSuccess:t})},ge.addCdnUrl=function(e){var e=GmCXt.conf.jsonStorageUrl+GmCXt.orgBucket+"/"+e,t=GmCXt.user;return t?e+t.cdn_signature+"&v="+Date():e},GmCXt.api.getTourCDN=function(e,t,a){GmCXt.api.getCDN("tours/tour-"+e+".json").then(function(e){e&&(e=GmCXt.validateDataModel(e,GmCXt.model.guide),e=GmCXt.migrateTour(e),ge.updateTourToStorage(!1,e),t)&&t(e)}).catch(function(e){a&&a()})},GmCXt.api.getCategoryListStorage=function(r,e){new Promise(function(t,e){function a(e){(e=!GmCXt.inPlayer&&r.is_publish?ge.filterPublished(e):e)&&e.length&&(e=(e=e.sort(function(e,t){return e.category_order-t.category_order})).slice(r.offset,r.limit+r.offset)),t(e)}if(r.parent_id){let e=[];a(e=GmCXt.isEmpty(ge.subCategoryStore)?e:ge.subCategoryStore["cat_"+r.parent_id])}else a(ge.categoryStore)}).then(e)},GmCXt.api.getCategoryDetails=function(e,t,a){function r(e){GmCXt.log(70,"ADD CATEGORY TO GLOBLE: "+GmCXt.categoryLog(e)),ge.addCategory(e),ge.updateCategoryInStorage(e),t(e)}function i(e){GmCXt.validateApiResp(r,s.serviceName,e,GmCXt.model.category)}function n(){GmCXt.api.get(s).then(function(e){i(e.data.category)})}let s={serviceName:"category",method:"GET",serviceType:"",data:e};if(GmCXt.inPlayer)return e="json/categories/"+e.category_id+".json",GmCXt.api.getJSONFromCDN(e).then(function(e){e?i(e):n()});n()},GmCXt.api.getCategoryDetailsStorage=function(r,e,t,a){t?GmCXt.api.getCategoryDetails(r,e,a,t):new Promise(function(e,t){var a=ge.categoryStore.filter(function(e){return parseInt(e.category_id)===parseInt(r.category_id)});if(a.length)e(a[0]);else{let t=[];ge.subCategoryStore.forEach(function(e){e.forEach(function(e){parseInt(e.category_id)===parseInt(r.category_id)&&t.push(e)})}),e(t[0])}}).then(e)},GmCXt.getTourList=function(a,r,i){a.application_id=i||GmCXt.activeAppId,GmCXt.isMirrorApp()&&(a.application_id=GmCXt.getBaseAppId()),a.organization_id=GmCXt.user.organization_id,ge.notDefaultLang()&&(a.language=ge.language),GmCXt.getLXPLang()&&(a.language=GmCXt.getLXPLang());let t={serviceName:"tour/list",method:"GET",serviceType:"",data:a};function n(e,t){i||(e=ge.filterGuideByEnv(e),GmCXt.log(70,"ADD TOURS TO VARIABLE: ",e),ge.addTourList(a.category_id,e),ge.updateToursInCategoryStorage(category_id,e)),r(e,t)}function e(e){e.data&&GmCXt.validateApiResp(n,t.serviceName,e.data.tours,GmCXt.model.guides,e.data.pin_tours)}t.cb=e,GmCXt.api.get(t).then(e).catch(function(){})},GmCXt.api.getTourListStorage=function(l,e,t,a){t?GmCXt.getTourList(l,e,a):new Promise(function(t,e){function a(e){e=e&&(e=e.sort(function(e,t){return e.tour_order-t.tour_order})).slice(l.offset,l.limit+l.offset),t(e)}var r=[];if(l.category_id){var i,n=ge.allTourList["cat_"+l.category_id];for(i in n)r.push(n[i])}var s=r;if(GmCXt.inPlayer?s=ge.filterGuideByEnv(s):"1"===l.published_guides?s=ge.filterPublished(s):"0"===l.published_guides&&(s=ge.filterUnpublished(s)),l.search_text){let r=l.search_text.toLowerCase();s=ge.publishedTours.filter(function(a){if(a.application_id===l.app_id){let e=a.tour_title,t=a.tour_description;return a.language_data&&a.language_data[ge.language]&&ge.notDefaultLang()&&(e=a.language_data[ge.language].tour_title,t=a.language_data[ge.language].tour_description),ge.filterGuide(e,r,a.tour_id,t)}})}a(s)}).then(e)},GmCXt.api.getContextualTourStorage=function(e,t){return new Promise(function(e,t){setTimeout(function(){e(ge.validateAllRulesExceptSelectEl(ge.publishedTours).tours)},10)}).then(t)},GmCXt.api.getContextualTour=function(t,a){function r(e){GmCXt.FT.isPlayer&&(e=ge.filterGuideByEnv(e)),ge.addTourList(!1,e),GmCXt.contextualApiParams={},a(e)}function i(e){GmCXt.validateApiResp(r,"tour/contextual",e.data.tours,GmCXt.model.guides)}GmCXt.getLXPLang()?t.language=GmCXt.getLXPLang():ge.language&&-1===ge.language.indexOf("en-")&&!GmCXt.isFalse(ge.language)&&(t.language=ge.language),t.organization_id=GmCXt.user.organization_id,t.application_id=GmCXt.activeAppId,GmCXt.isMirrorApp()&&(t.application_id=GmCXt.getBaseAppId()),GmCXt.api.getContextualTourStorage(t,function(e){e&&e.length||GmCXt.inPlayer?a(e):!GmCXt.isEmpty(GmCXt.contextualApiParams)&&Object.values(t).toString()===Object.values(GmCXt.contextualApiParams).toString()||(e={serviceName:"tour/contextual",method:"POST",serviceType:"",data:t,onSuccess:i},GmCXt.api.post_(e),GmCXt.contextualApiParams=t)})},GmCXt.api.getJSONFromCDN=function(e,t){return GmCXt.api.getCDN(e).catch(function(e){ge.hideLoading(),404===e.status?ge.cdn404=!0:403===e.status&&(ge.cdn403=!0),t&&t()})},GmCXt.api.getTours=function(e,t){e.organization_id=GmCXt.user.organization_id;let a={serviceName:"tours",method:"GET",serviceType:"",data:e};function r(e){GmCXt.FT.isPlayer&&(e=ge.filterGuideByEnv(e)),t(e)}function i(e){e&&e.data&&GmCXt.validateApiResp(r,a.serviceName,e.data.tours,GmCXt.model.guides)}a.cb=i,GmCXt.api.get(a).then(i)},GmCXt.api.getTaskList=function(){ge.taskListApiCalled=!0;let r={application_id:GmCXt.activeAppId,organization_id:GmCXt.user.organization_id,limit:10,offset:0,search:""},i={serviceName:"task_list/json",method:"GET",data:r};return new Promise(function(t,e){var a;GmCXt.inPlayer?(a="json/task_list/app-"+r.application_id+".json",GmCXt.api.getJSONFromCDN(a).then(function(e){e?t(e):GmCXt.api.get(i).then(function(e){t(e.data)})}).catch(function(){GmCXt.api.get(i).then(function(e){t(e.data)})})):GmCXt.api.get(i).then(function(e){t(e.data)})})},GmCXt.api.getTaskDetails=function(e){return GmCXt.api.get({serviceName:"task_list/user/stats",method:"GET",data:{id:e}})},GmCXt.api.getTaskListDetails=function(){var e={application_id:GmCXt.activeAppId,organization_id:GmCXt.user.organization_id};return GmCXt.api.get({serviceName:"task_list/user/stats/list",method:"GET",data:e})},GmCXt.api.getTaskFolderDetails=function(e){return GmCXt.api.get({serviceName:"task_list/content",method:"GET",data:{folder_id:e}})},GmCXt.api.markTaskGuideComplete=function(e,t){e={task_list_id:e.task_id,user_id:GmCXt.user.user_id,guide_id:e.guide_id};return GmCXt.api.post({serviceName:"task_list/task/complete",method:"POST",serviceType:"",data:e,onSuccess:t})},GmCXt.api.getAllLanguages=function(){let e=GmCXt.conf.staticContentPath+"json/languages.json";return new Promise(function(t,a){GmCXt.trackApiCalls(),fetch(e).then(e=>{if(GmCXt.activeApiCallCount--,ge.hideLoading(),e.ok)return e.json();throw new Error("Network response was not ok")}).then(e=>{t(e)}).catch(e=>{GmCXt.activeApiCallCount--,ge.hideLoading(),a(e)})})},GmCXt.api.getAppDetails=function(e,t){let a={serviceName:"application",method:"GET",data:{application_id:e}};function r(e){GmCXt.validateApiResp(t,a.serviceName,e.data.application,GmCXt.model.application)}a.cb=r,GmCXt.api.get(a).then(r)},GmCXt.api.getOrgJson=function(e){var t;return ge.showLoading(),(GmCXt.inPlayer?GmCXt.api.getJSONFromCDN("json/org_info.json"):(t={serviceName:"organization/info/json",method:"GET",data:{organization_id:GmCXt.user.organization_id},serviceType:"",cb:e},GmCXt.api.get_(t))).then(e)},GmCXt.api.getAppJson=function(e,t){return ge.showLoading(),(GmCXt.inPlayer?GmCXt.api.getJSONFromCDN("json/app-"+e+".json"):GmCXt.api.get_({serviceName:"application/json",method:"GET",data:{application_id:e},serviceType:"",cb:t})).then(t)},GmCXt.api.getSearchTourList=function(s,e,t){new Promise(function(e,t){var a=s.search_text,r=[],i=s.category_id;for(let e=0;e<ge.publishedTours.length;e++){var n=ge.publishedTours[e];void 0!==i&&i!==n.category_id||!(n.tour_title&&n.tour_title.toLowerCase().includes(a.toLowerCase())||n.keywords&&-1<n.keywords.toLowerCase().indexOf(a.toLowerCase()))||r.push(n)}r.sort(function(e,t){return e.tour_title.localeCompare(t.tour_title)}),e(r)}).then(e).catch(function(){ge.goBack()})},GmCXt.api.getCategoryList=GmCXt.api.getCategoryListStorage,GmCXt.api.getTourList=GmCXt.api.getTourListStorage,GmCXt.api.getTourFromCDNorJSON=function(t,a,r){t&&t.tour_id&&"undefined"!==t.tour_id&&GmCXt.api.getTourCDN(t.tour_id,function(e){GmCXt.isEmpty(e)?GmCXt.api.getTourJson(t.tour_id,a,r):a(e)},function(){GmCXt.api.getTourJson(t.tour_id,a,r)})},GmCXt.api.getTour=function(e,t,a,r){var i=ge.getTourFromId(e.tour_id,e.category_id);r||!i||GmCXt.isEmpty(i.steps)?GmCXt.inPlayer&&GmCXt.api.getTourFromCDNorJSON(e,t,a):t(i)},GmCXt.api.getTourJson=function(t,a,r){var e={serviceName:"tour/json",method:"GET",data:{tour_id:t},serviceType:"",onSuccess:function(e){e.data?(e=GmCXt.validateDataModel(e.data,GmCXt.model.guide),ge.updateTourToStorage(!1,e),a(e)):r&&r()},onFail:function(e){GmCXt.log(1,"Tour not found"+t),r()}};ge.showLoading(),GmCXt.api.get(e)},GmCXt.api.getTourCDN=function(e,t,a){GmCXt.api.getCDN("tours/tour-"+e+".json").then(function(e){e&&(e=GmCXt.validateDataModel(e,GmCXt.model.guide),e=GmCXt.migrateTour(e),ge.updateTourToStorage(!1,e),t)&&t(e)}).catch(function(e){a&&a()})},GmCXt.api.updateUser=function(e,t){var a=GmCXt.organization,a=(e.organization_id=a.organization_id,e),e=("string"!=typeof a.settings&&(a.settings=JSON.stringify(e.settings)),{serviceName:"user",method:"PUT",serviceType:"",data:a,onSuccess:t});GmCXt.api.post(e)},GmCXt.stopCapture=function(e){e=e||zt;var e=JSON.stringify(e,null,2),e=new Blob([e],{type:"text/plain"}),e=URL.createObjectURL(e),t=document.createElement("a");t.href=e,t.download="console_logs.txt",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e)},window.GmRootScope=ge,Jg.main(),GmCXt.logAll=zt,GmCXt.logLog=function(){console.log(JSON.stringify(zt))},ge.playVideoTour="video",ge.playSlideshow="slideshow",ge.playGiphy="giphy",ge.playVLab="vLab",ge.playAuto="doitforme",ge.playGuideMe="guideMe",ge.playTestMe="testMe",ge.isClientJs=!1,ge.contextTours=[],ge.manualAppSwitch=!1,ge.showCaptchaError=!1,ge.config=GmCXt.conf,ge.staticContentPath=GmCXt.conf.staticContentPath,ge.webPortalUrl=GmCXt.conf.webPortalUrl,ge.analyticsPortalUrl=GmCXt.conf.analyticsPortalUrl,ge.appConfig=GmCXt.conf.appConfig,ge.appName=GmCXt.conf.appName,ge.appType=GmCXt.conf.appType,ge.brandName="Cornerstone Guide",ge.appVersion=GmCXt.conf.version,ge.ssoRedirectionUrl=GmCXt.conf.ssoRedirectionUrl,ge.ssoApiUrl=GmCXt.conf.ssoApiUrl,ge.ssoConfigUrl=GmCXt.conf.ssoConfigUrl,ge.ssoId="",ge.isLXP=GmCXt.isLXP(),ge.isWestpac=GmCXt.isWestpac(),ge.isMyGuide=GmCXt.isMyGuide(),ge.onPrem=GmCXt.onPrem(),ge.isMicroPlayer=GmCXt.isMicroPlayer(),ge.isClientJs=GmCXt.isClientJs(),ge.isElectron=GmCXt.isElectron(),ge.checkInsightEnabled=GmCXt.checkInsightEnabled,ge.isScreenRecorderClose=!1,ge.taskListApiCalled=!1,ge.countLimit=99,ge.playerSyncCount=0,ge.languages=[],ge.selectedLanguage="",ge.tourVideoInProgressArr=[],ge.ssoHitCount=0,ge.thirtyMinutesInSeconds=1800,ge.thirtyDaysInSeconds=2592e3,ge.thirtyDaysInMSeconds=2592e6,ge.lastCheckBrandLogo=0,ge.browserApp=GmCXt.browserApp,ge.allowedImageExtensions=["image/png","image/jpeg","image/jpg"],ge.appDomainLimit=500,ge.showPlayer=!1,ge.playerMode=!1,ge.isPlayer=GmCXt.isPlayer,ge.browserLang=GmCXt.browserLang,ge.defaultLang={},ge.oldCurrentPageLang="",ge.maintenance=!1,ge.appEnvs=[],ge.categoryDataForAutomation=[],ge.jsonEditor=!1,ge.searchFilterDropDownVisible=!1,ge.isRefresh=!1,ge.isStepViewRefresh=!1,ge.isApiCallOn=!1,ge.isTaskListActive=!1,ge.isAppJsonCalling=!1,ge.pendingStepCount=-1,ge.botTourPlayList=[],ge.labels=GmCXt.getAllLabels(GmCXt.mgActiveLang),ge.allCategories=[],ge.allCategoriesNoFilter=[],ge.chatLabels={},ge.toursModifiedTime=0,ge.refreshTime=0,ge.isTaskListVisible=!1,ge.taskListCount=0,ge.languageList=[],ge.languages=[],ge.language=!1,ge.svgs={iconBack:'<svg class="mgPlayerJSqa_position-center" width="8" height="14" viewBox="0 0 8 14" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.233044 7.05301C0.233044 7.03801 0.236044 7.02501 0.237044 7.01001C0.245778 6.81309 0.327814 6.62654 0.467044 6.48701L0.469044 6.48401L6.11604 0.837007C6.19033 0.762217 6.27864 0.702806 6.37591 0.662173C6.47318 0.62154 6.57751 0.600484 6.68292 0.600205C6.78834 0.599927 6.89277 0.620432 6.99026 0.66055C7.08774 0.700668 7.17636 0.75961 7.25104 0.834006L7.53304 1.11701C7.68312 1.26767 7.76722 1.47177 7.76684 1.68442C7.76647 1.89708 7.68165 2.10088 7.53104 2.25101L2.72904 7.05201L7.52904 11.853C7.6039 11.9272 7.66339 12.0155 7.70411 12.1127C7.74482 12.21 7.76598 12.3143 7.76635 12.4197C7.76672 12.5251 7.7463 12.6295 7.70627 12.7271C7.66624 12.8246 7.60737 12.9133 7.53304 12.988L7.25004 13.271C7.09912 13.4208 6.89487 13.5046 6.68222 13.5038C6.46956 13.5031 6.26591 13.4179 6.11604 13.267L0.749043 7.90101L0.466043 7.61801C0.316043 7.46801 0.240044 7.27301 0.235044 7.07501L0.233044 7.05301Z" fill="#555555"/></svg>',iconSearchClose:'<svg version="1.1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M46,4C44.9,3,43.2,3,42.1,4L25,21.2L7.9,4C6.8,3,5.1,3,4,4S3,6.8,4,7.9L21.2,25L4,42.1C3,43.2,3,44.9,4,46c0.5,0.5,1.2,0.8,1.9,0.8s1.4-0.3,1.9-0.8L25,28.8L42.1,46c0.5,0.5,1.2,0.8,1.9,0.8c0.7,0,1.4-0.3,1.9-0.8c1.1-1.1,1.1-2.8,0-3.8L28.8,25L46,7.9C47,6.8,47,5.1,46,4z"/></g></g></svg>',no_guides_image:'<svg viewBox="0 0 101 124" fill="none"><path d="M98.809 22.612L78.174 1.824C77.024 0.664999 75.428 0 73.795 0H6.57C3.169 0 0.401001 2.768 0.401001 6.169V117.83C0.401001 121.232 3.169 124 6.57 124H94.429C97.831 124 100.599 121.232 100.599 117.83V26.958C100.599 25.319 99.963 23.776 98.809 22.612ZM76.754 3.232L97.389 24.02C97.928 24.563 98.286 25.233 98.464 25.958H77.727C76.618 25.958 75.574 25.527 74.787 24.744C73.995 23.955 73.558 22.905 73.558 21.788V2H73.795C74.915 2 75.966 2.438 76.754 3.232ZM94.429 122H6.57C4.271 122 2.401 120.129 2.401 117.83V6.169C2.401 3.87 4.271 2 6.57 2H71.558V21.788C71.558 23.441 72.204 24.995 73.375 26.161C74.54 27.32 76.084 27.958 77.722 27.958H98.599V117.83C98.599 120.129 96.728 122 94.429 122Z" fill="#8D8D8D"/></svg>',folder:'<svg  width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#f8f8fb" stroke="#acadc1" stroke-width="1.4"/><path d="M28.2 15.6733V18.4667H11.8V13.0067C11.8 12.9091 11.8669 12.8667 11.906 12.8667H18.5C18.539 12.8667 18.606 12.9092 18.606 13.0067V15.3333V15.5333H18.806H28.094C28.1331 15.5333 28.2 15.5758 28.2 15.6733ZM28.094 14.4667H19.606V13.0067C19.606 12.3616 19.1296 11.8 18.5 11.8H11.906C11.2764 11.8 10.8 12.3612 10.8 13.0067V18.6667V19.3333V27.66C10.8 28.3051 11.2764 28.8667 11.906 28.8667H28.094C28.7232 28.8667 29.2 28.3055 29.2 27.66V19.3333V18.6667V15.6733C29.2 15.0279 28.7236 14.4667 28.094 14.4667ZM28.2 27.66C28.2 27.7576 28.1331 27.8 28.094 27.8H11.906C11.8669 27.8 11.8 27.7576 11.8 27.66V19.5333H28.2V27.66Z" fill="#acadc1" stroke="#acadc1" stroke-width="0.4"/></svg>',guide_category_title:'<svg width="28" height="22" viewBox="0 0 28 22" fill="none" ><path d="M0.305981 9.84855L2.80027 19.8175C2.81263 20.5627 3.36591 21.2 4.08726 21.2H23.5129C24.2341 21.2 24.788 20.5626 24.7999 19.8165L27.1945 9.84671L27.2373 9.66829L27.0632 9.61026L24.8001 8.85585V5.408C24.8001 4.65149 24.2424 4 23.5129 4H13.2873V2.208C13.2873 1.45193 12.7296 0.8 12.0001 0.8H4.08726C3.35774 0.8 2.80006 1.45149 2.80006 2.208V8.85401L0.439046 9.60952L0.260472 9.66666L0.305981 9.84855ZM3.91408 19.7435L1.47621 10H26.0263L23.6856 19.7453L23.6801 19.7683V19.792C23.6801 19.9271 23.5858 20 23.5129 20H4.08726C4.01434 20 3.92006 19.9271 3.92006 19.792V19.7674L3.91408 19.7435ZM23.6801 5.408V8.8H3.92006V2.208C3.92006 2.07291 4.01434 2 4.08726 2H12.0001C12.0727 2 12.1673 2.07305 12.1673 2.208V5V5.2H12.3673H23.5129C23.5858 5.2 23.6801 5.27291 23.6801 5.408Z" fill="#b2b2b2" stroke="#b2b2b2" stroke-width="0.6" /></svg>',iconBreadcrumArrow:'<svg width="6px" height="14px" viewBox="0 0 6 14" version="1.1"  ><defs></defs><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0.555338542"><g transform="translate(-1139.000000, -186.000000)" fill-rule="nonzero" fill="#757575"><g transform="translate(1139.000000, 186.000000)"><polygon class="mgPlayerJSqa_shape" points="0.257105882 0 0.0240470588 0.313588202 4.68407059 6.58823529 0.0240470588 12.8628824 0.257105882 13.1764706 5.15002353 6.58823529"></polygon><polygon points="0.257105882 0 0.0240470588 0.313588202 4.68407059 6.58823529 0.0240470588 12.8628824 0.257105882 13.1764706 5.15002353 6.58823529"></polygon></g></g></g></svg>',popupInfo:'<svg width="44" height="44" viewBox="0 0 44 44" fill="none"><path d="M22 43.3333C16.342 43.3333 10.9158 41.0857 6.91502 37.085C2.91424 33.0842 0.666626 27.658 0.666626 22C0.666626 16.3421 2.91424 10.9158 6.91502 6.91506C10.9158 2.91428 16.342 0.666672 22 0.666672C27.6579 0.666672 33.0841 2.91428 37.0849 6.91506C41.0857 10.9158 43.3333 16.3421 43.3333 22C43.3333 27.658 41.0857 33.0842 37.0849 37.085C33.0841 41.0857 27.6579 43.3333 22 43.3333ZM22 11.3333C21.4342 11.3333 20.8915 11.5581 20.4915 11.9582C20.0914 12.3583 19.8666 12.9009 19.8666 13.4667C19.8666 14.0325 20.0914 14.5751 20.4915 14.9752C20.8915 15.3752 21.4342 15.6 22 15.6C22.5658 15.6 23.1084 15.3752 23.5085 14.9752C23.9085 14.5751 24.1333 14.0325 24.1333 13.4667C24.1333 12.9009 23.9085 12.3583 23.5085 11.9582C23.1084 11.5581 22.5658 11.3333 22 11.3333ZM24.1333 19.8667C24.1333 19.3009 23.9085 18.7583 23.5085 18.3582C23.1084 17.9581 22.5658 17.7333 22 17.7333C21.4342 17.7333 20.8915 17.9581 20.4915 18.3582C20.0914 18.7583 19.8666 19.3009 19.8666 19.8667V30.5333C19.8666 31.0991 20.0914 31.6418 20.4915 32.0418C20.8915 32.4419 21.4342 32.6667 22 32.6667C22.5658 32.6667 23.1084 32.4419 23.5085 32.0418C23.9085 31.6418 24.1333 31.0991 24.1333 30.5333V19.8667Z" fill="#005BF0"/></svg>',popupClose:'<svg  width="14" height="14" viewBox="0 0 14 14" fill="none"><path opacity="0.7" d="M13.8586 1.41L8.33929 6.92929L8.26858 7L8.33929 7.07071L13.8586 12.59L12.59 13.8586L7.07071 8.33929L7 8.26858L6.92929 8.33929L1.41 13.8586L0.141422 12.59L5.66071 7.07071L5.73142 7L5.66071 6.92929L0.141421 1.41L1.41 0.141421L6.92929 5.66071L7 5.73142L7.07071 5.66071L12.59 0.141422L13.8586 1.41Z" fill="black" stroke="black" stroke-width="0.2"/></svg>',popupWarning:'<svg width="44" height="40" viewBox="0 0 44 40" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M37.9337 38.9261L5.9348 39.0691C1.22227 39.0904 -0.681735 35.8019 1.682 31.7251L17.8431 3.85201C20.2068 -0.224788 24.0244 -0.216255 26.3711 3.87121L42.2196 31.4872C44.5652 35.5747 42.6463 38.9048 37.9337 38.9261ZM21.9071 28.4408C20.7284 28.4408 19.7737 29.3965 19.7737 30.5741C19.7737 31.7517 20.7295 32.7075 21.9071 32.7075C23.0847 32.7075 24.0404 31.7517 24.0404 30.5741C24.0404 29.3965 23.0847 28.4408 21.9071 28.4408ZM21.9071 26.3075C23.0847 26.3075 24.0404 25.3517 24.0404 24.1741V15.6408C24.0404 14.4632 23.0847 13.5075 21.9071 13.5075C20.7295 13.5075 19.7737 14.4632 19.7737 15.6408V24.1741C19.7737 25.3528 20.7295 26.3075 21.9071 26.3075Z" fill="#FFAB00"/></svg>',popupError:'<svg width="44" height="40" viewBox="0 0 44 40" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M37.9337 38.9261L5.93477 39.0691C1.22223 39.0904 -0.681765 35.8019 1.68197 31.7251L17.843 3.85201C20.2068 -0.224788 24.0244 -0.216255 26.371 3.87121L42.2196 31.4872C44.5652 35.5747 42.6462 38.9048 37.9337 38.9261ZM21.907 28.4408C20.7284 28.4408 19.7737 29.3965 19.7737 30.5741C19.7737 31.7517 20.7294 32.7075 21.907 32.7075C23.0846 32.7075 24.0404 31.7517 24.0404 30.5741C24.0404 29.3965 23.0846 28.4408 21.907 28.4408ZM21.907 26.3075C23.0846 26.3075 24.0404 25.3517 24.0404 24.1741V15.6408C24.0404 14.4632 23.0846 13.5075 21.907 13.5075C20.7294 13.5075 19.7737 14.4632 19.7737 15.6408V24.1741C19.7737 25.3528 20.7294 26.3075 21.907 26.3075Z" fill="#DE350B"/></svg>',popupSuccess:'<svg width="44" height="43" viewBox="0 0 44 43" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M22.3387 42.68C19.5162 42.7116 16.7155 42.1829 14.0987 41.1246C11.482 40.0663 9.10113 38.4995 7.09409 36.5147C5.08704 34.53 3.49365 32.1668 2.40619 29.562C1.31872 26.9573 0.758774 24.1627 0.758774 21.34C0.758774 18.5173 1.31872 15.7227 2.40619 13.118C3.49365 10.5132 5.08704 8.15003 7.09409 6.1653C9.10113 4.18056 11.482 2.61369 14.0987 1.55541C16.7155 0.497126 19.5162 -0.0315459 22.3387 5.92438e-06C27.9571 0.0628127 33.324 2.33878 37.2748 6.33398C41.2256 10.3292 43.4414 15.7213 43.4414 21.34C43.4414 26.9588 41.2256 32.3508 37.2748 36.346C33.324 40.3412 27.9571 42.6172 22.3387 42.68ZM19.2027 26.4267L13.6347 21.552L11 24.5653L19.6533 32.1333L34.2987 14.56L31.224 12L19.2027 26.4267Z" fill="#14B872"/></svg>',refresh:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 31 25" fill="none" ><path fill-rule="evenodd" clip-rule="evenodd" d="M15.4902 22.7C21.1235 22.7 25.6902 18.1333 25.6902 12.5C25.6902 12.1626 25.6739 11.829 25.6418 11.5H27.9508C27.9769 11.8299 27.9902 12.1634 27.9902 12.5C27.9902 19.4036 22.3938 25 15.4902 25C12.548 25 9.84315 23.9835 7.70781 22.2824L9.34699 20.6432C11.0557 21.9343 13.1836 22.7 15.4902 22.7ZM5.33863 13.5C5.30662 13.171 5.29023 12.8374 5.29023 12.5C5.29023 6.8667 9.85693 2.3 15.4902 2.3C17.9291 2.3 20.1681 3.15598 21.9231 4.5839L21.9902 4.5L23.5474 2.94285C21.3716 1.10668 18.5602 0 15.4902 0C8.58668 0 2.99023 5.59644 2.99023 12.5C2.99023 12.8366 3.00354 13.1701 3.02965 13.5H5.33863Z" fill="#454560" /><path d="M26.8099 7.97679L23.1062 11.9319C23.0671 11.9829 23.0637 12.0485 23.0965 12.1021C23.1298 12.1559 23.1941 12.189 23.2641 12.1881L30.7904 12.0969C30.8604 12.096 30.9241 12.0613 30.956 12.0068C30.97 11.9826 30.9768 11.9561 30.9765 11.93C30.9761 11.8972 30.9644 11.8648 30.9421 11.8369L27.1196 7.97303C27.0838 7.92885 27.0258 7.90305 26.9639 7.9038C26.902 7.90455 26.8445 7.93192 26.8099 7.97679Z" fill="#454560" /><path d="M4.16431 17.1151L7.8721 13.1638C7.91124 13.1128 7.91465 13.0472 7.88187 12.9936C7.84872 12.9398 7.78437 12.9066 7.71438 12.9074L0.188057 12.9909C0.118062 12.9917 0.0542772 13.0263 0.0223269 13.0808C0.00829369 13.105 0.00143566 13.1314 0.00172616 13.1576C0.00208975 13.1904 0.0137412 13.2228 0.0360681 13.2507L3.8546 17.1185C3.89028 17.1627 3.94834 17.1886 4.01025 17.1879C4.07215 17.1872 4.12962 17.1599 4.16431 17.1151Z" fill="#454560" /></svg>',close_panel:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 18 18" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.7133 8.54133L17.3653 15.1933C17.5729 15.4009 17.6895 15.6824 17.6895 15.976C17.6895 16.2696 17.5729 16.5511 17.3653 16.7587C17.1577 16.9662 16.8762 17.0829 16.5826 17.0829C16.2891 17.0829 16.0076 16.9662 15.8 16.7587L9.14798 10.1053L2.49731 16.7573C2.39453 16.8601 2.27251 16.9416 2.13822 16.9973C2.00393 17.0529 1.86 17.0815 1.71465 17.0815C1.56929 17.0815 1.42536 17.0529 1.29107 16.9973C1.15678 16.9416 1.03476 16.8601 0.931979 16.7573C0.829198 16.6546 0.747667 16.5325 0.692043 16.3982C0.636418 16.2639 0.607788 16.12 0.607788 15.9747C0.607788 15.8293 0.636418 15.6854 0.692043 15.5511C0.747667 15.4168 0.829198 15.2948 0.931979 15.192L7.58265 8.54133L0.931979 1.88933C0.724403 1.68176 0.607788 1.40022 0.607788 1.10667C0.607788 0.81311 0.724403 0.531577 0.931979 0.324001C1.13956 0.116425 1.42109 -0.000190733 1.71465 -0.000190735C2.0082 -0.000190737 2.28974 0.116425 2.49731 0.324001L9.14798 6.97733L15.8 0.324001C16.0076 0.116425 16.2891 -0.000190735 16.5826 -0.000190735C16.8762 -0.000190735 17.1577 0.116425 17.3653 0.324001C17.5729 0.531577 17.6895 0.81311 17.6895 1.10667C17.6895 1.40022 17.5729 1.68176 17.3653 1.88933L10.7133 8.54133Z" fill="#555555"/></svg>',subfolder:'<svg  width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"/><path d="M28.2 15.6733V18.4667H11.8V13.0067C11.8 12.9091 11.8669 12.8667 11.906 12.8667H18.5C18.539 12.8667 18.606 12.9092 18.606 13.0067V15.3333V15.5333H18.806H28.094C28.1331 15.5333 28.2 15.5758 28.2 15.6733ZM28.094 14.4667H19.606V13.0067C19.606 12.3616 19.1296 11.8 18.5 11.8H11.906C11.2764 11.8 10.8 12.3612 10.8 13.0067V18.6667V19.3333V27.66C10.8 28.3051 11.2764 28.8667 11.906 28.8667H28.094C28.7232 28.8667 29.2 28.3055 29.2 27.66V19.3333V18.6667V15.6733C29.2 15.0279 28.7236 14.4667 28.094 14.4667ZM28.2 27.66C28.2 27.7576 28.1331 27.8 28.094 27.8H11.906C11.8669 27.8 11.8 27.7576 11.8 27.66V19.5333H28.2V27.66Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.4"/><path d="M19.5667 24.36V24.2H30.433C30.4332 24.2011 30.4333 24.2025 30.4333 24.204V24.36H19.5667ZM30.4463 23.4H24.337V22.604C24.337 22.1773 24.0153 21.8 23.5833 21.8H19.5537C19.1218 21.8 18.8 22.1771 18.8 22.604V26V26.4V31.396C18.8 31.8227 19.1217 32.2 19.5537 32.2H30.4463C30.878 32.2 31.2 31.823 31.2 31.396V26.4V26V24.204C31.2 23.7771 30.8783 23.4 30.4463 23.4Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.4"/></svg>',search:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 18 19" fill="none" ><path d="M12.8812 11.6585L12.5653 12.0625H13.0781H13.6512C13.8108 12.0625 13.9614 12.1247 14.072 12.2354L17.5762 15.7395C17.5763 15.7397 17.5765 15.7398 17.5767 15.74C17.8066 15.9729 17.8064 16.3494 17.5736 16.5822L16.5787 17.5771L16.5777 17.5781C16.3492 17.8091 15.9738 17.8105 15.7404 17.5771L12.2354 14.0721C12.1247 13.9614 12.0625 13.8108 12.0625 13.6512V13.0781V12.5653L11.6585 12.8812C10.46 13.8182 8.95292 14.375 7.3125 14.375C3.41112 14.375 0.25 11.2139 0.25 7.3125C0.25 3.41112 3.41112 0.25 7.3125 0.25C11.2139 0.25 14.375 3.41112 14.375 7.3125C14.375 8.95292 13.8182 10.46 12.8812 11.6585ZM2.5625 7.3125C2.5625 9.93976 4.68901 12.0625 7.3125 12.0625C9.93976 12.0625 12.0625 9.93599 12.0625 7.3125C12.0625 4.68524 9.93599 2.5625 7.3125 2.5625C4.68524 2.5625 2.5625 4.68901 2.5625 7.3125Z" fill="#6f708b" stroke="#acadc1" stroke-width="0.5"/></svg>',search_close:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 14 14" fill="none" ><path d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z" fill="black" fill-opacity="0.7" /><path d="M8.37464 7.03536L13.9293 12.59L12.59 13.9293L7.03536 8.37464L7 8.33929L6.96464 8.37464L1.41 13.9293L0.0707109 12.59L5.62536 7.03536L5.66071 7L5.62536 6.96464L0.0707107 1.41L1.41 0.0707107L6.96464 5.62536L7 5.66071L7.03536 5.62536L12.59 0.0707109L13.9293 1.41L8.37464 6.96464L8.33929 7L8.37464 7.03536Z" stroke="black" stroke-opacity="0.7" stroke-width="0.1" /></svg>',unpublish:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" ><rect x="1" y="4" width="16" height="1.5" fill="#FFFFFF"/><path d="M13.0699 13.1582L13.143 13.0868L13.0699 13.0153L12.3342 12.2955L12.2643 12.2271L12.1944 12.2955L9.62021 14.8139V8V7.9H9.52021L8.47979 7.9H8.37979V8V14.8139L5.80564 12.2955L5.73571 12.2271L5.66577 12.2955L4.93007 13.0153L4.857 13.0868L4.93007 13.1582L8.93007 17.0715L9 17.1399L9.06993 17.0715L13.0699 13.1582Z" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="0.2"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2 1.5H16C16.2761 1.5 16.5 1.72386 16.5 2V14C16.5 14.2761 16.2761 14.5 16 14.5H14V16H16C17.1046 16 18 15.1046 18 14V2C18 0.895431 17.1046 0 16 0H2C0.895431 0 0 0.895431 0 2V14C0 15.1046 0.89543 16 2 16H4V14.5H2C1.72386 14.5 1.5 14.2761 1.5 14V2C1.5 1.72386 1.72386 1.5 2 1.5Z" fill="#FFFFFF"/></svg>',publish:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" ><path d="M4.93007 11.8418L4.857 11.9132L4.93007 11.9847L5.66577 12.7045L5.73571 12.7729L5.80564 12.7045L8.37979 10.1861V17V17.1H8.47979H9.52021H9.62021V17V10.1861L12.1944 12.7045L12.2643 12.7729L12.3342 12.7045L13.0699 11.9847L13.143 11.9132L13.0699 11.8418L9.06993 7.92852L9 7.8601L8.93007 7.92852L4.93007 11.8418Z" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="0.2"/><rect x="1" y="4" width="16" height="1.5" fill="#FFFFFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2 1.5H16C16.2761 1.5 16.5 1.72386 16.5 2V14C16.5 14.2761 16.2761 14.5 16 14.5H14V16H16C17.1046 16 18 15.1046 18 14V2C18 0.895431 17.1046 0 16 0H2C0.895431 0 0 0.895431 0 2V14C0 15.1046 0.89543 16 2 16H4V14.5H2C1.72386 14.5 1.5 14.2761 1.5 14V2C1.5 1.72386 1.72386 1.5 2 1.5Z" fill="#FFFFFF"/></svg>',help_center:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" overflow="visible" preserveAspectRatio="none" viewBox="0 0 514 514"><g transform="translate(1, 1)"><path d="M256 340c-15.464 0-28 12.536-28 28s12.536 28 28 28 28-12.536 28-28-12.536-28-28-28zm7.67-24h-16c-6.627 0-12-5.373-12-12v-.381c0-70.343 77.44-63.619 77.44-107.408 0-20.016-17.761-40.211-57.44-40.211-29.144 0-44.265 9.649-59.211 28.692-3.908 4.98-11.054 5.995-16.248 2.376l-13.134-9.15c-5.625-3.919-6.86-11.771-2.645-17.177C185.658 133.514 210.842 116 255.67 116c52.32 0 97.44 29.751 97.44 80.211 0 67.414-77.44 63.849-77.44 107.408V304c0 6.627-5.373 12-12 12zM256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8z" vector-effect="non-scaling-stroke" fill="#454560" /></g></svg>',navbar:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100"  width="23" height="17" viewBox="0 0 23 17" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 2.5C0.559644 2.5 0 1.94036 0 1.25C0 0.559644 0.559645 0 1.25 0H21.25C21.9404 0 22.5 0.559644 22.5 1.25C22.5 1.94036 21.9404 2.5 21.25 2.5H1.25ZM0 8.5C0 9.19036 0.559645 9.75 1.25 9.75H21.25C21.9404 9.75 22.5 9.19036 22.5 8.5C22.5 7.80964 21.9404 7.25 21.25 7.25H1.25C0.559644 7.25 0 7.80964 0 8.5ZM0 15.75C0 16.4404 0.559645 17 1.25 17H21.25C21.9404 17 22.5 16.4404 22.5 15.75C22.5 15.0596 21.9404 14.5 21.25 14.5H1.25C0.559644 14.5 0 15.0596 0 15.75Z" fill="#454560"></path></svg>',filter_mplayer:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" width="32" height="32" viewBox="0 0 32 32" fill="none"><rect class="mgPlayerJSqa_icon-bg" width="32" height="32" rx="4" /><path d="M6.57328 10.28H7.99995C8.20163 10.8289 8.61116 11.2764 9.14005 11.5259C9.66895 11.7753 10.2748 11.8068 10.8266 11.6133C11.1338 11.5038 11.4128 11.3273 11.6434 11.0967C11.874 10.8661 12.0504 10.5871 12.1599 10.28H25.3733C25.5726 10.28 25.7639 10.2018 25.906 10.0621C26.0482 9.92244 26.1298 9.73254 26.1333 9.53329C26.1299 9.3328 26.0487 9.14148 25.9069 8.99968C25.7651 8.85789 25.5738 8.77672 25.3733 8.77329H12.2266C12.131 8.48997 11.9796 8.22867 11.7813 8.0048C11.5831 7.78092 11.3421 7.599 11.0724 7.46976C10.8027 7.34053 10.5099 7.26659 10.2112 7.25231C9.91256 7.23803 9.61404 7.2837 9.33328 7.38663C9.02836 7.50015 8.75146 7.678 8.52139 7.90807C8.29132 8.13814 8.11347 8.41504 7.99995 8.71996H6.57328C6.37404 8.72346 6.18414 8.80507 6.04448 8.94722C5.90482 9.08937 5.82658 9.28068 5.82661 9.47996C5.81928 9.58241 5.83316 9.68526 5.86738 9.7821C5.9016 9.87894 5.95544 9.96768 6.02552 10.0428C6.0956 10.1178 6.18042 10.1777 6.27467 10.2185C6.36892 10.2593 6.47057 10.2802 6.57328 10.28ZM10.1066 8.77329C10.3071 8.77672 10.4984 8.85789 10.6402 8.99968C10.782 9.14148 10.8632 9.3328 10.8666 9.53329C10.8631 9.73254 10.7815 9.92244 10.6394 10.0621C10.4972 10.2018 10.3059 10.28 10.1066 10.28C10.0063 10.2835 9.90637 10.2669 9.81268 10.231C9.71899 10.195 9.6335 10.1406 9.56132 10.0709C9.48913 10.0012 9.43174 9.9177 9.39256 9.82533C9.35338 9.73295 9.33322 9.63363 9.33328 9.53329C9.33327 9.43236 9.35336 9.33243 9.39238 9.23934C9.43141 9.14625 9.48858 9.06187 9.56057 8.99112C9.63256 8.92037 9.71793 8.86467 9.81168 8.82727C9.90543 8.78987 10.0057 8.77152 10.1066 8.77329ZM25.4266 15.2533H23.9999C23.8012 14.7022 23.392 14.2524 22.8622 14.0025C22.3323 13.7525 21.725 13.7229 21.1733 13.92C20.8652 14.0278 20.5853 14.2037 20.3545 14.4345C20.1237 14.6653 19.9478 14.9452 19.8399 15.2533H6.57328C6.37525 15.2533 6.18534 15.332 6.04531 15.472C5.90528 15.612 5.82661 15.8019 5.82661 16C5.82661 16.198 5.90528 16.3879 6.04531 16.5279C6.18534 16.668 6.37525 16.7466 6.57328 16.7466H19.7866C19.937 17.1859 20.2209 17.5672 20.5986 17.8371C20.9763 18.1071 21.429 18.2522 21.8933 18.2522C22.3576 18.2522 22.8102 18.1071 23.188 17.8371C23.5657 17.5672 23.8496 17.1859 23.9999 16.7466H25.4266C25.6246 16.7466 25.8146 16.668 25.9546 16.5279C26.0946 16.3879 26.1733 16.198 26.1733 16C26.1733 15.8019 26.0946 15.612 25.9546 15.472C25.8146 15.332 25.6246 15.2533 25.4266 15.2533ZM21.8933 16.7466C21.6953 16.7466 21.5053 16.668 21.3653 16.5279C21.2253 16.3879 21.1466 16.198 21.1466 16C21.1466 15.8019 21.2253 15.612 21.3653 15.472C21.5053 15.332 21.6953 15.2533 21.8933 15.2533C22.0913 15.2533 22.2812 15.332 22.4213 15.472C22.5613 15.612 22.6399 15.8019 22.6399 16C22.6399 16.198 22.5613 16.3879 22.4213 16.5279C22.2812 16.668 22.0913 16.7466 21.8933 16.7466ZM25.4266 21.72H15.2266C15.0728 21.2822 14.7869 20.9031 14.4083 20.6348C14.0298 20.3666 13.5772 20.2225 13.1133 20.2225C12.6493 20.2225 12.1968 20.3666 11.8182 20.6348C11.4397 20.9031 11.1538 21.2822 10.9999 21.72H6.57328C6.37525 21.72 6.18534 21.7986 6.04531 21.9387C5.90528 22.0787 5.82661 22.2686 5.82661 22.4666C5.82661 22.6647 5.90528 22.8546 6.04531 22.9946C6.18534 23.1346 6.37525 23.2133 6.57328 23.2133H10.9999C11.1436 23.6591 11.4249 24.0478 11.8035 24.3235C12.182 24.5992 12.6383 24.7478 13.1066 24.7478C13.5749 24.7478 14.0312 24.5992 14.4098 24.3235C14.7883 24.0478 15.0696 23.6591 15.2133 23.2133H25.4266C25.6246 23.2133 25.8146 23.1346 25.9546 22.9946C26.0946 22.8546 26.1733 22.6647 26.1733 22.4666C26.1733 22.2686 26.0946 22.0787 25.9546 21.9387C25.8146 21.7986 25.6246 21.72 25.4266 21.72ZM13.1066 23.2133C12.9086 23.2133 12.7187 23.1346 12.5786 22.9946C12.4386 22.8546 12.3599 22.6647 12.3599 22.4666C12.3599 22.2686 12.4386 22.0787 12.5786 21.9387C12.7187 21.7986 12.9086 21.72 13.1066 21.72C13.3059 21.7199 13.4972 21.7982 13.6394 21.9378C13.7815 22.0775 13.8631 22.2674 13.8666 22.4666C13.8631 22.6659 13.7815 22.8558 13.6394 22.9954C13.4972 23.1351 13.3059 23.2133 13.1066 23.2133Z" fill="#555555"/></svg>',replay_guide:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 423.73 390"><g data-name="Layer 2"><g><path d="M228.73,0C126.33,0,42.11,79.35,34.32,179.79H8.4a8.38,8.38,0,0,0-7,13l37.91,56.86a8.38,8.38,0,0,0,14,0l37.91-56.86a8.38,8.38,0,0,0-7-13H54.4C62.14,90.39,137.37,20,228.73,20c96.5,0,175,78.5,175,175s-78.5,175-175,175a174.75,174.75,0,0,1-133.9-62.32,10,10,0,1,0-15.3,12.88A194.71,194.71,0,0,0,228.73,390c107.53,0,195-87.48,195-195S336.26,0,228.73,0Z" /><path d="M205.82,259.06,292,201.58a8.38,8.38,0,0,0,0-14l-86.22-57.48a8.38,8.38,0,0,0-13,7v115A8.38,8.38,0,0,0,205.82,259.06Z" /></g></g></svg>',resume_guide:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" overflow="visible" preserveAspectRatio="none" viewBox="0 0 9.890675 10.000010000000001" width="9.890675" height="10.000010000000001"><g transform="translate(0, 0)"><g transform="translate(0, 0) rotate(0)"><path d="M0.81549,0c-0.45038,0 -0.81549,0.36511 -0.81549,0.81549v8.36903c0,0.45038 0.36511,0.81549 0.81549,0.81549v0c0.45038,0 0.81549,-0.36511 0.81549,-0.81549v-8.36903c0,-0.45038 -0.36511,-0.81549 -0.81549,-0.81549zM4.82496,1.06482c-0.86323,-0.58808 -1.56302,-0.21807 -1.56302,0.82644v6.21747c0,1.04452 0.69979,1.41453 1.56302,0.82644l4.56323,-3.10874c0.66998,-0.45643 0.66998,-1.19645 0,-1.65289z" vector-effect="non-scaling-stroke" /></g><defs><path d="M0.81549,0c-0.45038,0 -0.81549,0.36511 -0.81549,0.81549v8.36903c0,0.45038 0.36511,0.81549 0.81549,0.81549v0c0.45038,0 0.81549,-0.36511 0.81549,-0.81549v-8.36903c0,-0.45038 -0.36511,-0.81549 -0.81549,-0.81549zM4.82496,1.06482c-0.86323,-0.58808 -1.56302,-0.21807 -1.56302,0.82644v6.21747c0,1.04452 0.69979,1.41453 1.56302,0.82644l4.56323,-3.10874c0.66998,-0.45643 0.66998,-1.19645 0,-1.65289z" vector-effect="non-scaling-stroke" /></defs></g></svg>',branch_head_icon:'<svg width="26px" height="19px" viewBox="0 0 26 19" version="1.1" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.5"><g transform="translate(-708.000000, -287.000000)" fill="#FFFFFF" fill-rule="nonzero"><g transform="translate(721.000000, 296.375000) scale(1, -1) rotate(90.000000) translate(-721.000000, -296.375000) translate(712.000000, 284.000000)"><path d="M17.9743355,3.54499151 C17.9743355,5.50285655 16.387209,7.08998302 14.429344,7.08998302 C12.4714789,7.08998302 10.8843525,5.50285655 10.8843525,3.54499151 C10.8843525,1.58714746 12.4714885,-1.50990331e-14 14.429344,-1.50990331e-14 C16.3871994,-1.50990331e-14 17.9743355,1.58714746 17.9743355,3.54499151 Z M16.7519246,3.54499151 C16.7519246,2.26226437 15.7120786,1.22241087 14.429344,1.22241087 C13.1466093,1.22241087 12.1067633,2.26226437 12.1067633,3.54499151 C12.1067633,4.82773767 13.1465978,5.86757216 14.429344,5.86757216 C15.7120901,5.86757216 16.7519246,4.82773767 16.7519246,3.54499151 Z"></path><polygon points="2.93378608 6.47877759 4.15619694 6.47877759 4.15619694 18.2444822 2.93378608 18.2444822"></polygon><path d="M7.08998302,3.54499151 C7.08998302,5.50285655 5.50285655,7.08998302 3.54499151,7.08998302 C1.58712647,7.08998302 -1.03828057e-12,5.50285655 -1.03828057e-12,3.54499151 C-1.03828057e-12,1.58714746 1.58713604,-1.50990331e-14 3.54499151,-1.50990331e-14 C5.50284698,-1.50990331e-14 7.08998302,1.58714746 7.08998302,3.54499151 Z M5.86757216,3.54499151 C5.86757216,2.26226437 4.82772614,1.22241087 3.54499151,1.22241087 C2.26225689,1.22241087 1.22241087,2.26226437 1.22241087,3.54499151 C1.22241087,4.82773767 2.26224535,5.86757216 3.54499151,5.86757216 C4.82773767,5.86757216 5.86757216,4.82773767 5.86757216,3.54499151 Z"></path><path d="M7.08998302,21.1782835 C7.08998302,23.1361276 5.50284698,24.723275 3.54499151,24.723275 C1.58713604,24.723275 -1.03828057e-12,23.1361276 -1.03828057e-12,21.1782835 C-1.03828057e-12,19.2204185 1.58712647,17.633292 3.54499151,17.633292 C5.50285655,17.633292 7.08998302,19.2204185 7.08998302,21.1782835 Z M5.86757216,21.1782835 C5.86757216,19.8955374 4.82773767,18.8557029 3.54499151,18.8557029 C2.26224535,18.8557029 1.22241087,19.8955374 1.22241087,21.1782835 C1.22241087,22.4610107 2.26225689,23.5008642 3.54499151,23.5008642 C4.82772614,23.5008642 5.86757216,22.4610107 5.86757216,21.1782835 Z"></path><path d="M13.8181385,8.63838031 L13.8181385,6.47877759 L15.0405494,6.47877759 L15.0405494,8.63838031 C15.0405494,10.5962244 13.4534134,12.1833718 11.4955579,12.1833718 L6.4787837,12.1833718 L6.4787837,10.960961 L11.4955579,10.960961 C12.7782925,10.960961 13.8181385,9.92110745 13.8181385,8.63838031 Z M6.47877759,10.960961 L6.47877759,12.1833718 C5.19603143,12.1833718 4.15619694,13.2232063 4.15619694,14.5059525 L2.93378608,14.5059525 C2.93378608,12.5480874 4.52091255,10.960961 6.47877759,10.960961 Z"></path></g></g></g></svg>',down_arrow_icon:'<svg width="10px" height="10px" version="1.1" class="mgPlayerJSqa_Layer_1" x="0px" y="0px" viewBox="0 0 386.257 386.257" style="enable-background:new 0 0 386.257 386.257;" xml:space="preserve"><polygon points="0,96.879 193.129,289.379 386.257,96.879 "></polygon></svg>',captureEvents:'<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 514 514" width="14" height="14"><g transform="translate(1, 1)"><path d="M432 352H320c-26.5 0-48-21.5-48-48s21.5-48 48-48h96s96-107 96-160-43-96-96-96-96 43-96 96c0 34.6 40.9 92.2 69.3 128H320c-44.1 0-80 35.9-80 80s35.9 80 80 80h112c26.5 0 48 21.5 48 48s-21.5 48-48 48H122.7c28.4-35.8 69.3-93.4 69.3-128 0-53-43-96-96-96S0 299 0 352s96 160 96 160h336c44.1 0 80-35.9 80-80s-35.9-80-80-80zM352 96c0-35.3 28.7-64 64-64s64 28.7 64 64c0 20.4-30.1 68-64 110.4-34-42.6-64-90.6-64-110.4zM32 352c0-35.3 28.7-64 64-64s64 28.7 64 64c0 20.4-30.1 68-64 110.4-34-42.6-64-90.6-64-110.4zm64-16c-21.2 0-21.1 32 0 32 21.2 0 21.1-32 0-32zM416 80c-21.2 0-21.1 32 0 32 21.2 0 21.1-32 0-32z" vector-effect="non-scaling-stroke" /></g></svg>',guide_bot_icon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M18.034 24.483H17.9981L17.9704 24.5059L16.2745 25.9068V24.583V24.483H16.1745H14.234C13.3191 24.483 12.5553 23.7192 12.5553 22.8043V14.234C12.5553 13.3133 13.3247 12.4745 14.234 12.4745H22.7234C23.6355 12.4745 24.4021 13.2353 24.4021 14.234V15.8511V15.9511H24.5021H25.8766H25.9766V15.8511V14.234C25.9766 12.4001 24.4765 10.9 22.6426 10.9H14.234C12.4001 10.9 10.9 12.4001 10.9 14.234V22.7234C10.9 24.5557 12.399 26.0588 14.2363 25.9766H14.7V28.8681V29.0733L14.8616 28.9468L16.7212 27.4915L18.5536 26.0574H19.2468H19.3945L19.3397 25.9203C19.1823 25.5269 19.1043 25.1353 19.1043 24.7447V24.583V24.483H19.0043H18.9234H18.034Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.2"/><path d="M27.8168 16.7404H21.9955C20.7827 16.7404 19.8125 17.7106 19.8125 18.9234V24.7447C19.8125 25.9574 20.7827 26.9277 21.9955 26.9277H24.9061L26.1189 27.8979L27.4125 28.9489V26.9277H27.8168C29.0295 26.9277 29.9997 25.9574 29.9997 24.7447V18.9234C29.9189 17.7106 28.9487 16.7404 27.8168 16.7404Z" fill="#ACADC1"/></svg>',guide_onboarding:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4" /><path d="M28.1938 12.9166C27.8336 12.7648 26.0037 11.9831 24.0812 12.0003C21.9125 12.0453 20.4312 12.8737 20 13.1451C19.5688 12.8737 18.0875 12.0453 15.9187 12.0024C14.0544 11.9684 12.1531 12.7723 11.8063 12.9187C11.325 13.1237 11 13.6593 11 14.2592V25.9072C11 26.6535 11.6312 27.2241 12.2887 26.9942C13.3156 26.6306 14.2787 26.4916 15.1519 26.4916C17.9612 26.4916 19.8331 27.9306 19.8575 27.9492C19.9461 28.0177 20.0557 28.0162 20.1417 27.9492C20.1662 27.9301 22.0379 26.4916 24.8473 26.4916C25.7204 26.4916 26.6836 26.6306 27.7104 26.9942C28.3188 27.2284 29 26.6499 29 25.9072V14.2592C29 13.6593 28.675 13.1237 28.1938 12.9166ZM19.5 26.4428C18.5981 25.9605 17.0963 25.348 15.1525 25.348C14.0938 25.348 13.0306 25.5343 12 25.9063V14.2592C12 14.1386 12.0629 14.0281 12.1538 13.9899C13.4688 13.4379 14.75 13.1451 15.9062 13.1451C17.825 13.1808 19.1313 13.9021 19.5 14.1378V26.4428ZM28 25.9072C26.9694 25.5352 25.9069 25.3489 24.8475 25.3489C22.9031 25.3489 21.4012 25.9613 20.5 26.4437V14.1378C20.8687 13.9021 22.175 13.1808 24.0938 13.1451C25.2463 13.1451 26.5325 13.4375 27.8444 13.9907C27.8813 14.0306 28 14.1378 28 14.2592V25.9072Z" fill="#ACADC1" stroke-width="0.2" /></svg>',guide_beacon:'<svg width="12px" height="12px" viewBox="0 0 12 12" version="1.1"  ><g class="mgPlayerJSqa_Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="mgPlayerJSqa_02-Guide-list-along-with-beacon_sample-2" transform="translate(-407.000000, -242.000000)"><g class="mgPlayerJSqa_Group" transform="translate(408.000000, 243.000000)"><circle class="mgPlayerJSqa_combined-shape" fill="#9476c9" cx="5" cy="5" r="4.375"></circle><circle class="mgPlayerJSqa_Oval" stroke="#FFFFFF" stroke-width="2" cx="5" cy="5" r="5"></circle></g></g></g></svg>',play_teachme:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 17 17" version="1.1"><g fill="#005BF0"><path d="M2 3C2 3.39556 2.1173 3.78224 2.33706 4.11114C2.55683 4.44004 2.86918 4.69638 3.23463 4.84776C3.60009 4.99914 4.00222 5.03874 4.39018 4.96157C4.77814 4.8844 5.13451 4.69392 5.41421 4.41421C5.69392 4.13451 5.8844 3.77814 5.96157 3.39018C6.03874 3.00222 5.99914 2.60009 5.84776 2.23463C5.69638 1.86918 5.44004 1.55683 5.11114 1.33706C4.78225 1.1173 4.39556 1 4 1C3.46971 1.00045 2.96126 1.2113 2.58628 1.58628C2.21131 1.96125 2.00045 2.46971 2 3ZM5.15541 3C5.15541 3.22852 5.08764 3.4519 4.96069 3.64191C4.83373 3.83191 4.65328 3.98001 4.44216 4.06746C4.23103 4.15491 3.99872 4.17778 3.77459 4.13321C3.55046 4.08863 3.34459 3.97858 3.18301 3.817C3.02142 3.65541 2.91138 3.44954 2.8668 3.22541C2.82222 3.00128 2.8451 2.76897 2.93255 2.55785C3.02 2.34672 3.16809 2.16627 3.35809 2.03931C3.5481 1.91236 3.77148 1.84459 4 1.84459C4.30629 1.84504 4.59992 1.96692 4.8165 2.1835C5.03308 2.40008 5.15496 2.69371 5.15541 3Z" fill="#005BF0" /><path d="M2 3C2 3.39556 2.1173 3.78224 2.33706 4.11114C2.55683 4.44004 2.86918 4.69638 3.23463 4.84776C3.60009 4.99914 4.00222 5.03874 4.39018 4.96157C4.77814 4.8844 5.13451 4.69392 5.41421 4.41421C5.69392 4.13451 5.8844 3.77814 5.96157 3.39018C6.03874 3.00222 5.99914 2.60009 5.84776 2.23463C5.69638 1.86918 5.44004 1.55683 5.11114 1.33706C4.78225 1.1173 4.39556 1 4 1C3.46971 1.00045 2.96126 1.2113 2.58628 1.58628C2.21131 1.96125 2.00045 2.46971 2 3ZM5.15541 3C5.15541 3.22852 5.08764 3.4519 4.96069 3.64191C4.83373 3.83191 4.65328 3.98001 4.44216 4.06746C4.23103 4.15491 3.99872 4.17778 3.77459 4.13321C3.55046 4.08863 3.34459 3.97858 3.18301 3.817C3.02142 3.65541 2.91138 3.44954 2.8668 3.22541C2.82222 3.00128 2.8451 2.76897 2.93255 2.55785C3.02 2.34672 3.16809 2.16627 3.35809 2.03931C3.5481 1.91236 3.77148 1.84459 4 1.84459C4.30629 1.84504 4.59992 1.96692 4.8165 2.1835C5.03308 2.40008 5.15496 2.69371 5.15541 3Z" stroke="#005BF0" stroke-width="0.2" /><path d="M1.35428 9.68552C1.37787 9.91784 1.45201 10.1407 1.57056 10.3356C1.6891 10.5306 1.84865 10.692 2.03598 10.8066L2.58986 15.214C2.61253 15.4302 2.70756 15.6298 2.85684 15.7748C3.00613 15.9197 3.19924 15.9999 3.39938 16H4.31968C4.52004 15.9998 4.71333 15.9195 4.86265 15.7742C5.01196 15.6289 5.10686 15.4289 5.12919 15.2124L5.40187 12.5115L5.94439 8.00227L6.55222 8.5474C6.72459 8.70216 6.94046 8.78807 7.16396 8.79087C7.38746 8.79368 7.60512 8.7132 7.7807 8.56284L9.61277 6.99232C9.80497 6.83121 9.93637 6.59922 9.98213 6.3401C10.0279 6.08096 9.98497 5.81257 9.8613 5.5855C9.78924 5.45726 9.69293 5.34708 9.57884 5.26224C9.46475 5.17739 9.33541 5.11979 9.19933 5.09324C9.06331 5.06668 8.9236 5.07178 8.78947 5.10818C8.65534 5.14458 8.52983 5.21147 8.42121 5.30444L7.18847 6.36072L5.94439 5.24421C5.7693 5.08697 5.54943 5.00072 5.32234 5.00022H4.75426C4.69118 4.99808 4.62849 5.01156 4.57091 5.03966C4.51334 5.06775 4.46239 5.10971 4.42193 5.16237L3.85385 5.92523L3.29997 5.17009C3.26139 5.11692 3.21218 5.07399 3.15608 5.04455C3.09998 5.01512 3.03845 4.99996 2.97616 5.00022H2.54016C2.32264 5.00034 2.10761 5.05053 1.90922 5.14749C1.71082 5.24445 1.53355 5.38598 1.38907 5.56278C1.24458 5.73958 1.13616 5.94763 1.07093 6.17326C1.00569 6.39889 0.985132 6.63697 1.01059 6.87187L1.35428 9.68552ZM1.92237 6.07503C1.99938 5.97815 2.09467 5.90043 2.20176 5.84714C2.30885 5.79385 2.42523 5.76623 2.543 5.76617H2.83556L3.47181 6.62942C3.5185 6.69314 3.5778 6.74456 3.64529 6.7799C3.71279 6.81531 3.78674 6.83367 3.86166 6.83367C3.93658 6.83367 4.01053 6.81531 4.07803 6.7799C4.14552 6.74456 4.20481 6.69314 4.25151 6.62942L4.88918 5.76463H5.32376C5.38599 5.76425 5.44635 5.78777 5.49419 5.83103L6.96408 7.15447C7.02725 7.20989 7.10594 7.24009 7.18705 7.24009C7.26822 7.24009 7.34691 7.20989 7.41003 7.15447L8.86858 5.90516C8.91592 5.86468 8.97452 5.8429 9.03474 5.84339C9.08098 5.84343 9.12637 5.85638 9.16667 5.88099C9.20696 5.90559 9.24078 5.94103 9.26482 5.98392C9.29753 6.04987 9.307 6.12649 9.29159 6.19949C9.27618 6.27251 9.23689 6.33694 9.18103 6.38079L7.34044 7.95594C7.29236 7.99661 7.23313 8.01874 7.17217 8.01874C7.1112 8.01874 7.05198 7.99661 7.00385 7.95594L5.90179 6.96607C5.85291 6.9222 5.79413 6.89332 5.73154 6.88251C5.66895 6.8717 5.60483 6.87925 5.54585 6.90447C5.48686 6.9297 5.43516 6.97162 5.39611 7.0259C5.35705 7.08018 5.33207 7.14481 5.32376 7.21315L4.69177 12.4204L4.42477 15.1275C4.42198 15.1553 4.40989 15.1811 4.39077 15.1999C4.37166 15.2187 4.34686 15.2292 4.3211 15.2294H3.39938C3.37244 15.2287 3.34671 15.2171 3.32726 15.1968C3.30782 15.1765 3.29605 15.149 3.29429 15.1198L2.71342 10.4947C2.70455 10.4256 2.67861 10.3603 2.63835 10.3059C2.59808 10.2515 2.545 10.21 2.48477 10.1859C2.36972 10.1404 2.26874 10.0608 2.19339 9.95593C2.11804 9.85104 2.07137 9.72521 2.05871 9.59286L1.70934 6.77767C1.69619 6.65064 1.70827 6.52206 1.74478 6.40057C1.78129 6.27909 1.84136 6.16755 1.92095 6.07348L1.92237 6.07503Z" fill="#005BF0" /><path d="M1.35428 9.68552C1.37787 9.91784 1.45201 10.1407 1.57056 10.3356C1.6891 10.5306 1.84865 10.692 2.03598 10.8066L2.58986 15.214C2.61253 15.4302 2.70756 15.6298 2.85684 15.7748C3.00613 15.9197 3.19924 15.9999 3.39938 16H4.31968C4.52004 15.9998 4.71333 15.9195 4.86265 15.7742C5.01196 15.6289 5.10686 15.4289 5.12919 15.2124L5.40187 12.5115L5.94439 8.00227L6.55222 8.5474C6.72459 8.70216 6.94046 8.78807 7.16396 8.79087C7.38746 8.79368 7.60512 8.7132 7.7807 8.56284L9.61277 6.99232C9.80497 6.83121 9.93637 6.59922 9.98213 6.3401C10.0279 6.08096 9.98497 5.81257 9.8613 5.5855C9.78924 5.45726 9.69293 5.34708 9.57884 5.26224C9.46475 5.17739 9.33541 5.11979 9.19933 5.09324C9.06331 5.06668 8.9236 5.07178 8.78947 5.10818C8.65534 5.14458 8.52983 5.21147 8.42121 5.30444L7.18847 6.36072L5.94439 5.24421C5.7693 5.08697 5.54943 5.00072 5.32234 5.00022H4.75426C4.69118 4.99808 4.62849 5.01156 4.57091 5.03966C4.51334 5.06775 4.46239 5.10971 4.42193 5.16237L3.85385 5.92523L3.29997 5.17009C3.26139 5.11692 3.21218 5.07399 3.15608 5.04455C3.09998 5.01512 3.03845 4.99996 2.97616 5.00022H2.54016C2.32264 5.00034 2.10761 5.05053 1.90922 5.14749C1.71082 5.24445 1.53355 5.38598 1.38907 5.56278C1.24458 5.73958 1.13616 5.94763 1.07093 6.17326C1.00569 6.39889 0.985132 6.63697 1.01059 6.87187L1.35428 9.68552ZM1.92237 6.07503C1.99938 5.97815 2.09467 5.90043 2.20176 5.84714C2.30885 5.79385 2.42523 5.76623 2.543 5.76617H2.83556L3.47181 6.62942C3.5185 6.69314 3.5778 6.74456 3.64529 6.7799C3.71279 6.81531 3.78674 6.83367 3.86166 6.83367C3.93658 6.83367 4.01053 6.81531 4.07803 6.7799C4.14552 6.74456 4.20481 6.69314 4.25151 6.62942L4.88918 5.76463H5.32376C5.38599 5.76425 5.44635 5.78777 5.49419 5.83103L6.96408 7.15447C7.02725 7.20989 7.10594 7.24009 7.18705 7.24009C7.26822 7.24009 7.34691 7.20989 7.41003 7.15447L8.86858 5.90516C8.91592 5.86468 8.97452 5.8429 9.03474 5.84339C9.08098 5.84343 9.12637 5.85638 9.16667 5.88099C9.20696 5.90559 9.24078 5.94103 9.26482 5.98392C9.29753 6.04987 9.307 6.12649 9.29159 6.19949C9.27618 6.27251 9.23689 6.33694 9.18103 6.38079L7.34044 7.95594C7.29236 7.99661 7.23313 8.01874 7.17217 8.01874C7.1112 8.01874 7.05198 7.99661 7.00385 7.95594L5.90179 6.96607C5.85291 6.9222 5.79413 6.89332 5.73154 6.88251C5.66895 6.8717 5.60483 6.87925 5.54585 6.90447C5.48686 6.9297 5.43516 6.97162 5.39611 7.0259C5.35705 7.08018 5.33207 7.14481 5.32376 7.21315L4.69177 12.4204L4.42477 15.1275C4.42198 15.1553 4.40989 15.1811 4.39077 15.1999C4.37166 15.2187 4.34686 15.2292 4.3211 15.2294H3.39938C3.37244 15.2287 3.34671 15.2171 3.32726 15.1968C3.30782 15.1765 3.29605 15.149 3.29429 15.1198L2.71342 10.4947C2.70455 10.4256 2.67861 10.3603 2.63835 10.3059C2.59808 10.2515 2.545 10.21 2.48477 10.1859C2.36972 10.1404 2.26874 10.0608 2.19339 9.95593C2.11804 9.85104 2.07137 9.72521 2.05871 9.59286L1.70934 6.77767C1.69619 6.65064 1.70827 6.52206 1.74478 6.40057C1.78129 6.27909 1.84136 6.16755 1.92095 6.07348L1.92237 6.07503Z" stroke="#005BF0" stroke-width="0.2" /><path d="M7 2.35418V4.9043C7 4.99823 7.03947 5.08832 7.10976 5.15474C7.18005 5.22116 7.27537 5.25848 7.37475 5.25848C7.47413 5.25848 7.56945 5.22116 7.63974 5.15474C7.71003 5.08832 7.7495 4.99823 7.7495 4.9043V2.70695H15.2565V9.6617H7.37475C7.27537 9.6617 7.18005 9.699 7.10976 9.76543C7.03947 9.83186 7 9.9219 7 10.0159C7 10.1098 7.03947 10.1999 7.10976 10.2663C7.18005 10.3328 7.27537 10.3701 7.37475 10.3701H11.1223V12.7275H8.78081C8.68116 12.7275 8.58339 12.7532 8.49806 12.8019C8.41272 12.8506 8.34305 12.9204 8.29664 13.0038L7.46169 14.48C7.43865 14.5211 7.42444 14.5661 7.41978 14.6124C7.41517 14.6587 7.42022 14.7055 7.43471 14.7499C7.4492 14.7944 7.4728 14.8357 7.50416 14.8716C7.53553 14.9074 7.57412 14.9371 7.61759 14.9589C7.66111 14.9806 7.70869 14.9941 7.75772 14.9984C7.80674 15.0028 7.85615 14.998 7.90323 14.9844C7.95026 14.9707 7.994 14.9484 8.03192 14.9187C8.06984 14.889 8.10121 14.8526 8.12425 14.8115L8.89474 13.4373H14.1038L14.8742 14.8115C14.8973 14.8526 14.9287 14.889 14.9666 14.9187C15.0045 14.9484 15.0482 14.9707 15.0953 14.9844C15.1423 14.998 15.1918 15.0028 15.2408 14.9984C15.2898 14.9941 15.3374 14.9806 15.3809 14.9589C15.4244 14.9371 15.463 14.9074 15.4943 14.8716C15.5257 14.8357 15.5493 14.7944 15.5638 14.7499C15.5783 14.7055 15.5833 14.6587 15.5787 14.6124C15.5741 14.5661 15.5598 14.5211 15.5368 14.48L14.7094 13.0038C14.6629 12.9204 14.5933 12.8506 14.508 12.8019C14.4227 12.7532 14.3248 12.7275 14.2252 12.7275H11.8777V10.3701H15.6252C15.7246 10.3701 15.82 10.3328 15.8902 10.2663C15.9605 10.1999 16 10.1098 16 10.0159V2.35418C16 2.26025 15.9605 2.17016 15.8902 2.10374C15.82 2.03732 15.7246 2 15.6252 2H7.37475C7.27537 2 7.18005 2.03732 7.10976 2.10374C7.03947 2.17016 7 2.26025 7 2.35418Z" fill="#005BF0" /><path d="M7 2.35418V4.9043C7 4.99823 7.03947 5.08832 7.10976 5.15474C7.18005 5.22116 7.27537 5.25848 7.37475 5.25848C7.47413 5.25848 7.56945 5.22116 7.63974 5.15474C7.71003 5.08832 7.7495 4.99823 7.7495 4.9043V2.70695H15.2565V9.6617H7.37475C7.27537 9.6617 7.18005 9.699 7.10976 9.76543C7.03947 9.83186 7 9.9219 7 10.0159C7 10.1098 7.03947 10.1999 7.10976 10.2663C7.18005 10.3328 7.27537 10.3701 7.37475 10.3701H11.1223V12.7275H8.78081C8.68116 12.7275 8.58339 12.7532 8.49806 12.8019C8.41272 12.8506 8.34305 12.9204 8.29664 13.0038L7.46169 14.48C7.43865 14.5211 7.42444 14.5661 7.41978 14.6124C7.41517 14.6587 7.42022 14.7055 7.43471 14.7499C7.4492 14.7944 7.4728 14.8357 7.50416 14.8716C7.53553 14.9074 7.57412 14.9371 7.61759 14.9589C7.66111 14.9806 7.70869 14.9941 7.75772 14.9984C7.80674 15.0028 7.85615 14.998 7.90323 14.9844C7.95026 14.9707 7.994 14.9484 8.03192 14.9187C8.06984 14.889 8.10121 14.8526 8.12425 14.8115L8.89474 13.4373H14.1038L14.8742 14.8115C14.8973 14.8526 14.9287 14.889 14.9666 14.9187C15.0045 14.9484 15.0482 14.9707 15.0953 14.9844C15.1423 14.998 15.1918 15.0028 15.2408 14.9984C15.2898 14.9941 15.3374 14.9806 15.3809 14.9589C15.4244 14.9371 15.463 14.9074 15.4943 14.8716C15.5257 14.8357 15.5493 14.7944 15.5638 14.7499C15.5783 14.7055 15.5833 14.6587 15.5787 14.6124C15.5741 14.5661 15.5598 14.5211 15.5368 14.48L14.7094 13.0038C14.6629 12.9204 14.5933 12.8506 14.508 12.8019C14.4227 12.7532 14.3248 12.7275 14.2252 12.7275H11.8777V10.3701H15.6252C15.7246 10.3701 15.82 10.3328 15.8902 10.2663C15.9605 10.1999 16 10.1098 16 10.0159V2.35418C16 2.26025 15.9605 2.17016 15.8902 2.10374C15.82 2.03732 15.7246 2 15.6252 2H7.37475C7.27537 2 7.18005 2.03732 7.10976 2.10374C7.03947 2.17016 7 2.26025 7 2.35418Z" stroke="#005BF0" stroke-width="0.2" /></g></svg>',play_testme:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 20 26" fill="none"><path d="M1.54651 21.1221V5.72034H3.75581V6.61319C3.75581 7.05962 4.08721 7.39444 4.52907 7.39444H12.0407C12.4826 7.39444 12.814 7.05962 12.814 6.61319V5.72034H15.0233V12.0819V14.3141H16.5698V12.64V5.05069C16.5698 4.60426 16.2384 4.26944 15.7965 4.26944H12.814V3.37659C12.814 2.93016 12.4826 2.59534 12.0407 2.59534H11.157C10.936 0.921228 9.5 -0.194843 7.84302 0.0283712C6.51744 0.139978 5.52326 1.25605 5.30232 2.59534H4.52907C4.08721 2.59534 3.75581 2.93016 3.75581 3.37659V4.26944H0.773256C0.331395 4.26944 0 4.60426 0 5.05069V21.9034C0 22.3498 0.331395 22.6846 0.773256 22.6846H9.38953V21.1221H6.73837H1.54651ZM8.28488 1.47926C8.94767 1.47926 9.5 1.92569 9.72093 2.59534H6.84884C6.9593 1.92569 7.62209 1.47926 8.28488 1.47926ZM5.19186 4.15784H11.2674V5.83194H5.19186V4.15784Z" fill="#005BF0" /><circle cx="12.5" cy="18.5" r="6.7" fill="white" stroke="#005BF0" stroke-width="1.6" /><path d="M11.6804 20.9037C11.6136 20.9655 11.5224 21 11.4277 21C11.333 21 11.2419 20.9655 11.1751 20.9037L9.15707 19.047C8.94764 18.8544 8.94764 18.542 9.15707 18.3497L9.40975 18.1172C9.61924 17.9246 9.95844 17.9246 10.1679 18.1172L11.4277 19.2762L14.8321 16.1445C15.0416 15.9518 15.3812 15.9518 15.5902 16.1445L15.8429 16.377C16.0524 16.5696 16.0524 16.882 15.8429 17.0743L11.6804 20.9037Z" fill="#005BF0" /></svg>',play_showme:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100"  viewBox="0 0 20 20"><path class="mgPlayerJSqa_showme-path" fill="#005BF0" fill-rule="nonzero" d="M4.305 7.133a3.81 3.81 0 1 1 .095 7.619 3.81 3.81 0 0 1-.095-7.619zm0 6.667v.029a2.857 2.857 0 0 0 2.857-2.886A2.857 2.857 0 1 0 4.305 13.8zm11.39-6.667a3.857 3.857 0 0 1 3.81 3.81 3.81 3.81 0 1 1-3.81-3.81zm0 6.667v.029a2.857 2.857 0 0 0 2.857-2.886 2.857 2.857 0 1 0-2.857 2.857zM10 8.638a.838.838 0 1 1 0-1.676.838.838 0 0 1 0 1.676zm3.429-1.152A4.162 4.162 0 0 0 11.505 11c0 .512.098 1.02.285 1.495a2.181 2.181 0 0 0-3.58 0 4.143 4.143 0 0 0-1.639-5.01h1.277a2.181 2.181 0 0 1 4.304 0h1.277zM10 8.97c.61-.05 1.078-.56 1.076-1.171v-.095a.162.162 0 0 1 0-.067v-.076-.076a1.171 1.171 0 0 0-2.247 0v.152a.162.162 0 0 1 0 .067V7.8c0 .647.524 1.171 1.171 1.171z"/></svg>',default_guide:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M12 27.555C12 27.555 20.838 24.372 22.606 22.606C24.374 20.838 27.555 12 27.555 12C27.555 12 18.717 15.183 16.95 16.95C15.183 18.717 12 27.555 12 27.555ZM18.364 18.364L21.192 21.192C21.899 21.899 14.829 24.727 14.829 24.727C14.829 24.727 17.657 17.657 18.364 18.364Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0" /></svg>',bell:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" width="18" height="21" viewBox="0 0 18 21" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.868 17.08H3.34796V8.44001C3.34796 6.91236 3.95481 5.44728 5.03502 4.36707C6.11523 3.28686 7.58031 2.68001 9.10796 2.68001C10.6356 2.68001 12.1007 3.28686 13.1809 4.36707C14.2611 5.44728 14.868 6.91236 14.868 8.44001V17.08ZM16.788 17.08V8.44001C16.788 6.40315 15.9788 4.44971 14.5385 3.00943C13.0983 1.56915 11.1448 0.76001 9.10796 0.76001C7.07109 0.76001 5.11766 1.56915 3.67738 3.00943C2.2371 4.44971 1.42796 6.40315 1.42796 8.44001V17.08C1.17335 17.08 0.929169 17.1812 0.749134 17.3612C0.569099 17.5412 0.467957 17.7854 0.467957 18.04C0.467957 18.2946 0.569099 18.5388 0.749134 18.7188C0.929169 18.8989 1.17335 19 1.42796 19H7.18796C7.18796 19.2521 7.23762 19.5018 7.33411 19.7348C7.4306 19.9677 7.57202 20.1794 7.75031 20.3577C7.9286 20.5359 8.14026 20.6774 8.3732 20.7739C8.60615 20.8703 8.85582 20.92 9.10796 20.92C9.3601 20.92 9.60976 20.8703 9.84271 20.7739C10.0757 20.6774 10.2873 20.5359 10.4656 20.3577C10.6439 20.1794 10.7853 19.9677 10.8818 19.7348C10.9783 19.5018 11.028 19.2521 11.028 19H16.788C17.0426 19 17.2867 18.8989 17.4668 18.7188C17.6468 18.5388 17.748 18.2946 17.748 18.04C17.748 17.7854 17.6468 17.5412 17.4668 17.3612C17.2867 17.1812 17.0426 17.08 16.788 17.08Z" fill="#555555"/></svg>',close_push:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100"  viewBox="0 0 15 15" fill="none"><path d="M15 1.51071L13.4893 0L7.5 5.98929L1.51071 0L0 1.51071L5.98929 7.5L0 13.4893L1.51071 15L7.5 9.01071L13.4893 15L15 13.4893L9.01071 7.5L15 1.51071Z" fill="#757575" /></svg>',iconTaskList:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" width="33" height="32" viewBox="0 0 33 32" fill="none"><rect x="0.5" width="32" height="32" rx="4" fill="#005BF0"/><path d="M10.6813 24.3808V10.6864H12.6546V11.4803C12.6546 11.8772 12.9506 12.1749 13.3453 12.1749H20.0546C20.4493 12.1749 20.7453 11.8772 20.7453 11.4803V10.6864H22.7187V16.3427V25.6832H23.7558C23.9459 25.6832 24.1 25.5291 24.1 25.339V16.839V10.0909C24.1 9.69401 23.804 9.39629 23.4093 9.39629H20.7453V8.60239C20.7453 8.20547 20.4493 7.90775 20.0546 7.90775H19.2653C19.0679 6.41922 17.7853 5.42688 16.3053 5.62532C15.1213 5.72458 14.2333 6.71694 14.036 7.90775H13.3453C12.9506 7.90775 12.6546 8.20547 12.6546 8.60239V9.39629H9.99063C9.59599 9.39629 9.29999 9.69401 9.29999 10.0909V25.0755C9.29999 25.4725 9.59599 25.7701 9.99063 25.7701H23.6473C23.8374 25.7701 23.9915 25.6161 23.9915 25.4259V24.3808H15.3186H10.6813ZM16.7 6.91539C17.292 6.91539 17.7853 7.31238 17.9826 7.90775H15.4173C15.516 7.31238 16.108 6.91539 16.7 6.91539ZM13.9373 9.29709H19.3639V10.7856H13.9373V9.29709Z" fill="white"/><path d="M12.4525 14.6216H20.8589V15.3904H12.4525V14.6216Z" fill="white" stroke="white" stroke-width="0.5"/><path d="M12.4525 17.7742H20.8589V18.5431H12.4525V17.7742Z" fill="white" stroke="white" stroke-width="0.5"/><path d="M12.4525 20.9265H20.8589V21.6954H12.4525V20.9265Z" fill="white" stroke="white" stroke-width="0.5"/></svg>',accessibility:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 27 26" fill="none"><path d="M1.85718 13C1.85718 14.5759 2.16757 16.1363 2.77062 17.5922C3.37368 19.0481 4.25759 20.371 5.3719 21.4853C6.4862 22.5996 7.80907 23.4835 9.26498 24.0866C10.7209 24.6896 12.2813 25 13.8572 25C15.433 25 16.9935 24.6896 18.4494 24.0866C19.9053 23.4835 21.2282 22.5996 22.3425 21.4853C23.4568 20.371 24.3407 19.0481 24.9437 17.5922C25.5468 16.1363 25.8572 14.5759 25.8572 13C25.8572 11.4241 25.5468 9.86371 24.9437 8.4078C24.3407 6.95189 23.4568 5.62902 22.3425 4.51472C21.2282 3.40042 19.9053 2.5165 18.4494 1.91345C16.9935 1.31039 15.433 1 13.8572 1C12.2813 1 10.7209 1.31039 9.26498 1.91345C7.80907 2.5165 6.4862 3.40042 5.3719 4.51472C4.25759 5.62902 3.37368 6.95189 2.77062 8.4078C2.16757 9.86371 1.85718 11.4241 1.85718 13Z" stroke="#555555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M11.1905 19L13.8572 15M13.8572 15L16.5238 19M13.8572 15V12.3333M13.8572 12.3333L17.8572 11M13.8572 12.3333L9.85718 11" stroke="#555555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M13.8572 7.66658C14.2254 7.66658 14.5239 7.36811 14.5239 6.99992C14.5239 6.63173 14.2254 6.33325 13.8572 6.33325C13.489 6.33325 13.1906 6.63173 13.1906 6.99992C13.1906 7.36811 13.489 7.66658 13.8572 7.66658Z" fill="#555555" stroke="#555555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',iconDownArrow:'<svg width="16" height="10" viewBox="0 0 16 10" fill="none" ><path d="M7.77408 4.13342L7.63281 3.99247L7.49155 4.13342L1.89547 9.71731L0.415655 8.2375L7.63281 1.02034L14.85 8.2375L13.3702 9.71731L7.77408 4.13342Z" fill="black" stroke="white" stroke-width="0.4"/></svg>',iconUpArrow:'<svg width="16" height="10" viewBox="0 0 16 10" fill="none" ><path d="M7.49155 6.60486L7.63281 6.74582L7.77408 6.60486L13.3702 1.02097L14.85 2.50078L7.63281 9.71794L0.415655 2.50078L1.89547 1.02097L7.49155 6.60486Z" fill="black" fill-opacity="0.7" stroke="white" stroke-width="0.4"/></svg>',tasklist:' <svg width="40" height="40" viewBox="0 0 58 58" fill="none" ><g filter="url(#mgPlayerJSqa_filter0_d_task_list_guide)"><circle cx="29" cy="25" r="25" fill="#005BF0"/></g><path d="M20.0067 37.2828V17.3888H22.8733V18.5421C22.8733 19.1187 23.3033 19.5512 23.8767 19.5512H33.6233C34.1967 19.5512 34.6267 19.1187 34.6267 18.5421V17.3888H37.4934V25.6058V39.1747H39C39.2761 39.1747 39.5 38.9509 39.5 38.6747V26.3267V16.5238C39.5 15.9472 39.07 15.5147 38.4966 15.5147H34.6267V14.3614C34.6267 13.7848 34.1967 13.3523 33.6233 13.3523H32.4767C32.1899 11.1899 30.3266 9.74833 28.1766 10.0366C26.4566 10.1808 25.1667 11.6224 24.88 13.3523H23.8767C23.3033 13.3523 22.8733 13.7848 22.8733 14.3614V15.5147H19.0033C18.43 15.5147 18 15.9472 18 16.5238V38.292C18 38.8686 18.43 39.301 19.0033 39.301H38.8424C39.1186 39.301 39.3424 39.0772 39.3424 38.801V37.2828H26.7433H20.0067ZM28.75 11.9107C29.61 11.9107 30.3266 12.4874 30.6133 13.3523H26.8867C27.03 12.4874 27.89 11.9107 28.75 11.9107ZM24.7367 15.3706H32.6199V17.5329H24.7367V15.3706Z" fill="white"/><path d="M22.5796 23.1057H34.7917V24.2226H22.5796V23.1057Z" fill="white" stroke="white" stroke-width="0.5"/><path d="M22.5796 27.6852H34.7917V28.8022H22.5796V27.6852Z" fill="white" stroke="white" stroke-width="0.5"/><path d="M22.5796 32.2648H34.7917V33.3817H22.5796V32.2648Z" fill="white" stroke="white" stroke-width="0.5"/><defs><filter id="mgPlayerJSqa_filter0_d_task_list_guide" x="0" y="0" width="58" height="58" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset dy="4"/><feGaussianBlur stdDeviation="2"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/></filter></defs></svg>',guideShowMe:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M25.1375 15.9427H23.1482C22.5161 15.359 21.3251 15 19.9999 15C18.6747 15 17.4837 15.359 16.8516 15.9427H14.8623C12.1812 15.9427 10 18.1985 10 20.9713C10 23.7441 12.1812 26 14.8623 26C17.5434 26 19.7246 23.7441 19.7246 20.9713C19.7246 20.9346 19.7242 20.8979 19.7235 20.8611H20.2764C20.2756 20.8979 20.2753 20.9346 20.2753 20.9713C20.2753 23.7441 22.4566 26 25.1377 26C27.8188 26 30 23.7441 30 20.9713C29.9999 18.1985 27.8186 15.9427 25.1375 15.9427ZM14.8623 23.9552C13.2715 23.9552 11.9772 22.6166 11.9772 20.9713C11.9772 19.3261 13.2715 17.9875 14.8623 17.9875C16.4532 17.9875 17.7475 19.3261 17.7475 20.9713C17.7475 22.6166 16.4532 23.9552 14.8623 23.9552ZM21.3065 17.89H18.6926C18.3824 17.89 18.1303 17.6286 18.1303 17.3077C18.1303 16.9869 18.3824 16.7254 18.6926 16.7254H21.3065C21.6173 16.7254 21.8695 16.9869 21.8695 17.3077C21.8695 17.6285 21.6173 17.89 21.3065 17.89ZM25.1375 23.9552C23.5466 23.9552 22.2523 22.6166 22.2523 20.9713C22.2523 19.3261 23.5466 17.9875 25.1375 17.9875C26.7282 17.9875 28.0226 19.3261 28.0226 20.9713C28.0226 22.6166 26.7283 23.9552 25.1375 23.9552Z" fill="#ACADC1" stroke-width="0" /></svg>',guideDoItForMe:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M15.8441 24.4972C14.4834 24.4972 13.3803 25.652 13.3803 27.0765V29H14.6452V27.6678C14.6452 26.5993 15.4726 25.7332 16.4931 25.7332H23.5081C24.5287 25.7332 25.356 26.5993 25.356 27.6678V29H26.6211V27.0765C26.6211 25.652 25.518 24.4972 24.1573 24.4972H15.8441Z" fill="#ACADC1" stroke-width="0" /><path d="M12 18.8136C12 18.1065 12.5475 17.5333 13.2229 17.5333H13.6867V20.0938H13.2229C12.5475 20.0938 12 19.5206 12 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M28 18.8136C28 18.1065 27.4525 17.5333 26.7771 17.5333H26.3133V20.0938H26.7771C27.4525 20.0938 28 19.5206 28 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.7887 18.8136C19.7887 19.5206 19.2412 20.0938 18.5659 20.0938C17.8905 20.0938 17.343 19.5206 17.343 18.8136C17.343 18.1065 17.8905 17.5333 18.5659 17.5333C19.2412 17.5333 19.7887 18.1065 19.7887 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M22.7414 18.8136C22.7414 19.5206 22.1939 20.0938 21.5186 20.0938C20.8432 20.0938 20.2957 19.5206 20.2957 18.8136C20.2957 18.1065 20.8432 17.5333 21.5186 17.5333C22.1939 17.5333 22.7414 18.1065 22.7414 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.494 13.1606C19.494 13.0894 19.5492 13.0317 19.6172 13.0317H20.7202C20.7882 13.0317 20.8434 13.0894 20.8434 13.1606V15.6804H19.494V13.1606Z" fill="#ACADC1" stroke-width="0" /><path d="M18.4948 14.6198H17.279C15.9182 14.6198 14.8151 15.7746 14.8151 17.1992V20.5163C14.8151 21.9409 15.9182 23.0957 17.279 23.0957H22.7247C24.0855 23.0957 25.1886 21.9409 25.1886 20.5163V17.1992C25.1886 15.7746 24.0855 14.6198 22.7247 14.6198H21.8448V15.592H22.2026C23.2232 15.592 24.0505 16.4581 24.0505 17.5265V20.191C24.0505 21.2594 23.2232 22.1255 22.2026 22.1255H17.802C16.7815 22.1255 15.9541 21.2594 15.9541 20.191V17.5265C15.9541 16.4581 16.7815 15.592 17.802 15.592H18.4948V14.6198Z" fill="#ACADC1" stroke-width="0" /><path d="M20.8434 11.7063C20.8434 12.0964 20.5413 12.4127 20.1687 12.4127C19.7961 12.4127 19.494 12.0964 19.494 11.7063C19.494 11.3162 19.7961 11 20.1687 11C20.5413 11 20.8434 11.3162 20.8434 11.7063Z" fill="#ACADC1" stroke-width="0" /></svg>',guideTeachMe:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M13 15C13 15.3956 13.1173 15.7822 13.3371 16.1111C13.5568 16.44 13.8692 16.6964 14.2346 16.8478C14.6001 16.9991 15.0022 17.0387 15.3902 16.9616C15.7781 16.8844 16.1345 16.6939 16.4142 16.4142C16.6939 16.1345 16.8844 15.7781 16.9616 15.3902C17.0387 15.0022 16.9991 14.6001 16.8478 14.2346C16.6964 13.8692 16.44 13.5568 16.1111 13.3371C15.7822 13.1173 15.3956 13 15 13C14.4697 13.0004 13.9613 13.2113 13.5863 13.5863C13.2113 13.9613 13.0005 14.4697 13 15ZM16.1554 15C16.1554 15.2285 16.0876 15.4519 15.9607 15.6419C15.8337 15.8319 15.6533 15.98 15.4422 16.0675C15.231 16.1549 14.9987 16.1778 14.7746 16.1332C14.5505 16.0886 14.3446 15.9786 14.183 15.817C14.0214 15.6554 13.9114 15.4495 13.8668 15.2254C13.8222 15.0013 13.8451 14.769 13.9325 14.5578C14.02 14.3467 14.1681 14.1663 14.3581 14.0393C14.5481 13.9124 14.7715 13.8446 15 13.8446C15.3063 13.845 15.5999 13.9669 15.8165 14.1835C16.0331 14.4001 16.155 14.6937 16.1554 15Z" fill="#ACADC1" stroke-width="0.2" /><path d="M13 15C13 15.3956 13.1173 15.7822 13.3371 16.1111C13.5568 16.44 13.8692 16.6964 14.2346 16.8478C14.6001 16.9991 15.0022 17.0387 15.3902 16.9616C15.7781 16.8844 16.1345 16.6939 16.4142 16.4142C16.6939 16.1345 16.8844 15.7781 16.9616 15.3902C17.0387 15.0022 16.9991 14.6001 16.8478 14.2346C16.6964 13.8692 16.44 13.5568 16.1111 13.3371C15.7822 13.1173 15.3956 13 15 13C14.4697 13.0004 13.9613 13.2113 13.5863 13.5863C13.2113 13.9613 13.0005 14.4697 13 15ZM16.1554 15C16.1554 15.2285 16.0876 15.4519 15.9607 15.6419C15.8337 15.8319 15.6533 15.98 15.4422 16.0675C15.231 16.1549 14.9987 16.1778 14.7746 16.1332C14.5505 16.0886 14.3446 15.9786 14.183 15.817C14.0214 15.6554 13.9114 15.4495 13.8668 15.2254C13.8222 15.0013 13.8451 14.769 13.9325 14.5578C14.02 14.3467 14.1681 14.1663 14.3581 14.0393C14.5481 13.9124 14.7715 13.8446 15 13.8446C15.3063 13.845 15.5999 13.9669 15.8165 14.1835C16.0331 14.4001 16.155 14.6937 16.1554 15Z" stroke="#ACADC1" stroke-width="0.2" /><path d="M12.3543 21.6855C12.3779 21.9178 12.452 22.1407 12.5706 22.3356C12.6891 22.5306 12.8486 22.692 13.036 22.8066L13.5899 27.214C13.6125 27.4302 13.7076 27.6298 13.8568 27.7748C14.0061 27.9197 14.1992 27.9999 14.3994 28H15.3197C15.52 27.9998 15.7133 27.9195 15.8626 27.7742C16.012 27.6289 16.1069 27.4289 16.1292 27.2124L16.4019 24.5115L16.9444 20.0023L17.5522 20.5474C17.7246 20.7022 17.9405 20.7881 18.164 20.7909C18.3875 20.7937 18.6051 20.7132 18.7807 20.5628L20.6128 18.9923C20.805 18.8312 20.9364 18.5992 20.9821 18.3401C21.0279 18.081 20.985 17.8126 20.8613 17.5855C20.7892 17.4573 20.6929 17.3471 20.5788 17.2622C20.4648 17.1774 20.3354 17.1198 20.1993 17.0932C20.0633 17.0667 19.9236 17.0718 19.7895 17.1082C19.6553 17.1446 19.5298 17.2115 19.4212 17.3044L18.1885 18.3607L16.9444 17.2442C16.7693 17.087 16.5494 17.0007 16.3223 17.0002H15.7543C15.6912 16.9981 15.6285 17.0116 15.5709 17.0397C15.5133 17.0677 15.4624 17.1097 15.4219 17.1624L14.8538 17.9252L14.3 17.1701C14.2614 17.1169 14.2122 17.074 14.1561 17.0446C14.1 17.0151 14.0384 17 13.9762 17.0002H13.5402C13.3226 17.0003 13.1076 17.0505 12.9092 17.1475C12.7108 17.2444 12.5336 17.386 12.3891 17.5628C12.2446 17.7396 12.1362 17.9476 12.0709 18.1733C12.0057 18.3989 11.9851 18.637 12.0106 18.8719L12.3543 21.6855ZM12.9224 18.075C12.9994 17.9782 13.0947 17.9004 13.2018 17.8471C13.3088 17.7938 13.4252 17.7662 13.543 17.7662H13.8356L14.4718 18.6294C14.5185 18.6931 14.5778 18.7446 14.6453 18.7799C14.7128 18.8153 14.7867 18.8337 14.8617 18.8337C14.9366 18.8337 15.0105 18.8153 15.078 18.7799C15.1455 18.7446 15.2048 18.6931 15.2515 18.6294L15.8892 17.7646H16.3238C16.386 17.7642 16.4463 17.7878 16.4942 17.831L17.9641 19.1545C18.0273 19.2099 18.1059 19.2401 18.1871 19.2401C18.2682 19.2401 18.3469 19.2099 18.41 19.1545L19.8686 17.9052C19.9159 17.8647 19.9745 17.8429 20.0347 17.8434C20.081 17.8434 20.1264 17.8564 20.1667 17.881C20.207 17.9056 20.2408 17.941 20.2648 17.9839C20.2975 18.0499 20.307 18.1265 20.2916 18.1995C20.2762 18.2725 20.2369 18.3369 20.181 18.3808L18.3404 19.9559C18.2924 19.9966 18.2331 20.0187 18.1722 20.0187C18.1112 20.0187 18.052 19.9966 18.0038 19.9559L16.9018 18.9661C16.8529 18.9222 16.7941 18.8933 16.7315 18.8825C16.6689 18.8717 16.6048 18.8792 16.5458 18.9045C16.4869 18.9297 16.4352 18.9716 16.3961 19.0259C16.3571 19.0802 16.3321 19.1448 16.3238 19.2132L15.6918 24.4204L15.4248 27.1275C15.422 27.1553 15.4099 27.1811 15.3908 27.1999C15.3717 27.2187 15.3469 27.2292 15.3211 27.2294H14.3994C14.3724 27.2287 14.3467 27.2171 14.3273 27.1968C14.3078 27.1765 14.296 27.149 14.2943 27.1198L13.7134 22.4947C13.7046 22.4256 13.6786 22.3603 13.6383 22.3059C13.5981 22.2515 13.545 22.21 13.4848 22.1859C13.3697 22.1404 13.2687 22.0608 13.1934 21.9559C13.118 21.851 13.0714 21.7252 13.0587 21.5929L12.7093 18.7777C12.6962 18.6506 12.7083 18.5221 12.7448 18.4006C12.7813 18.2791 12.8414 18.1675 12.9209 18.0735L12.9224 18.075Z" fill="#ACADC1" stroke-width="0.2" /><path d="M12.3543 21.6855C12.3779 21.9178 12.452 22.1407 12.5706 22.3356C12.6891 22.5306 12.8486 22.692 13.036 22.8066L13.5899 27.214C13.6125 27.4302 13.7076 27.6298 13.8568 27.7748C14.0061 27.9197 14.1992 27.9999 14.3994 28H15.3197C15.52 27.9998 15.7133 27.9195 15.8626 27.7742C16.012 27.6289 16.1069 27.4289 16.1292 27.2124L16.4019 24.5115L16.9444 20.0023L17.5522 20.5474C17.7246 20.7022 17.9405 20.7881 18.164 20.7909C18.3875 20.7937 18.6051 20.7132 18.7807 20.5628L20.6128 18.9923C20.805 18.8312 20.9364 18.5992 20.9821 18.3401C21.0279 18.081 20.985 17.8126 20.8613 17.5855C20.7892 17.4573 20.6929 17.3471 20.5788 17.2622C20.4648 17.1774 20.3354 17.1198 20.1993 17.0932C20.0633 17.0667 19.9236 17.0718 19.7895 17.1082C19.6553 17.1446 19.5298 17.2115 19.4212 17.3044L18.1885 18.3607L16.9444 17.2442C16.7693 17.087 16.5494 17.0007 16.3223 17.0002H15.7543C15.6912 16.9981 15.6285 17.0116 15.5709 17.0397C15.5133 17.0677 15.4624 17.1097 15.4219 17.1624L14.8538 17.9252L14.3 17.1701C14.2614 17.1169 14.2122 17.074 14.1561 17.0446C14.1 17.0151 14.0384 17 13.9762 17.0002H13.5402C13.3226 17.0003 13.1076 17.0505 12.9092 17.1475C12.7108 17.2444 12.5336 17.386 12.3891 17.5628C12.2446 17.7396 12.1362 17.9476 12.0709 18.1733C12.0057 18.3989 11.9851 18.637 12.0106 18.8719L12.3543 21.6855ZM12.9224 18.075C12.9994 17.9782 13.0947 17.9004 13.2018 17.8471C13.3088 17.7938 13.4252 17.7662 13.543 17.7662H13.8356L14.4718 18.6294C14.5185 18.6931 14.5778 18.7446 14.6453 18.7799C14.7128 18.8153 14.7867 18.8337 14.8617 18.8337C14.9366 18.8337 15.0105 18.8153 15.078 18.7799C15.1455 18.7446 15.2048 18.6931 15.2515 18.6294L15.8892 17.7646H16.3238C16.386 17.7642 16.4463 17.7878 16.4942 17.831L17.9641 19.1545C18.0273 19.2099 18.1059 19.2401 18.1871 19.2401C18.2682 19.2401 18.3469 19.2099 18.41 19.1545L19.8686 17.9052C19.9159 17.8647 19.9745 17.8429 20.0347 17.8434C20.081 17.8434 20.1264 17.8564 20.1667 17.881C20.207 17.9056 20.2408 17.941 20.2648 17.9839C20.2975 18.0499 20.307 18.1265 20.2916 18.1995C20.2762 18.2725 20.2369 18.3369 20.181 18.3808L18.3404 19.9559C18.2924 19.9966 18.2331 20.0187 18.1722 20.0187C18.1112 20.0187 18.052 19.9966 18.0038 19.9559L16.9018 18.9661C16.8529 18.9222 16.7941 18.8933 16.7315 18.8825C16.6689 18.8717 16.6048 18.8792 16.5458 18.9045C16.4869 18.9297 16.4352 18.9716 16.3961 19.0259C16.3571 19.0802 16.3321 19.1448 16.3238 19.2132L15.6918 24.4204L15.4248 27.1275C15.422 27.1553 15.4099 27.1811 15.3908 27.1999C15.3717 27.2187 15.3469 27.2292 15.3211 27.2294H14.3994C14.3724 27.2287 14.3467 27.2171 14.3273 27.1968C14.3078 27.1765 14.296 27.149 14.2943 27.1198L13.7134 22.4947C13.7046 22.4256 13.6786 22.3603 13.6383 22.3059C13.5981 22.2515 13.545 22.21 13.4848 22.1859C13.3697 22.1404 13.2687 22.0608 13.1934 21.9559C13.118 21.851 13.0714 21.7252 13.0587 21.5929L12.7093 18.7777C12.6962 18.6506 12.7083 18.5221 12.7448 18.4006C12.7813 18.2791 12.8414 18.1675 12.9209 18.0735L12.9224 18.075Z" stroke="#ACADC1" stroke-width="0.2" /><path d="M18 14.3542V16.9043C18 16.9982 18.0395 17.0883 18.1098 17.1547C18.18 17.2212 18.2754 17.2585 18.3747 17.2585C18.4741 17.2585 18.5695 17.2212 18.6397 17.1547C18.71 17.0883 18.7495 16.9982 18.7495 16.9043V14.707H26.2565V21.6617H18.3747C18.2754 21.6617 18.18 21.699 18.1098 21.7654C18.0395 21.8319 18 21.9219 18 22.0159C18 22.1098 18.0395 22.1999 18.1098 22.2663C18.18 22.3328 18.2754 22.3701 18.3747 22.3701H22.1223V24.7275H19.7808C19.6812 24.7275 19.5834 24.7532 19.4981 24.8019C19.4127 24.8506 19.343 24.9204 19.2966 25.0038L18.4617 26.48C18.4387 26.5211 18.4244 26.5661 18.4198 26.6124C18.4152 26.6587 18.4202 26.7055 18.4347 26.7499C18.4492 26.7944 18.4728 26.8357 18.5042 26.8716C18.5355 26.9074 18.5741 26.9371 18.6176 26.9589C18.6611 26.9806 18.7087 26.9941 18.7577 26.9984C18.8067 27.0028 18.8562 26.998 18.9032 26.9844C18.9503 26.9707 18.994 26.9484 19.0319 26.9187C19.0698 26.889 19.1012 26.8526 19.1243 26.8115L19.8947 25.4373H25.1038L25.8742 26.8115C25.8973 26.8526 25.9287 26.889 25.9666 26.9187C26.0045 26.9484 26.0482 26.9707 26.0953 26.9844C26.1423 26.998 26.1918 27.0028 26.2408 26.9984C26.2898 26.9941 26.3374 26.9806 26.3809 26.9589C26.4244 26.9371 26.463 26.9074 26.4943 26.8716C26.5257 26.8357 26.5493 26.7944 26.5638 26.7499C26.5783 26.7055 26.5833 26.6587 26.5787 26.6124C26.5741 26.5661 26.5598 26.5211 26.5368 26.48L25.7094 25.0038C25.6629 24.9204 25.5933 24.8506 25.508 24.8019C25.4227 24.7532 25.3248 24.7275 25.2252 24.7275H22.8777V22.3701H26.6252C26.7246 22.3701 26.82 22.3328 26.8902 22.2663C26.9605 22.1999 27 22.1098 27 22.0159V14.3542C27 14.2602 26.9605 14.1702 26.8902 14.1037C26.82 14.0373 26.7246 14 26.6252 14H18.3747C18.2754 14 18.18 14.0373 18.1098 14.1037C18.0395 14.1702 18 14.2602 18 14.3542Z" fill="#ACADC1" stroke-width="0.2" /><path d="M18 14.3542V16.9043C18 16.9982 18.0395 17.0883 18.1098 17.1547C18.18 17.2212 18.2754 17.2585 18.3747 17.2585C18.4741 17.2585 18.5695 17.2212 18.6397 17.1547C18.71 17.0883 18.7495 16.9982 18.7495 16.9043V14.707H26.2565V21.6617H18.3747C18.2754 21.6617 18.18 21.699 18.1098 21.7654C18.0395 21.8319 18 21.9219 18 22.0159C18 22.1098 18.0395 22.1999 18.1098 22.2663C18.18 22.3328 18.2754 22.3701 18.3747 22.3701H22.1223V24.7275H19.7808C19.6812 24.7275 19.5834 24.7532 19.4981 24.8019C19.4127 24.8506 19.343 24.9204 19.2966 25.0038L18.4617 26.48C18.4387 26.5211 18.4244 26.5661 18.4198 26.6124C18.4152 26.6587 18.4202 26.7055 18.4347 26.7499C18.4492 26.7944 18.4728 26.8357 18.5042 26.8716C18.5355 26.9074 18.5741 26.9371 18.6176 26.9589C18.6611 26.9806 18.7087 26.9941 18.7577 26.9984C18.8067 27.0028 18.8562 26.998 18.9032 26.9844C18.9503 26.9707 18.994 26.9484 19.0319 26.9187C19.0698 26.889 19.1012 26.8526 19.1243 26.8115L19.8947 25.4373H25.1038L25.8742 26.8115C25.8973 26.8526 25.9287 26.889 25.9666 26.9187C26.0045 26.9484 26.0482 26.9707 26.0953 26.9844C26.1423 26.998 26.1918 27.0028 26.2408 26.9984C26.2898 26.9941 26.3374 26.9806 26.3809 26.9589C26.4244 26.9371 26.463 26.9074 26.4943 26.8716C26.5257 26.8357 26.5493 26.7944 26.5638 26.7499C26.5783 26.7055 26.5833 26.6587 26.5787 26.6124C26.5741 26.5661 26.5598 26.5211 26.5368 26.48L25.7094 25.0038C25.6629 24.9204 25.5933 24.8506 25.508 24.8019C25.4227 24.7532 25.3248 24.7275 25.2252 24.7275H22.8777V22.3701H26.6252C26.7246 22.3701 26.82 22.3328 26.8902 22.2663C26.9605 22.1999 27 22.1098 27 22.0159V14.3542C27 14.2602 26.9605 14.1702 26.8902 14.1037C26.82 14.0373 26.7246 14 26.6252 14H18.3747C18.2754 14 18.18 14.0373 18.1098 14.1037C18.0395 14.1702 18 14.2602 18 14.3542Z" stroke="#ACADC1" stroke-width="0.2" /></svg>',btnBackBreadcrumb:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" version="1.1" class="mgPlayerJSqa_Capa_1" x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><path class="mgPlayerJSqa_st0" d="M23,3.1c0.9-0.9,2.3-0.9,3.2,0c0.9,0.9,0.9,2.3,0,3.2L9.8,22.7h35.9c1.3,0,2.3,1,2.3,2.3s-1,2.3-2.3,2.3H9.8l16.4,16.4c0.9,0.9,0.9,2.4,0,3.2c-0.9,0.9-2.3,0.9-3.2,0L2.7,26.6c-0.9-0.9-0.9-2.3,0-3.2L23,3.1z"></path></svg>',guideViewDownload:'<svg  height="512pt" viewBox="0 0 512 512" width="512pt"><path d="m448 512h-384c-35.285156 0-64-28.714844-64-64v-85.332031c0-11.777344 9.558594-21.335938 21.332031-21.335938 11.777344 0 21.335938 9.558594 21.335938 21.335938v85.332031c0 11.753906 9.578125 21.332031 21.332031 21.332031h384c11.753906 0 21.332031-9.578125 21.332031-21.332031v-85.332031c0-11.777344 9.558594-21.335938 21.335938-21.335938 11.773437 0 21.332031 9.558594 21.332031 21.335938v85.332031c0 35.285156-28.714844 64-64 64zm0 0"/><path d="m356.414062 271.082031-85.332031 85.332031c-8.339843 8.34375-21.824219 8.34375-30.164062 0l-85.332031-85.332031c-6.101563-6.101562-7.9375-15.273437-4.632813-23.253906 3.308594-7.957031 11.09375-13.160156 19.714844-13.160156h64v-213.335938c0-11.773437 9.554687-21.332031 21.332031-21.332031s21.332031 9.558594 21.332031 21.332031v213.335938h64c8.621094 0 16.40625 5.203125 19.714844 13.160156 3.304687 7.980469 1.46875 17.152344-4.632813 23.253906zm0 0"/></svg>',csvDownload:'<svg  height="12pt" viewBox="0 0 512 512" width="12pt"><path d="m448 512h-384c-35.285156 0-64-28.714844-64-64v-85.332031c0-11.777344 9.558594-21.335938 21.332031-21.335938 11.777344 0 21.335938 9.558594 21.335938 21.335938v85.332031c0 11.753906 9.578125 21.332031 21.332031 21.332031h384c11.753906 0 21.332031-9.578125 21.332031-21.332031v-85.332031c0-11.777344 9.558594-21.335938 21.335938-21.335938 11.773437 0 21.332031 9.558594 21.332031 21.335938v85.332031c0 35.285156-28.714844 64-64 64zm0 0"/><path d="m356.414062 271.082031-85.332031 85.332031c-8.339843 8.34375-21.824219 8.34375-30.164062 0l-85.332031-85.332031c-6.101563-6.101562-7.9375-15.273437-4.632813-23.253906 3.308594-7.957031 11.09375-13.160156 19.714844-13.160156h64v-213.335938c0-11.773437 9.554687-21.332031 21.332031-21.332031s21.332031 9.558594 21.332031 21.332031v213.335938h64c8.621094 0 16.40625 5.203125 19.714844 13.160156 3.304687 7.980469 1.46875 17.152344-4.632813 23.253906zm0 0"/></svg>',noStep:'<svg width="349" height="264" viewBox="0 0 349 264" fill="none"><path d="M236 84.4294C236 99.0289 224.123 110.906 209.523 110.906H154.078C142.455 110.906 133 101.451 133 89.8286C133 78.4008 142.141 69.0679 153.496 68.7589C151.915 54.2263 163.814 40.0938 179.828 40.0938C191.412 40.0938 201.5 47.5847 205 58.338C221.283 55.5334 236 68.1293 236 84.4294Z" fill="#F5FAFD"/><g clip-path="url(#clip0)"><path d="M138 31.7742C138 36.3099 134.31 40 129.774 40H112.548C108.938 40 106 37.0625 106 33.4516C106 29.9012 108.84 27.0017 112.368 26.9057C111.876 22.3907 115.573 18 120.548 18C124.147 18 127.281 20.3273 128.369 23.6681C133.428 22.7968 138 26.7101 138 31.7742Z" fill="#F5FAFD"/></g><g clip-path="url(#clip1)"><path d="M258 12.9073C258 16.0256 255.463 18.5625 252.345 18.5625H240.502C238.02 18.5625 236 16.5429 236 14.0605C236 11.6196 237.953 9.62615 240.378 9.56015C240.04 6.45611 242.582 3.4375 246.002 3.4375C248.476 3.4375 250.631 5.03751 251.379 7.33434C254.857 6.73528 258 9.42567 258 12.9073Z" fill="#F5FAFD"/></g><path opacity="0.2" d="M301.093 261.757C300.945 262.037 300.772 262.304 300.576 262.554C298.855 261.342 297.104 260.156 295.324 258.994C295.36 258.919 295.399 258.842 295.441 258.764C295.853 257.968 296.473 257.297 297.234 256.822C298.218 256.225 299.327 256.082 300.224 256.565C301.12 257.048 301.646 258.036 301.7 259.182C301.732 260.079 301.522 260.968 301.093 261.757V261.757Z" fill="#3F3D56"/><path opacity="0.2" d="M303.5 257.26C304.583 255.219 304.195 252.896 302.634 252.071C301.073 251.246 298.93 252.231 297.847 254.271C296.764 256.311 297.152 258.634 298.713 259.459C300.274 260.285 302.417 259.3 303.5 257.26Z" fill="#3F3D56"/><path opacity="0.2" d="M305.896 252.745C306.979 250.705 306.591 248.382 305.03 247.556C303.469 246.731 301.326 247.716 300.243 249.756C299.161 251.796 299.549 254.119 301.11 254.945C302.671 255.77 304.814 254.785 305.896 252.745Z" fill="#3F3D56"/><path opacity="0.2" d="M308.293 248.226C309.376 246.186 308.988 243.863 307.427 243.038C305.866 242.212 303.723 243.197 302.64 245.238C301.557 247.278 301.945 249.601 303.506 250.426C305.067 251.251 307.21 250.267 308.293 248.226Z" fill="#3F3D56"/><path opacity="0.2" d="M310.689 243.709C311.772 241.669 311.384 239.346 309.823 238.52C308.262 237.695 306.119 238.68 305.036 240.72C303.954 242.76 304.342 245.083 305.903 245.909C307.464 246.734 309.607 245.749 310.689 243.709Z" fill="#3F3D56"/><path d="M313.663 205.69C313.538 205 313.46 204.302 313.429 203.601L321.5 206.31L313.429 202.133C313.547 200.045 314.091 198.003 315.028 196.133C315.965 194.262 317.276 192.603 318.879 191.257L326.699 202.539L320.628 189.986C322.411 188.873 324.406 188.14 326.486 187.83C328.566 187.52 330.688 187.641 332.72 188.185C334.751 188.728 336.649 189.684 338.294 190.991C339.94 192.299 341.299 193.93 342.285 195.784C343.272 197.639 343.866 199.676 344.03 201.769C344.195 203.862 343.925 205.966 343.24 207.951C342.554 209.936 341.467 211.759 340.045 213.306C338.623 214.853 336.898 216.092 334.976 216.945C335.174 218.027 335.254 219.128 335.215 220.227L322.914 220.129L335.027 222.119C334.618 224.632 333.589 227.003 332.031 229.019C330.474 231.034 328.438 232.631 326.107 233.663C326.62 236.489 326.327 239.402 325.26 242.068C324.193 244.735 322.396 247.049 320.075 248.744C317.753 250.44 315 251.449 312.13 251.656C309.261 251.863 306.391 251.26 303.849 249.916C301.307 248.572 299.195 246.541 297.755 244.055C296.314 241.569 295.604 238.729 295.705 235.859C295.805 232.989 296.713 230.206 298.324 227.826C299.935 225.447 302.184 223.569 304.814 222.405C304.203 219.031 304.745 215.549 306.354 212.519C307.962 209.489 310.543 207.086 313.684 205.696L313.663 205.69Z" fill="#F5FAFD"/><path d="M333.42 226.839C331.814 229.873 329.231 232.278 326.087 233.666C326.601 236.492 326.307 239.404 325.241 242.071C324.174 244.738 322.377 247.052 320.055 248.747C317.733 250.443 314.98 251.452 312.111 251.659C309.242 251.866 306.372 251.263 303.829 249.919C301.287 248.575 299.175 246.544 297.735 244.058C296.295 241.572 295.584 238.732 295.685 235.862C295.786 232.992 296.694 230.208 298.305 227.829C299.916 225.45 302.165 223.571 304.795 222.408C304.2 219.15 334.227 225.32 333.42 226.839Z" fill="#F5FAFD"/><path opacity="0.2" d="M291.489 171.503C291.303 171.981 291.078 172.443 290.816 172.885C287.803 171.283 284.753 169.726 281.666 168.212C281.708 168.084 281.756 167.952 281.807 167.821C282.309 166.462 283.166 165.261 284.288 164.342C285.743 163.178 287.498 162.74 289.07 163.333C290.643 163.927 291.647 165.422 291.961 167.248C292.188 168.683 292.025 170.152 291.489 171.503Z" fill="#3F3D56"/><path opacity="0.2" d="M294.445 163.778C295.778 160.283 294.691 156.627 292.017 155.611C289.343 154.595 286.095 156.604 284.763 160.098C283.43 163.593 284.517 167.249 287.191 168.265C289.865 169.281 293.113 167.272 294.445 163.778Z" fill="#3F3D56"/><path opacity="0.2" d="M297.395 156.045C298.727 152.551 297.64 148.894 294.966 147.878C292.292 146.862 289.044 148.871 287.712 152.366C286.379 155.86 287.466 159.517 290.14 160.533C292.814 161.549 296.062 159.54 297.395 156.045Z" fill="#3F3D56"/><path opacity="0.2" d="M300.344 148.31C301.677 144.815 300.589 141.159 297.915 140.143C295.242 139.127 291.994 141.136 290.661 144.631C289.328 148.125 290.416 151.782 293.09 152.798C295.763 153.814 299.011 151.804 300.344 148.31Z" fill="#3F3D56"/><path opacity="0.2" d="M303.291 140.577C304.624 137.083 303.537 133.426 300.863 132.41C298.189 131.394 294.941 133.404 293.608 136.898C292.276 140.393 293.363 144.049 296.037 145.065C298.711 146.081 301.959 144.072 303.291 140.577Z" fill="#3F3D56"/><path d="M300.494 78.9265C300.153 77.835 299.889 76.7214 299.702 75.5935L313.219 78.3417L299.421 73.2154C299.194 69.8492 299.658 66.4724 300.785 63.2914C301.911 60.1104 303.675 57.1923 305.97 54.7156L320.785 71.267L308.529 52.3076C311.174 50.1753 314.23 48.6084 317.507 47.7041C320.783 46.7997 324.212 46.5773 327.578 47.0506C330.945 47.524 334.178 48.6829 337.077 50.4555C339.976 52.2281 342.48 54.5766 344.432 57.3551C346.384 60.1337 347.743 63.2831 348.424 66.6078C349.106 69.9326 349.096 73.3617 348.395 76.6825C347.694 80.0032 346.316 83.1446 344.348 85.9118C342.38 88.679 339.863 91.0128 336.954 92.7686C337.485 94.4692 337.831 96.2218 337.988 97.9963L318.208 100.285L338.066 101.076C337.911 105.194 336.73 109.209 334.63 112.756C332.53 116.304 329.576 119.274 326.037 121.396C327.423 125.831 327.531 130.567 326.349 135.061C325.166 139.555 322.741 143.627 319.35 146.81C315.96 149.994 311.74 152.161 307.174 153.064C302.608 153.967 297.879 153.57 293.529 151.917C289.178 150.265 285.381 147.424 282.571 143.719C279.761 140.015 278.052 135.596 277.639 130.968C277.226 126.34 278.125 121.689 280.235 117.547C282.344 113.405 285.579 109.939 289.568 107.545C287.908 102.242 288.081 96.5364 290.061 91.3443C292.041 86.1523 295.712 81.7755 300.485 78.9175L300.494 78.9265Z" fill="#F5FAFD"/><path opacity="0.1" d="M336.454 108.977C334.48 114.17 330.809 118.546 326.033 121.396C327.419 125.831 327.527 130.567 326.345 135.061C325.162 139.555 322.737 143.627 319.346 146.81C315.956 149.994 311.736 152.161 307.17 153.064C302.604 153.967 297.875 153.57 293.525 151.917C289.174 150.265 285.377 147.424 282.567 143.72C279.757 140.015 278.048 135.596 277.635 130.968C277.222 126.34 278.122 121.689 280.231 117.547C282.341 113.405 285.575 109.939 289.564 107.545C287.971 102.433 337.446 106.378 336.454 108.977Z" fill="#F5FAFD"/><g opacity="0.2"><path opacity="0.2" d="M53.3216 197.226C53.4734 197.819 53.6733 198.397 53.9194 198.957C57.7058 197.507 61.535 196.114 65.4071 194.78C65.3742 194.622 65.3413 194.46 65.2995 194.296C64.9089 192.617 64.0761 191.071 62.8872 189.821C61.3387 188.233 59.333 187.457 57.4049 187.929C55.4768 188.4 54.0569 190.017 53.4143 192.121C52.9267 193.784 52.8947 195.547 53.3216 197.226V197.226Z" fill="#3F3D56"/><path opacity="0.2" d="M58.8947 194.022C62.2001 193.216 64.0233 189.062 62.9669 184.742C61.9105 180.423 58.3745 177.575 55.069 178.38C51.7636 179.186 49.9404 183.34 50.9968 187.66C52.0532 191.979 55.5892 194.827 58.8947 194.022Z" fill="#3F3D56"/><path opacity="0.2" d="M56.5548 184.461C59.8603 183.656 61.6835 179.501 60.627 175.182C59.5706 170.863 56.0346 168.014 52.7292 168.82C49.4237 169.625 47.6005 173.78 48.657 178.099C49.7134 182.418 53.2494 185.267 56.5548 184.461Z" fill="#3F3D56"/><path opacity="0.2" d="M54.2228 174.904C57.5283 174.098 59.3514 169.944 58.295 165.624C57.2386 161.305 53.7026 158.457 50.3971 159.262C47.0917 160.068 45.2685 164.222 46.3249 168.541C47.3814 172.861 50.9174 175.709 54.2228 174.904Z" fill="#3F3D56"/><path opacity="0.2" d="M51.8849 165.346C55.1904 164.54 57.0136 160.386 55.9571 156.067C54.9007 151.747 51.3647 148.899 48.0593 149.705C44.7538 150.51 42.9306 154.665 43.987 158.984C45.0435 163.303 48.5795 166.151 51.8849 165.346Z" fill="#3F3D56"/><path opacity="0.2" d="M56.371 86.6637C56.9363 85.4266 57.4138 84.1513 57.7998 82.8473L41.4457 84.0975L58.4844 80.0783C59.2509 76.1378 59.2033 72.0825 58.3444 68.161C57.4855 64.2396 55.8334 60.5344 53.4894 57.2728L33.5571 74.6507L50.8259 54.083C48.0216 51.168 44.6464 48.8602 40.9102 47.3032C37.1741 45.7462 33.1569 44.9732 29.1086 45.0325C25.0603 45.0917 21.0675 45.9818 17.3787 47.6475C13.6898 49.3131 10.3838 51.7187 7.66629 54.7144C4.94877 57.7102 2.87789 61.2321 1.58249 65.0611C0.287087 68.8901 -0.205124 72.9442 0.136476 76.9712C0.478076 80.9982 1.64618 84.9119 3.56812 88.4689C5.49005 92.026 8.12471 95.1502 11.3082 97.6472C10.4296 99.5742 9.76118 101.59 9.31435 103.66L32.3166 109.275L8.76731 107.282C8.34053 112.164 9.14014 117.076 11.0938 121.572C13.0474 126.068 16.0934 130.007 19.956 133.033C17.6617 138.064 16.832 143.638 17.5618 149.118C18.2916 154.598 20.5514 159.762 24.083 164.02C27.6145 168.278 32.2752 171.459 37.5321 173.198C42.789 174.936 48.4301 175.164 53.8102 173.853C59.1904 172.542 64.0925 169.747 67.9561 165.787C71.8197 161.826 74.4889 156.86 75.6585 151.457C76.828 146.054 76.4507 140.431 74.5698 135.231C72.6888 130.032 69.3801 125.466 65.0219 122.055C67.7611 116.041 68.3957 109.282 66.8235 102.865C65.2513 96.447 61.5637 90.7433 56.3531 86.6696L56.371 86.6637Z" fill="#0078D4"/><path opacity="0.1" d="M9.494 116.83C11.0532 123.253 14.7398 128.962 19.9563 133.032C17.662 138.064 16.8323 143.638 17.5621 149.118C18.2919 154.597 20.5517 159.762 24.0833 164.02C27.6148 168.278 32.2755 171.458 37.5324 173.197C42.7893 174.936 48.4304 175.163 53.8105 173.853C59.1907 172.542 64.0928 169.747 67.9564 165.786C71.82 161.826 74.4892 156.86 75.6588 151.457C76.8283 146.053 76.451 140.43 74.5701 135.231C72.6891 130.032 69.3804 125.466 65.0222 122.055C67.6766 116.242 8.71381 113.616 9.494 116.83Z" fill="#F5FAFD"/></g><path d="M315.753 78.9326H26.1735C25.8343 78.933 25.4985 79.0001 25.1853 79.13C24.8721 79.2599 24.5877 79.4501 24.3481 79.6898C24.1086 79.9295 23.9186 80.2139 23.7892 80.5268C23.6598 80.8398 23.5934 81.1751 23.5938 81.5136V258.423C23.5926 259.106 23.7262 259.782 23.9869 260.414C24.2477 261.045 24.6305 261.619 25.1135 262.103C25.5964 262.587 26.1702 262.971 26.8018 263.233C27.4335 263.496 28.1108 263.632 28.795 263.633H313.132C313.816 263.632 314.493 263.496 315.125 263.233C315.757 262.971 316.33 262.587 316.813 262.103C317.296 261.619 317.679 261.045 317.94 260.414C318.201 259.782 318.334 259.106 318.333 258.423V81.5136C318.333 81.1751 318.267 80.8398 318.138 80.5268C318.008 80.2139 317.818 79.9295 317.579 79.6898C317.339 79.4501 317.055 79.2599 316.741 79.13C316.428 79.0001 316.092 78.933 315.753 78.9326V78.9326Z" fill="url(#paint0_linear)"/><path d="M317.162 89.916V257.381C317.162 258.747 316.619 260.056 315.652 261.022C314.685 261.988 313.374 262.531 312.006 262.532H29.9739C28.6055 262.532 27.2932 261.989 26.3256 261.023C25.358 260.057 24.8145 258.747 24.8145 257.381V89.916H317.162Z" fill="white"/><path d="M259 88V263H310.835C312.47 263 314.038 262.456 315.194 261.489C316.35 260.521 317 259.208 317 257.839V88.015L259 88Z" fill="#F0F0F5"/><path d="M317.162 82.4741V89.9158H24.8145V82.4741C24.8145 81.7967 25.084 81.147 25.5639 80.668C26.0438 80.189 26.6946 79.9199 27.3732 79.9199H314.604C315.282 79.9199 315.933 80.189 316.413 80.668C316.893 81.147 317.162 81.7967 317.162 82.4741Z" fill="#EDEDF4"/><path opacity="0.8" d="M29.4476 86.0336C30.108 86.0336 30.6433 85.4992 30.6433 84.84C30.6433 84.1809 30.108 83.6465 29.4476 83.6465C28.7873 83.6465 28.252 84.1809 28.252 84.84C28.252 85.4992 28.7873 86.0336 29.4476 86.0336Z" fill="#FA5959"/><path opacity="0.8" d="M32.7348 86.0336C33.3951 86.0336 33.9305 85.4992 33.9305 84.84C33.9305 84.1809 33.3951 83.6465 32.7348 83.6465C32.0744 83.6465 31.5391 84.1809 31.5391 84.84C31.5391 85.4992 32.0744 86.0336 32.7348 86.0336Z" fill="#FED253"/><path opacity="0.8" d="M36.0238 86.0336C36.6842 86.0336 37.2195 85.4992 37.2195 84.84C37.2195 84.1809 36.6842 83.6465 36.0238 83.6465C35.3635 83.6465 34.8281 84.1809 34.8281 84.84C34.8281 85.4992 35.3635 86.0336 36.0238 86.0336Z" fill="#8CCF4D"/><path d="M268 105H312V114H268V105Z" fill="white"/><path d="M268 124H312V133H268V124Z" fill="white"/><path d="M268 143H312V153H268V143Z" fill="white"/><path d="M268 163H312V172H268V163Z" fill="white"/><path d="M268 182H312V191H268V182Z" fill="white"/><path d="M188 75.6506V74.457H186.206V75.6506H188Z" fill="url(#paint1_linear)"/><path opacity="0.1" d="M67.0273 210.016C67.1284 209.995 67.2329 209.996 67.3333 210.02C67.4337 210.045 67.5274 210.091 67.6073 210.156C67.7839 210.338 67.9132 210.561 67.9839 210.804C68.2904 211.564 68.7445 212.255 69.3201 212.839" fill="black"/><path d="M82 118H239V130H82V118Z" fill="#F0F0F5"/><path d="M82 155H239V167H82V155Z" fill="#F0F0F5"/><rect x="38" y="239" width="221" height="5" fill="#F0F0F5"/><path fill-rule="evenodd" clip-rule="evenodd" d="M184.678 192C184.678 190.343 183.335 189 181.678 189H116C114.343 189 113 190.343 113 192V226.959C113 228.616 114.343 229.959 116 229.959H142.581C143.377 229.959 144.14 230.275 144.702 230.838L147.744 233.879C148.915 235.051 150.815 235.051 151.986 233.879L155.028 230.838C155.591 230.275 156.354 229.959 157.149 229.959H181.678C183.335 229.959 184.678 228.616 184.678 226.959V192Z" fill="#F0F0F5"/><rect x="45.7" y="110.7" width="25.6" height="25.6" rx="12.8" stroke="#F0F0F5" stroke-width="1.4"/><path d="M53 129C53 129 59.25 126.749 60.5002 125.5C61.7505 124.25 64 118 64 118C64 118 57.75 120.251 56.5005 121.5C55.2509 122.75 53 129 53 129ZM57.5004 122.5L59.5003 124.5C60.0003 125 55.0006 127 55.0006 127C55.0006 127 57.0005 122 57.5004 122.5Z" fill="#F0F0F5"/><path d="M53 166C53 166 59.25 163.749 60.5002 162.5C61.7505 161.25 64 155 64 155C64 155 57.75 157.251 56.5005 158.5C55.2509 159.75 53 166 53 166ZM57.5004 159.5L59.5003 161.5C60.0003 162 55.0006 164 55.0006 164C55.0006 164 57.0005 159 57.5004 159.5Z" fill="#F0F0F5"/><path d="M143 215C143 215 149.25 212.749 150.5 211.5C151.75 210.25 154 204 154 204C154 204 147.75 206.251 146.5 207.5C145.251 208.75 143 215 143 215ZM147.5 208.5L149.5 210.5C150 211 145.001 213 145.001 213C145.001 213 147 208 147.5 208.5Z" fill="white"/><rect x="45.7" y="147.7" width="25.6" height="25.6" rx="12.8" stroke="#F0F0F5" stroke-width="1.4"/><rect x="135.7" y="196.7" width="25.6" height="25.6" rx="12.8" stroke="white" stroke-width="1.4"/><defs><linearGradient class="mgPlayerJSqa_paint0_linear" x1="170.963" y1="263.633" x2="170.963" y2="78.9326" gradientUnits="userSpaceOnUse"><stop stop-color="#808080" stop-opacity="0.25"/><stop offset="0.54" stop-color="#808080" stop-opacity="0.12"/><stop offset="1" stop-color="#808080" stop-opacity="0.1"/></linearGradient><linearGradient class="mgPlayerJSqa_paint1_linear" x1="-1628.22" y1="775.14" x2="-1617.45" y2="775.14" gradientUnits="userSpaceOnUse"><stop stop-color="#808080" stop-opacity="0.25"/><stop offset="0.54" stop-color="#808080" stop-opacity="0.12"/><stop offset="1" stop-color="#808080" stop-opacity="0.1"/></linearGradient><clipPath class="mgPlayerJSqa_clip0"><rect x="106" y="13" width="32" height="32" fill="white"/></clipPath><clipPath class="mgPlayerJSqa_clip1"><rect x="236" width="22" height="22" fill="white"/></clipPath></defs></svg>',fullscreen:'<svg version="1.1" class="mgPlayerJSqa_Capa_1" x="0px" y="0px" viewBox="0 0 28.361 28.361" style="enable-background:new 0 0 28.361 28.361;" xml:space="preserve"><g><g class="mgPlayerJSqa_c115_arrows"><path d="M28.36,19.595c0-0.868-0.665-1.57-1.491-1.57c-0.819,0.002-1.492,0.702-1.492,1.57v3.25l-6.018-6.021c-0.582-0.583-1.524-0.583-2.106,0c-0.582,0.582-0.582,1.527,0,2.109l5.989,5.987h-3.235c-0.881,0.002-1.591,0.669-1.591,1.491c0,0.824,0.71,1.49,1.591,1.49h6.761c0.881,0,1.59-0.665,1.593-1.49c-0.003-0.022-0.006-0.039-0.009-0.061c0.003-0.028,0.009-0.058,0.009-0.087v-6.668H28.36z"/><path d="M9,16.824l-6.015,6.021v-3.25c0-0.868-0.672-1.568-1.493-1.57c-0.824,0-1.49,0.702-1.49,1.57L0,26.264c0,0.029,0.008,0.059,0.01,0.087c-0.002,0.021-0.006,0.038-0.008,0.061c0.002,0.825,0.712,1.49,1.592,1.49h6.762c0.879,0,1.59-0.666,1.59-1.49c0-0.822-0.711-1.489-1.59-1.491H5.121l5.989-5.987c0.58-0.582,0.58-1.527,0-2.109C10.527,16.241,9.584,16.241,9,16.824z"/><path d="M19.359,11.535l6.018-6.017v3.25c0,0.865,0.673,1.565,1.492,1.568c0.826,0,1.491-0.703,1.491-1.568V2.097c0-0.029-0.006-0.059-0.009-0.085c0.003-0.021,0.006-0.041,0.009-0.062c-0.003-0.826-0.712-1.491-1.592-1.491h-6.761c-0.881,0-1.591,0.665-1.591,1.491c0,0.821,0.71,1.49,1.591,1.492h3.235l-5.989,5.987c-0.582,0.581-0.582,1.524,0,2.105C17.835,12.12,18.777,12.12,19.359,11.535z"/><path d="M5.121,3.442h3.234c0.879-0.002,1.59-0.671,1.59-1.492c0-0.826-0.711-1.491-1.59-1.491H1.594c-0.88,0-1.59,0.665-1.592,1.491C0.004,1.971,0.008,1.991,0.01,2.012C0.008,2.038,0,2.067,0,2.097l0.002,6.672c0,0.865,0.666,1.568,1.49,1.568c0.821-0.003,1.493-0.703,1.493-1.568v-3.25L9,11.535c0.584,0.585,1.527,0.585,2.11,0c0.58-0.581,0.58-1.524,0-2.105L5.121,3.442z"/></g><g class="mgPlayerJSqa_Capa_1_253_"></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',smallscreenIcon:'<svg version="1.1" class="mgPlayerJSqa_Capa_1" x="0px" y="0px" viewBox="0 0 28.359 28.359" style="enable-background:new 0 0 28.359 28.359;" xml:space="preserve"><g><g class="mgPlayerJSqa_c116_arrows"><path d="M21.935,19.368h3.235c0.878-0.003,1.589-0.67,1.589-1.492c0-0.824-0.711-1.492-1.589-1.492h-6.764c-0.879,0-1.59,0.668-1.591,1.492c0.001,0.019,0.007,0.041,0.007,0.061c0,0.027-0.007,0.057-0.007,0.086v6.673c0,0.864,0.666,1.566,1.49,1.566c0.822-0.002,1.492-0.702,1.492-1.566v-3.252l6.018,6.02c0.582,0.583,1.525,0.583,2.108,0c0.58-0.582,0.58-1.526,0-2.108L21.935,19.368z"/><path d="M11.543,17.876c-0.002-0.824-0.712-1.492-1.592-1.492H3.189c-0.877,0-1.593,0.668-1.593,1.492c0,0.822,0.716,1.489,1.593,1.492h3.235l-5.991,5.986c-0.577,0.582-0.577,1.526,0,2.108c0.584,0.583,1.527,0.583,2.108,0l6.019-6.02v3.252c0,0.864,0.67,1.564,1.491,1.566c0.826,0,1.491-0.702,1.491-1.566v-6.673c0-0.029-0.008-0.059-0.008-0.086C11.535,17.917,11.541,17.895,11.543,17.876z"/><path d="M16.815,10.479c0.001,0.824,0.712,1.491,1.591,1.491h6.764c0.878,0,1.589-0.667,1.589-1.491c0-0.822-0.711-1.487-1.589-1.489h-3.235l5.989-5.987c0.58-0.584,0.58-1.528,0-2.109c-0.583-0.582-1.526-0.582-2.108,0l-6.018,6.02V3.662c0-0.867-0.67-1.568-1.492-1.568c-0.824,0-1.49,0.701-1.49,1.568v6.671c0,0.03,0.007,0.057,0.007,0.087C16.822,10.44,16.816,10.456,16.815,10.479z"/><path d="M10.052,2.094c-0.821,0-1.491,0.701-1.491,1.568v3.251l-6.019-6.02c-0.581-0.582-1.524-0.582-2.108,0c-0.577,0.581-0.577,1.525,0,2.109l5.991,5.987H3.189c-0.876,0.003-1.592,0.668-1.592,1.49c0,0.824,0.716,1.491,1.593,1.491h6.761c0.88,0,1.59-0.667,1.592-1.491c-0.002-0.023-0.008-0.039-0.008-0.06c0-0.03,0.008-0.057,0.008-0.087v-6.67C11.543,2.795,10.878,2.094,10.052,2.094z"/></g><g class="mgPlayerJSqa_Capa_1_156_"></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',myGuide:'<svg  width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M0 15.555C0 15.555 8.838 12.372 10.606 10.606C12.374 8.838 15.555 0 15.555 0C15.555 0 6.717 3.183 4.95 4.95C3.183 6.717 0 15.555 0 15.555ZM6.364 6.364L9.192 9.192C9.899 9.899 2.829 12.727 2.829 12.727C2.829 12.727 5.657 5.657 6.364 6.364Z" fill="#6f708b" /></svg>',myShow:'<svg  width="20" height="11" viewBox="0 0 20 11" fill="none"><path d="M13.0465 1.05294L13.0896 1.09273H13.1482H15.1375C17.731 1.09273 19.8499 3.27659 19.85 5.97134C19.85 8.66605 17.7312 10.85 15.1377 10.85C12.5442 10.85 10.4253 8.66604 10.4253 5.97134C10.4253 5.93554 10.4256 5.89996 10.4264 5.86449L10.4299 5.71111H10.2764H9.72347H9.57026L9.5735 5.86429C9.57426 5.90007 9.57464 5.93568 9.57464 5.97134C9.57464 8.66605 7.45583 10.85 4.86234 10.85C2.26881 10.85 0.15 8.66605 0.15 5.97134C0.15 3.27659 2.2688 1.09273 4.86234 1.09273H6.85159H6.91026L6.95335 1.05293C7.5463 0.50539 8.69319 0.15 9.9999 0.15C11.3066 0.15 12.4535 0.505438 13.0465 1.05294ZM1.82725 5.97134C1.82725 7.69467 3.18397 9.10517 4.86234 9.10517C6.54076 9.10517 7.89749 7.69467 7.89749 5.97134C7.89749 4.24802 6.54077 2.83746 4.86234 2.83746C3.18392 2.83746 1.82725 4.24802 1.82725 5.97134ZM8.69265 3.04H11.3065C11.705 3.04 12.0195 2.70646 12.0195 2.30772C12.0195 1.90897 11.705 1.57544 11.3065 1.57544H8.69265C8.29462 1.57544 7.98026 1.9091 7.98026 2.30772C7.98026 2.70639 8.29463 3.04 8.69265 3.04ZM12.1023 5.97134C12.1023 7.69467 13.459 9.10517 15.1375 9.10517C16.8159 9.10517 18.1726 7.69466 18.1726 5.97134C18.1726 4.24802 16.8157 2.83746 15.1375 2.83746C13.459 2.83746 12.1023 4.24802 12.1023 5.97134Z" fill="#6f708b" stroke="#cfd0dd" stroke-width="0.3" /></svg>',myBot:'<svg  width="22" height="23" viewBox="0 0 22 23" fill="none"><path d="M5.14433 17.2464C3.32333 17.2464 1.84711 18.722 1.84711 20.5422V23H3.53993V21.2977C3.53993 19.9325 4.6471 18.8258 6.01285 18.8258H15.4006C16.7663 18.8258 17.8735 19.9325 17.8735 21.2977V23H19.5665V20.5422C19.5665 18.722 18.0903 17.2464 16.2693 17.2464H5.14433Z" fill="#6f708b" /><path d="M0 9.98398C0 9.08054 0.73269 8.34815 1.63651 8.34815H2.25725V11.6198H1.63651C0.732691 11.6198 0 10.8874 0 9.98398Z" fill="#6f708b" /><path d="M21.4118 9.98398C21.4118 9.08054 20.6791 8.34815 19.7753 8.34815H19.1545V11.6198H19.7753C20.6791 11.6198 21.4118 10.8874 21.4118 9.98398Z" fill="#6f708b" /><path d="M10.4232 9.98398C10.4232 10.8874 9.69048 11.6198 8.78666 11.6198C7.88285 11.6198 7.15016 10.8874 7.15016 9.98398C7.15016 9.08054 7.88285 8.34815 8.78666 8.34815C9.69048 8.34815 10.4232 9.08054 10.4232 9.98398Z" fill="#6f708b" /><path d="M14.3746 9.98398C14.3746 10.8874 13.6419 11.6198 12.7381 11.6198C11.8342 11.6198 11.1016 10.8874 11.1016 9.98398C11.1016 9.08054 11.8342 8.34815 12.7381 8.34815C13.6419 8.34815 14.3746 9.08054 14.3746 9.98398Z" fill="#6f708b" /><path d="M10.0287 2.76082C10.0287 2.6698 10.1025 2.59602 10.1936 2.59602H11.6697C11.7607 2.59602 11.8345 2.6698 11.8345 2.76082V5.98051H10.0287V2.76082Z" fill="#6f708b" /><path d="M8.69162 4.62529H7.06454C5.24354 4.62529 3.76732 6.1009 3.76732 7.92116V12.1598C3.76732 13.98 5.24354 15.4557 7.06455 15.4557H14.3522C16.1732 15.4557 17.6494 13.98 17.6494 12.1598V7.92116C17.6494 6.1009 16.1732 4.62529 14.3522 4.62529H13.1746V5.86756H13.6535C15.0192 5.86756 16.1264 6.97427 16.1264 8.33946V11.7441C16.1264 13.1093 15.0192 14.216 13.6535 14.216H7.7645C6.39874 14.216 5.29158 13.1093 5.29158 11.7441V8.33946C5.29158 6.97426 6.39874 5.86756 7.7645 5.86756H8.69162V4.62529Z" fill="#6f708b" /><path d="M11.8345 0.90253C11.8345 1.40098 11.4303 1.80506 10.9316 1.80506C10.433 1.80506 10.0287 1.40098 10.0287 0.90253C10.0287 0.404077 10.433 0 10.9316 0C11.4303 0 11.8345 0.404077 11.8345 0.90253Z" fill="#6f708b" /></svg>',myTest:'<svg  width="20" height="26" viewBox="0 0 20 26" fill="none"><path d="M1.54651 21.1221V5.72034H3.75581V6.61319C3.75581 7.05962 4.08721 7.39444 4.52907 7.39444H12.0407C12.4826 7.39444 12.814 7.05962 12.814 6.61319V5.72034H15.0233V12.0819V14.3141H16.5698V12.64V5.05069C16.5698 4.60426 16.2384 4.26944 15.7965 4.26944H12.814V3.37659C12.814 2.93016 12.4826 2.59534 12.0407 2.59534H11.157C10.936 0.921228 9.5 -0.194843 7.84302 0.0283712C6.51744 0.139978 5.52326 1.25605 5.30232 2.59534H4.52907C4.08721 2.59534 3.75581 2.93016 3.75581 3.37659V4.26944H0.773256C0.331395 4.26944 0 4.60426 0 5.05069V21.9034C0 22.3498 0.331395 22.6846 0.773256 22.6846H9.38953V21.1221H6.73837H1.54651ZM8.28488 1.47926C8.94767 1.47926 9.5 1.92569 9.72093 2.59534H6.84884C6.9593 1.92569 7.62209 1.47926 8.28488 1.47926ZM5.19186 4.15784H11.2674V5.83194H5.19186V4.15784Z" fill="#6f708b" /><circle cx="12.5" cy="18.5" r="6.7" fill="white" stroke="#6f708b" stroke-width="1.6" /><path d="M11.6804 20.9037C11.6136 20.9655 11.5224 21 11.4277 21C11.333 21 11.2419 20.9655 11.1751 20.9037L9.15707 19.047C8.94764 18.8544 8.94764 18.542 9.15707 18.3497L9.40975 18.1172C9.61924 17.9246 9.95844 17.9246 10.1679 18.1172L11.4277 19.2762L14.8321 16.1445C15.0416 15.9518 15.3812 15.9518 15.5902 16.1445L15.8429 16.377C16.0524 16.5696 16.0524 16.882 15.8429 17.0743L11.6804 20.9037Z" fill="#6f708b" /></svg>',copyGuideIcon:'<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 450 514" width="14" height="16"><g transform="translate(1, 1)"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z" vector-effect="non-scaling-stroke" /></g></svg>',historyIcon:'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1"  ><g class="mgPlayerJSqa_3.-Style" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="mgPlayerJSqa_UI-Icons" transform="translate(-571.000000, -535.000000)" fill="#4D4D4D"><g class="mgPlayerJSqa_Group" transform="translate(571.000000, 535.000000)"><path d="M7.66676667,0 C4.76476667,0 2.06576667,1.60966667 0.666766667,4.13233333 L0.666766667,0.666666667 C0.666766667,0.482333333 0.517766667,0.333333333 0.333433333,0.333333333 C0.1491,0.333333333 0.0001,0.482333333 0.0001,0.666666667 L0.0001,5 C0.0001,5.18433333 0.1491,5.33333333 0.333433333,5.33333333 L4.66676667,5.33333333 C4.8511,5.33333333 5.0001,5.18433333 5.0001,5 C5.0001,4.81566667 4.8511,4.66666667 4.66676667,4.66666667 L1.1381,4.66666667 C2.3841,2.23266667 4.92643333,0.666666667 7.66676667,0.666666667 C11.7104333,0.666666667 15.0001,3.95633333 15.0001,8 C15.0001,12.0436667 11.7104333,15.3333333 7.66676667,15.3333333 C4.57776667,15.3333333 1.6281,13.009 0.652433333,9.80666667 C0.598766667,9.63066667 0.4131,9.53133333 0.236433333,9.58466667 C0.0604333333,9.63833333 -0.0389,9.82466667 0.0144333333,10.0006667 C1.07376667,13.477 4.29176667,16 7.66676667,16 C12.0777667,16 15.6667667,12.411 15.6667667,8 C15.6667667,3.589 12.0777667,0 7.66676667,0" class="mgPlayerJSqa_Fill-6"></path><path d="M7.64922281,2.33333333 C7.47459123,2.33333333 7.33343333,2.47449123 7.33343333,2.64912281 L7.33343333,8.01754386 C7.33343333,8.19217544 7.47459123,8.33333333 7.64922281,8.33333333 L11.4386965,8.33333333 C11.6133281,8.33333333 11.754486,8.19217544 11.754486,8.01754386 C11.754486,7.84291228 11.6133281,7.70175439 11.4386965,7.70175439 L7.96501228,7.70175439 L7.96501228,2.64912281 C7.96501228,2.47449123 7.82385439,2.33333333 7.64922281,2.33333333" class="mgPlayerJSqa_Fill-8"></path></g></g></g></svg>',pdfIcon:'<svg class="mgPlayerJSqa_Layer_1" data-name="Layer 1"  viewBox="0 0 200 200"><defs><style>.mgPlayerJSqa_cls-1,.mgPlayerJSqa_cls-3,.mgPlayerJSqa_cls-4{fill:#005BF0;}.mgPlayerJSqa_cls-1{opacity:0.3;}.mgPlayerJSqa_cls-2{fill:#218e79;}.mgPlayerJSqa_cls-4{font-size:31.1px;font-family:NotoSerif-Bold, Noto Serif;font-weight:700;}</style></defs><path class="mgPlayerJSqa_cls-1" d="M44.73,184.74H155.27a7.37,7.37,0,0,0,7.37-7.37V52.1L125.79,15.26H44.73a7.37,7.37,0,0,0-7.37,7.37V177.37A7.37,7.37,0,0,0,44.73,184.74Z"/><path class="mgPlayerJSqa_cls-2" d="M125.79,15.26V44.73a7.37,7.37,0,0,0,7.37,7.37h29.48Z"/><path class="mgPlayerJSqa_cls-3" d="M163.51,52.05a.85.85,0,0,0,0-.23l0-.09a.87.87,0,0,0-.18-.26L126.42,14.63a.83.83,0,0,0-.26-.17l-.08,0a1,1,0,0,0-.23,0H44.73a8.26,8.26,0,0,0-8.25,8.26V177.37a8.26,8.26,0,0,0,8.25,8.26H155.27a8.26,8.26,0,0,0,8.25-8.26V52.1A.09.09,0,0,0,163.51,52.05ZM126.68,17.4l33.81,33.81H133.16a6.48,6.48,0,0,1-6.48-6.48Zm-82-1.25H124.9V44.73A8.27,8.27,0,0,0,133.16,53h28.59V161.73a.87.87,0,0,0-.39-.1H38.25v-139A6.48,6.48,0,0,1,44.73,16.15Zm110.54,167.7H44.73a6.48,6.48,0,0,1-6.48-6.48v-14H161.36a.87.87,0,0,0,.39-.1v14.07A6.48,6.48,0,0,1,155.27,183.85Z"/><text class="mgPlayerJSqa_cls-4" transform="translate(69.78 109.96)">PDF</text></svg>',guidePlayIconShowme:'<svg  width="9" height="13" viewBox="0 0 9 13" fill="none"><path opacity="0.3" d="M0 0L9 6.5L0 13V0Z" fill="black" /></svg>',dragStep:'<svg class="mgPlayerJSqa_width-height-100" width="32" height="32" viewBox="0 0 32 32" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.91309 22.0492C9.91309 20.9442 10.8221 20.0492 11.9421 20.0492C13.0631 20.0492 13.9711 20.9442 13.9711 22.0492C13.9711 23.1532 13.0631 24.0492 11.9421 24.0492C10.8221 24.0492 9.91309 23.1532 9.91309 22.0492ZM9.91309 15.9992C9.91309 14.8942 10.8221 13.9992 11.9421 13.9992C13.0631 13.9992 13.9711 14.8942 13.9711 15.9992C13.9711 17.1032 13.0631 17.9992 11.9421 17.9992C10.8221 17.9992 9.91309 17.1032 9.91309 15.9992ZM20.0581 20.0492C21.1791 20.0492 22.0871 20.9442 22.0871 22.0492C22.0871 23.1532 21.1791 24.0492 20.0581 24.0492C18.9381 24.0492 18.0291 23.1532 18.0291 22.0492C18.0291 20.9442 18.9381 20.0492 20.0581 20.0492ZM20.0581 13.9992C21.1791 13.9992 22.0871 14.8942 22.0871 15.9992C22.0871 17.1032 21.1791 17.9992 20.0581 17.9992C18.9381 17.9992 18.0291 17.1032 18.0291 15.9992C18.0291 14.8942 18.9381 13.9992 20.0581 13.9992ZM11.9421 7.94922C13.0631 7.94922 13.9711 8.84422 13.9711 9.94922C13.9711 11.0532 13.0631 11.9492 11.9421 11.9492C10.8221 11.9492 9.91309 11.0532 9.91309 9.94922C9.91309 8.84422 10.8221 7.94922 11.9421 7.94922ZM20.0581 7.94922C21.1791 7.94922 22.0871 8.84422 22.0871 9.94922C22.0871 11.0532 21.1791 11.9492 20.0581 11.9492C18.9381 11.9492 18.0291 11.0532 18.0291 9.94922C18.0291 8.84422 18.9381 7.94922 20.0581 7.94922Z" fill="#555555"/></svg>',startPoint:'<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 16.00001480672206 30.000002376293313" width="16.00001480672206" height="20.000002376293313" style="padding-right:5px;"><g transform="translate(0, 0)"><g transform="translate(0.000007403361028701504, 0.000002376293311883793) rotate(0)"><path d="M8,18.21576c-0.67536,0 -1.33571,-0.08038 -1.99605,-0.25723v10.96433c0.01501,0.59484 0.45024,1.06106 1.00553,1.07714h1.99605c0.55529,-0.01608 0.99052,-0.4823 1.00553,-1.07714v-10.96433c-0.66035,0.17684 -1.33571,0.25723 -2.01106,0.25723zM8,0.00083c-2.13113,-0.03215 -4.1722,0.86814 -5.65799,2.50797c-1.53081,1.5916 -2.37125,3.77803 -2.34124,6.06093c-0.03002,2.28289 0.81043,4.46933 2.34124,6.06093c1.48578,1.63983 3.52686,2.54012 5.65799,2.50797c2.13113,0.03215 4.1722,-0.86814 5.65799,-2.50797c1.53081,-1.5916 2.37125,-3.77803 2.34124,-6.06093c0.03002,-2.28289 -0.81043,-4.46933 -2.34124,-6.06093c-1.48578,-1.63983 -3.52686,-2.54012 -5.65799,-2.50797zM8,3.74671c-2.49132,0 -4.50238,2.15428 -4.50238,4.82302c0,0.30546 -0.22512,0.54661 -0.51027,0.54661c-0.28515,0 -0.49526,-0.24115 -0.49526,-0.54661c0,-3.2475 2.4613,-5.88408 5.4929,-5.88408h0.01501c0.27014,0 0.49526,0.24115 0.49526,0.53053c0,0.28938 -0.22512,0.53053 -0.49526,0.53053z" style="stroke-width: 0; stroke-linecap: butt; stroke-linejoin: miter; fill: rgb(122, 98, 171);" vector-effect="non-scaling-stroke"/></g><defs><path class="mgPlayerJSqa_path-1636604223336103" d="M8,18.21576c-0.67536,0 -1.33571,-0.08038 -1.99605,-0.25723v10.96433c0.01501,0.59484 0.45024,1.06106 1.00553,1.07714h1.99605c0.55529,-0.01608 0.99052,-0.4823 1.00553,-1.07714v-10.96433c-0.66035,0.17684 -1.33571,0.25723 -2.01106,0.25723zM8,0.00083c-2.13113,-0.03215 -4.1722,0.86814 -5.65799,2.50797c-1.53081,1.5916 -2.37125,3.77803 -2.34124,6.06093c-0.03002,2.28289 0.81043,4.46933 2.34124,6.06093c1.48578,1.63983 3.52686,2.54012 5.65799,2.50797c2.13113,0.03215 4.1722,-0.86814 5.65799,-2.50797c1.53081,-1.5916 2.37125,-3.77803 2.34124,-6.06093c0.03002,-2.28289 -0.81043,-4.46933 -2.34124,-6.06093c-1.48578,-1.63983 -3.52686,-2.54012 -5.65799,-2.50797zM8,3.74671c-2.49132,0 -4.50238,2.15428 -4.50238,4.82302c0,0.30546 -0.22512,0.54661 -0.51027,0.54661c-0.28515,0 -0.49526,-0.24115 -0.49526,-0.54661c0,-3.2475 2.4613,-5.88408 5.4929,-5.88408h0.01501c0.27014,0 0.49526,0.24115 0.49526,0.53053c0,0.28938 -0.22512,0.53053 -0.49526,0.53053z" vector-effect="non-scaling-stroke"/></defs></g></svg>',guide:'<svg class="mgPlayerJSqa_guide-icon-{{tour.tour_id}}" width="40" height="40" viewBox="0 0 40 40" fill="none" ></svg>',mobileGuide:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" ><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"/><rect x="13.8" y="10.8" width="12.4" height="20.4" rx="1.2" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.6"/><rect x="14" y="25" width="12" height="0.5" fill="#ACADC1" stroke="#ACADC1"/><circle class="mgPlayerJSqa_mobile-circle" cx="20" cy="28.5" r="1" fill="#ACADC1"/></svg>',insight:'<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><defs><style>.mgPlayerJSqa_cls-1 { fill: #ffffff; stroke: #ACADC1; stroke-miterlimit: 10; stroke-width: 1.4 !important;cx: 24 !important;cy: 24 !important;r: 22.75 !important;}.mgPlayerJSqa_cls-2 { fill: #8e8fa6; stroke-width: 0; } </style></defs><circle class="mgPlayerJSqa_cls-1" cx="24" cy="24" r="22.75" /><path class="mgPlayerJSqa_cls-2" d="M31.15,14.74a9.73,9.73,0,0,1,1.35,5.18c0,2.13-.82,3.72-2.65,5.95-.16.19-.32.37-.54.59l-.47.48a3.21,3.21,0,0,0-.5.62,6.39,6.39,0,0,0-.41.91,10.62,10.62,0,0,0-.41,1.62c0-.08-.16,1-.21,1.11a.62.62,0,0,1-.1.22.67.67,0,0,1-.6.33h-5a.68.68,0,0,1-.66-.5h0v0l0-.11-.11-.38c-.13-.41-.26-.83-.39-1.23a12,12,0,0,0-.81-2.09,13,13,0,0,0-1.46-1.77l-.38-.43c-.2-.23-.37-.44-.54-.66a7.67,7.67,0,0,1-1.68-5.61,9,9,0,0,1,2.19-5.24A7.8,7.8,0,0,1,23.77,11a9,9,0,0,1,5.62,1.76l-1.05,1a7.77,7.77,0,0,0-4.57-1.31,6.43,6.43,0,0,0-5,2.22A7.57,7.57,0,0,0,16.91,19a6.29,6.29,0,0,0,1.39,4.64c.15.2.3.38.48.59l.36.4a14.73,14.73,0,0,1,1.58,1.92,11.66,11.66,0,0,1,1,2.46c.14.41.27.84.4,1.25v.05h3.95l.09-.51A12.19,12.19,0,0,1,26.63,28a9,9,0,0,1,.51-1.13,5.24,5.24,0,0,1,.71-.9l.49-.5a6,6,0,0,0,.45-.49c1.64-2,2.33-3.33,2.33-5a8.5,8.5,0,0,0-1-4.22Zm-7.89-1.62.26.93a5.64,5.64,0,0,0-2.14.61l-.63-.72A6.4,6.4,0,0,1,23.26,13.12Zm.95,0a7.39,7.39,0,0,1,2.64.59l-.36.87a6.74,6.74,0,0,0-2-.5ZM20,14.47l.62.7-.35.29a5.82,5.82,0,0,0-1.48,2l-.86-.32a6.46,6.46,0,0,1,1.73-2.41C19.74,14.66,19.85,14.56,20,14.47Zm-2.36,3.6.87.32A6.13,6.13,0,0,0,18.36,20l-.92,0a6.81,6.81,0,0,1,.17-2Zm3.5,15h6a.79.79,0,0,1,0,1.57h-6a.79.79,0,0,1,0-1.57Zm.47,2.36H26.8v.31A1.24,1.24,0,0,1,25.57,37H22.81a1.24,1.24,0,0,1-1.23-1.26ZM24.29,18.6h.07q.41,0,7.23-6.88l-6.37,7.74a1.12,1.12,0,0,1,0,.32,1.15,1.15,0,1,1-1.15-1.18Z" /></svg>',tooltipIcon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" ><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4" /><path d="M21.625 30.75C21.625 31.6475 20.8975 32.375 20 32.375C19.1025 32.375 18.375 31.6475 18.375 30.75C18.375 29.8525 19.1025 29.125 20 29.125C20.8975 29.125 21.625 29.8525 21.625 30.75Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.5" /><path d="M21.4375 23.5681L21.25 23.6165V23.8102V26.25C21.25 26.9404 20.6904 27.5 20 27.5C19.3096 27.5 18.75 26.9404 18.75 26.25V22.5C18.75 21.8096 19.3096 21.25 20 21.25C21.7923 21.25 23.25 19.7923 23.25 18C23.25 16.2077 21.7923 14.75 20 14.75C18.2077 14.75 16.75 16.2077 16.75 18C16.75 18.6904 16.1904 19.25 15.5 19.25C14.8096 19.25 14.25 18.6904 14.25 18C14.25 14.8297 16.8297 12.25 20 12.25C23.1703 12.25 25.75 14.8297 25.75 18C25.75 20.6737 23.915 22.9281 21.4375 23.5681Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.5" /></svg>',guidePlayIcon:'<svg class="mgPlayerJSqa_position-center" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M0 15.555C0 15.555 8.838 12.372 10.606 10.606C12.374 8.838 15.555 0 15.555 0C15.555 0 6.717 3.183 4.95 4.95C3.183 6.717 0 15.555 0 15.555ZM6.364 6.364L9.192 9.192C9.899 9.899 2.829 12.727 2.829 12.727C2.829 12.727 5.657 5.657 6.364 6.364Z" fill="#6f708b"/></svg>',doItForMeIcon:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 16 18"><path d="M3.84412 13.4972C2.48336 13.4972 1.38026 14.652 1.38026 16.0765V18H2.64522V16.6678C2.64522 15.5993 3.47256 14.7332 4.49312 14.7332H11.5081C12.5287 14.7332 13.356 15.5993 13.356 16.6678V18H14.6211V16.0765C14.6211 14.652 13.518 13.4972 12.1573 13.4972H3.84412Z" fill="#005BF0" /><path d="M0 7.81355C0 7.10651 0.547505 6.53333 1.22289 6.53333H1.68674V9.09377H1.22289C0.547505 9.09377 0 8.5206 0 7.81355Z" fill="#005BF0" /><path d="M16 7.81355C16 7.10651 15.4525 6.53333 14.7771 6.53333H14.3133V9.09377H14.7771C15.4525 9.09377 16 8.5206 16 7.81355Z" fill="#005BF0" /><path d="M7.78874 7.81355C7.78874 8.5206 7.24124 9.09377 6.56586 9.09377C5.89048 9.09377 5.34297 8.5206 5.34297 7.81355C5.34297 7.10651 5.89048 6.53333 6.56586 6.53333C7.24124 6.53333 7.78874 7.10651 7.78874 7.81355Z" fill="#005BF0" /><path d="M10.7414 7.81355C10.7414 8.5206 10.1939 9.09377 9.51855 9.09377C8.84317 9.09377 8.29567 8.5206 8.29567 7.81355C8.29567 7.10651 8.84317 6.53333 9.51855 6.53333C10.1939 6.53333 10.7414 7.10651 10.7414 7.81355Z" fill="#005BF0" /><path d="M7.494 2.16064C7.494 2.08941 7.54915 2.03167 7.61719 2.03167H8.72019C8.78823 2.03167 8.84339 2.08941 8.84339 2.16064V4.6804H7.494V2.16064Z" fill="#005BF0" /><path d="M6.49483 3.61979H5.279C3.91825 3.61979 2.81514 4.77462 2.81514 6.19917V9.51635C2.81514 10.9409 3.91825 12.0957 5.279 12.0957H10.7247C12.0855 12.0957 13.1886 10.9409 13.1886 9.51635V6.19917C13.1886 4.77462 12.0855 3.61979 10.7247 3.61979H9.84475V4.592H10.2026C11.2232 4.592 12.0505 5.45812 12.0505 6.52654V9.191C12.0505 10.2594 11.2232 11.1255 10.2026 11.1255H5.80204C4.78148 11.1255 3.95415 10.2594 3.95415 9.191V6.52653C3.95415 5.45812 4.78148 4.592 5.80204 4.592H6.49483V3.61979Z" fill="#005BF0" /><path d="M8.84339 0.706328C8.84339 1.09642 8.54131 1.41266 8.16869 1.41266C7.79607 1.41266 7.494 1.09642 7.494 0.706328C7.494 0.316234 7.79607 0 8.16869 0C8.54131 0 8.84339 0.316234 8.84339 0.706328Z" fill="#005BF0" /></svg>',navBar:'<svg width="24" height="16" viewBox="0 0 24 16" fill="none"><path d="M22.935 13.717H10.452C10.1868 13.717 9.9324 13.8223 9.74487 14.0099C9.55733 14.1974 9.45197 14.4517 9.45197 14.717C9.45197 14.9822 9.55733 15.2365 9.74487 15.4241C9.9324 15.6116 10.1868 15.717 10.452 15.717H22.935C23.2002 15.717 23.4545 15.6116 23.6421 15.4241C23.8296 15.2365 23.935 14.9822 23.935 14.717C23.935 14.4517 23.8296 14.1974 23.6421 14.0099C23.4545 13.8223 23.2002 13.717 22.935 13.717ZM22.935 7.24996H10.452C10.1868 7.24996 9.9324 7.35532 9.74487 7.54285C9.55733 7.73039 9.45197 7.98474 9.45197 8.24996C9.45197 8.51518 9.55733 8.76953 9.74487 8.95707C9.9324 9.1446 10.1868 9.24996 10.452 9.24996H22.935C23.2002 9.24996 23.4545 9.1446 23.6421 8.95707C23.8296 8.76953 23.935 8.51518 23.935 8.24996C23.935 7.98474 23.8296 7.73039 23.6421 7.54285C23.4545 7.35532 23.2002 7.24996 22.935 7.24996ZM10.452 2.78296H22.935C23.2002 2.78296 23.4545 2.6776 23.6421 2.49007C23.8296 2.30253 23.935 2.04818 23.935 1.78296C23.935 1.51774 23.8296 1.26339 23.6421 1.07585C23.4545 0.888316 23.2002 0.782959 22.935 0.782959H10.452C10.1868 0.782959 9.9324 0.888316 9.74487 1.07585C9.55733 1.26339 9.45197 1.51774 9.45197 1.78296C9.45197 2.04818 9.55733 2.30253 9.74487 2.49007C9.9324 2.6776 10.1868 2.78296 10.452 2.78296ZM5.73897 3.57496C5.55144 3.38749 5.29714 3.28217 5.03197 3.28217C4.76681 3.28217 4.5125 3.38749 4.32497 3.57496L0.357972 7.54296C0.170501 7.73049 0.0651855 7.98479 0.0651855 8.24996C0.0651855 8.51512 0.170501 8.76943 0.357972 8.95696L4.32497 12.925C4.51357 13.1071 4.76618 13.2079 5.02837 13.2056C5.29057 13.2034 5.54138 13.0982 5.72679 12.9128C5.9122 12.7274 6.01737 12.4766 6.01965 12.2144C6.02192 11.9522 5.92113 11.6996 5.73897 11.511L2.47897 8.24996L5.73897 4.98896C5.92644 4.80143 6.03176 4.54712 6.03176 4.28196C6.03176 4.01679 5.92644 3.76249 5.73897 3.57496Z" fill="#555555"/></svg>',settings:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="4 3 20 20" fill="none"><g clip-path="url(#clip0_3195_94)"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.608 14.08C18.4413 14.7777 18.1645 15.4444 17.788 16.055C18.0254 16.3613 18.1432 16.7437 18.1192 17.1305C18.0953 17.5173 17.9314 17.8822 17.658 18.157C17.3834 18.4305 17.0185 18.5947 16.6317 18.6188C16.2449 18.6429 15.8625 18.5253 15.556 18.288C14.9449 18.6649 14.2775 18.9417 13.579 19.108C13.5297 19.4922 13.3423 19.8453 13.0517 20.1015C12.7612 20.3576 12.3873 20.4993 12 20.5C11.6125 20.4995 11.2384 20.358 10.9476 20.1018C10.6569 19.8456 10.4693 19.4924 10.42 19.108C9.72228 18.9413 9.05558 18.6645 8.445 18.288C8.13865 18.5254 7.75633 18.6432 7.36949 18.6192C6.98265 18.5953 6.61776 18.4314 6.343 18.158C6.06949 17.8834 5.90535 17.5185 5.88124 17.1317C5.85713 16.7449 5.97471 16.3625 6.212 16.056C5.83522 15.4448 5.5584 14.7774 5.392 14.079C5.00781 14.0297 4.65469 13.8423 4.39854 13.5517C4.1424 13.2612 4.00074 12.8873 4 12.5C4 11.688 4.608 11.024 5.392 10.92C5.55866 10.222 5.83547 9.55494 6.212 8.944C5.97513 8.6378 5.85771 8.25591 5.88163 7.86952C5.90555 7.48314 6.06918 7.11865 6.342 6.844C6.61651 6.57035 6.98127 6.40602 7.36811 6.38172C7.75496 6.35743 8.13742 6.47484 8.444 6.712C9.05481 6.33521 9.72188 6.05839 10.42 5.892C10.4695 5.50773 10.6571 5.15459 10.9479 4.89846C11.2386 4.64233 11.6125 4.50071 12 4.5C12.812 4.5 13.476 5.108 13.579 5.892C14.288 6.061 14.952 6.34 15.555 6.712C15.8615 6.47471 16.2439 6.35713 16.6307 6.38124C17.0175 6.40535 17.3824 6.56949 17.657 6.843C18.232 7.418 18.271 8.318 17.788 8.945C18.16 9.548 18.439 10.212 18.608 10.921C18.9922 10.9703 19.3453 11.1577 19.6015 11.4483C19.8576 11.7388 19.9993 12.1127 20 12.5C20 13.312 19.392 13.976 18.608 14.08ZM17.6 11.7H17.134C17.0068 10.8809 16.6844 10.1043 16.194 9.436L16.525 9.106C16.6024 9.03245 16.6643 8.94415 16.7071 8.8463C16.7498 8.74845 16.7725 8.64303 16.7739 8.53626C16.7753 8.42949 16.7553 8.32352 16.715 8.22461C16.6748 8.1257 16.6152 8.03584 16.5397 7.96033C16.4642 7.88483 16.3743 7.8252 16.2754 7.78497C16.1765 7.74474 16.0705 7.72472 15.9637 7.72608C15.857 7.72745 15.7515 7.75018 15.6537 7.79293C15.5559 7.83568 15.4675 7.89759 15.394 7.975L15.064 8.305C14.3952 7.8159 13.6188 7.49456 12.8 7.368V6.9C12.8 6.68783 12.7157 6.48434 12.5657 6.33431C12.4157 6.18429 12.2122 6.1 12 6.1C11.7878 6.1 11.5843 6.18429 11.4343 6.33431C11.2843 6.48434 11.2 6.68783 11.2 6.9V7.368C10.3812 7.49441 9.60468 7.81576 8.936 8.305L8.606 7.975C8.45488 7.83117 8.25355 7.75206 8.04493 7.75454C7.83632 7.75703 7.63693 7.84091 7.48928 7.9883C7.34162 8.13569 7.25739 8.33493 7.25454 8.54354C7.25168 8.75215 7.33043 8.95362 7.474 9.105L7.804 9.436C7.31458 10.1047 6.99289 10.8811 6.866 11.7H6.4C6.18783 11.7 5.98434 11.7843 5.83431 11.9343C5.68429 12.0843 5.6 12.2878 5.6 12.5C5.6 12.7122 5.68429 12.9157 5.83431 13.0657C5.98434 13.2157 6.18783 13.3 6.4 13.3H6.866C6.996 14.138 7.326 14.909 7.805 15.564L7.475 15.894C7.39759 15.9675 7.33568 16.0559 7.29293 16.1537C7.25018 16.2515 7.22745 16.357 7.22608 16.4637C7.22472 16.5705 7.24474 16.6765 7.28497 16.7754C7.3252 16.8743 7.38483 16.9642 7.46033 17.0397C7.53584 17.1152 7.6257 17.1748 7.72461 17.215C7.82352 17.2553 7.92949 17.2753 8.03626 17.2739C8.14303 17.2725 8.24845 17.2498 8.3463 17.2071C8.44415 17.1643 8.53245 17.1024 8.606 17.025L8.936 16.695C9.60474 17.1841 10.3812 17.5055 11.2 17.632V18.1C11.2 18.3122 11.2843 18.5157 11.4343 18.6657C11.5843 18.8157 11.7878 18.9 12 18.9C12.2122 18.9 12.4157 18.8157 12.5657 18.6657C12.7157 18.5157 12.8 18.3122 12.8 18.1V17.632C13.6189 17.5056 14.3953 17.1843 15.064 16.695L15.394 17.025C15.4675 17.1025 15.5557 17.1645 15.6535 17.2073C15.7514 17.2501 15.8567 17.273 15.9635 17.2744C16.0703 17.2759 16.1763 17.2559 16.2752 17.2158C16.3742 17.1757 16.4641 17.1161 16.5396 17.0407C16.6152 16.9652 16.6749 16.8754 16.7152 16.7766C16.7556 16.6777 16.7757 16.5717 16.7744 16.465C16.7731 16.3582 16.7505 16.2527 16.7078 16.1549C16.6652 16.057 16.6033 15.9686 16.526 15.895L16.196 15.564C16.674 14.909 17.004 14.138 17.134 13.3H17.6C17.8122 13.3 18.0157 13.2157 18.1657 13.0657C18.3157 12.9157 18.4 12.7122 18.4 12.5C18.4 12.2878 18.3157 12.0843 18.1657 11.9343C18.0157 11.7843 17.8122 11.7 17.6 11.7ZM12 15.7C11.1513 15.7 10.3374 15.3629 9.73726 14.7627C9.13714 14.1626 8.8 13.3487 8.8 12.5C8.8 11.6513 9.13714 10.8374 9.73726 10.2373C10.3374 9.63714 11.1513 9.3 12 9.3C12.8487 9.3 13.6626 9.63714 14.2627 10.2373C14.8629 10.8374 15.2 11.6513 15.2 12.5C15.2 13.3487 14.8629 14.1626 14.2627 14.7627C13.6626 15.3629 12.8487 15.7 12 15.7ZM12 10.9C11.7899 10.9 11.5818 10.9414 11.3877 11.0218C11.1936 11.1022 11.0172 11.2201 10.8686 11.3686C10.7201 11.5172 10.6022 11.6936 10.5218 11.8877C10.4414 12.0818 10.4 12.2899 10.4 12.5C10.4 12.7101 10.4414 12.9182 10.5218 13.1123C10.6022 13.3064 10.7201 13.4828 10.8686 13.6314C11.0172 13.7799 11.1936 13.8978 11.3877 13.9782C11.5818 14.0586 11.7899 14.1 12 14.1C12.4243 14.1 12.8313 13.9314 13.1314 13.6314C13.4314 13.3313 13.6 12.9243 13.6 12.5C13.6 12.0757 13.4314 11.6687 13.1314 11.3686C12.8313 11.0686 12.4243 10.9 12 10.9Z" stroke-width=".01" fill="#555555"/></g><defs><clipPath><rect width="24" height="24" fill="white" transform="translate(0 0.5)"/></clipPath></defs></svg>',edit:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><g><path d="M43.1,29c-1.1,0-2,0.9-2,2v12.1c0,1.4-1.1,2.5-2.5,2.5H6.9c-1.4,0-2.5-1.1-2.5-2.5V11.5c0-1.4,1.1-2.5,2.5-2.5H19c1.1,0,2-0.9,2-2s-0.9-2-2-2H6.9c-3.6,0-6.5,2.9-6.5,6.5v31.6c0,3.6,2.9,6.5,6.5,6.5h31.6c3.6,0,6.5-2.9,6.5-6.5V31C45.1,29.9,44.2,29,43.1,29z"/></g></g><g><g><path d="M49,10l-9-9c-0.8-0.8-2-0.8-2.8,0L14.6,23.6C14.2,24,14,24.5,14,25v9c0,1.1,0.9,2,2,2h9c0.5,0,1-0.2,1.4-0.6L49,12.9c0.4-0.4,0.6-0.9,0.6-1.4C49.6,10.9,49.4,10.4,49,10z M24.2,32H18v-6.2L38.5,5.2l6.2,6.2L24.2,32z"/></g></g></g></svg>',playStore:'<svg width="30" height="30" viewBox="0 0 30 30" fill="none" ><path opacity="0.802967" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#666666"/><path d="M11.874 7.19116C11.4876 6.95854 11.0271 6.93774 10.6254 7.1314L17.3599 13.8803L19.5619 11.6681L11.874 7.19116ZM10.0066 7.75601C9.92168 7.9359 9.87598 8.136 9.87598 8.34196V20.6872C9.87598 20.894 9.92197 21.0912 10.0078 21.2673L16.7397 14.5034L10.0066 7.75601ZM17.3608 15.1257L10.6371 21.8813C10.8156 21.964 11.0054 22 11.195 22C11.429 22 11.6625 21.944 11.8741 21.8169L19.5634 17.3333L17.3608 15.1257ZM22.4899 13.3732C22.4873 13.3714 22.4843 13.3696 22.4817 13.3682L20.3471 12.1251L17.9808 14.5026L20.3486 16.8753C20.3486 16.8753 22.4873 15.6285 22.4899 15.627C22.8869 15.3859 23.1239 14.9646 23.1239 14.4999C23.1239 14.0353 22.8869 13.614 22.4899 13.3732Z" fill="white"/></svg>',desktop:'<svg width="30" height="30" viewBox="0 0 30 30" fill="none" ><path opacity="0.802967" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#666666"/><path d="M20.239 9.30719C20.0343 9.10247 19.7883 9 19.5007 9H9.04552C8.75801 9 8.51195 9.10247 8.30708 9.30719C8.10233 9.51199 8 9.75803 8 10.0456V18.2816C8 18.5692 8.10233 18.8153 8.30708 19.0201C8.51195 19.2248 8.75801 19.3271 9.04552 19.3271H12.6003C12.6003 19.4926 12.5655 19.6627 12.4958 19.8368C12.4261 20.0111 12.3564 20.1635 12.2867 20.2941C12.217 20.4249 12.1822 20.5206 12.1822 20.5816C12.1822 20.6948 12.2235 20.7931 12.3063 20.8756C12.3891 20.9585 12.4871 21 12.6003 21H15.946C16.0593 21 16.1573 20.9585 16.2401 20.8756C16.3229 20.7931 16.3643 20.6948 16.3643 20.5816C16.3643 20.5251 16.3293 20.4303 16.2597 20.2974C16.1899 20.1647 16.1202 20.0098 16.0506 19.8336C15.9809 19.6571 15.946 19.4883 15.946 19.3271H19.5009C19.7883 19.3271 20.0343 19.2248 20.2391 19.0201C20.4439 18.8153 20.5463 18.5693 20.5463 18.2816V10.0456C20.5463 9.75803 20.4439 9.51199 20.239 9.30719ZM19.7098 16.6088C19.7098 16.6654 19.6892 16.7144 19.6478 16.7558C19.6063 16.7971 19.5573 16.8178 19.5007 16.8178H9.04552C8.98892 16.8178 8.93989 16.7971 8.89851 16.7558C8.85716 16.7142 8.83644 16.6654 8.83644 16.6088V10.0456C8.83644 9.98892 8.85709 9.93994 8.89851 9.89856C8.93992 9.85725 8.98894 9.83649 9.04552 9.83649H19.5008C19.5574 9.83649 19.6065 9.85718 19.6478 9.89856C19.6892 9.93996 19.7098 9.98894 19.7098 10.0456V16.6088Z" fill="white" stroke="white" stroke-width="0.5"/></svg>',apple:'<svg width="30" height="30" viewBox="0 0 30 30" fill="none" ><path opacity="0.802967" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#666666"/><path fill-rule="evenodd" clip-rule="evenodd" d="M20.9686 17.6609C20.8849 17.9033 20.7972 18.1347 20.7041 18.3566C20.4766 18.881 20.2081 19.3635 19.897 19.8065C19.4737 20.4114 19.1263 20.8299 18.8585 21.0621C18.444 21.4435 17.9994 21.6394 17.5232 21.6496C17.1812 21.6496 16.7698 21.5525 16.2897 21.3559C15.8087 21.1592 15.3665 21.0621 14.9622 21.0621C14.5381 21.0621 14.0833 21.1592 13.5968 21.3559C13.1096 21.5525 12.7171 21.6559 12.417 21.6654C11.9606 21.6852 11.5057 21.4846 11.0516 21.0621C10.7618 20.8094 10.3993 20.3758 9.96501 19.7623C9.49909 19.1068 9.11608 18.3463 8.816 17.4792C8.49459 16.5435 8.3335 15.6369 8.3335 14.7595C8.3335 13.7543 8.55066 12.8872 8.98578 12.1607C9.32772 11.5771 9.78259 11.1167 10.352 10.7787C10.9213 10.4407 11.5365 10.2685 12.1991 10.2575C12.5615 10.2575 13.0369 10.3696 13.6276 10.59C14.2167 10.8111 14.595 10.9232 14.7608 10.9232C14.8848 10.9232 15.3049 10.7921 16.0172 10.5307C16.6908 10.2883 17.2594 10.188 17.7253 10.2275C18.9873 10.3294 19.9349 10.8269 20.5659 11.7232C19.4374 12.407 18.8791 13.3649 18.8901 14.5937C18.9004 15.5508 19.2471 16.3476 19.9294 16.9802C20.2389 17.2731 20.5848 17.4998 20.9686 17.6609ZM17.794 6.66675C17.8043 6.76704 17.809 6.86733 17.809 6.96683C17.809 7.71704 17.535 8.4175 16.9893 9.06584C16.3299 9.83658 15.5324 10.282 14.6676 10.2117C14.6566 10.1217 14.6503 10.0269 14.6503 9.9274C14.6503 9.2072 14.9638 8.43645 15.5205 7.80628C15.7985 7.48724 16.1523 7.2219 16.5803 7.01027C17.0083 6.80179 17.4134 6.68649 17.794 6.66675Z" fill="white"/></svg>',langExpand:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 15 10" fill="none" ><path d="M0.557617 2.5576L2.20262 0.912598L7.55762 6.25593L12.9126 0.912598L14.5576 2.5576L7.55762 9.5576L0.557617 2.5576Z" fill="black" fill-opacity="0.7"/></svg>',langSelect:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 16 12" fill="none" ><path d="M5.45455 9.36111L2.14899 6.05555L2.11364 6.0202L2.07828 6.05555L0.964645 7.16919L0.929289 7.20455L0.964645 7.2399L5.41919 11.6944L5.45455 11.7298L5.4899 11.6944L15.0354 2.14899L15.0707 2.11364L15.0354 2.07828L13.9217 0.964645L13.8864 0.929289L13.851 0.964645L5.45455 9.36111Z" fill="#005BF0" stroke="#005BF0" stroke-width="0.1"/></svg>',manageAccount:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 24 20" fill="none" ><path fill-rule="evenodd" clip-rule="evenodd" d="M14.8939 9.14809C14.8939 9.14809 15.9901 7.67638 15.9901 6.06451C15.9901 4.97077 15.9901 3.60968 15.378 2.39577C14.8261 1.3025 13.5928 0 10.8519 0C8.11032 0 6.87704 1.3025 6.3258 2.39562C5.71283 3.60968 5.71283 4.97061 5.71283 6.06436C5.71283 7.67685 6.48205 9.51778 7.80923 11.1479C7.49173 11.4476 6.18533 12.1007 5.40033 12.4925C3.84362 13.2712 2.85581 13.7864 2.26503 14.3767C0.957376 15.6853 0.858471 17.8807 0.851752 18.3079C0.845033 18.7535 1.01722 19.1843 1.33097 19.5029C1.64347 19.8202 2.07206 19.9998 2.51768 19.9998H14.1847V18.7499H2.51768C2.40722 18.7499 2.29925 18.7048 2.22159 18.6254C2.14409 18.5467 2.10019 18.4381 2.10128 18.327C2.10487 18.1176 2.16237 16.2481 3.14893 15.2612C3.6044 14.8059 4.55783 14.3121 5.95955 13.6107C7.45579 12.8631 8.28548 12.4175 8.66766 12.0562L9.51125 11.2586L8.77876 10.3589C7.62501 8.94169 6.96267 7.37607 6.96267 6.06451C6.96267 5.05311 6.96267 3.90749 7.44126 2.95905C8.01438 1.82499 9.16079 1.25 10.8519 1.25C12.5416 1.25 13.6892 1.82499 14.2619 2.95843C14.7405 3.90749 14.7405 5.05311 14.7405 6.06451C14.6742 6.4601 14.6529 6.7087 14.6374 6.88973C14.5966 7.36559 14.5958 7.37448 13.9236 8.35887L13.1911 9.25918L14.0348 10.0564C14.8939 9.5 14.8939 9.14809 14.8939 9.14809ZM22.5496 13.8889H23.4852C23.7691 13.8889 24 14.1198 24 14.4037V15.5961C24 15.88 23.7691 16.1111 23.4852 16.1111H22.5496C22.3993 16.1111 22.2752 16.1939 22.2178 16.3328C22.1604 16.4717 22.1894 16.618 22.2956 16.7243L22.957 17.3856C23.0543 17.483 23.1078 17.6122 23.1078 17.7496C23.1078 17.8872 23.0543 18.0167 22.957 18.1139L22.1139 18.957C21.9194 19.1515 21.5804 19.1519 21.3856 18.957L20.7243 18.2957C20.6363 18.208 20.5394 18.1894 20.4739 18.1894C20.2956 18.1894 20.1109 18.3241 20.1109 18.5496V19.485C20.1109 19.7689 19.88 20 19.5961 20H18.4037C18.1198 20 17.8889 19.7689 17.8891 19.485V18.5496C17.8891 18.3243 17.7044 18.1894 17.5261 18.1894C17.4604 18.1894 17.3637 18.2078 17.2757 18.2957L16.6144 18.957C16.4196 19.152 16.0807 19.1517 15.8861 18.957L15.043 18.1139C14.9457 18.0165 14.8922 17.8872 14.8922 17.7496C14.8922 17.6122 14.9457 17.4828 15.043 17.3856L15.7044 16.7243C15.8106 16.618 15.8398 16.4717 15.7822 16.3328C15.7246 16.1939 15.6007 16.1111 15.4504 16.1111H14.5148C14.2309 16.1111 14 15.88 14 15.5959V14.4037C14 14.1198 14.2309 13.8889 14.5148 13.8889H15.4504C15.6007 13.8889 15.7246 13.8061 15.782 13.6672C15.8394 13.5283 15.8104 13.382 15.7043 13.2757L15.0428 12.6144C14.9456 12.517 14.892 12.3878 14.892 12.2504C14.892 12.1128 14.9456 11.9833 15.0428 11.8861L15.8859 11.043C16.0804 10.8485 16.4194 10.8481 16.6143 11.043L17.2756 11.7043C17.3635 11.792 17.4602 11.8106 17.5257 11.8106C17.7043 11.8106 17.8889 11.6759 17.8889 11.4504V10.5148C17.8889 10.2309 18.1198 10 18.4037 10H19.5963C19.8802 10 20.1111 10.2309 20.1111 10.5148V11.4504C20.1111 11.5804 20.1711 11.6637 20.2213 11.7107C20.2893 11.7743 20.3813 11.8106 20.4739 11.8106C20.5396 11.8106 20.6363 11.7922 20.7243 11.7043L21.3856 11.043C21.5804 10.8481 21.9194 10.8485 22.1139 11.043L22.957 11.8861C23.0543 11.9835 23.1078 12.1128 23.1078 12.2504C23.1078 12.3878 23.0543 12.5172 22.957 12.6144L22.2956 13.2757C22.1894 13.382 22.1602 13.5283 22.2178 13.6672C22.2754 13.8061 22.3993 13.8889 22.5496 13.8889ZM19 16.2963C19.7146 16.2963 20.2963 15.7146 20.2963 15C20.2963 14.2854 19.7146 13.7037 19 13.7037C18.2854 13.7037 17.7037 14.2854 17.7037 15C17.7037 15.7146 18.2854 16.2963 19 16.2963Z" fill="#666666" /></svg>',externalLink:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100" viewBox="0 0 24 25" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.3521 5.68455C19.3891 5.77155 19.4091 5.91455 19.4091 5.91455H19.3901V10.8506C19.3901 11.2506 19.0761 11.4736 18.6751 11.4736H18.6851C18.2841 11.4736 17.9411 11.2506 17.9411 10.8506V7.76755L11.6751 14.0686C11.3921 14.3526 10.9331 14.3456 10.6921 14.0626V14.0496C10.4501 13.7666 10.3851 13.2816 10.6691 12.9996L16.9531 6.63955H13.8701C13.4701 6.63955 13.1081 6.34155 13.1081 5.94055V5.96655C13.1081 5.56655 13.4701 5.19055 13.8701 5.19055H18.7021H18.6661V5.24055C18.9071 5.24055 19.2421 5.42355 19.3521 5.68455ZM16.1901 12.3766L17.6401 13.8266V18.3996C17.6401 19.1996 17.0101 19.8096 16.2101 19.8096H6.05906C5.25906 19.8096 4.59106 19.1996 4.59106 18.3996V8.25055C4.59106 7.45055 5.25906 6.76055 6.06006 6.76055H10.6321L12.0821 8.21055H6.04206V18.3605H16.1901V12.3766Z" fill="#555555"/></svg>',iconMore:'<svg width="25" height="18" viewBox="0 0 25 18" fill="none" ><path d="M17.3473 0.85H2.41024C1.77929 0.85 1.26862 1.36067 1.26862 1.99162V15.9328C1.26862 16.5638 1.77929 17.0744 2.41024 17.0744H17.2825C17.6663 17.0744 18.0181 16.8742 18.2305 16.5634L23.2966 8.95722L18.2305 1.35106C18.0048 1.02022 17.7088 0.85 17.3473 0.85Z" stroke="#666666" stroke-width="1.7"/><circle cx="8" cy="9" r="2" fill="#666666"/><circle cx="14" cy="9" r="2" fill="#666666"/></svg>',urlSetting:'<svg class="mgPlayerJSqa_matching-algorithm-icon" overflow="visible" preserveAspectRatio="none" viewBox="0 0 21 18" width="21" height="21"><g class="mgPlayerJSqa_rule-engine-variable" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="mgPlayerJSqa_matching-algorithm-svg" transform="translate(0, 0) rotate(0)" fill="#7A7A7A" stroke="#7A7A7A"><path d="M13.01895,14.39189c-0.01254,-0.12894 -0.01895,-0.25966 -0.01895,-0.39189c0,-2.20914 1.79086,-4 4,-4c0.11772,0 0.23426,0.00509 0.3494,0.01505v-6.77181h-16.6988v10.13514c0,0.55975 0.48547,1.01351 1.08434,1.01351zM13.01895,14.39189c0.0202,0.20777 0.0563,0.41088 0.10706,0.60811zM18.00006,10.12603c1.7252,0.44406 2.99994,2.01015 2.99994,3.87397c0,2.20914 -1.79086,4 -4,4c-1.86382,0 -3.42991,-1.27475 -3.87397,-2.99995l-11.39109,-0.00005c-0.95818,0 -1.73494,-0.72602 -1.73494,-1.62162v-11.75676c0,-0.8956 0.77676,-1.62162 1.73494,-1.62162h14.53012c0.95818,0 1.73494,0.72602 1.73494,1.62162v8.5044zM0.6506,2.43243h16.6988v-0.81081c0,-0.55975 -0.48547,-1.01351 -1.08434,-1.01351h-14.53012c-0.59886,0 -1.08434,0.45377 -1.08434,1.01351zM9.08352,6.79157c0.67617,0.2842 1.54621,1.0281 2.66291,2.24836c0.82275,0.73575 1.25358,1.44229 1.25358,2.13334c0,1.03887 -0.96457,1.82674 -2.0587,1.82674c-0.64928,0 -1.43267,-0.35416 -2.40568,-1.04146c-0.22538,-0.1592 -0.26271,-0.45046 -0.08337,-0.65054c0.17934,-0.20008 0.50743,-0.23321 0.73282,-0.07401c0.80277,0.56705 1.40668,0.84007 1.75623,0.84007c0.53657,0 1.01566,-0.39132 1.01566,-0.9008c0,-0.40792 -0.30927,-0.91127 -0.96761,-1.49602l-0.01914,-0.017l-0.01705,-0.01866c-1.03076,-1.12826 -1.82061,-1.80494 -2.31598,-2.01315c-0.39136,-0.16449 -0.86744,-0.07696 -1.48189,0.32473c-0.23193,0.15162 -0.5584,0.10762 -0.72919,-0.09826c-0.17079,-0.20589 -0.12124,-0.4957 0.11069,-0.64732c0.89637,-0.58598 1.76316,-0.74536 2.54673,-0.41602zM6.84152,10.30997c-0.67197,-0.29927 -1.52993,-1.06688 -2.62644,-2.32062c-0.81076,-0.75854 -1.22963,-1.4807 -1.21743,-2.17966c0.01834,-1.05076 0.99799,-1.83078 2.09345,-1.81166c0.65007,0.01135 1.42816,0.38325 2.39021,1.09542c0.22285,0.16496 0.25508,0.46021 0.07199,0.65944c-0.18309,0.19923 -0.51217,0.22701 -0.73501,0.06205c-0.79374,-0.58757 -1.39356,-0.87427 -1.74353,-0.88038c-0.53722,-0.00938 -1.0238,0.37804 -1.03279,0.89335c-0.0072,0.41259 0.29355,0.92711 0.94238,1.53004l0.01886,0.01752l0.01674,0.01917c1.01209,1.15918 1.79096,1.85741 2.28325,2.07665c0.38893,0.17321 0.86713,0.093 1.48942,-0.30255c0.23489,-0.1493 0.56097,-0.0991 0.72834,0.11213c0.16737,0.21123 0.11263,0.50349 -0.12225,0.65279c-0.9078,0.57702 -1.77846,0.72307 -2.55717,0.37627zM17,17.31429c1.83043,0 3.31429,-1.48386 3.31429,-3.31429c0,-1.83043 -1.48386,-3.31429 -3.31429,-3.31429c-1.83043,0 -3.31429,1.48386 -3.31429,3.31429c0,1.83043 1.48386,3.31429 3.31429,3.31429zM16.81064,14.86317c-0.18135,0.18244 -0.47561,0.18244 -0.65688,0l-1.01775,-1.02383c-0.18135,-0.18235 -0.18135,-0.47837 0,-0.66072c0.18127,-0.18244 0.47553,-0.18244 0.65688,0l0.60638,0.60991c0.04578,0.04596 0.12008,0.04596 0.16595,0l1.64189,-1.65171c0.18127,-0.18244 0.47553,-0.18244 0.65688,0c0.08709,0.08761 0.13601,0.20647 0.13601,0.33036c0,0.12388 -0.04893,0.24275 -0.13601,0.33036z" style="stroke-width: 0; stroke-linecap: butt; stroke-linejoin: miter; fill: rgb(115, 115, 148);" vector-effect="non-scaling-stroke" /></g></g></svg>',iconCookiePolicy:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100"  width="42" height="42" viewBox="0 0 42 42" fill="none"><path d="M41.1625 19.3827C38.4609 18.4126 36.7993 15.6633 37.0081 13.4923C37.0081 13.1354 36.7942 12.8037 36.5238 12.5695C36.2535 12.3363 35.8341 12.2354 35.4832 12.2919C31.3664 12.8959 27.5967 9.88409 27.2232 5.65046C27.1896 5.26835 26.9805 4.92464 26.6561 4.71915C26.3329 4.5149 25.9302 4.47044 25.5734 4.60382C22.2365 5.82584 19.0834 3.61624 17.8253 0.737111C17.5898 0.19874 17.0058 -0.098049 16.4302 0.0293456C6.95781 2.14304 0 11.2922 0 21.0001C0 32.5346 9.46559 42.0001 21 42.0001C32.5344 42.0001 42 32.5346 42 21.0001C41.9658 20.2673 41.9607 19.6687 41.1625 19.3827ZM8.63379 22.3232C7.95424 22.3232 7.40332 21.7723 7.40332 21.0928C7.40332 20.413 7.95424 19.8623 8.63379 19.8623C9.31334 19.8623 9.86426 20.413 9.86426 21.0928C9.86426 21.7723 9.31325 22.3232 8.63379 22.3232ZM13.6172 32.0744C11.5817 32.0744 9.92578 30.4185 9.92578 28.383C9.92578 26.3474 11.5817 24.6916 13.6172 24.6916C15.6527 24.6916 17.3086 26.3474 17.3086 28.383C17.3086 30.4185 15.6528 32.0744 13.6172 32.0744ZM14.8477 17.3087C13.491 17.3087 12.3867 16.2044 12.3867 14.8478C12.3867 13.4912 13.491 12.3869 14.8477 12.3869C16.2043 12.3869 17.3086 13.4912 17.3086 14.8478C17.3086 16.2044 16.2043 17.3087 14.8477 17.3087ZM24.6914 34.5353C23.3348 34.5353 22.2305 33.431 22.2305 32.0744C22.2305 30.7177 23.3348 29.6134 24.6914 29.6134C26.048 29.6134 27.1523 30.7177 27.1523 32.0744C27.1523 33.431 26.048 34.5353 24.6914 34.5353ZM25.9219 24.6916C23.8864 24.6916 22.2305 23.0357 22.2305 21.0001C22.2305 18.9646 23.8864 17.3087 25.9219 17.3087C27.9574 17.3087 29.6133 18.9646 29.6133 21.0001C29.6133 23.0357 27.9575 24.6916 25.9219 24.6916ZM33.2432 27.2451C32.5636 27.2451 32.0127 26.6942 32.0127 26.0146C32.0127 25.3349 32.5636 24.7842 33.2432 24.7842C33.9227 24.7842 34.4736 25.3349 34.4736 26.0146C34.4736 26.6942 33.9226 27.2451 33.2432 27.2451Z" fill="#454560" /></svg>',app_selected:'<svg class="mgPlayerJSqa_position-center mgPlayerJSqa_width-height-100"  viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="12" fill="#005BF0" /><path d="M18.68 7.33624C19.1067 7.78479 19.1067 8.51188 18.68 8.9602L11.3527 16.6638C10.9261 17.1121 10.2347 17.1121 9.80806 16.6638L6.31999 12.9964C5.89334 12.5481 5.89334 11.821 6.31999 11.3727C6.74642 10.9242 7.43802 10.9242 7.86446 11.3727L10.5803 14.2279L17.1353 7.33624C17.562 6.88792 18.2536 6.88792 18.68 7.33624Z" fill="white" /></svg>',select_application:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" class="mgPlayerJSqa_ng-scope"><g filter="url(#mgPlayerJSqa_filter0_d)"><path d="M3.07775 4.15381C4.22479 4.15381 5.15465 3.22395 5.15465 2.07691C5.15465 0.929863 4.22479 0 3.07775 0C1.9307 0 1.00084 0.929863 1.00084 2.07691C1.00084 3.22395 1.9307 4.15381 3.07775 4.15381Z" fill="#ACADC1"></path><path d="M10.0008 4.15381C11.1479 4.15381 12.0777 3.22395 12.0777 2.07691C12.0777 0.929863 11.1479 0 10.0008 0C8.8538 0 7.92393 0.929863 7.92393 2.07691C7.92393 3.22395 8.8538 4.15381 10.0008 4.15381Z" fill="#ACADC1"></path><path d="M16.923 4.15381C18.0701 4.15381 18.9999 3.22395 18.9999 2.07691C18.9999 0.929863 18.0701 0 16.923 0C15.776 0 14.8461 0.929863 14.8461 2.07691C14.8461 3.22395 15.776 4.15381 16.923 4.15381Z" fill="#ACADC1"></path><path class="mgPlayerJSqa_app-icon-dot" d="M3.07691 11.0769C4.22395 11.0769 5.15381 10.147 5.15381 9C5.15381 7.85296 4.22395 6.9231 3.07691 6.9231C1.92986 6.9231 1 7.85296 1 9C1 10.147 1.92986 11.0769 3.07691 11.0769Z" fill="#005BF0"></path><path class="mgPlayerJSqa_app-icon-dot" d="M10.0008 11.0769C11.1479 11.0769 12.0777 10.147 12.0777 9C12.0777 7.85296 11.1479 6.9231 10.0008 6.9231C8.8538 6.9231 7.92393 7.85296 7.92393 9C7.92393 10.147 8.8538 11.0769 10.0008 11.0769Z" fill="#005BF0"></path><path d="M16.923 11.0769C18.0701 11.0769 18.9999 10.147 18.9999 9C18.9999 7.85296 18.0701 6.9231 16.923 6.9231C15.776 6.9231 14.8461 7.85296 14.8461 9C14.8461 10.147 15.776 11.0769 16.923 11.0769Z" fill="#F8F8FB"></path><path class="mgPlayerJSqa_app-icon-dot" d="M3.07691 17.9996C4.22395 17.9996 5.15381 17.0698 5.15381 15.9227C5.15381 14.7757 4.22395 13.8458 3.07691 13.8458C1.92986 13.8458 1 14.7757 1 15.9227C1 17.0698 1.92986 17.9996 3.07691 17.9996Z" fill="#005BF0"></path><path d="M10.0008 17.9996C11.1479 17.9996 12.0777 17.0698 12.0777 15.9227C12.0777 14.7757 11.1479 13.8458 10.0008 13.8458C8.8538 13.8458 7.92393 14.7757 7.92393 15.9227C7.92393 17.0698 8.8538 17.9996 10.0008 17.9996Z" fill="#F8F8FB"></path><path d="M16.923 17.9996C18.0701 17.9996 18.9999 17.0698 18.9999 15.9227C18.9999 14.7757 18.0701 13.8458 16.923 13.8458C15.776 13.8458 14.8461 14.7757 14.8461 15.9227C14.8461 17.0698 15.776 17.9996 16.923 17.9996Z" fill="#F8F8FB"></path></g><defs><filter id="mgPlayerJSqa_filter0_d" x="0" y="0" width="19.9999" height="19.9996" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset dy="1"></feOffset><feGaussianBlur stdDeviation="0.5"></feGaussianBlur><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.187664 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"></feBlend></filter></defs></svg>',maintenance_icon:'<svg  viewBox="0 0 278 236.4"><defs><style>.cls-1{isolation:isolate;}.cls-2{fill:none;stroke:#cde7f5;stroke-miterlimit:10;}.cls-3{fill:#ced1da;}.cls-4{fill:#e7e9f0;}.cls-5{fill:#c9cbd6;}.cls-6{opacity:0.5;}.cls-7{fill:#c9cbd6;}.cls-8{fill:#468bca;}.cls-9{fill:#6fb3e3;}.cls-10{fill:#cde7f5;}.cls-11{fill:#fecc91;}.cls-12{fill:#8cc752;}.cls-13{fill:#b4e4fa;}.cls-14{fill:#fcb149;}.cls-15{fill:#f68740;}.cls-16,.cls-17{fill:#fbc4a9;}.cls-17,.cls-20,.cls-26{opacity:0.2;}.cls-17,.cls-20,.cls-25,.cls-26{mix-blend-mode:multiply;}.cls-18{fill:#55bdec;}.cls-19{fill:#2aaae2;}.cls-20{fill:#185771;}.cls-21{fill:#efb184;}.cls-22{fill:#60b9e7;}.cls-23{fill:#181817;}.cls-24{fill:#e16ca9;}.cls-25{fill:#13405e;opacity:0.3;}.cls-26{fill:#194c6d;}.cls-27{fill:#b5b9bc;}.cls-28{fill:#7e8283;}.cls-29{fill:#e3e5e5;}.cls-30{fill:#bdbbbb;}.cls-31{fill:#d3d1d0;}.cls-32{fill:#d6dfe6;}.cls-33{fill:#eaf0f4;}.cls-34{fill:#7fcff4;}.cls-35{fill:#301b0f;}.cls-36{fill:#e8a477;}.cls-37{fill:#dc976a;}.cls-38{fill:#f1b387;}.cls-39{fill:#25170d;}.cls-40{fill:#93d9f8;}</style></defs><title>Graphics for switch off</title><g class="cls-1"><g class="Layer_2" data-name="Layer 2"><path class="cls-2" d="M88.24,184.61a4,4,0,0,1,4-4H217.94a4,4,0,0,1,4,4" transform="translate(-11 -6.8)"/><path class="cls-3" d="M222.12,150.94H221a3.43,3.43,0,0,0-3.42-3.43H91.87a3.44,3.44,0,0,0-3.43,3.43H87.32a4.55,4.55,0,0,1,4.55-4.55H217.58A4.55,4.55,0,0,1,222.12,150.94Z" transform="translate(-11 -6.8)"/><path class="cls-2" d="M87.57,116.76a4,4,0,0,1,4-4H217.27a4,4,0,0,1,4,4" transform="translate(-11 -6.8)"/><rect class="cls-4" x="100.57" y="189.13" width="86.92" height="17.98"/><circle class="cls-5" cx="118.32" cy="198.51" r="1.88"/><circle class="cls-5" cx="124.41" cy="198.51" r="1.88"/><circle class="cls-5" cx="131.4" cy="198.51" r="1.88"/><circle class="cls-5" cx="137.5" cy="198.51" r="1.88"/><circle class="cls-5" cx="144.31" cy="198.51" r="1.88"/><circle class="cls-5" cx="150.4" cy="198.51" r="1.88"/><circle class="cls-5" cx="157.39" cy="198.51" r="1.88"/><circle class="cls-5" cx="163.49" cy="198.51" r="1.88"/><circle class="cls-5" cx="169.7" cy="198.51" r="1.88"/><rect class="cls-5" y="204.87" width="278" height="4.47"/><rect class="cls-4" x="100.43" y="49.71" width="86.83" height="13.74"/><g class="cls-6"><path class="cls-7" d="M121.28,70.81H34.41a1.76,1.76,0,0,0-1.75,1.75v23.9a1.75,1.75,0,0,0,1.75,1.74h86.87A1.75,1.75,0,0,0,123,96.46V72.56A1.76,1.76,0,0,0,121.28,70.81ZM42.52,89.37a1.54,1.54,0,1,1-3.07,0V78.49a1.54,1.54,0,0,1,3.07,0Zm5.18,0a1.54,1.54,0,1,1-3.07,0V78.49a1.54,1.54,0,0,1,3.07,0Zm5.19,0a1.54,1.54,0,1,1-3.08,0V78.49a1.54,1.54,0,0,1,3.08,0Zm43.56-1.53H63.85a3.59,3.59,0,0,1,0-7.17h32.6a3.59,3.59,0,0,1,0,7.17Zm13.82-.21a3.38,3.38,0,1,1,3.38-3.38A3.38,3.38,0,0,1,110.27,87.63Z" transform="translate(-11 -6.8)"/><path class="cls-7" d="M121.28,113.79H34.41a1.76,1.76,0,0,0-1.75,1.75v23.9a1.75,1.75,0,0,0,1.75,1.74h86.87a1.75,1.75,0,0,0,1.75-1.74v-23.9A1.76,1.76,0,0,0,121.28,113.79ZM42.52,132.35a1.54,1.54,0,1,1-3.07,0V121.47a1.54,1.54,0,0,1,3.07,0Zm5.18,0a1.54,1.54,0,1,1-3.07,0V121.47a1.54,1.54,0,0,1,3.07,0Zm5.19,0a1.54,1.54,0,0,1-3.08,0V121.47a1.54,1.54,0,0,1,3.08,0Zm43.56-1.54H63.85a3.58,3.58,0,0,1,0-7.16h32.6a3.58,3.58,0,0,1,0,7.16Zm13.82-.2a3.38,3.38,0,1,1,3.38-3.38A3.38,3.38,0,0,1,110.27,130.61Z" transform="translate(-11 -6.8)"/><path class="cls-7" d="M278.11,10.64H155.68a1.75,1.75,0,0,0-1.75,1.75V47.07a1.74,1.74,0,0,0,1.75,1.74H278.11a1.75,1.75,0,0,0,1.75-1.74V12.39A1.76,1.76,0,0,0,278.11,10.64ZM167.66,37A1.68,1.68,0,0,1,166,38.65h-.93A1.69,1.69,0,0,1,163.38,37V20.88a1.69,1.69,0,0,1,1.68-1.68H166a1.68,1.68,0,0,1,1.67,1.68Zm7.23,0a1.69,1.69,0,0,1-1.68,1.68h-.93A1.68,1.68,0,0,1,170.61,37V20.88a1.68,1.68,0,0,1,1.67-1.68h.93a1.69,1.69,0,0,1,1.68,1.68Zm7.22,0a1.68,1.68,0,0,1-1.68,1.68h-.92A1.68,1.68,0,0,1,177.83,37V20.88a1.68,1.68,0,0,1,1.68-1.68h.92a1.68,1.68,0,0,1,1.68,1.68Zm65.7-6.52a3.93,3.93,0,0,1-3.91,3.92H196.31a3.93,3.93,0,0,1-3.91-3.92V28.29a3.92,3.92,0,0,1,3.91-3.91H243.9a3.92,3.92,0,0,1,3.91,3.91Zm14.27,3.63a4.71,4.71,0,1,1,4.71-4.71A4.71,4.71,0,0,1,262.08,34.08Z" transform="translate(-11 -6.8)"/><path class="cls-7" d="M279.79,87.82H157.35a1.75,1.75,0,0,0-1.74,1.75v34.67a1.75,1.75,0,0,0,1.74,1.75H279.79a1.75,1.75,0,0,0,1.74-1.75V89.57A1.75,1.75,0,0,0,279.79,87.82ZM169.34,114.15a1.68,1.68,0,0,1-1.68,1.67h-.92a1.68,1.68,0,0,1-1.68-1.67V98.06a1.68,1.68,0,0,1,1.68-1.68h.92a1.69,1.69,0,0,1,1.68,1.68Zm7.22,0a1.67,1.67,0,0,1-1.67,1.67H174a1.68,1.68,0,0,1-1.68-1.67V98.06A1.69,1.69,0,0,1,174,96.38h.93a1.68,1.68,0,0,1,1.67,1.68Zm7.23,0a1.68,1.68,0,0,1-1.68,1.67h-.93a1.67,1.67,0,0,1-1.67-1.67V98.06a1.68,1.68,0,0,1,1.67-1.68h.93a1.69,1.69,0,0,1,1.68,1.68Zm65.7-6.52a3.93,3.93,0,0,1-3.92,3.91H198a3.92,3.92,0,0,1-3.92-3.91v-2.16a3.93,3.93,0,0,1,3.92-3.92h47.58a3.93,3.93,0,0,1,3.92,3.92Zm14.26,3.63a4.71,4.71,0,1,1,4.71-4.71A4.7,4.7,0,0,1,263.75,111.26Z" transform="translate(-11 -6.8)"/><g class="Settings"><path class="cls-7" d="M104.64,25.81a1.4,1.4,0,0,0-1.38-1A4.73,4.73,0,0,1,100,16.54a1.18,1.18,0,0,0,.13-1.61,20.65,20.65,0,0,0-3.38-3.42,1.18,1.18,0,0,0-1.63.13,4.92,4.92,0,0,1-5.33,1.19,4.75,4.75,0,0,1-2.89-4.64,1.19,1.19,0,0,0-1.05-1.25,21.49,21.49,0,0,0-4.81,0A1.19,1.19,0,0,0,80,8.15a4.76,4.76,0,0,1-2.93,4.57,5,5,0,0,1-5.29-1.21,1.18,1.18,0,0,0-1.61-.13,21.06,21.06,0,0,0-3.46,3.41,1.18,1.18,0,0,0,.13,1.63A4.76,4.76,0,0,1,68,21.76a5,5,0,0,1-4.65,2.89,1.16,1.16,0,0,0-1.24,1,22,22,0,0,0,0,4.87,1.42,1.42,0,0,0,1.41,1.05A4.68,4.68,0,0,1,68,34.54a4.78,4.78,0,0,1-1.2,5.29,1.18,1.18,0,0,0-.13,1.61A21.44,21.44,0,0,0,70,44.86a1.19,1.19,0,0,0,1.63-.13A4.93,4.93,0,0,1,77,43.53a4.72,4.72,0,0,1,2.89,4.64,1.2,1.2,0,0,0,1.05,1.25,21.5,21.5,0,0,0,4.81,0,1.18,1.18,0,0,0,1.06-1.22,4.77,4.77,0,0,1,2.93-4.56A4.93,4.93,0,0,1,95,44.85a1.2,1.2,0,0,0,1.62.14,21.12,21.12,0,0,0,3.46-3.42,1.21,1.21,0,0,0-.13-1.63,4.73,4.73,0,0,1-1.2-5.33,4.79,4.79,0,0,1,4.37-2.9h.27a1.19,1.19,0,0,0,1.25-1A21.35,21.35,0,0,0,104.64,25.81ZM83.43,35.36a7.13,7.13,0,1,1,7.13-7.13A7.14,7.14,0,0,1,83.43,35.36Z" transform="translate(-11 -6.8)"/></g><g class="Settings-2" data-name="Settings"><path class="cls-7" d="M67.54,158a.4.4,0,0,0-.4-.3,1.37,1.37,0,0,1-.93-2.39.33.33,0,0,0,0-.46,5.74,5.74,0,0,0-1-1,.34.34,0,0,0-.47,0,1.43,1.43,0,0,1-1.54.35,1.36,1.36,0,0,1-.84-1.34.34.34,0,0,0-.3-.37,6.55,6.55,0,0,0-1.4,0,.33.33,0,0,0-.3.35,1.4,1.4,0,0,1-.85,1.33,1.46,1.46,0,0,1-1.54-.35.33.33,0,0,0-.46,0,5.91,5.91,0,0,0-1,1,.35.35,0,0,0,0,.47,1.39,1.39,0,0,1,.35,1.55,1.46,1.46,0,0,1-1.35.83.34.34,0,0,0-.36.31,6.65,6.65,0,0,0,0,1.41.41.41,0,0,0,.4.3,1.37,1.37,0,0,1,.93,2.38.35.35,0,0,0,0,.47,5.8,5.8,0,0,0,1,1,.34.34,0,0,0,.47,0,1.41,1.41,0,0,1,1.54-.34,1.36,1.36,0,0,1,.84,1.34.34.34,0,0,0,.3.36,5.79,5.79,0,0,0,.72,0l.68,0a.34.34,0,0,0,.3-.36,1.38,1.38,0,0,1,.85-1.32,1.43,1.43,0,0,1,1.54.35.34.34,0,0,0,.46,0,6.75,6.75,0,0,0,1-1,.35.35,0,0,0,0-.47,1.37,1.37,0,0,1,.92-2.39h.08a.34.34,0,0,0,.36-.3A6.65,6.65,0,0,0,67.54,158Zm-6.15,2.77a2.07,2.07,0,1,1,2.07-2.07A2.07,2.07,0,0,1,61.39,160.79Z" transform="translate(-11 -6.8)"/></g></g><path class="cls-3" d="M222.48,211.92h-1.12V89a10.25,10.25,0,0,0-10.23-10.24H98.68A10.25,10.25,0,0,0,88.44,89V211.92H87.32V89A11.37,11.37,0,0,1,98.68,77.66H211.13A11.36,11.36,0,0,1,222.48,89Z" transform="translate(-11 -6.8)"/><rect class="cls-8" x="91.53" y="69.55" width="3.82" height="3.35"/><rect class="cls-8" x="191.59" y="69.55" width="3.82" height="3.35"/><rect class="cls-8" x="91.53" y="104.3" width="3.82" height="3.35"/><rect class="cls-8" x="191.59" y="104.3" width="3.82" height="3.35"/><rect class="cls-8" x="91.53" y="138.59" width="3.82" height="3.35"/><rect class="cls-8" x="191.59" y="138.59" width="3.82" height="3.35"/><rect class="cls-8" x="91.53" y="171.87" width="3.82" height="3.35"/><rect class="cls-8" x="191.59" y="171.87" width="3.82" height="3.35"/><rect class="cls-9" x="94.27" y="56.74" width="98.66" height="29.91" rx="1.56" ry="1.56"/><rect class="cls-10" x="101.68" y="63.45" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="107.34" y="63.45" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="113" y="63.45" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-8" x="124.41" y="67.5" width="43.41" height="7.83" rx="3.5" ry="3.5"/><circle class="cls-11" cx="179.01" cy="71.41" r="3.69"/><rect class="cls-9" x="94.27" y="90.09" width="98.66" height="29.91" rx="1.56" ry="1.56"/><rect class="cls-10" x="101.68" y="96.8" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="107.34" y="96.8" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="113" y="96.8" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-8" x="124.41" y="100.85" width="43.41" height="7.83" rx="3.5" ry="3.5"/><circle class="cls-12" cx="179.01" cy="104.77" r="3.69"/><rect class="cls-9" x="94.27" y="125.31" width="98.66" height="29.91" rx="1.56" ry="1.56"/><rect class="cls-10" x="101.68" y="132.02" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="107.34" y="132.02" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="113" y="132.02" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-8" x="124.41" y="136.07" width="43.41" height="7.83" rx="3.5" ry="3.5"/><circle class="cls-11" cx="179.01" cy="139.98" r="3.69"/><rect class="cls-9" x="94.27" y="159.22" width="98.66" height="29.91" rx="1.56" ry="1.56"/><rect class="cls-10" x="101.68" y="165.93" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="107.34" y="165.93" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="113" y="165.93" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-8" x="124.41" y="169.98" width="43.41" height="7.83" rx="3.5" ry="3.5"/><circle class="cls-12" cx="179.01" cy="173.9" r="3.69"/><path class="cls-3" d="M56.24,202.38l-.3-1.07c27.85-8,34.8-42.45,34.86-42.8v-66l0-.07A13.83,13.83,0,0,1,105.33,82l-.12,1.11c-.43,0-10.54-1-13.3,9.53v66C91.83,159.08,84.75,194.18,56.24,202.38Z" transform="translate(-11 -6.8)"/><path class="cls-3" d="M60.68,202.39l-.24-1.09c.24-.06,24.23-5.59,27.25-27.11V162.8l0-.1c0-.11,4.59-11.47,17.63-9.66l-.15,1.11A15.17,15.17,0,0,0,88.8,163v11.26C85.67,196.64,60.93,202.34,60.68,202.39Z" transform="translate(-11 -6.8)"/><path class="cls-13" d="M227.5,209s-5.12.09-5.73,1.39c0,0-1.13,2.08,5.3,1.65,0,0,4.86.26,4.86-.26,0,0,.17-2.26-1-2.6A2.65,2.65,0,0,1,227.5,209Z" transform="translate(-11 -6.8)"/><path class="cls-13" d="M242.25,210.21s2.84,4.78-3.9,3.47c0,0-3.55.38-4.5-.23-.59-.38-1.14-2.2.94-2.63,0,0,4.08-.17,4.17-.61C239,210.21,239.91,211.77,242.25,210.21Z" transform="translate(-11 -6.8)"/><path class="cls-14" d="M239.48,177.73c1.53,5.72,2.77,32.63,2.77,32.63s-3.12,1.39-3.29,0l-4.62-25.46L231,209.15s-2.08,1.56-3.47-.18c0,0,1.74-31.24.7-32.28C228.2,176.69,238.74,175,239.48,177.73Z" transform="translate(-11 -6.8)"/><path class="cls-15" d="M235.08,184.9l4.62,25.46a.68.68,0,0,0,.6.59c-.67.09-1.27,0-1.34-.59l-4.2-23.13Z" transform="translate(-11 -6.8)"/><path class="cls-15" d="M228.2,176.69l.79.07c.94,2-.74,32.21-.74,32.21a2,2,0,0,0,1.26.79,2,2,0,0,1-2-.79S229.24,177.73,228.2,176.69Z" transform="translate(-11 -6.8)"/><path class="cls-16" d="M229.84,136.81s-2.31,6.2-1.47,8.07c.34.76,2.86,1.73,2.86,1.73s.26,2.69-.26,3.13,0,.35,0,.35h3.3l.17.34s-.86-5.38-.78-5.9l2.61-1.56-1.39-4.25Z" transform="translate(-11 -6.8)"/><path class="cls-17" d="M229.84,136.81l.61.23c-.53,1.54-2,6-1.29,7.54.35.76,2.87,1.74,2.87,1.74s.26,2.69-.26,3.12,0,.35,0,.35h2.57l.1.64-.17-.34H231s-.52.08,0-.35.26-3.13.26-3.13-2.52-1-2.86-1.73C227.53,143,229.84,136.81,229.84,136.81Z" transform="translate(-11 -6.8)"/><path class="cls-15" d="M231,141.23s-2.55-2.51-3-5.2c0,0,1-3.13,5.29-.52,0,0,10.12,3.4.49,11.12C233.8,146.63,229.36,143.83,231,141.23Z" transform="translate(-11 -6.8)"/><polygon class="cls-16" points="230.61 167.74 230.16 169.13 228.27 169.63 227.43 168.24 230.01 167.04 230.61 167.74"/><path class="cls-18" d="M238.73,151.31l7.16,12.53-4.18,11.35-1.37-1.28,2.61-8-5.72-8.05S236.3,152.7,238.73,151.31Z" transform="translate(-11 -6.8)"/><path class="cls-19" d="M234.45,149.72a4.19,4.19,0,0,1,5,3.88s2,22.4.06,24.13c0,0-10.24,2.26-11.81-1.91,0,0-1.21-16.83-1.91-18,0,0-2.08-9.2,5.21-8Z" transform="translate(-11 -6.8)"/><path class="cls-18" d="M231.32,153.61s-.52,6.42-4.34,4.86l-16.31-7.29.69-2.26L224,153.09s2.34-3.32,4.6-3.32C228.63,149.77,231.32,151.7,231.32,153.61Z" transform="translate(-11 -6.8)"/><path class="cls-16" d="M211.36,148.92,206.63,146s-.78.39.61,1.47l1.26,1.09s-1,.78-.4,1.43l2.57,1.22Z" transform="translate(-11 -6.8)"/><path class="cls-18" d="M236.76,158.62s1.49,10.45.6,11.94C237.36,170.56,236.07,160.41,236.76,158.62Z" transform="translate(-11 -6.8)"/><path class="cls-20" d="M225.76,157.77s2.6,16.1,1.91,18c0,0,1.3,2,2.9,2,0,0-2.19-1.1-2.19-2.29C228.38,175.49,226.54,158.56,225.76,157.77Z" transform="translate(-11 -6.8)"/><path class="cls-20" d="M240,160.86c.2.5,4.08,4.78,4.08,4.78l-3.76,8.27,2.61-8-3.23-4Z" transform="translate(-11 -6.8)"/><path class="cls-21" d="M55.66,191.63s2.55-.77,3.92,0,2.33.94,3.05,1.81.26,1.45-.63,1.53a10.08,10.08,0,0,1-4-.81,3.61,3.61,0,0,0-2.14-.41A1.19,1.19,0,0,1,55.66,191.63Z" transform="translate(-11 -6.8)"/><path class="cls-22" d="M39.36,173.64c1.25-.31,3.49.11,4.21,3.39s2.61,12.46,2.61,12.46,9.49,1.36,10.58,1.67a2,2,0,0,0-.75,2.72s-10.23,1.54-12.64-.57S34.21,174.89,39.36,173.64Z" transform="translate(-11 -6.8)"/><path class="cls-23" d="M52.69,234.23c.07-1.64.22-3.34.42-5.06l-5-.15c.3,1.08.6,2.16.85,3.16.18,2.54-1.72,3.23-.5,5.87a2.72,2.72,0,0,0,1.19,1.06A2.93,2.93,0,0,1,51.45,241a3.91,3.91,0,0,0,.85,1.29c1.46,1.32,4.88,1.2,5.61.06,1.05-1.61-3.68-5-5.12-7.88Z" transform="translate(-11 -6.8)"/><path class="cls-23" d="M66.22,222.92c.33-.19.34-.54.81-.94.32.61,1.28,1.23,1.59,1.81l.21.13c2.91,1.83,9,2.25,9,4.28,0,1.43-3,3.42-5.1,3.05a4.21,4.21,0,0,1-1.48-.7,3.17,3.17,0,0,0-2.64-.68,2.84,2.84,0,0,1-1.66-.29c-2.5-1.68-1.28-3.32-2.7-5.44C64.92,223.72,65.59,223.29,66.22,222.92Z" transform="translate(-11 -6.8)"/><path class="cls-24" d="M53.11,214.63a16.61,16.61,0,0,0-1.75-9.23c-1.93-3.66-10-7-10-7s-7,3.11-6.44,4.28c.3.66,10.79,11.11,11,11.6a3.3,3.3,0,0,1,.26,2.3c-.77,3.73.08,14.67,1.48,17.84,1,2.34,4.84,1.91,5.54.64.11-.23,0-17.92,0-20.44Z" transform="translate(-11 -6.8)"/><path class="cls-25" d="M53.76,214.83a1.21,1.21,0,0,1,0-.18C53.81,216.76,53.77,215.34,53.76,214.83Z" transform="translate(-11 -6.8)"/><path class="cls-25" d="M53.76,214.83c0-.11,0-.18,0-.18A1.21,1.21,0,0,0,53.76,214.83Z" transform="translate(-11 -6.8)"/><path class="cls-25" d="M40.49,198.15c.08,0,8.94,3.59,10.87,7.25,2.44,4.63,1.32,8.07,1.32,8.07h0c.49.62.48,3.84.52,5.88-2.52-2-2.59-8.21-6.17-6-.64.2-.18,13.42.95,18.57a18.8,18.8,0,0,0,1.36,3.86c-.58-.05-1.14-.24-1.72-1.31-.76-2.66-2.55-11.62-1.48-17.84a3.47,3.47,0,0,0-.26-2.3c-.21-.49-10.7-10.94-11-11.6C34.36,201.52,40.41,198.15,40.49,198.15Z" transform="translate(-11 -6.8)"/><path class="cls-24" d="M37.1,212.21C44,211.7,50,210.64,50,210.64c2.3,7.73,13.36,14.54,14.69,15.54.79-.1,2.8-2.22,3.42-3.17C66,219.56,56.19,206,53,203.88c-2-1.33-19.37-1.8-19.37-2.65,0-.35-4.15-.81-4.45-.82C25.73,200.4,25,213.09,37.1,212.21Z" transform="translate(-11 -6.8)"/><path class="cls-26" d="M29.18,200.41c.3,0,4.45.47,4.45.82s2.93.47,6.56.59a5,5,0,0,1-.74,1c-2.42,2.7-8.25.27-10.27,3.26-1.31,1.93,1.33,3.51,2.6,4,5.92,1.87,14,1.9,18.6-2,2,7.8,8.77,13.21,15.4,17.57a3.6,3.6,0,0,1-1.1.52c-1.33-1-12.39-7.81-14.69-15.54,0,0-6,1.06-12.89,1.57C25,213.09,25.73,200.4,29.18,200.41Z" transform="translate(-11 -6.8)"/><g class="cls-1"><polygon class="cls-27" points="27.68 196.08 27.63 196.62 35.44 202.19 35.49 201.65 27.68 196.08"/><polygon class="cls-28" points="35.49 201.65 35.44 202.19 50.02 195.48 50.07 194.95 35.49 201.65"/><polygon class="cls-29" points="27.68 196.08 35.49 201.65 50.07 194.95 42.27 189.38 27.68 196.08"/></g><g class="cls-1"><polygon class="cls-30" points="37.83 192.4 37.25 191.86 34.82 201.62 35.4 202.16 37.83 192.4"/><polygon class="cls-31" points="53.08 185.4 52.49 184.86 37.25 191.86 37.83 192.4 53.08 185.4"/><polygon class="cls-32" points="37.83 192.4 35.4 202.16 50.64 195.15 53.08 185.4 37.83 192.4"/><polygon class="cls-33" points="37.83 192.4 37.83 192.4 50.64 195.15 53.08 185.4 37.83 192.4"/></g><path class="cls-34" d="M26.41,179.8s3.06-5,14.69-6.28c0,0,1.88-.71,1.53,5.27A6.57,6.57,0,0,0,44,182c.58.81,2.1,3.85-1.53,7.34,0,0-1.52,5.31,0,8.81,1.36,3.13-6.35,5.92-12.81,5.1-.8-.1-2.56-.67-1.78-3.44s2.58-7.58,1.42-12.75S25.46,182.38,26.41,179.8Z" transform="translate(-11 -6.8)"/><path class="cls-22" d="M26.41,179.8c-.95,2.58,1.77,2,2.92,7.22s-.64,10-1.42,12.75,1,3.34,1.78,3.44a19.6,19.6,0,0,0,3.25.13c-2.12-5.05,1.05-14,1.34-19a8,8,0,0,0-4.42-7.49A10.31,10.31,0,0,0,26.41,179.8Z" transform="translate(-11 -6.8)"/><path class="cls-35" d="M39.3,164.16s-.92,6-1.45,11.67a1.9,1.9,0,0,0,2.29,1.94s4.53-6.64,1.26-13.46A6.45,6.45,0,0,0,31.88,162Z" transform="translate(-11 -6.8)"/><path class="cls-36" d="M40.31,172.05s-2.15,2.36-1.27,5c.24.72.8,3.69-3.61,2.33,0,0-4.56-2.49-3.12-3.84.95-.9,1.9-2.22.69-7Z" transform="translate(-11 -6.8)"/><path class="cls-37" d="M32.31,175.54a.69.69,0,0,0-.25.46,8.36,8.36,0,0,0,7.25-1.91L33.94,169h0l-.71.48C34.06,173.51,33.19,174.7,32.31,175.54Z" transform="translate(-11 -6.8)"/><path class="cls-38" d="M39.84,163.54s1.19.45,1.11,4c0,.39.6.93.74,1.91s.22,5-2.09,5.31a7.09,7.09,0,0,1-7-5C31.37,165.77,34.94,160.74,39.84,163.54Z" transform="translate(-11 -6.8)"/><path class="cls-39" d="M39.57,165s-10.31,3.42-3,16.79c0,0-5.34.35-7.57-4.3-1.06-2.23-.48-6.66,0-10.89,0,0,1.38-6.48,6.8-5.34C35.74,161.22,39.3,162.71,39.57,165Z" transform="translate(-11 -6.8)"/><path class="cls-35" d="M39.57,165s1.8-.28,2.56,3c0,0,0-9.28-8.86-6.75C33.27,161.24,38.49,161.66,39.57,165Z" transform="translate(-11 -6.8)"/><path class="cls-38" d="M34.63,170.54s-.57-2-1.72-1.42c-.36.18-.77.58-.26,1.61s1.61,2,2.5,1.9Z" transform="translate(-11 -6.8)"/><path class="cls-21" d="M41.2,196.82s2.54.16,3.4,1.28,2,2.28,2.29,3.31,0,1.37-.76,1.14a14.24,14.24,0,0,1-4-2.7,3.09,3.09,0,0,0-1.69-1.08C40.09,198.61,39.85,197.32,41.2,196.82Z" transform="translate(-11 -6.8)"/><path class="cls-37" d="M40.47,198.77a3.09,3.09,0,0,1,1.69,1.08,14.24,14.24,0,0,0,4,2.7,1.21,1.21,0,0,0,.31.06c-.62-.68-1.67-1.86-2.61-2.86a7.65,7.65,0,0,0-3.63-1.9A.86.86,0,0,0,40.47,198.77Z" transform="translate(-11 -6.8)"/><path class="cls-40" d="M27.75,178.74c1.21-.25,3.24.26,3.46,3.5s.78,12.33.78,12.33,8.61,1.71,9.57,2.06a1.76,1.76,0,0,0-1,2.32s-9.68,1.42-11.64-.75S22.82,179.77,27.75,178.74Z" transform="translate(-11 -6.8)"/><circle class="cls-11" cx="94.27" cy="146.6" r="1.53"/><circle class="cls-11" cx="94.27" cy="75.71" r="1.53"/></g></g></svg>'},ge.isForwardListenerAttached=!1,ge.isBackwardListenerAttached=!1,ge.userList={},ge.lastSearchTime=0,GmCXt.isSidePanelApp=!0,ge.showGuidesFromDesktopApp=!1,GmCXt.refreshBtnClickTime=0,ge.categoryStore=[],ge.publishedTours=[],ge.ssoDomain="",ge.selectedSegments=[],ge.howtoCaptureMode=!1;let hu=["user","userList","accessibility","organization","activeAppId","activeTourId","activeScreenCastTourId","activeTab","activeView","activeLang","activeVoice","userPrefLang","videosInProgress","currentTour","loginTime","trackerSecrets","allTourList","activeSortFilter","segmentGroupData","currentStep","appData","toursModifiedTime","currentPage","breadCrumb","showGuidesFromDesktopApp","howtoCaptureMode"];function yu(a,e,t){let r;e?(ge.subCategoryStore["cat_"+e]||(ge.subCategoryStore["cat_"+e]=[]),ge.subCategoryStore["cat_"+e].forEach(function(e,t){e.category_id===a.category_id&&(r=t)}),0<=r?t?ge.subCategoryStore["cat_"+e].splice(r,1):ge.subCategoryStore["cat_"+e].splice(r,1,a):t||ge.subCategoryStore["cat_"+e].push(a)):(ge.categoryStore.forEach(function(e,t){e.category_id===a.category_id&&(r=t)}),0<=r?t?ge.categoryStore.splice(r,1):ge.categoryStore.splice(r,1,a):t||ge.categoryStore.push(a))}function _u(e){Object.keys(e).forEach(function(e){parseInt(e)&&ge.notiTourIds.push(parseInt(e))})}function Su(a,r){if(ge.resetNotificationData(),a)for(let e=0,t=(a=GmCXt.sortToursByModifcationDate(a)).length;e<t;e++){var i=ge.notDefaultLang()?ge.getTranslatedTourAndSteps(a[e],ge.language):a[e];i&&!i.tour_settings.oneTimeNotification&&(r[i.tour_id]?ge.notifications.doNotShowTour.push({tour_id:i.tour_id,tour_title:i.tour_title}):GmCXt.inArray(i.tour_id,ge.notiTourIds)&&ge.notifications.snoozeTour.push({tour_id:i.tour_id,tour_title:i.tour_title}))}}function fu(){var e=GmCXt.organization;GmCXt.isEmpty(e)||(ge.updateCustomLabels(e.settings),ge.enableOrgFeatures(e))}function Pu(a){var r=[];if(r.push(GmCXt.defaultLang),a.translations)for(let e=0,t=a.translations.length;e<t;e++)GmCXt.isEmpty(a.translations[e].language)||r.push(a.translations[e]);else for(let e=0,t=a.length;e<t;e++)GmCXt.isEmpty(a[e].language)||r.push(a[e]);return GmCXt.removeDuplicates(r)}function Cu(e){ge.getLanguageList(),e?.settings?.enable_application_language_settings&&0<e?.settings?.app_languages?.length?ge.getAppOrgLanguage(e.settings.app_languages):ge.getAppOrgLanguage(),ge.updateLabels(),mg$("#mgPlayerJSqa_header-brand-logo").attr("src",GmCXt.brandLogo())}function bu(){ge.lms=!1,ge.chatBot=!1,ge._doitforme=!1,ge.maintenance=!1,ge.currentPageOnly=!1,ge.showAppSwitcher=!1,GmCXt.trackerUtil.enableTracking=!1,GmCXt.trackerUtil.trackPI=!1,GmCXt.FT.analytics=!1,ge.ruleCheck=!1,ge.displayAcceptCookiePopup=!0,ge.featureTracking=!1,ge.pageTracking=!1,ge.allGuideView=!1,ge.generateKeyword=!1,ge.currentPageBeacon=!1,ge.fqdn=!1,ge.guideSegmentation=!1,ge.mediafileCreation=!1,ge.createTooltipMediaFile=!1,GmCXt.trackerUtil.trackPI=!1,ge.enableGuidemeMode=!1}function qu(e){return new Promise(function(t,a){ge.showLoading(),GmCXt.log(21,"FETCHED apps.",e),ge.getCurrentAppObj(e).then(function(e){GmCXt.isEmpty(e)||GmCXt.isExcludeDomain()?GmCXt.isExcludeDomain()&&(D.open(ge.labels.badDomain,"warning",function(e){ge.goToNoApp()}),a()):GmCXt.FT.isPlayer||(ge.resetOffset=!0,ge.refreshPageView(!0)),ge.hideLoading(),t()})})}function vu(){GmCXt.removeFromDapStorage("allTourList")}function wu(r){let i=[];return ge.isOwner()&&GmCXt.isCreatorExt()?r:(mg$.each(GmCXt.user.app_access,function(e,t){var a=r.filter(function(e){return parseInt(e.application_id)===parseInt(t)});a.length&&i.push(a[0])}),i)}function Ju(e){var t;ge.showPlayer?(t=GmCXt.getAppSetting("isMiniPlayer")?(me.miniPlayer.set(!0),!0):(me.miniPlayer.set(!1),!1),ge.isMicroPlayer=t,window.matchMedia("(max-width: 480px)").matches&&(ge.isMicroPlayer=!1),t&&GmCXt.hidePanelCloseBtn()):(ge.isMicroPlayer=!1,GmCXt.showPanelCloseBtn(),mg$(".mgPlayerJSqa_ege-panel")[0]?.style?.removeProperty("background")),GmCXt.initPlayerModeFeatures(ge.showPlayer,ge.isMicroPlayer,ge.playerMode),e||ge.enableOrgFeatures(GmCXt.organization),ge.updateLabels()}function Gu(){GmCXt.log(33,"RESUME tour play"+GmCXt.tourLog(ge.contTour.tour)),Tu("",ge.contTour.step,ge.contTour.tour,ge.contTour.source)}function Au(i,n,s,l,o,c){if(s=GmCXt.checkAndCorrectPS(s),i===GmCXt.TOUR_PLAYER_SLIDESHOW){if(ge.isOnlySurveyGuide(s))return;s.steps=GmCXt.filterOutAutomationSteps(s.steps);var e,t,a=s.tour_settings.video_settings?.first_slide_img&&s.tour_settings.video_settings?.last_slide_img&&0!==s.tour_settings.video_settings?.first_slide_id&&0!==s.tour_settings.video_settings?.last_slide_id?s.tour_settings.video_settings:"";!GmCXt.isEmpty(a)&&s.tour_settings.show_slide&&({first_slide_id:e,last_slide_id:t}=a,s.steps=GmCXt.insertVideoThumbSteps(a,s.steps),s.tour_settings.play_structure=ge.updateSlideInShowme(s.tour_settings.play_structure,e,t))}if("doitforme"===i&&ge.checkStepsForDoItForMeMode(s)){const r=new Modal({target:document.body,props:{popupType:"warning",msg:labels.doitForMeWarning,onConfirm:()=>r.$destroy()}})}else s.tour_settings=GmCXt.parseJSON(s.tour_settings),s.tour_settings.play_structure=GmCXt.getGuidePlayStructure(s,i),s.tour_settings.valid_segments=GmCXt.getTourSegments(s),s=ge.isGuideInOriginalLang(s)?s:ge.getTranslatedTourAndSteps(s,ge.language),GmCXt.getFromDapStorage("appData").then(function(e){let r=e;GmCXt.appList=e,ge.syncApps(GmCXt.appList),GmCXt.getFromStorage("activeAppId").then(e=>{var a=e,e=(GmCXt.activeAppId=e,r["app:"+a]),a=(GmCXt.activeAppData=e).settings,e=(a&&a.domains?s.allDomains=a.domains:s.allDomains=!1,1<GmCXt.urlParts.pathname.length&&GmCXt.urlParts.pathname.toLowerCase(),s.tour_settings.rules);let t=!(ge.resumeFromStartPoint=!1);if(GmCXt.isEmpty(s.tour_settings.start_point_info)||(t=0<e.length?GmCXt.ruleEngine.evaluateRules(e):t)&&(ge.resumeFromStartPoint=!0),!n&&(ge.isResumeGuide||ge.resumeFromStartPoint)&&ge.isPlayer()&&("home"===l||"currentpage"===l||"allguides"===l||"tour-list"===l||"stepview"===l||"tour-view"===l&&ge.resumeFromStartPoint)&&(("Default"===(a=i)||""===a)&&GmCXt.getAppSetting("defaultPlayAction")===ge.playGuideMe||a===ge.playGuideMe)){let t;if(ge.resumeFromStartPoint&&!ge.isResumeGuide)for(let e=0;e<s.tour_settings.start_point_info.length;e++){t=GmCXt.getStepFromSteps(s.tour_settings.start_point_info[e].step_id,s.steps);break}else t=(e=s,a=GmCXt.tourActivity["t:"+e.tour_id],ge.getStepFromTour(a,e));if(ge.contTour={tour:s,step:t,source:l},t){GmCXt.log(33,"Tour was Played "+GmCXt.stepLog(t.step_id,t.tour_id)),ge.startPoints=[];for(let e=s.steps.length-1;-1<e;e--)s.steps[e].step_settings.startPoint&&(ge.resumeFromStartPoint=!0,ge.startPoints.push(s.steps[e]));return void(ge.startPoints.length&&!ge.isResumeGuide?("inline"===s.steps[0].step_type&&ge.startPoints.unshift(s.steps[0]),ge.searching_sp=0,GmCXt.startPointStepPlayed="",a={tour_id:s.tour_id,startPoint:ge.startPoints[0]},GmCXt.sendMessageToAllWindows("mgPlayerJSqa_action:started;task:search_start_point",a)):"inline"===t.step_type?(ge.stepFound=!1,e={tour_id:s.tour_id,requestId:t.step_id,settings:t.step_settings,windowHost:GmCXt.getPageDomain(),task:"findStep",findOnly:!0,noOutline:!0,timeout:Date.now()+1e3,log_stepInfo:GmCXt.getStepInfoLog(t)},GmCXt.sendMessageToAllWindows("mgPlayerJSqa_action:started;task:search_next_step",e),GmCXt.timeout(function(){var e;!ge.stepFound&&ge.isResumeGuide?Gu():ge.stepFound||(e=ge.contTour.step,GmCXt.log(33,"NOT FOUND next step "+GmCXt.stepLog(e.step_id,e.tour_id)),GmCXt.log(33,"RESTART tour play"+GmCXt.tourLog(ge.contTour.tour)),Tu("",null,ge.contTour.tour,ge.contTour.source))},1e3)):Gu())}}GmCXt.log(33,"PLAYING "+GmCXt.tourLog(s)),Tu(i,n,s,l,o,c)})})}function Tu(e,t,a,r,i,n){t||(s=a.tour_settings.play_structure[0].id,t=ge.getStepFromTour(s,a));var s=t.step_id,s=(GmCXt.log(33,"PLAY TOUR from "+GmCXt.stepLog(t.step_id,t.tour_id)),{tour:a,currentStepId:s,language:ge.getTourLangInfo(a),isDefaultLang:GmCXt.checkDefaultLangForTour(a,ge.language),source:r,automate:!1,taskObj:n,activeAppId:GmCXt.activeAppId,orgData:GmCXt.organization,user:GmCXt.user});i&&(s.tour.category_name=i),ge.startGuideAction(s,e,t,a)}function Xu(){ge.getCurrentAppObj().then(function(e){GmCXt.isEmpty(e)||ge.switchApp(e)})}function ku(){if(!ge.showGuidesFromDesktopApp){let e=!0;var t=GmCXt.checkDomainInApps(GmCXt.urlParts.fullUrl);return(fu(),t.appId)?(t.appId!==GmCXt.activeAppId?(ge.resetCreatorData(!0),t.domainMatch?(GmCXt.log(21,"SWITCH app for the current domain: "+t.appName),GmCXt.saveToStorage("activeAppId",t.appId),GmCXt.activeAppId=t.appId,GmCXt.inPlayer&&Eu(!0),ge.initAppDetails(GmCXt.appList["app:"+t.appId]),GmCXt.FT.isPlayer?ge.setCurrentPage("currentpage"):Xu()):GmCXt.isPlayer()?(ge.goToNoApp(),e=!1):GmCXt.isPlayer()||Xu()):e=!1,e):!1}}function xu(){new Promise(function(t,e){ge.showGuidesFromDesktopApp?t():ge.checkAppList().then(function(){var e=GmCXt.urlParts;GmCXt.checkDomainInApps(e.fullUrl).domainMatch?(GmCXt.activeAppId&&GmCXt.activeAppId!==GmCXt.checkDomainInApps(e.fullUrl).appId&&Eu(!0),GmCXt.FT.creatorApp&&ku(),GmCXt.activeAppId=GmCXt.checkDomainInApps(e.fullUrl).appId,(e=GmCXt.appList["app:"+GmCXt.activeAppId])&&ge.initAppDetails(e)):GmCXt.FT.creatorApp?((e=GmCXt.appList["app:"+GmCXt.activeAppId])&&ge.initAppDetails(e),GmCXt.timeout(function(){ge.setActivePage("home")})):GmCXt.activeAppId=!1,t()})}).then(function(){var e=ku();ge.syncUser(),e&&(ge.processedAppData=!0),ge.setMode(),ge.setNotifTours(),ge.initPlayerMode(),GmCXt.showWidget(),ge.sendUserInfo()})}function Lu(e,t){let a=e.find(function(e){return parseInt(e.category_id)===parseInt(t)});return a||e.forEach(function(e){e.sub_categories&&(a=Lu(e.sub_categories,t))}),a}function Eu(e){ge.contextTours={},ge.applicationDropdown=!1,ge.automationDropdown=!1,GmCXt.FT.creatorApp&&(GmCXt.removeFromStorage("segmentData"),ge.segmentData=[]),e&&me.breadCrumb.set([]),ge.resetCreatorData(!0),ge.allTourList={},GmCXt.saveToDapStorage("allTourList",ge.allTourList),ge.cancelAutomationSelection(),GmCXt.storage().remove(["insightPageRulesData"]),GmCXt.trackerUtil.pageTracking&&GmCXt.getInsightPageRules()}function Mu(){var e=GmCXt.user,t=GmCXt.organization;e&&t.organization_id&&ge.fetchApps().then(function(){ge.sendSidePanelInitEvent(!0)})}function Iu(e){ge.saveOrganization(e),ge.refreshTime=GmCXt.getCurrentTimeInSec(),GmCXt.saveToStorage("refreshTime_"+GmCXt.activeAppId,ge.refreshTime),ge.guideSegmentation&&(ge.showLoading(),"westpac"!==GmCXt.conf.appConfig.customer)?ge.getAllSegments(!0).then(function(){Mu()}):Mu()}function Du(){GmCXt.inPlayer?ge.loadJsonPlayer().then(function(){ge.sendSidePanelInitEvent(!0)}):GmCXt.api.getOrganization(Iu)}function $u(e){GmCXt.log(21,"LOADED side panel. Initialising On Prem Player"),ge.getOnPremOrg(e).then(function(){ge.processActiveRequests()})}function Fu(e){return GmCXt.isEmpty(ge.myGuideOrgKey)&&(GmCXt.myGuideInternalCustomers()||GmCXt.isMcKesson())?e+""+ge.ssoId:e}function Ou(){ge.ssoTab&&ge.ssoTab.close()}function Ru(l,o={}){return new Promise((a,r)=>{try{const i="sso_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),n=o.requestType||"fetchSsoId";let t;const s=function(e){e.data&&"ssoResult"===e.data.action&&e.data.requestId===i?(window.removeEventListener("message",s),document.body.removeChild(t),e.data.success?a(e.data.data):r(new Error(e.data.error||"Failed to fetch data"))):e.data&&"iframeReady"===e.data.action&&t.contentWindow.postMessage({action:n,url:l,headers:o.headers||{},credentials:o.credentials||"omit",requestId:i},"*")};document.getElementById("mgPlayerJSqa_url-fetcher")?t.contentWindow.postMessage({action:n,url:l,headers:o.headers||{},credentials:o.credentials||"omit",requestId:i},"*"):((t=document.createElement("iframe")).src=GmCXt.getBasePath("common/url_fetcher/url.html"),t.style.display="none",t.id="mgPlayerJSqa_url-fetcher",document.body.appendChild(t),window.addEventListener("message",s)),setTimeout(()=>{window.removeEventListener("message",s),document.body.contains(t)&&document.body.removeChild(t),r(new Error("Timeout while fetching data"))},GmCXt.t_.sec15)}catch(e){GmCXt.log(1,"Error in iframe request:",e),r(e)}})}GmCXt.FT.creatorApp&&(hu.push("playerMode"),hu.push("showPlayer"),hu.push("serverUpdates"),hu.push("serverDeletes"),hu.push("category"),hu.push("testAuto"),hu.push("categories")),ge.navBarVisible=!1,ge.jsonEditor=!1,ge.botGuideCount=0,ge.orgSecrret=GmCXt.conf.orgSecrret,ge.myGuideOrgKey="",ge.taskListApiInProcess=!1,ge.isUserLoggedIn=function(){var e=GmCXt.user;return!(!e||!e.accesstoken)},ge.incrementPendingStepCount=function(){ge.pendingStepCount<0&&(ge.pendingStepCount=0),ge.pendingStepCount++,me.statusBar.set("incrementPendingStepCount")},ge.decrementPendingStepCount=function(){ge.pendingStepCount--,ge.pendingStepCount=0<ge.pendingStepCount?ge.pendingStepCount:0,me.statusBar.set("decrementPendingStepCount")},ge.setStepPendinCount=function(e){e?ge.incrementPendingStepCount():ge.decrementPendingStepCount()},ge.handleError=function(e){e&&e.name&&("PermissionDeniedError"===e.name||"NotAllowedError"===e.name?ge.showPopup(ge.labels.userDeniedMessage):"CameraNotFound"===e.name?(ge.cameraDisabled=!0,ge.showPopup(ge.labels.noCamera)):na.on({code:2200,info:e}))},ge.reportInitialization=function(){GmCXt.log(21,"LOADING side panel, globals initialised"),GmCXt.handleAppInit()},ge.hideUserImageDropDown=function(){mg$(".mgPlayerJSqa_login-logout-wrapper").slideUp(200),mg$(".mgPlayerJSqa_user-image-wrapper").removeClass("active")},ge.hideStepViewActionDropdown=function(){mg$(".mgPlayerJSqa_detail-view-action-options-dropdownn").slideUp(200)},ge.hideStepActionDropdown=function(){mg$(".mgPlayerJSqa_stepaction-menu-options-dropdown-action-menu-options-dropdown").slideUp(200)},ge.hideStepDownloadActionDropdown=function(){mg$(".mgPlayerJSqa_detail-download-action-options-dropdown").slideUp(200),ge.isMediaFileDropdown=!1,mg$(".mgPlayerJSqa_tour-item").removeClass("mgPlayerJSqa_z-index mgPlayerJSqa_z-index-10"),mg$(".mgPlayerJSqa_header-detail-view-tour-download-wrapper").removeClass("mgPlayerJSqa_dropdown-active")},ge.hideLanguDropdown=function(e){e.stopPropagation(),ge.lanDropDownVisible=!1,me.lanDropDownVisible.set(!1),mg$(".mgPlayerJSqa_lang-dropdown-wrapper").slideUp(100)},ge.onBodyClick=function(e){var t;GmCXt.startIdleActivityTimer(),GmCXt.failedStepId&&(t=mg$("#mgPlayerJSqa_step-"+GmCXt.failedStepId))&&t.hasClass("step-highlight")&&(t.removeClass("step-highlight"),mg$(".step-not-found").remove(),mg$(".guide-not-followed").remove(),GmCXt.failedStepId=0),mg$(e.target).hasClass("mgPlayerJSqa_ege-user-image")||mg$(e.target).hasClass("mgPlayerJSqa_user-image-wrapper")||ge.hideUserImageDropDown(),!mg$(".mgPlayerJSqa_category-action-dropdown").is(":visible")||mg$(e.target).hasClass("mgPlayerJSqa_category-action-dropdown")||mg$(e.target).hasClass("mgPlayerJSqa_category-pencil-icon")||ge.hideActionDropdown(),!mg$(".mgPlayerJSqa_tour-action-dropdown").is(":visible")||mg$(e.target).hasClass("mgPlayerJSqa_tour-action-dropdown")||mg$(e.target).hasClass("tour-pencil-icon")||ge.hideTourActionDropdown(),mg$(".mgPlayerJSqa_checkbox-dropdown-wrapper").is(":visible")&&!mg$(e.target).hasClass("mgPlayerJSqa_checkbox-dropdown-wrapper")&&mg$(".mgPlayerJSqa_checkbox-dropdown-wrapper").slideUp(200),mg$(".mgPlayerJSqa_questions-type-dropdown").is(":visible")&&mg$(".mgPlayerJSqa_questions-type-dropdown").slideUp(200),!mg$(".mgPlayerJSqa_ege-header-action-dropdown").is(":visible")||mg$(e.target).hasClass("mgPlayerJSqa_ege-header-action-dropdown")||mg$(e.target).hasClass("tour-pencil-icon")||ge.hideTourActionDropdown(),!mg$(".mgPlayerJSqa_stepaction-menu-options-dropdown-action-menu-options-dropdown").is(":visible")||mg$(e.target).hasClass("mgPlayerJSqa_stepaction-menu-options-dropdown-action-menu-options-dropdown")||mg$(e.target).hasClass("mgPlayerJSqa_step-pencil-icon")||mg$(e.target).parents(".mgPlayerJSqa_step-pencil-icon").length||ge.hideStepActionDropdown(),!mg$(".mgPlayerJSqa_detail-download-action-options-dropdown").is(":visible")||mg$(e.target).hasClass("mgPlayerJSqa_detail-download-action-options-dropdown")||mg$(e.target).hasClass("mgPlayerJSqa_header-detail-view-tour-download-wrapper")||ge.hideStepDownloadActionDropdown(),!mg$(".mgPlayerJSqa_detail-view-action-options-dropdownn").is(":visible")||mg$(e.target).hasClass("mgPlayerJSqa_detail-view-action-options-dropdownn")||mg$(e.target).hasClass("header-detail-view-tour-options-wrapper")||ge.hideStepViewActionDropdown(),mg$(".download-list").length&&mg$(".download-list").is(":visible")&&mg$(".download-list").slideToggle(),!ge.hideFiltersDropdown||mg$(e.target).hasClass("mgPlayerJSqa_all-guides-search-filters-dropdown-user")&&mg$(e.target).hasClass("mgPlayerJSqa_all-guides-search-filters-dropdown-published")&&mg$(e.target).hasClass("mgPlayerJSqa_all-guides-search-filters-dropdown-assignee")&&mg$(e.target).hasClass("mgPlayerJSqa_all-guides-search-filters-dropdown-sort")||mg$(e.target).hasClass("mgPlayerJSqa_all-guides-search-filters")||ge.hideFiltersDropdown(),!mg$(".filter-list").is(":visible")||mg$(e.target).hasClass("filter-list")||mg$(e.target).hasClass("filter-wrapper")||mg$(e.target).hasClass("selected-filter")||ge.hideFilterList(),!mg$(".mgPlayerJSqa_lang-dropdown-wrapper").is(":visible")||mg$(e.target).hasClass("mgPlayerJSqa_selected-lang-wrapper")||mg$(e.target).hasClass("mgPlayerJSqa_lang-dropdown-wrapper")||ge.hideLanguDropdown(e),mg$(".mgPlayerJSqa_setting-dropdown-userPref").is(":visible")&&!mg$(e.target).hasClass("mgPlayerJSqa_user-pref-scope")&&ge.hideUserPrefDropdown(e),mg$(".mgPlayerJSqa_app-filter-dropdown-wrapper").is(":visible")&&!mg$(e.target).hasClass("mgPlayerJSqa_lang-dropdown-wrapper")&&mg$(".mgPlayerJSqa_app-filter-dropdown-wrapper").slideToggle(),mg$(".mgPlayerJSqa_dropdown-list-wrapper").is(":visible")&&!mg$(e.target).hasClass("mgPlayerJSqa_filter-dropdown-wrapper")&&ge.hideFiltersDropdownList(),mg$(".mgPlayerJSqa_branch-dropdown-list-wrapper").is(":visible")&&!mg$(e.target).hasClass("mgPlayerJSqa_branch-dropdown-wrapper")&&mg$(".mgPlayerJSqa_branch-dropdown-list-wrapper").slideUp(200),!mg$(".mgPlayerJSqa_action-menu-options-dropdown").is(":visible")||mg$(e.target).hasClass("mgPlayerJSqa_select-automation-wrapper")||mg$(e.target).hasClass("mgPlayerJSqa_guide-automation-icon")||ge.hideAutomationDropDown()},ge.subscribeEvents=function(){mg$(document.body).off("click"),mg$(document.body).click(ge.onBodyClick),mg$(".mgPlayerJSqa_app").click(ge.onBodyClick),mg$(document.body).off("mousemove keydown mousedown touchstart").on("mousemove keydown mousedown touchstart",function(){GmCXt.startIdleActivityTimer()}),window.onkeyup=function(e){e&&e.keyCode&&27===e.keyCode&&(GmCXt.playerI&&"live"===GmCXt.playerI.mode&&GmCXt.playerI.linkGuidePlayMode&&"PDF"===GmCXt.playerI.linkGuidePlayMode||ge.closeAppPanel())}},ge.hideActionDropdown=function(){mg$(".mgPlayerJSqa_category-action-dropdown").slideUp(200)},ge.isRawChromeBlob=function(e){return 0===e.indexOf("blob:")},ge.saveUser=function(e){e.organization&&delete e.organization,GmCXt.user=e,GmCXt.updateGlobalUser(e),ge.user=e,GmCXt.saveToStorage("user",e),ge.syncUser()},ge.saveOrganization=function(e){GmCXt.log(21,"SAVE organization"),GmCXt.saveToStorage("organization",e),GmCXt.orgBucket=e.bucket,GmCXt.organization=e,ge.enableOrgFeatures(e),GmCXt.updateGlobalOrg(e)},ge.updateVideoInProgressList=function(r,i){GmCXt.getFromStorage("videosInProgress").then(function(e){let t=e;switch(r){case"add":t?t.push(i):t=[i];break;case"remove":var a=t.indexOf(i);t.splice(a,1)}ge.tourVideoInProgressArr=t,GmCXt.saveToStorage("videosInProgress",t)})},ge.setAccessibility=function(){GmCXt.accessibility=!GmCXt.accessibility,me.accessibility.set(GmCXt.accessibility),GmCXt.saveToStorage("accessibility",GmCXt.accessibility)},ge.syncUser=function(){var e=GmCXt.user;GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:sync_user",data:{user:e}})},ge.hideTourActionDropdown=function(){var e=mg$(".mgPlayerJSqa_step-image-wrapper");mg$(e).removeClass("active"),mg$(".mgPlayerJSqa_tour-action-dropdown").slideUp(200),mg$(".mgPlayerJSqa_ege-header-action-dropdown").slideUp(200),mg$(".mgPlayerJSqa_tour-action-dropdown-embed-menu").slideUp(100),mg$(".mgPlayerJSqa_tour-action-dropdown-video-step-menu").slideUp(100),mg$(".mgPlayerJSqa_tour-action-dropdown-image-step-menu").slideUp(100),mg$(".tour-action-menu-active").removeClass("tour-action-menu-active"),mg$(".mgPlayerJSqa_tour-item").removeClass("mgPlayerJSqa_z-index mgPlayerJSqa_z-index-max")},ge.updateLabels=function(e){e&&(ge.language=e);e=GmCXt.organization;!ge.language&&e?.admin_settings?.language_settings?.default&&(ge.language=e.admin_settings.language_settings.default.language,GmCXt.browserLang&&GmCXt.browserLang!==ge.language&&GmCXt.checkLangExist(e.admin_settings.language_settings.translations,GmCXt.browserLang)&&(ge.language=GmCXt.browserLang),GmCXt.language=ge.language,GmCXt.mgActiveLang=ge.language,GmCXt.saveToStorage("activeLang",ge.language)),ge.languages.filter(function(e){e.language===ge.language&&(ge.selectedLanguage=e.name)}),GmCXt.setLangPref(ge.language).then(function(){ge.labels=GmCXt.getAllLabels(ge.language),me.selectedLang.set(ge.language)}),e&&e.settings&&ge.updateCustomLabels(e.settings)},ge.updateAppLang=function(t){let a="";ge.languages.filter(function(e){e.language===t&&(a=e)}),a=a||ge.defaultLang,GmCXt.isDefined(a)&&(ge.selectedLanguage=a.name,GmCXt.mgActiveLang=a.language,GmCXt.language=a.language,GmCXt.saveToStorage("activeLang",a.language),ge.updateLabels())},ge.processCategories=function(){for(var e in ge.allCategories){e=ge.allCategories[e];yu(e,parseInt(e.parent_id))}},ge.syncSegmentData=function(){GmCXt.allSegments=ge.allSegments},ge.updatePageUrl=function(e){ge.pageUrl=e.url,ge.urlParts=e.urlParts,GmCXt.urlParts=e.urlParts,GmCXt.pageTitle=e.title,GmCXt.elAppName=e.elAppName,GmCXt.log(1,"Updated urls and page info in side panel")},ge.syncTaskList=function(e){var t=e.time+GmCXt.t_.hr24;return Date.now()<t?(ge.taskList=e.list,e):(ge.taskList=null,ge.taskList=[],GmCXt.removeFromDapStorage("taskList"),null)},ge.setMode=function(){GmCXt.isPlayer()?(ge.showPlayer=!0,GmCXt.showPlayer=!0):(ge.playerMode=!0,GmCXt.showPlayer=!1)},ge.showLangErrorPopup=function(e,t){e=e.name||e.language,e=ge.labels.stepWarningForLanguage.replaceAll("{GUIDE_LANG}",e);t?(ge.alertMessage=e,mg$(".mgPlayerJSqa_icon-play-popup").show()):D.open(e,"warning")},ge.parseTourNarrator=function(e,t){var a=e.narrator,e=e.narrator.split("-"),e=e[e.length-1];return t?e:a.replace("-"+e,"")},ge.getTourCreationLang=function(e){let t={};return t=GmCXt.isEmpty(e.narrator)?GmCXt.organization?.admin_settings?.language_settings?.default?GmCXt.organization.admin_settings.language_settings.default:{language:GmCXt.model.langOption.language._default,name:GmCXt.model.langOption.name._default,voice:GmCXt.model.langOption.voice._default}:{language:ge.parseTourNarrator(e),name:"",voice:ge.parseTourNarrator(e,!0)}},ge.prepSingCatLang=function(e,t){var a;if(!GmCXt.isEmpty(e))return(a=e.language_data)&&a[t]&&(a[t].category_title&&(e.category_title=a[t].category_title),a[t].category_description)&&(e.category_description=a[t].category_description),e},ge.prepCatLangJson=function(e,t){if(GmCXt.isEmpty(e))return[];let a=structuredClone(e),r=0;return a.forEach(e=>{e=ge.prepSingCatLang(e,t),a[r]=e,r++}),a},ge.isGuideInOriginalLang=function(e,t,a){e=ge.getTourCreationLang(e);return!(ge.language&&ge.enableTranslation&&e.language&&e.language!==ge.language)||-1!==e.language.indexOf("en-")&&e.language.substring(0,3)===ge.language.substring(0,3)||(t&&ge.showLangErrorPopup(e,a),!1)},ge.restrictCreation=function(t){if(ge.language&&ge.enableTranslation&&-1===ge.language.indexOf("en-")&&ge.notDefaultLang()){let e="";ge.languageList?.languages&&(e=ge.languageList.languages.find(e=>e.value===ge.defaultLang.language));var a=GmCXt.isEmpty(e)?ge.language:e.label,a=ge.labels.tourCreationWarningForLanguage.replaceAll("{GUIDE_LANG}",a).replaceAll("{ACTION_MODE}",t);return D.open(a,"warning"),!0}return!1},ge.notDefaultLang=function(){return!(!ge.language||!ge.defaultLang||ge.defaultLang.language===ge.language)},ge.getTranslatedTourAndSteps=function(e,a){let r={...e};var e=r.language_data;return!r.tour_settings.translationEnable&&GmCXt.isGuide(r)&&(a=ge.defaultLang),e&&e[a]&&!ge.isGuideInOriginalLang(r)&&((e=e[a]).tour_title&&(r.tour_title=e.tour_title,r.tour_description=e.tour_description),GmCXt.isEmpty(e.tour_settings)||(r.tour_settings.rules=e.tour_settings.rules,r.tour_settings.beacon=e.tour_settings.beacon),mg$.each(r.steps,function(e,t){var t=t.language_data;t&&t[a]&&(t[a].step_title||t[a].step_description)&&(t=t[a],r.steps[e].step_title=t.step_title,t.step_description?r.steps[e].step_description=t.step_description:r.steps[e].step_description="",r.steps[e].step_audio=t.step_audio,r.steps[e].step_audio_text=t.step_audio_text,t.step_settings=GmCXt.parseJSON(t.step_settings),r.steps[e].step_settings=GmCXt.validateDataModel(t.step_settings,GmCXt.model.stepSettings))})),r},ge.setNotifTours=function(){GmCXt.storage().get(["toursClosed","tourIdArray"]).then(function(e){ge.notiTourIds=[];var t=GmCXt.user;_u(GmCXt.parseJSON(e.toursClosed));let a={};a=GmCXt.isAnonymousUser()?e.tourIdArray||{}:t?.settings?.viewed_guide_notifications||{},GmCXt.isEmpty(a)||_u(a),ge.processNotificationTours(a)})},ge.notiTourIds=[],ge.resetNotificationData=function(){ge.notifications={snoozeTour:[],doNotShowTour:[]}},ge.processNotificationTours=function(t){if(0===ge.notiTourIds.length)return!1;var e={tour_ids:"["+ge.notiTourIds.toString()+"]"};GmCXt.inPlayer?Su(ge.publishedTours,t):GmCXt.api.getTours(e,function(e){Su(e,t)})},ge.checkAppList=function(){return new Promise(function(t,e){var a=GmCXt.appList;GmCXt.isEmpty(a)?GmCXt.getFromDapStorage("appData").then(function(e){GmCXt.appList=e,ge.syncApps(e),t()}):t()})},ge.selectLanguage=function(e){if(GmCXt.userPrefLang){if(ge.selectedLanguage===e)return!0}else if(!e)return!0},ge.getActiveOrgAppLangSetting=function(e){let t={};var a,r,i={default:{language:GmCXt.model.langOption.language._default,name:GmCXt.model.langOption.name._default,voice:GmCXt.model.langOption.voice._default},translations:[]};return"westpac"===GmCXt.conf.appConfig.customer&&e?{language:"en-AU",name:"",voice:"Catherine"}:(t=GmCXt.organization?.admin_settings?.language_settings&&!GmCXt.isEmpty(GmCXt.organization.admin_settings.language_settings.default)?{...GmCXt.organization.admin_settings.language_settings}:{...i},(i=GmCXt.getAppSetting())&&i?.narrator&&(r=i.narrator,a=(a=i.narrator.split("-"))[a.length-1],(r=r.replace("-"+a,""))===t.default.language&&(r={language:r,name:t?.default?.name||"",voice:a},t.default={...r}),!GmCXt.isEmpty(i.app_languages))&&i?.enable_application_language_settings&&(t.translations=[...i.app_languages]),e?t.default:t)},ge.getAppOrgLanguage=function(e){if(ge.enableTranslation&&GmCXt.organization){var a={...GmCXt.organization.admin_settings.language_settings},r=ge.getActiveOrgAppLangSetting(!0);ge.defaultLang=r,GmCXt.defaultLang=r;let t=ge.language;t=t||ge.defaultLang.language,GmCXt.isEmpty(e)?ge.languages=Pu(a):ge.languages=Pu(e),ge.languages.filter(function(e){e.language===t&&(ge.selectedLanguage=e.name)})}else ge.languages=[]},ge.initAppDetails=function(t,e){GmCXt.log(21,"INIT APP:  ["+t.title+", "+t.application_id+"]"),GmCXt.saveToStorage("activeAppId",t.application_id),GmCXt.activeAppId=t.application_id;let a=GmCXt.activeAppId;var r=GmCXt.appList;if(GmCXt.externalAppId=r["app:"+a].external_id,fu(),GmCXt.getAllFromStorage(["refreshTime_"+GmCXt.activeAppId,"lastTimeStampSync_"+GmCXt.activeAppId]).then(function(e){ge.lastTimeStampSync=e["lastTimeStampSync_"+GmCXt.activeAppId]?e["lastTimeStampSync_"+GmCXt.activeAppId]:0,ge.refreshTime=e["refreshTime_"+GmCXt.activeAppId]?e["refreshTime_"+GmCXt.activeAppId]:0;e={action:"mgPlayerJSqa_action:app_info_to_background",data:{activeAppId:a,externalAppId:t.external_id,lastTimeStampSync:ge.lastTimeStampSync,refreshTime:ge.refreshTime}};GmCXt.sendMessageToBackgroundService(e)}),GmCXt.trackerUtil.pageTracking&&GmCXt.getInsightPageRules(),ge.appEnvs=[],GmCXt.isDefined(t.settings.app_env)){for(var i in t.settings.app_env)t.settings.app_env[i].checked&&(t.settings.app_env[i].key=i,ge.appEnvs.push(t.settings.app_env[i]));ge.appEnvs=ge.appEnvs.sort(function(e,t){return e.order<t.order?-1:e.order>t.order?1:0}).map(function(e){return e.key})}ge.highestEnv=ge.appEnvs[ge.appEnvs.length-1],GmCXt.inPlayer||GmCXt.onPrem()?(t.categories&&t.categories.length?ge.processAppDataActiveApp(t):(r=t.application_id,ge.isAppJsonCalling=!0,GmCXt.api.getAppJson(r,function(e){ge.isAppJsonCalling=!1,GmCXt.onPrem()||GmCXt.inPlayer?t.categories=e.categories:t.categories=e.data.categories,ge.processAppDataActiveApp(t)})),Cu(t)):(Cu(t),ce(me.stepOperationMode)===GmCXt.STEP_VIEW_OPERATION&&(GmCXt.log(21,"Setting home after app Init",t),ge.setActivePage("home")))},ge.getLanguageList=function(){try{let t=function(e){ge.languageList=e,GmCXt.isEmpty(e)||(ge.languageList=e,GmCXt.saveToDapStorage("languageList",ge.languageList))};GmCXt.getFromDapStorage("languageList").then(function(e){GmCXt.isEmpty(e)?GmCXt.api.getAllLanguages().then(t):ge.languageList=e})}catch(e){console.error(e)}},ge.isDesktopGuide=function(e){return!!(e&&e.tour_settings&&e.tour_settings.tour_type&&-1!==e.tour_settings.tour_type.indexOf("desktop"))},ge.isDefaultGuide=function(e){return!!(e&&e.tour_settings&&e.tour_settings.tour_type&&-1!==e.tour_settings.tour_type.indexOf("default"))},ge.isUploadTutorial=function(e){return!(!GmCXt.isOnboarding(e)||"upload"!==e.tour_settings.tutorial_tour_type)},ge.getCategory=function(e,t){e="cat_"+e;let a=ge.allCategories[e]||!1;return a=t&&!a?ge.allCategoriesNoFilter[e]||!1:a},ge.removeCategory=function(e,t){delete ge.allCategories["cat_"+e.category_id],yu(e,parseInt(e.parent_id),!0),GmCXt.inPlayer||GmCXt.saveToDapStorage("categories",ge.allCategories),t&&ge.playerSyncCount--},ge.addCategory=function(e){var t;e.category_title&&(t="cat_"+e.category_id,yu(ge.allCategories[t]=e,parseInt(e.parent_id)),GmCXt.inPlayer||GmCXt.saveToDapStorage("categories",ge.allCategories))},ge.addMultiCategory=function(e){mg$.each(e,function(e,t){var a="cat_"+(t=t[0]?t[0]:t).category_id;ge.allCategories[a]=t,GmCXt.inPlayer||yu(t,parseInt(t.parent_id))}),GmCXt.inPlayer||GmCXt.saveToDapStorage("categories",ge.allCategories)},ge.addMultiCategoryNoFilter=function(e){mg$.each(e,function(e,t){var a="cat_"+(t=t[0]?t[0]:t).category_id;ge.allCategoriesNoFilter[a]=t})},ge.draftExists=function(t,a,r){var e=ge.allTourList["cat_"+a];if(e){for(var i in e)if(e[i].parent_tour_id===t)return e[i].tour_id}else if(r&&r.length)for(let e=0;e<r.length;e++)if(r[e].parent_tour_id===t&&r[e].category_id===a)return r[e].tour_id;return!1},ge.filterGuideByEnv=function(n){if(!GmCXt.isFQDN())return GmCXt.log(1,"SKIP filtering guides to this domain",n),n;let s=GmCXt.getAppEnvByDomain(),l=[];return(!ge.appEnvs.length||-1!==ge.appEnvs.indexOf(s))&&n&&0<n.length&&n.forEach(function(e){var t,a,r=e.tour_settings.app_publish_env;let i=!1;r&&(i=-1!==r.indexOf(s),ge.draftExists(e.tour_id,e.category_id,n)||i||r.length&&0===r[0].indexOf("env_")&&(t=ge.appEnvs.indexOf(s),t=t,a=r,ge.appEnvs.slice(t).some(function(e){return 0<=a.indexOf(e)}))&&(i=!0)),e.is_published&&(void 0===s||void 0===r||0===r.length||i)&&l.push(e)}),GmCXt.log(21,"FILTER GUIDES published to this domain env ["+s+"]. Filtered guides ",l),l},ge.getAllPublishedTours=function(e){let a=[];function t(e,t){a.push(t)}for(var r in e){var i=e[r];i.length||deleteEmpty(r),mg$.each(i,t)}var n=ge.filterGuideByEnv(a);ge.publishedTours=n,ge.getContextToursAfterLogin&&(GmCXt.getContextGuides("Process Guides"),ge.getContextToursAfterLogin=!1),me.publishedTours.set(n),GmCXt.log(21,"ALL PUBLISHED guides",n)},ge.addTourList=function(a,e){e.forEach(function(e){var t="cat_"+(a||e.category_id);ge.allTourList[t]||(ge.allTourList[t]={}),ge.allTourList[t]["tour_"+e.tour_id]=e}),GmCXt.saveToDapStorage("allTourList",ge.allTourList)},ge.processAppDataActiveApp=function(e){function l(e,t,a){e=GmCXt.validateDataModel(e,GmCXt.model.category);let r=t||e.category_order;var i,n,s;e.sub_categories&&0<e.sub_categories.length?(c["cat_"+e.category_id]=e.sub_categories,mg$.each(e.sub_categories,function(e,t){l(t,r,t.category_order)})):e.tours&&0<e.tours.length&&(g["cat_"+e.category_id]=(t=e.tours,i=e.category_id,n=r,s=a,t.forEach(function(e){(e=GmCXt.validateDataModel(e,GmCXt.model.guide)).category_order=parseInt(n),s&&(e.subCategory_order=parseInt(s)),e.tour_order&&(e.tour_order=parseInt(e.tour_order))}),ge.addTourList(i,t),t)),e.is_published&&!GmCXt.convertType(e.parent_id)&&o.push(e),GmCXt.convertType(e.parent_id)}let o=[],c={},g={},r=(vu(),GmCXt.log(21,"PROCESS app data",e),e&&e.categories&&0<e.categories.length&&e.categories.forEach(function(e){e={...e};l(e)}),[]),t=[],i={},n=[];o.forEach(function(a){var e;n.push(a),a.tours?GmCXt.checkGuidesBasedOnSegment(a.tours,function(e){var t;GmCXt.isEmpty(e)||(t=e.tour_settings.app_publish_env,(ge.isDesktopGuide(e)||GmCXt.checkDomainInPublishedEnv(t))&&-1===mg$.inArray(a,r)&&r.push(a))}):a.sub_categories&&(e=t.length,function r(e,i,n,s,l){l=l||[];function o(e,t){let a=!1;return 0<e.length&&e.forEach(function(e){e.category_id===t.category_id&&(a=!0)}),a}e.forEach(function(a){function e(t){if(!GmCXt.isEmpty(t)){let e=t.tour_settings.app_publish_env;(GmCXt.checkDomainInPublishedEnv(e)||ge.isDesktopGuide(t))&&(n["cat_"+s.category_id]||(n["cat_"+s.category_id]=[]),o(n["cat_"+s.category_id],a)||(n["cat_"+s.category_id].push(a),i.push(a)))}}if(l.push(a),a.sub_categories){let e=i.length,t=(r(a.sub_categories,i,n,a,l),i.length);t>e&&!i.includes(a)&&(a.sub_categories=n["cat_"+a.category_id],i.push(a),n["cat_"+s.category_id]||(n["cat_"+s.category_id]=[]),n["cat_"+s.category_id].push(a))}else a.tours&&0<a.tours.length&&GmCXt.checkGuidesBasedOnSegment(a.tours,e)})}(a.sub_categories,t,i,a,n),e<t.length)&&!r.includes(a)&&(a.sub_categories=i["cat_"+a.category_id],r.push(a))}),me.allCategories.set(r);var a=function t(e,a=[]){return e.forEach(e=>{e.sub_categories&&0<e.sub_categories.length&&t(e.sub_categories,a),a.push(e)}),a}(o);ge.categoryStore=o,ge.subCategoryStore=i,me.subCategories.set(a),ge.addMultiCategory(ge.categoryStore),ge.addMultiCategory(a),ge.addMultiCategoryNoFilter(n),ge.getAllPublishedTours(g),ge.syncApps(GmCXt.appList),GmCXt.saveToDapStorage("appData",GmCXt.appList),GmCXt.log(21,"Setting home after app data processing",e),ge.setActivePage("home")},ge.enableOrgFeatures=function(e){var t,a;!GmCXt.isEmpty(e)&&GmCXt.isDefined(e)&&(t=e.admin_settings||{},a=e.settings||{},GmCXt.log(21,"ENABLE org features",e),bu(),GmCXt.isEmpty(e.bucket)||(GmCXt.orgBucket=e.bucket),t.lms&&(ge.lms=!0),"1"===t.auto_generate_keywords&&(ge.generateKeyword=!0),GmCXt.isChatEnable()&&(ge.chatBot=!0),GmCXt.getAppSetting("doitforme")&&(ge._doitforme=!0),GmCXt.getAppSetting("all_guide")&&GmCXt.isPlayer()&&(ge.currentPageOnly=!0),GmCXt.getAppSetting("defaultGuideView")&&!GmCXt.getAppSetting("all_guide")&&(ge.allGuideView=!0),GmCXt.getAppSetting("isMiniPlayer")&&GmCXt.isPlayer()&&(ge.isMicroPlayer=!0,me.miniPlayer.set(!0)),t.app_switcher&&(ge.showAppSwitcher=t.app_switcher),t.display_accept_cookie_popup||(ge.displayAcceptCookiePopup=!1),t.maintenance_mode&&ge.goToMaintenance(),t.current_page_beacon&&(ge.currentPageBeacon=!0),t.guide_segmentation&&(ge.guideSegmentation=!0),t.mediafile_creation&&(ge.mediafileCreation=!0),t.create_tooltip_media_file&&(ge.createTooltipMediaFile=!0),a.fqdn&&(ge.fqdn=!0,ge.showAppSwitcher=!a.fqdn),t.language_settings&&t.language_settings.translations.length&&t.guide_translation?(ge.enableTranslation=!0,GmCXt.enableTranslation=!0):(ge.enableTranslation=!1,GmCXt.enableTranslation=!1,GmCXt.removeFromStorage("activeLang"),GmCXt.removeFromStorage("activeVoice"),ge.language=!1,GmCXt.language=!1,ge.languageVoice=!1,ge.isDefaultLang=!0),t.insights&&t.insights.enabled&&(t.insights.guide&&(GmCXt.FT.analytics=!0,GmCXt.trackerUtil.enableTracking=!0),t.insights.app)&&((e=t.insights.app[GmCXt.activeAppId])&&e.enable_feature_tracking&&(GmCXt.trackerUtil.featureTracking=!0,ge.featureTracking=!0),e)&&e.enable_page_tracking&&(GmCXt.trackerUtil.pageTracking=!0,ge.pageTracking=!0),t.isPITrackingEnabled&&(GmCXt.trackerUtil.trackPI=!0),ge.isGuideAutomationEnabled=t.myBotEnabled&&!ge.currentPageOnly,t.efficient_rule_mode&&(ge.ruleCheck=!0),GmCXt.isTrue(t.enable_guideme_as_secondary_option)&&(ge.enableGuidemeMode=!0),a={action:"mgPlayerJSqa_action:update_tracking_info",data:{enableTracking:GmCXt.trackerUtil.enableTracking,trackPI:GmCXt.trackerUtil.trackPI,featureTracking:GmCXt.trackerUtil.featureTracking,pageTracking:GmCXt.trackerUtil.pageTracking}},GmCXt.sendMessageToAllWindows("mgPlayerJSqa_action:update_tracking_info:frames",a.data),GmCXt.sendMessageToBackgroundService(a))},ge.displayChatIcon=function(){0===ge.botGuideCount?GmCXt.removeChatIcon():GmCXt.showChatIcon()},ge.getBotGuideCount=function(e){e=ge.filterBotGuides(e);e&&e.length?ge.botGuideCount=e.length:ge.botGuideCount=0,ge.displayChatIcon()},ge.refreshCurrentPage=function(t,e){if("page_click"!==t&&e&&"stepview"!==ce(me.CurrentPage)&&(GmCXt.validatedSegments={}),"currentpage"!==ce(me.CurrentPage)||t&&!GmCXt.APP_PANEL_OPEN){if(GmCXt.isDomainInActiveApp()){var e=GmCXt.getAppSetting("guide_count_on_widget"),a=GmCXt.getAppSetting("hide_widget_if_noguide");if(e&&!ge.isWestpac||a){GmCXt.log(30,"REFRESH CURRENT PAGE guide indicator. Event: "+t);let a=ge.readLocalCT(GmCXt.urlParts.fullUrl,GmCXt.pageTitle);if(a&&a.length)GmCXt.log(30,"FETCHED tours from CACHE"),r(a);else{let t={url:GmCXt.urlParts.fullUrl};GmCXt.log(30,"NOT FOUND IN CACHE. FETCHING tours from API"),GmCXt.api.getContextualTour(t,function(e){GmCXt.log(30,"FETCHED tours from API"),r(a=ge.processContextualGuide(e,t.url))})}}else GmCXt.showWidget()}}else GmCXt.log(30,"REFRESH CURRENT PAGE guides list. Event: ",t),"home"!==ce(me.activeView)&&ge.setActivePage("home"),me.refreshCurrentPageView.set(!0);function r(e){var e=ge.filterCurrentPageTourTypes(e);ge.getBotGuideCount(e),GmCXt.isEmpty(e)?GmCXt.log(30,"NO GUIDES"):(e=ge.validateAllRulesExceptSelectEl(e,!0)).hasURLMatch||e.hasValidRule?(GmCXt.log(30,"URLMATCH: "+e.hasURLMatch+", ValidRule: "+e.hasValidRule),i()):ge.validateSelectElRules(e.tours,t).then(function(e){e&&i()})}function i(){GmCXt.showWidget()}},ge.showCurrentPageGuidesIndicator=function(e){(GmCXt.isPlayer()||GmCXt.playerMode)&&(GmCXt.ifGuidesOnCurrentPage=!0),GmCXt.isPlayer()&&(GmCXt.log(30,"SHOW current page indicator"),ge.msgSentCurrentPageCount=!0,e&&GmCXt.sendMessageToAllWindows("mgPlayerJSqa_action:clear_rule_jobs",{initiator:"currentPageIndicator",trigger:"guide_indicator"}),GmCXt.showWidget())},ge.hideCurrentPageGuidesIndicator=function(){GmCXt.isPlayer()&&(GmCXt.ifGuidesOnCurrentPage=!1,GmCXt.hideCurrentPageGuidesIndicator())},ge.validateAllRulesExceptSelectEl=function(r,i,e){var n={tours:[],hasURLMatch:!1,hasValidRule:!1};let s=GmCXt.urlParts;if(e&&(s=new URL(e)),r){let e="/"===s.pathname?"":s.pathname,a=(e&&0!==e.indexOf("/")&&(e="/"+e),GmCXt.getHostnameFromUrl(s.fullUrl)+e);a=a.toLowerCase();var l=[],o=[],c=[];for(let e=0;e<r.length;e++){var g=r[e],m=g.tour_settings,d=m.rules.length&&m.rules[0].condition;let t=!1;if(g.tour_url&&!d){var p=g.tour_url.toLowerCase(),u=s.href?s.href.toLowerCase():"";if((p===a||p===u)&&g.is_published&&(l.push(g),n.hasURLMatch=!0,i))return n}else if(d){if(GmCXt.ruleEngine.hasRuleType(m.rules,["Select Element","Select Table","Get Validity","Variables"]))t=!0;else{let e=!1;if(GmCXt.legacyWildChar(m.version)&&(e=!0),(t=GmCXt.ruleEngine.evaluateRules(m.rules,e,s))&&(g.ruleValidated=n.hasValidRule=!0,i))return n}t&&o.push(g)}var h=g.tour_settings.start_point_info;if(g.is_published&&h&&h.length)for(let e=0;e<h.length;e++)if(0<=h[e].step_url.toLowerCase().indexOf(a)){c.push(g);break}}n.tours=GmCXt.arrayMerge(c,GmCXt.arrayMerge(l,o))}return n},ge.validateSelectElRules=function(n,s){return new Promise(function(t,e){ge.msgSentCurrentPageCount=!1;let a=0;for(let e=0;e<n.length&&!ge.msgSentCurrentPageCount;e++){var r=n[e];ge.queueRuleForCP(r,e,i,s,"currentPageIndicator")}function i(e){ge.msgSentCurrentPageCount||(a++,e.valid?t(!0):a===n.length&&t(!1))}})},ge.queueRuleForCP=function(e,t,a,r,i){var n=e.tour_settings,n=n.rules&&n.rules.length?n.rules:[];"page_click"===r&&!ge.reEvalRules(e)||e.ruleValidated?(GmCXt.log(30,"SKIP RULE CHECK "+i+": "+e),GmCXt.log(30,"SKIP RULE CHECK "+i+": "+GmCXt.tourLog(e)),a({tour:e,valid:!0}),GmCXt.log(30,"RULE CHECK "+i+" :"+GmCXt.tourLog(e))):(GmCXt.log(30,"RULE CHECK "+i+" :"+e),r={tour:e,rules:n,cb:a,index:t,timeoutVal:GmCXt.t.ruleTimeOut15ms,timeout:GmCXt.t.ruleTimeOut15ms,isTour:!0,initiator:i},GmCXt.ruleEngine.queue(r))},ge.reEvalRules=function(e){return!ge.ruleCheck||!(!e.tour_settings.ruleCheckOnClick&&!GmCXt.isEmpty(ge.cTours)&&0<=ge.cTours.indexOf(e.tour_id))},ge.refreshPageView=function(t){if(ce(me.stepOperationMode)===GmCXt.STEP_VIEW_OPERATION){ge.refreshAllGuides=!0,ge.allGuideView=!0;var a=ce(me.CurrentPage);let e=!1;a&&!1!==a?(("stepview"===a&&mg$(".branching-popup-wrapper").is(":visible")||mg$(".mgPlayerJSqa_error-handler-popup-wrapper").is(":visible")||mg$(".mgPlayerJSqa_ege-popup-link-guide").is(":visible"))&&(e=!0),"stepview"===a&&ge.isStepViewRefresh&&t&&me.routeAction.set({action:"refreshView",data:!0}),e||ge.setCurrentPage(a)):ge.setActivePage("home")}},ge.getCurrentAppObj=function(i){return new Promise(function(t,e){ge.showLoading();function a(e){if(0<e.length){var a=GmCXt.urlParts;let t=GmCXt.checkDomainInApps(a.fullUrl);GmCXt.onPrem()&&t.appId!==GmCXt.activeAppId&&(GmCXt.saveToStorage("activeAppId",t.appId),GmCXt.activeAppId=t.appId),r=e.filter(function(e){return parseInt(e.application_id)===parseInt(GmCXt.activeAppId)})[0]||{},GmCXt.isEmpty(r)&&(t.domainMatch?(GmCXt.log(21,"GET APP by domain: "+t.appName),r=e.filter(function(e){return parseInt(e.application_id)===parseInt(t.appId)})[0]):GmCXt.FT.creatorApp&&(r=e[0]))}GmCXt.isEmpty(r)?(ge.goToNoApp(),ge.hideLoading(),t()):(ge.initAppDetails(r),ge.hideLoading(),t(r))}let r={};i?a(i):ge.checkAppList().then(function(){var e,t=[];for(e in GmCXt.appList)t.push(GmCXt.appList[e]);a(t)})})},ge.goToSignIn=function(){me.activeView.set("signin")},ge.fetchApps=function(){return new Promise(function(t,e){GmCXt.log(21,"FETCH apps");GmCXt.api.getAllApps({limit:500,offset:0},function(e){0<e.length?(e=wu(e=e.sort(function(e,t){return parseInt(e.application_id)-parseInt(t.application_id)})),ge.saveApps(e),GmCXt.timeout(function(){qu(e).then(function(){t()})},0)):ge.goToNoApp()})})},ge.setDefaultChatLabels=function(){ge.chatLabels={greetingMessage:ge.labels.defaultGreetingMessage,botEndingMessage:ge.labels.defaultBotEndingMessage,errorMessage:ge.labels.defaultErrorMessage}},ge.getChatLabels=function(e){for(var t in e){var a="default"+GmCXt.capitalizeFirstLetter(t);""!==e[t]?ge.chatLabels[t]=e[t]:ge.chatLabels[t]=ge.labels[a]}},ge.updateCustomLabels=function(e){let t=e.userLabels;var a=GmCXt.organization,r=GmCXt.activeAppId?GmCXt.appList["app:"+GmCXt.activeAppId]:{};let i=[];r&&r.settings?(t=r.settings.userLabels,i=r.settings.chatLabels,mg$.extend(t,{userNotFollowingGuideMessage:e.userLabels.userNotFollowingGuideMessage,maintenanceMessage:e.userLabels.maintenanceMessage,serviceErrorMessage:e.userLabels.serviceErrorMessage,resumeGuideMessage:e.userLabels.resumeGuideMessage})):t=a.settings.userLabels,t=function(e){for(var t in e)ge.labels.hasOwnProperty(t)&&(ge.labels[t]=e[t]||ge.labels[t]);return e}(t),i=function(e){for(var t in e)ge.labels.hasOwnProperty(t)&&(ge.labels[t]=e[t]||ge.labels[t]);return e}(i),GmCXt.label=ge.labels;r={userLabels:t,chatLabels:i};GmCXt.updateCustomLabels(r)},ge.isMgAdmin=function(){return"mg_admin"===ge.user.role},ge.isSuperAdmin=function(){return"superadmin"===ge.user.role},ge.isOwner=function(){return!!("owner"===ge.user.role||ge.isSuperAdmin()||ge.isMgAdmin()||ge.isPartnerAdmin())},ge.isCreator=function(){return"creator"===ge.user.role},ge.isPartnerAdmin=function(){return"partner_admin"===ge.user.role},ge.getCdnSign=GmCXt.getCdnSign,ge.removeCatFromApplist=function(e){let t=JSON.parse(JSON.stringify(e));return GmCXt.isEmpty(t)||Object.keys(t).forEach(function(e){delete t[e].categories}),t},ge.syncApps=function(e){ge.removeCatFromApplist(e),GmCXt.updateAppListSettingsInAllFrames()},ge.saveApps=function(e){GmCXt.appList={},e.forEach(function(e){window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer&&"guide"!==e.type?"mobile_web"===e.type&&(GmCXt.appList["app:"+e.application_id]=e):"guide"!==e.type&&"electron"!==e.type||(GmCXt.appList["app:"+e.application_id]=e)}),GmCXt.saveToDapStorage("appData",GmCXt.appList),ge.syncApps(GmCXt.appList),GmCXt.log(21,"CACHED app details",GmCXt.appList)},ge.loadJsonPlayer=function(){return new Promise(function(t,e){ge.showLoading();let a=GmCXt.organization;function r(e){ge.updateCustomLabels(a.settings),qu(e).then(function(){ge.hideLoading(),t()})}GmCXt.orgBucket=a.bucket,GmCXt.log(21,"REFRESHING org JSON"),0<GmCXt.user.app_access.length||ge.isOwner()?GmCXt.api.getOrgJson(function(e){vu();let t="",a=(t=GmCXt.onPrem()||GmCXt.inPlayer?e:e.data,ge.refreshTime=t.modification_date,ge.lastTimeStampSync=ge.refreshTime,GmCXt.saveToStorage("refreshTime_"+GmCXt.activeAppId,ge.refreshTime),GmCXt.saveToStorage("lastTimeStampSync_"+GmCXt.activeAppId,ge.lastTimeStampSync),GmCXt.organization=t,t=GmCXt.validateDataModel(t,GmCXt.model.organization),GmCXt.organization=t,GmCXt.createDeepCopy(GmCXt.validateModelArray(t.applications,GmCXt.model.applications._obj)));a=wu(a),ge.saveApps(a),delete t.applications,ge.saveOrganization(t),ge.guideSegmentation?ge.getSegmentGroupList().then(function(){r(a)}):r(a)}):(GmCXt.log(21,"NO ACCESS to any apps"),ge.goToNoApp())})},ge.initializeApp=function(){return GmCXt.log(21,"INITIALISE App"),new Promise(function(e,t){function a(){ge.fetchApps().then(function(){e(!0)})}var r;GmCXt.isPlayer()?ge.loadJsonPlayer().then(function(){e()}):(r=GmCXt.organization)&&r.organization_id?(ge.saveOrgSettings(r.settings),ge.guideSegmentation?ge.getSegmentGroupList().then(function(){a()}):a()):e()})},ge.saveOrgSettings=function(e){e&&(GmCXt.organization&&(GmCXt.organization.settings=e,ge.saveOrganization(GmCXt.organization)),mg$(".mgPlayerJSqa_ege-logo-image").attr("src",GmCXt.brandLogo()),ge.webUrl=e.web_url,ge.updateCustomLabels(e),GmCXt.showWidget())},ge.sortOrderCategory=function(){GmCXt.isPlayer()||(ge.sortType="",ge.descOrder=!1)},ge.filterPublished=function(e){return e.filter(function(e){return e.is_published})},ge.filterUnpublished=function(e){return e.filter(function(e){return!e.is_published})},ge.getPlayedStepsInfo=function(){GmCXt.getFromStorage("stepsPlayed").then(function(e){GmCXt.isAnonymousUser()?ge.playedSteps=e.stepsPlayed||[]:(e=GmCXt.user,GmCXt.isEmpty(e)||(ge.playedSteps=e&&e.settings.guide_view&&e.settings.guide_view.playedSteps?e.settings.guide_view.playedSteps:[]))})},ge.initPlayerMode=function(e){Ju(e),ge.getPlayedStepsInfo();e={action:"mgPlayerJSqa_action:update:player_mode",data:{showPlayer:ge.showPlayer,isMiniPlayer:ge.isMicroPlayer,playerMode:ge.playerMode}};GmCXt.handleUpdatePlayerMode(e.data),GmCXt.sendMessageToBackgroundService(e)},ge.onMinMaxChaticon=function(){ge.chatBotMin=!0},ge.onUserSignin=function(e,t,a){ge.user=e,GmCXt.user=e,GmCXt.log(21,"USER login",e),GmCXt.storage().set({login_state:!0}),GmCXt.updateGlobalUser(e),ge.loginTime=(new Date).getTime(),GmCXt.saveToStorage("loginTime",ge.loginTime),e.signedInWithSso=t,e.ssoSignInTrue=a,e.region="US",e.ssoId=ge.ssoId,ge.contextTours=[],GmCXt.removeFromStorage("activeLang"),ge.language=!1,GmCXt.language=!1,t&&(GmCXt.saveToStorage("lastSsoRedirectTime",""),GmCXt.saveToStorage("triggerSsoAfterFiveMins",!1)),ge.setMode(),ge.saveUser(e),ge.setNotifTours(),ge.registerClientInsights(),ge.getContextToursAfterLogin=!0,ge.initializeApp().then(function(){ge.initPlayerMode(),ge.sendSidePanelInitEvent(),GmCXt.inPlayer&&GmCXt.onPrem()||(ge.refreshTime=GmCXt.getCurrentTimeInSec(),GmCXt.saveToStorage("refreshTime_"+GmCXt.activeAppId,ge.refreshTime)),GmCXt.showWidget()}),ge.onMinMaxChaticon()},ge.isTrackingGuide=GmCXt.isFeatureTags,ge.getDefaultPlayAction=function(e){let t=GmCXt.getAppSetting("defaultPlayAction");return GmCXt.isFalse(t)||("Default"!==e.tour_settings.defaultPlayAction&&(t=e.tour_settings.defaultPlayAction),GmCXt.organization&&!GmCXt.getAppSetting(t)&&(t=GmCXt.model.organization.settings._obj.defaultPlayAction._default)),t},ge.isCADGuide=function(e){return!(!e||!e.tour_type||-1===e.tour_type.indexOf("desktop")&&-1===e.tour_type.indexOf("mobile"))},ge.isDesktopApp=function(){var e=GmCXt.appList["app:"+GmCXt.activeAppId];return!(!e||"electron"!==e.type)},ge.clearSession=function(e){cu.clearSession(e)},ge.logout=function(e){cu.logout(e)},ge.showPlayOption=function(t,a){if(GmCXt.user){let e=!1;var r=ge.getDefaultPlayAction(a);if(!ge.isDesktopApp()&&!GmCXt.isHowToGuide(a))switch(t){case ge.playGuideMe:GmCXt.getAppSetting("guideMeSetting")&&r===ge.playSlideshow&&ge.enableGuidemeMode&&!GmCXt.isOnboarding(a)&&(e=!0);break;case ge.playSlideshow:(GmCXt.getAppSetting("showMeSetting")&&r===ge.playGuideMe&&GmCXt.FT.showMe||GmCXt.isOnboarding(a))&&(e=!0);break;case ge.playTestMe:GmCXt.getAppSetting("testMeSetting")&&r===ge.playGuideMe&&GmCXt.FT.testme&&!GmCXt.isOnboarding(a)&&(e=!0)}return e}},ge.showDomainRedirect=function(e){let t=!1;var a=ge.labels.guideNotExist,r=GmCXt.checkDomainInApps(e.tour_url);r.domainMatch?t=(t=(t=ge.labels.belongToOtherApp).replace(/{TOURURL}/g,"<strong>"+GmCXt.getHostnameFromUrl(e.tour_url)+"</strong>")).replace(/{APPNAME}/g,"<strong>"+r.appName+"</strong>"):GmCXt.FT.creatorApp&&(t=(t=ge.labels.setDomain).replace(/{TOURURL}/g,"<strong>"+GmCXt.getHostnameFromUrl(GmCXt.urlParts.host)+"</strong>")),ge.showPopup(a,null,"warning",t)},ge.guideAction=function(t,a,r,i,n,s){return!!ge.isTooltip(r)||(s=s||!1,GmCXt.isOnboarding(r,s)?(ge.previewNotification(r,s,a),!0):(r=mg$.extend({},r),void ge.checkAppList().then(async function(){var e;return GmCXt.isDomainInActiveApp()||t===ge.playSlideshow||r.tour_settings.redirectionUrl?"0"!==r.step_count&&r.step_count?(e={tour_id:r.tour_id,category_id:r.category_id},GmCXt.checkDefaultLangForTour(r,ge.language)||(e.language=ge.language),void(r.steps.length?Au(t,a,r,i,n,s):GmCXt.api.getTour(e,function(e){ge.hideLoading(),Au(t,a,e,i,n,s)},function(){me.showModal.set(!0),me.dialogBox.set({msg:labels.tourPlayError,popupType:"error",onConfirm:()=>{GS.showModal.set(!1)},showCancelButton:!1})}))):(me.showModal.set(!0),me.dialogBox.set({msg:"There are no steps to play",popupType:"info",onConfirm:()=>{GmCXt.showModal.set(!1)},showCancelButton:!1}),!0):(ge.showDomainRedirect(r),!0)})))},ge.play=function(t,e){if(ge.trackSearchActivity(!0),ge.isResumeGuide=e,GmCXt.log(33,"Play tour"+GmCXt.tourLog(t)),t&&"help_article"===t.tour_type)window.open(t.tour_settings.articleUrl,"_blank");else if(GmCXt.FT.creatorApp)ge.goToTourView(t);else if(ge.isDesktopApp()||GmCXt.isHowToGuide(t))ge.guideAction(ge.playSlideshow,null,t);else{let e=ge.getDefaultPlayAction(t);"Default"===e&&(e=ge.getAppSetting("defaultPlayAction")),ge.guideAction(e,null,t,ce(me.CurrentPage))}},ge.previewNotification=function(e,t,a){var r=[];r.push(e),GmCXt.closeAppPanel(),GmCXt.loadGuideNotifications(r,!0,t,a)},ge.isOnlySurveyGuide=function(t){let a=!0;if(t&&0<t.steps.length){for(let e=0;e<t.steps.length;e++)if(t.steps[e]&&t.steps[e].step_type!==GmCXt.STEP_TYPE_SURVEY){a=!1;break}}else a=!1;return a},ge.displayTaskListWidget=function(e){GmCXt.isEmpty(ge.taskList)?(ge.isTaskListVisible=!1,me.isTaskListVisible.set(ge.isTaskListVisible)):(e(ge.taskList),ge.processTaskListByRules(ge.taskList))},ge.filterCompleatedTasks=function(e){let t=[];return ge.taskList&&ge.taskList.filter(function(e){e.completed||t.push(e)}),t},ge.closeAppPopup=function(){ge.navBarVisible||mg$(".mgPlayerJSqa_ege-panel-overlay")&&mg$(".mgPlayerJSqa_ege-panel-overlay").is(":visible")&&(ge.guideViewFullScreen=!1,ge.toggleGuideViewFullScreen(),mg$(".mgPlayerJSqa_ege-panel-overlay").css({display:"none"}))},ge.toggleGuideViewFullScreen=function(){ge.guideViewFullScreen?(GmCXt.increaseSidePanelWidth(),mg$(".mgPlayerJSqa_ege-panel").css({width:"90%","max-width":"90%",transition:"width 0s"})):(GmCXt.reduceSidePanelWidth(),mg$(".mgPlayerJSqa_ege-panel").css({width:"500px","max-width":"500px",transition:"width 0s"}))},ge.closeAppPanel=function(){ge.closeAppPopup(),ge.applicationDropdown=!1,ge.automationDropdown=!1,GmCXt.handleCloseApp(),"no-app"===ge.currentView&&GmCXt.FT.isPlayer&&GmCXt.hideWidgetIcon(),mg$(".mgPlayerJSqa_ege-panel").removeAttr("style")},ge.getTranslatedTaskList=function(e,r,i){const n=e;return n.forEach((e,t)=>{var a=GmCXt.parseJSON(e.language_data);a&&r&&a[r]&&((a=a[r]).title&&("taskList"===i?n[t].task_list_title=a.title:"folders"===i&&(n[t].folder_title=a.title)),"guides"===i)&&a.tour_title&&(n[t].tour_title=a.tour_title,n[t].tour_description=a.tour_description),GmCXt.isEmpty(e.guides)||(n[t].guides=ge.getTranslatedTaskList(e.guides,r,"guides")),GmCXt.isEmpty(e.folders)||(n[t].folders=ge.getTranslatedTaskList(e.folders,r,"folders"))}),n},ge.getTaskListData=function(t,e){ge.taskList?(ge.language&&(ge.taskList=ge.getTranslatedTaskList(ge.taskList,ge.language,"taskList")),ge.taskList=ge.filterCompleatedTasks(ge.taskList),ge.guideSegmentation&&GmCXt.inPlayer?ge.checkTaskSegmentation(ge.taskList,t):ge.displayTaskListWidget(t)):GmCXt.onPrem()||ge.taskListApiInProcess||!(0===e||parseInt(GmCXt.appList["app:"+GmCXt.activeAppId].modification_date)>parseInt(e))||(ge.taskListApiInProcess=!0,GmCXt.api.getTaskList().then(function(e){ge.taskList=ge.notDefaultLang()?ge.getTranslatedTaskList(e.task_list,ge.language,"taskList"):e.task_list,GmCXt.isEmpty(ge.taskList)||GmCXt.api.getTaskListDetails().then(function(e){e=e.data.task_lists,ge.updateDetailInMainTaskList(e),ge.taskList=ge.filterCompleatedTasks(ge.taskList),e={list:ge.taskList,time:Date.now()};GmCXt.saveToDapStorage("taskList",e),ge.taskListApiInProcess=!1,ge.guideSegmentation&&GmCXt.inPlayer?ge.checkTaskSegmentation(ge.taskList,t):(t(ge.taskList),ge.processTaskListByRules(ge.taskList))})}).catch(function(){}))},ge.checkTaskSegmentation=function(t,a){let r=[],i=[];function e(e){GmCXt.isEmpty(e)||(r.includes(e.task)||r.push(e.task),ge.taskList=r,ge.displayTaskListWidget(a))}if(0<t.length){for(let e=0;e<t.length;e++){var n;GmCXt.isEmpty(t[e].task_list_setting)||(n=GmCXt.parseJSON(t[e].task_list_setting),GmCXt.isEmpty(n.segment_groups))?r.push(t[e]):(n={tour_id:t[e].task_list_id,tour_title:t[e].task_list_title,tour_settings:n,task:t[e]},i.push(n))}GmCXt.isEmpty(i)?ge.displayTaskListWidget(a):GmCXt.timeout(function(){GmCXt.checkGuidesBasedOnSegment(i,e,"taskListSeg"),ge.taskList=r,ge.displayTaskListWidget(a)},0)}else ge.processTaskListByRules(t)},ge.getTaskListIndexById=function(t){let e=-1;return e=ge.taskList?ge.taskList.findIndex(function(e){return e.task_list_id===t}):e},ge.updateDetailInMainTaskList=function(t){var a=ge.taskList;if(!GmCXt.isEmpty(t))for(let e=0;e<t.length;e++){var r=ge.getTaskListIndexById(t[e].id);-1!==r&&(a[r].user_completed_guide_count=parseInt(t[e].user_completed_guide_count),a[r].guide_count=parseInt(t[e].guide_count),a[r].completed=t[e].completed)}ge.taskList=a},ge.displyTaskList=function(){var e=GmCXt.activeAppId,t=GmCXt.appList;return!!(GmCXt.isPlayer()&&!GmCXt.inPlayer||GmCXt.inPlayer&&e&&!GmCXt.isEmpty(t)&&!GmCXt.isEmpty(t["app:"+e])&&!GmCXt.isEmpty(t["app:"+e].task_list_count)&&0<parseInt(t["app:"+e].task_list_count))},ge.refreshTaskList=function(e){document.getElementsByClassName("mgPlayerJSqa_task-list-container").length?ge.setActivePage("taskList"):ge.sendMessageToShowTaskListWidget()},ge.sendMessageToShowTaskListWidget=function(){if(ge.displyTaskList()){let r=function(e){ge.processTaskListByRules(e)};GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)&&GmCXt.isPlayer()&&!ge.taskListApiInProcess&&GmCXt.getFromDapStorage("taskList").then(function(e){ge.taskList=null;let t=0;var a;GmCXt.isEmpty(e)||(a=ge.syncTaskList(e),ge.taskList=a.list),GmCXt.isEmpty(e)||GmCXt.isEmpty(e.time)||(t=e.time),ge.getTaskListData(r,t)})}},ge.openTaskList=function(){ge.displyTaskList()&&(mg$(".mgPlayerJSqa_push-notification-container").is(":visible")?mg$(".mgPlayerJSqa_ege-panel").css({width:"500px",right:"-9550px"}):(mg$(".mgPlayerJSqa_ege-panel").css({width:"100%"}),me.activeView.set("taskList")))},ge.guideHideForPlayer=function(e){let t=!1;return t=e&&e.guideHideForP&&GmCXt.FT.isPlayer?!0:t},ge.markTaskGuideComplete=function(a){var e={task_id:a.taskListId,guide_id:a.tourId};function r(){ge.taskList=ge.filterCompleatedTasks(ge.taskList),ge.taskListGuidesCount(ge.taskList),ge.hideLoading()}GmCXt.api.markTaskGuideComplete(e,function(){var e=ge.taskList,t=ge.getTaskListIndexById(a.taskListId);-1!==t&&(GmCXt.isEmpty(a.complete_count)||GmCXt.isEmpty(a.total_count)||a.complete_count+1!==a.total_count?e[t].user_completed_guide_count=e[t].user_completed_guide_count+1:(e[t].user_completed_guide_count=e[t].guide_count,e[t].completed=!0),ge.updateTaskList(e).then(r))})},ge.updateTaskList=function(r){return new Promise(function(a,e){GmCXt.getFromDapStorage("taskList").then(function(e){var t;GmCXt.isEmpty(e)||(t=ge.syncTaskList(e),ge.taskList=t.list,ge.taskList=[],GmCXt.removeFromDapStorage("taskList"),e.list=r,t={list:ge.taskList=r,time:e.time},GmCXt.saveToDapStorage("taskList",t),a())})})},ge.markTaskGuideCompletePlayedOutside=function(t){var e;ge.taskList&&0<ge.taskList.length&&0<(e=ge.taskList.filter(function(e){return!(!e.guides||!e.guides.some(function(e){return e.tour_id.toString()===t.tourId}))||!!e.folders&&0<e.folders.filter(function(e){return e.guides&&e.guides.some(function(e){return e.tour_id.toString()===t.tourId})}).length})).length&&e.forEach(function(e){e={taskListId:e.task_list_id,tourId:t.tourId,complete_count:e.user_completed_guide_count,total_count:e.guide_count};ge.markTaskGuideComplete(e)})},ge.processTaskListByRules=function(t){var a=[];for(let e=0;e<t.length;e++){var r,i=t[e];i.task_list_setting&&(i.task_list_setting=GmCXt.parseJSON(i.task_list_setting),r=i.task_list_setting.rules)&&0<r.length&&!GmCXt.ruleEngine.evaluateRules(r)||a.push(i)}return ge.taskListGuidesCount(a),a},ge.taskListGuidesCount=function(e){var t;GmCXt.FT.isPlayer&&(t=e.length||0,ge.taskListCount=t<100?t:"99+",ge.isTaskListVisible=0<t,GmCXt.taskListCount=t,me.allTaskList.set(e),me.isTaskListVisible.set(ge.isTaskListVisible),me.taskListCount.set(t))},ge.getSegmentGroupList=function(){let r={organization_id:GmCXt.organization.organization_id},i={list:[],time:Date.now()};return new Promise(function(t,e){function a(e){i.list=e,ge.allSegments=i.list,GmCXt.saveToStorage("segmentGroupData",i),t(i.list)}GmCXt.inPlayer?(i.list=GmCXt.organization.segment_groups,ge.allSegments=i.list,GmCXt.saveToStorage("segmentGroupData",i),t(i.list)):GmCXt.api.getSegmentGroupList(r).then(function(e){GmCXt.validateApiResp(a,"segment/group/list?organization_id=",e.data.groups,GmCXt.model.segmentGroups)}).catch(function(){t(i.list)})})},ge.startGuideAction=function(t,e,a,r){if(a&&ge.lastVideoStepCreated){var i=(new Date).getTime()-ge.lastVideoStepCreated.time;if(ge.lastVideoStepCreated.id===a.step_id&&i<6e4)return void ge.showPopup(ge.labels.processingVideo)}if(r.is_published)switch(e){case ge.playVideoTour:if(r.media_files&&"0"===r.media_files[0].video)return void ge.showPopup(ge.labels.msgVideoNotFound);t.type=ge.playVideoTour,t.mode=t.type;break;case ge.playGiphy:if("0"===r.media_files[0].gify)return void ge.showPopup(ge.labels.msgGiphyNotFound);t.type=ge.playGiphy,t.mode=t.type}e===ge.playSlideshow&&(t.type=ge.playSlideshow,t.mode=t.type);function n(e){var r,i,n;e&&(r={},i=[],n=e[0],e.forEach(function(e){for(var t=0;t<n.length;t++){var a=mg$("<span />").html(n[t]).text().trim();r[a]=e[t]}i.push(r),r={}}),e=i,t.loops=e.length-1,t.currentLoop=0,t.csvData=e),GmCXt.requestHandler.playGuide(t)}var s;t.origin=ge.activeTab,t.taskObj&&t.taskObj.taskId&&(t.origin="task_list"),t.guideOpened="tour-view"===ge.currentView,e===ge.playAuto?(t.automate=!0,t.initiator="doitforme",ge.showLoading(),s=r,new Promise(function(i,e){var t=GmCXt.createDeepCopy(s.steps);ge.checkLinkedGuideStep(t,function(t,e,a){if(0===e){clearInterval(a);for(let e=0;e<t.length;e++){var r=t[e].step_settings.automation;r&&"csv"===r.inputType&&r.csvParam&&(GmCXt.log(33,"CSV input expected"),i(!0))}i(!1)}})}).then(function(e){ge.hideLoading(),e?D.openDoItPopup(n,"Upload CSV",r):n()})):n()},ge.getTourLangInfo=function(e){let t="";return GmCXt.isEmpty(e.narrator)||(t=e.narrator),t=ge.enableTranslation&&ge.language&&-1===t.indexOf(ge.language)&&!GmCXt.isEmpty(ge.languageVoice)?ge.language+"-"+ge.languageVoice:t},ge.getStepFromTour=function(t,a){if(!t)return!1;for(let e=0;e<a.steps.length;e++)if(parseInt(a.steps[e].step_id)===parseInt(t))return a.steps[e]},ge.existsOrUndefined=function(e){return!(!e&&void 0!==e)},ge.updateStatusProgressBar=function(e){mg$(".mgPlayerJSqa_video-upload-progress-bar-wrapper").find(".mgPlayerJSqa_progress-bar-percentage").html(e.data.percentComplete+"%"),mg$(".mgPlayerJSqa_video-upload-progress-bar-wrapper").find(".mgPlayerJSqa_progress-bar-percentage").css("width",e.data.percentComplete+"%")},ge.updatedInProgressVariable=function(e){e=!(!e.data||!e.data.status);(ge.uploadInProgress=e)&&(ge.uploadProgressBar=!0)},ge.hideProgressBar=function(){ge.uploadProgressBar=!1,mg$(".mgPlayerJSqa_video-upload-progress-bar-wrapper").hide()},ge.checkLinkedGuideStep=function(e,t){let a=e,r=0;function i(e){e=e.steps;r--,a=GmCXt.arrayMerge(a,e)}e.forEach(function(t){var e;t.step_settings.tour_id&&(a=a.filter(function(e){return e.step_id!==t.step_id}),e={tour_id:t.step_settings.tour_id},r++,GmCXt.api.getTour(e,i,i))});let n=setInterval(function(){t(a,r,n)},500)},ge.checkStepsForDoItForMeMode=function(e){let t=0;var a=[GmCXt.STEP_TYPE_SURVEY,GmCXt.STEP_TYPE_IMAGE,GmCXt.STEP_TYPE_VIDEO],r={...e.steps};if(!(e&&0<r.length))return!1;for(let e=0;e<r.length;e++)a.includes(r[e].step_type)&&t++;return t===r.length},ge.isBeacon=function(e){return!(!e||!e.tour_type||-1===e.tour_type.indexOf("beacon_tour"))},ge.checkTourType=function(e){return!(ge.isTooltip(e)||GmCXt.isBotGuide(e)||GmCXt.isFeatureTags(e)||ge.isBeacon(e)&&!ge.currentPageBeacon)},ge.readLocalCT=function(e,t){return!(!ge.contextTours||!ge.contextTours[e])&&ge.contextTours[e][t]},ge.filterAnnouncement=function(e){var t=e;return e=GmCXt.isPlayer()?t.filter(function(e){if(!ge.isAnnouncement(e))return e}):e},ge.filterCurrentPageTourTypes=function(e){return e=(e=e.filter(function(e){if(ge.checkTourType(e))return e})).filter(function(e){if(!ge.isAnnouncement(e))return e}),GmCXt.log(30,"FILTERED current page tours",e),e},ge.breadCrumbItemsUpdate=function(e){let t=ce(me.breadCrumb);var a;me.breadCrumb.subscribe(e=>{t=e}),e.category_id,e.parent_id&&"0"!==e.parent_id?(-1!==(a=t.indexOf("All Guides"))&&t.splice(a,1),t.unshift(e),-1!==a&&t.unshift("All Guides"),ge.getCategoryApi(e.parent_id,ge.breadCrumbItemsUpdate)):(-1!==(a=t.indexOf("All Guides"))&&t.splice(a,1),t.unshift(e),-1!==a&&t.unshift("All Guides")),me.breadCrumb.set(t)},ge.getBreadcrumsCategories=function(e,t){"allguidesSearchPage"!==ce(me.CurrentPage)||function(t){var a=ce(me.breadCrumb);for(let e=1;e<a.length;e++)if("object"==typeof a[e]&&a[e].id===t)return 1}(e.category_id)||(me.breadCrumb.set(["All Guides"]),ge.getCategoryApi(e.category_id,ge.breadCrumbItemsUpdate),ce(me.breadCrumb),me.breadCrumb.subscribe(e=>{}))},ge.getCategoryApi=function(e,t,a,r){var i;e&&(e={category_id:e},ge.language&&!GmCXt.isFalse(ge.language)&&(e.language=ge.language),GmCXt.getLXPLang()&&(e.language=GmCXt.getLXPLang()),i=GmCXt.user,GmCXt.isEmpty(i)&&!GmCXt.onPrem()||GmCXt.api.getCategoryDetails(e,t,r,a))},ge.setTour=gu.setTour,ge.deleteCategoryServerUpdate=gu.deleteCategoryServerUpdate,ge.isUpdateNeeded=gu.isUpdateNeeded,ge.checkCurrentViewForUpdate=gu.checkCurrentViewForUpdate,ge.updateServerUpdateList=gu.updateServerUpdateList,ge.updateTourProperty=gu.updateTourProperty,ge.deleteTourServerUpdate=gu.deleteTourServerUpdate,ge.getTourFromId=function(e,t){let a={};if(t&&ge.allTourList["cat_"+t])a=ge.allTourList["cat_"+t]["tour_"+e];else for(var r in ge.allTourList)if(ge.allTourList[r]["tour_"+e]){a=ge.allTourList[r]["tour_"+e];break}return a},ge.getTranslatedTours=function(e,r){let i=[...e];return r=ge.language,i.forEach((e,t)=>{var e=GmCXt.createDeepCopy(e),a=e.language_data,a=(r=!e.tour_settings.translationEnable&&GmCXt.isGuide(e)?ge.defaultLang:ge.language,a&&a[r]&&!ge.isGuideInOriginalLang(e)&&(a[r].tour_title&&(e.tour_title=a[r].tour_title),a[r].tour_description&&(e.tour_description=a[r].tour_description),a=a[r].tour_settings)&&(a.beacon&&(e.tour_settings.beacon=a.beacon),a.rules)&&(e.tour_settings.rules=a.rules),ge.allCategories["cat_"+e.category_id]);a&&a.language_data&&a.language_data[r]&&(e.category_title=a.language_data[r].category_title),e.steps&&(i[t]=ge.getTranslatedTourAndSteps(e,r))}),i},ge.filterKeyInputGuides=function(e){ge.keyInputGuides=e.filter(function(e){if(e&&e.tour_settings&&!GmCXt.isEmpty(e.tour_settings.keyboardKeyInput))return e}),GmCXt.keyInputGuides=ge.keyInputGuides},ge.processContextualGuide=function(e,t){let a=e;return e.data&&(a=e.data.data.tours),ge.filterKeyInputGuides(a),GmCXt.isPlayer()&&!GmCXt.isEmpty(a)&&(a=GmCXt.filterScheduleTours(a)),GmCXt.inPlayer&&ge.notDefaultLang()&&(a=structuredClone(a),a=ge.getTranslatedTours(a)),ge.contextTours&&!ge.contextTours[t]&&(ge.contextTours[t]=[]),ge.contextTours[t][GmCXt.pageTitle]=a},ge.isUserLogin=function(){return new Promise(function(t,e){GmCXt.getFromStorage("user").then(function(e){e&&!GmCXt.isEmpty(e)&&(GmCXt.updateGlobalUser(e),GmCXt.user=e,ge.user=e,ge.syncUser(),e.organization&&ge.saveOrganization(e.organization),e.accesstoken)&&t(!0),t(!1)})})},ge.goToTourView=function(e){ge.currentTour=e,GmCXt.saveToDapStorage("currentTour",ge.currentTour),me.currentTour.set(e),ge.setCurrentPage("stepview")},ge.trackSearchEvent=function(e){ge.trackSearch&&ge.trackSearch.track&&(ge.trackSearch.track=!1,e={search_text:ge.trackSearch.keyword,results_returned:ge.trackSearch.results_returned,search_result_clicked:e,startTime:ge.trackSearch.startTime},GmCXt.trackerV1.trackGuideSearch(e),ge.trackSearch={})},ge.trackCurrentPageSearchEvent=function(e){ge.trackCurrentPageSearch&&ge.trackCurrentPageSearch.track&&(ge.trackCurrentPageSearch.track=!1,e={search_text:ge.trackCurrentPageSearch.keyword,results_returned:ge.trackCurrentPageSearch.results_returned,search_result_clicked:e,startTime:ge.trackCurrentPageSearch.startTime},GmCXt.trackerV1.trackGuideSearch(e))},ge.trackSearchActivity=function(e){var t=mg$("#mgPlayerJSqa_search-text-input").val();GmCXt.isEmpty(t)||"currentpage"!==ce(me.CurrentPage)&&"currentPageSearchPage"!==ce(me.CurrentPage)?GmCXt.isEmpty(t)||ge.trackSearchEvent(e):ge.trackCurrentPageSearchEvent(e)},ge.isRefreshView=function(){return"home"===ce(me.activeView)},ge.fetchOrgFromAPI=function(){return new Promise(function(t,e){GmCXt.api.getOrganization(function(e){ge.saveOrganization(e),GmCXt.showWidget(),t(!0)})})},ge.isFetchingCdn=!1,ge.ongoingCdnPromise=null,ge.getNewCdnSignature=function(){return ge.isFetchingCdn||(ge.isFetchingCdn=!0,ge.ongoingCdnPromise=new Promise(function(a,t){var e,r=GmCXt.organization;function i(){GmCXt.api.callGetCdnSignature(e,function(e){var t;(e=e)&&(e=e.data)&&e.cdn_signature&&e.cdn_signature_expiry&&(t=GmCXt.user)&&(t.cdn_signature=e.cdn_signature,t.cdn_signature_expiry=e.cdn_signature_expiry,ge.saveUser(t),GmCXt.handleUpdateCdnSign(ge.user)),ge.isFetchingCdn=!1,a()})}GmCXt.onPrem()?a():r&&!GmCXt.isEmpty(r)?(e={},r.organization_id?(e.organization_id=r.organization_id,i()):ge.fetchOrgFromAPI().then(function(e){i()}).catch(function(e){t(e)})):ge.fetchOrgFromAPI().then(function(e){i()})})),ge.ongoingCdnPromise},ge.checkCdnSignature=function(){return new Promise(function(t,a){var r=GmCXt.user;if(r&&!GmCXt.isEmpty(r)){if(!r.cdn_signature||!r.cdn_signature_expiry)return void ge.getNewCdnSignature().then(t).catch(a);let e=parseInt(r.cdn_signature_expiry);(e=e?1e3*e:0)&&(e-=12e4);r=(new Date).getTime();if(e-r<=0)return void ge.getNewCdnSignature().then(t).catch(a)}t()})},ge.setInsightsClientKey=function(t,a){GmCXt.api.getClientSecretInsight(t).then(function(e){GmCXt.log(21,"Insights client key is set"),e={registerClientId:t,app_client_secret:e.data.app_client_secret,app_client_timestamp:a},ge.trackerSecrets=e,GmCXt.trackerUtil.secrets=e,GmCXt.saveToStorage("trackerSecrets",e),e={action:"mgPlayerJSqa_action:update_secrets",data:{secrets:GmCXt.trackerUtil.secrets}},ge.isClientJs?GmCXt.sendToParentWindow(e):GmCXt.sendMessageToBackgroundService(e)}).catch(function(e){GmCXt.log(1,"ERROR: failed to get insights client key"),e&&"006-001-002"===e.errorCode&&(ge.trackerSecrets={},ge.registerClientInsights())})},ge.registerClientInsights=function(){var e;let t=(new Date).getTime();e=GmCXt.isEmpty(ge.trackerSecrets)?parseInt(t/1e3):parseInt((t-ge.trackerSecrets.app_client_timestamp)/1e3),GmCXt.isEmpty(ge.trackerSecrets)||!ge.trackerSecrets.registerClientId?GmCXt.api.registerClientInsight().then(function(e){ge.setInsightsClientKey(e.data.app_client_id,t)}).catch(function(){}):3600<e&&ge.setInsightsClientKey(ge.trackerSecrets.registerClientId,t)},ge.sendUserInfo=function(){ge.checkCdnSignature().then(function(){var e=GmCXt.organization;GmCXt.inPlayer&&(GmCXt.orgBucket=e.bucket),ge.sendSidePanelInitEvent(!1,!0),GmCXt.isDefined(ge.trackerSecrets)||(ge.trackerSecrets={}),ge.trackerSecrets&&GmCXt.isEmpty(ge.trackerSecrets.secrets)&&ge.registerClientInsights()})},ge.sendSidePanelInitEvent=function(e,t){var a,r,i,n;!ge.maintenance&&GmCXt.activeAppId&&(GmCXt.log(21,"Side panel intialisation completed"),i=GmCXt.appList,n=GmCXt.user,a=GmCXt.organization,r=GmCXt.urlParts,i=ge.removeCatFromApplist(i),n={action:"mgPlayerJSqa_action:on_side_panel_init",data:{user:n,activeAppId:GmCXt.activeAppId,organization:a,userPrefLang:GmCXt.userPrefLang,appList:i,refreshTime:ge.refreshTime,lastTimeStampSync:ge.lastTimeStampSync,url:r.fullUrl,reset:e,triggerSync:t}},GmCXt.onSidePanelInit(n),GmCXt.sendMessageToBackgroundService(n))},ge.isAllowedDomain=function(){let t=!0;if(GmCXt.conf.allowedDomains&&GmCXt.conf.allowedDomains.length){t=!1;for(let e=0;e<GmCXt.conf.allowedDomains.length;e++)if(0<=GmCXt.urlParts.host.indexOf(GmCXt.conf.allowedDomains[e])){t=!0;break}}return t},ge.initApp=function(){GmCXt.onPrem()?$u():GmCXt.isPlayer()?(GmCXt.log(21,"LOADED side panel. Initialising Player"),GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)?xu():(GmCXt.conf.appConfig.login.SSO||GmCXt.myGuideInternalCustomers()||GmCXt.isMcKesson())&&ge.isAllowedDomain()?GmCXt.urlParts?ge.signInWithSso():setTimeout(function(){ge.signInWithSso()},1e3):ge.clearSession()):(GmCXt.log(21,"LOADED side panel. Initialising Creator"),GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)?xu():ge.clearSession())},ge.goToNoApp=function(){GmCXt.isPlayer()&&GmCXt.hideWidgetIcon(),ge.setActivePage("home"),ge.setCurrentPage("noapp")},ge.validateAndMigrateTour=function(e){e=GmCXt.validateDataModel(e,GmCXt.model.guide);return GmCXt.migrateTour(e)},ge.updateGuideInPublishedTour=function(a,r){let i=!1;ge.publishedTours.forEach(function(e,t){parseInt(e.tour_id)===parseInt(a.tour_id)&&(i=!0,r?ge.publishedTours.splice(t,1):ge.publishedTours[t]=a)}),i||r||ge.publishedTours.push(a)},ge.updateTourToStorage=function(e,a,r,i){GmCXt.log(70,"UPDATE TOUR: "+GmCXt.tourLog(a)),r||i||(ge.setTour(a),GmCXt.log(70,"UPDATE TOUR: Global updated"+GmCXt.tourLog(a)));var t=i||GmCXt.activeAppId;let n=a.category_id;var s=a.tour_id;let l=!1;var o=a;if(!GmCXt.isEmpty(ge.contextTours)){let i=!1;Object.keys(ge.contextTours).forEach(function(r){i||Object.keys(ge.contextTours[r]).forEach(function(t){if(!i){var a=ge.contextTours[r][t];for(let e=0;e<a.length;e++)if(parseInt(ge.contextTours[r][t][e].tour_id)===parseInt(o.tour_id)){i=!0,ge.contextTours[r][t][e]=o;break}}})})}if(GmCXt.appList["app:"+t]&&!(l=GmCXt.appList["app:"+t].categories?GmCXt.appList["app:"+t].categories.filter(function(e){return parseInt(e.category_id)===parseInt(n)})[0]:l)&&GmCXt.appList["app:"+t].categories){var c=GmCXt.appList["app:"+t].categories;for(let e=0;e<c.length&&!(l=c[e].sub_categories?Lu(c[e].sub_categories,n):l);e++);}if(l){let t;if(l.tours)for(let e=0;e<l.tours.length;e++)if(parseInt(l.tours[e].tour_id)===parseInt(s)){t=e;break}0<=t?r?(l.tours.splice(t,1),GmCXt.log(70,"UPDATE TOUR: tour REMOVED"+GmCXt.tourLog(a))):(l.tours.splice(t,1,a),GmCXt.log(70,"UPDATE TOUR: tour UPDATED"+GmCXt.tourLog(a))):r||(l.tours||(l.tours=[]),l.tours.push(a),GmCXt.log(70,"UPDATE TOUR: tour ADDED"+GmCXt.tourLog(a))),ge.syncApps(GmCXt.appList),GmCXt.saveToDapStorage("appData",GmCXt.appList),i||ge.updateGuideInPublishedTour(a,r),e&&ge.playerSyncCount--}else GmCXt.log(70,"UPDATE TOUR: category not found"+GmCXt.tourLog(a)),ge.playerSyncCount--},GmCXt.storage().get(["screen_recorder_close"]).then(function(e){e.screen_recorder_close?(ge.isScreenRecorderClose=e.screen_recorder_close,GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSqa_action:show_recording_off"})):ge.isScreenRecorderClose=!1}),ge.getSteps=function(a){return new Promise(function(t,e){GmCXt.api.getTour(a,function(e){ge.notDefaultLang()&&(e=ge.getTranslatedTourAndSteps(e,ge.language),t(e)),t(e)})})},ge.isTooltip=function(e){return!(!e||!e.tour_type||-1===e.tour_type.indexOf("smartTip"))},ge.isHelpArticle=function(e){return!(!e||!e.tour_type||-1===e.tour_type.indexOf("help_article"))},ge.isMobileGuide=function(e){return!!(e&&e.tour_settings&&e.tour_settings.tour_type&&-1!==e.tour_settings.tour_type.indexOf("mobile"))},ge.isPlayedTour=function(e){var t=GmCXt.playedTour;return!(!GmCXt.isPlayer()||GmCXt.isEmpty(t)||-1===t.indexOf(e))},ge.branchGuideDownloadOpts=function(e){e.video_file=!1,e.gif_file=!1,e.text_file=!1,e.word_file=!1,e.blog_file=!1},ge.addPanelOverlay=function(){mg$(".mgPlayerJSqa_ege-panel-overlay").remove(),mg$(".mgPlayerJSqa_ege-panel").append("<wmgPlayerJSqa_ class='mgPlayerJSqa_ege-panel-overlay'></wmgPlayerJSqa_>")},ge.showPanelOverlay=function(){mg$(".mgPlayerJSqa_ege-panel-overlay").css({display:"block"})},ge.hidePanelOverlay=function(){mg$(".mgPlayerJSqa_ege-panel-overlay")&&mg$(".mgPlayerJSqa_ege-panel-overlay").is(":visible")&&mg$(".mgPlayerJSqa_ege-panel-overlay").css({display:"none"})},ge.updateAccessToken=function(){GmCXt.updateGlobalUser(GmCXt.user)},ge.updateAccessTokenCallBack=function(e,t,a){if(e){var r=GmCXt.user;if(r.accesstoken=e.accesstoken,r.refreshtoken=e.refreshtoken,GmCXt.isDefined(e.profile)&&(r.profile=e.profile),GmCXt.isDefined(e.app_access)&&(r.app_access=e.app_access),ge.saveUser(r),ge.accesstokenCbArr.length){for(let e=0;e<ge.accesstokenCbArr.length;e++){var i=ge.accesstokenCbArr[e];i.cb&&(a?i.cb(i.apiData):i.cb(r.accesstoken))}ge.accesstokenCbArr=[]}ge.updateAccessToken(),GmCXt.showWidget(),ge.updateLabels()}else GmCXt.log(1,"ERROR: failed to get a new accesstoken")},ge.accesstokenCbArr=[],ge.ActiveRefreshAccessTockenCall=!1,ge.getAccessTokenFromRefreshToken=function(t,a){ge.accesstokenCbArr.push({cb:t,apiData:a}),ge.ActiveRefreshAccessTockenCall||(ge.ActiveRefreshAccessTockenCall=!0,GmCXt.api.getAccessToken(function(e){ge.ActiveRefreshAccessTockenCall=!1,ge.updateAccessTokenCallBack(e,t,a)}))},ge.getAllSegments=function(t){return new Promise(function(a,e){t?ge.getSegmentGroupList().then(function(e){a(e)}):GmCXt.getFromStorage("segmentGroupData").then(function(e){var t=e.time+GmCXt.t.syncSegment;Date.now()<t?(ge.allSegments=e.list,ge.syncSegmentData()):ge.allSegments=[],ge.allSegments.length?a(ge.allSegments):ge.getSegmentGroupList().then(function(e){a(e)})})})},ge.resetCreatorData=function(e){ge.allCategories={},ge.allCategoriesNoFilter=[],GmCXt.inPlayer||(ge.categoryStore=[]),ge.subCategoryStore={},ge.allTourList={},e&&(GmCXt.inPlayer||GmCXt.removeFromDapStorage("categories"),ge.serverUpdates={},ge.serverDeletes={categories:[],tours:[]},GmCXt.removeFromDapStorage("allTourList"),GmCXt.removeFromDapStorage("serverUpdates"),GmCXt.removeFromDapStorage("serverDeletes"))},ge.resetCreatorData(),ge.cancelAutomationSelection=function(){ge.automationSelectionMode=!1,ge.myGuidesFilter=!0,ge.categoryDataForAutomation=[]},ge.processActiveRequests=function(){ge.maintenance||GmCXt.processActiveReq()},ge.getOnPremOrg=function(i){return new Promise(function(t,e){var a=GmCXt.organization;function r(e){ge.saveOrgSettings(e.settings),ge.enableOrgFeatures(e),ge.getCurrentAppObj().then(function(){ge.sendSidePanelInitEvent(),t()})}GmCXt.isEmpty(a)||i?GmCXt.api.getOrgJson(function(e){GmCXt.getJsonTimeStamp(GmCXt.getOnPremJsonURL()).then(function(e){ge.refreshTime=e.last_updated_time,GmCXt.saveToStorage("refreshTime_"+GmCXt.activeAppId,ge.refreshTime)}),ge.hideLoading();var t=(e=e.data).applications,e=GmCXt.validateDataModel(e,GmCXt.model.organization);ge.saveOrganization(GmCXt.organization),t=GmCXt.validateModelArray(t,GmCXt.model.applications._obj),ge.saveApps(t),r(e)}):r(a)})},ge.refreshAllData=function(e){GmCXt.log(21,"REFRESH event"),ge.showLoading(),ge.isRefresh=!0,ge.taskList=[],GmCXt.removeFromDapStorage("taskList"),GmCXt.removeFromDapStorage("languageList"),Eu(),GmCXt.onPrem()?$u(!0):e?Du():(ge.accesstokenCbArr=[],ge.getAccessTokenFromRefreshToken(Du)),"stepview"===ce(me.CurrentPage)&&(ge.isStepViewRefresh=!0)},ge.showLogoutBtn=function(){var e=GmCXt.user;return!((GmCXt.isEmpty(e)||GmCXt.isLXP()||e?.signedInWithSso||GmCXt.conf.appConfig.login.SSO)&&!GmCXt.isCreatorExt())},ge.resetAppData=function(){GmCXt.appList={},GmCXt.removeFromStorage("activeAppId"),GmCXt.activeAppId=!1},ge.triggerSsoInterval=function(){clearInterval(ge.ssoLoginCheck),ge.ssoLoginCheck=setInterval(function(){!ge.ssoSuccess&&ge.ssoHitCount<30?(ge.ssoHitCount++,ge.signInWithSso()):ge.clearSsoInterval()},2e3)},ge.getSsoUserInfo=function(){ge.ssoHitCount<30&&(ge.ssoHitCount++,setTimeout(function(){ge.signInWithSso()},2e3))},ge.openSsoTab=function(e,t,a){var r;GmCXt.isEmpty(ge.ssoId)&&!ge.appConfig.login.SSO||(r=(new Date).getTime(),a||e?(!t||r>t+GmCXt.t.openSso)&&GmCXt.saveToStorage("lastSsoRedirectTime",r):(GmCXt.saveToStorage("lastSsoRedirectTime",r),GmCXt.saveToStorage("triggerSsoAfterFiveMins",!1)),a="width=350,height=300,",e=(a+="top="+(screen.width-100)+",")+"left="+(screen.height-100),ge.ssoTab=window.open(Fu(ge.ssoRedirectionUrl),"",e),ge.getSsoUserInfo())},ge.clearSsoInterval=function(){clearInterval(ge.ssoLoginCheck),Ou(),ge.ssoLoginCheck=""},ge.removeCookieWithSSO=function(){return new Promise(async(a,t)=>{try{ge.ssoId=ge.ssoId||GmCXt.user?.ssoId,(GmCXt.isEmpty(GmCXt.conf.ssoRemoveCookieUrl)||GmCXt.isEmpty(ge.ssoId))&&a(),!async function(){var e=GmCXt.trimAndLowerCaseURL(GmCXt.urlParts.host),t=Fu(GmCXt.conf.ssoRemoveCookieUrl),e=(GmCXt.trackApiCalls(),{"x-mg-host":e,"x-mg-source":GmCXt.conf.appName,"x-mg-orgId":"","Content-Type":"application/json"}),t=await Ru(t,{requestType:"removeCookieSSO",headers:e,credentials:"include"}),e=GmCXt.parseJSON(t);GmCXt.activeApiCallCount--,ge.hideLoading(),a(e)}()}catch(e){console.error("Error remove cookie SSO info:",e),t(e)}})},ge.getUserInfoWithSSO=function(){return new Promise(async(a,t)=>{try{let e="",t="";t=GmCXt.isPlayer()?(e=GmCXt.trimAndLowerCaseURL(GmCXt.urlParts.host),Fu(ge.ssoApiUrl)):(e=GmCXt.trimAndLowerCaseURL(ge.ssoDomain),Fu(GmCXt.conf.ssoApiUrlCreator)),GmCXt.trackApiCalls(!1,!0);var r={"x-mg-host":e,"x-mg-source":GmCXt.conf.appName,"x-mg-orgId":"","Content-Type":"application/json"},i=await Ru(t,{requestType:"fetchUserInfoWithSSO",headers:r,credentials:"include"}),n=GmCXt.parseJSON(i);GmCXt.activeApiCallCount--,ge.hideLoading(),a(n)}catch(e){GmCXt.activeApiCallCount--,ge.hideLoading(),console.error("Error fetching SSO info:",e),t(e)}})},ge.creatorSSOLogin=function(e){ge.showLoading(),ge.ssoHitCount=0,ge.ssoDomain=e;try{ge.getSsoId(e).then(function(e){e&&e.id&&(ge.openSsoTab(),me.showSsoNotAvailableError.set(!1))}).catch(function(){me.showSsoNotAvailableError.set(!0),ge.hideLoading()})}catch(e){ge.hideLoading()}},ge.getSsoId=function(e){return new Promise(async(t,a)=>{try{let e=GmCXt.trimAndLowerCaseURL(GmCXt.urlParts.host);GmCXt.isEmpty(ge.ssoDomain)||(e=ge.ssoDomain);var r=await Ru(""+GmCXt.conf.ssoConfigUrl+GmCXt.getMd5(e)+".json",{requestType:"fetchSsoId",headers:{"Content-Type":"application/json"},credentials:"omit"}),i=GmCXt.parseJSON(r);ge.ssoId=i.id,t(i)}catch(e){GmCXt.log(1,"Error fetching SSO ID:",e),a(e)}})},ge.shouldOpenSsoTab=function(){let n=(new Date).getTime();return new Promise(function(i){GmCXt.getFromStorage("lastSsoRedirectTime").then(function(r){GmCXt.getFromStorage("triggerSsoAfterFiveMins").then(function(e){var t=n>r+GmCXt.t.openSso,a=!e&&r&&n>r+GmCXt.t.openSsoAfterFiveMin;a&&(GmCXt.saveToStorage("triggerSsoAfterFiveMins",!0),GmCXt.saveToStorage("lastSsoRedirectTime",n)),i({flag:!r||t||!e&&a,fiveMinuteCheck:a,lastSsoRedirectTime:r,triggerSsoAfterFiveMins:e})})})})},ge.goToMaintenance=function(){ge.hideLoading(),ge.maintenance=!0,ge.chatBot=!1,ge.setActivePage("maintenance")},ge.signInWithSso=function(e){function t(){var e=GmCXt.user;e&&!GmCXt.isEmpty(e)?Ou():ge.shouldOpenSsoTab().then(function({flag:e,fiveMinuteCheck:t,lastSsoRedirectTime:a,triggerSsoAfterFiveMins:r}){e?ge.openSsoTab(t,a,r):ge.getSsoUserInfo()})}function a(){ge.getUserInfoWithSSO().then(r).catch(function(e){t()})}function r(e){!1===e.error?(Ou(),ge.onUserSignin(e.data.user,!0,!0)):1001===e.code?t():1002===e.code?(Ou(),GmCXt.hideWidgetIcon()):1014===e.code&&(Ou(),ge.goToMaintenance())}GmCXt.isEmpty(ge.myGuideOrgKey)&&GmCXt.myGuideInternalCustomers()||e?ge.getSsoId().then(function(e){e&&e.id&&a()}).catch(function(){GmCXt.log(1,"ERROR: failed to get SSO Id"),ge.clearSession()}):GmCXt.conf.appConfig.login.SSO&&a()},ge.goToLogin=function(){me.showSsoNotAvailableError.set(!1),me.activeView.set("signin")},ge.showPopup=function(e,t,a,r){a=a||"info",ge.hideLoading(),D.close(),D.open(e,a,t,!1,r)},ge.sortTourSteps=function(e,a){let r=[];return e.forEach(function(t){for(let e=0;e<a.length;e++)t.step_id===a[e].step_id&&(a[e].step_order=t.step_order.toString(),r.push(a[e]))}),r},ge.sortDataByActiveFilter=function(e,a,r){return!GmCXt.isEmpty(e)&&e.length?r||"currentpage"===ce(me.CurrentPage)?!a||"atoz"!==r&&"ztoa"!==r?e.sort((e,t)=>"older"===r?e.modification_date-t.modification_date:t.modification_date-e.modification_date):"atoz"===r?e.sort((e,t)=>e[a].toLowerCase()>t[a].toLowerCase()?1:-1):"ztoa"===r?e.sort((e,t)=>t[a].toLowerCase()>e[a].toLowerCase()?1:-1):e:e.sort((e,t)=>"category_title"===a?e.category_order-t.category_order:e.tour_order-t.tour_order):[]},ge.isBotTourPlayed=function(t){let a=!1;for(let e=0;e<ge.botTourPlayList.length;e++)if(ge.botTourPlayList[e].tour_id===t.tour_id){a=!0;break}return a},ge.filterBotGuides=function(e){return e=e.filter(function(e){if(GmCXt.isBotGuide(e))return e;if(ge.botTourPlayList&&ge.botTourPlayList.length){if(e.tour_settings.enableBot&&!ge.isBotTourPlayed(e))return e}else if(e.tour_settings.enableBot)return e})},ge.setPlayedStepsInfo=function(t){if(ge.playedSteps=ge.playedSteps||[],GmCXt.isValueInArray(ge.playedSteps,"tId",t.tour_id)){for(let e=0;e<ge.playedSteps.length;e++)if(ge.playedSteps[e].tId===t.tour_id){ge.playedSteps[e].lastStepid=t.step_id;break}}else ge.playedSteps.push({tId:t.tour_id,lastStepid:t.step_id});GmCXt.saveToStorage("stepsPlayed",ge.playedSteps);var e={playedSteps:ge.playedSteps},e=(GmCXt.user&&GmCXt.user.settings&&(GmCXt.user.settings.guide_view=e),{settings:{guide_view:e}});GmCXt.updateUserSettings(e,GmCXt.user,function(e){ge.saveUser(GmCXt.user)})},ge.getPlayedStepCount=function(t){let a="";if(ge.playedSteps)for(let e=0;e<ge.playedSteps.length;e++)if(ge.playedSteps[e].tId===t.tour_id){a=ge.playedSteps[e].lastStepid;break}return GmCXt.getStepPosFromPs(t,a)},ge.hideMirrorAppCtrl=function(){let e=!1;var t;return e=GmCXt.isMirrorApp()&&!GmCXt.isEmpty(GmCXt.appList)&&GmCXt.activeAppId&&(t=GmCXt.appList["app:"+GmCXt.activeAppId])&&t.base_app_id&&0!==parseInt(t.base_app_id)?!0:e},ge.triggerError=function(e){na.on({code:e.code,url:e.url,params:e.params,method_type:e.method_type,message:e.errMessage})},ge.loginFromConsole=function(t){var e={email_id:t.email,password:t.password,keep_login:1};GmCXt.api.userSignIn(e,function(e){ge.onUserSignin(e,t.sso)},function(){ge.clearSession()})},ge.updateCategoryInStorage=function(i,n,e){if(GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: "+GmCXt.categoryLog(i)),e=e||GmCXt.activeAppId){var a=GmCXt.appList["app:"+e].categories;let t,r=!1;if(a.length&&!parseInt(i.parent_id)){for(let e=0;e<a.length;e++)if(a[e].category_id===i.category_id){t=e;break}}else a.length||(GmCXt.appList["app:"+e].categories=[]);var s,l,o=GmCXt.appList["app:"+e].categories;if(0<=t)GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: category FOUND"+GmCXt.categoryLog(i)),r=!0,n?(GmCXt.appList["app:"+e].categories.splice(t,1),GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: category REMOVED"+GmCXt.categoryLog(i))):((s=GmCXt.appList["app:"+e].categories[t].tours)&&!i.tours&&i.has_tour?(GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: keep category tours"+GmCXt.categoryLog(i)),i.tours=s):(s=GmCXt.appList["app:"+e].categories[t].categories)&&i.has_child&&!i.categories&&(GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: keep category subcats"+GmCXt.categoryLog(i)),i.categories=s),GmCXt.appList["app:"+e].categories.splice(t,1,i),GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: category UPDATED"+GmCXt.categoryLog(i)));else if(parseInt(i.parent_id))for(let a=0;a<o.length;a++){let e,t;if(parseInt(o[a].category_id)===parseInt(i.parent_id)&&(t=o[a]),o[a].sub_categories&&(t=t||Lu(o[a].sub_categories,i.parent_id))&&t.sub_categories&&(e=Lu(o[a].sub_categories,i.category_id)),t&&!e&&(t.sub_categories=t.sub_categories||[],t.sub_categories.push(i)),e){GmCXt.log(70,"UPDATE TOURS in STORGAE: sub category found. "+i.category_id),r=!0,n||(e.has_tour&&e.tours?(l=GmCXt.createDeepCopy(e.tours),i.tours=l,e=i):e.has_child&&e.categories&&(l=GmCXt.createDeepCopy(e.categories),i.categories=l,e=i));break}}r||n||0!==parseInt(i.parent_id)||(GmCXt.appList["app:"+e].categories.push(i),GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: category ADD"+GmCXt.categoryLog(i))),ge.syncApps(GmCXt.appList),GmCXt.saveToDapStorage("appData",GmCXt.appList),ge.playerSyncCount--}},ge.updateCategory=function(e,t,a,r){var i="cat_"+e.category_id,n=ge.allCategories;!GmCXt.isEmpty(n)&&n[i]?(n[i][t]=a,r&&(n[i].modification_date=GmCXt.getCurrentTimeInSec()),GmCXt.inPlayer||(ge.allCategories=n,GmCXt.saveToDapStorage("categories",ge.allCategories))):(e[t]=a,r&&(e.modification_date=GmCXt.getCurrentTimeInSec()),ge.addCategory(e)),yu(e,parseInt(e.parent_id))},ge.updateEnvNames=function(e){var t;return"qa"===e?ge.labels.qa:"stage"===e?ge.labels.stage:"prod"===e?ge.labels.production:(t=GmCXt.appList["app:"+GmCXt.activeAppId])&&t.settings&&t.settings.app_env&&t.settings.app_env[e]?t.settings.app_env[e].name:void 0},ge.removeTour=function(e,t,a){var r=ge.allTourList["cat_"+e]["tour_"+t];if(r&&("smartTip"===r.tour_type||-1<r.tour_type.indexOf("beacon_tour"))&&GmCXt.removeSmarttipAndBeaconIcon(r.tour_id),!a){if(!ge.allTourList["cat_"+e]["tour_"+t])return;delete ge.allTourList["cat_"+e]["tour_"+t]}GmCXt.inPlayer&&ge.updateTourToStorage(!0,{tour_id:t,category_id:e,application_id:a},!0,a),a||(GmCXt.saveToDapStorage("allTourList",ge.allTourList),(r=ge.getCategory(e))&&GmCXt.FT.creatorApp&&(t=parseInt(r.total_unpublish_tour),t=0<=--t?t:0,ge.updateCategory(r,"total_unpublish_tour",t.toString()),0===parseInt(r.total_unpublish_tour))&&0===parseInt(r.total_publish_tour)&&ge.updateCategory(r,"has_tour",!1))},ge.fetchToursForCategory=function(e,t,a,r){e={limit:100,offset:0,category_id:e,organization_id:GmCXt.organization.organization_id};a&&(e.published_guides="1"),GmCXt.api.getTourList(e,function(e){t(e)},r)},ge.updateToursInCategoryStorage=function(a,e,r,i){if(GmCXt.log(70,"UPDATE TOURS in STORAGE: ",e),i||ge.getCategory(a)){i=i||GmCXt.activeAppId;let t=GmCXt.appList["app:"+i].categories.filter(function(e){return e.category_id===a})[0];if(t)GmCXt.log(70,"UPDATE TOURS in STORGAE: category found. "+a);else{var n=GmCXt.appList["app:"+i].categories;for(let e=0;e<n.length;e++)if(t=n[e].sub_categories?Lu(n[e].sub_categories,a):t){GmCXt.log(70,"UPDATE TOURS in STORGAE: sub category found. "+a);break}}r?(GmCXt.log(70,"UPDATE TOURS in STORGAE: REMOVED "+a),t.tours=[]):(GmCXt.log(70,"UPDATE TOURS in STORGAE: UPDATED "+a),t.tours=e),e.forEach(function(e){ge.updateGuideInPublishedTour(e,r)}),ge.syncApps(GmCXt.appList),GmCXt.saveToDapStorage("appData",GmCXt.appList)}else GmCXt.log(70,"UPDATE TOURS in STORGAE: category not found. "+a)},ge.processAppData=function(e){let a={},r={};GmCXt.log(21,"PROCESS NON ACTIVE app data",e);function i(e){var t;(a["cat_"+e.category_id]=e).sub_categories&&0<e.sub_categories.length?mg$.each(e.sub_categories,function(e,t){i(t)}):e.tours&&0<e.tours.length&&(r=(e=e.tours,t=r,e.forEach(function(e){t["tour_"+e.tour_id]=e}),t))}return e&&e.categories&&0<e.categories.length&&e.categories.forEach(function(e){i(e)}),{categories:a,tours:r}},ge.getBasePath=function(e){let t="";return t=GmCXt.isExtension()?GmCXt.getBrowserUrl(e):GmCXt.isDefined(GmCXt.conf.baseUrl)?GmCXt.conf.baseUrl+e:GmCXt.conf.clientJsBaseUrl+e},ge.getImageURL=function(e,t,a){if(e)return e=e.split(".png")[0]+t,a?e:GmCXt.restoreAssetSrc(e)},ge.getApiLimit=function(e){return 50*(Math.ceil(e/50)||1)},ge.isAppAdmin=function(){return"app_admin"===ge.user.role},ge.isOwnerOrAppAdmin=function(){return!(!ge.isOwner()&&!ge.isAppAdmin())},ge.hasCreatorAccess=function(){var e=ge.user.role;return!(!GmCXt.FT.creatorApp||"creator"!==e&&"app_admin"!==e&&!ge.isOwner())},ge.clearSearchInput=function(){mg$("#mgPlayerJSqa_search-text-input").val(""),ge.searchKeyword=""},ge.redirectBackToCat=function(e){let t;e.has_tour?(t={data:e},me.isTourListRefresh.set(t)):e.has_tour||me.routeAction.set({action:"cat_import_compleated",data:{catId:e.category_id}}),t={detail:{parent:e,hasTour:e.has_tour,hasChild:e.has_child,initiator:"goback"}},me.routeAction.set({action:"forwardTraversal",data:t})},ge.goToLevel=function(e,t){ge.clearSearchInput(),ge.showLoading();var a=ge.getCategory(e.category_id);function r(e){var t=[];for(me.breadCrumb.set(t);e.parent_id;){var a=GmCXt.createDeepCopy(e);t.unshift(a),e=ge.getCategory(e.parent_id)}t.unshift("All Guides"),me.breadCrumb.set(t),ge.setActivePage("home"),ge.setCurrentPage("allguides"),!GmCXt.isEmpty(t)&&1<t.length&&ge.redirectBackToCat(t[t.length-1])}!a||t?(e.category_id,ge.getCategoryApi(e.category_id,function(e){r(e)},!0)):r(a)},ge.filterDefaultGuides=function(e){return e=e.filter(function(e){if(window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer){if(ge.isDesktopGuide(e))return e}else if(ge.isDefaultGuide(e)||ge.isDesktopGuide(e))return e})},ge.getCategoryListApi=function(e,t){ge.language&&!GmCXt.isFalse(ge.language)&&(e.language=ge.language),GmCXt.getLXPLang()&&(e.language=GmCXt.getLXPLang()),(ge.isUserLoggedIn()||GmCXt.onPrem())&&GmCXt.api.getCategoryList(e,t)},ge.dispatchEvent=function(e){document.dispatchEvent(e)},ge.isUserRole=function(){return"user"===ge.user.role},ge.isAnnouncement=function(e){return!!(e&&e.tour_settings&&GmCXt.isOnboarding(e)&&e.tour_settings.tutorial_tour_type&&"announcement"===e.tour_settings.tutorial_tour_type)},ge.hasTourAccess=function(e){return!!(e&&!e.is_locked||e&&ge.lockedByUser(e))},ge.isLocked=function(e){return!(!e.is_locked||e.user_id===ge.user.user_id)},ge.lockedByUser=function(e){return!(!e||!e.is_locked||e.user_id!==ge.user.user_id)},ge.getNode=function(t,e){var a=e;for(let e=0;e<a.length;e++)if(a[e].id===t)return a[e]},ge.focusAccessibilityBtn=function(){GmCXt.timeout(function(){GmCXt.APP_PANEL_OPEN&&mg$(".mgPlayerJSqa_accessibility-btn-wrapper button.mgPlayerJSqa_custom-slider")&&mg$(".mgPlayerJSqa_accessibility-btn-wrapper button.mgPlayerJSqa_custom-slider").length&&mg$(".mgPlayerJSqa_accessibility-btn-wrapper button.mgPlayerJSqa_custom-slider")[0].focus()},500)},ge.routeToStepContainer=function(e,t){me.routeAction.set({action:e,data:t}),"stepview"!==ce(me.CurrentPage)&&ge.setCurrentPage("stepview")},ge.getDefaultSurveyStepIcon=function(){return GmCXt.conf.staticContentPath+"survey_step.png"},ge.getAutomationSteps=function(e,t){var a=[];let r=0;if(e[r=t?parseInt(t.step_order):r])for(;GmCXt.isAutomationStep(e[r]);)a.push(e[r]),r++;return a},ge.getUserList=function(t){let a={limit:100,offset:0,owner_creator_filter:1};function r(e){e=e.data.users;ge.userList=e,GmCXt.saveToStorage("userList",e),t(e)}GmCXt.getFromStorage("userList").then(function(e){GmCXt.isEmpty(e)?GmCXt.api.getUserList(a,r):(ge.userList=e,t(e))})},ge.checkKeywordLimit=function(e,t){if(24<e.length)return GmCXt.toastMsg(ge.labels.keywordLimit).show(),t.preventDefault(),0===e.length},ge.setCurrentPage=function(t){me.CurrentPage.update(e=>e===t?"":t),me.CurrentPage.set(t)},ge.setActivePage=function(t){me.activeView.update(e=>e===t?"":t),me.activeView.set(t)},ge.goToActiveView=function(){var e=ce(me.activeView);"home"!==e&&"signin"!==e&&"maintenance"!==e&&me.activeView.set("home")},ge.redirectToActiveview=function(){ge.checkCdnSignature().then(function(){GmCXt.isPlayer()?ge.getCurrentAppObj().then(function(e){GmCXt.isEmpty(e)||ge.goToActiveView()}):ge.goToActiveView()})},ge.getTourSteps=function(t,a){if(ge.isAnnouncement(t)&&0!==parseInt(t.step_count)&&GmCXt.isEmpty(t.steps)){var r={tour_id:t.tour_id,category_id:t.category_id};let e;ge.enableTranslation&&(GmCXt.getLXPLang()?e=GmCXt.getLXPLang():ge.language&&(e=ge.language)),GmCXt.checkDefaultLangForTour(t,e)||(r.language=e),GmCXt.api.getTour(r,function(e){a(e),ge.hideLoading()},null,!0)}else a(t),ge.hideLoading()},ge.debounce=function(t,a){let r;return function(...e){clearTimeout(r),r=setTimeout(()=>{t.apply(this,e)},a)}},ge.bindPlayerTheme=function(){var e=GmCXt.getAppSetting("playerTheme");if(e&&!GmCXt.accessibility){const t=e?.font,a=e?.body?.background,r=e?.body?.desc_font_size,i=e?.body?.title_font_size,n=e?.body?.icon_color,s=e?.body?.text_color,l=e?.header?.color,o=e?.header?.icon_color,c=e?.header?.text_color;mg$(".mgPlayerJSqa_ege-panel").each(function(){a&&this.style.setProperty("background",a,"important")}),mg$(".mgPlayerJSqa_ege-panel wmgPlayerJSqa_, .mgPlayerJSqa_ege-panel span, .mgPlayerJSqa_ege-panel button, .mgPlayerJSqa_ege-panel a, .mgPlayerJSqa_ege-panel input").each(function(){t&&this.style.setProperty("font-family",t,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-header .mgPlayerJSqa_panel-header-wrapper").each(function(){l&&this.style.setProperty("background",l,"important");var e=this.querySelector(".mgPlayerJSqa_theme-mplayer-header-title");c&&e&&e.style.setProperty("color",c,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-header .mgPlayerJSqa_panel-header-wrapper .mgPlayerJSqa_header-icon svg path").each(function(){this.closest(".mgPlayerJSqa_push-notification-info-wrapper")||o&&(this.style.setProperty("fill",o,"important"),this.style.setProperty("stroke","none","important"))}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-header .mgPlayerJSqa_panel-header-wrapper .mgPlayerJSqa_accessibility-btn-wrapper .mgPlayerJSqa_accessibility-btn svg path").each(function(){o&&this.style.setProperty("stroke",o,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-header .mgPlayerJSqa_ege-panel-header-detail-view").each(function(){a&&this.style.setProperty("background",a,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container").find(".mgPlayerJSqa_category-list, .mgPlayerJSqa_search-list, .mgPlayerJSqa_list-page-header .mgPlayerJSqa_list-page-header-wrapper .mgPlayerJSqa_search-bar-container, .mgPlayerJSqa_list-page-header .mgPlayerJSqa_list-page-header-wrapper .mgPlayerJSqa_search-bar-container .mgPlayerJSqa_task-list-icon-container, .mgPlayerJSqa_list-page-header .mgPlayerJSqa_list-page-header-wrapper .all-guides-filters-tab, .mgPlayerJSqa_list-page-header .mgPlayerJSqa_list-page-header-wrapper .mgPlayerJSqa_library-filter-wrapper .mgPlayerJSqa_filter-tab, #mgPlayerJSqa_breadcrums-main-container, .mgPlayerJSqa_category-list .mgPlayerJSqa_category-list-item.active").each(function(){a&&this.style.setProperty("background",a,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_chat-page-header").each(function(){a&&this.style.setProperty("background",a,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_list-page-header .mgPlayerJSqa_list-page-header-wrapper .mgPlayerJSqa_search-bar-container .mgPlayerJSqa_task-list-icon-container .mgPlayerJSqa_task-list-icon svg rect").each(function(){n&&this.style.setProperty("fill",n,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_list-page-header .mgPlayerJSqa_list-page-header-wrapper .mgPlayerJSqa_search-bar-container .mgPlayerJSqa_task-list-icon-container .mgPlayerJSqa_task-list-icon svg path").each(function(){a&&this.style.setProperty("fill",a,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_list-page-header .mgPlayerJSqa_list-page-header-wrapper .mgPlayerJSqa_search-bar-container .mgPlayerJSqa_filter-sorting-wrapper .mgPlayerJSqa_filter-sort-icon").each(function(){n&&(this.querySelectorAll("svg path").forEach(e=>{e.style.setProperty("fill",a,"important")}),this.querySelectorAll("svg rect").forEach(e=>{e.style.setProperty("fill",n,"important")}))}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_task-list-container .mgPlayerJSqa_task-list-icon").each(function(){n&&(this.querySelectorAll("svg path").forEach(e=>{e.style.setProperty("fill",a,"important")}),this.querySelectorAll("svg circle").forEach(e=>{e.style.setProperty("fill",n,"important")}))}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_task-list-container").find(".mgPlayerJSqa_task-list-header .mgPlayerJSqa_task-list-go-back-container, .mgPlayerJSqa_task-list-header .mgPlayerJSqa_progress-details-container, .mgPlayerJSqa_assign-container").each(function(){a&&this.style.setProperty("background",a,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container.mgPlayerJSqa_tour-view-page-container, .mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_category-list").each(function(){a&&this.style.setProperty("background",a,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container .mgPlayerJSqa_tour-item .mgPlayerJSqa_tour-title-description-wrapper .mgPlayerJSqa_guide-row-action-wrapper .mgPlayerJSqa_guide-play-action-wrapper, .mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container .mgPlayerJSqa_tour-item .mgPlayerJSqa_tour-title-description-wrapper .mgPlayerJSqa_guide-row-action-wrapper .mgPlayerJSqa_guide-row-download-wrapper").each(function(){a&&this.style.setProperty("background",a,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container .mgPlayerJSqa_tour-item .mgPlayerJSqa_tour-title-description-wrapper .mgPlayerJSqa_guide-row-action-wrapper .mgPlayerJSqa_guide-play-action-wrapper .mgPlayerJSqa_guide-action-icon-wrapper, .mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container .mgPlayerJSqa_tour-item .mgPlayerJSqa_tour-title-description-wrapper .mgPlayerJSqa_guide-row-action-wrapper .mgPlayerJSqa_guide-row-download-wrapper .mgPlayerJSqa_header-detail-view-tour-download-wrapper").each(function(){n&&this.style.setProperty("background",n,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container .mgPlayerJSqa_tour-item .mgPlayerJSqa_tour-title-description-wrapper .mgPlayerJSqa_guide-row-action-wrapper .mgPlayerJSqa_guide-play-action-wrapper .mgPlayerJSqa_guide-action-icon-wrapper .mgPlayerJSqa_action-icon svg path, .mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container .mgPlayerJSqa_tour-item .mgPlayerJSqa_tour-title-description-wrapper .mgPlayerJSqa_guide-row-action-wrapper .mgPlayerJSqa_guide-row-download-wrapper .mgPlayerJSqa_header-detail-view-tour-download-wrapper svg path").each(function(){a&&this.style.setProperty("fill",a,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container .mgPlayerJSqa_tour-item .mgPlayerJSqa_tour-title-description-wrapper .mgPlayerJSqa_guide-row-action-wrapper .mgPlayerJSqa_guide-play-action-wrapper .mgPlayerJSqa_guide-action-icon-wrapper .mgPlayerJSqa_action-icon svg circle").each(function(){a&&n&&(this.style.setProperty("stroke",a,"important"),this.style.setProperty("fill",n,"important"))}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_category-list .mgPlayerJSqa_tour-item .mgPlayerJSqa_guide-title-wrapper .mgPlayerJSqa_guide-title, .mgPlayerJSqa_ege-panel .mgPlayerJSqa_category-list .mgPlayerJSqa_category-list-item .mgPlayerJSqa_category-list-item-wrapper .mgPlayerJSqa_category-title-description-wrapper .mgPlayerJSqa_category-title-wrapper").each(function(){i&&this.style.setProperty("font-size",i,"important"),s&&this.style.setProperty("color",s,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-header-detail-view .mgPlayerJSqa_header-detail-view-tour-title .mgPlayerJSqa_tour-title-wrapper .mgPlayerJSqa_tour-view-tour-title").each(function(){i&&this.style.setProperty("font-size",i,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_category-list .mgPlayerJSqa_tour-item .mgPlayerJSqa_guide-desc-wrapper .mgPlayerJSqa_tour-desc, .mgPlayerJSqa_ege-panel .mgPlayerJSqa_category-list .mgPlayerJSqa_category-list-item .mgPlayerJSqa_category-list-item-wrapper .category-title-description-wrapper .category-description-wrapper").each(function(){s&&this.style.setProperty("color",s,"important"),r&&this.style.setProperty("font-size",r,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container .mgPlayerJSqa_tour-item .mgPlayerJSqa_tour-title-description-wrapper .mgPlayerJSqa_tour-play-action-wrapper .tour-play-icon.published-tour-icon, .mgPlayerJSqa_ege-panel .mgPlayerJSqa_task-list-container .mgPlayerJSqa_assign-container .mgPlayerJSqa_chapter-container .mgPlayerJSqa_chapter-box .mgPlayerJSqa_chapter-content-wrapper .mgPlayerJSqa_guide-play-icon-wrapper .mgPlayerJSqa_published-tour-icon, .mgPlayerJSqa_push-notification-info-wrapper .mgPlayerJSqa_notification-guide-details-wrapper .mgPlayerJSqa_notification-guide-details .mgPlayerJSqa_notification-guide-icon").each(function(){n&&(this.querySelectorAll("svg circle").forEach(e=>{e.style.setProperty("stroke",n,"important"),e.style.setProperty("fill","transparent","important")}),this.querySelectorAll("svg rect").forEach(e=>{e.style.setProperty("stroke",n,"important"),e.style.setProperty("fill","transparent","important")}),this.querySelectorAll("svg path").forEach(e=>{e.style.setProperty("stroke",n,"important"),e.style.setProperty("fill",n,"important")}))}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container .mgPlayerJSqa_tour-item .mgPlayerJSqa_tour-title-description-wrapper .mgPlayerJSqa_tour-play-action-wrapper .tour-play-icon .mgPlayerJSqa_guide-beacon").each(function(){var e=mg$(this);e.find("svg circle.mgPlayerJSqa_combined-shape").each(function(){this.style.setProperty("fill","#9476c9","important"),this.style.setProperty("stroke","none","important")}),e.find("svg circle.mgPlayerJSqa_Oval").each(function(){this.style.setProperty("fill","none","important"),this.style.setProperty("stroke","#FFFFFF","important")})}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container .mgPlayerJSqa_category-list .mgPlayerJSqa_category-list-item .mgPlayerJSqa_category-list-item-wrapper .mgPlayerJSqa_category-image-wrapper .mgPlayerJSqa_category-icon, .mgPlayerJSqa_ege-panel .mgPlayerJSqa_task-list-container .mgPlayerJSqa_assign-container .mgPlayerJSqa_chapter-container .mgPlayerJSqa_chapter-box .mgPlayerJSqa_category-icon").each(function(){n&&(this.querySelectorAll("svg rect").forEach(e=>{e.style.setProperty("stroke",n,"important"),e.style.setProperty("fill","transparent","important")}),this.querySelectorAll("svg path").forEach(e=>{e.style.setProperty("stroke",n,"important"),e.style.setProperty("fill",n,"important")}))}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container .mgPlayerJSqa_category-list .mgPlayerJSqa_category-list-item .mgPlayerJSqa_category-list-item-wrapper .mgPlayerJSqa_category-image-wrapper .mgPlayerJSqa_category-image, .mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_tour-list-page-container .mgPlayerJSqa_tour-item .mgPlayerJSqa_guide-upld-img-wrapper.mgPlayerJSqa_guide-pub-img-border .mgPlayerJSqa_guide-upld-img").each(function(){n&&this.style.setProperty("border-color",n,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-header-detail-view .mgPlayerJSqa_header-detail-view-tour-title .mgPlayerJSqa_tour-title-wrapper .mgPlayerJSqa_tour-view-tour-title").each(function(){s&&this.style.setProperty("color",s,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-header-detail-view .mgPlayerJSqa_header-detail-view-tour-download-container .mgPlayerJSqa_header-detail-view-tour-download-wrapper").each(function(){n&&this.style.setProperty("background",n,"important")}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-header-detail-view .mgPlayerJSqa_header-detail-view-tour-download-container .mgPlayerJSqa_header-detail-view-tour-download-wrapper .mgPlayerJSqa_download-icon svg path").each(function(){a&&(this.style.setProperty("fill",a,"important"),this.style.setProperty("stroke",a,"important"))}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_guide-view-header-panel-container .mgPlayerJSqa_guide-view-header-panel .mgPlayerJSqa_guide-view-header-panel-icons").each(function(){n&&(this.style.setProperty("background",n,"important"),this.style.setProperty("opacity","0.6","important"),this.querySelectorAll("svg path").forEach(e=>{e.style.setProperty("fill",a,"important")}),this.querySelectorAll("svg circle").forEach(e=>{e.style.setProperty("fill",n,"important"),e.style.setProperty("stroke",a,"important")}),this.onmouseenter=()=>{this.style.setProperty("opacity","1","important")},this.onmouseleave=()=>{this.style.setProperty("opacity","0.6","important")})}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_guide-view-header-panel-container .mgPlayerJSqa_guide-view-header-panel .mgPlayerJSqa_guide-play-mode-wrapper .mgPlayerJSqa_guide-view-header-panel-icons.mgPlayerJSqa_active-play-mode").each(function(){var e;n&&(this.style.setProperty("background",n,"important"),this.style.setProperty("opacity","1","important"),e=this.querySelector("svg path"),a&&e&&e.style.setProperty("fill",a,"important"),this.onmouseenter=()=>{this.style.setProperty("opacity","1","important")},this.onmouseleave=()=>{this.style.setProperty("opacity","1","important")})}),mg$(".mgPlayerJSqa_ege-panel .mgPlayerJSqa_ege-panel-main-container .mgPlayerJSqa_category-list .mgPlayerJSqa_add-branching-container").each(function(){this.style.setProperty("display","none","important")})}else mg$(".mgPlayerJSqa_ege-panel")[0]?.style?.removeProperty("background")},ge.showBranchView=function(e){return GmCXt.containBranchStep(e)&&(!e.isEditMode||e.isEditMode&&e.isBranchTour)},ge.handleStartPointFound=function(e){ge.contTour.step=e.step,Gu();var t=ge.contTour.step;GmCXt.log(33,"Start Point Found"+GmCXt.stepLog(t.step_id,t.tour_id)),e.resumeGuide&&(GmCXt.startPointStepPlayed=t?.step_id+"-"+t?.tour_id),delete ge.startPoints,delete ge.searching_sp},ge.handleNextStepFound=function(){ge.stepFound=!0;var e=ge.contTour.step;GmCXt.log(33,"FOUND next step"+GmCXt.stepLog(e.step_id,e.tour_id)),Gu()},ge.handleStartPointNotFound=function(e){var t=e?.step?.step_id+"-"+ge.contTour?.tour?.tour_id;if(!e.resumeGuide||!GmCXt.startPointStepPlayed||GmCXt.startPointStepPlayed!==t)if(ge.searching_sp<ge.startPoints?.length-1){ge.searching_sp+=1;const e={tour_id:ge.contTour.tour_id,startPoint:ge.startPoints[ge.searching_sp]};GmCXt.startPointStepPlayed="",GmCXt.sendMessageToAllWindows("mgPlayerJSqa_action:started;task:search_start_point",e)}else"inline"!==ge.contTour.tour.steps[0].step_type&&Tu("",null,ge.contTour.tour,ge.contTour.source,ge.contTour.tour.category_title)},ge.showCookiePopup=function(){return!(!GmCXt.user||GmCXt.isEmpty(GmCXt.user)||GmCXt.user?.settings?.edcastTermsAccepted||GmCXt.isClientJs()||!ge.isUserLoggedIn()||ge.isSuperAdmin()||ge.isMgAdmin()||ge.isPartnerAdmin()||!GmCXt.organization?.admin_settings?.display_accept_cookie_popup)},ge.closeCookiePopup=function(){GmCXt.user.settings.edcastTermsAccepted=!0;var e={...GmCXt.user};function t(e){mg$(".mgPlayerJSqa_cookie-policy-popup-container").remove(),ge.saveUser(GmCXt.user)}e.settings=JSON.stringify(GmCXt.user.settings),GmCXt.isAnonymousUser()?ge.displayAcceptCookiePopup=!1:GmCXt.user.signin_user_email?(e={email_id:GmCXt.user.signin_user_email,settings:e.settings,organization_id:GmCXt.user.organization_id},GmCXt.setAnonymousUserPrefrence(e).then(t)):GmCXt.updateUserSettings({settings:{edcastTermsAccepted:!0}},GmCXt.user,t)},ge.setContainerHeight=function(m){ge.containerView=m,GmCXt.timeout(function(){var e=mg$(".mgPlayerJSqa_panel").innerHeight()?mg$(".mgPlayerJSqa_panel").innerHeight():0,t=mg$("#mgPlayerJSqa_footer-panel-container").innerHeight()||0,a=mg$("#mgPlayerJSqa_ege-header").innerHeight()||0,r=mg$(".mgPlayerJSqa_guide-view-header-panel-container").innerHeight()||0,i=mg$(".mgPlayerJSqa_panel-header-wrapper").outerHeight(!0)?mg$(".mgPlayerJSqa_panel-header-wrapper").outerHeight(!0):0,n=mg$(".mgPlayerJSqa_tour-btn-wrapper").innerHeight()||0,s=mg$(".mgPlayerJSqa_list-page-header").innerHeight()?mg$(".mgPlayerJSqa_list-page-header").innerHeight():0;let l=0;var o=mg$(".mgPlayerJSqa_step-edit-footer-wrapper").innerHeight()||0;switch(m){case"signin":l=e-a-t+8,mg$(".mgPlayerJSqa_signin-page-container").innerHeight(l),mg$(".mgPlayerJSqa_signin-page-container").innerHeight()<60?mg$(".mgPlayerJSqa_header-banner-wrapper").hide():mg$(".mgPlayerJSqa_header-banner-wrapper").removeAttr("style");break;case"currentPage":var c=mg$(".mgPlayerJSqa_list-page-header").innerHeight()||0;l=e-t-a-c-5,mg$(".mgPlayerJSqa_category-list").innerHeight(l);case"addCategory":l=e-a-mg$(".mgPlayerJSqa_btn-wrapper").innerHeight()-t-mg$(".mgPlayerJSqa_header-title").innerHeight(),mg$(".mgPlayerJSqa_form-wrapper").innerHeight(l),mg$(".mgPlayerJSqa_btn-wrapper").css("bottom",t);break;case"allguides":case"stepContainer":var c=mg$(".mgPlayerJSqa_list-page-btn-wrapper").innerHeight()?mg$(".mgPlayerJSqa_list-page-btn-wrapper").innerHeight():0,g=mg$("#mgPlayerJSqa_breadcrums-main-container").innerHeight()?mg$("#mgPlayerJSqa_breadcrums-main-container").innerHeight():0;l=e-(a+r+o+c+s+g+t),mg$(".mgPlayerJSqa_category-list").innerHeight(l);break;case"search":l=e-(r+a+t+s+5),mg$(".mgPlayerJSqa_search-list").innerHeight(l);break;case"chatbot":c=mg$(".mgPlayerJSqa_chat-page-header").innerHeight()||0;l=e-(i+c+t+5),mg$("#mgPlayerJSqa_uilb-main-container").innerHeight(l);break;case"imageStep":case"messageStep":case"inlineStep":case"smarttipStep":case"featureStep":g=mg$(".mgPlayerJSqa_howto-paint-tool-container").innerHeight()||0;l=e-a-r-o-t-g,mg$(".mgPlayerJSqa_step-edit-footer-wrapper").css("bottom",t),mg$(".mgPlayerJSqa_category-list").innerHeight(l);break;case"addGuide":case"addVideo":c=mg$(".mgPlayerJSqa_header-title").innerHeight()||0;l=e-(i+c+n+t),mg$(".mgPlayerJSqa_tour-btn-wrapper").css("bottom",t),mg$(".mgPlayerJSqa_guide-form-wrapper").innerHeight(l);break;case"textSlide":g=mg$(".mgPlayerJSqa_header-text-step-wrapper").innerHeight()||0,n=mg$(".mgPlayerJSqa_tour-btn-wrapper").innerHeight()||0;l=e-(a+g+n+t),mg$(".mgPlayerJSqa_guide-form-wrapper").innerHeight(l),mg$(".tox-tinymce").css("height",l-160);break;case"tasklist":c=mg$(".mgPlayerJSqa_task-list-header").innerHeight()?mg$(".mgPlayerJSqa_task-list-header").innerHeight():0;l=e-a-c-t,mg$(".mgPlayerJSqa_assign-container").innerHeight(l);break;case"addAiGuideView":l=e-i-t-mg$(".mgPlayerJSqa_header-title").innerHeight(),mg$(".mgPlayerJSqa_form-wrapper").innerHeight(l)}},300)},ge.updateSlideInShowme=function(t,e,a){var r=[{id:e,tail:t[0].id}];for(let e=0;e<t.length;e++)t[e].branch||t[e].tail||(t[e].tail=a),r.push(t[e]);return r.push({id:a,tail:null}),r},ge.switchApp=function(e){ge.applicationDropdown=!1,ge.automationDropdown=!1,ge.contextTours={},ge.resetCreatorData(!0),ge.initAppDetails(e),ge.selectedApp=e.title,GmCXt.FT.isPlayer&&ge.showGuidesFromDesktopApp&&ge.initPlayerMode(),me.breadCrumb.set([]),ge.setCurrentPage("allguides"),me.routeAction.set({action:"on_app_select",app:e})},ge.switchAppType=function(e){ge.showGuidesFromDesktopApp=e,GmCXt.saveToStorage("showGuidesFromDesktopApp",ge.showGuidesFromDesktopApp),ge.showGuidesFromDesktopApp?(e=Object.values(GmCXt.appList).filter(e=>"electron"===e.type)[0],ge.switchApp(e)):ku()?ge.initPlayerMode():ge.goToNoApp()},ge.showLoading=function(){me.loading.set(!0)},ge.hideLoading=function(){GmCXt.activeApiCallCount=Math.max(0,GmCXt.activeApiCallCount),GmCXt.timeout(function(){GmCXt.activeApiCallCount<=0&&(GmCXt.loadingAutoHideTimer&&clearTimeout(GmCXt.loadingAutoHideTimer),me.loading.set(!1))},1e3)},ge.exportCsv=function(e,t){function a(r,e){let i=[],n="data:text/csv;charset=utf-8,";ge.checkLinkedGuideStep(e,function(e,t,a){0===t&&(clearInterval(a),e.forEach(function(e){e=e.step_settings.automation;e&&e.enableDefaultData&&e.csvParam&&i.push(e.csvParam)}),n+=i.join(","),ge.hideLoading(),r+=".csv",(t=document.createElement("a")).setAttribute("href",encodeURI(n)),t.setAttribute("download",r),t.click())})}ge.showLoading(),e.steps.length?a(e.tour_title,e.steps):GmCXt.getSteps({tour_id:e.tour_id}).then(function(e){a(e.tour_title,e.steps)})},GmCXt.updateNotificationContentScript=function(e,t){GmCXt.updNotifDataSidePanel(e,t)},GmCXt.closeNotificationPopupSidePanel=function(e){mg$(".mgPlayerJSqa_micro-player-resize").removeClass("mgPlayerJSqa_micro-player-resize"),mg$(".mgPlayerJSqa_overlay-tours-popup").length&&(GmCXt.removeNotif(),GmCXt.showBeacons(),GmCXt.showSmartTips(),e?GmCXt.openSidePanelNotificaton():(GmCXt.openSidePanelNotificaton(),GmCXt.handleCloseApp()))},GmCXt.openSidePanelNotificaton=function(){GmCXt.reduceSidePanelWidth(),mg$(".mgPlayerJSqa_ege-panel").css({width:"100%",transition:"width 0s",right:"0px"})},GmCXt.showNotificationHtml=function(e,t){GmCXt.increaseSidePanelWidth(),mg$(".mgPlayerJSqa_micro-player-container").addClass("mgPlayerJSqa_micro-player-resize"),(!GmCXt.getAppSetting("keep_player_panel_open")||e||t||GmCXt.FT.creatorApp)&&mg$(".mgPlayerJSqa_ege-panel").css({width:"500px",right:"-9550px"})},GmCXt.getOverlayToursHtml=function(r,i,e){let n="",s="mgPlayerJSqa_push-notification-guide-info-overlay mgPlayerJSqa_single-guide-play-icon",l="";if(e&&(s+=" mgPlayerJSqa_forbidden",l="<wmgPlayerJSqa_ class='mgPlayerJSqa_push-preview-tooltip'>"+ge.labels.notifGuidePlayWarning+"</wmgPlayerJSqa_>"),r){let e=r.title||r.tour_title;200<e.length&&(e=e.substr(0,200)+" ..."),r.thumbnail_url&&(0<=r.thumbnail_url.indexOf("default_icon")?GmCXt.getDefaultGuideIcon():r.thumbnail_url.indexOf("default")<0&&(r.thumbnail_url,GmCXt.getCdnSign()));let t=r.tour_settings.defaultPlayAction,a=("Default"===t&&(t=GmCXt.getAppSetting("defaultPlayAction")),ge.labels.guideMe);"doitforme"===t?a=ge.labels.doItForMe:"slideshow"===t&&(a=ge.labels.showMe),n="",n+="<wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-guide-info-wrapper'><button class='"+s+" mgPlayerJSqa_lbl-btn' tourIndex='"+i+"'>"+l+"<wmgPlayerJSqa_ class='mgPlayerJSqa_push-play-icon mgPlayerJSqa_position-center mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-center mgPlayerJSqa_font-size-16'>"+a+"<wmgPlayerJSqa_ id='mgPlayerJSqa_push-not-play-icon-svg' class='mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_margin-lr-10'> </wmgPlayerJSqa_> </wmgPlayerJSqa_></button><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-guide-title' aria-label='"+GmCXt.escapeHtml(e)+"' tabindex='0'>"+GmCXt.escapeHtml(e)+"</wmgPlayerJSqa_></wmgPlayerJSqa_>"}return n},GmCXt.loadGuideNotifications=function(g,m,e,a,d){if(GmCXt.log(37,"LOAD NOTIFICATIONS",{tours:g}),GmCXt.user){ce(me.isNotificationReqd)&&(GmCXt.alreadyLoadedNotif=[]),me.isNotificationReqd.set(!1);let o=[],s={},t={},n=[],l=!1,c=!(GmCXt.filterDontShowSnoozeTour=[]);function r(a){GmCXt.log(10,"VALIDATING GUIDE RULES");for(let t=0,e=a.length;t<e;t++){var r=a[t],i=r.tour_settings,n=i&&i.rules&&i.rules.length?i.rules:[],s=i.ruleDelayTime||0;let e=GmCXt.t.ruleTimeOut25ms;GmCXt.checkTourCreatedBefore(i,2021013001)&&(e=GmCXt.t.ruleTimeOut10s),r.ruleValidated?function(e,t){GmCXt.timeout(function(){_({tour:e,valid:!0})},t)}(r,s):(i={tour:r,rules:n,timeoutVal:e,timeout:e,cb:_,isTour:!0,initiator:"notif"},GmCXt.log(37,"QUEUED",i),function(e,t){GmCXt.timeout(function(){GmCXt.ruleEngine.queue(e)},t)}(i,s))}}function i(e){GmCXt.isEmpty(e)||r([e])}function p(e){var t=document.getElementsByClassName(e.replace(".",""));for(let e=0;e<t.length;e++)t[e].style.display="none"}function u(e){var t=document.getElementsByClassName(e.replace(".",""));for(let e=0;e<t.length;e++)t[e].style.display="block"}function h(t,a){let r=0;for(let e=0;e<t.steps.length;e++)if(t.steps[e].step_id===a.step_id){r=e;break}return r}function y(t,e,a,r){"tutorial"===e.tour_settings.tutorial_tour_type&&GmCXt.storage().set({tutorial_steps:[]});let i=0;var n;0===e.steps.length?(n={tour_id:e.tour_id,category_id:e.category_id,isPublic:e.isPublic},ge.getSteps(n).then(function(e){GmCXt.log(39,"visible OnBoarding guide details ",e.steps),g[0].steps=e.steps,a&&(i=h(e,a)),C(t,i,r)})):(GmCXt.isLastStepPlayedOnCreateTutGuide=!1,GmCXt.pdfPlayedOnUploadTut=!1,GmCXt.fullPdfPlayedOnUploadTutGuide=!1,GmCXt.pdfPlayedOnUploadTutNewTab=!1,a&&(i=h(e,a)),C(t,i,r))}function _(e){e.valid&&(delete(e=e.tour).ruleValidated,o.push(e),GmCXt.alreadyLoadedNotif.push(e),S())}function S(){{var r=0,i;GmCXt.log(10,"SHOWING notifications",o);let e=o[r],t=GmCXt.getOverlayToursHtml(e,r,m),a=!1;1===o.length&&(i=o[0].tour_settings,c||(a=i.isAutolaunch),GmCXt.log(10,"IS AUTO LAUNCH? "+a)),l||(localStorage.setItem(GmCXt.storagePrefix+"autoLaunchTour",0),a?(GmCXt.log(10,"AUTO LAUNCH guide"),localStorage.setItem(GmCXt.storagePrefix+"autoLaunchTour",o[0].tour_id),l=!0,J(null,0)):(f(t,r,0),c&&GmCXt.auto.trackNotificationForAutomation({tours:o,isVisible:!0})))}1===o.length&&(p(".mgPlayerJSqa_btn-next"),p(".mgPlayerJSqa_btn-prev")),1<o.length&&(u(".mgPlayerJSqa_btn-next"),u(".mgPlayerJSqa_btn-prev"),G(".mgPlayerJSqa_btn-prev"))}function f(r,i,n){let s=GmCXt.parseJSON(o[i].tour_settings);var e,t;s.videoNotification&&o[i].video_url||o[i].videoNotification&&m?(e=(t=o[i].video_url)+GmCXt.getCdnSign(),t=GmCXt.getUrlWithLang(t),GmCXt.checkAssetUrl(t,e,function(e){P(r,i,n,e)})):ge.getTourSteps(o[o.length-1],function(t){var e=o.map(e=>e.tour_id===t.tour_id?{...t}:e),e=(o=[...e])[i],a="announcement"===e?.tour_settings?.tutorial_tour_type,e=GmCXt.isEmpty(e.steps);(!a||e)&&a||P(r,i,n,"",s)}),GmCXt.timeout(function(){mg$("#mgPlayerJSqa_btn-single-notif-dont-show-again").focus()},500)}function P(e,t,a,r,i){GmCXt.showNotificationHtml(d);e=function(e,t,a){let r="",i=GmCXt.parseJSON(o[t].tour_settings);r=i.videoNotification&&o[t].video_url||o[t].videoNotification&&m?function(e,t){let a="",r="",i="";m&&(a=" mgPlayerJSqa_forbidden",r="<button id='mgPlayerJSqa_push-not-overlay-close' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_close-preview-btn' aria-label='push notification overlay close'></button>",GmCXt.getDefaultGuideIcon());t&&(i=t);let n="<wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-container'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-tours-popup mgPlayerJSqa_push-notification-container mgPlayerJSqa_push-notification-video-container' tabindex='0'>"+r+"<button id='mgPlayerJSqa_btn-single-vid-notif-prev' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_btn-prev' aria-label='push notification previous button'></button><button id='mgPlayerJSqa_btn-single-vid-notif-next' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_btn-next' aria-label='push notification next button'></button><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-header'><wmgPlayerJSqa_ class='mgPlayerJSqa_h3 mgPlayerJSqa_push-notification-title mgPlayerJSqa_no-margin mgPlayerJSqa_font-weight-normal' tabindex='0'>"+ge.labels.notificationHeader+"</wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-brand-logo mgPlayerJSqa_push-notification-guide-info-overlay' ' tourIndex='"+e+"'>"+GmCXt.getPopupLogo()+"</wmgPlayerJSqa_></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-content-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_video-content-wrapper mgPlayerJSqa_position-center'>",s=(n=(n+=GmCXt.getVideoPopUpIFrameHTML(i))+("<wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-video-title mgPlayerJSqa_inline-block-vm'>"+GmCXt.escapeHtml(o[e].tour_title))+"</wmgPlayerJSqa_></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-btn-wrapper'>",o[e].tour_settings);s.displayFrequency&&!m?n+="<button id='mgPlayerJSqa_btn-close' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_notification-common-btn mgPlayerJSqa_btn-watch-close' aria-label='push notification close button' tourIndex='"+e+"'>"+ge.labels.close+"</button></wmgPlayerJSqa_>":n+="<button id='mgPlayerJSqa_btn-single-vid-notif-dont-show-again' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_notification-common-btn mgPlayerJSqa_btn-dont-show-again mgPlayerJSqa_never-show-again-button"+a+"' aria-label='"+ge.labels.dontShowAgain+"'>"+ge.labels.dontShowAgain+"</button><button id='mgPlayerJSqa_btn-single-vid-notif-watch-later' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_notification-common-btn mgPlayerJSqa_btn-watch-later"+a+"' aria-label='"+ge.labels.watchLater+"'>"+ge.labels.watchLater+"</button></wmgPlayerJSqa_>";return n+="</wmgPlayerJSqa_>"}(t,a):function(e,t){let a="",r="";m&&(a=" mgPlayerJSqa_forbidden",r="<button id='mgPlayerJSqa_push-not-overlay-close' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_notification-common-btn mgPlayerJSqa_close-preview-btn' aria-label='push notification overlay close'></button>");let i="<wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-container'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-tours-popup mgPlayerJSqa_push-notification-container mgPlayerJSqa_push-notification-multi-guides' tabindex='0' role='dialog' aria-labelledby='"+ge.labels.notificationHeader+"'>"+r+"<button id='mgPlayerJSqa_btn-single-notif-prev' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_btn-prev' aria-label='push notification previous button' ></button><button id='mgPlayerJSqa_btn-single-notif-next' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_btn-next' aria-label='push notification next button'></button><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-header'><wmgPlayerJSqa_ class='mgPlayerJSqa_h3 mgPlayerJSqa_push-notification-title mgPlayerJSqa_no-margin mgPlayerJSqa_font-weight-normal' aria-label='"+ge.labels.notificationHeader+"' tabindex='0'>"+ge.labels.notificationHeader+"</wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-brand-logo' tabindex='0'>"+GmCXt.getPopupLogo()+"</wmgPlayerJSqa_></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-content-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_position-center'>"+e+"<wmgPlayerJSqa_ class='mgPlayerJSqa_multi-push-carousels-wrapper'></wmgPlayerJSqa_></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-btn-wrapper'>",n=o[t].tour_settings;n.displayFrequency&&!m?i+="<button id='mgPlayerJSqa_btn-single-close' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_notification-common-btn mgPlayerJSqa_btn-watch-close' tourIndex='"+t+"' tabindex='0' aria-label='push notification close button'>"+ge.labels.close+"</button></wmgPlayerJSqa_>":i+="<button id='mgPlayerJSqa_btn-single-notif-dont-show-again' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_notification-common-btn mgPlayerJSqa_btn-dont-show-again mgPlayerJSqa_never-show-again-button"+a+"' aria-label='"+ge.labels.dontShowAgain+"'>"+ge.labels.dontShowAgain+"</button><button id='mgPlayerJSqa_btn-single-notif-watch-later' class='mgPlayerJSqa_lbl-btn mgPlayerJSqa_notification-common-btn mgPlayerJSqa_btn-watch-later"+a+"' aria-label='"+ge.labels.watchLater+"'>"+ge.labels.watchLater+"</button></wmgPlayerJSqa_>";return i+="</wmgPlayerJSqa_>"}(e,t);return r}(e,t,r);if(!GmCXt.stopNotification(m)||c){if(GmCXt.removeNotif(),mg$(".mgPlayerJSqa_app").append(e),mg$(".mgPlayerJSqa_panel").show(),mg$(".mgPlayerJSqa_overlay-tours-popup").focus(),GmCXt.timeout(function(){o&&o[t]&&GmCXt.alignPushNotificationPreview(mg$(mg$(".mgPlayerJSqa_push-notification-container")[0]),mg$(".mgPlayerJSqa_panel"),o[t].tour_settings.pushNotificationAlignment)},100),i&&"announcement"===i.tutorial_tour_type){mg$(".mgPlayerJSqa_push-notification-container").addClass("mgPlayerJSqa_ann-notification-container"),mg$(".mgPlayerJSqa_push-notification-header").addClass("mgPlayerJSqa_ann-notification-header"),mg$(".mgPlayerJSqa_push-notification-btn-wrapper").addClass("mgPlayerJSqa_ann-notification-btn-wrapper"),mg$(".mgPlayerJSqa_push-notification-content-wrapper").addClass("mgPlayerJSqa_ann-notification-content-wrapper"),mg$(".mgPlayerJSqa_push-notification-title").html(o[t].tour_title),mg$(".mgPlayerJSqa_push-notification-title").attr("tourIndex",t),o&&o[t]&&o[t].steps[0]&&mg$(".mgPlayerJSqa_ann-notification-content-wrapper").html(function(e,t){let a="",r=o[e];!GmCXt.isEmpty(r)&&GmCXt.isEmpty(r.steps)&&(r=ge.getTourFromId(r.tour_id,r.category_id));e=r.steps[t];if(GmCXt.isEmpty(e))return"";t=v(e),e=GmCXt.replaceVariableWithValue(GmCXt.restoreAssetSrc(e.step_description));t&&(a="mgPlayerJSqa_min-content-wrapper");t=t+"<wmgPlayerJSqa_ class='mgPlayerJSqa_push-notif-tg-content-wrapper mgPlayerJSqa_inline-block-vm "+a+"'>"+e+"</wmgPlayerJSqa_>";return t}(t,0)),mg$(".mgPlayerJSqa_push-notification-brand-logo").hide();{let e=GmCXt.getAppSetting("notificationTheme");e&&(mg$(".mgPlayerJSqa_push-notification-container .mgPlayerJSqa_push-notification-header").each(function(){e.header.background&&this.style.setProperty("background",e.header.background,"important")}),mg$(".mgPlayerJSqa_push-notification-container .mgPlayerJSqa_push-notification-header .mgPlayerJSqa_push-notification-title").each(function(){e.header.color&&this.style.setProperty("color",e.header.color,"important"),e.header.font&&this.style.setProperty("font-family",e.header.font,"important")}))}}else{mg$(".mgPlayerJSqa_push-notification-container").removeClass("mgPlayerJSqa_ann-notification-container"),mg$(".mgPlayerJSqa_push-notification-header").removeClass("mgPlayerJSqa_ann-notification-header"),mg$(".mgPlayerJSqa_push-notification-btn-wrapper").removeClass("mgPlayerJSqa_ann-notification-btn-wrapper"),mg$(".mgPlayerJSqa_push-notification-content-wrapper").removeClass("mgPlayerJSqa_ann-notification-content-wrapper");{let e=GmCXt.getAppSetting("notificationTheme");e&&(mg$(".mgPlayerJSqa_push-notification-container").each(function(){e.width&&this.style.setProperty("width",e.width+"px","important"),e.height&&this.style.setProperty("height",e.height+"px","important"),e.body&&e.body.background_color&&this.style.setProperty("background",e.body.background_color,"important")}),mg$(".mgPlayerJSqa_push-notification-container .mgPlayerJSqa_push-notification-header").each(function(){e.header.background&&this.style.setProperty("background",e.header.background,"important")}),mg$(".mgPlayerJSqa_push-notification-container .mgPlayerJSqa_push-notification-header .mgPlayerJSqa_push-notification-title").each(function(){e.header.color&&this.style.setProperty("color",e.header.color,"important"),e.header.font&&this.style.setProperty("font-family",e.header.font,"important")}),mg$(".mgPlayerJSqa_push-notification-container .mgPlayerJSqa_push-notification-content-wrapper").each(function(){e.body.padding_top&&this.style.setProperty("padding-top",e.body.padding_top+"px","important"),e.body.padding_right&&this.style.setProperty("padding-right",e.body.padding_right+"px","important"),e.body.padding_bottom&&this.style.setProperty("padding-bottom",e.body.padding_bottom+"px","important"),e.body.padding_left&&this.style.setProperty("padding-left",e.body.padding_left+"px","important"),e.body.background_color&&this.style.setProperty("background",e.body.background_color,"important")}),mg$(".mgPlayerJSqa_push-notification-container .mgPlayerJSqa_push-notification-content-wrapper .mgPlayerJSqa_push-notification-guide-info-wrapper .mgPlayerJSqa_push-notification-guide-title").each(function(){e.body.title_color&&this.style.setProperty("color",e.body.title_color,"important"),e.body.title_font_family&&this.style.setProperty("font-family",e.body.title_font_family,"important"),e.body.title_font_size&&this.style.setProperty("font-size",e.body.title_font_size,"important")}),mg$(".mgPlayerJSqa_push-notification-container .mgPlayerJSqa_push-notification-content-wrapper .mgPlayerJSqa_push-notification-video-title").each(function(){e.body.title_color&&this.style.setProperty("color",e.body.title_color,"important"),e.body.title_font_family&&this.style.setProperty("font-family",e.body.title_font_family,"important"),e.body.title_font_size&&this.style.setProperty("font-size",e.body.title_font_size,"important")}),mg$(".mgPlayerJSqa_push-notification-container .mgPlayerJSqa_push-notification-content-wrapper .mgPlayerJSqa_push-notification-guide-info-wrapper .mgPlayerJSqa_single-guide-play-icon .mgPlayerJSqa_push-play-icon").each(function(){e.body.fill&&this.style.setProperty("background",e.body.fill,"important")}),mg$(".mgPlayerJSqa_push-notification-container .mgPlayerJSqa_push-notification-btn-wrapper .mgPlayerJSqa_btn-dont-show-again").each(function(){e.footer.primaryBtnBackground&&this.style.setProperty("background",e.footer.primaryBtnBackground,"important"),e.footer.primaryBtnBorderColor&&this.style.setProperty("border","2px outset "+e.footer.primaryBtnBorderColor,"important"),e.footer.primaryBtnFont&&this.style.setProperty("font-family",e.footer.primaryBtnFont,"important"),e.footer.primaryBtnTextColor&&this.style.setProperty("color",e.footer.primaryBtnTextColor,"important"),e.footer.primaryBtnTextSize&&this.style.setProperty("font-size",e.footer.primaryBtnTextSize,"important")}),mg$(".mgPlayerJSqa_push-notification-container .mgPlayerJSqa_push-notification-btn-wrapper .mgPlayerJSqa_btn-watch-later").each(function(){e.footer.secondaryBtnBackground&&this.style.setProperty("background",e.footer.secondaryBtnBackground,"important"),e.footer.secondaryBtnBorderColor&&this.style.setProperty("border","2px outset "+e.footer.secondaryBtnBorderColor,"important"),e.footer.secondaryBtnFont&&this.style.setProperty("font-family",e.footer.secondaryBtnFont,"important"),e.footer.secondaryBtnTextColor&&this.style.setProperty("color",e.footer.secondaryBtnTextColor,"important"),e.footer.secondaryBtnTextSize&&this.style.setProperty("font-size",e.footer.secondaryBtnTextSize,"important")}),mg$(".mgPlayerJSqa_push-notification-container .mgPlayerJSqa_push-notification-btn-wrapper .mgPlayerJSqa_btn-watch-close").each(function(){e.footer.primaryBtnBackground&&this.style.setProperty("background",e.footer.primaryBtnBackground,"important"),e.footer.primaryBtnBorderColor&&this.style.setProperty("border","2px outset "+e.footer.primaryBtnBorderColor,"important"),e.footer.primaryBtnFont&&this.style.setProperty("font-family",e.footer.primaryBtnFont,"important"),e.footer.primaryBtnTextColor&&this.style.setProperty("color",e.footer.primaryBtnTextColor,"important"),e.footer.primaryBtnTextSize&&this.style.setProperty("font-size",e.footer.primaryBtnTextSize,"important")}))}}!m&&o&&o[t]&&!n.includes(o[t].tour_id)&&(n.push(o[t].tour_id),GmCXt.trackerV1.trackPushNotification(o[t],"display")),w(),mg$("#mgPlayerJSqa_single-guide-play-icon-svg").html(GmCXt.svgs.notification_guide_play),mg$("#mgPlayerJSqa_push-not-play-icon-svg").html(GmCXt.svgs.push_not_single_play),mg$(".mgPlayerJSqa_btn-prev").html(GmCXt.svgs.push_prev),mg$(".mgPlayerJSqa_btn-next").html(GmCXt.svgs.push_prev),mg$("#mgPlayerJSqa_push-not-overlay-close").html(GmCXt.svgs.overlay_tour_popup_close),b(t,a),GmCXt.timeout(function(){mg$(".mgPlayerJSqa_btn-next").focus(),GmCXt.accessibility&&(mg$(".mgPlayerJSqa_push-notification-btn-wrapper").addClass("mgPlayerJSqa_accessibility-theme"),mg$(".mgPlayerJSqa_single-guide-play-icon").addClass("mgPlayerJSqa_accessibility-theme"),mg$(".mgPlayerJSqa_push-play-icon").addClass("mgPlayerJSqa_ass-default-btn")),1===o.length&&(p(".mgPlayerJSqa_btn-next"),p(".mgPlayerJSqa_btn-prev")),0===t&&G(".mgPlayerJSqa_btn-prev"),o.length-1===t&&G(".mgPlayerJSqa_btn-next")},500)}}function C(e,t,a){var r=o[e],i=o[e].steps[t].step_settings;if(!GmCXt.stopNotification(m))if("upload"===r.tour_settings.tutorial_tour_type){if(i.tutorialUploadUrl=GmCXt.restoreAssetSrc(i.tutorialUploadUrl),"new_tab"===i.tutorialUploadMode||"pdf"!==GmCXt.getURLMediaType(i.tutorialUploadUrl)){let e=i.tutorialUploadUrl,t=(-1!==e.indexOf(GmCXt.conf.cdn)&&-1===e.indexOf(GmCXt.user.cdn_signature.split("=")[0])&&(e=i.tutorialUploadUrl+GmCXt.getCdnSign()),n=e,window.open(n,"_blank"),GmCXt.showSurveyForTutorial(r),GmCXt.closeNotificationPopupSidePanel(),O(a),"push_notification");a&&a.taskId&&(GmCXt.handleCloseApp(),t="task_list"),GmCXt.pdfPlayedOnUploadTutNewTab=!0,GmCXt.trackerV1.trackTutGuide(r,"upload_tutorial_guide_new_tab",t,a.taskId)}else GmCXt.pdfPlayedOnUploadTut=!0,GmCXt.openPdf(i.tutorialUploadUrl,r,a),mg$(".mgPlayerJSqa_media-player-panel").attr("style","width: "+i.tutorialWidth+"% !important; height: "+i.tutorialHeight+"% !important; display: block !important;"),a&&a.taskId&&mg$(".mgPlayerJSqa_media-player-panel").addClass("mgPlayerJSqa_play-from-task-player");R(a)}else{GmCXt.showNotificationHtml(d,!0);var n=function(e,t){let a="",r=o[e],i=r.steps[t],n=v(i),s=GmCXt.replaceVariableWithValue(GmCXt.updateOrgAndAddSignature(i.step_description));n&&(a="mgPlayerJSqa_min-content-wrapper");GmCXt.isEmpty(i.step_title)||(s=i.step_title+i.step_description);let l=r.tour_title;45<l.length&&(l=l.substr(0,45)+" ...");e="<wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-container'></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_overlay-tours-popup mgPlayerJSqa_push-notification-container mgPlayerJSqa_push-notification-video-container mgPlayerJSqa_push-notification-tg-container' tabindex='0'><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-header mgPlayerJSqa_tutotial-notif-header'><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-title mgPlayerJSqa_push-notification-guide-info-overlay' ' tourIndex='"+e+"' ' stepIndex='"+t+"'><wmgPlayerJSqa_ class='mgPlayerJSqa_span' id='mgPlayerJSqa_push-notification-tutorial' ></wmgPlayerJSqa_>"+GmCXt.escapeHtml(l)+"</wmgPlayerJSqa_><button class='mgPlayerJSqa_tg-close-btn mgPlayerJSqa_lbl-btn' aria-label='tutorial guide close button'></button></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-content-wrapper mgPlayerJSqa_position-relative mgPlayerJSqa_video-content-wrapper mgPlayerJSqa_height-auto mgPlayerJSqa_push-notif-tg-bg'>"+n+"<wmgPlayerJSqa_ class='mgPlayerJSqa_push-notif-tg-content-wrapper mgPlayerJSqa_inline-block-vm "+a+"'>"+s+"</wmgPlayerJSqa_></wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_push-notif-tg-btn-wrapper mgPlayerJSqa_display-flex mgPlayerJSqa_align-items-center mgPlayerJSqa_justify-content-space-around mgPlayerJSqa_push-notif-tg-bg'><wmgPlayerJSqa_ class='mgPlayerJSqa_step-count-wrapper'>"+parseInt(t+1)+"/"+r.steps.length+"</wmgPlayerJSqa_><wmgPlayerJSqa_ class='mgPlayerJSqa_common-btn-wrapper mgPlayerJSqa_display-flex'><button class='mgPlayerJSqa_btn-prev-step' aria-label='tutorial guide previous button'>"+ge.labels.btnPrevious+"</button><button class='mgPlayerJSqa_btn-next-step' aria-label='tutorial guide next button'>"+ge.labels.defaultNext+"</button></wmgPlayerJSqa_></wmgPlayerJSqa_></wmgPlayerJSqa_>";return e}(e,t);GmCXt.removeNotif(),mg$(".mgPlayerJSqa_app").append(n);(i=o[e].steps[t].step_settings).tutorialHeight&&i.tutorialWidth&&mg$(".mgPlayerJSqa_overlay-tours-popup").attr("style","width: "+i.tutorialWidth+"% !important; height: "+i.tutorialHeight+"% !important;"),mg$(".mgPlayerJSqa_push-notif-tg-bg").css("background",GmCXt.getAppSetting("tutorialBgColor"));r=GmCXt.getAppSetting("tutorial_guide");r&&(mg$(".mgPlayerJSqa_overlay-tours-popup.mgPlayerJSqa_push-notification-tg-container").css({background:GmCXt.getAppSetting("tutorialBgColor"),"border-color":r.outerBox.border_color,"border-radius":r.outerBox.border_radius+"px ","border-width":r.outerBox.border_width+"px "}),r.outerBox.shadow.inset?mg$(".mgPlayerJSqa_push-notif-tg-bg").css({"box-shadow":r.outerBox.shadow.color+" "+r.outerBox.shadow.horizontal+"px "+r.outerBox.shadow.vertical+"px "+r.outerBox.shadow.blur+"px "+r.outerBox.shadow.spreadRadius+"px"+(r.outerBox.shadow.inset?" inset":"")}):mg$(".mgPlayerJSqa_overlay-tours-popup.mgPlayerJSqa_push-notification-tg-container").css({"box-shadow":r.outerBox.shadow.color+" "+r.outerBox.shadow.horizontal+"px "+r.outerBox.shadow.vertical+"px "+r.outerBox.shadow.blur+"px "+r.outerBox.shadow.spreadRadius+"px"}),mg$(".mgPlayerJSqa_push-notification-header").attr("style","background:"+r.titleBgColor+" !important;border-top-right-radius:"+r.outerBox.border_radius+"px !important;border-top-left-radius:"+r.outerBox.border_radius+"px !important;padding:5px 20px;"),mg$(".mgPlayerJSqa_push-notif-tg-btn-wrapper").attr("style","border-bottom-right-radius:"+r.outerBox.border_radius+"px !important;border-bottom-left-radius:"+r.outerBox.border_radius+"px !important;padding:5px 0px;"),mg$(".mgPlayerJSqa_btn-next-step").attr("style","background:"+r.nextBtn.bgColor+" !important;border-color:"+r.nextBtn.border_color+" !important;border-radius:"+r.nextBtn.border_radius+"px !important;border-width:"+r.nextBtn.border_width+"px !important;color:"+r.nextBtn.color+" !important;font-size:"+r.nextBtn.font_size+" !important;padding-bottom:"+r.nextBtn.padding.bottom+"px !important;padding-left:"+r.nextBtn.padding.left+"px !important;padding-right:"+r.nextBtn.padding.right+"px !important;padding-top:"+r.nextBtn.padding.top+"px !important;"),mg$(".mgPlayerJSqa_btn-prev-step").attr("style","background:"+r.prevBtn.bgColor+" !important;border-color:"+r.prevBtn.border_color+" !important;border-radius:"+r.prevBtn.border_radius+"px !important;border-width:"+r.prevBtn.border_width+"px !important;color:"+r.prevBtn.color+" !important;font-size:"+r.prevBtn.font_size+" !important;padding-bottom:"+r.prevBtn.padding.bottom+"px !important;padding-left:"+r.prevBtn.padding.left+"px !important;padding-right:"+r.prevBtn.padding.right+"px !important;padding-top:"+r.prevBtn.padding.top+"px !important;")),mg$(".mgPlayerJSqa_tg-close-btn").html(GmCXt.svgs.overlay_tour_popup_close),mg$(".mgPlayerJSqa_push-notification-tutorial").html(GmCXt.svgs.tutorial),w(a),b(e,t),GmCXt.timeout(function(){mg$(".mgPlayerJSqa_tg-close-btn").focus()},500)}}function b(e,t){var e=o[e];GmCXt.isOnboarding(e)&&!ge.isAnnouncement(e)&&(1===(e=e.steps.length)&&(p(".mgPlayerJSqa_btn-prev-step"),u(".mgPlayerJSqa_btn-next-step")),1<e&&(u(".mgPlayerJSqa_btn-next-step"),u(".mgPlayerJSqa_btn-prev-step"),mg$(".mgPlayerJSqa_btn-prev-step").css({"pointer-events":"none",opacity:".5"})),0<t&&mg$(".mgPlayerJSqa_btn-prev-step").css({"pointer-events":"auto",opacity:"1",display:"block"}),e===t+1)&&(GmCXt.isLastStepPlayedOnCreateTutGuide=!0,mg$(".mgPlayerJSqa_btn-next-step").text(ge.labels.close))}function q(){mg$(".mgPlayerJSqa_overlay-tours-popup").hide(),mg$(".mgPlayerJSqa_overlay-container").hide()}function v(e){let t="";return 0<e.step_video&&e&&e.step_video_url?t+=GmCXt.getVideoPopUpIFrameHTML(e.step_video_url+GmCXt.getCdnSign()):e.image_url.indexOf("default")<0&&(t="<wmgPlayerJSqa_ class='mgPlayerJSqa_push-notification-guide-info-wrapper mgPlayerJSqa_img-info-wrapper mgPlayerJSqa_width-webkit-fill-available'><img class='mgPlayerJSqa_push-notif-tg-image mgPlayerJSqa_width-90 mgPlayerJSqa_height-90' alt='"+e.step_title+"' src='"+GmCXt.restoreAssetSrc(e.image_url)+"' /></wmgPlayerJSqa_>"),t}function w(n){mg$(".mgPlayerJSqa_never-show-again-button").on("click",L),mg$(".mgPlayerJSqa_overlay-tour-box").on("click",J),mg$(".mgPlayerJSqa_overlay-tour-box-small-thumbnails").on("click",J),mg$(".mgPlayerJSqa_single-guide-play-icon").on("click",J),mg$(".mgPlayerJSqa_overlay-tours-popup .mgPlayerJSqa_close-button").on("click",$),mg$(".mgPlayerJSqa_btn-watch-later").on("click",$),mg$(".mgPlayerJSqa_btn-prev").on("click",H),mg$(".mgPlayerJSqa_btn-next").on("click",X),mg$(".mgPlayerJSqa_btn-prev-step").on("click",function(e){var t,a,r;t=n,a=I(),r=D()-1,C(a,r,t)}),mg$(".mgPlayerJSqa_btn-next-step").on("click",function(e){{var r=n,i;let e=I(),t=D()+1,a=o[e];if(a)if(a.steps.length===t){R(r),GmCXt.closeNotificationPopupSidePanel(),GmCXt.isPlayer()&&-1!==a.tour_type.indexOf("onboarding_tour")&&a.tour_settings.sentiment&&a.tour_settings.sentiment.sentimentCode&&(i={tour:a,guideNotCompleted:!1},GmCXt.handleCloseApp(),GmCXt.getSurveyScreen(i,!1));let e="push_notification";r&&r.taskId&&(e="task_list"),k(a.steps[a.steps.length-1]).then(function(){GmCXt.trackerV1.trackTutGuide(a,"create_tutorial_guide",e,r.taskId)})}else C(e,t,r),k(a.steps[t-1]).then(function(){})}}),mg$(".mgPlayerJSqa_tg-close-btn").on("click",function(e){F(n)});var e=mg$(".mgPlayerJSqa_push-notif-tg-content-wrapper").html();e&&-1!==e.indexOf("<a ")&&mg$(".mgPlayerJSqa_push-notif-tg-content-wrapper a").each(function(){mg$(".mgPlayerJSqa_push-notif-tg-content-wrapper a").on("click",function(e){e.currentTarget.target&&"_blank"!==e.currentTarget.target&&(e.preventDefault(),e.stopPropagation(),q(),GmCXt.isTutorialLink=!0,GmCXt.openPdf(e.currentTarget.href))})}),m&&mg$(".mgPlayerJSqa_close-preview-btn").on("click",F),mg$(".mgPlayerJSqa_btn-watch-close").on("click",N)}function J(e,a){if(c)GmCXt.auto.stop(!0);else if(!m&&(0!==a&&(e.stopPropagation(),a=this.attributes.tourIndex.value),a<o.length)){let t=o[a];t.tour_settings.displayFrequency&&E(t),GmCXt.isOnboarding(t)||GmCXt.trackerV1.trackPushNotification(t,"click");e={tour_id:t.tour_id,category_id:t.category_id};ge.getSteps(e).then(function(e){q(),GmCXt.stopNotification(m)||(t.tour_settings.displayFrequency||M(t),GmCXt.isOnboarding(e)?(o[a].steps=e.steps,y(a,e)):GmCXt.playLiveTour(e,0,"overlayTourPopup",l,"live"))})}}function G(e){mg$(e).css({"pointer-events":"none",opacity:".5"})}function A(e){mg$(e).css({"pointer-events":"auto",opacity:"1",display:"block"})}function T(e,t){var a=o[e];f(GmCXt.getOverlayToursHtml(a,e,m),e,t)}function X(e){let t=I()+1;T(t=t>o.length-1?0:t,0),mg$(".mgPlayerJSqa_btn-next")[0].removeAttribute("style");var a=t;o.length===a+1&&(mg$(".mgPlayerJSqa_btn-next").removeAttr("style"),G(".mgPlayerJSqa_btn-next"),mg$(".mgPlayerJSqa_btn-prev").focus()),mg$(".mgPlayerJSqa_btn-prev")[0].removeAttribute("style"),A(".mgPlayerJSqa_btn-prev"),mg$(".mgPlayerJSqa_btn-next").focus()}function H(e){let t=I()-1;T(t=t<0?0:t,0),0===t&&(mg$(".mgPlayerJSqa_btn-next").removeAttr("style"),mg$(".mgPlayerJSqa_btn-prev").removeAttr("style"),G(".mgPlayerJSqa_btn-prev"),1<o.length)&&A(".mgPlayerJSqa_btn-next")}function k(a){return new Promise(function(t,e){GmCXt.storage().get(["tutorial_steps"]).then(function(e){a&&(e.tutorial_steps.push(a),GmCXt.storage().set({tutorial_steps:e.tutorial_steps})),t()})})}function x(e){o.splice(e,1),0===o.length?GmCXt.closeNotificationPopupSidePanel(!0):S()}function L(){var e;c?GmCXt.auto.stop(!0):m||(e=I(),(o[e].tour_settings.displayFrequency?E:M)(o[e]),x(e))}function E(e){e&&(GmCXt.displayFrequencyGuides[e.tour_id]&&parseInt(e.version)===parseInt(GmCXt.displayFrequencyGuides[e.tour_id].version)?GmCXt.displayFrequencyGuides[e.tour_id].playedCount++:(GmCXt.displayFrequencyGuides[e.tour_id]={},GmCXt.displayFrequencyGuides[e.tour_id].version=parseInt(e.version),GmCXt.displayFrequencyGuides[e.tour_id].playedCount=1),GmCXt.updateGuideDisplayFrequency(GmCXt.displayFrequencyGuides),function(e){if(!GmCXt.isEmpty(GmCXt.displayFrequencyGuides)){var t=GmCXt.displayFrequencyGuides[parseInt(e.tour_id)];if(GmCXt.isDefined(t)&&parseInt(t.version)===parseInt(e.version)&&t.playedCount>=e.tour_settings.displayFrequencyTimes)return 1}}(e))&&M(e)}function M(e){e&&(GmCXt.doNotShowTours[e.tour_id]=parseInt(e.version),GmCXt.updateNotification(GmCXt.doNotShowTours))}function I(){return parseInt(mg$(".mgPlayerJSqa_push-notification-guide-info-overlay").attr("tourIndex"))||parseInt(mg$(".mgPlayerJSqa_push-notification-title").attr("tourIndex"))||0}function D(){return parseInt(mg$(".mgPlayerJSqa_push-notification-guide-info-overlay").attr("stepIndex"))||0}function $(){var e,t,a;c?GmCXt.auto.stop(!0):m||(e=I(),(t=o[e]).tour_settings.oneTimeNotification?L():(t.tour_settings.displayFrequency?E(t):(a=ge.labels.pushSnoozeMsg+" ",GmCXt.setSnoozedTours(t,a)),x(e)))}function F(e){var t=I(),a=D()+1;let r=o[t],i=(O(e),GmCXt.removeNotif(),GmCXt.openSidePanelNotificaton(),"push_notification");e&&e.taskId&&(i="task_list"),m?!GmCXt.isGuide(r)&&"guide"!==r.tour_type||GmCXt.openAppPanel():k(r.steps[a-1]).then(function(){GmCXt.trackerV1.trackTutGuide(r,"create_tutorial_guide",i,e.taskId)});var n,t=GmCXt.getOrgSettings();GmCXt.isPlayer()&&a<r.steps.length?t&&t.exitSentiment&&(n={tour:r,guideNotCompleted:!0},GmCXt.handleCloseApp(),GmCXt.getSurveyScreen(n,!0)):GmCXt.isPlayer()&&a===r.steps.length&&-1!==r.tour_type.indexOf("onboarding_tour")&&r.tour_settings.sentiment&&r.tour_settings.sentiment.sentimentCode&&(n={tour:r,guideNotCompleted:!1},GmCXt.handleCloseApp(),GmCXt.getSurveyScreen(n,!1))}function O(e){var t,a;e&&"0"===e.isComplete&&(t=I(),a=D()+1,o[t].steps.length===a)&&R(e)}function R(e){var t;e&&!e.isComplete&&(t=I(),t=o[t],t={taskListId:e.taskId,tourId:t.tour_id,complete_count:e.complete_count,total_count:e.total_count},ge.markTaskGuideComplete(t))}function N(e){e.stopPropagation();var e=this.attributes.tourIndex.value,t=o[e];t.tour_settings.displayFrequency&&E(t),x(e)}m?(o=g,GmCXt.isOnboarding(g[0])?y(0,g[0],a,e):S()):GmCXt.storage().get(["toursClosed","tourIdArray","testAuto"]).then(function(e){t=e.tourIdArray,s=GmCXt.parseJSON(e.toursClosed),e.testAuto&&(c=e.testAuto.automationInProgress),GmCXt.log(37,"STORAGE NOTIFICATIONS DATA",e),GmCXt.getDoNotShowTours(!1).then(function(e){GmCXt.doNotShowTours=e,!(e=g)||e.length<1||(g=g.filter(function(e){var t;return!GmCXt.doNotShowTours[e.tour_id]||(t=GmCXt.doNotShowTours[e.tour_id],parseInt(e.version)>t&&!e.tour_settings.oneTimeNotification)?e:void 0}),GmCXt.log(10,"DO NOT SHOW filter: "+e.length,e),e=g.filter(function(i){if(!s[i.tour_id])return i;{let e,t=1;var n=s[i.tour_id].toString().split(":"),n=(GmCXt.isDefined(n[1])?(e=parseInt(n[0]),t=parseInt(n[1])):e=parseInt(s[i.tour_id]),(new Date).getTime());let a=GmCXt.t.notifExp24,r=GmCXt.getAppSetting("notificationsTime");if(r){".5"===r&&(r="0.5");let e=parseFloat(r);"number"!=typeof r&&r.includes("week")&&(e=GmCXt.convertWeeksToHours(e)),a=e*GmCXt.t.snoozeNotif}if(e+a-n<=0||parseInt(i.version)>t)return delete s[i.tour_id],i;GmCXt.filterDontShowSnoozeTour.push(parseInt(i.tour_id))}}),GmCXt.log(10,"SNOOZED TOURS ",e),e=function(e){GmCXt.log(10,"ALREADY SHOWN TOURS ",GmCXt.alreadyLoadedNotif),0<GmCXt.alreadyLoadedNotif.length&&(e=e.filter(function(e){if(!function(t){let a=!1;for(let e=0;e<GmCXt.alreadyLoadedNotif.length;e++)if(parseInt(GmCXt.alreadyLoadedNotif[e].tour_id)===parseInt(t.tour_id)){a=!0;break}return a}(e))return e}));return e}(e),GmCXt.log(10,"AFTER FILTERING ALREADY SHOWN TOURS ",e),c&&GmCXt.auto.trackNotificationForAutomation({tours:s,doNotShowTours:GmCXt.doNotShowTours,isVisible:!1}),GmCXt.updateNotificationContentScript(s,t),e=function(t){var a=[],r=[];for(let e=0;e<t.length;e++)(t[e].tour_settings.isAutolaunch?a:r).push(t[e]);return a.concat(r)}(e=GmCXt.inPlayer?GmCXt.sortToursByModifcationDate(e):e),GmCXt.log(10,"SORTING BY auto launch first",e),GmCXt.log(10,"SNOOZE filter: "+e.length,e),e.length&&(e=e,GmCXt.organization.admin_settings.guide_segmentation?(GmCXt.log(10,"VALIDATING GUIDE SEGMENTATION RULES"),GmCXt.checkGuidesBasedOnSegment(e,i,"notiSeg")):r(e)))}),GmCXt.displayFrequencyGuides=GmCXt.user?.settings?.display_frequency_guides?GmCXt.user.settings.display_frequency_guides:{}})}};let Hu,Nu="";function Bu(){ge.subscribeEvents(),ge.reportInitialization(),ge.updateLabels(Nu),new qg({target:document.getElementById("mgPlayerJSqa_ege-panel")}),Hu=new tu({target:document.getElementById("mgPlayerJSqa_slideshow-panel")}),me.slideshowInstance.set(Hu)}me.accessibility.subscribe(e=>{e?mg$(".mgPlayerJSqa_ege-panel").addClass("mgPlayerJSqa_accessibility-theme"):mg$(".mgPlayerJSqa_ege-panel").removeClass("mgPlayerJSqa_accessibility-theme"),e=e,GmCXt.FT.isPlayer&&!e?mg$(".mgPlayerJSqa_ege-panel").addClass("mgPlayerJSqa_player-theme"):mg$(".mgPlayerJSqa_ege-panel").removeClass("mgPlayerJSqa_player-theme"),ge.setActivePage(ce(me.activeView))}),me.miniPlayer.subscribe(e=>{e?mg$(".mgPlayerJSqa_ege-panel").addClass("mgPlayerJSqa_micro-player-container mgPlayerJSqa_no-border mgPlayerJSqa_no-border-all"):mg$(".mgPlayerJSqa_ege-panel").removeClass("mgPlayerJSqa_micro-player-container mgPlayerJSqa_no-border mgPlayerJSqa_no-border-all"),e?mg$(".mgPlayerJSqa_panel-body").removeClass("mgPlayerJSqa_mobile-view"):mg$(".mgPlayerJSqa_panel-body").addClass("mgPlayerJSqa_mobile-view")}),GmCXt.onDapStoreInstanceReceived=function(){new Promise(function(a){GmCXt.getAllFromStorage(hu).then(function(e){var t;e?(GmCXt.isEmpty(e.appData)?GmCXt.logoutUser():(GmCXt.appList=e.appData,ge.syncApps(GmCXt.appList)),e.user?(GmCXt.updateGlobalUser(e.user),GmCXt.user=e.user,ge.user=e.user,ge.syncUser(),e.user.organization&&ge.saveOrganization(e.user.organization)):(GmCXt.user={},ge.user=!1),e.organization?(GmCXt.updateGlobalOrg(e.organization),GmCXt.organization=e.organization):GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)?GmCXt.user.organization?ge.saveOrganization(GmCXt.user.organization):ge.fetchOrgFromAPI():(GmCXt.organization={},GmCXt.organization=!1),ge.trackerSecrets=e.trackerSecrets||{},GmCXt.trackerUtil.secrets=e.trackerSecrets||{},e.activeAppId&&(GmCXt.activeAppId=e.activeAppId),e.userList&&(ge.userList=e.userList),e.activeView&&"maintenance"===e.activeView&&ge.goToMaintenance(),e.currentPage&&me.CurrentPage.set(e.currentPage),e.activeSortFilter&&me.activeSortFilterStore.set(e.activeSortFilter),e.breadCrumb&&me.breadCrumb.set(e.breadCrumb),e.activeScreenCastTourId&&(ge.activeScreenCastTourId=e.activeScreenCastTourId),e.activeTourId&&(ge.activeTourId=e.activeTourId),e.videosInProgress&&(ge.tourVideoInProgressArr=e.videosInProgress),GmCXt.isFalse(e.activeLang)||(ge.language=e.activeLang,me.selectedLang.set(ge.language),GmCXt.language=e.activeLang,GmCXt.mgActiveLang=ge.language),GmCXt.isFalse(e.activeVoice)||(ge.languageVoice=e.activeVoice),GmCXt.isFalse(e.userPrefLang)||(GmCXt.userPrefLang=e.userPrefLang),ge.loginTime=e.loginTime||0,ge.currentStep=e.currentStep||{},ge.toursModifiedTime=e.toursModifiedTime||{},ge.allTourList=e.allTourList||{},ge.currentTour=e.currentTour||{},me.currentTour.set(ge.currentTour),GmCXt.accessibility=e.accessibility||!1,me.accessibility.set(GmCXt.accessibility),ge.showGuidesFromDesktopApp=e.showGuidesFromDesktopApp||!1,GmCXt.FT.creatorApp&&(ge.allCategories=e.categories||{},ge.processCategories(),e.testAuto&&(ge.testAuto=e.testAuto),ge.serverDeletes=e.serverDeletes||{categories:[],tours:[]},ge.serverUpdates=e.serverUpdates||{},e.playerMode?(ge.showPlayer=e.playerMode,ge.playerMode=!0,GmCXt.showPlayer=!0):(ge.showPlayer=!1,ge.playerMode=!1,GmCXt.showPlayer=!1),ge.howtoCaptureMode=e.howtoCaptureMode??!1),e.segmentGroupData&&(t=e.segmentGroupData.time+GmCXt.t.syncSegment,Date.now()<t?(ge.allSegments=e.segmentGroupData.list,ge.syncSegmentData()):ge.allSegments=[]),GmCXt.getAllFromStorage(["refreshTime_"+GmCXt.activeAppId,"lastTimeStampSync_"+GmCXt.activeAppId]).then(function(e){ge.lastTimeStampSync=e["lastTimeStampSync_"+GmCXt.activeAppId]?e["lastTimeStampSync_"+GmCXt.activeAppId]:0,ge.refreshTime=e["refreshTime_"+GmCXt.activeAppId]?e["refreshTime_"+GmCXt.activeAppId]:0,a()})):a()})}).then(()=>{Nu=ge.language,GmCXt.getLanguageLabels(Nu,!0).then(function(){GmCXt.isPlayer()?Bu():GmCXt.getLanguageLabels(Nu,!1).then(function(){Bu()})}).catch(e=>{Bu()})}).catch(e=>{console.error("Initialization error:",e)})},me.activeView.set("signin"),GmCXt.isClientJs()&&GmCXt.onDapStoreInstanceReceived()}();