!function(){function Je(){}function n(e){return e()}function g(){return Object.create(null)}function ke(e){e.forEach(n)}function Y(e){return"function"==typeof e}function d(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let r;function Q(e,t){return e===t||((r=r||document.createElement("a")).href=t,e===r.href)}function de(e){let t;return((e,t)=>{if(null==e){for(var r of t)r(void 0);return Je}let a=e.subscribe(...t);return a.unsubscribe?()=>a.unsubscribe():a})(e,[e=>t=e])(),t}function Ge(e){return null==e?"":e}function xe(e,t){e.appendChild(t)}function a(e,t,r){var a,e=(e=>{var t;return e?(t=e.getRootNode?e.getRootNode():e.ownerDocument)&&t.host?t:e.ownerDocument:document})(e);e.getElementById(t)||((a=Me("style")).id=t,a.textContent=r,t=a,xe((r=e).head||r,t),t.sheet)}function Le(e,t,r){e.insertBefore(t,r||null)}function Ee(e){e.parentNode&&e.parentNode.removeChild(e)}function F(t,r){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(r)}function Me(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ie(e){return document.createTextNode(e)}function De(){return Ie(" ")}function I(){return Ie("")}function $e(e,t,r,a){return e.addEventListener(t,r,a),()=>e.removeEventListener(t,r,a)}function q(t){return function(e){return e.preventDefault(),t.call(this,e)}}function K(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function Fe(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function ee(e,t,r){var a=t.toLowerCase();a in e?e[a]="boolean"==typeof e[a]&&""===r||r:t in e?e[t]="boolean"==typeof e[t]&&""===r||r:Fe(e,t,r)}function Oe(e,t){e.data!==(t=""+t)&&(e.data=t)}function We(e,t){e.value=null==t?"":t}function Ae(e,t,r){null==r?e.style.removeProperty(t):e.style.setProperty(t,r,"")}function Re(e,t,r){e.classList.toggle(t,!!r)}class te{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,r=null){this.e||(this.is_svg?this.e=b(t.nodeName):this.e=Me(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(("TEMPLATE"===this.e.nodeName?this.e.content:this.e).childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)Le(this.t,this.n[e],t)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Ee)}}let p;function u(e){p=e}function s(){if(p)return p;throw new Error("Function called outside component initialization")}function me(e){s().$$.on_mount.push(e)}function pe(e){s().$$.on_destroy.push(e)}function M(){let n=s();return(e,r,{cancelable:a=!1}={})=>{var i,o=n.$$.callbacks[e];if(o){[e,r,{bubbles:a=!1,cancelable:i=!1}]=[e,r,{cancelable:a}];let t=new CustomEvent(e,{detail:r,bubbles:a,cancelable:i});return o.slice().forEach(e=>{e.call(n,t)}),!t.defaultPrevented}return!0}}let l=[],ue=[],h=[],P=[],y=Promise.resolve(),_=!1;function C(e){h.push(e)}function U(e){P.push(e)}let v=new Set,w=0;function A(){if(0===w){var e=p;do{try{for(;w<l.length;){var t,r=l[w],a=(w++,u(r),t=a=void 0,r.$$);null!==a.fragment&&(a.update(),ke(a.before_update),t=a.dirty,a.dirty=[-1],a.fragment&&a.fragment.p(a.ctx,t),a.after_update.forEach(C))}}catch(e){throw l.length=0,w=0,e}for(u(null),l.length=0,w=0;ue.length;)ue.pop()();for(let e=0;e<h.length;e+=1){var i=h[e];v.has(i)||(v.add(i),i())}}while(h.length=0,l.length);for(;P.length;)P.pop()();_=!1,v.clear(),u(e)}}let T=new Set,X;function He(){X={r:0,c:[],p:X}}function Ne(){X.r||ke(X.c),X=X.p}function Be(e,t){e&&e.i&&(T.delete(e),e.i(t))}function Ve(e,t,r,a){e&&e.o?T.has(e)||(T.add(e),X.c.push(()=>{T.delete(e),a&&(r&&e.d(1),a())}),e.o(t)):a&&a()}function D(e){return void 0!==e?.length?e:Array.from(e)}function k(e,t){e.d(1),t.delete(e.key)}function x(e,t){Ve(e,1,1,()=>{t.delete(e.key)})}function L(e,r,a,t,i,o,n,s,l,d,c,g){let m=e.length,p=o.length,u=m;for(var h={};u--;)h[e[u].key]=u;var P=[],y=new Map,_=new Map,S=[];for(u=p;u--;){let e=g(i,o,u);var f=a(e);let t=n.get(f);t?S.push(()=>t.p(e,r)):(t=d(f,e)).c(),y.set(f,P[u]=t),f in h&&_.set(f,Math.abs(u-h[f]))}var C=new Set,b=new Set;function v(e){Be(e,1),e.m(s,c),n.set(e.key,e),c=e.first,p--}for(;m&&p;){var w=P[p-1],J=e[m-1],G=w.key,A=J.key;w===J?(c=w.first,m--,p--):y.has(A)?!n.has(G)||C.has(G)?v(w):b.has(A)?m--:_.get(G)>_.get(A)?(b.add(G),v(w)):(C.add(A),m--):(l(J,n),m--)}for(;m--;){var T=e[m];y.has(T.key)||l(T,n)}for(;p;)v(P[p-1]);return ke(S),P}function j(e,t,r){t=e.$$.props[t];void 0!==t&&(e.$$.bound[t]=r)(e.$$.ctx[t])}function ze(e){e&&e.c()}function Ue(t,e,r){var{fragment:a,after_update:i}=t.$$;a&&a.m(e,r),C(()=>{var e=t.$$.on_mount.map(n).filter(Y);t.$$.on_destroy?t.$$.on_destroy.push(...e):ke(e),t.$$.on_mount=[]}),i.forEach(C)}function je(e,t){e=e.$$;if(null!==e.fragment){{var a=e.after_update;let t=[],r=[];h.forEach(e=>(-1===a.indexOf(e)?t:r).push(e)),r.forEach(e=>e()),h=t}ke(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[]}}function E(e,t){-1===e.$$.dirty[0]&&(l.push(e),_||(_=!0,y.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function t(a,e,t,r,i,o,n=null,s=[-1]){var l=p;u(a);let d=a.$$={fragment:null,ctx:[],props:o,update:Je,not_equal:i,bound:g(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:g(),dirty:s,skip_bound:!1,root:e.target||l.$$.root},c=(n&&n(d.root),!1);d.ctx=t?t(a,e.props||{},(e,t,...r)=>{r=r.length?r[0]:t;return d.ctx&&i(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),c)&&E(a,e),t}):[],d.update(),c=!0,ke(d.before_update),d.fragment=!!r&&r(d.ctx),e.target&&(e.hydrate?(o=e.target,s=Array.from(o.childNodes),d.fragment&&d.fragment.l(s),s.forEach(Ee)):d.fragment&&d.fragment.c(),e.intro&&Be(a.$$.fragment),Ue(a,e.target,e.anchor),A()),u(l)}class e{$$=void 0;$$set=void 0;$destroy(){je(this,1),this.$destroy=Je}$on(e,t){if(!Y(t))return Je;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){this.$$set&&0!==Object.keys(e).length&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");let O=[];function G(a,i=Je){let o,n=new Set;function s(e){if(d(a,e)&&(a=e,o)){var t,e=!O.length;for(t of n)t[1](),O.push(t,a);if(e){for(let e=0;e<O.length;e+=2)O[e][0](O[e+1]);O.length=0}}}function l(e){s(e(a))}return{set:s,update:l,subscribe:function(e,t=Je){let r=[e,t];return n.add(r),1===n.size&&(o=i(s,l)||Je),e(a),()=>{n.delete(r),0===n.size&&o&&(o(),o=null)}}}}let ce={},ge={};function R(e){a(e,"svelte-1k44uqi","@keyframes svelte-1k44uqi-zoom{from{transform:scale(0.95)}to{transform:scale(1)}}@keyframes svelte-1k44uqi-fade{from{opacity:0}to{opacity:1}}")}function H(e,t,r){e=e.slice();return e[21]=t[r],e[23]=r,e}function N(e,t,r){e=e.slice();return e[21]=t[r],e[23]=r,e}function B(r){let a,i,o,n,s,l,d,c,g,m,p,u=ce.svgs.close_push+"",h,P,y,e=ce.labels.dontShowAgain+"",_,S,f,C,b,v,t=ce.labels.watchLater+"",w,J,G,A,T,X,k,x,L=r[2]&&V(r),E=r[3]&&re(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),s=De(),l=Me("wmgPlayerJSProd_"),d=De(),c=Me("wmgPlayerJSProd_"),(g=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.pushNotification,m=De(),p=Me("button"),h=De(),P=Me("wmgPlayerJSProd_"),y=Me("button"),_=Ie(e),S=De(),f=Me("wmgPlayerJSProd_"),(C=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.tooltipDontShowAgain,b=De(),v=Me("button"),w=Ie(t),J=De(),G=Me("wmgPlayerJSProd_"),(A=Me("wmgPlayerJSProd_")).textContent=`${ce.labels.tooltipWatchLater1} ${GmCXt.getSleepTime(ce.labels)} `+ce.labels.tooltipWatchLater2,T=De(),L&&L.c(),X=De(),E&&E.c(),Fe(n,"class","mgPlayerJSProd_push-dropdown-pointer "+(ce.isMicroPlayer?"mgPlayerJSProd_push-dropdown-pointer-mini-player":"")),Re(n,"mgPlayerJSProd_push-pointer-positon",!GmCXt.isLXP()),Fe(l,"class","mgPlayerJSProd_notification-overlay-wrapper "+(ce.isMicroPlayer?"mgPlayerJSProd_notification-overlay-wrapper-mini-player":"")),Fe(g,"class","mgPlayerJSProd_h3 mgPlayerJSProd_notification-title mgPlayerJSProd_text-color-dark mgPlayerJSProd_font-weight-550 mgPlayerJSProd_font-size-18 mgPlayerJSProd_no-margin"),Fe(g,"tabindex","0"),Fe(p,"id","mgPlayerJSProd_icon-close-push-notif-dropdown"),Fe(p,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-close mgPlayerJSProd_position-relative mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer"),Fe(p,"aria-label","close push notification dropdown"),Fe(c,"class","mgPlayerJSProd_notification-info-header-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_padding-20 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),Fe(C,"class","mgPlayerJSProd_tooltip-title"),Fe(f,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_notification-tabs-tooltip mgPlayerJSProd_margin-tb-10"),Fe(y,"id","mgPlayerJSProd_label-notification-list-dshow-again"),Fe(y,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-info-tab mgPlayerJSProd_height-100 mgPlayerJSProd_font-weight-700 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_position-relative"),Re(y,"mgPlayerJSProd_notification-active-tab",r[2]),Fe(A,"class","mgPlayerJSProd_tooltip-title"),Fe(G,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_notification-tabs-tooltip mgPlayerJSProd_margin-tb-10 mgPlayerJSProd_title-tooltip-align-left"),Fe(v,"id","mgPlayerJSProd_label-notification-list-wlater"),Fe(v,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-info-tab mgPlayerJSProd_height-100 mgPlayerJSProd_font-weight-700 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_position-relative"),Re(v,"mgPlayerJSProd_notification-active-tab",r[3]),Fe(P,"class","mgPlayerJSProd_notification-info-tabs-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),Fe(o,"class","mgPlayerJSProd_push-notification-info-wrapper mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max mgPlayerJSProd_cursor mgPlayerJSProd_cursor-default "+(ce.isMicroPlayer?"mgPlayerJSProd_push-notification-info-micro-player":"")),Fe(a,"id","mgPlayerJSProd_svelte-notification-modal"),Fe(a,"role","region"),Fe(a,"aria-labelledby",ce.labels.pushNotification)},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),xe(o,s),xe(o,l),xe(o,d),xe(o,c),xe(c,g),xe(c,m),xe(c,p),p.innerHTML=u,xe(o,h),xe(o,P),xe(P,y),xe(y,_),xe(y,S),xe(y,f),xe(f,C),xe(P,b),xe(P,v),xe(v,w),xe(v,J),xe(v,G),xe(G,A),xe(o,T),L&&L.m(o,null),xe(o,X),E&&E.m(o,null),r[14](a),k||(x=[$e(p,"click",r[9]),$e(y,"click",r[10]),$e(v,"click",r[11]),$e(i,"click",K(r[8])),$e(a,"close",r[15])],k=!0)},p(e,t){4&t&&Re(y,"mgPlayerJSProd_notification-active-tab",e[2]),8&t&&Re(v,"mgPlayerJSProd_notification-active-tab",e[3]),e[2]?L?L.p(e,t):((L=V(e)).c(),L.m(o,X)):L&&(L.d(1),L=null),e[3]?E?E.p(e,t):((E=re(e)).c(),E.m(o,null)):E&&(E.d(1),E=null)},d(e){e&&Ee(a),L&&L.d(),E&&E.d(),r[14](null),k=!1,ke(x)}}}function V(e){let r,a,i=e[4]?.doNotShowTour&&z(e),o=(!e[4]||0===e[4]?.doNotShowTour?.length)&&Z();return{c(){r=Me("wmgPlayerJSProd_"),i&&i.c(),a=De(),o&&o.c(),Fe(r,"class","mgPlayerJSProd_notification-guide-details-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_position-relative")},m(e,t){Le(e,r,t),i&&i.m(r,null),xe(r,a),o&&o.m(r,null)},p(e,t){e[4]?.doNotShowTour?i?i.p(e,t):((i=z(e)).c(),i.m(r,a)):i&&(i.d(1),i=null),e[4]&&0!==e[4]?.doNotShowTour?.length?o&&(o.d(1),o=null):o||((o=Z()).c(),o.m(r,null))},d(e){e&&Ee(r),i&&i.d(),o&&o.d()}}}function z(t){let i,o=D(t[4].doNotShowTour),n=[];for(let e=0;e<o.length;e+=1)n[e]=W(N(t,o,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();i=I()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Le(t,i,r)},p(t,r){if(80&r){o=D(t[4].doNotShowTour);let e;for(e=0;e<o.length;e+=1){var a=N(t,o,e);n[e]?n[e].p(a,r):(n[e]=W(a),n[e].c(),n[e].m(i.parentNode,i))}for(;e<n.length;e+=1)n[e].d(1);n.length=o.length}},d(e){e&&Ee(i),F(n,e)}}}function W(r){let a,i,o=ce.svgs.default_guide+"",n,s,l,d=r[21].tour_title+"",c,g,m,p,u=r[21].tour_title+"",h,P,y,_,S,f,C,b,v,w;function J(){return r[12](r[21],r[23])}return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),l=Me("wmgPlayerJSProd_"),c=Ie(d),g=De(),m=Me("wmgPlayerJSProd_"),p=Me("wmgPlayerJSProd_"),h=Ie(u),P=De(),y=Me("wmgPlayerJSProd_"),_=Me("wmgPlayerJSProd_"),S=De(),f=Me("wmgPlayerJSProd_"),(C=Me("button")).textContent=""+ce.labels.showAgain,b=De(),Fe(i,"class","mgPlayerJSProd_notification-guide-icon mgPlayerJSProd_position-relative"),Fe(l,"class","mgPlayerJSProd_text-overflow-ellipsis mgPlayerJSProd_text-color-dark "+(ce.isMicroPlayer?"mgPlayerJSProd_not-guide-title":"")),Fe(s,"class","mgPlayerJSProd_notification-guide-title mgPlayerJSProd_margin-lr-10"),Fe(p,"class","mgPlayerJSProd_tooltip-title"),Fe(m,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right mgPlayerJSProd_margin-lr-10"),Fe(_,"class","mgPlayerJSProd_details-overlay-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_height-100 mgPlayerJSProd_z-index mgPlayerJSProd_z-index-1"),Fe(C,"id","mgPlayerJSProd_label-show-again"),Fe(C,"class","mgPlayerJSProd_action-show-again-btn mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_theme-background mgPlayerJSProd_text-color-white mgPlayerJSProd_font-size-12 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lbl-btn"),Fe(f,"class","mgPlayerJSProd_details-overlay-action-wrapper mgPlayerJSProd_height-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_z-index mgPlayerJSProd_z-index-2"),Fe(y,"class","mgPlayerJSProd_notification-guide-details-overlay mgPlayerJSProd_width-100 mgPlayerJSProd_height-100 mgPlayerJSProd_padding-lr-20"),Fe(a,"class","mgPlayerJSProd_notification-guide-details mgPlayerJSProd_width-100 mgPlayerJSProd_padding-lr-20 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-start mgPlayerJSProd_position-relative"),Fe(a,"tabindex","0")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,l),xe(l,c),xe(a,g),xe(a,m),xe(m,p),xe(p,h),xe(a,P),xe(a,y),xe(y,_),xe(y,S),xe(y,f),xe(f,C),xe(a,b),v||(w=$e(C,"click",J),v=!0)},p(e,t){r=e,16&t&&d!==(d=r[21].tour_title+"")&&Oe(c,d),16&t&&u!==(u=r[21].tour_title+"")&&Oe(h,u)},d(e){e&&Ee(a),v=!1,w()}}}function Z(){let r,a,i,o=ce.svgs.no_guides_image+"",n,s,l,d;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent="Oops!",l=De(),(d=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.noGuidesOnThisTab,Fe(i,"class","mgPlayerJSProd_icon-oops mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center"),Fe(s,"class","mgPlayerJSProd_icon-text mgPlayerJSProd_text-align-center mgPlayerJSProd_font-weight-550"),Fe(s,"tabindex","0"),Fe(d,"class","mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-tb-5"),Fe(d,"tabindex","0"),Fe(a,"class","mgPlayerJSProd_oops-wrapper mgPlayerJSProd_text-align-center"),Fe(r,"class","mgPlayerJSProd_no-guide-msg-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(a,l),xe(a,d)},d(e){e&&Ee(r)}}}function re(e){let r,a,i=e[4]?.snoozeTour&&ae(e),o=(!e[4]||0===e[4]?.snoozeTour?.length)&&oe();return{c(){r=Me("wmgPlayerJSProd_"),i&&i.c(),a=De(),o&&o.c(),Fe(r,"class","mgPlayerJSProd_notification-guide-details-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_position-relative")},m(e,t){Le(e,r,t),i&&i.m(r,null),xe(r,a),o&&o.m(r,null)},p(e,t){e[4]?.snoozeTour?i?i.p(e,t):((i=ae(e)).c(),i.m(r,a)):i&&(i.d(1),i=null),e[4]&&0!==e[4]?.snoozeTour?.length?o&&(o.d(1),o=null):o||((o=oe()).c(),o.m(r,null))},d(e){e&&Ee(r),i&&i.d(),o&&o.d()}}}function ae(t){let i,o=D(t[4].snoozeTour),n=[];for(let e=0;e<o.length;e+=1)n[e]=ie(H(t,o,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();i=I()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Le(t,i,r)},p(t,r){if(144&r){o=D(t[4].snoozeTour);let e;for(e=0;e<o.length;e+=1){var a=H(t,o,e);n[e]?n[e].p(a,r):(n[e]=ie(a),n[e].c(),n[e].m(i.parentNode,i))}for(;e<n.length;e+=1)n[e].d(1);n.length=o.length}},d(e){e&&Ee(i),F(n,e)}}}function ie(r){let a,i,o=ce.svgs.default_guide+"",n,s,l,d=r[21].tour_title+"",c,g,m,p,u=r[21].tour_title+"",h,P,y,_,S,f,C,b,v,w;function J(){return r[13](r[21],r[23])}return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),l=Me("wmgPlayerJSProd_"),c=Ie(d),g=De(),m=Me("wmgPlayerJSProd_"),p=Me("wmgPlayerJSProd_"),h=Ie(u),P=De(),y=Me("wmgPlayerJSProd_"),_=Me("wmgPlayerJSProd_"),S=De(),f=Me("wmgPlayerJSProd_"),(C=Me("button")).textContent=""+ce.labels.showAgain,b=De(),Fe(i,"class","mgPlayerJSProd_notification-guide-icon mgPlayerJSProd_position-relative"),Fe(l,"class","mgPlayerJSProd_text-overflow-ellipsis mgPlayerJSProd_text-color-dark "+(ce.isMicroPlayer?"mgPlayerJSProd_not-guide-title":"")),Fe(s,"class","mgPlayerJSProd_notification-guide-title mgPlayerJSProd_margin-lr-10"),Fe(p,"class","mgPlayerJSProd_tooltip-title"),Fe(m,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right mgPlayerJSProd_margin-lr-10"),Fe(_,"class","mgPlayerJSProd_details-overlay-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_height-100 mgPlayerJSProd_z-index mgPlayerJSProd_z-index-1"),Fe(C,"id","mgPlayerJSProd_label-watch-again"),Fe(C,"class","mgPlayerJSProd_action-show-again-btn mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_theme-background mgPlayerJSProd_text-color-white mgPlayerJSProd_font-size-12 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_primary-color mgPlayerJSProd_bg-color mgPlayerJSProd_lbl-btn"),Fe(f,"class","mgPlayerJSProd_details-overlay-action-wrapper mgPlayerJSProd_height-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_z-index mgPlayerJSProd_z-index-2"),Fe(y,"class","mgPlayerJSProd_notification-guide-details-overlay mgPlayerJSProd_width-100 mgPlayerJSProd_height-100 mgPlayerJSProd_padding-lr-20"),Fe(a,"class","mgPlayerJSProd_notification-guide-details mgPlayerJSProd_width-100 mgPlayerJSProd_padding-lr-20 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-start mgPlayerJSProd_position-relative"),Fe(a,"tabindex","0")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,l),xe(l,c),xe(a,g),xe(a,m),xe(m,p),xe(p,h),xe(a,P),xe(a,y),xe(y,_),xe(y,S),xe(y,f),xe(f,C),xe(a,b),v||(w=$e(C,"click",J),v=!0)},p(e,t){r=e,16&t&&d!==(d=r[21].tour_title+"")&&Oe(c,d),16&t&&u!==(u=r[21].tour_title+"")&&Oe(h,u)},d(e){e&&Ee(a),v=!1,w()}}}function oe(){let r,a,i,o=ce.svgs.no_guides_image+"",n,s,l,d;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent="Oops!",l=De(),(d=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.noGuidesOnThisTab,Fe(i,"class","mgPlayerJSProd_icon-oops mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center"),Fe(s,"class","mgPlayerJSProd_icon-text mgPlayerJSProd_text-align-center mgPlayerJSProd_font-weight-550"),Fe(s,"tabindex","0"),Fe(d,"class","mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-tb-5"),Fe(d,"tabindex","0"),Fe(a,"class","mgPlayerJSProd_oops-wrapper mgPlayerJSProd_text-align-center"),Fe(r,"class","mgPlayerJSProd_no-guide-msg-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(a,l),xe(a,d)},d(e){e&&Ee(r)}}}function ne(e){let r,a=e[0]&&B(e);return{c(){a&&a.c(),r=I()},m(e,t){a&&a.m(e,t),Le(e,r,t)},p(e,[t]){e[0]?a?a.p(e,t):((a=B(e)).c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i:Je,o:Je,d(e){e&&Ee(r),a&&a.d(e)}}}function se(t,e,n){let s,r=e.pushNotificationDropdown,a,i,o,l=(de(ge.notificationsGuides),ge.dShowAgain.subscribe(e=>{n(2,i=e)})),d=ge.wLater.subscribe(e=>{n(3,o=e)});function c(e){ge.dShowAgain.set(!1),ge.wLater.set(!1),ge[e].set(!0),GmCXt.timeout(function(){GmCXt.isPlayer()&&ce.bindPlayerTheme()},0)}function g(i,o){GmCXt.storage().get(["toursClosed","tourIdArray"]).then(function(e){let t={},r={};function a(e){ce.saveUser(GmCXt.user)}(t=GmCXt.isAnonymousUser()?e.tourIdArray||{}:(r=GmCXt.createDeepCopy(GmCXt.user)).settings.viewed_guide_notifications||{})[i]&&(GmCXt.isAnonymousUser()?GmCXt.updateNotiDoNotShow(i):(delete t[i],GmCXt.user.settings.viewed_guide_notifications=t,GmCXt.user.signin_user_email?(e={email_id:GmCXt.user.signin_user_email,settings:JSON.stringify(r.settings),organization_id:GmCXt.user.organization_id},GmCXt.setAnonymousUserPrefrence(e).then(a)):(e={settings:{viewed_guide_notifications:t}},GmCXt.updateUserSettings(e,GmCXt.user,a))),s.doNotShowTour.splice(o,1),n(4,s={...s}))})}function m(e,t){s.snoozeTour.splice(t,1),n(4,s={...s}),GmCXt.updateNotiWatchLater(e)}ce.user,c("wLater"),pe(()=>{l(),d()});return t.$$set=e=>{"pushNotificationDropdown"in e&&n(0,r=e.pushNotificationDropdown)},t.$$.update=()=>{3&t.$$.dirty&&a&&r&&mg$(a).show()},n(4,s=ce.notifications),[r,a,i,o,s,c,g,m,function(e){!function(e,t){(e=e.$$.callbacks[t.type])&&e.slice().forEach(e=>e.call(this,t))}.call(this,t,e)},()=>mg$(a).remove(),()=>c("dShowAgain"),()=>c("wLater"),(e,t)=>g(e.tour_id,t),(e,t)=>m(e.tour_id,t),function(e){ue[e?"unshift":"push"](()=>{a=e,n(1,a)})},()=>n(0,r=!1)]}ge.activeView=G(""),ge.user=G({}),ge.accessToken=G(""),ge.organization=G({}),ge.tours=G([]),ge.appOnDomain=G({}),ge.loggedIn=G(!1),ge.appData=G([]),ge.allGuides=G([]),ge.activeAppData=G({}),ge.activeAppId=G(""),ge.allCategories=G([]),ge.subCategories=G({}),ge.breadCrumb=G([]),ge.breadcrumbCategories=G([]),ge.validatedSegments=G({}),ge.isSidePanelApp=G(!1),ge.isPageReloaded=G(!1),ge.guidePlayTracker=G({}),ge.showPlayer=G(!1),ge.accessibility=G(!1),ge.isMediaPlayerOn=G(!1),ge.pageTitle=G(),ge.route=G("Home"),ge.urlParts=G({}),ge.partUrl={},ge.appList=G([]),ge.CurrentPage=G("currentpage"),ge.currentTour=G({}),ge.dialogBox=G({}),ge.showModal=G({}),ge.publishedTours=G({}),ge.CurrentPageTours=G([]),ge.MyGuidePageTours=G([]),ge.parent=G(),ge.categoryTours=G([]),ge.childCategories=G(),ge.isNotificationReqd=G(!0),ge.dShowAgain=G(!1),ge.wLater=G(!1),ge.loading=G(!1),ge.activeSortFilterStore=G(),ge.searchTours=G([]),ge.selectedBranch=G(!1),ge.selectedLang=G("default"),ge.lanDropDownVisible=G(!1),ge.miniPlayer=G(!1),ge.showNoTour=G(!1),ge.isTaskListVisible=G(!1),ge.params=G({}),ge.routeAction=G({}),ge.filters=G({}),ge.statusBar=G(""),ge.labels=G(ce.labels),ge.slideState=G({}),ge.slideshowInstance=G({}),ge.isTourListRefresh=G(!1),ge.allTaskList=G([]),ge.taskListCount=G(0),ge.searchTerm=G(""),ge.stepEditMode=G(!1),ge.stepOperationMode=G(GmCXt.STEP_VIEW_OPERATION),ge.activeStepId=G(),ge.panelAlignment=G("right"),ge.imagePaintRef=G({}),ge.refreshCurrentPageView=G(!1),ge.prevActiveStepId=G(0),ge.showSsoNotAvailableError=G(!1),ge.beaconUpload=G(!1);class le extends e{constructor(e){super(),t(this,e,se,ne,d,{pushNotificationDropdown:0},R)}}function he(e){a(e,"svelte-nljzo9",".mgPlayerJSProd_svelte-tags-input.svelte-nljzo9.svelte-nljzo9,.mgPlayerJSProd_svelte-tags-input-tag.svelte-nljzo9.svelte-nljzo9,.mgPlayerJSProd_svelte-tags-input-matchs.svelte-nljzo9.svelte-nljzo9,.mgPlayerJSProd_svelte-tags-input-layout.svelte-nljzo9 label.svelte-nljzo9{font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans',\n\t\t\t'Helvetica Neue', sans-serif !important;font-size:14px !important;padding:2px 5px !important}.mgPlayerJSProd_svelte-tags-input-layout.svelte-nljzo9 label.svelte-nljzo9{margin:4px 5px 0 0;padding:0;font-weight:500}.mgPlayerJSProd_svelte-tags-input-layout.svelte-nljzo9.svelte-nljzo9{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0px 5px 5px 5px;border:solid 1px #ccc;background:#fff;border-radius:2px;width:100%}.mgPlayerJSProd_svelte-tags-input-layout.svelte-nljzo9.svelte-nljzo9:focus,.mgPlayerJSProd_svelte-tags-input-layout.svelte-nljzo9.svelte-nljzo9:hover{border:solid 1px #000}.mgPlayerJSProd_svelte-tags-input-layout.svelte-nljzo9.svelte-nljzo9:focus-within{outline:1px auto -webkit-focus-ring-color}.mgPlayerJSProd_svelte-tags-input.svelte-nljzo9.svelte-nljzo9{background:unset !important;-webkit-box-flex:1 !important;-ms-flex:1 !important;flex:1 !important;margin:0 !important;margin-top:5px !important;border:none !important}.mgPlayerJSProd_svelte-tags-input.svelte-nljzo9.svelte-nljzo9::-webkit-input-placeholder{color:#707070 !important;font-weight:normal !important}.mgPlayerJSProd_svelte-tags-input.svelte-nljzo9.svelte-nljzo9::-moz-placeholder{color:#707070 !important;font-weight:normal !important}.mgPlayerJSProd_svelte-tags-input.svelte-nljzo9.svelte-nljzo9::-webkit-input-placeholder{color:#707070 !important;font-weight:normal !important}.mgPlayerJSProd_svelte-tags-input.svelte-nljzo9.svelte-nljzo9:focus{outline:0 !important}.mgPlayerJSProd_svelte-tags-input-tag.svelte-nljzo9.svelte-nljzo9{display:-webkit-box !important;display:-ms-flexbox !important;display:flex !important;white-space:nowrap !important;user-select:text !important;list-style:none !important;background:#000 !important;border:none !important;color:#fff !important;border-radius:2px !important;margin-right:5px !important;margin-top:5px !important;font-weight:400 !important}.mgPlayerJSProd_tag-input-item.svelte-nljzo9.svelte-nljzo9{display:inline-block;vertical-align:middle;max-width:350px;color:#fff;margin:2px 0 0 0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mgPlayerJSProd_svelte-tags-input-tag-remove.svelte-nljzo9.svelte-nljzo9{cursor:pointer !important;margin-left:5px !important;margin-top:2px !important}.mgPlayerJSProd_svelte-tags-input-matchs-parent.svelte-nljzo9.svelte-nljzo9{position:relative}.mgPlayerJSProd_svelte-tags-input-matchs.svelte-nljzo9.svelte-nljzo9{position:absolute;top:0;left:0;right:0;margin:3px 0;padding:0px;background:#fff;border:solid 1px #ccc;border-radius:2px;max-height:310px;overflow:scroll;overflow-x:auto}.mgPlayerJSProd_svelte-tags-input-matchs.svelte-nljzo9 li.svelte-nljzo9{list-style:none;padding:5px;border-radius:2px;cursor:pointer}.mgPlayerJSProd_svelte-tags-input-matchs.svelte-nljzo9 li.svelte-nljzo9:hover,.mgPlayerJSProd_svelte-tags-input-matchs.svelte-nljzo9 li.focus.svelte-nljzo9{background:#000;color:#fff;outline:none}.mgPlayerJSProd_svelte-tags-input.svelte-nljzo9.svelte-nljzo9:disabled{background:transparent !important}.mgPlayerJSProd_svelte-tags-input-layout.sti-layout-disable.svelte-nljzo9.svelte-nljzo9,.mgPlayerJSProd_svelte-tags-input-layout.sti-layout-disable.svelte-nljzo9 input.svelte-nljzo9{cursor:not-allowed !important;background:#eaeaea !important}.mgPlayerJSProd_svelte-tags-input-layout.sti-layout-disable.svelte-nljzo9.svelte-nljzo9:hover,.mgPlayerJSProd_svelte-tags-input-layout.sti-layout-disable.svelte-nljzo9.svelte-nljzo9:focus,.mgPlayerJSProd_svelte-tags-input-layout.sti-layout-readonly.svelte-nljzo9.svelte-nljzo9:hover,.mgPlayerJSProd_svelte-tags-input-layout.sti-layout-readonly.svelte-nljzo9.svelte-nljzo9:focus{border-color:#ccc}.mgPlayerJSProd_svelte-tags-input-layout.sti-layout-disable.svelte-nljzo9 .mgPlayerJSProd_svelte-tags-input-tag.svelte-nljzo9{background:#aeaeae !important}.mgPlayerJSProd_svelte-tags-input-layout.sti-layout-disable.svelte-nljzo9 .mgPlayerJSProd_svelte-tags-input-tag-remove.svelte-nljzo9{cursor:not-allowed !important}.mgPlayerJSProd_svelte-tags-input-layout.svelte-nljzo9 label.sr-only.svelte-nljzo9{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}")}function Pe(e,t,r){e=e.slice();return e[52]=t[r],e[54]=r,e}function ye(e,t,r){e=e.slice();return e[14]=t[r],e[56]=r,e}function _e(t){let i,o=D(t[0]),n=[];for(let e=0;e<o.length;e+=1)n[e]=be(ye(t,o,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();i=I()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Le(t,i,r)},p(t,r){if(132897&r[0]){o=D(t[0]);let e;for(e=0;e<o.length;e+=1){var a=ye(t,o,e);n[e]?n[e].p(a,r):(n[e]=be(a),n[e].c(),n[e].m(i.parentNode,i))}for(;e<n.length;e+=1)n[e].d(1);n.length=o.length}},d(e){e&&Ee(i),F(n,e)}}}function Se(e){let r,a=e[14][e[10]]+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_tag-input-item svelte-nljzo9")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1025&t[0]&&a!==(a=e[14][e[10]]+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function fe(e){let r,a=e[14]+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_tag-input-item svelte-nljzo9")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t[0]&&a!==(a=e[14]+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function Ce(r){let a,i,o;function n(){return r[42](r[56])}return{c(){(a=Me("wmgPlayerJSProd_")).textContent="Ã—",Fe(a,"class","mgPlayerJSProd_span mgPlayerJSProd_svelte-tags-input-tag-remove svelte-nljzo9")},m(e,t){Le(e,a,t),i||(o=$e(a,"pointerdown",n),i=!0)},p(e,t){r=e},d(e){e&&Ee(a),i=!1,o()}}}function be(r){let a,i,o,n,s;function l(e){return"string"==typeof e[14]?fe:Se}let d=l(r),c=d(r),g=!r[5]&&!r[8]&&Ce(r);return{c(){a=Me("button"),c.c(),i=De(),g&&g.c(),o=De(),Fe(a,"type","button"),Fe(a,"class","mgPlayerJSProd_svelte-tags-input-tag svelte-nljzo9")},m(e,t){Le(e,a,t),c.m(a,null),xe(a,i),g&&g.m(a,null),xe(a,o),n||(s=$e(a,"click",function(){Y(r[9](r[14]))&&r[9](r[14]).apply(this,arguments)}),n=!0)},p(e,t){r=e,d===(d=l(r))&&c?c.p(r,t):(c.d(1),(c=d(r))&&(c.c(),c.m(a,i))),r[5]||r[8]?g&&(g.d(1),g=null):g?g.p(r,t):((g=Ce(r)).c(),g.m(a,o))},d(e){e&&Ee(a),c.d(),g&&g.d(),n=!1,s()}}}function ve(t){let r,i,e,o=D(t[11]),n=[];for(let e=0;e<o.length;e+=1)n[e]=we(Pe(t,o,e));return{c(){r=Me("wmgPlayerJSProd_"),i=Me("ul");for(let e=0;e<n.length;e+=1)n[e].c();Fe(i,"id",e=t[4]+"_matchs"),Fe(i,"class","mgPlayerJSProd_svelte-tags-input-matchs svelte-nljzo9"),Fe(r,"class","mgPlayerJSProd_svelte-tags-input-matchs-parent svelte-nljzo9")},m(e,t){Le(e,r,t),xe(r,i);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(i,null)},p(t,r){if(71680&r[0]){o=D(t[11]);let e;for(e=0;e<o.length;e+=1){var a=Pe(t,o,e);n[e]?n[e].p(a,r):(n[e]=we(a),n[e].c(),n[e].m(i,null))}for(;e<n.length;e+=1)n[e].d(1);n.length=o.length}16&r[0]&&e!==(e=t[4]+"_matchs")&&Fe(i,"id",e)},d(e){e&&Ee(r),F(n,e)}}}function we(r){let a,i,o=r[52].search+"",n,s,l;function d(){return r[46](r[52])}return{c(){a=Me("li"),i=new te(!1),n=De(),i.a=n,Fe(a,"tabindex","-1"),Fe(a,"class","svelte-nljzo9"),Re(a,"focus",r[54]===r[12])},m(e,t){Le(e,a,t),i.m(o,a),xe(a,n),s||(l=$e(a,"pointerdown",q(d)),s=!0)},p(e,t){r=e,2048&t[0]&&o!==(o=r[52].search+"")&&i.p(o),4096&t[0]&&Re(a,"focus",r[54]===r[12])},d(e){e&&Ee(a),s=!1,l()}}}function Te(r){let a,i,o,n,s,l,d,c,g,m,p,u,h=0<r[0].length&&_e(r),P=r[2]&&0<r[11].length&&ve(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("label"),o=Ie(r[6]),s=De(),h&&h.c(),l=De(),d=Me("input"),g=De(),P&&P.c(),m=I(),Fe(i,"for",r[4]),Fe(i,"class",n=Ge(r[7]?"":"sr-only")+" svelte-nljzo9"),Fe(d,"type","text"),Fe(d,"id",r[4]),Fe(d,"name",r[3]),Fe(d,"class","mgPlayerJSProd_svelte-tags-input svelte-nljzo9"),Fe(d,"placeholder",r[1]),d.disabled=c=r[5]||r[8],Fe(d,"autocomplete","off"),Fe(a,"class","mgPlayerJSProd_svelte-tags-input-layout svelte-nljzo9"),Re(a,"sti-layout-disable",r[5]),Re(a,"sti-layout-readonly",r[8])},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(a,s),h&&h.m(a,null),xe(a,l),xe(a,d),We(d,r[14]),r[45](a),Le(e,g,t),P&&P.m(e,t),Le(e,m,t),p||(u=[$e(d,"input",r[43]),$e(d,"keydown",r[15]),$e(d,"keyup",r[23]),$e(d,"paste",r[18]),$e(d,"drop",r[19]),$e(d,"focus",r[20]),$e(d,"blur",r[44]),$e(d,"pointerdown",r[22])],p=!0)},p(e,t){64&t[0]&&Oe(o,e[6]),16&t[0]&&Fe(i,"for",e[4]),128&t[0]&&n!==(n=Ge(e[7]?"":"sr-only")+" svelte-nljzo9")&&Fe(i,"class",n),0<e[0].length?h?h.p(e,t):((h=_e(e)).c(),h.m(a,l)):h&&(h.d(1),h=null),16&t[0]&&Fe(d,"id",e[4]),8&t[0]&&Fe(d,"name",e[3]),2&t[0]&&Fe(d,"placeholder",e[1]),288&t[0]&&c!==(c=e[5]||e[8])&&(d.disabled=c),16384&t[0]&&d.value!==e[14]&&We(d,e[14]),32&t[0]&&Re(a,"sti-layout-disable",e[5]),256&t[0]&&Re(a,"sti-layout-readonly",e[8]),e[2]&&0<e[11].length?P?P.p(e,t):((P=ve(e)).c(),P.m(m.parentNode,m)):P&&(P.d(1),P=null)},i:Je,o:Je,d(e){e&&(Ee(a),Ee(g),Ee(m)),h&&h.d(),r[45](null),P&&P.d(e),p=!1,ke(u)}}}function Xe(e,t,a){let i,o="",n=[],s=-1,D=e=>e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&"),l=t.tags,d=t.addKeys,r=t.maxTags,c=t.onlyUnique,g=t.removeKeys,m=t.placeholder,p=t.allowPaste,u=t.allowDrop,h=t.splitWith,P=t.autoComplete,y=t.autoCompleteFilter,_=t.autoCompleteKey,S=t.autoCompleteMarkupKey,f=t.name,C=t.id,b=t.allowBlur,v=t.disable,w=t.minChars,J=t.onlyAutocomplete,G=t.labelText,A=t.labelShow,T=t.readonly,$=t.onTagClick,F=t.autoCompleteShowKey,X=t.onTagAdded,k=t.onTagRemoved,x=t.cleanOnBlur,L=t.customValidation,E=t.onTagChange,M,O=m;function I(t){if("object"==typeof t&&null!==t){if(!_)return console.error("'autoCompleteKey' is necessary if 'autoComplete' result is an array of objects");if(c)if(l?.find(e=>e[_]===t[_]))return;var e=t;t=t[_].trim()}else t=t.trim();""==t||r&&l.length==r||c&&l.includes(t)||J&&0===n.length||L&&!L(t)||(l.push(e||t),a(0,l),a(14,o=""),X(t,l),a(11,n=[]),a(12,s=-1),document.getElementById(C).focus(),r&&l.length==r&&(document.getElementById(C).readOnly=!0,a(1,m="")),E&&E())}function R(e){l.splice(e,1),k(l[e],l),a(0,l),E&&E(),a(11,n=[]),document.getElementById(C).readOnly=!1,a(1,m=O),document.getElementById(C).focus()}function H(e,t){M.classList.remove("focus"),b&&(n.length&&-1<s?I(n?.[s]?.label):n.length||(e.preventDefault(),I(t))),x&&a(14,o=""),a(11,n=[]),a(12,s=-1)}function N(e){return e.split(h).map(e=>e.trim())}function B(e,t){return(e=>{let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return(""+e).replace(/[&<>"'\/]/g,e=>t[e])})(t).replace(RegExp(D(e.toLowerCase()),"i"),"<strong>$&</strong>")}async function V(e){if(P&&!(r&&l.length>=r)){let t=e?e.target.value:"",r=[];if(Array.isArray(P)&&(r=P),"Promise"===(r="function"==typeof P?"AsyncFunction"===P.constructor.name?await P(t):P(t):r).constructor.name&&(r=await r),0<w&&""==t||e&&27===e.keyCode||t.length<w)a(11,n=[]);else{let e=r;if("object"==typeof r[0]&&null!==r){if(!_)return console.error("'autoCompleteValue' is necessary if 'autoComplete' result is an array of objects");e=(e=!1!==y?r.filter(e=>e[_].toLowerCase().includes(t.toLowerCase())):e).map(e=>({label:e,search:S?e[S]:B(t,e[_])}))}else e=(e=!1!==y?r.filter(e=>e.toLowerCase().includes(t.toLowerCase())):e).map(e=>({label:e,search:B(t,e)}));!0!==c||_||(e=e.filter(e=>!l.includes(e.label))),a(11,n=e)}}}return e.$$set=e=>{"tags"in e&&a(0,l=e.tags),"addKeys"in e&&a(24,d=e.addKeys),"maxTags"in e&&a(25,r=e.maxTags),"onlyUnique"in e&&a(26,c=e.onlyUnique),"removeKeys"in e&&a(27,g=e.removeKeys),"placeholder"in e&&a(1,m=e.placeholder),"allowPaste"in e&&a(28,p=e.allowPaste),"allowDrop"in e&&a(29,u=e.allowDrop),"splitWith"in e&&a(30,h=e.splitWith),"autoComplete"in e&&a(2,P=e.autoComplete),"autoCompleteFilter"in e&&a(31,y=e.autoCompleteFilter),"autoCompleteKey"in e&&a(32,_=e.autoCompleteKey),"autoCompleteMarkupKey"in e&&a(33,S=e.autoCompleteMarkupKey),"name"in e&&a(3,f=e.name),"id"in e&&a(4,C=e.id),"allowBlur"in e&&a(34,b=e.allowBlur),"disable"in e&&a(5,v=e.disable),"minChars"in e&&a(35,w=e.minChars),"onlyAutocomplete"in e&&a(36,J=e.onlyAutocomplete),"labelText"in e&&a(6,G=e.labelText),"labelShow"in e&&a(7,A=e.labelShow),"readonly"in e&&a(8,T=e.readonly),"onTagClick"in e&&a(9,$=e.onTagClick),"autoCompleteShowKey"in e&&a(10,F=e.autoCompleteShowKey),"onTagAdded"in e&&a(37,X=e.onTagAdded),"onTagRemoved"in e&&a(38,k=e.onTagRemoved),"cleanOnBlur"in e&&a(39,x=e.cleanOnBlur),"customValidation"in e&&a(40,L=e.customValidation),"onTagChange"in e&&a(41,E=e.onTagChange)},e.$$.update=()=>{1&e.$$.dirty[0]&&a(0,l=l||[]),16777216&e.$$.dirty[0]&&a(24,d=d||[13]),33554432&e.$$.dirty[0]&&a(25,r=r||!1),67108864&e.$$.dirty[0]&&a(26,c=c||!1),134217728&e.$$.dirty[0]&&a(27,g=g||[8]),2&e.$$.dirty[0]&&a(1,m=m||""),268435456&e.$$.dirty[0]&&a(28,p=p||!1),536870912&e.$$.dirty[0]&&a(29,u=u||!1),1073741824&e.$$.dirty[0]&&a(30,h=h||","),4&e.$$.dirty[0]&&a(2,P=P||!1),1&e.$$.dirty[1]&&a(31,y=void 0===y),2&e.$$.dirty[1]&&a(32,_=_||!1),4&e.$$.dirty[1]&&a(33,S=S||!1),8&e.$$.dirty[0]&&a(3,f=f||"mgPlayerJSProd_svelte-tags-input"),16&e.$$.dirty[0]&&a(4,C=C||"sti_"+Math.random().toString(36).substring(2,11)),8&e.$$.dirty[1]&&a(34,b=b||!1),32&e.$$.dirty[0]&&a(5,v=v||!1),16&e.$$.dirty[1]&&a(35,w=w??1),32&e.$$.dirty[1]&&a(36,J=J||!1),72&e.$$.dirty[0]&&a(6,G=G||f),128&e.$$.dirty[0]&&a(7,A=A||!1),256&e.$$.dirty[0]&&a(8,T=T||!1),512&e.$$.dirty[0]&&a(9,$=$||function(){}),1024&e.$$.dirty[0]|2&e.$$.dirty[1]&&a(10,F=F||_),64&e.$$.dirty[1]&&a(37,X=X||function(){}),128&e.$$.dirty[1]&&a(38,k=k||function(){}),256&e.$$.dirty[1]&&a(39,x=x||!1),512&e.$$.dirty[1]&&a(40,L=L||!1),16&e.$$.dirty[0]&&(i=C+"_matchs")},[l,m,P,f,C,v,G,A,T,$,F,n,s,M,o,function(t){let r=document.getElementById(i)?.querySelector("li.focus")?.textContent??t.target.value;d&&d.forEach(function(e){e===t.keyCode&&(r&&t.preventDefault(),P&&J&&document.getElementById(i)?I(n?.[s]?.label):I(r))}),g&&g.forEach(function(e){e===t.keyCode&&""===o&&(l.pop(),a(0,l),a(11,n=[]),document.getElementById(C).readOnly=!1,a(1,m=O),document.getElementById(C).focus())}),40===t.keyCode&&P&&document.getElementById(i)?s+1===n.length?a(12,s=0):a(12,s++,s):38===t.keyCode?s<=0?a(12,s=n.length-1):a(12,s--,s):27===t.keyCode&&(a(11,n=[]),document.getElementById(C).focus())},I,R,function(e){p&&(e.preventDefault(),e=e,N(window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):"").map(e=>I(e)))},function(e){u&&(e.preventDefault(),N(e.dataTransfer.getData("Text")).map(e=>I(e)))},function(){M.classList.add("focus")},H,function(){0==w&&V()},V,d,r,c,g,p,u,h,y,_,S,b,w,J,X,k,x,L,E,e=>R(e),function(){o=this.value,a(14,o)},e=>H(e,o),function(e){ue[e?"unshift":"push"](()=>{M=e,a(13,M)})},e=>I(e.label)]}class Ze extends e{constructor(e){super(),t(this,e,Xe,Te,d,{tags:0,addKeys:24,maxTags:25,onlyUnique:26,removeKeys:27,placeholder:1,allowPaste:28,allowDrop:29,splitWith:30,autoComplete:2,autoCompleteFilter:31,autoCompleteKey:32,autoCompleteMarkupKey:33,name:3,id:4,allowBlur:34,disable:5,minChars:35,onlyAutocomplete:36,labelText:6,labelShow:7,readonly:8,onTagClick:9,autoCompleteShowKey:10,onTagAdded:37,onTagRemoved:38,cleanOnBlur:39,customValidation:40,onTagChange:41},he,[-1,-1])}}function qe(e,t,r){e=e.slice();return e[67]=t[r],e}function Ye(e,t,r){e=e.slice();return e[70]=t[r],e}function Ke(e){let r;function a(e){return e[0].isMicroPlayer?Qe:et}let i=a(e),o=i(e);return{c(){o.c(),r=I()},m(e,t){o.m(e,t),Le(e,r,t)},p(e,t){i===(i=a(e))&&o?o.p(e,t):(o.d(1),(o=i(e))&&(o.c(),o.m(r.parentNode,r)))},d(e){e&&Ee(r),o.d(e)}}}function Qe(e){let r,a=e[0].labels.miniPlayerHelp+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_h4 mgPlayerJSProd_theme-mplayer-header-title mgPlayerJSProd_font-size-16 mgPlayerJSProd_float-left mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_text-overflow-ellipsis mgPlayerJSProd_no-margin")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t[0]&&a!==(a=e[0].labels.miniPlayerHelp+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function et(r){let a,i,o,n,s,l,d;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),Fe(o=Me("img"),"id","mgPlayerJSProd_header-brand-logo"),Fe(o,"class","mgPlayerJSProd_logo-image mgPlayerJSProd_width-height-auto mgPlayerJSProd_max-width-height-100 mgPlayerJSProd_custom-image"),Q(o.src,n=r[3])||Fe(o,"src",n),Fe(o,"alt",s=r[0].labels.brandLogo),Fe(i,"class","mgPlayerJSProd_logo-wrapper mgPlayerJSProd_inline-block-vm"),Fe(a,"class","mgPlayerJSProd_panel-brand-logo-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_margin-l-10")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),l||(d=$e(o,"error",r[26]),l=!0)},p(e,t){8&t[0]&&!Q(o.src,n=e[3])&&Fe(o,"src",n),1&t[0]&&s!==(s=e[0].labels.brandLogo)&&Fe(o,"alt",s)},d(e){e&&Ee(a),l=!1,d()}}}function tt(e){let r,a,i,o,n=("left"===e[5]?e[0].labels.movePanelToRight:e[0].labels.movePanelToLeft)+"",s;function l(e){return"right"===e[5]?at:"left"===e[5]?rt:void 0}let d=l(e),c=d&&d(e);return{c(){r=Me("wmgPlayerJSProd_"),c&&c.c(),a=De(),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),s=Ie(n),Fe(o,"class","mgPlayerJSProd_tooltip-title"),Fe(i,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),Fe(r,"class","mgPlayerJSProd_move-panel-btn-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip")},m(e,t){Le(e,r,t),c&&c.m(r,null),xe(r,a),xe(r,i),xe(i,o),xe(o,s)},p(e,t){d===(d=l(e))&&c?c.p(e,t):(c&&c.d(1),(c=d&&d(e))&&(c.c(),c.m(r,a))),33&t[0]&&n!==(n=("left"===e[5]?e[0].labels.movePanelToRight:e[0].labels.movePanelToLeft)+"")&&Oe(s,n)},d(e){e&&Ee(r),c&&c.d()}}}function rt(r){let a,i,o,n;return{c(){Fe(a=Me("button"),"id","mgPlayerJSProd_move-panel-btn-right"),Fe(a,"class","mgPlayerJSProd_move-panel-btn mgPlayerJSProd_move-panel-btn-right mgPlayerJSProd_lbl-btn mgPlayerJSProd_position-center"),Fe(a,"aria-label",i=r[0].labels.movePanelToRight)},m(e,t){Le(e,a,t),o||(n=$e(a,"click",r[28]),o=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.movePanelToRight)&&Fe(a,"aria-label",i)},d(e){e&&Ee(a),o=!1,n()}}}function at(r){let a,i,o,n;return{c(){Fe(a=Me("button"),"id","mgPlayerJSProd_move-panel-btn-left"),Fe(a,"class","mgPlayerJSProd_move-panel-btn mgPlayerJSProd_move-panel-btn-left mgPlayerJSProd_lbl-btn mgPlayerJSProd_position-center"),Fe(a,"aria-label",i=r[0].labels.movePanelToLeft)},m(e,t){Le(e,a,t),o||(n=$e(a,"click",r[27]),o=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.movePanelToLeft)&&Fe(a,"aria-label",i)},d(e){e&&Ee(a),o=!1,n()}}}function it(r){let a,i,o=r[0].svgs.accessibility+"",n,s,l,d,c=r[0].labels.accessibility+"",g,m,p,u=!r[0].maintenance&&"signin"!==de(ge.activeView)&&"forgotpwd"!==de(ge.activeView)&&"chatbot"!==de(ge.activeView)&&"taskList"!==de(ge.activeView),h,P=!r[0].maintenance&&"signin"!==de(ge.activeView)&&"forgotpwd"!==de(ge.activeView),y,_=!r[0].maintenance&&"signin"!==de(ge.activeView)&&"forgotpwd"!==de(ge.activeView)&&GmCXt.isPlayer(),S,f=!r[0].maintenance&&"signin"!==de(ge.activeView)&&"forgotpwd"!==de(ge.activeView)&&!GmCXt.isLXP()&&!r[16](),C,b,v,w=r[0].svgs.close_panel+"",J,G,A,T,X=r[0].labels.closePanel+"",k,x,L,E,M=u&&ot(r),I=P&&nt(r),D=_&&st(r),$=f&&lt(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),s=De(),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),g=Ie(c),p=De(),M&&M.c(),h=De(),I&&I.c(),y=De(),D&&D.c(),S=De(),$&&$.c(),C=De(),b=Me("wmgPlayerJSProd_"),v=Me("button"),G=De(),A=Me("wmgPlayerJSProd_"),T=Me("wmgPlayerJSProd_"),k=Ie(X),Fe(i,"id","mgPlayerJSProd_icon-accessibility"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_accessibility-btn mgPlayerJSProd_position-center "+(GmCXt.accessibility?"mgPlayerJSProd_accessibility-btn-active":"")),Fe(i,"aria-label",n=r[0].labels.accessibility),Fe(d,"class","mgPlayerJSProd_tooltip-title"),Fe(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),Fe(a,"class",m="mgPlayerJSProd_accessibility-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(r[0].isMicroPlayer?"mgPlayerJSProd_header-icon-micro-wrapper":"")),Fe(v,"id","mgPlayerJSProd_icon-close-app-panel"),Fe(v,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_close-panel-btn mgPlayerJSProd_position-center"),Fe(v,"aria-label",J=r[0].labels.closePanel),Fe(v,"type","button"),Fe(T,"class","mgPlayerJSProd_tooltip-title"),Fe(A,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),Fe(b,"class",x="mgPlayerJSProd_header-icon mgPlayerJSProd_close-panel-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(r[0].isMicroPlayer?"mgPlayerJSProd_header-icon-micro-wrapper":""))},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,s),xe(a,l),xe(l,d),xe(d,g),Le(e,p,t),M&&M.m(e,t),Le(e,h,t),I&&I.m(e,t),Le(e,y,t),D&&D.m(e,t),Le(e,S,t),$&&$.m(e,t),Le(e,C,t),Le(e,b,t),xe(b,v),v.innerHTML=w,xe(b,G),xe(b,A),xe(A,T),xe(T,k),L||(E=[$e(i,"click",function(){Y(r[0].setAccessibility)&&r[0].setAccessibility.apply(this,arguments)}),$e(v,"click",function(){Y(r[0].closeAppPanel)&&r[0].closeAppPanel.apply(this,arguments)})],L=!0)},p(e,t){r=e,1&t[0]&&o!==(o=r[0].svgs.accessibility+"")&&(i.innerHTML=o),1&t[0]&&n!==(n=r[0].labels.accessibility)&&Fe(i,"aria-label",n),1&t[0]&&c!==(c=r[0].labels.accessibility+"")&&Oe(g,c),1&t[0]&&m!==(m="mgPlayerJSProd_accessibility-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(r[0].isMicroPlayer?"mgPlayerJSProd_header-icon-micro-wrapper":""))&&Fe(a,"class",m),(u=1&t[0]?!r[0].maintenance&&"signin"!==de(ge.activeView)&&"forgotpwd"!==de(ge.activeView)&&"chatbot"!==de(ge.activeView)&&"taskList"!==de(ge.activeView):u)?M?M.p(r,t):((M=ot(r)).c(),M.m(h.parentNode,h)):M&&(M.d(1),M=null),(P=1&t[0]?!r[0].maintenance&&"signin"!==de(ge.activeView)&&"forgotpwd"!==de(ge.activeView):P)?I?I.p(r,t):((I=nt(r)).c(),I.m(y.parentNode,y)):I&&(I.d(1),I=null),(_=1&t[0]?!r[0].maintenance&&"signin"!==de(ge.activeView)&&"forgotpwd"!==de(ge.activeView)&&GmCXt.isPlayer():_)?D?D.p(r,t):((D=st(r)).c(),D.m(S.parentNode,S)):D&&(D.d(1),D=null),(f=1&t[0]?!r[0].maintenance&&"signin"!==de(ge.activeView)&&"forgotpwd"!==de(ge.activeView)&&!GmCXt.isLXP()&&!r[16]():f)?$?$.p(r,t):(($=lt(r)).c(),$.m(C.parentNode,C)):$&&($.d(1),$=null),1&t[0]&&w!==(w=r[0].svgs.close_panel+"")&&(v.innerHTML=w),1&t[0]&&J!==(J=r[0].labels.closePanel)&&Fe(v,"aria-label",J),1&t[0]&&X!==(X=r[0].labels.closePanel+"")&&Oe(k,X),1&t[0]&&x!==(x="mgPlayerJSProd_header-icon mgPlayerJSProd_close-panel-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(r[0].isMicroPlayer?"mgPlayerJSProd_header-icon-micro-wrapper":""))&&Fe(b,"class",x)},d(e){e&&(Ee(a),Ee(p),Ee(h),Ee(y),Ee(S),Ee(C),Ee(b)),M&&M.d(e),I&&I.d(e),D&&D.d(e),$&&$.d(e),L=!1,ke(E)}}}function ot(r){let a,i,o=r[0].svgs.refresh+"",n,s,l,d,c=r[0].labels.refresh+"",g,m,p,u;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),s=De(),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),g=Ie(c),Fe(i,"id","mgPlayerJSProd_icon-refresh-alldata"),Fe(i,"aria-label",n=r[0].labels.refresh),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_refresh-btn mgPlayerJSProd_position-center"),Fe(d,"class","mgPlayerJSProd_tooltip-title"),Fe(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),Fe(a,"class",m="mgPlayerJSProd_header-icon mgPlayerJSProd_refresh-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(r[0].isMicroPlayer?"mgPlayerJSProd_header-icon-micro-wrapper":""))},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,s),xe(a,l),xe(l,d),xe(d,g),p||(u=$e(i,"click",r[21]),p=!0)},p(e,t){1&t[0]&&o!==(o=e[0].svgs.refresh+"")&&(i.innerHTML=o),1&t[0]&&n!==(n=e[0].labels.refresh)&&Fe(i,"aria-label",n),1&t[0]&&c!==(c=e[0].labels.refresh+"")&&Oe(g,c),1&t[0]&&m!==(m="mgPlayerJSProd_header-icon mgPlayerJSProd_refresh-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(e[0].isMicroPlayer?"mgPlayerJSProd_header-icon-micro-wrapper":""))&&Fe(a,"class",m)},d(e){e&&Ee(a),p=!1,u()}}}function nt(e){let r,a,i,o=e[0].svgs.help_center+"",n,s,l,d,c=e[0].labels.helpCenter+"",g,m;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("a"),i=Me("button"),s=De(),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),g=Ie(c),Fe(i,"id","mgPlayerJSProd_icon-help-center"),Fe(i,"aria-label",n=e[0].labels.helpCenter),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_help-center-btn mgPlayerJSProd_position-center"),Fe(a,"href",Mt()),Fe(a,"target","_blank"),Fe(a,"rel","noopener noreferrer"),Fe(a,"tabindex","-1"),Fe(d,"class","mgPlayerJSProd_tooltip-title"),Fe(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),Fe(r,"class",m="mgPlayerJSProd_header-icon mgPlayerJSProd_help-center-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(e[0].isMicroPlayer?"mgPlayerJSProd_header-icon-micro-wrapper":""))},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),i.innerHTML=o,xe(r,s),xe(r,l),xe(l,d),xe(d,g)},p(e,t){1&t[0]&&o!==(o=e[0].svgs.help_center+"")&&(i.innerHTML=o),1&t[0]&&n!==(n=e[0].labels.helpCenter)&&Fe(i,"aria-label",n),1&t[0]&&c!==(c=e[0].labels.helpCenter+"")&&Oe(g,c),1&t[0]&&m!==(m="mgPlayerJSProd_header-icon mgPlayerJSProd_help-center-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(e[0].isMicroPlayer?"mgPlayerJSProd_header-icon-micro-wrapper":""))&&Fe(r,"class",m)},d(e){e&&Ee(r)}}}function st(r){let a,i,o=r[0].svgs.bell+"",n,s,l,d,c=r[0].labels.pushNotification+"",g,m,p,u;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),s=De(),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),g=Ie(c),Fe(i,"id","mgPlayerJSProd_icon-show-push-notif-dropdown"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_bell-btn mgPlayerJSProd_position-center"),Fe(i,"aria-label",n=r[0].labels.pushNotification),Fe(d,"class","mgPlayerJSProd_tooltip-title"),Fe(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),Fe(a,"class",m="mgPlayerJSProd_header-icon mgPlayerJSProd_bell-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(r[0].isMicroPlayer?"mgPlayerJSProd_header-icon-micro-wrapper":""))},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,s),xe(a,l),xe(l,d),xe(d,g),p||(u=$e(i,"click",r[14]),p=!0)},p(e,t){1&t[0]&&o!==(o=e[0].svgs.bell+"")&&(i.innerHTML=o),1&t[0]&&n!==(n=e[0].labels.pushNotification)&&Fe(i,"aria-label",n),1&t[0]&&c!==(c=e[0].labels.pushNotification+"")&&Oe(g,c),1&t[0]&&m!==(m="mgPlayerJSProd_header-icon mgPlayerJSProd_bell-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(e[0].isMicroPlayer?"mgPlayerJSProd_header-icon-micro-wrapper":""))&&Fe(a,"class",m)},d(e){e&&Ee(a),p=!1,u()}}}function lt(r){let a,i,o=r[0].svgs.navbar+"",n,s,l,d,c=r[0].labels.navigationMenu+"",g,m,p,u;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),s=De(),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),g=Ie(c),Fe(i,"id","mgPlayerJSProd_icon-open-navbar"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_navigation-btn mgPlayerJSProd_position-center"),Fe(i,"aria-label",n=r[0].labels.navigationMenu),Fe(d,"class","mgPlayerJSProd_tooltip-title"),Fe(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),Fe(a,"class",m="mgPlayerJSProd_header-icon mgPlayerJSProd_navigation-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(r[0].isMicroPlayer?"mgPlayerJSProd_header-icon-micro-wrapper":""))},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,s),xe(a,l),xe(l,d),xe(d,g),p||(u=$e(i,"click",r[12]),p=!0)},p(e,t){1&t[0]&&o!==(o=e[0].svgs.navbar+"")&&(i.innerHTML=o),1&t[0]&&n!==(n=e[0].labels.navigationMenu)&&Fe(i,"aria-label",n),1&t[0]&&c!==(c=e[0].labels.navigationMenu+"")&&Oe(g,c),1&t[0]&&m!==(m="mgPlayerJSProd_header-icon mgPlayerJSProd_navigation-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(e[0].isMicroPlayer?"mgPlayerJSProd_header-icon-micro-wrapper":""))&&Fe(a,"class",m)},d(e){e&&Ee(a),p=!1,u()}}}function dt(r){let a,i,o=r[0].svgs.navBar+"",F,n,s,l=0<=r[1]?.image_url?.indexOf("guest_icon")||-1==r[1]?.image_url?.indexOf("png"),d,c=-1==r[1]?.image_url?.indexOf("guest_icon")&&0<=r[1]?.image_url?.indexOf("png"),O,g,m=-1==r[1]?.user_email?.indexOf("anonymous"),p,u,h,P=r[1]?.role?.replace("_"," ").replace(/\b\w/g,It)+"",y,R,_,H=!GmCXt.isPlayer(),N,S,B=!GmCXt.isPlayer(),V,f,C,b=r[0].showLogoutBtn(),v,w,J,G=r[0].labels.versionText+"",A,z,e=GmCXt.conf.version+"",U,T,X,j,k=l&&ct(r),x=c&&gt(r),L=m&&mt(r),E=H&&(e=>{let r,a,i,o,n=e[0].svgs.manageAccount+"",s,l,d=e[0].labels.account+"",c,g,m=e[0].guideSegmentation&&e[0].isOwner()&&!e[0].isWestpac&&!e[0].hideMirrorAppCtrl(),p,u=e[0].isOwnerOrAppAdmin()&&!e[0].hideMirrorAppCtrl(),h,P=m&&ht(e),y=u&&Pt(e),_=!GmCXt.FT.smbApp&&(r=>{let a,i,o=r[0].labels.changePassword+"",n,s,l,d;return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),n=Ie(o),Fe(i,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),Fe(a,"aria-label",s=r[0].labels.changePassword)},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),l||(d=$e(a,"click",r[30]),l=!0)},p(e,t){1&t[0]&&o!==(o=e[0].labels.changePassword+"")&&Oe(n,o),1&t[0]&&s!==(s=e[0].labels.changePassword)&&Fe(a,"aria-label",s)},d(e){e&&Ee(a),l=!1,d()}}})(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),s=De(),l=Me("wmgPlayerJSProd_"),c=Ie(d),g=De(),P&&P.c(),p=De(),y&&y.c(),h=De(),_&&_.c(),Fe(o,"class","mgPlayerJSProd_settings-section-header-icon"),Fe(l,"class","mgPlayerJSProd_h4 mgPlayerJSProd_settings-section-header-title mgPlayerJSProd_no-margin"),Fe(l,"tabindex","0"),Fe(i,"class","mgPlayerJSProd_settings-section-header"),Fe(a,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100"),Fe(r,"class","mgPlayerJSProd_settings-outer-wrapper")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),xe(i,o),o.innerHTML=n,xe(i,s),xe(i,l),xe(l,c),xe(a,g),P&&P.m(a,null),xe(a,p),y&&y.m(a,null),xe(a,h),_&&_.m(a,null)},p(e,t){1&t[0]&&n!==(n=e[0].svgs.manageAccount+"")&&(o.innerHTML=n),1&t[0]&&d!==(d=e[0].labels.account+"")&&Oe(c,d),(m=1&t[0]?e[0].guideSegmentation&&e[0].isOwner()&&!e[0].isWestpac&&!e[0].hideMirrorAppCtrl():m)?P?P.p(e,t):((P=ht(e)).c(),P.m(a,p)):P&&(P.d(1),P=null),(u=1&t[0]?e[0].isOwnerOrAppAdmin()&&!e[0].hideMirrorAppCtrl():u)?y?y.p(e,t):((y=Pt(e)).c(),y.m(a,h)):y&&(y.d(1),y=null),GmCXt.FT.smbApp||_.p(e,t)},d(e){e&&Ee(r),P&&P.d(),y&&y.d(),_&&_.d()}}})(r),M=!r[0].maintenance&&yt(r),I=B&&(e=>{let r,a,i,o=e[0].svgs.iconMore+"",n,s,l=e[0].labels.more+"",d,c,g,m=e[0].hasCreatorAccess()&&GmCXt.FT.manageAccount&&!e[0].isCreator(),p,u=e[0].hasCreatorAccess()&&!e[0].isCreator(),h,P=(e[0].isOwnerOrAppAdmin()||e[0].isCreator())&&!GmCXt.FT.smbApp,y,_=e[0].hasCreatorAccess()&&!e[0].isCreator(),S=GmCXt.FT.taskStatus&&(r=>{let a,i,o=r[0].labels.taskStatus+"",n,s,l,d=r[0].svgs.externalLink+"",c,g,m;return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),n=Ie(o),s=De(),l=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),Fe(l,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(a,"id","mgPlayerJSProd_label-task-status"),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),Fe(a,"aria-label",c=r[0].labels.taskStatus)},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),xe(a,s),xe(a,l),l.innerHTML=d,g||(m=$e(a,"click",r[39]),g=!0)},p(e,t){1&t[0]&&o!==(o=e[0].labels.taskStatus+"")&&Oe(n,o),1&t[0]&&d!==(d=e[0].svgs.externalLink+"")&&(l.innerHTML=d),1&t[0]&&c!==(c=e[0].labels.taskStatus)&&Fe(a,"aria-label",c)},d(e){e&&Ee(a),g=!1,m()}}})(e),f=m&&At(e),C=u&&Tt(e),b=P&&Xt(e),v=_&&kt(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),d=Ie(l),c=De(),S&&S.c(),g=De(),f&&f.c(),p=De(),C&&C.c(),h=De(),b&&b.c(),y=De(),v&&v.c(),Fe(i,"class","mgPlayerJSProd_settings-section-header-icon"),Fe(s,"class","mgPlayerJSProd_h4 mgPlayerJSProd_settings-section-header-title mgPlayerJSProd_no-margin"),Fe(s,"tabindex","0"),Fe(a,"class","mgPlayerJSProd_settings-section-header"),Fe(r,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,d),xe(r,c),S&&S.m(r,null),xe(r,g),f&&f.m(r,null),xe(r,p),C&&C.m(r,null),xe(r,h),b&&b.m(r,null),xe(r,y),v&&v.m(r,null)},p(e,t){1&t[0]&&o!==(o=e[0].svgs.iconMore+"")&&(i.innerHTML=o),1&t[0]&&l!==(l=e[0].labels.more+"")&&Oe(d,l),GmCXt.FT.taskStatus&&S.p(e,t),(m=1&t[0]?e[0].hasCreatorAccess()&&GmCXt.FT.manageAccount&&!e[0].isCreator():m)?f?f.p(e,t):((f=At(e)).c(),f.m(r,p)):f&&(f.d(1),f=null),(u=1&t[0]?e[0].hasCreatorAccess()&&!e[0].isCreator():u)?C?C.p(e,t):((C=Tt(e)).c(),C.m(r,h)):C&&(C.d(1),C=null),(P=1&t[0]?(e[0].isOwnerOrAppAdmin()||e[0].isCreator())&&!GmCXt.FT.smbApp:P)?b?b.p(e,t):((b=Xt(e)).c(),b.m(r,y)):b&&(b.d(1),b=null),(_=1&t[0]?e[0].hasCreatorAccess()&&!e[0].isCreator():_)?v?v.p(e,t):((v=kt(e)).c(),v.m(r,null)):v&&(v.d(1),v=null)},d(e){e&&Ee(r),S&&S.d(),f&&f.d(),C&&C.d(),b&&b.d(),v&&v.d()}}})(r),D=r[0].jsonEditor&&xt(r),$=b&&Lt(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),F=De(),n=Me("wmgPlayerJSProd_"),s=Me("wmgPlayerJSProd_"),k&&k.c(),d=De(),x&&x.c(),O=De(),g=Me("wmgPlayerJSProd_"),L&&L.c(),p=De(),u=Me("wmgPlayerJSProd_"),h=Me("wmgPlayerJSProd_"),y=Ie(P),R=De(),_=Me("wmgPlayerJSProd_"),E&&E.c(),N=De(),M&&M.c(),S=De(),I&&I.c(),V=De(),D&&D.c(),f=De(),C=Me("wmgPlayerJSProd_"),$&&$.c(),v=De(),w=Me("wmgPlayerJSProd_"),J=Me("wmgPlayerJSProd_"),A=Ie(G),z=De(),U=Ie(e),Fe(i,"id","mgPlayerJSProd_icon-close-navbar"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_navbar-close mgPlayerJSProd_inline-block-vm mgPlayerJSProd_cursor-pointer"),Fe(i,"aria-label","Close NavBar"),Fe(s,"class","mgPlayerJSProd_profile-picture mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_inline-block-vm"),Fe(h,"class","mgPlayerJSProd_user-role mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-capitalize mgPlayerJSProd_float-left mgPlayerJSProd_text-overflow-ellipsis"),Fe(h,"tabindex","0"),Fe(u,"class","mgPlayerJSProd_user-role-wrapper mgPlayerJSProd_margin-tb-5"),Fe(g,"class","mgPlayerJSProd_user-info-wrapper mgPlayerJSProd_inline-block-vm"),Fe(n,"class","mgPlayerJSProd_manage-user-profile-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_primary-color mgPlayerJSProd_border-color"),Fe(J,"class","mgPlayerJSProd_version-text mgPlayerJSProd_text-color-light"),Fe(J,"tabindex","0"),Fe(w,"class","mgPlayerJSProd_product-details-wrapper"),Fe(C,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_logout-wrapper mgPlayerJSProd_width-100"),Fe(_,"class","mgPlayerJSProd_player-nav-menu mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y"),Fe(a,"id","mgPlayerJSProd_side-navbar-container"),Fe(a,"class","mgPlayerJSProd_side-navbar-container"),Fe(a,"role","region"),Fe(a,"aria-label","Menu")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,F),xe(a,n),xe(n,s),k&&k.m(s,null),xe(s,d),x&&x.m(s,null),xe(n,O),xe(n,g),L&&L.m(g,null),xe(g,p),xe(g,u),xe(u,h),xe(h,y),xe(a,R),xe(a,_),E&&E.m(_,null),xe(_,N),M&&M.m(_,null),xe(_,S),I&&I.m(_,null),xe(_,V),D&&D.m(_,null),xe(_,f),xe(_,C),$&&$.m(C,null),xe(C,v),xe(C,w),xe(w,J),xe(J,A),xe(J,z),xe(J,U),T=!0,X||(j=$e(i,"click",r[12]),X=!0)},p(e,t){(!T||1&t[0])&&o!==(o=e[0].svgs.navBar+"")&&(i.innerHTML=o),(l=2&t[0]?0<=e[1]?.image_url?.indexOf("guest_icon")||-1==e[1]?.image_url?.indexOf("png"):l)?k?k.p(e,t):((k=ct(e)).c(),k.m(s,d)):k&&(k.d(1),k=null),(c=2&t[0]?-1==e[1]?.image_url?.indexOf("guest_icon")&&0<=e[1]?.image_url?.indexOf("png"):c)?x?x.p(e,t):((x=gt(e)).c(),x.m(s,null)):x&&(x.d(1),x=null),(m=2&t[0]?-1==e[1]?.user_email?.indexOf("anonymous"):m)?L?L.p(e,t):((L=mt(e)).c(),L.m(g,p)):L&&(L.d(1),L=null),(!T||2&t[0])&&P!==(P=e[1]?.role?.replace("_"," ").replace(/\b\w/g,It)+"")&&Oe(y,P),H&&E.p(e,t),e[0].maintenance?M&&(He(),Ve(M,1,1,()=>{M=null}),Ne()):M?(M.p(e,t),1&t[0]&&Be(M,1)):((M=yt(e)).c(),Be(M,1),M.m(_,S)),B&&I.p(e,t),e[0].jsonEditor?D?D.p(e,t):((D=xt(e)).c(),D.m(_,f)):D&&(D.d(1),D=null),(b=1&t[0]?e[0].showLogoutBtn():b)?$?$.p(e,t):(($=Lt(e)).c(),$.m(C,v)):$&&($.d(1),$=null),(!T||1&t[0])&&G!==(G=e[0].labels.versionText+"")&&Oe(A,G)},i(e){T||(Be(M),T=!0)},o(e){Ve(M),T=!1},d(e){e&&Ee(a),k&&k.d(),x&&x.d(),L&&L.d(),E&&E.d(),M&&M.d(),I&&I.d(),D&&D.d(),$&&$.d(),X=!1,j()}}}function ct(e){let r,t,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_position-center mgPlayerJSProd_border-radius-50"),Q(r.src,t=GmCXt.conf.staticContentPath+"user_admin.png")||Fe(r,"src",t),Fe(r,"alt",a=e[1].first_name)},m(e,t){Le(e,r,t)},p(e,t){2&t[0]&&a!==(a=e[1].first_name)&&Fe(r,"alt",a)},d(e){e&&Ee(r)}}}function gt(e){let r,a,i;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_position-center mgPlayerJSProd_custom-image mgPlayerJSProd_border-radius-50"),Q(r.src,a=e[1].image_url+GmCXt.getCdnSign())||Fe(r,"src",a),Fe(r,"alt",i=e[1].first_name),Fe(r,"tabindex","0")},m(e,t){Le(e,r,t)},p(e,t){2&t[0]&&!Q(r.src,a=e[1].image_url+GmCXt.getCdnSign())&&Fe(r,"src",a),2&t[0]&&i!==(i=e[1].first_name)&&Fe(r,"alt",i)},d(e){e&&Ee(r)}}}function mt(e){let r;function a(e){return 15<(e[1].first_name+e[1].last_name).length?ut:pt}let i=a(e),o=i(e);return{c(){r=Me("wmgPlayerJSProd_"),o.c(),Fe(r,"class","mgPlayerJSProd_user-name mgPlayerJSProd_text-capitalize mgPlayerJSProd_theme-color mgPlayerJSProd_font-size-16 mgPlayerJSProd_line-clamp mgPlayerJSProd_line-clamp-1"),Fe(r,"tabindex","0")},m(e,t){Le(e,r,t),o.m(r,null)},p(e,t){i===(i=a(e))&&o?o.p(e,t):(o.d(1),(o=i(e))&&(o.c(),o.m(r,null)))},d(e){e&&Ee(r),o.d()}}}function pt(e){let r=e[1].first_name+"",a,i,o=e[1].last_name+"",n;return{c(){a=Ie(r),i=Ie("Â "),n=Ie(o)},m(e,t){Le(e,a,t),Le(e,i,t),Le(e,n,t)},p(e,t){2&t[0]&&r!==(r=e[1].first_name+"")&&Oe(a,r),2&t[0]&&o!==(o=e[1].last_name+"")&&Oe(n,o)},d(e){e&&(Ee(a),Ee(i),Ee(n))}}}function ut(e){let r=e[1].first_name+"",a,i,o=e[1].last_name+"",n,s,l,d,c=e[1].first_name+"",g,m,p=e[1].last_name+"",u;return{c(){a=Ie(r),i=Ie("Â "),n=Ie(o),s=Ie("...\n\n\t\t\t\t\t\t\t"),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),g=Ie(c),m=Ie("Â "),u=Ie(p),Fe(d,"class","mgPlayerJSProd_tooltip-title"),Fe(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10")},m(e,t){Le(e,a,t),Le(e,i,t),Le(e,n,t),Le(e,s,t),Le(e,l,t),xe(l,d),xe(d,g),xe(d,m),xe(d,u)},p(e,t){2&t[0]&&r!==(r=e[1].first_name+"")&&Oe(a,r),2&t[0]&&o!==(o=e[1].last_name+"")&&Oe(n,o),2&t[0]&&c!==(c=e[1].first_name+"")&&Oe(g,c),2&t[0]&&p!==(p=e[1].last_name+"")&&Oe(u,p)},d(e){e&&(Ee(a),Ee(i),Ee(n),Ee(s),Ee(l))}}}function ht(r){let a,i,o=r[0].labels.manageSegments+"",n,s,l,d=r[0].svgs.externalLink+"",c,g,m;return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),n=Ie(o),s=De(),l=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),Fe(l,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(a,"id","mgPlayerJSProd_icon-change-pass"),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),Fe(a,"aria-label",c=r[0].labels.manageSegments)},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),xe(a,s),xe(a,l),l.innerHTML=d,g||(m=$e(a,"click",function(){Y(r[0].openManageSegments)&&r[0].openManageSegments.apply(this,arguments)}),g=!0)},p(e,t){r=e,1&t[0]&&o!==(o=r[0].labels.manageSegments+"")&&Oe(n,o),1&t[0]&&d!==(d=r[0].svgs.externalLink+"")&&(l.innerHTML=d),1&t[0]&&c!==(c=r[0].labels.manageSegments)&&Fe(a,"aria-label",c)},d(e){e&&Ee(a),g=!1,m()}}}function Pt(r){let a,i,o=r[0].labels.manageSurvey+"",n,s,l,d=r[0].svgs.externalLink+"",c,g,m,p,u=r[0].labels.manageKeywords+"",h,P,y,_=r[0].svgs.externalLink+"",S,f,C,b,v=r[0].labels.findAndReplace+"",w,J,G,A;return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),n=Ie(o),s=De(),l=Me("wmgPlayerJSProd_"),g=De(),m=Me("button"),p=Me("wmgPlayerJSProd_"),h=Ie(u),P=De(),y=Me("wmgPlayerJSProd_"),f=De(),C=Me("button"),b=Me("wmgPlayerJSProd_"),w=Ie(v),Fe(i,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),Fe(l,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(a,"id","mgPlayerJSProd_icon-change-pass"),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),Fe(a,"aria-label",c=r[0].labels.manageSurvey),Fe(p,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),Fe(y,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(m,"id","mgPlayerJSProd_icon-change-pass"),Fe(m,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),Fe(m,"aria-label",S=r[0].labels.manageKeywords),Fe(b,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),Fe(C,"id","mgPlayerJSProd_icon-find-n-replace"),Fe(C,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),Fe(C,"aria-label",J=r[0].labels.findAndReplace)},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),xe(a,s),xe(a,l),l.innerHTML=d,Le(e,g,t),Le(e,m,t),xe(m,p),xe(p,h),xe(m,P),xe(m,y),y.innerHTML=_,Le(e,f,t),Le(e,C,t),xe(C,b),xe(b,w),G||(A=[$e(a,"click",function(){Y(r[0].openSurveyAnalyticsPortal)&&r[0].openSurveyAnalyticsPortal.apply(this,arguments)}),$e(m,"click",function(){Y(r[0].openManageKeywords)&&r[0].openManageKeywords.apply(this,arguments)}),$e(C,"click",r[29])],G=!0)},p(e,t){r=e,1&t[0]&&o!==(o=r[0].labels.manageSurvey+"")&&Oe(n,o),1&t[0]&&d!==(d=r[0].svgs.externalLink+"")&&(l.innerHTML=d),1&t[0]&&c!==(c=r[0].labels.manageSurvey)&&Fe(a,"aria-label",c),1&t[0]&&u!==(u=r[0].labels.manageKeywords+"")&&Oe(h,u),1&t[0]&&_!==(_=r[0].svgs.externalLink+"")&&(y.innerHTML=_),1&t[0]&&S!==(S=r[0].labels.manageKeywords)&&Fe(m,"aria-label",S),1&t[0]&&v!==(v=r[0].labels.findAndReplace+"")&&Oe(w,v),1&t[0]&&J!==(J=r[0].labels.findAndReplace)&&Fe(C,"aria-label",J)},d(e){e&&(Ee(a),Ee(g),Ee(m),Ee(f),Ee(C)),G=!1,ke(A)}}}function yt(e){let r,a,i,o=e[0].svgs.settings+"",n,s,l=e[0].labels.userPref+"",d,c,g=e[15](),m,p,u,h=e[23](),P,y,_=g&&(r=>{let a,i,e=r[0].labels.selectLanguage+"",o,n,s,l,d,c=r[0].selectedLanguage+"",g,m,p,u=r[0].svgs.langExpand+"",h,P,y,_,S,f,C,b=r[0].browserLang+"",v,w,J,G=r[0].selectLanguage(),A,T,X,k,x,L=G&&_t(r),E=D(r[0].languages),M=[];for(let e=0;e<E.length;e+=1)M[e]=Ct(Ye(r,E,e));return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Ie(e),n=De(),s=Me("wmgPlayerJSProd_"),l=Me("button"),d=Me("wmgPlayerJSProd_"),g=Ie(c),m=De(),p=Me("wmgPlayerJSProd_"),y=De(),_=Me("wmgPlayerJSProd_"),S=Me("button"),f=Me("wmgPlayerJSProd_"),C=Ie("Browser Default ("),v=Ie(b),w=Ie(")"),J=De(),L&&L.c(),X=De();for(let e=0;e<M.length;e+=1)M[e].c();Fe(i,"class","mgPlayerJSProd_manage-setting-label"),Fe(d,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-overflow-ellipsis"),Fe(p,"class",h="mgPlayerJSProd_dropdown-collapse-expand mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm "+r[9]),Fe(l,"id","mgPlayerJSProd_label-navbar-lang-selection"),Fe(l,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_dropdown-item mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lang-selection"),Fe(l,"aria-label",P=r[0].selectedLanguage),Fe(f,"class","mgPlayerJSProd_lang-name mgPlayerJSProd_inline-block-vm mgPlayerJSProd_font-size-14"),Fe(S,"id","mgPlayerJSProd_label-navbar-lang-dropdown"),Fe(S,"class",A="mgPlayerJSProd_lbl-btn mgPlayerJSProd_lang-item mgPlayerJSProd_cursor-pointer lang-active mgPlayerJSProd_width-100 "+r[10]),Fe(S,"aria-label",T="Browser Default ("+r[0].browserLang+")"),Fe(_,"class","mgPlayerJSProd_lang-dropdown-wrapper mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max"),Fe(s,"class","mgPlayerJSProd_position-relative"),Fe(a,"class","mgPlayerJSProd_manage-lang-setting-wrapper mgPlayerJSProd_margin-tb-10")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(a,n),xe(a,s),xe(s,l),xe(l,d),xe(d,g),xe(l,m),xe(l,p),p.innerHTML=u,xe(s,y),xe(s,_),xe(_,S),xe(S,f),xe(f,C),xe(f,v),xe(f,w),xe(S,J),L&&L.m(S,null),xe(_,X);for(let e=0;e<M.length;e+=1)M[e]&&M[e].m(_,null);k||(x=[$e(l,"click",r[17]),$e(S,"click",r[31])],k=!0)},p(t,r){if(1&r[0]&&e!==(e=t[0].labels.selectLanguage+"")&&Oe(o,e),1&r[0]&&c!==(c=t[0].selectedLanguage+"")&&Oe(g,c),1&r[0]&&u!==(u=t[0].svgs.langExpand+"")&&(p.innerHTML=u),512&r[0]&&h!==(h="mgPlayerJSProd_dropdown-collapse-expand mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm "+t[9])&&Fe(p,"class",h),1&r[0]&&P!==(P=t[0].selectedLanguage)&&Fe(l,"aria-label",P),1&r[0]&&b!==(b=t[0].browserLang+"")&&Oe(v,b),(G=1&r[0]?t[0].selectLanguage():G)?L?L.p(t,r):((L=_t(t)).c(),L.m(S,null)):L&&(L.d(1),L=null),1024&r[0]&&A!==(A="mgPlayerJSProd_lbl-btn mgPlayerJSProd_lang-item mgPlayerJSProd_cursor-pointer lang-active mgPlayerJSProd_width-100 "+t[10])&&Fe(S,"class",A),1&r[0]&&T!==(T="Browser Default ("+t[0].browserLang+")")&&Fe(S,"aria-label",T),524289&r[0]){E=D(t[0].languages);let e;for(e=0;e<E.length;e+=1){var a=Ye(t,E,e);M[e]?M[e].p(a,r):(M[e]=Ct(a),M[e].c(),M[e].m(_,null))}for(;e<M.length;e+=1)M[e].d(1);M.length=E.length}},d(e){e&&Ee(a),L&&L.d(),F(M,e),k=!1,ke(x)}}})(e),S=GmCXt.FT.isPlayer&&e[6]&&bt(e),f=(GmCXt.FT.creatorApp||e[0].playerMode)&&Jt(e),C=h&&(t=>{let r,a,i,o=t[0].labels.guideSegmentation+"",n,s,l,d,c,g,m,p,u;function e(e){t[38](e)}var h={placeholder:t[0].labels.selectSegment,autoComplete:t[36],autoCompleteKey:"title",onlyAutocomplete:!0,onlyUnique:!0,onTagChange:t[37]};void 0!==t[7]&&(h.tags=t[7]),g=new Ze({props:h}),ue.push(()=>j(g,"tags",e));let P=t[0].allSegments&&0==t[0].allSegments?.length&&!t[0].isWestpacCreator&&Gt(t);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=Ie(o),s=De(),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),c=Me("wmgPlayerJSProd_"),ze(g.$$.fragment),p=De(),P&&P.c(),Fe(i,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_player-mode-setting mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-overflow-ellipsis mgPlayerJSProd_font-size-13 mgPlayerJSProd_font-weight-600"),Fe(i,"tabindex","0"),Fe(a,"class","mgPlayerJSProd_setting-item mgPlayerJSProd_no-hover-effect"),Fe(d,"id","segmentation"),Fe(d,"class","mgPlayerJSProd_tour-setting-items-details"),Fe(l,"class","mgPlayerJSProd_display-block mgPlayerJSProd_setting-item mgPlayerJSProd_no-hover-effect mgPlayerJSProd_show-segment-selector"),Fe(r,"class","mgPlayerJSProd_segment-selector-wrapper")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),xe(i,n),xe(r,s),xe(r,l),xe(l,d),xe(d,c),Ue(g,c,null),xe(d,p),P&&P.m(d,null),u=!0},p(e,t){(!u||1&t[0])&&o!==(o=e[0].labels.guideSegmentation+"")&&Oe(n,o);var r={};1&t[0]&&(r.placeholder=e[0].labels.selectSegment),1&t[0]&&(r.autoComplete=e[36]),!m&&128&t[0]&&(m=!0,r.tags=e[7],U(()=>m=!1)),g.$set(r),e[0].allSegments&&0==e[0].allSegments?.length&&!e[0].isWestpacCreator?P?P.p(e,t):((P=Gt(e)).c(),P.m(d,null)):P&&(P.d(1),P=null)},i(e){u||(Be(g.$$.fragment,e),u=!0)},o(e){Ve(g.$$.fragment,e),u=!1},d(e){e&&Ee(r),je(g),P&&P.d()}}})(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),d=Ie(l),c=De(),_&&_.c(),m=De(),S&&S.c(),p=De(),f&&f.c(),u=De(),C&&C.c(),P=I(),Fe(i,"class","mgPlayerJSProd_settings-section-header-icon mgPlayerJSProd_settings-icon"),Fe(s,"class","mgPlayerJSProd_h4 mgPlayerJSProd_settings-section-header-title mgPlayerJSProd_no-margin"),Fe(s,"tabindex","0"),Fe(a,"class","mgPlayerJSProd_settings-section-header"),Fe(r,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,d),xe(r,c),_&&_.m(r,null),xe(r,m),S&&S.m(r,null),xe(r,p),f&&f.m(r,null),Le(e,u,t),C&&C.m(e,t),Le(e,P,t),y=!0},p(e,t){(!y||1&t[0])&&o!==(o=e[0].svgs.settings+"")&&(i.innerHTML=o),(!y||1&t[0])&&l!==(l=e[0].labels.userPref+"")&&Oe(d,l),g&&_.p(e,t),GmCXt.FT.isPlayer&&e[6]?S?S.p(e,t):((S=bt(e)).c(),S.m(r,p)):S&&(S.d(1),S=null),GmCXt.FT.creatorApp||e[0].playerMode?f?f.p(e,t):((f=Jt(e)).c(),f.m(r,null)):f&&(f.d(1),f=null),h&&C.p(e,t)},i(e){y||(Be(C),y=!0)},o(e){Ve(C),y=!1},d(e){e&&(Ee(r),Ee(u),Ee(P)),_&&_.d(),S&&S.d(),f&&f.d(),C&&C.d(e)}}}function _t(e){let r,a=e[0].svgs.langSelect+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_lang-select mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm")},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t[0]&&a!==(a=e[0].svgs.langSelect+"")&&(r.innerHTML=a)},d(e){e&&Ee(r)}}}function St(r){let a,i,o=r[70].name+"",n,s,l,d,c,g,m,p=r[0].selectedLanguage==r[70].name&&GmCXt.userPrefLang&&ft(r);return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),n=Ie(o),s=De(),p&&p.c(),l=De(),Fe(i,"class","mgPlayerJSProd_lang-name mgPlayerJSProd_inline-block-vm"),Fe(a,"id","mgPlayerJSProd_label-change-lang"),Fe(a,"class",d="mgPlayerJSProd_lbl-btn mgPlayerJSProd_lang-item mgPlayerJSProd_cursor-pointer lang-active "+(r[0].selectedLanguage==r[70].name&&GmCXt.userPrefLang?"mgPlayerJSProd_lang-selected":"")),Fe(a,"aria-label",c=r[70].name)},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),xe(a,s),p&&p.m(a,null),xe(a,l),g||(m=$e(a,"click",function(){Y(r[19](r[70]))&&r[19](r[70]).apply(this,arguments)}),g=!0)},p(e,t){r=e,1&t[0]&&o!==(o=r[70].name+"")&&Oe(n,o),r[0].selectedLanguage==r[70].name&&GmCXt.userPrefLang?p?p.p(r,t):((p=ft(r)).c(),p.m(a,l)):p&&(p.d(1),p=null),1&t[0]&&d!==(d="mgPlayerJSProd_lbl-btn mgPlayerJSProd_lang-item mgPlayerJSProd_cursor-pointer lang-active "+(r[0].selectedLanguage==r[70].name&&GmCXt.userPrefLang?"mgPlayerJSProd_lang-selected":""))&&Fe(a,"class",d),1&t[0]&&c!==(c=r[70].name)&&Fe(a,"aria-label",c)},d(e){e&&Ee(a),p&&p.d(),g=!1,m()}}}function ft(e){let r,a=e[0].svgs.langSelect+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_lang-select mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm mgPlayerJSProd_margin-lr-10")},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t[0]&&a!==(a=e[0].svgs.langSelect+"")&&(r.innerHTML=a)},d(e){e&&Ee(r)}}}function Ct(e){let r,a=0!=e[70].language.length&&St(e);return{c(){a&&a.c(),r=I()},m(e,t){a&&a.m(e,t),Le(e,r,t)},p(e,t){0!=e[70].language.length?a?a.p(e,t):((a=St(e)).c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(e){e&&Ee(r),a&&a.d(e)}}}function bt(r){let a,i,e=r[0].labels.displayGuidesFrom+"",o,n,s,l,d,c=(!0===r[0].showGuidesFromDesktopApp?r[0].labels.desktop:r[0].labels.web)+"",g,m,p,u=r[0].svgs.langExpand+"",h,P,y,_,S,f,C=D(r[11]),b=[];for(let e=0;e<C.length;e+=1)b[e]=wt(qe(r,C,e));return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Ie(e),n=De(),s=Me("wmgPlayerJSProd_"),l=Me("button"),d=Me("wmgPlayerJSProd_"),g=Ie(c),m=De(),p=Me("wmgPlayerJSProd_"),y=De(),_=Me("wmgPlayerJSProd_");for(let e=0;e<b.length;e+=1)b[e].c();Fe(i,"class","mgPlayerJSProd_manage-setting-label"),Fe(d,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-overflow-ellipsis"),Fe(p,"class",h="mgPlayerJSProd_dropdown-collapse-expand mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm "+(r[8]?"mgPlayerJSProd_rotate-180":"")),Fe(l,"id","mgPlayerJSProd_label-app-selection"),Fe(l,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_dropdown-item mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lang-selection"),Fe(l,"aria-label",P=!0===r[0].showGuidesFromDesktopApp?r[0].labels.desktop:r[0].labels.web),Fe(_,"class","mgPlayerJSProd_app-filter-dropdown-wrapper mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max mgPlayerJSProd_width-100"),Fe(s,"class","mgPlayerJSProd_position-relative"),Fe(a,"class","mgPlayerJSProd_manage-lang-setting-wrapper mgPlayerJSProd_padding-tb-10")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(a,n),xe(a,s),xe(s,l),xe(l,d),xe(d,g),xe(l,m),xe(l,p),p.innerHTML=u,xe(s,y),xe(s,_);for(let e=0;e<b.length;e+=1)b[e]&&b[e].m(_,null);S||(f=$e(l,"click",r[18]),S=!0)},p(t,r){if(1&r[0]&&e!==(e=t[0].labels.displayGuidesFrom+"")&&Oe(o,e),1&r[0]&&c!==(c=(!0===t[0].showGuidesFromDesktopApp?t[0].labels.desktop:t[0].labels.web)+"")&&Oe(g,c),1&r[0]&&u!==(u=t[0].svgs.langExpand+"")&&(p.innerHTML=u),256&r[0]&&h!==(h="mgPlayerJSProd_dropdown-collapse-expand mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm "+(t[8]?"mgPlayerJSProd_rotate-180":""))&&Fe(p,"class",h),1&r[0]&&P!==(P=!0===t[0].showGuidesFromDesktopApp?t[0].labels.desktop:t[0].labels.web)&&Fe(l,"aria-label",P),6145&r[0]){C=D(t[11]);let e;for(e=0;e<C.length;e+=1){var a=qe(t,C,e);b[e]?b[e].p(a,r):(b[e]=wt(a),b[e].c(),b[e].m(_,null))}for(;e<b.length;e+=1)b[e].d(1);b.length=C.length}},d(e){e&&Ee(a),F(b,e),S=!1,f()}}}function vt(e){let r,a=e[0].svgs.langSelect+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_lang-select mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm")},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t[0]&&a!==(a=e[0].svgs.langSelect+"")&&(r.innerHTML=a)},d(e){e&&Ee(r)}}}function wt(e){let r,a=0!=e[67].name.length&&(r=>{let a,i,o,n,s,l,d,c=r[0].showGuidesFromDesktopApp==r[67].value&&vt(r);function g(){return r[32](r[67])}return{c(){a=Me("button"),(i=Me("wmgPlayerJSProd_")).textContent=""+r[67].name,o=De(),c&&c.c(),n=De(),Fe(i,"class","mgPlayerJSProd_lang-name mgPlayerJSProd_inline-block-vm"),Fe(a,"id","mgPlayerJSProd_app-filter-dropdown-option-"+r[67].name),Fe(a,"class",s="mgPlayerJSProd_lbl-btn mgPlayerJSProd_lang-item mgPlayerJSProd_cursor-pointer "+(r[0].showGuidesFromDesktopApp==r[67].value?"mgPlayerJSProd_lang-selected mgPlayerJSProd_pointer-events-none":"")),Fe(a,"aria-label",r[67].name)},m(e,t){Le(e,a,t),xe(a,i),xe(a,o),c&&c.m(a,null),xe(a,n),l||(d=$e(a,"click",g),l=!0)},p(e,t){(r=e)[0].showGuidesFromDesktopApp==r[67].value?c?c.p(r,t):((c=vt(r)).c(),c.m(a,n)):c&&(c.d(1),c=null),1&t[0]&&s!==(s="mgPlayerJSProd_lbl-btn mgPlayerJSProd_lang-item mgPlayerJSProd_cursor-pointer "+(r[0].showGuidesFromDesktopApp==r[67].value?"mgPlayerJSProd_lang-selected mgPlayerJSProd_pointer-events-none":""))&&Fe(a,"class",s)},d(e){e&&Ee(a),c&&c.d(),l=!1,d()}}})(e);return{c(){a&&a.c(),r=I()},m(e,t){a&&a.m(e,t),Le(e,r,t)},p(e,t){0!=e[67].name.length&&a.p(e,t)},d(e){e&&Ee(r),a&&a.d(e)}}}function Jt(r){let a,i,o=r[0].labels.playerMode+"",n,s,l,d,c,g,m,p,u,h;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=Ie(o),s=De(),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),c=Me("input"),g=De(),m=Me("button"),Fe(i,"id","mgPlayerJSProd_label-player-mode"),Fe(i,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_player-mode-setting mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-overflow-ellipsis"),Fe(i,"tabindex","0"),Fe(c,"class","mgPlayerJSProd_user-pref-scope"),Fe(c,"type","checkbox"),Fe(c,"aria-labelledby","mgPlayerJSProd_label-player-mode"),Fe(m,"class","mgPlayerJSProd_custom-slider mgPlayerJSProd_user-pref-scope mgPlayerJSProd_lbl-btn"),Fe(m,"aria-label",p=r[0].labels.playerMode),Fe(d,"class","mgPlayerJSProd_custom-checkbox"),Fe(l,"class","mgPlayerJSProd_option-checkbox"),Fe(a,"class","mgPlayerJSProd_setting-item mgPlayerJSProd_no-hover-effect")},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),xe(a,s),xe(a,l),xe(l,d),xe(d,c),c.checked=r[0].showPlayer,xe(d,g),xe(d,m),u||(h=[$e(c,"change",r[33]),$e(c,"change",r[34]),$e(m,"click",r[35])],u=!0)},p(e,t){1&t[0]&&o!==(o=e[0].labels.playerMode+"")&&Oe(n,o),1&t[0]&&(c.checked=e[0].showPlayer),1&t[0]&&p!==(p=e[0].labels.playerMode)&&Fe(m,"aria-label",p)},d(e){e&&Ee(a),u=!1,ke(h)}}}function Gt(e){let r,a=e[0].labels.noSegmentsAdded+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_margin-tb-5")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t[0]&&a!==(a=e[0].labels.noSegmentsAdded+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function At(r){let a,i,o,n=r[0].labels.manageAccount+"",s,l,d,c=r[0].svgs.externalLink+"",g,m,p;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),o=Me("wmgPlayerJSProd_"),s=Ie(n),l=De(),d=Me("wmgPlayerJSProd_"),Fe(o,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),Fe(d,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(i,"id","mgPlayerJSProd_label-analytics-portal"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),Fe(i,"aria-label",g=r[0].labels.manageAccount),Fe(a,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,s),xe(i,l),xe(i,d),d.innerHTML=c,m||(p=$e(i,"click",function(){Y(r[0].openAdminPortal())&&r[0].openAdminPortal().apply(this,arguments)}),m=!0)},p(e,t){r=e,1&t[0]&&n!==(n=r[0].labels.manageAccount+"")&&Oe(s,n),1&t[0]&&c!==(c=r[0].svgs.externalLink+"")&&(d.innerHTML=c),1&t[0]&&g!==(g=r[0].labels.manageAccount)&&Fe(i,"aria-label",g)},d(e){e&&Ee(a),m=!1,p()}}}function Tt(r){let a,i,o,n=r[0].labels.customizationCenter+"",s,l,d,c=r[0].svgs.externalLink+"",g,m,p;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),o=Me("wmgPlayerJSProd_"),s=Ie(n),l=De(),d=Me("wmgPlayerJSProd_"),Fe(o,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),Fe(d,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(i,"id","mgPlayerJSProd_label-analytics-portal"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),Fe(i,"aria-label",g=r[0].labels.customizationCenter),Fe(a,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,s),xe(i,l),xe(i,d),d.innerHTML=c,m||(p=$e(i,"click",function(){Y(r[0].openCustCenter())&&r[0].openCustCenter().apply(this,arguments)}),m=!0)},p(e,t){r=e,1&t[0]&&n!==(n=r[0].labels.customizationCenter+"")&&Oe(s,n),1&t[0]&&c!==(c=r[0].svgs.externalLink+"")&&(d.innerHTML=c),1&t[0]&&g!==(g=r[0].labels.customizationCenter)&&Fe(i,"aria-label",g)},d(e){e&&Ee(a),m=!1,p()}}}function Xt(r){let a,i,o,n=r[0].labels.analyticsPortal+"",s,l,d,c=r[0].svgs.externalLink+"",g,m,p;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),o=Me("wmgPlayerJSProd_"),s=Ie(n),l=De(),d=Me("wmgPlayerJSProd_"),Fe(o,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),Fe(d,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(i,"id","mgPlayerJSProd_label-analytics-portal"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),Fe(i,"aria-label",g=r[0].labels.analyticsPortal),Fe(a,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,s),xe(i,l),xe(i,d),d.innerHTML=c,m||(p=$e(i,"click",r[40]),m=!0)},p(e,t){1&t[0]&&n!==(n=e[0].labels.analyticsPortal+"")&&Oe(s,n),1&t[0]&&c!==(c=e[0].svgs.externalLink+"")&&(d.innerHTML=c),1&t[0]&&g!==(g=e[0].labels.analyticsPortal)&&Fe(i,"aria-label",g)},d(e){e&&Ee(a),m=!1,p()}}}function kt(e){let r,a,i,o=e[0].labels.defaultMiniPlayerHelp+"",n,s,l,d=e[0].svgs.externalLink+"",c;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("a"),i=Me("wmgPlayerJSProd_"),n=Ie(o),s=De(),l=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),Fe(l,"id","mgPlayerJSProd_icon-help-center"),Fe(l,"aria-label",c=e[0].labels.defaultMiniPlayerHelp),Fe(l,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(a,"class","mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer mgPlayerJSProd_text-decoration-none mgPlayerJSProd_box-sizing mgPlayerJSProd_border-box"),Fe(a,"href",Mt()),Fe(a,"target","_blank"),Fe(a,"rel","noopener noreferrer"),Fe(r,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),xe(i,n),xe(a,s),xe(a,l),l.innerHTML=d},p(e,t){1&t[0]&&o!==(o=e[0].labels.defaultMiniPlayerHelp+"")&&Oe(n,o),1&t[0]&&d!==(d=e[0].svgs.externalLink+"")&&(l.innerHTML=d),1&t[0]&&c!==(c=e[0].labels.defaultMiniPlayerHelp)&&Fe(l,"aria-label",c)},d(e){e&&Ee(r)}}}function xt(r){let a,i,o,n=r[0].svgs.edit+"",s,l,d,c;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),s=De(),(l=Me("wmgPlayerJSProd_")).textContent="Edit Org JSON",Fe(o,"class","mgPlayerJSProd_json-editor-icon mgPlayerJSProd_settings-section-header-icon"),Fe(l,"class","mgPlayerJSProd_h4 mgPlayerJSProd_settings-section-header-title mgPlayerJSProd_no-margin"),Fe(i,"class","mgPlayerJSProd_settings-section-header"),Fe(a,"id","mgPlayerJSProd_icon-edit-org-json"),Fe(a,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_cursor-pointer")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),o.innerHTML=n,xe(i,s),xe(i,l),d||(c=$e(a,"click",function(){Y(r[0].editJson(r[2],"org"))&&r[0].editJson(r[2],"org").apply(this,arguments)}),d=!0)},p(e,t){r=e,1&t[0]&&n!==(n=r[0].svgs.edit+"")&&(o.innerHTML=n)},d(e){e&&Ee(a),d=!1,c()}}}function Lt(r){let a,i,o=r[0].labels.logoutBtn+"",n,s,l,d;return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),n=Ie(o),Fe(i,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),Fe(a,"id","mgPlayerJSProd_label-logout-btn"),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),Fe(a,"aria-label",s=r[0].labels.logoutBtn)},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),l||(d=$e(a,"click",r[41]),l=!0)},p(e,t){1&t[0]&&o!==(o=e[0].labels.logoutBtn+"")&&Oe(n,o),1&t[0]&&s!==(s=e[0].labels.logoutBtn)&&Fe(a,"aria-label",s)},d(e){e&&Ee(a),l=!1,d()}}}function Et(e){let r,a=!e[0].maintenance&&"signin"!==de(ge.activeView),i,o,n,s,l=e[0].navBarVisible&&"signin"!==de(ge.activeView),d,c,g=a&&Ke(e),m=(e[4]===GmCXt.STEP_EDIT_OPERATION||e[4]===GmCXt.STEP_CREATE_OPERATION)&&tt(e),p=e[4]===GmCXt.STEP_VIEW_OPERATION&&it(e),u=l&&dt(e);return{c(){r=Me("wmgPlayerJSProd_"),g&&g.c(),i=De(),o=Me("wmgPlayerJSProd_"),m&&m.c(),n=De(),p&&p.c(),s=De(),u&&u.c(),d=I(),Fe(o,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_float-right"),Fe(r,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100")},m(e,t){Le(e,r,t),g&&g.m(r,null),xe(r,i),xe(r,o),m&&m.m(o,null),xe(o,n),p&&p.m(o,null),Le(e,s,t),u&&u.m(e,t),Le(e,d,t),c=!0},p(e,t){(a=1&t[0]?!e[0].maintenance&&"signin"!==de(ge.activeView):a)?g?g.p(e,t):((g=Ke(e)).c(),g.m(r,i)):g&&(g.d(1),g=null),e[4]===GmCXt.STEP_EDIT_OPERATION||e[4]===GmCXt.STEP_CREATE_OPERATION?m?m.p(e,t):((m=tt(e)).c(),m.m(o,n)):m&&(m.d(1),m=null),e[4]===GmCXt.STEP_VIEW_OPERATION?p?p.p(e,t):((p=it(e)).c(),p.m(o,null)):p&&(p.d(1),p=null),(l=1&t[0]?e[0].navBarVisible&&"signin"!==de(ge.activeView):l)?u?(u.p(e,t),1&t[0]&&Be(u,1)):((u=dt(e)).c(),Be(u,1),u.m(d.parentNode,d)):u&&(He(),Ve(u,1,1,()=>{u=null}),Ne())},i(e){c||(Be(u),c=!0)},o(e){Ve(u),c=!1},d(e){e&&(Ee(r),Ee(s),Ee(d)),g&&g.d(),m&&m.d(),p&&p.d(),u&&u.d(e)}}}function Mt(){var e=GmCXt.getOrgSettings();let t;return(t=GmCXt.isEmpty(e)||GmCXt.isEmpty(e.helpUrl)?t:GmCXt.addHttpIfMissing(e.helpUrl))||GmCXt.model.organization.settings._obj.helpUrl._default}let It=e=>e.toUpperCase();function Dt(e,t,r){let a={},i={},o=!1,n="",{unique:s={}}=t,l=de(ge.stepOperationMode),d="right",c=!1;GmCXt.isEmpty(GmCXt.appList)||(c=!GmCXt.isEmpty(Object.values(GmCXt.appList).filter(e=>"electron"===e.type)));let g,m=!1;t=[{name:ce.labels.web,value:!1},{name:ce.labels.desktop,value:!0}];let p=ge.panelAlignment.subscribe(e=>{r(5,d=e)}),u=ge.CurrentPage.subscribe(e=>{}),h=ge.selectedLang.subscribe(e=>{}),P=ge.lanDropDownVisible.subscribe(e=>{r(25,o=e)}),y=ge.stepEditMode.subscribe(e=>{}),_=ge.stepOperationMode.subscribe(e=>{r(4,l=e)});function S(){ce.navBarVisible&&mg$(".mgPlayerJSProd_player-nav-menu").css({height:mg$(".mgPlayerJSProd_panel").innerHeight()-mg$(".mgPlayerJSProd_manage-user-profile-wrapper").innerHeight()-mg$(".mgPlayerJSProd_logout-wrapper").innerHeight()-30})}function f(){ce.addPanelOverlay(),r(0,ce.navBarVisible=mg$("#mgPlayerJSProd_side-navbar-container").is(":visible"),ce),ce.navBarVisible?(r(0,ce.navBarVisible=!1,ce),ce.hidePanelOverlay()):(r(0,ce.navBarVisible=!0,ce),ce.showPanelOverlay(),GmCXt.timeout(function(){S()},500))}function C(){"currentpage"!==de(ge.CurrentPage)?(ce.setCurrentPage("allguides"),ge.allCategories.set([]),ge.breadCrumb.set([]),r(0,ce.refreshAllGuides=!0,ce)):ge.refreshCurrentPageView.set(!0)}function b(e){GmCXt.isEmpty(g)?GmCXt.storage().remove(["gmSelectedSegment"]):(r(0,ce.selectedSegments=[...g],ce),GmCXt.storage().set({gmSelectedSegment:JSON.stringify(ce.selectedSegments)})),C()}ce.showLogoutBtn(),mg$(window).on("resize",S),GmCXt.storage().get(["gmSelectedSegment"]).then(function(e){GmCXt.isEmpty(e)||GmCXt.isEmpty(e.gmSelectedSegment)||(e=GmCXt.parseJSON(e.gmSelectedSegment),GmCXt.isEmpty(e))||r(7,g=[...e])}),me(()=>{r(2,i=GmCXt.organization),h(),ce.language,GmCXt.isPlayer()&&ce.bindPlayerTheme()}),a=ce.user;function v(e){e.stopPropagation(),r(25,o=!1),mg$(".mgPlayerJSProd_lang-dropdown-wrapper").slideUp(100)}function w(e){e.stopPropagation(),r(8,m=!1),mg$(".mgPlayerJSProd_app-filter-dropdown-wrapper").slideUp(100)}let J=function(e){var t=GmCXt.user;GmCXt.isEmpty(t)||(ce.checkAppList().then(function(){!GmCXt.isEmpty(GmCXt.appList)&&GmCXt.activeAppId&&r(0,ce.selectedApp=GmCXt.appList["app:"+GmCXt.activeAppId].title,ce)}),r(3,n=GmCXt.brandLogo()),r(3,n=ce.currBrandLogo||n))};function G(e){r(0,ce.labels=GmCXt.getAllLabels(e.language),ce),r(0,ce.language=e.language,ce),GmCXt.language=e.language,GmCXt.saveToStorage("activeLang",e.language),GmCXt.saveToStorage("activeVoice",e.voice),r(0,ce.languageVoice=e.voice,ce),r(0,ce.selectedLanguage=e.name,ce),ce.updateLabels(),ce.resetNotificationData(),ce.setNotifTours(),J(),r(25,o=!1),mg$(".mgPlayerJSProd_lang-dropdown-wrapper").slideUp(100),GmCXt.refreshView=!0,r(24,s={}),ge.labels.set(ce.labels),f(),GmCXt.FT.creatorApp?(ce.setCurrentPage("allguides"),ge.allCategories.set([]),ge.breadCrumb.set([]),r(0,ce.refreshAllGuides=!0,ce),r(0,ce.allTourList={},ce)):ce.setCurrentPage("currentpage")}let A=t=>{let e=!1;t?t.language&&-1!==t.language.indexOf("en-")&&r(0,ce.contextTours=[],ce):(e=!0,r(0,ce.contextTours=[],ce)),t&&t.name?(GmCXt.saveToStorage("userPrefLang",t.language),GmCXt.userPrefLang=t.language):(t=ce.defaultLang,ce.languages.filter(function(e){e.language===ce.browserLang&&(t=e)}),GmCXt.saveToStorage("userPrefLang",!1),GmCXt.userPrefLang=!1),GmCXt.getLanguageLabels(t.language,!0).then(function(){GmCXt.isPlayer()?(G(t),e?ge.selectedLang.set("default"):ge.selectedLang.set(t.language)):GmCXt.getLanguageLabels(t.language,!1).then(function(){G(t),e?ge.selectedLang.set("default"):ge.selectedLang.set(t.language)})})},T=(e,t)=>{ce.showLoading(),f(),"findNReplace"===e&&(e=t,ge.activeView.set("findNReplace"),e)&&e.step_settings&&e.step_settings.element&&ge.routeAction.set({action:"findNReplace",data:{auto_jquery:e.step_settings.element.criteria.auto_jquery,jquery_selector:e.step_settings.element.criteria.jquery_selector}}),mg$(".mgPlayerJSProd_ege-login-logout-wrapper").slideUp(200),mg$(".mgPlayerJSProd_ege-user-image-wrapper").removeClass("active")},X=ge.routeAction.subscribe(e=>{e&&"stepFindNReplace"===e.action&&e.data&&T("findNReplace",e.data.step)});function k(e){r(5,d=e),ge.panelAlignment.set(e),"left"===d?mg$(".mgPlayerJSProd_ege-panel").css({left:"0",right:"initial"}):"right"===d&&mg$(".mgPlayerJSProd_ege-panel").css({right:"0",left:"initial"})}me(J),pe(()=>{u(),p(),P(),y(),_(),X()});let x="";var L;return e.$$set=e=>{"unique"in e&&r(24,s=e.unique)},e.$$.update=()=>{33554432&e.$$.dirty[0]&&r(9,x=o?"mgPlayerJSProd_rotate-180":"")},r(10,L=GmCXt.userPrefLang?"":"mgPlayerJSProd_lang-selected"),[ce,a,i,n,l,d,c,g,m,x,L,t,f,b,function(){mg$("#mgPlayerJSProd_svelte-notification-modal").length||new le({target:mg$(".mgPlayerJSProd_bell-btn-wrapper")[0],props:{pushNotificationDropdown:!0}})},function(){return!!(ce.enableTranslation&&1<ce.languages.length)},function(){return!(!GmCXt.isPlayer()||!a||-1===a.user_email.indexOf("anonymous")||(()=>{if(GmCXt.organization){var e=GmCXt.organization.admin_settings;if(e.guide_translation&&e.language_settings&&e.language_settings.translations.length)return!0}return!1})())},function(e){e.stopPropagation(),o?v(e):(r(25,o=!0),mg$(".mgPlayerJSProd_lang-dropdown-wrapper").slideDown(200)),e.stopPropagation(),mg$(".mgPlayerJSProd_setting-dropdown-userPref").slideUp(100),w(e),S()},function(e){e.stopPropagation(),m?w(e):(r(8,m=!0),mg$(".mgPlayerJSProd_app-filter-dropdown-wrapper").slideDown(200)),v(e),S()},A,T,()=>{GmCXt.refreshBtnClickTime&&Date.now()-GmCXt.refreshBtnClickTime<1500||(ce.showLoading(),GmCXt.refreshBtnClickTime=Date.now(),"taskStatus"===de(ge.activeView)?ce.setActivePage("taskStatus"):(J(),ce.refreshAllData()))},k,function(){return!(!ce.showPlayer||GmCXt.conf.appName===GmCXt.conf.playerApp||!ce.guideSegmentation||GmCXt.isWestpac()||ce.showGuidesFromDesktopApp)},s,o,e=>{e.target.src=ce.staticContentPath+"myguide.png"},()=>k("left"),()=>k("right"),()=>T("findNReplace"),()=>{ce.showLoading(),ge.activeView.set("changePw"),f()},()=>A(""),e=>{ce.showLoading(),ce.switchAppType(e.value),f()},function(){ce.showPlayer=this.checked,r(0,ce)},()=>{ce.showLoading(),ce.togglePlayerMode(),f()},()=>{ce.showLoading(),r(0,ce.showPlayer=!ce.showPlayer,ce),ce.togglePlayerMode(),f()},e=>{return r=e,(e=ce.allSegments)&&e.length?e.filter(function(e,t){return-1!==e.title.toLowerCase().indexOf(r.toLowerCase())}):[];var r},e=>b(),function(e){g=e,r(7,g)},()=>ce.openTransferGuides(),()=>ce.isCreator()?ce.openSurveyAnalyticsPortal():ce.openAppAnalyticsPortal(),()=>ce.logout("logout_button_click")]}class $t extends e{constructor(e){super(),t(this,e,Dt,Et,d,{unique:24},null,[-1,-1,-1])}}function Ft(e){let r,a,i,o,n,s,l=(o=new $t({}),("login-view"==ce.currentView||"forgot-password-view"==ce.currentView||"sso-login-view"==ce.currentView)&&(r=>{let a,i,o,n,e;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=De(),n=Me("img"),Fe(i,"class","mgPlayerJSProd_inline-block-vm"),Fe(n,"id","mgPlayerJSProd_header-widget-icon"),Fe(n,"class","mgPlayerJSProd_header-widget-icon"),Fe(n,"alt","Cornerstone"),Q(n.src,e=ce.getBasePath("common/img/logo-admin.png"))||Fe(n,"src",e),Fe(a,"class","mgPlayerJSProd_header-banner-wrapper mgPlayerJSProd_position-relative")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=r[0],xe(a,o),xe(a,n)},p(e,t){1&t&&(i.innerHTML=e[0])},d(e){e&&Ee(a)}}})(e));return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),ze(o.$$.fragment),n=De(),l&&l.c(),Fe(i,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100"),Fe(a,"class","mgPlayerJSProd_panel-header-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),Re(a,"mgPlayerJSProd_bg-white",ce.isMicroPlayer),Re(a,"mgPlayerJSProd_panel-header-micro-wrapper",ce.isMicroPlayer),Fe(r,"id","mgPlayerJSProd_ege-header"),Fe(r,"class","mgPlayerJSProd_ege-panel-header")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),Ue(o,i,null),xe(r,n),l&&l.m(r,null),s=!0},p(e,[t]){"login-view"!=ce.currentView&&"forgot-password-view"!=ce.currentView&&"sso-login-view"!=ce.currentView||l.p(e,t)},i(e){s||(Be(o.$$.fragment,e),s=!0)},o(e){Ve(o.$$.fragment,e),s=!1},d(e){e&&Ee(r),je(o),l&&l.d()}}}function Ot(e,t,r){let a="";return me(()=>{fetch(ce.getBasePath("common/img/login_header.svg")).then(e=>e.text()).then(e=>{r(0,a=e)})}),[a]}class Rt extends e{constructor(e){super(),t(this,e,Ot,Ft,d,{})}}function Ht(){let r;return{c(){(r=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.captchaError,Fe(r,"id","mgPlayerJSProd_input-captcha-error"),Fe(r,"class","mgPlayerJSProd_error-input-wrapper captcha-error-wrapper active")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function Nt(r){let a,i,o,n,s,l,d=ce.svgs.refresh+"",c,g,m,p,u,h=r[0]&&Ht();return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("i"),n=Ie(r[3]),s=De(),l=Me("button"),c=De(),g=Me("input"),m=De(),h&&h.c(),Fe(o,"id","mgPlayerJSProd_captcha-image"),Fe(o,"selectable","False"),Fe(l,"id","mgPlayerJSProd_autorenew"),Fe(l,"aria-label",ce.labels.refresh),Fe(l,"class","mgPlayerJSProd_captcha-refresh-btn mgPlayerJSProd_lbl-btn mgPlayerJSProd_lbl-btn-refresh mgPlayerJSProd_refresh-btn"),Fe(l,"type","button"),Fe(g,"id","mgPlayerJSProd_input-captcha"),Fe(g,"class","mgPlayerJSProd_input-captcha-text mgPlayerJSProd_font-size-16 mgPlayerJSProd_ege-inline-block-vm"),Fe(g,"placeholder",ce.labels.placeholderEnterCaptcha),g.required=!0,Fe(i,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center"),Fe(a,"class","mgPlayerJSProd_input-captcha mgPlayerJSProd_margin-tb-10 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_flex-direction-column")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),xe(i,s),xe(i,l),l.innerHTML=d,xe(i,c),xe(i,g),We(g,r[2]),r[8](g),xe(a,m),h&&h.m(a,null),p||(u=[$e(l,"click",r[4]),$e(g,"input",r[7]),$e(g,"change",r[5]),$e(g,"focus",r[9])],p=!0)},p(e,[t]){8&t&&Oe(n,e[3]),4&t&&g.value!==e[2]&&We(g,e[2]),e[0]?h||((h=Ht()).c(),h.m(a,null)):h&&(h.d(1),h=null)},i:Je,o:Je,d(e){e&&Ee(a),r[8](null),h&&h.d(),p=!1,ke(u)}}}function Bt(e,t,a){let{captchaValid:i=!1}=t,r=t.showCaptchaError,o=t.inputCaptchaRef,n,s;function l(){a(2,n=""),a(6,i=!1),a(3,s="");let t="";var r="0123456789ABCDEFGHJKLMNOPQRSTUVWXYZabdfghijkmnopqrstuvwxyz";for(let e=0;e<6;e++)t+=r.charAt(Math.random()*r.length);a(3,s=t)}l();return e.$$set=e=>{"captchaValid"in e&&a(6,i=e.captchaValid),"showCaptchaError"in e&&a(0,r=e.showCaptchaError),"inputCaptchaRef"in e&&a(1,o=e.inputCaptchaRef)},[r,o,n,s,l,function(){a(6,i=!1),s===n&&(a(6,i=!0),ce.hideLoading())},i,function(){n=this.value,a(2,n)},function(e){ue[e?"unshift":"push"](()=>{o=e,a(1,o)})},()=>a(0,r=!1)]}class Vt extends e{constructor(e){super(),t(this,e,Bt,Nt,d,{captchaValid:6,showCaptchaError:0,inputCaptchaRef:1})}}let zt=[];function Ut(e){let r,a,i,o,n,s,l=(e[2]?.privacyPolicy||ce.labels.privacyPolicy)+"",d,c,g,m,p,u,h=(e[2]?.termsOfService||ce.labels.termsOfService)+"",P,y;return{c(){r=Me("wmgPlayerJSProd_"),(a=Me("wmgPlayerJSProd_")).textContent="Â© "+ce.brandName,i=De(),(o=Me("wmgPlayerJSProd_")).textContent="|",n=De(),s=Me("a"),d=Ie(l),g=De(),(m=Me("wmgPlayerJSProd_")).textContent="|",p=De(),u=Me("a"),P=Ie(h),Fe(a,"class","mgPlayerJSProd_span"),Fe(o,"class","mgPlayerJSProd_span mgPlayerJSProd_footer-text-separator"),Fe(s,"id","mgPlayerJSProd_footer-privacy-policy"),Fe(s,"href",GmCXt.organization?.settings?.privacyPolicy||ce.config.privacyPolicyUrl),Fe(s,"target","_blank"),Fe(s,"aria-label",c=e[2]?.privacyPolicy||ce.labels.privacyPolicy),Fe(s,"rel","noopener noreferrer"),Fe(m,"class","mgPlayerJSProd_span mgPlayerJSProd_footer-text-separator"),Fe(u,"id","mgPlayerJSProd_footer-terms-of-service"),Fe(u,"href",ce.config.termsURL),Fe(u,"target","_blank"),Fe(u,"aria-label",y=e[2]?.termsOfService||ce.labels.termsOfService),Fe(u,"rel","noopener noreferrer"),Fe(r,"class","mgPlayerJSProd_footer-panel-copyright-text")},m(e,t){Le(e,r,t),xe(r,a),xe(r,i),xe(r,o),xe(r,n),xe(r,s),xe(s,d),xe(r,g),xe(r,m),xe(r,p),xe(r,u),xe(u,P)},p(e,t){4&t&&l!==(l=(e[2]?.privacyPolicy||ce.labels.privacyPolicy)+"")&&Oe(d,l),4&t&&c!==(c=e[2]?.privacyPolicy||ce.labels.privacyPolicy)&&Fe(s,"aria-label",c),4&t&&h!==(h=(e[2]?.termsOfService||ce.labels.termsOfService)+"")&&Oe(P,h),4&t&&y!==(y=e[2]?.termsOfService||ce.labels.termsOfService)&&Fe(u,"aria-label",y)},d(e){e&&Ee(r)}}}function jt(e){let r;var t=!GmCXt.isMicroPlayer();let a,i=t&&(()=>{let r;return{c(){(r=Me("wmgPlayerJSProd_")).textContent="|",Fe(r,"class","mgPlayerJSProd_span mgPlayerJSProd_footer-text-separator")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}})();function o(e){return"email"==e[0].feedback_type?Zt:"url"==e[0].feedback_type?Wt:void 0}let n=o(e),s=n&&n(e);return{c(){r=Me("wmgPlayerJSProd_"),i&&i.c(),a=De(),s&&s.c(),Fe(r,"class","mgPlayerJSProd_footer-panel-copyright-text mgPlayerJSProd_footer-send-feedback"),Re(r,"mgPlayerJSProd_footer-send-feedback-mp",GmCXt.isMicroPlayer())},m(e,t){Le(e,r,t),i&&i.m(r,null),xe(r,a),s&&s.m(r,null)},p(e,t){n===(n=o(e))&&s?s.p(e,t):(s&&s.d(1),(s=n&&n(e))&&(s.c(),s.m(r,null)))},d(e){e&&Ee(r),i&&i.d(),s&&s.d()}}}function Wt(r){let a,i=(r[2]?.sendFeedback||ce.labels.sendFeedback)+"",o,n,s;return{c(){a=Me("button"),o=Ie(i),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_cursor-pointer"),Fe(a,"aria-label",ce.labels.sendFeedback)},m(e,t){Le(e,a,t),xe(a,o),n||(s=$e(a,"click",r[5]),n=!0)},p(e,t){4&t&&i!==(i=(e[2]?.sendFeedback||ce.labels.sendFeedback)+"")&&Oe(o,i)},d(e){e&&Ee(a),n=!1,s()}}}function Zt(r){let a,i=(r[2]?.sendFeedback||ce.labels.sendFeedback)+"",o,n,s;return{c(){a=Me("button"),o=Ie(i),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_cursor-pointer"),Fe(a,"aria-label",ce.labels.sendFeedback)},m(e,t){Le(e,a,t),xe(a,o),n||(s=$e(a,"click",r[4]),n=!0)},p(e,t){4&t&&i!==(i=(e[2]?.sendFeedback||ce.labels.sendFeedback)+"")&&Oe(o,i)},d(e){e&&Ee(a),n=!1,s()}}}function qt(e){let r,a=!ce.showGuidesFromDesktopApp&&(e=>{let r,a,i,o=!ce.currentPageOnly&&(()=>{let r;return{c(){(r=Me("wmgPlayerJSProd_")).textContent="|",Fe(r,"class","mgPlayerJSProd_span mgPlayerJSProd_footer-text-separator")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}})(),n=("currentpage"===e[1]||"currentPageSearchPage"===e[1])&&!ce.currentPageOnly&&Yt(e),s=("allguides"===e[1]||"allguidesSearchPage"===e[1])&&Kt(e);return{c(){o&&o.c(),r=De(),n&&n.c(),a=De(),s&&s.c(),i=I()},m(e,t){o&&o.m(e,t),Le(e,r,t),n&&n.m(e,t),Le(e,a,t),s&&s.m(e,t),Le(e,i,t)},p(e,t){"currentpage"!==e[1]&&"currentPageSearchPage"!==e[1]||ce.currentPageOnly?n&&(n.d(1),n=null):n||((n=Yt(e)).c(),n.m(a.parentNode,a)),"allguides"===e[1]||"allguidesSearchPage"===e[1]?s||((s=Kt(e)).c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(e){e&&(Ee(r),Ee(a),Ee(i)),o&&o.d(e),n&&n.d(e),s&&s.d(e)}}})(e);return{c(){r=Me("wmgPlayerJSProd_"),a&&a.c(),Fe(r,"class","mgPlayerJSProd_footer-panel-copyright-text")},m(e,t){Le(e,r,t),a&&a.m(r,null)},p(e,t){ce.showGuidesFromDesktopApp||a.p(e,t)},d(e){e&&Ee(r),a&&a.d()}}}function Yt(r){let a,i,o;return{c(){(a=Me("button")).textContent=""+ce.labels.allGuides,Fe(a,"id","mgPlayerJSProd_go-to-all-guides"),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_cursor-pointer"),Fe(a,"aria-label",ce.labels.allGuides)},m(e,t){Le(e,a,t),i||(o=$e(a,"click",r[6]),i=!0)},d(e){e&&Ee(a),i=!1,o()}}}function Kt(r){let a,i,o;return{c(){(a=Me("button")).textContent=""+ce.labels.currentPage,Fe(a,"id","mgPlayerJSProd_go-to-current-page"),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_cursor-pointer"),Fe(a,"aria-label",ce.labels.currentPage)},m(e,t){Le(e,a,t),i||(o=$e(a,"click",r[7]),i=!0)},d(e){e&&Ee(a),i=!1,o()}}}function Qt(e){let r,a,i=GmCXt.isPlayer()&&!!GmCXt.getAppSetting("enable_send_feedback"),o,n=GmCXt.isMicroPlayer(),s,l,d=!e[3]&&Ut(e),c=i&&jt(e),g=n&&qt(e);return{c(){r=Me("wmgPlayerJSProd_"),d&&d.c(),a=De(),c&&c.c(),o=De(),g&&g.c(),s=De(),Fe(l=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_ege-clear"),Fe(r,"id","mgPlayerJSProd_footer-panel-container"),Fe(r,"class","mgPlayerJSProd_footer-panel")},m(e,t){Le(e,r,t),d&&d.m(r,null),xe(r,a),c&&c.m(r,null),xe(r,o),g&&g.m(r,null),xe(r,s),xe(r,l)},p(e,[t]){e[3]?d&&(d.d(1),d=null):d?d.p(e,t):((d=Ut(e)).c(),d.m(r,a)),i&&c.p(e,t),n&&g.p(e,t)},i:Je,o:Je,d(e){e&&Ee(r),d&&d.d(),c&&c.d(),g&&g.d()}}}function er(e,t,r){let a={},i="",o=!1,n=de(ge.labels),s=!1;let l=ge.labels.subscribe(e=>{r(2,n=e)}),d=ge.CurrentPage.subscribe(e=>{r(1,o=e)}),c=ge.miniPlayer.subscribe(e=>{GmCXt.isMiniPlayer=e,r(3,s=GmCXt.isMicroPlayer())});me(()=>{r(0,a=GmCXt.getBrandingSetting()),i=a.feedback_url&&-1===a.feedback_url.indexOf("http")?"https://"+a.feedback_url:a.feedback_url}),pe(()=>{d(),l(),c()});return[a,o,n,s,function(){GmCXt.closeAppPanel(),GmCXt.addFeedBackToolbar(),GmCXt.timeout(function(){GmCXt.captureScreenForFeedback(a.feedback_email)},100)},function(){window.open(i,"_blank","noopener,noreferrer")},()=>{ce.setCurrentPage("allguides"),ge.breadCrumb.set([])},()=>{ce.setCurrentPage("currentpage"),ge.breadCrumb.set([])}]}class tr extends e{constructor(e){super(),t(this,e,er,Qt,d,{})}}let $={};function rr(){var e=(()=>{var e={};let t=(o=new Date).getMonth()+1;t<10&&(t="0"+t),o.getDate();var r=o.getFullYear(),a=9<o.getDate()?o.getDate():"0"+o.getDate(),i=9<o.getHours()?o.getHours():"0"+o.getHours(),o=9<o.getMinutes()?o.getMinutes():"0"+o.getMinutes(),r=r+"-"+t+"-"+a,a=i+":"+o;return e.default_date=r,e.default_time=a,e})();return"<wmgPlayerJSProd_ class='mgPlayerJSProd_pub-schedule-checkbox-container mgPlayerJSProd_process-msg mgPlayerJSProd_width-100 mgPlayerJSProd_text-align-center mgPlayerJSProd_padding-lr-15'><input id='mgPlayerJSProd_checkbox-tour-schedule-pub' class='mgPlayerJSProd_inline-block-vm mgPlayerJSProd_input-checkbox-custom' type='checkbox' name='pub-schedule-enable'><wmgPlayerJSProd_ class='mgPlayerJSProd_inline-block-vm mgPlayerJSProd_font-size-12 mgPlayerJSProd_no-margin'>"+ce.labels.schedulePublishCheckbox+"</wmgPlayerJSProd_></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_pub-date-container'><wmgPlayerJSProd_ class='mgPlayerJSProd_pub-date-label'> "+ce.labels.date+"</wmgPlayerJSProd_><wmgPlayerJSProd_><input min='"+e.default_date+"' type='date' id='mgPlayerJSProd_pub-schedule-date' name='mgPlayerJSProd_pub-schedule-date' value='"+e.default_date+"'  class='mgPlayerJSProd_input-text mgPlayerJSProd_input-type-text'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_pub-date-label'> "+ce.labels.time+"</wmgPlayerJSProd_><wmgPlayerJSProd_><input min='"+e.default_time+"' type='time' id='mgPlayerJSProd_pub-schedule-time' name='mgPlayerJSProd_pub-schedule-date' value='"+e.default_time+"'  class='mgPlayerJSProd_input-text mgPlayerJSProd_input-type-text'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_invalid-pub-time mgPlayerJSProd_error-input-wrapper'> "+ce.labels.invalidTimeLabel+" </wmgPlayerJSProd_></wmgPlayerJSProd_>"}function ar(){return!(!ce.guideEnvs||!(mg$(".mgPlayerJSProd_active-progress").length===ce.guideEnvs.length||ce.appEnvs.length<=mg$(".mgPlayerJSProd_active-progress").length&&ce.appEnvs?.length<=ce.guideEnvs?.length))}$.addPublishActions=function(t){let a=$,i=ce.appEnvs;function r(e){var t=i.indexOf(e.currentTarget.id);if(mg$("#mgPlayerJSProd_checkbox-tour-schedule-pub").prop("checked",!1),mg$(".mgPlayerJSProd_pub-date-container").hide(),mg$(e.currentTarget).hasClass("mgPlayerJSProd_active-progress")){mg$(e.currentTarget).removeClass("mgPlayerJSProd_active-progress"),mg$(".mgPlayerJSProd_pub-schedule-checkbox-container").hide(),0===t?mg$(".mgPlayerJSProd_ege-publish").addClass("mgPlayerJSProd_disabled"):mg$(".mgPlayerJSProd_ege-publish").removeClass("mgPlayerJSProd_disabled");for(var r=t+1;r<i.length;)mg$("#"+i[r]).removeClass("mgPlayerJSProd_active-progress"),r++}else{if(mg$(e.currentTarget).addClass("mgPlayerJSProd_active-progress"),mg$(".mgPlayerJSProd_ege-publish").removeClass("mgPlayerJSProd_disabled"),0<t)for(r=0;r<t;)mg$("#"+i[r]).addClass("mgPlayerJSProd_active-progress"),r++;i[t]===i[i.length-1]&&mg$(".mgPlayerJSProd_pub-schedule-checkbox-container").show()}ar()&&mg$(".mgPlayerJSProd_ege-publish").addClass("mgPlayerJSProd_disabled");{e=ce.labels.guideWillPubIn;let r=!1,a="";mg$(".mgPlayerJSProd_active-progress").each(function(e,t){r=!0;t=mg$(t).text();a=a?a+", "+t:t}),ar()?mg$("#mgPlayerJSProd_publishMsg").text(ce.labels.guideIsPubIn+a):r?mg$("#mgPlayerJSProd_publishMsg").text(e+a):mg$("#mgPlayerJSProd_publishMsg").text("")}}for(let e=0;e<i.length;e++)mg$("#"+i[e]).on("click",r);mg$(".mgPlayerJSProd_ege-publish").off("click").on("click",function(){let r=[];mg$(".mgPlayerJSProd_active-progress").each(function(e,t){r.push(mg$(t).attr("id"))});var e=$.getGuideActiveEnvs();if(!ce.guideEnvs||r.length>e.length){if(!r.length&&"publish"===ce.publishStatus)return;t(r,"publish")}else{var e=r[r.length-1],e=ce.appEnvs.indexOf(e);0<=e&&(e=ce.appEnvs.slice(e+1)).length&&t(e,"unpublish")}a.close(),localStorage.setItem(GmCXt.prevEnv,r)}),mg$(".mgPlayerJSProd_ege-cancel-btn").off("click").on("click",function(){a.close()}),mg$(".mgPlayerJSProd_popup-close").off("click").on("click",function(){a.close()})},$.attachPopupActions=function(a,t,r,i){let o=$;mg$(".mgPlayerJSProd_overlay-container").off("click").on("click",function(e){o.close(),t&&t()}),mg$("#mgPlayerJSProd_input-csv").on("change",function(){var e;this.files&&0<this.files.length?(e=this.files[0].name,mg$("#mgPlayerJSProd_selected-filename").text(e).removeClass("mgPlayerJSProd_display-none")):mg$("#mgPlayerJSProd_selected-filename").text("").addClass("mgPlayerJSProd_display-none")}),mg$(".mgPlayerJSProd_csv-download-wrapper").off("click").on("click",function(e){ce.exportCsv(i)}),mg$(".mgPlayerJSProd_ege-ok-btn").off("click").on("click",function(){var e=document.getElementById("mgPlayerJSProd_donot-show-cb");e&&GmCXt.saveToStorage("confirmLinkGuidePub",e.checked),o.close(),a&&a()}),mg$(".mgPlayerJSProd_ege-ok-json-update").off("click").on("click",function(){a()}),mg$(".mgPlayerJSProd_ege-ok-btn-radio").off("click").on("click",function(){var e=mg$(".mgPlayerJSProd_env");let t="";(t=e?mg$(".mgPlayerJSProd_env:checked").val():t)&&(a(t),o.close())}),mg$(".mgPlayerJSProd_ege-option-btn").off("click").on("click",function(){r&&r(),o.close()}),mg$(".mgPlayerJSProd_ege-cancel-btn").off("click").on("click",function(){t&&t(),o.close()}),mg$(".mgPlayerJSProd_ege-popup-close").off("click").on("click",function(){t&&t(),o.close()}),mg$("#mgPlayerJSProd_resusme-guide-close-button").off("click").on("click",function(){o.close()}),mg$(".mgPlayerJSProd_ege-update-btn").off("click").on("click",function(){let e=mg$("#audio-text-area").val();if(!(e=e.trim()).length)return mg$("#audio-text-area").addClass("empty-textarea"),!0;a&&a(e),o.close()}),mg$(".mgPlayerJSProd_ege-email-submit-btn").off("click").on("click",function(){var e=mg$(".mgPlayerJSProd_ege-popup-email-input").val().trim();if(!e.length)return mg$(".mgPlayerJSProd_ege-popup-error-msg").show(),!0;a&&a(e),o.close()}),mg$(".mgPlayerJSProd_ege-otp-submit-btn").off("click").on("click",function(){var e=mg$(".mgPlayerJSProd_ege-popup-email-input-confirm").val().trim(),t=mg$(".mgPlayerJSProd_ege-popup-confirm-otp").val().trim();if(!t.length)return mg$(".mgPlayerJSProd_ege-popup-error-msg").show(),!0;a&&a(e,t),o.close()}),mg$("#audio-text-area").length&&mg$("#audio-text-area").on("focus",function(e){mg$(e.target).removeClass("empty-textarea")}),mg$("#preview-link").length&&mg$("#preview-link").off("click").on("click",function(){let e=mg$("#audio-text-area").val();e=e.trim(),r&&e.length&&r(e)}),mg$(".mgPlayerJSProd_modal-view-more").off("click").on("click",function(){mg$(".mgPlayerJSProd_info-msg").show(),mg$(".mgPlayerJSProd_modal-view-more").hide()}),mg$(".mgPlayerJSProd_ege-csv-ok-btn").off("click").on("click",function(){var e,t=mg$("#mgPlayerJSProd_input-csv")[0].files;let r=[];t&&t[0]?(t=t[0],(e=new FileReader).onload=function(e){var t=e.target.result.split("\n");for(let e=0;e<t.length;e++)""!==t[e]&&r.push(t[e].split(","));a(r)},e.readAsBinaryString(t)):a(),o.close()})},$.createStep=function(a,i){let o=$;GmCXt.api.stepCreate(ce.step,function(e){var t=e.data.data,r=(o.close(),ce.hideLoading(),{});r.stepIndex=ce.step.step_order-1,r.step=t.step,a.createStepCompleted(r),i&&i(e.data.data)})},$.getGuideActiveEnvs=function(){var t=[];if(ce.guideEnvs&&ce.guideEnvs.length)for(let e=0;e<ce.guideEnvs.length;e++){var r=ce.guideEnvs[e];ce.appEnvs&&ce.appEnvs.includes(r)&&t.push(r)}return t},$.reselectElem=function(){GmCXt.handleReselectEl({action:"mgPlayerJSProd_action:reselect_edit_step_element,task:edit_step"})},$.editStepOptions=function(e){let t=ce.labels.lblNotFoundInPage,r="",a="",i=ce.labels.ok;var o=ce.svgs.popupWarning,n="<wmgPlayerJSProd_ class='mgPlayerJSProd_popup-btn-close mgPlayerJSProd_ege-cancel-btn'>"+ce.svgs.popupClose+"</wmgPlayerJSProd_>",e=("Reselect element"===e?(t=ce.labels.lblReselectElem,a="<wmgPlayerJSProd_ id='mgPlayerJSProd_btn-ok-edit-step-popup' class='mgPlayerJSProd_ege-ok-btn mgPlayerJSProd_btn-default mgPlayerJSProd_ege-inline-block-vt mgPlayerJSProd_ege-redirect-btn'>"+e+"</wmgPlayerJSProd_>",r=$.reselectElem,i=ce.labels.btnCancel):"Reselect beacon"===e&&(t=ce.labels.lblReselectBeacon,a="<wmgPlayerJSProd_ id='mgPlayerJSProd_btn-ok-edit-step-popup' class='mgPlayerJSProd_ege-ok-btn mgPlayerJSProd_btn-default mgPlayerJSProd_ege-inline-block-vt mgPlayerJSProd_ege-redirect-btn'>"+e+"</wmgPlayerJSProd_>",r=GmCXt.handleReselectBeacon,i=ce.labels.btnCancel,ge.beaconUpload.set(!1)),"<wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-container'></wmgPlayerJSProd_>   <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup mgPlayerJSProd_popup-warning'>        <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-wrapper'>   "+n+"           <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon-wrapper'><wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon'>"+o+"</wmgPlayerJSProd_></wmgPlayerJSProd_>       </wmgPlayerJSProd_>       <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-title-wrapper mgPlayerJSProd_display-none'>       </wmgPlayerJSProd_>       <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-content-wrapper mgPlayerJSProd_font-size-17'>"+t+"</wmgPlayerJSProd_>       <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-btn-wrapper'>"+a+"           <wmgPlayerJSProd_ id='mgPlayerJSProd_btn-cancel-edit-step-popup' class='mgPlayerJSProd_btn-default mgPlayerJSProd_ege-cancel-btn mgPlayerJSProd_ege-inline-block-vt'>"+i+"       </wmgPlayerJSProd_>   </wmgPlayerJSProd_> </wmgPlayerJSProd_> ");mg$(".mgPlayerJSProd_ege-panel").append(e),$.attachPopupActions(r,!1)},$.open=function(t,e,r,a,i,o,n){"string"!=typeof t&&(t="Unknown error!");let s="",l=ce.labels.ok,d=ce.labels.btnCancel,c="",g="",m="",p="",u="<wmgPlayerJSProd_ class='mgPlayerJSProd_popup-btn-close mgPlayerJSProd_ege-cancel-btn'>"+ce.svgs.popupClose+"</wmgPlayerJSProd_>",h="",P="",y=(i&&(m="<wmgPlayerJSProd_ class='mgPlayerJSProd_span mgPlayerJSProd_info-msg-container'><wmgPlayerJSProd_ class='mgPlayerJSProd_span mgPlayerJSProd_modal-view-more'>"+ce.labels.viewMore+"</wmgPlayerJSProd_><br><wmgPlayerJSProd_ class='mgPlayerJSProd_info-msg'>"+i+"</wmgPlayerJSProd_></wmgPlayerJSProd_>"),ce.labels.guidePublishWarning===t&&(h="<wmgPlayerJSProd_ class= 'mgPlayerJSProd_donot-show-popup'><input id='mgPlayerJSProd_donot-show-cb' type= 'checkbox' class='mgPlayerJSProd_input-checkbox-custom' /><wmgPlayerJSProd_ class='mgPlayerJSProd_info-msg-donot-show-popup'>Do not show this pop up again</wmgPlayerJSProd_></wmgPlayerJSProd_>"),"yesno"===e&&(l="Yes",d="No"),"tourPlay"===e&&(l=ce.labels.startOver,d=ce.labels.yesResume,u="<button id='mgPlayerJSProd_resusme-guide-close-button' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_popup-upload-close mgPlayerJSProd_ege-popup-close mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_display-flex mgPlayerJSProd_justify-content-flex-end mgPlayerJSProd_padding-15' aria-label='Close' >"+ce.svgs.popupClose+"</button>"),"tourPlay"!==e&&"info"!==e&&""!==e||(c="mgPlayerJSProd_popup-info",g=ce.svgs.popupInfo),"alert"===e&&(c="mgPlayerJSProd_popup-error",g=ce.svgs.popupError),"success"===e&&(c="mgPlayerJSProd_popup-success",g=ce.svgs.popupSuccess),"warning"===e&&(c="mgPlayerJSProd_popup-warning",g=ce.svgs.popupWarning),"confirm"!==e&&"copy"!==e&&"yesno"!==e&&"domain"!==e||(c="mgPlayerJSProd_popup-warning",g=ce.svgs.popupWarning),"tourPlay"===e&&(s="<button id='mgPlayerJSProd_btn-cancel-tour-play-popup' class='mgPlayerJSProd_ege-cancel-btn mgPlayerJSProd_btn-default mgPlayerJSProd_ege-inline-block-vt' aria-label='"+d+"' >"+d+"</button>"),"<button id='mgPlayerJSProd_btn-ok-common-popup' class='mgPlayerJSProd_ege-ok-btn mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large mgPlayerJSProd_ege-inline-block-vt' aria-label='"+l+"' >"+l+"</button>");if("domain"===e){var _=[],S=GmCXt.getActiveAppSetting().app_env||ce.defaultAppEnv;for(b in S)S[b].checked&&_.push(b);if(_.length){for(var f,C=[],b=0;b<_.length;b++)f=ce.highestEnv===_[b]?"checked":"",C.push('<wmgPlayerJSProd_ class="mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_padding-5"><input type="radio" name="env" value='+_[b]+' class="mgPlayerJSProd_env mgPlayerJSProd_ege-popup-radio mgPlayerJSProd_inline-block-vt mgPlayerJSProd_input-radio-custom"'+f+'/><wmgPlayerJSProd_ class="mgPlayerJSProd_span mgPlayerJSProd_ege-popup-radio-text">'+ce.updateEnvNames(_[b])+"</wmgPlayerJSProd_></wmgPlayerJSProd_>");p='<br><wmgPlayerJSProd_ class="mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_display-flex mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-wrap mgPlayerJSProd_padding-lr-15">'+C.join("")+" </wmgPlayerJSProd_><br>",y="<button class='mgPlayerJSProd_ege-ok-btn-radio mgPlayerJSProd_btn-default mgPlayerJSProd_ege-inline-block-vt' aria-label='"+l+"' >"+l+"</button>"}}"copy"===e&&(l=ce.labels.copy);let v="";if(ce.categoryIsUnPublished){let e="";i=ce.labels;e=t===i.tourpublishMsg2?i.tooltipPublishWarningMessage:i.guidePublishWarningMessage,v="<wmgPlayerJSProd_ class='mgPlayerJSProd_popup-content-info'>"+e+"</wmgPlayerJSProd_>",ce.categoryIsUnPublished=!1}GmCXt.isDefined(n)&&(P="<wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-title-wrapper'>"+n+"</wmgPlayerJSProd_>");e=" <wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-container'></wmgPlayerJSProd_> <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup "+c+"'>    <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-wrapper'>   "+u+"       <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon-wrapper'><wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon'>"+g+"</wmgPlayerJSProd_></wmgPlayerJSProd_>   </wmgPlayerJSProd_>"+P+"   <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-content-wrapper mgPlayerJSProd_font-size-17'>"+t+m+"</wmgPlayerJSProd_> "+v+" "+p+h+"   <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-btn-wrapper'>"+y+s+"   </wmgPlayerJSProd_> </wmgPlayerJSProd_> ";(ce.isAutoConfigPanelOpen?mg$(".mgPlayerJSProd_ege-panel-auto"):mg$(".mgPlayerJSProd_ege-panel")).append(e),$.attachPopupActions(r,a,!1),setTimeout(function(){mg$("#mgPlayerJSProd_btn-ok-common-popup").focus()},500),o&&setTimeout(function(){mg$(".mgPlayerJSProd_overlay-container").remove(),mg$(".mgPlayerJSProd_ege-popup").remove()},o)},$.openCategoryDelete=function(e,t,r){var a=ce.svgs.popupWarning,a=" <wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-container'></wmgPlayerJSProd_> <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup mgPlayerJSProd_popup-warning'>    <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-wrapper'>   "+("<wmgPlayerJSProd_ id='mgPlayerJSProd_btn-cancel-cat-del-popup' class='mgPlayerJSProd_popup-btn-close mgPlayerJSProd_ege-cancel-btn'>"+ce.svgs.popupClose+"</wmgPlayerJSProd_>")+"       <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon-wrapper'><wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon'>"+a+"</wmgPlayerJSProd_></wmgPlayerJSProd_>   </wmgPlayerJSProd_>   <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-content-wrapper mgPlayerJSProd_font-size-17'>"+ce.labels.deleteFolder+": <b>"+e.name+"</b></wmgPlayerJSProd_>   <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-content-info'>"+e.msg+"</wmgPlayerJSProd_>   <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-btn-wrapper'>       <wmgPlayerJSProd_ id='mgPlayerJSProd_btn-ok-cat-del-popup' class='mgPlayerJSProd_ege-ok-btn mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large mgPlayerJSProd_ege-inline-block-vt'>OK</wmgPlayerJSProd_>   </wmgPlayerJSProd_> </wmgPlayerJSProd_> ";mg$(".mgPlayerJSProd_ege-panel").append(a),$.attachPopupActions(t,r,!1)},$.openJsonEdit=function(e,t,r,a){mg$(".mgPlayerJSProd_ege-panel").append("<wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup mgPlayerJSProd_popup-warning'>    <pre id='mgPlayerJSProd_json-editor'></pre>   <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-btn-wrapper'>       <wmgPlayerJSProd_ id='mgPlayerJSProd_btn-ok-json-edit-popup' class='mgPlayerJSProd_ege-ok-json-update mgPlayerJSProd_btn-default mgPlayerJSProd_ege-inline-block-vt'>Save</wmgPlayerJSProd_>       <wmgPlayerJSProd_ id='mgPlayerJSProd_btn-cancel-json-edit-popup' class='mgPlayerJSProd_ege-cancel-btn mgPlayerJSProd_btn-default mgPlayerJSProd_ege-inline-block-vt'>Cancel</wmgPlayerJSProd_>   </wmgPlayerJSProd_> </wmgPlayerJSProd_> "),$.attachPopupActions(r,a,!1)},$.openGuideLink=function(e,t,a,i){ce.step={};let o=e.data;ce.showLoading();e={tour_id:o.tour.tour_id,step_title:"",step_description:"",step_type:"guide",step_target_type:"na",step_target_name:"na",step_settings:"na",step_image:"0",step_screen:"0",step_url:"na",step_audio_text:"na",step_video_id:"0",step_audio:"0",step_order:parseInt(o.order)};ce.step=e;let n=$;setTimeout(function(){ce.hideLoading()},200);e={category_id:o.tour.category_id,limit:100,offset:0};let s=" <wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-container'></wmgPlayerJSProd_>";GmCXt.api.getTourList(e,function(e){let r="";e.forEach(function(e,t){e.tour_id!==o.tour.tour_id&&0<parseInt(e.step_count)&&e.tour_type===o.tour_type&&(r+='<option value="'+e.tour_id+'" data-category_id="'+e.category_id+'"  data-description="'+e.tour_description+'" data-image="'+e.tour_image+'" data-screenImage="'+e.tour_image+'">'+e.tour_title+"</option>")}),s+=" <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-link-guide'>  <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-header'>"+ce.labels.guideLinkMessage+'</wmgPlayerJSProd_> <wmgPlayerJSProd_ class=\'mgPlayerJSProd_ege-popup-close\'><svg version="1.1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M46,4C44.9,3,43.2,3,42.1,4L25,21.2L7.9,4C6.8,3,5.1,3,4,4S3,6.8,4,7.9L21.2,25L4,42.1C3,43.2,3,44.9,4,46c0.5,0.5,1.2,0.8,1.9,0.8s1.4-0.3,1.9-0.8L25,28.8L42.1,46c0.5,0.5,1.2,0.8,1.9,0.8c0.7,0,1.4-0.3,1.9-0.8c1.1-1.1,1.1-2.8,0-3.8L28.8,25L46,7.9C47,6.8,47,5.1,46,4z"/></g></g></svg> </wmgPlayerJSProd_> <wmgPlayerJSProd_ class=\'mgPlayerJSProd_selectbox-wrapper\'>         <select class=\'mgPlayerJSProd_create-step-selectbox-select\' id=\'mgPlayerJSProd_ruleTypeGuide\'>             <option value=\'\'>'+ce.labels.select+"</option>             "+r+"          </select> </wmgPlayerJSProd_> <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-error-msg'>"+ce.labels.selectGuideBeforeSubmit+"</wmgPlayerJSProd_> <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-btn-wrapper'>       <wmgPlayerJSProd_ class='mgPlayerJSProd_btn-default mgPlayerJSProd_ege-inline-block-vt'>"+ce.labels.btnLink+"</wmgPlayerJSProd_>       <wmgPlayerJSProd_ class='mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral mgPlayerJSProd_ege-inline-block-vt'>"+ce.labels.btnCancel+"</wmgPlayerJSProd_> </wmgPlayerJSProd_> </wmgPlayerJSProd_> ",mg$(".mgPlayerJSProd_ege-panel").append(s),n.attachPopupActions(a,"",i)})},$.openDoItPopup=function(e,t,r){var a="<wmgPlayerJSProd_ class='mgPlayerJSProd_popup-btn-close mgPlayerJSProd_ege-cancel-btn'>"+ce.svgs.popupClose+"</wmgPlayerJSProd_>";let i="",o="";GmCXt.isDefined(t)&&(i="<wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-title-wrapper'>"+t+"</wmgPlayerJSProd_>"),GmCXt.isPlayer()&&(o="<button class='mgPlayerJSProd_csv-download-wrapper mgPlayerJSProd_btn-default mgPlayerJSProd_btn-border mgPlayerJSProd_btn-svg mgPlayerJSProd_btn-shadow'>"+ce.labels.btnExportCsvTask+"<wmgPlayerJSProd_ class='mgPlayerJSProd_btn-svg-wrapper mgPlayerJSProd_inline-block-vm mgPlayerJSProd_margin-lr-5'>"+ce.svgs.csvDownload+"</wmgPlayerJSProd_></button>");t=" <wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-container'></wmgPlayerJSProd_>   <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup mgPlayerJSProd_popup-info'>        <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-wrapper'>       "+a+"            <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon-wrapper'><wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon'>"+ce.svgs.popupInfo+"</wmgPlayerJSProd_></wmgPlayerJSProd_>       </wmgPlayerJSProd_>"+i+"       <wmgPlayerJSProd_ class='mgPlayerJSProd_image-file-input-wrapper'>           <wmgPlayerJSProd_ class='mgPlayerJSProd_btn-upload-file mgPlayerJSProd_inline-block-vm'>                 <input id='mgPlayerJSProd_input-csv' class='mgPlayerJSProd_file-input mgPlayerJSProd_display-none' title='Upload CSV' type='file' tabindex='-1' name='inputData' accept='.csv'>               <wmgPlayerJSProd_ class='mgPlayerJSProd_inputfile mgPlayerJSProd_inputfile-1'></wmgPlayerJSProd_>               <label id='mgPlayerJSProd_label-input-csv' for='mgPlayerJSProd_input-csv'><wmgPlayerJSProd_ class='mgPlayerJSProd_span mgPlayerJSProd_ege-inline-block-vt'>"+ce.labels.chooseFile+"</wmgPlayerJSProd_></label>               <wmgPlayerJSProd_ id='mgPlayerJSProd_selected-filename' class='mgPlayerJSProd_selected-filename mgPlayerJSProd_display-none'></wmgPlayerJSProd_>           </wmgPlayerJSProd_>         </wmgPlayerJSProd_> "+o+"       <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-btn-wrapper'>           <wmgPlayerJSProd_ id='mgPlayerJSProd_btn-ok-doit-popup' class='mgPlayerJSProd_ege-csv-ok-btn mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large mgPlayerJSProd_ege-inline-block-vt'>"+ce.labels.ok+"</wmgPlayerJSProd_>       </wmgPlayerJSProd_>   </wmgPlayerJSProd_> ";mg$(".mgPlayerJSProd_ege-panel").append(t),$.attachPopupActions(e,null,null,r)},$.close=function(){mg$(".mgPlayerJSProd_overlay-container").remove(),mg$(".mgPlayerJSProd_ege-popup").remove(),mg$(".mgPlayerJSProd_ege-popup-link-guide").remove(),mg$(".mgPlayerJSProd_category-delete-popup").remove()},ce.checkTimeValidity=function(){var e=mg$("#mgPlayerJSProd_pub-schedule-date").val()+"T"+mg$("#mgPlayerJSProd_pub-schedule-time").val();Date.parse(e)<Date.now()?(mg$(".mgPlayerJSProd_invalid-pub-time").show(),mg$("#mgPlayerJSProd_btn-ok-publish-popup").addClass("mgPlayerJSProd_disabled")):(mg$(".mgPlayerJSProd_invalid-pub-time").hide(),mg$("#mgPlayerJSProd_btn-ok-publish-popup").removeClass("mgPlayerJSProd_disabled"))},$.publishNoEnv=function(e,t,r){let a=$;ce.guideEnvs=e.tour_settings.app_publish_env,ce.guideEnvs,void 0===ce.guideEnvs&&e.is_published&&ce.appEnvs,e.is_published||localStorage.getItem(GmCXt.prevEnv),ce.appEnvs;e="<wmgPlayerJSProd_ class='mgPlayerJSProd_popup-btn-close mgPlayerJSProd_ege-cancel-btn'>"+ce.svgs.popupClose+"</wmgPlayerJSProd_>";let i="";GmCXt.isDefined(r)&&(i="<wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-title-wrapper'>"+r+"</wmgPlayerJSProd_>");r=" <wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-container'></wmgPlayerJSProd_> <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup mgPlayerJSProd_popup-info'>    <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-wrapper'>   "+e+"       <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon-wrapper'><wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon'>"+ce.svgs.popupInfo+"</wmgPlayerJSProd_></wmgPlayerJSProd_>   </wmgPlayerJSProd_>"+i+rr()+"<wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-btn-wrapper'><button id='mgPlayerJSProd_btn-ok-publish-popup' class='mgPlayerJSProd_ege-publish mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large mgPlayerJSProd_ege-inline-block-vt'>"+ce.labels.publish+"</button></wmgPlayerJSProd_></wmgPlayerJSProd_> ";mg$(".mgPlayerJSProd_ege-panel").append(r),mg$(".mgPlayerJSProd_pub-schedule-checkbox-container").show(),mg$("#mgPlayerJSProd_pub-schedule-date").change(function(e){ce.checkTimeValidity()}),mg$("#mgPlayerJSProd_pub-schedule-time").change(function(e){ce.checkTimeValidity()}),mg$("#mgPlayerJSProd_checkbox-tour-schedule-pub").off("click").on("click",function(){mg$("#mgPlayerJSProd_checkbox-tour-schedule-pub").is(":checked")?mg$(".mgPlayerJSProd_pub-date-container").show():mg$(".mgPlayerJSProd_pub-date-container").hide()}),mg$("#mgPlayerJSProd_btn-ok-publish-popup").off("click").on("click",function(){t(),a.close()}),mg$(".mgPlayerJSProd_popup-btn-close").off("click").on("click",function(e){a.close()}),ce.hideLoading()},$.publish=function(e,t,r){ce.guideEnvs=e.tour_settings.app_publish_env;let a=ce.guideEnvs||[];void 0===ce.guideEnvs&&e.is_published&&(a=ce.appEnvs),e.is_published||(a=localStorage.getItem(GmCXt.prevEnv));var i=ce.appEnvs,o=[],n="<wmgPlayerJSProd_ class='mgPlayerJSProd_popup-btn-close mgPlayerJSProd_ege-cancel-btn'>"+ce.svgs.popupClose+"</wmgPlayerJSProd_>";for(o.push('<wmgPlayerJSProd_ class="mgPlayerJSProd_guide-progress-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-flex-end"><wmgPlayerJSProd_ id='+i[0]+' class="mgPlayerJSProd_guide-progress-val"><wmgPlayerJSProd_ class="mgPlayerJSProd_guide-progress-label mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-13">'+ce.updateEnvNames(i[0])+"</wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_> "),d=1;d<i.length;d++)o.push("<wmgPlayerJSProd_ class='mgPlayerJSProd_hr'></wmgPlayerJSProd_><wmgPlayerJSProd_ class=\"mgPlayerJSProd_guide-progress-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-flex-end mgPlayerJSProd_ele-width\"><wmgPlayerJSProd_ id="+i[d]+' class="mgPlayerJSProd_guide-progress-val"><wmgPlayerJSProd_ class="mgPlayerJSProd_guide-progress-label mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-13">'+ce.updateEnvNames(i[d])+"</wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_> ");let s="",l="";GmCXt.isDefined(r)&&(l="<wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-title-wrapper'>"+r+"</wmgPlayerJSProd_>");r=" <wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-container'></wmgPlayerJSProd_> <wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup mgPlayerJSProd_popup-info'>    <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-wrapper'>   "+n+"       <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon-wrapper'><wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon'>"+ce.svgs.popupInfo+"</wmgPlayerJSProd_></wmgPlayerJSProd_>   </wmgPlayerJSProd_>"+l+"<wmgPlayerJSProd_ class='mgPlayerJSProd_guide-progress-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-start mgPlayerJSProd_justify-content-center'>"+o.join("")+"</wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_process-msg mgPlayerJSProd_width-100 mgPlayerJSProd_text-align-center mgPlayerJSProd_padding-lr-15' id='mgPlayerJSProd_publishMsg'>"+s+"</wmgPlayerJSProd_>"+rr()+"<wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-btn-wrapper'><button id='mgPlayerJSProd_btn-ok-publish-popup' class='mgPlayerJSProd_ege-publish mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large mgPlayerJSProd_ege-inline-block-vt mgPlayerJSProd_disabled'>"+ce.labels.publish+"</button></wmgPlayerJSProd_></wmgPlayerJSProd_> ";mg$(".mgPlayerJSProd_ege-panel").append(r);for(var d=0;d<i.length;d++)if(-1!==a.indexOf(i[d])){mg$(".mgPlayerJSProd_ege-publish").removeClass("mgPlayerJSProd_disabled"),mg$("#"+i[d]).addClass("mgPlayerJSProd_active-progress");for(let e=d-1;0<=e;e--)mg$(".mgPlayerJSProd_ege-publish").removeClass("mgPlayerJSProd_disabled"),mg$("#"+i[e]).addClass("mgPlayerJSProd_active-progress")}for(var c,d=0;d<a.length;d++)-1!==ce.appEnvs.indexOf(a[d])&&(c=ce.updateEnvNames(a[d]),s?s+=", "+c:s=ce.labels.guideIsPubIn+c);s&&mg$("#mgPlayerJSProd_publishMsg").text(s);let g=a;(g="string"==typeof a?a.split(","):g).length===i.length?mg$(".mgPlayerJSProd_pub-schedule-checkbox-container").show():mg$(".mgPlayerJSProd_pub-schedule-checkbox-container").hide(),mg$("#mgPlayerJSProd_pub-schedule-date").change(function(e){ce.checkTimeValidity()}),mg$("#mgPlayerJSProd_pub-schedule-time").change(function(e){ce.checkTimeValidity()}),mg$("#mgPlayerJSProd_checkbox-tour-schedule-pub").off("click").on("click",function(){mg$("#mgPlayerJSProd_checkbox-tour-schedule-pub").is(":checked")?mg$(".mgPlayerJSProd_pub-date-container").show():mg$(".mgPlayerJSProd_pub-date-container").hide()}),ce.hideLoading(),ar()&&e.is_published&&mg$(".mgPlayerJSProd_ege-publish").addClass("mgPlayerJSProd_disabled"),$.addPublishActions(t)},$.scheduled=function(t,e,r){ce.guideEnvs=t.tour_settings.app_publish_env;let a=$;ce.guideEnvs,void 0===ce.guideEnvs&&t.is_published&&ce.appEnvs,t.is_published||localStorage.getItem(GmCXt.prevEnv);var i=ce.appEnvs,o="<wmgPlayerJSProd_ class='mgPlayerJSProd_popup-btn-close mgPlayerJSProd_ege-cancel-btn'>"+ce.svgs.popupClose+"</wmgPlayerJSProd_>",n=new Date(t.tour_settings.visibilitytimestamp);let s=n.getMonth()+1;s<10&&(s="0"+s);var l=n.getDate(),d=n.getFullYear(),l=(n.getHours(),n.getHours(),n.getMinutes(),n.getMinutes(),l+"/"+s+"/"+d),d=n.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});let c="";GmCXt.isDefined(r)&&(c="<wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup-title-wrapper'>"+r+"</wmgPlayerJSProd_>");n=" <wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-container'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_ege-popup mgPlayerJSProd_popup-info'> <wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-wrapper'>"+o+"<wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon-wrapper'><wmgPlayerJSProd_ class='mgPlayerJSProd_popup-header-icon'>"+ce.svgs.popupInfo+"</wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_>"+c+"<wmgPlayerJSProd_ class='mgPlayerJSProd_schedule-popup-container'><wmgPlayerJSProd_ class='mgPlayerJSProd_schedule-popup-container-inner'><wmgPlayerJSProd_ class='mgPlayerJSProd_schedule-popup-header-title'>"+ce.updateEnvNames(i[i.length-1])+"</wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_padding-10'><wmgPlayerJSProd_ class='mgPlayerJSProd_padding-5 mgPlayerJSProd_display-inline-block'>"+ce.labels.scheduleDateLabel+"</wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_padding-5 mgPlayerJSProd_display-inline-block mgPlayerJSProd_float-right'>"+l+"</wmgPlayerJSProd_></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_hr'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_padding-10'><wmgPlayerJSProd_ class='mgPlayerJSProd_padding-5 mgPlayerJSProd_display-inline-block'>"+ce.labels.scheduleTimeLabel+"</wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_padding-5 mgPlayerJSProd_display-inline-block mgPlayerJSProd_float-right'>"+d+"</wmgPlayerJSProd_></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_hr'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_padding-10'><wmgPlayerJSProd_ class='mgPlayerJSProd_padding-5 mgPlayerJSProd_display-inline-block'>"+ce.labels.status+"</wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_padding-5 mgPlayerJSProd_display-inline-block mgPlayerJSProd_float-right'> "+ce.labels.scheduleLabel+"</wmgPlayerJSProd_></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_hr'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_cancel-schedule'><button type='button' class='mgPlayerJSProd_cancel-schedule-btn mgPlayerJSProd_lbl-btn'>"+ce.labels.cancelSchedule+"</button></wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_>";mg$(".mgPlayerJSProd_ege-panel").append(n),mg$(".mgPlayerJSProd_cancel-schedule-btn").off("click").on("click",function(e){ce.changeStatus(t,"unpublish"),a.close()}),mg$(".mgPlayerJSProd_popup-btn-close").off("click").on("click",function(e){a.close()}),ce.hideLoading()};let ir={};function or(e,t,r){e=e.slice();return e[53]=t[r],e}function nr(e){let r,a,i,o,n,s=e[0].brandName+"",l,d,c,g,m=e[17]&&sr(e),p=1===e[0].appConfig.login.guideme&&lr(e),u=1===e[0].appConfig.login.SSO&&cr(e);return{c(){r=Me("wmgPlayerJSProd_"),m&&m.c(),a=De(),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),l=Ie(s),d=De(),p&&p.c(),c=De(),u&&u.c(),Fe(n,"class","mgPlayerJSProd_h2 mgPlayerJSProd_font-size-26 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-30"),Fe(o,"name","form.signin"),Fe(o,"role","form"),Fe(o,"aria-labelledby","guide-user-signin-form"),Fe(i,"class","mgPlayerJSProd_signin-page-wrapper"),Fe(r,"class","mgPlayerJSProd_ege-panel-main-container mgPlayerJSProd_signin-page-container mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_no-padding")},m(e,t){Le(e,r,t),m&&m.m(r,null),xe(r,a),xe(r,i),xe(i,o),xe(o,n),xe(n,l),xe(o,d),p&&p.m(o,null),xe(o,c),u&&u.m(o,null),g=!0},p(e,t){e[17]?m?m.p(e,t):((m=sr(e)).c(),m.m(r,a)):m&&(m.d(1),m=null),(!g||1&t[0])&&s!==(s=e[0].brandName+"")&&Oe(l,s),1===e[0].appConfig.login.guideme?p?(p.p(e,t),1&t[0]&&Be(p,1)):((p=lr(e)).c(),Be(p,1),p.m(o,c)):p&&(He(),Ve(p,1,1,()=>{p=null}),Ne()),1===e[0].appConfig.login.SSO?u?u.p(e,t):((u=cr(e)).c(),u.m(o,null)):u&&(u.d(1),u=null)},i(e){g||(Be(p),g=!0)},o(e){Ve(p),g=!1},d(e){e&&Ee(r),m&&m.d(),p&&p.d(),u&&u.d()}}}function sr(e){let r,a,i=e[0].labels.invalidLoginCred+"",o;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=Ie(i),Fe(a,"class","mgPlayerJSProd_invalid-log-error-wrapper mgPlayerJSProd_font-size-14 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),Fe(r,"class","mgPlayerJSProd_width-100 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-tb-15")},m(e,t){Le(e,r,t),xe(r,a),xe(a,o)},p(e,t){1&t[0]&&i!==(i=e[0].labels.invalidLoginCred+"")&&Oe(o,i)},d(e){e&&Ee(r)}}}function lr(r){let a,i,o,n,s=r[0].labels.placeholderEmail+"",l,d,c,g,F,m,p=r[0].labels.emailError+"",u,O,h,P,y=r[0].labels.placeholderPassword+"",_,R,S,f,H,C,b=r[0].labels.passwordError+"",v,N,B,w,V,J,G,A=r[0].labels.loginTitle+"",T,z,U=!GmCXt.isPlayer()&&!GmCXt.isWestpac(),j,X,k,x=r[0].labels.forgotPass+"",L,W,E,M,I,Z,D=!r[0].config.hideCaptcha&&dr(r),$=U&&(r=>{let a,i,o=r[0].labels.logInWithSSOCreator+"",n,s,l;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),n=Ie(o),Fe(i,"type","button"),Fe(i,"id","mgPlayerJSProd_label-login-with-sso"),Fe(i,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_font-size-15 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-10"),Fe(a,"class","mgPlayerJSProd_signin-form-container mgPlayerJSProd_text-align-center")},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),s||(l=$e(i,"click",r[26]),s=!0)},p(e,t){1&t[0]&&o!==(o=e[0].labels.logInWithSSOCreator+"")&&Oe(n,o)},d(e){e&&Ee(a),s=!1,l()}}})(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),l=Ie(s),d=De(),c=Me("input"),F=De(),m=Me("wmgPlayerJSProd_"),u=Ie(p),O=De(),h=Me("wmgPlayerJSProd_"),P=Me("wmgPlayerJSProd_"),_=Ie(y),R=De(),S=Me("input"),H=De(),C=Me("wmgPlayerJSProd_"),v=Ie(b),N=De(),D&&D.c(),B=De(),w=Me("wmgPlayerJSProd_"),V=De(),J=Me("wmgPlayerJSProd_"),G=Me("button"),T=Ie(A),z=De(),$&&$.c(),j=De(),X=Me("wmgPlayerJSProd_"),k=Me("button"),L=Ie(x),W=De(),E=Me("wmgPlayerJSProd_"),Fe(n,"id","mgPlayerJSProd_input-login-email-label"),Fe(n,"class","mgPlayerJSProd_text-align-left mgPlayerJSProd_login-field-label"),Fe(c,"id","mgPlayerJSProd_input-login-email"),Fe(c,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_font-size-16 mgPlayerJSProd_inline-block-vm"),Fe(c,"maxlength","50"),Fe(c,"spellcheck","true"),Fe(c,"type","email"),Fe(c,"placeholder",g=r[0].labels.placeholderEmail),Fe(c,"aria-describedby","mgPlayerJSProd_input-login-email-err"),Fe(c,"aria-labelledby","mgPlayerJSProd_input-login-email-label"),Fe(c,"autocomplete","email"),Fe(c,"aria-label","Email ID"),c.required=!0,Fe(m,"id","mgPlayerJSProd_input-login-email-err"),Fe(m,"class","mgPlayerJSProd_error-input-wrapper emailid-error-wrapper"),Re(m,"active",r[3]),Fe(o,"class","mgPlayerJSProd_input-email-wrapper mgPlayerJSProd_margin-tb-10"),Fe(P,"class","mgPlayerJSProd_text-align-left mgPlayerJSProd_login-field-label"),Fe(S,"id","mgPlayerJSProd_input-login-pass"),Fe(S,"autocomplete","new-password"),Fe(S,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_font-size-16 mgPlayerJSProd_ege-inline-block-vm"),Fe(S,"minlength","6"),Fe(S,"maxlength","20"),Fe(S,"spellcheck","true"),Fe(S,"type","password"),Fe(S,"placeholder",f=r[0].labels.placeholderPassword),Fe(S,"name","password"),S.required=!0,Fe(S,"aria-describedby","mgPlayerJSProd_input-login-pass-err"),Fe(S,"aria-label","Password"),Fe(C,"id","mgPlayerJSProd_input-login-pass-err"),Fe(C,"class","mgPlayerJSProd_error-input-wrapper password-error-wrapper"),Re(C,"active",r[4]),Fe(h,"class","mgPlayerJSProd_input-password-wrapper mgPlayerJSProd_margin-tb-10"),Fe(i,"class","mgPlayerJSProd_signin-form-input"),Fe(w,"class","mgPlayerJSProd_clear"),Fe(G,"id","mgPlayerJSProd_btn-login-title"),Fe(G,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_font-size-15"),Fe(G,"aria-label","Login"),Fe(G,"type","button"),Fe(J,"class","mgPlayerJSProd_btn-login-wrapper mgPlayerJSProd_text-align-center"),Fe(k,"id","mgPlayerJSProd_label-login-forgot-pass"),Fe(k,"type","button"),Fe(k,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_options-label mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_inline-block-vm mgPlayerJSProd_font-weight-550"),Fe(X,"class","mgPlayerJSProd_float-right mgPlayerJSProd_options-wrapper mgPlayerJSProd_single-option-wrapper"),Fe(E,"class","mgPlayerJSProd_clear"),Fe(a,"class","mgPlayerJSProd_signin-form-container")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),xe(n,l),xe(o,d),xe(o,c),We(c,r[1]),r[31](c),xe(o,F),xe(o,m),xe(m,u),xe(i,O),xe(i,h),xe(h,P),xe(P,_),xe(h,R),xe(h,S),We(S,r[2]),r[33](S),xe(h,H),xe(h,C),xe(C,v),xe(i,N),D&&D.m(i,null),xe(a,B),xe(a,w),xe(a,V),xe(a,J),xe(J,G),xe(G,T),xe(a,z),$&&$.m(a,null),xe(a,j),xe(a,X),xe(X,k),xe(k,L),xe(a,W),xe(a,E),M=!0,I||(Z=[$e(c,"input",r[30]),$e(S,"input",r[32]),$e(G,"click",r[22]),$e(k,"click",r[23])],I=!0)},p(e,t){(!M||1&t[0])&&s!==(s=e[0].labels.placeholderEmail+"")&&Oe(l,s),(!M||1&t[0]&&g!==(g=e[0].labels.placeholderEmail))&&Fe(c,"placeholder",g),2&t[0]&&c.value!==e[1]&&We(c,e[1]),(!M||1&t[0])&&p!==(p=e[0].labels.emailError+"")&&Oe(u,p),(!M||8&t[0])&&Re(m,"active",e[3]),(!M||1&t[0])&&y!==(y=e[0].labels.placeholderPassword+"")&&Oe(_,y),(!M||1&t[0]&&f!==(f=e[0].labels.placeholderPassword))&&Fe(S,"placeholder",f),4&t[0]&&S.value!==e[2]&&We(S,e[2]),(!M||1&t[0])&&b!==(b=e[0].labels.passwordError+"")&&Oe(v,b),(!M||16&t[0])&&Re(C,"active",e[4]),e[0].config.hideCaptcha?D&&(He(),Ve(D,1,1,()=>{D=null}),Ne()):D?(D.p(e,t),1&t[0]&&Be(D,1)):((D=dr(e)).c(),Be(D,1),D.m(i,null)),(!M||1&t[0])&&A!==(A=e[0].labels.loginTitle+"")&&Oe(T,A),U&&$.p(e,t),(!M||1&t[0])&&x!==(x=e[0].labels.forgotPass+"")&&Oe(L,x)},i(e){M||(Be(D),M=!0)},o(e){Ve(D),M=!1},d(e){e&&Ee(a),r[31](null),r[33](null),D&&D.d(),$&&$.d(),I=!1,ke(Z)}}}function dr(t){let r,a,i=t[0].labels.captchaLbl+"",o,n,s,l,d,c,g;function e(e){t[34](e)}function m(e){t[35](e)}function p(e){t[36](e)}var u={};return void 0!==t[18]&&(u.captchaValid=t[18]),void 0!==t[19]&&(u.showCaptchaError=t[19]),void 0!==t[20]&&(u.inputCaptchaRef=t[20]),s=new Vt({props:u}),ue.push(()=>j(s,"captchaValid",e)),ue.push(()=>j(s,"showCaptchaError",m)),ue.push(()=>j(s,"inputCaptchaRef",p)),{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),ze(s.$$.fragment),Fe(a,"class","mgPlayerJSProd_text-align-left mgPlayerJSProd_login-field-label"),Fe(r,"class","mgPlayerJSProd_margin-tb-10")},m(e,t){Le(e,r,t),xe(r,a),xe(a,o),xe(r,n),Ue(s,r,null),g=!0},p(e,t){(!g||1&t[0])&&i!==(i=e[0].labels.captchaLbl+"")&&Oe(o,i);var r={};!l&&262144&t[0]&&(l=!0,r.captchaValid=e[18],U(()=>l=!1)),!d&&524288&t[0]&&(d=!0,r.showCaptchaError=e[19],U(()=>d=!1)),!c&&1048576&t[0]&&(c=!0,r.inputCaptchaRef=e[20],U(()=>c=!1)),s.$set(r)},i(e){g||(Be(s.$$.fragment,e),g=!0)},o(e){Ve(s.$$.fragment,e),g=!1},d(e){e&&Ee(r),je(s)}}}function cr(r){let a,i,o,n=r[0].labels.logInWithSSO+"",s,l,d;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("button"),s=Ie(n),Fe(o,"type","button"),Fe(o,"id","mgPlayerJSProd_label-login-with-sso"),Fe(o,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large mgPlayerJSProd_font-size-16 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-t-50"),Fe(i,"class","mgPlayerJSProd_margin-tb-20"),Fe(a,"class","mgPlayerJSProd_signin-form-container")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,s),l||(d=$e(o,"click",r[27]),l=!0)},p(e,t){1&t[0]&&n!==(n=e[0].labels.logInWithSSO+"")&&Oe(s,n)},d(e){e&&Ee(a),l=!1,d()}}}function gr(e){let r,a,i,o,n=e[0].labels.loginOtpScreenTitle+"",s,l,d,c,g=1===e[0].appConfig.login.guideme&&mr(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),s=Ie(n),l=De(),g&&g.c(),d=De(),c=Me("wmgPlayerJSProd_"),Fe(o,"class","mgPlayerJSProd_h2 mgPlayerJSProd_font-size-24 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-25"),Fe(c,"class","mgPlayerJSProd_ege-clear"),Fe(i,"role","form"),Fe(i,"aria-labelledby","guide-verify-otp-form"),Fe(i,"name","form.verifyOtp"),Fe(i,"autocomplete","off"),Fe(a,"class","mgPlayerJSProd_signin-page-wrapper"),Fe(r,"class","mgPlayerJSProd_ege-panel-main-container mgPlayerJSProd_signin-page-container mgPlayerJSProd_overflow mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),xe(i,o),xe(o,s),xe(i,l),g&&g.m(i,null),xe(i,d),xe(i,c)},p(e,t){1&t[0]&&n!==(n=e[0].labels.loginOtpScreenTitle+"")&&Oe(s,n),1===e[0].appConfig.login.guideme?g?g.p(e,t):((g=mr(e)).c(),g.m(i,d)):g&&(g.d(1),g=null)},d(e){e&&Ee(r),g&&g.d()}}}function mr(r){let a,i,o,n,s=r[0].labels.placeholderOtp+"",l,d,c,g,m,p,u=r[0].labels.otpError+"",h,P,y,_,S,f=r[0].labels.btnOtpVerify+"",C,b,v,w,J,G,A,T,X,k;function x(e){return e[9]?ur:pr}let L=x(r),E=L(r),M=r[10]&&hr(r),I=r[12]&&Pr(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),l=Ie(s),d=De(),c=Me("input"),m=De(),p=Me("wmgPlayerJSProd_"),h=Ie(u),y=De(),_=Me("wmgPlayerJSProd_"),S=Me("button"),C=Ie(f),J=De(),G=Me("wmgPlayerJSProd_"),E.c(),A=De(),M&&M.c(),T=De(),I&&I.c(),Fe(n,"id","mgPlayerJSProd_input-otp-label"),Fe(n,"class","mgPlayerJSProd_text-align-left mgPlayerJSProd_login-field-label"),Fe(c,"id","mgPlayerJSProd_input-otp"),Fe(c,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_font-size-13 mgPlayerJSProd_inline-block-vm"),Fe(c,"maxlength","6"),Fe(c,"spellcheck","true"),Fe(c,"type","text"),Fe(c,"placeholder",g=r[0].labels.placeholderOtp),c.required=!0,Fe(c,"name","otp"),Fe(c,"pattern","^[0-9]*$"),Fe(c,"aria-describedby","mgPlayerJSProd_input-otp-err"),Fe(c,"aria-labelledby","mgPlayerJSProd_input-otp-label"),Fe(p,"id","mgPlayerJSProd_input-otp-err"),Fe(p,"class",P="mgPlayerJSProd_error-input-wrapper emailid-error-wrapper "+(r[11].otpRequired?"active":"")),Fe(o,"class","mgPlayerJSProd_input-email-wrapper mgPlayerJSProd_margin-tb-10"),Fe(i,"class","mgPlayerJSProd_signin-form-input"),Fe(S,"id","mgPlayerJSProd_btn-verify-otp"),Fe(S,"class",b="mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large mgPlayerJSProd_font-size-16 "+(r[11].otpRequired?"mgPlayerJSProd_disabled":"")),Fe(S,"type","button"),Fe(S,"aria-disabled",v=r[11].otpRequired),Fe(S,"aria-label",w=r[0].labels.btnOtpVerify),Fe(_,"class","mgPlayerJSProd_margin-tb-25 mgPlayerJSProd_text-align-center"),Fe(G,"class","mgPlayerJSProd_options-wrapper"),Fe(a,"class","mgPlayerJSProd_signin-form-container")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),xe(n,l),xe(o,d),xe(o,c),We(c,r[8]),xe(o,m),xe(o,p),xe(p,h),xe(a,y),xe(a,_),xe(_,S),xe(S,C),xe(a,J),xe(a,G),E.m(G,null),xe(a,A),M&&M.m(a,null),xe(a,T),I&&I.m(a,null),X||(k=[$e(c,"input",r[37]),$e(c,"focus",r[38]),$e(S,"click",r[21])],X=!0)},p(e,t){1&t[0]&&s!==(s=e[0].labels.placeholderOtp+"")&&Oe(l,s),1&t[0]&&g!==(g=e[0].labels.placeholderOtp)&&Fe(c,"placeholder",g),256&t[0]&&c.value!==e[8]&&We(c,e[8]),1&t[0]&&u!==(u=e[0].labels.otpError+"")&&Oe(h,u),2048&t[0]&&P!==(P="mgPlayerJSProd_error-input-wrapper emailid-error-wrapper "+(e[11].otpRequired?"active":""))&&Fe(p,"class",P),1&t[0]&&f!==(f=e[0].labels.btnOtpVerify+"")&&Oe(C,f),2048&t[0]&&b!==(b="mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large mgPlayerJSProd_font-size-16 "+(e[11].otpRequired?"mgPlayerJSProd_disabled":""))&&Fe(S,"class",b),2048&t[0]&&v!==(v=e[11].otpRequired)&&Fe(S,"aria-disabled",v),1&t[0]&&w!==(w=e[0].labels.btnOtpVerify)&&Fe(S,"aria-label",w),L===(L=x(e))&&E?E.p(e,t):(E.d(1),(E=L(e))&&(E.c(),E.m(G,null))),e[10]?M?M.p(e,t):((M=hr(e)).c(),M.m(a,T)):M&&(M.d(1),M=null),e[12]?I?I.p(e,t):((I=Pr(e)).c(),I.m(a,null)):I&&(I.d(1),I=null)},d(e){e&&Ee(a),E.d(),M&&M.d(),I&&I.d(),X=!1,ke(k)}}}function pr(r){let a,i=r[0].labels.resendOTP+"",o,n,s,l,d=r[0].labels.backToLogin+"",c,g,m,p;return{c(){a=Me("button"),o=Ie(i),s=De(),l=Me("button"),c=Ie(d),Fe(a,"id","mgPlayerJSProd_label-resend-otp"),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_options-label mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-15 mgPlayerJSProd_cursor-pointer"),Fe(a,"type","button"),Fe(a,"aria-label",n=r[0].labels.resendOTP),Fe(l,"id","mgPlayerJSProd_label-back-to-login"),Fe(l,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_options-label mgPlayerJSProd_text-align-center mgPlayerJSProd_back-to-login mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_font-size-15 mgPlayerJSProd_inline-block-vm"),Fe(l,"aria-label",g=r[0].labels.backToLogin),Fe(l,"type","button")},m(e,t){Le(e,a,t),xe(a,o),Le(e,s,t),Le(e,l,t),xe(l,c),m||(p=[$e(a,"click",r[25]),$e(l,"click",r[24])],m=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.resendOTP+"")&&Oe(o,i),1&t[0]&&n!==(n=e[0].labels.resendOTP)&&Fe(a,"aria-label",n),1&t[0]&&d!==(d=e[0].labels.backToLogin+"")&&Oe(c,d),1&t[0]&&g!==(g=e[0].labels.backToLogin)&&Fe(l,"aria-label",g)},d(e){e&&(Ee(a),Ee(s),Ee(l)),m=!1,ke(p)}}}function ur(e){let r,a=e[0].labels.otpTimer+"",i,o,n=e[0].labels.seconds+"",s;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),o=Ie(e[7]),s=Ie(n),Fe(r,"class","mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-13 mgPlayerJSProd_margin-tb-5 mgPlayerJSProd_theme-color")},m(e,t){Le(e,r,t),xe(r,i),xe(r,o),xe(r,s)},p(e,t){1&t[0]&&a!==(a=e[0].labels.otpTimer+"")&&Oe(i,a),128&t[0]&&Oe(o,e[7]),1&t[0]&&n!==(n=e[0].labels.seconds+"")&&Oe(s,n)},d(e){e&&Ee(r)}}}function hr(e){let r,a=e[0].labels.otpSent+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-13 mgPlayerJSProd_margin-tb-5 mgPlayerJSProd_theme-color")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t[0]&&a!==(a=e[0].labels.otpSent+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function Pr(e){let r,a=e[0].labels.limitWarning+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-13 mgPlayerJSProd_margin-tb-5 mgPlayerJSProd_error-text-color")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t[0]&&a!==(a=e[0].labels.limitWarning+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function yr(e){let r,a,i=void 0!==e[0].labels.selectOrganization&&_r(e),o=e[13]&&Sr(e);return{c(){r=Me("wmgPlayerJSProd_"),i&&i.c(),a=De(),o&&o.c(),Fe(r,"class","mgPlayerJSProd_multiple-org-list-container mgPlayerJSProd_margin-tb-15")},m(e,t){Le(e,r,t),i&&i.m(r,null),xe(r,a),o&&o.m(r,null)},p(e,t){void 0!==e[0].labels.selectOrganization?i?i.p(e,t):((i=_r(e)).c(),i.m(r,a)):i&&(i.d(1),i=null),e[13]?o?o.p(e,t):((o=Sr(e)).c(),o.m(r,null)):o&&(o.d(1),o=null)},d(e){e&&Ee(r),i&&i.d(),o&&o.d()}}}function _r(e){let r,a=e[0].labels.selectOrganization+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_h2 mgPlayerJSProd_font-size-24 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-25")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t[0]&&a!==(a=e[0].labels.selectOrganization+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function Sr(t){let i,o=D(t[14]),n=[];for(let e=0;e<o.length;e+=1)n[e]=fr(or(t,o,e));return{c(){i=Me("wmgPlayerJSProd_");for(let e=0;e<n.length;e+=1)n[e].c();Fe(i,"class","mgPlayerJSProd_multiple-org-list-wrapper mgPlayerJSProd_margin-tb-15 mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_scrollbar-thin")},m(e,t){Le(e,i,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(i,null)},p(t,r){if(268451840&r[0]){o=D(t[14]);let e;for(e=0;e<o.length;e+=1){var a=or(t,o,e);n[e]?n[e].p(a,r):(n[e]=fr(a),n[e].c(),n[e].m(i,null))}for(;e<n.length;e+=1)n[e].d(1);n.length=o.length}},d(e){e&&Ee(i),F(n,e)}}}function fr(r){let a,i,o=r[53].name+"",n,s,l,d,c;function g(){return r[39](r[53])}return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),n=Ie(o),l=De(),Fe(i,"class","mgPlayerJSProd_btn-default"),Fe(i,"aria-label",s=r[53].name),Fe(a,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_margin-tb-25")},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),xe(a,l),d||(c=$e(i,"click",g),d=!0)},p(e,t){r=e,16384&t[0]&&o!==(o=r[53].name+"")&&Oe(n,o),16384&t[0]&&s!==(s=r[53].name)&&Fe(i,"aria-label",s)},d(e){e&&Ee(a),d=!1,c()}}}function Cr(e){let r,a,i,o,n,s,l,d=(r=new Rt({}),e[5]&&!e[13]&&nr(e)),c=e[6]&&!e[13]&&gr(e),g=e[13]&&yr(e);return s=new tr({}),{c(){ze(r.$$.fragment),a=De(),d&&d.c(),i=De(),c&&c.c(),o=De(),g&&g.c(),n=De(),ze(s.$$.fragment)},m(e,t){Ue(r,e,t),Le(e,a,t),d&&d.m(e,t),Le(e,i,t),c&&c.m(e,t),Le(e,o,t),g&&g.m(e,t),Le(e,n,t),Ue(s,e,t),l=!0},p(e,t){e[5]&&!e[13]?d?(d.p(e,t),8224&t[0]&&Be(d,1)):((d=nr(e)).c(),Be(d,1),d.m(i.parentNode,i)):d&&(He(),Ve(d,1,1,()=>{d=null}),Ne()),e[6]&&!e[13]?c?c.p(e,t):((c=gr(e)).c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null),e[13]?g?g.p(e,t):((g=yr(e)).c(),g.m(n.parentNode,n)):g&&(g.d(1),g=null)},i(e){l||(Be(r.$$.fragment,e),Be(d),Be(s.$$.fragment,e),l=!0)},o(e){Ve(r.$$.fragment,e),Ve(d),Ve(s.$$.fragment,e),l=!1},d(e){e&&(Ee(a),Ee(i),Ee(o),Ee(n)),je(r,e),d&&d.d(e),c&&c.d(e),g&&g.d(e),je(s,e)}}}function br(){}function vr(e,t,r){let i="",a="",o,n,s=!0,l=!1,d=30,c=0,g,m=!1,p=!1,u={otpRequired:!1},h=!1,P=[],y,_,S,f=!1,C;ce.currentView="login-view";let b,v;function w(t){if(P)for(let e=0;e<P.length;e++)if(P[e].email===t)if((new Date).getTime()<P[e].expiry)return P[e].token}de(ge.appList),me(()=>{});let J=!1;function G(){r(17,J=!0),ce.hideLoading()}async function A(e){if(ce.hideLoading(),"string"==typeof e)return L(e,i),$.open(ce.labels.signInVerifyYourAccount,"success",function(){r(5,s=!1),r(6,l=!0),setTimeout(function(){mg$("#mgPlayerJSProd_input-otp").focus()},500)}),mg$("#mgPlayerJSProd_btn-ok-common-popup").focus(),!0;e&&e.orgs?(r(13,f=!0),r(14,C=e.orgs)):(mg$("#mgPlayerJSProd_btn-verify-otp").addClass("mgPlayerJSProd_disabled"),ce.onUserSignin(e,!1))}let T=!1,X=!1,k;function x(){return""!==i.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(i)}function L(t,r){let a=!0;for(let e=0;e<P.length;e++)if(P[e].email===r){y=t,P[e].token=t,P[e].expiry=(new Date).getTime()+ce.thirtyDaysInMSeconds,a=!1;break}var e;a&&((e={}).email=i,e.token=t,e.expiry=(new Date).getTime()+ce.thirtyDaysInMSeconds,P.push(e),y=t),GmCXt.saveToStorage("dual_auth_token",ce.thirtyDaysInSeconds)}function E(t){ir.try(function(){var e={email_id:i,password:a,keep_login:1};t&&(e.org_id=t),(y=w(i))&&(e.token=y),GmCXt.api.userSignIn(e,A,G)},700)}var M=mg$(window);M.off("resize"),M.on("resize",function(){ce.setContainerHeight("signin")}),pe(()=>{clearTimeout(_),clearInterval(S)}),ce.setContainerHeight("signin");return[ce,i,a,!1,!1,s,l,d,g,m,p,u,h,f,C,b,v,J,T,X,k,function(){ce.showLoading();var e=""!==(e=g)&&6===e.length&&/^[0-9]*$/.test(e);e?(e={email:i,code:g,token:y},r(10,p=!1),GmCXt.api.verifyUser(e,A,G)):(ce.hideLoading(),r(11,u.otpRequired=!0,u))},function(){var e;ce.showLoading(),r(3,o=!1),r(4,n=!1),T||GmCXt.conf.hideCaptcha||(r(19,X=!0),k?.focus(),ce.hideLoading()),x()?((e=6<=a.length&&a.length<=20)||(r(4,!0),v?.focus(),ce.hideLoading()),(T||GmCXt.conf.hideCaptcha)&&x()&&e&&(e={email_id:i,password:a,keep_login:1},(y=w(i))&&(e.token=y),GmCXt.api.userSignIn(e,A,G))):(r(3,!0),b?.focus(),ce.hideLoading())},function(){ge.activeView.set("forgotpwd")},function(){r(6,l=!1),r(5,s=!0),r(8,g=""),c=0,r(12,h=!1),ce.setContainerHeight("signin")},function(){var e;r(7,d=30),r(9,m=!0),3<(c+=1)?(r(9,m=!1),r(12,h=!0),setTimeout(function(){c=0,r(12,h=!1)},3e5)):(r(10,p=!0),(e={email:i}).token=y,GmCXt.api.resendOTP(e,function(e){L(e,i)}),S=setInterval(function(){r(7,d--,d),d<=0&&clearInterval(S)},1e3),_=setTimeout(()=>{r(9,m=!1),r(10,p=!1),clearInterval(S)},3e4))},function(){ge.activeView.set("signInSSO")},function(){r(0,ce.ssoHitCount=0,ce),GmCXt.isMyGuide()?ce.getSsoId().then(function(e){e&&e.id&&ce.openSsoTab()}).catch(function(){}):ce.openSsoTab()},E,br,function(){i=this.value,r(1,i)},function(e){ue[e?"unshift":"push"](()=>{b=e,r(15,b)})},function(){a=this.value,r(2,a)},function(e){ue[e?"unshift":"push"](()=>{v=e,r(16,v)})},function(e){T=e,r(18,T)},function(e){X=e,r(19,X)},function(e){k=e,r(20,k)},function(){g=this.value,r(8,g)},()=>{r(11,u.otpRequired=!1,u)},e=>E(e.organization_id)]}ir.isContextError=function(e){return!(!(e=e.toString())||-1===e.indexOf("Extension context invalidated"))},ir.show=function(e,t){e=(e=ir.isContextError(e)?ce.labels.extensionContextError:e)+(t?" (Error: "+t+") ":"");ce.showPopup(e,"","error")},ir.try=function(e,t){try{return e()}catch(e){ir.show(e,t)}},ir.showErrorMsg=function(e,t){ce.hideLoading(),ce.settingsLoader=!1,t&&(e=e+" (Error: "+t+")"),ce.showPopup(e,"","alert")},ir.on=function(t,r){if(ce.isApiCallOn=!1,null!=t){var a=parseInt(t.code);if(2036===a&&(0<t.url.indexOf("user/signout")||0<t.url.indexOf("user/token")))return ce.clearSession(),GmCXt.showWidget(),!1;let e="";switch(!0){case 3044===a:ir.showErrorMsg(ce.labels.segmentationRequired,a);break;case 1001===a:ir.showErrorMsg(ce.labels.notAutorised,a);break;case 1003===a:e=ce.labels[1003]+"(Error:"+a+")",ce.showPopup(e,function(){ce.clearSession("1003: Access token invalid")},"error");break;case 1007===a:ce.getAccessTokenFromRefreshToken(r,t);break;case 1005===a:"Organization not found"===t.message[0]?ir.showErrorMsg(ce.labels.orgError,a):ir.showErrorMsg(ce.labels[a],a);break;case 1009===a:ir.showErrorMsg(ce.labels.signInVerifyYourEmail,a);break;case 2001===a:ce.loginInvalidCred=!0;break;case 3045===a:break;case 3061===a:ir.showErrorMsg(ce.labels[a]);break;case 2004===a:e=ce.labels[2004]+"(Error:"+a+")",ce.showPopup(e,function(){ce.clearSession("2004: Session Expired")},"error");break;case 3063===a:t&&-1===t.url.indexOf("task_list")&&ir.showErrorMsg(ce.labels.applicationJsonError,a);break;case 2200===a:case 405===a:case 3008===a:case 1019===a:case 2044===a:case 3068===a:case 1017===a:case 1018===a:case 2e3===a:case 429===a:case 2002<=a&&a<=2099:case 3e3<=a&&a<=3099:case 4e3<=a&&a<=4099:ir.showErrorMsg(ce.labels[a],a);break;case 1014===a:ce.goToMaintenance();break;case 403===a&&t.message[0]===GmCXt.unknownError:ir.showErrorMsg(ce.labels.lostInternetConnection,a);break;default:ce.showPopup(ce.labels.apiError,function(){(GmCXt.user||GmCXt.onPrem())&&GmCXt.redirect("#/home/currentpage")},"error")}}else ir.showErrorMsg(ce.labels.lostInternetConnection,c)};class wr extends e{constructor(e){super(),t(this,e,vr,Cr,d,{getSignInUser:29},null,[-1,-1])}get getSignInUser(){return br}}function Jr(e,t,r){e=e.slice();return e[17]=t[r],e[19]=r,e}function Gr(e){let r,a,i,o,n=!e[1]&&Ar(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=De(),n&&n.c(),Fe(a,"class","mgPlayerJSProd_application-overlay-wrapper"),Fe(r,"class",o="mgPlayerJSProd_application-dropdown mgPlayerJSProd_cursor mgPlayerJSProd_cursor-default "+(e[0].isMicroPlayer?"mgPlayerJSProd_application-dropdown-mini-player":""))},m(e,t){Le(e,r,t),xe(r,a),xe(r,i),n&&n.m(r,null)},p(e,t){e[1]?n&&(n.d(1),n=null):n?n.p(e,t):((n=Ar(e)).c(),n.m(r,null)),1&t&&o!==(o="mgPlayerJSProd_application-dropdown mgPlayerJSProd_cursor mgPlayerJSProd_cursor-default "+(e[0].isMicroPlayer?"mgPlayerJSProd_application-dropdown-mini-player":""))&&Fe(r,"class",o)},d(e){e&&Ee(r),n&&n.d()}}}function Ar(r){let a,i,o=r[0].labels.selectAnApplication+"",n,s,l,d,c,g=r[0].labels.close+"",m,p,u;let h=(GmCXt.isEmpty(GmCXt.appList)?Tr:Xr)(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=Ie(o),s=De(),h.c(),l=De(),d=Me("wmgPlayerJSProd_"),c=Me("wmgPlayerJSProd_"),m=Ie(g),Fe(i,"class","mgPlayerJSProd_title-all-apps"),Fe(a,"class","mgPlayerJSProd_application-list-wrapper"),Fe(c,"id","mgPlayerJSProd_close-application-dropdown"),Fe(c,"class","mgPlayerJSProd_dropdown-btn-close mgPlayerJSProd_text-color-dark mgPlayerJSProd_font-weight-550 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_cursor-pointer"),Fe(d,"class","mgPlayerJSProd_application-dropdown-close-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-flex-end")},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),xe(a,s),h.m(a,null),Le(e,l,t),Le(e,d,t),xe(d,c),xe(c,m),p||(u=$e(c,"click",r[4]),p=!0)},p(e,t){1&t&&o!==(o=e[0].labels.selectAnApplication+"")&&Oe(n,o),h.p(e,t),1&t&&g!==(g=e[0].labels.close+"")&&Oe(m,g)},d(e){e&&(Ee(a),Ee(l),Ee(d)),h.d(),p=!1,u()}}}function Tr(e){let r,a=e[0].labels.noApp+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a)},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t&&a!==(a=e[0].labels.noApp+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function Xr(t){let i,o=D(Object.entries(GmCXt.appList).sort(Or)),n=[];for(let e=0;e<o.length;e+=1)n[e]=xr(Jr(t,o,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();i=I()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Le(t,i,r)},p(t,r){if(289&r){o=D(Object.entries(GmCXt.appList).sort(Or));let e;for(e=0;e<o.length;e+=1){var a=Jr(t,o,e);n[e]?n[e].p(a,r):(n[e]=xr(a),n[e].c(),n[e].m(i.parentNode,i))}for(;e<n.length;e+=1)n[e].d(1);n.length=o.length}},d(e){e&&Ee(i),F(n,e)}}}function kr(r){let a,i,o,n,s=0<=r[17][1].image_url.indexOf("default_icon"),l,d=-1==r[17][1].image_url.indexOf("default_icon"),c,g,m,p,u,h,P,y,_,S=s&&(e=>{let r,a,i,o,n;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),Fe(i=Me("img"),"class","mgPlayerJSProd_logo-image mgPlayerJSProd_width-height-auto mgPlayerJSProd_max-width-height-100 mgPlayerJSProd_custom-image"),Q(i.src,o=e[0].getBasePath("common/img/logo-csod.png"))||Fe(i,"src",o),Fe(i,"alt",n=e[0].labels.brandLogo),Fe(a,"class","mgPlayerJSProd_application-img-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_position-center"),Fe(r,"class","mgPlayerJSProd_select-application-cart")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i)},p(e,t){1&t&&!Q(i.src,o=e[0].getBasePath("common/img/logo-csod.png"))&&Fe(i,"src",o),1&t&&n!==(n=e[0].labels.brandLogo)&&Fe(i,"alt",n)},d(e){e&&Ee(r)}}})(r),f=d&&(e=>{let r,t,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_select-application-image mgPlayerJSProd_custom-image"),Q(r.src,t=e[8](e[17][1]))||Fe(r,"src",t),Fe(r,"alt",a=e[0].staticContentPath+"default_app_icon.png")},m(e,t){Le(e,r,t)},p(e,t){1&t&&a!==(a=e[0].staticContentPath+"default_app_icon.png")&&Fe(r,"alt",a)},d(e){e&&Ee(r)}}})(r),C=r[17][1].application_id==GmCXt.activeAppId&&(e=>{let r,a=e[0].svgs.app_selected+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_selected-application-tick")},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t&&a!==(a=e[0].svgs.app_selected+"")&&(r.innerHTML=a)},d(e){e&&Ee(r)}}})(r);function b(){return r[10](r[17])}function v(){return r[11](r[17])}return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=De(),S&&S.c(),l=De(),f&&f.c(),c=De(),C&&C.c(),g=De(),m=Me("wmgPlayerJSProd_"),(p=Me("wmgPlayerJSProd_")).textContent=""+r[17][1].title,u=De(),h=Me("wmgPlayerJSProd_"),P=De(),Fe(o,"class","mgPlayerJSProd_application-overlay "+(r[17][1].application_id==GmCXt.activeAppId?"mgPlayerJSProd_show-application-overlay":"")),Fe(i,"id","mgPlayerJSProd_switch-app"),Fe(i,"class","mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_application-list-img mgPlayerJSProd_width-100 mgPlayerJSProd_position-relative"),Fe(p,"id","mgPlayerJSProd_app-title"),Fe(p,"class","mgPlayerJSProd_application-list-title mgPlayerJSProd_float-left mgPlayerJSProd_text-overflow-ellipsis"),Fe(m,"class","mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_application-details-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_width-100 mgPlayerJSProd_padding-lr-10"),Fe(h,"class","mgPlayerJSProd_clear"),Fe(a,"class","mgPlayerJSProd_application-list mgPlayerJSProd_cursor-pointer mgPlayerJSProd_margin-10 mgPlayerJSProd_float-left "+(r[17][1].application_id==GmCXt.activeAppId?"mgPlayerJSProd_application-selected":""))},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(i,n),S&&S.m(i,null),xe(i,l),f&&f.m(i,null),xe(i,c),C&&C.m(i,null),xe(a,g),xe(a,m),xe(m,p),xe(a,u),xe(a,h),xe(a,P),y||(_=[$e(i,"click",b),$e(p,"click",v)],y=!0)},p(e,t){r=e,s&&S.p(r,t),d&&f.p(r,t),r[17][1].application_id==GmCXt.activeAppId&&C.p(r,t)},d(e){e&&Ee(a),S&&S.d(),f&&f.d(),C&&C.d(),y=!1,ke(_)}}}function xr(e){let r,a=(GmCXt.FT.creatorApp&&"guide"===e[17][1].type||GmCXt.FT.isPlayer&&"electron"===e[17][1].type&&e[0].showGuidesFromDesktopApp)&&kr(e);return{c(){a&&a.c(),r=I()},m(e,t){a&&a.m(e,t),Le(e,r,t)},p(e,t){GmCXt.FT.creatorApp&&"guide"===e[17][1].type||GmCXt.FT.isPlayer&&"electron"===e[17][1].type&&e[0].showGuidesFromDesktopApp?a?a.p(e,t):((a=kr(e)).c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(e){e&&Ee(r),a&&a.d(e)}}}function Lr(e){let r,a=e[2].title+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_selected-app-name mgPlayerJSProd_font-size-15 mgPlayerJSProd_text-overflow-ellipsis")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){4&t&&a!==(a=e[2].title+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function Er(r){let a,i,o=r[0].svgs.more_keyword+"",n,s,l,d=r[0].automationDropdown&&Mr(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),n=De(),d&&d.c(),Fe(i,"id","mgPlayerJSProd_icon-guide-automation"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-automation-icon mgPlayerJSProd_position-center"),Fe(i,"aria-label","automation dropdown"),Fe(a,"class","mgPlayerJSProd_select-application mgPlayerJSProd_select-automation-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_show-text-tooltip mgPlayerJSProd_cursor-pointer")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),d&&d.m(a,null),s||(l=$e(i,"click",r[7]),s=!0)},p(e,t){1&t&&o!==(o=e[0].svgs.more_keyword+"")&&(i.innerHTML=o),e[0].automationDropdown?d?d.p(e,t):((d=Mr(e)).c(),d.m(a,null)):d&&(d.d(1),d=null)},d(e){e&&Ee(a),d&&d.d(),s=!1,l()}}}function Mr(e){let r,a=e[0].isOwnerOrAppAdmin()&&e[2]&&!e[2].settings.sandbox||!0,i,o=e[0].isOwnerOrAppAdmin()&&!e[0].hideMirrorAppCtrl()&&e[2]&&!e[2].settings.sandbox,n,s=e[0].isGuideAutomationEnabledForApp()&&!e[0].hideMirrorAppCtrl(),l=a&&Ir(e),d=o&&Dr(e),c=s&&$r(e);return{c(){r=Me("wmgPlayerJSProd_"),l&&l.c(),i=De(),d&&d.c(),n=De(),c&&c.c(),Fe(r,"id","mgPlayerJSProd_myDropdown"),Fe(r,"class","mgPlayerJSProd_action-menu-options-dropdown mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-flex-start mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_flex-direction-column")},m(e,t){Le(e,r,t),l&&l.m(r,null),xe(r,i),d&&d.m(r,null),xe(r,n),c&&c.m(r,null)},p(e,t){(a=5&t?e[0].isOwnerOrAppAdmin()&&e[2]&&!e[2].settings.sandbox||!0:a)?l?l.p(e,t):((l=Ir(e)).c(),l.m(r,i)):l&&(l.d(1),l=null),(o=5&t?e[0].isOwnerOrAppAdmin()&&!e[0].hideMirrorAppCtrl()&&e[2]&&!e[2].settings.sandbox:o)?d?d.p(e,t):((d=Dr(e)).c(),d.m(r,n)):d&&(d.d(1),d=null),(s=1&t?e[0].isGuideAutomationEnabledForApp()&&!e[0].hideMirrorAppCtrl():s)?c?c.p(e,t):((c=$r(e)).c(),c.m(r,null)):c&&(c.d(1),c=null)},d(e){e&&Ee(r),l&&l.d(),d&&d.d(),c&&c.d()}}}function Ir(r){let a,i,o=r[0].svgs.domains+"",n,s,l=r[0].labels.domain+"",d,c,g;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),d=Ie(l),Fe(i,"class","mgPlayerJSProd_action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"class","mgPlayerJSProd_action-menu-options-dropdown-item mgPlayerJSProd_cursor-pointer")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,d),c||(g=$e(a,"click",r[12]),c=!0)},p(e,t){1&t&&o!==(o=e[0].svgs.domains+"")&&(i.innerHTML=o),1&t&&l!==(l=e[0].labels.domain+"")&&Oe(d,l)},d(e){e&&Ee(a),c=!1,g()}}}function Dr(r){let a,i,o=r[0].svgs.variables+"",n,s,l=r[0].labels.variablesSettings+"",d,c,g;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),d=Ie(l),Fe(i,"class","mgPlayerJSProd_action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"class","mgPlayerJSProd_action-menu-options-dropdown-item mgPlayerJSProd_cursor-pointer")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,d),c||(g=$e(a,"click",r[13]),c=!0)},p(e,t){1&t&&o!==(o=e[0].svgs.variables+"")&&(i.innerHTML=o),1&t&&l!==(l=e[0].labels.variablesSettings+"")&&Oe(d,l)},d(e){e&&Ee(a),c=!1,g()}}}function $r(r){let a,i,o=r[0].svgs.startGuideAutomationIcon+"",n,s,l=r[0].labels.startTestAuto+"",d,c,g,m;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),d=Ie(l),Fe(i,"class","mgPlayerJSProd_action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"class",c="mgPlayerJSProd_action-menu-options-dropdown-item mgPlayerJSProd_cursor-pointer "+(r[0].automationSelectionMode?"mgPlayerJSProd_disabled":""))},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,d),g||(m=$e(a,"click",r[6]),g=!0)},p(e,t){1&t&&o!==(o=e[0].svgs.startGuideAutomationIcon+"")&&(i.innerHTML=o),1&t&&l!==(l=e[0].labels.startTestAuto+"")&&Oe(d,l),1&t&&c!==(c="mgPlayerJSProd_action-menu-options-dropdown-item mgPlayerJSProd_cursor-pointer "+(e[0].automationSelectionMode?"mgPlayerJSProd_disabled":""))&&Fe(a,"class",c)},d(e){e&&Ee(a),g=!1,m()}}}function Fr(r){let a,i,o,n,s=r[0].svgs.select_application+"",l,d,c,g=GmCXt.FT.creatorApp&&!r[0].isDesktopApp(),m,p,u=r[0].applicationDropdown&&Gr(r),h=r[2]&&r[2].title&&Lr(r),P=g&&Er(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("button"),l=De(),u&&u.c(),d=De(),h&&h.c(),c=De(),P&&P.c(),Fe(n,"id","mgPlayerJSProd_icon-application"),Fe(n,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_select-application-icon mgPlayerJSProd_position-center mgPlayerJSProd_disabled"),Fe(n,"aria-label","application dropdown"),Re(n,"mgPlayerJSProd_disabled",r[0].automationSelectionMode),Fe(o,"class","mgPlayerJSProd_select-application mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_show-text-tooltip mgPlayerJSProd_cursor-pointer"),Fe(i,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),Fe(a,"class","mgPlayerJSProd_app-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_padding-5")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),n.innerHTML=s,xe(o,l),u&&u.m(o,null),xe(i,d),h&&h.m(i,null),xe(a,c),P&&P.m(a,null),m||(p=$e(n,"click",r[3]),m=!0)},p(e,[t]){1&t&&s!==(s=e[0].svgs.select_application+"")&&(n.innerHTML=s),1&t&&Re(n,"mgPlayerJSProd_disabled",e[0].automationSelectionMode),e[0].applicationDropdown?u?u.p(e,t):((u=Gr(e)).c(),u.m(o,null)):u&&(u.d(1),u=null),e[2]&&e[2].title?h?h.p(e,t):((h=Lr(e)).c(),h.m(i,null)):h&&(h.d(1),h=null),(g=1&t?GmCXt.FT.creatorApp&&!e[0].isDesktopApp():g)?P?P.p(e,t):((P=Er(e)).c(),P.m(a,null)):P&&(P.d(1),P=null)},i:Je,o:Je,d(e){e&&Ee(a),u&&u.d(),h&&h.d(),P&&P.d(),m=!1,p()}}}let Or=(e,t)=>e[1].application_id-t[1].application_id;function Rr(e,t,r){let a,i=(GmCXt.appList&&(a=GmCXt.appList["app:"+GmCXt.activeAppId]),ge.CurrentPage.subscribe(e=>{}),ge.routeAction.subscribe(e=>{e&&"close_application_dropdown"===e.action&&e.app&&(o(),ge.routeAction.set(null))}));function o(){r(0,ce.applicationDropdown=!1,ce),r(0,ce.automationDropdown=!1,ce)}function n(e){r(0,ce.applicationDropdown=!1,ce),r(0,ce.automationDropdown=!1,ce),r(0,ce.contextTours={},ce),ce.resetCreatorData(!0),r(0,ce.selectedApp=e.title,ce),r(0,ce.manualAppSwitch=!0,ce),ce.switchApp(e)}pe(()=>{i()}),ce.addPanelOverlay();function s(e,t,r){e.stopPropagation(),o(),ce.setCurrentPage("appsettings"),ge.params.set({appId:t,settView:r})}ce.hideAutomationDropDown=function(){r(0,ce.automationDropdown=!1,ce)};return GmCXt.appList&&(r(2,a=GmCXt.appList["app:"+GmCXt.activeAppId]),GmCXt.appList),[ce,!1,a,function(){r(1,!1),r(0,ce.applicationDropdown=!ce.applicationDropdown,ce),r(0,ce.automationDropdown=!1,ce),mg$(".mgPlayerJSProd_category-list").append('<wmgPlayerJSProd_ class="mgPlayerJSProd_category-list-overlay"></wmgPlayerJSProd_>'),mg$(".cards-container").append('<wmgPlayerJSProd_ class="mgPlayerJSProd_category-list-overlay"></wmgPlayerJSProd_>'),!0!==ce.applicationDropdown&&mg$(".mgPlayerJSProd_category-list-overlay").remove()},o,n,function(){r(0,ce.automationSelectionMode=!0,ce),r(0,ce.automationGuideSelectCount=0,ce),r(0,ce.automationDropdown=!1,ce),r(0,ce.myGuidesFilter=!0,ce),ce.setCurrentPage("allguides"),ge.breadCrumb.set([])},function(){r(0,ce.automationDropdown=!ce.automationDropdown,ce),r(0,ce.applicationDropdown=!1,ce)},function(e){return e.image_url+ce.getCdnSign()},s,e=>n(e[1]),e=>n(e[1]),e=>s(e,GmCXt.activeAppId,"domainsSettings"),e=>s(e,GmCXt.activeAppId,"variablesSettings")]}class Hr extends e{constructor(e){super(),t(this,e,Rr,Fr,d,{})}}class Nr extends e{constructor(e){super(),t(this,e,null,null,d,{})}}function Br(r){let a,i,o=r[1].svgs.search+"",n,s,l,d,c,g=r[1].svgs.search_close+"",m,p,u,h;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("input"),d=De(),c=Me("button"),Fe(i,"class","mgPlayerJSProd_search-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"id","mgPlayerJSProd_search-text-input"),Fe(s,"class",l="mgPlayerJSProd_search-input mgPlayerJSProd_inline-block-vm mgPlayerJSProd_height-100 ng-pristine ng-untouched ng-empty-maxlength "+(r[1].isMicroPlayer?"mgPlayerJSProd_width-100 mgPlayerJSProd_no-trans":"")),Fe(s,"maxlength","100"),Fe(s,"placeholder",r[4]),Fe(s,"autocomplete","off"),Fe(s,"aria-label",r[4]),Re(s,"mgPlayerJSProd_search-input-wd-task",GmCXt.FT.isPlayer&&r[3]&&!r[1].showGuidesFromDesktopApp&&!r[1].isMicroPlayer),Re(s,"mgPlayerJSProd_search-input-wd-task-mini-player",GmCXt.FT.isPlayer&&r[3]&&!r[1].showGuidesFromDesktopApp&&r[1].isMicroPlayer),Re(s,"mgPlayerJSProd_search-input-player",GmCXt.FT.isPlayer&&!r[3]),Re(s,"mgPlayerJSProd_search-input-active",GmCXt.FT.isPlayer&&(r[1].currentPageOnly||r[2])||r[1].showGuidesFromDesktopApp),Re(s,"mgPlayerJSProd_search-input-creator-active",GmCXt.FT.creatorApp&&r[0].length),Fe(c,"id","mgPlayerJSProd_icon-search-close-current-page"),Fe(c,"class",m="mgPlayerJSProd_search-close-icon mgPlayerJSProd_cursor-pointer mgPlayerJSProd_inline-block-vm mgPlayerJSProd_lbl-btn "+(0<r[0].length?"mgPlayerJSProd_active":"")),Fe(a,"class",p="mgPlayerJSProd_search-input-wrapper mgPlayerJSProd_position-relative "+(r[1].isMicroPlayer?"mgPlayerJSProd_width-100":""))},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),We(s,r[0]),xe(a,d),xe(a,c),c.innerHTML=g,u||(h=[$e(s,"input",r[7]),$e(s,"input",r[6]),$e(c,"click",r[8])],u=!0)},p(e,t){2&t[0]&&o!==(o=e[1].svgs.search+"")&&(i.innerHTML=o),2&t[0]&&l!==(l="mgPlayerJSProd_search-input mgPlayerJSProd_inline-block-vm mgPlayerJSProd_height-100 ng-pristine ng-untouched ng-empty-maxlength "+(e[1].isMicroPlayer?"mgPlayerJSProd_width-100 mgPlayerJSProd_no-trans":""))&&Fe(s,"class",l),16&t[0]&&Fe(s,"placeholder",e[4]),16&t[0]&&Fe(s,"aria-label",e[4]),1&t[0]&&s.value!==e[0]&&We(s,e[0]),10&t[0]&&Re(s,"mgPlayerJSProd_search-input-wd-task",GmCXt.FT.isPlayer&&e[3]&&!e[1].showGuidesFromDesktopApp&&!e[1].isMicroPlayer),10&t[0]&&Re(s,"mgPlayerJSProd_search-input-wd-task-mini-player",GmCXt.FT.isPlayer&&e[3]&&!e[1].showGuidesFromDesktopApp&&e[1].isMicroPlayer),10&t[0]&&Re(s,"mgPlayerJSProd_search-input-player",GmCXt.FT.isPlayer&&!e[3]),6&t[0]&&Re(s,"mgPlayerJSProd_search-input-active",GmCXt.FT.isPlayer&&(e[1].currentPageOnly||e[2])||e[1].showGuidesFromDesktopApp),3&t[0]&&Re(s,"mgPlayerJSProd_search-input-creator-active",GmCXt.FT.creatorApp&&e[0].length),2&t[0]&&g!==(g=e[1].svgs.search_close+"")&&(c.innerHTML=g),1&t[0]&&m!==(m="mgPlayerJSProd_search-close-icon mgPlayerJSProd_cursor-pointer mgPlayerJSProd_inline-block-vm mgPlayerJSProd_lbl-btn "+(0<e[0].length?"mgPlayerJSProd_active":""))&&Fe(c,"class",m),2&t[0]&&p!==(p="mgPlayerJSProd_search-input-wrapper mgPlayerJSProd_position-relative "+(e[1].isMicroPlayer?"mgPlayerJSProd_width-100":""))&&Fe(a,"class",p)},i:Je,o:Je,d(e){e&&Ee(a),u=!1,ke(h)}}}let Vr=50,zr=0;function Ur(e,t,r){let a,i,o,n,s,l,d=!1,c,g=[],m,p=[],u=[],h=(ce.lastSearchTime=0,""),P=ge.CurrentPageTours.subscribe(e=>{n=e}),y=ge.labels.subscribe(e=>{GmCXt.isEmpty(e)||r(1,ce.labels=e,ce)}),_=ge.filters.subscribe(e=>{w()}),S=(ge.searchTerm.subscribe(e=>{e!==i&&r(0,i=e)}),mg$(document).on("keyup","#mgPlayerJSProd_search-text-input",function(e){[27,20,16,17,18,91,93,37,38,39,40,45,46].indexOf(e.keyCode)}),ge.breadCrumb.subscribe(e=>{s=e,X()})),f=ge.CurrentPage.subscribe(e=>{"allguidesSearchPage"!==(o=e)&&"currentPageSearchPage"!==o&&ge.searchTerm.set(""),X()}),C=e=>{e&&ce.trackSearchEvent(!1),r(0,i=""),ge.searchTerm.set(""),r(1,ce.currentUserFilter="",ce),r(1,ce.filterByPublishedGuides="",ce),r(1,ce.currentAssigneeFilter="",ce),r(1,ce.sortByProperty="",ce),"allguidesSearchPage"===o?ce.setCurrentPage("allguides"):"currentPageSearchPage"===o&&ce.setCurrentPage("currentpage")};let b=function(e){if(0===i.length&&ce.setCurrentPage("allguides"),i&&1<i.length){ce.showLoading(),ge.searchTours.set([]),"allguidesSearchPage"!==de(ge.CurrentPage)&&ce.setCurrentPage("allguidesSearchPage");let e="",t=(0<s.length&&s[s.length-1].has_tour&&(e=s[s.length-1].category_id),mg$("#mgPlayerJSProd_search-text-input").focus(),"tour_id");var r;(c=ce.sortByProperty?ce.sortByProperty:c)===ce.labels.name&&(t="tour_title"),r={limit:Vr,offset:zr,search_text:a,sort_by:t},ce.myGuidesFilter&&(r.my_guides=ce.user.user_id),ce.currentUserFilter&&0!==ce.currentUserFilter.user_id&&(r.creator_id=ce.currentUserFilter.user_id),ce.filterByPublishedGuides===ce.labels.published?r.is_published="1":ce.filterByPublishedGuides===ce.labels.unpublished&&(r.is_published="0"),ce.currentAssigneeFilter&&0!==ce.currentAssigneeFilter.user_id&&(r.locked_user_id=ce.currentAssigneeFilter.user_id),GmCXt.FT.publishedGuides&&(r.is_published="1"),e&&(r.category_id=e),GmCXt.inPlayer||GmCXt.onPrem()?GmCXt.api.getSearchTourList(r,function(e){J(e,i)}):GmCXt.api.getTourList(r,function(e){J(e,i)})}};function v(e){return e&&-1<e.toLowerCase().indexOf(a.toLowerCase())}function w(){if(i&&1<i.length&&ge.searchTerm.set(a),"allguides"===o||"allguidesSearchPage"===o||"myguides"===o)b();else if("currentpage"===o||"currentPageSearchPage"===o){0===i.length&&ce.setCurrentPage("currentpage");let t=[];var e;0<n.length&&1<i.length&&("currentPageSearchPage"!==de(ge.CurrentPage)&&ce.setCurrentPage("currentPageSearchPage"),n.filter(function(e){(v(e.tour_title)||e.tour_id===a||v(e.keywords)||v(e.tour_description))&&t.push(e)}),GmCXt.isEmpty(t)||(e=t,m=(new Date).getTime(),ce.lastSearchTime&&5e3<=m-ce.lastSearchTime&&ce.trackCurrentPageSearchEvent(!1),r(1,ce.lastSearchTime=m,ce),r(1,ce.trackCurrentPageSearch={keyword:a,results_returned:e.length,track:!0,startTime:(new Date).getTime()},ce)),ge.searchTours.set(t),J(t,a));return}}function J(e,t){g=[],m=(new Date).getTime(),(p=e.length)&&(u=mg$.merge(u,e),u=GmCXt.removeDuplicateGuides(u),ce.notDefaultLang()&&(u=ce.getTranslatedTours(u)),GmCXt.FT.isPlayer&&(u=u.filter(function(e){if((GmCXt.isGuide(e)||GmCXt.isOnboarding(e))&&!GmCXt.isAnnouncement(e))return e})).length,ce.lastSearchTime)&&ce.trackSearch&&!ce.trackSearch.filters&&5e3<=m-ce.lastSearchTime&&(r(1,ce.trackCurrentPageSearch={},ce),ce.trackSearchEvent(!1)),r(1,ce.trackSearch={keyword:t,results_returned:p,track:!0,startTime:(new Date).getTime()},ce),u.length||p||ce.trackSearchEvent(!1),ce.trackSearch?.filters||r(1,ce.lastSearchTime=m,ce),ce.guideSegmentation&&GmCXt.FT.isPlayer?(ce.showLoading(),GmCXt.checkGuidesBasedOnSegment(u,G,"searchSeg")):(ce.hideLoading(),ge.searchTours.set(u))}function G(e){GmCXt.isEmpty(e)||g.push(e),g=GmCXt.removeDuplicateGuides(g),ce.hideLoading(),ge.searchTours.set(g)}var A=ce.debounce(w,1e3);let T=ge.isTaskListVisible.subscribe(e=>{r(3,d=e)});function X(){"currentpage"===o?r(4,h=ce.labels.currentPageSearchPlaceholder):"allguides"===o&&!s.length||"myguides"===o?r(4,h=ce.labels.inputPlaceHolderSearch):r(4,h=ce.labels.searchInFolder)}pe(()=>{r(1,ce.lastSearchTime=0,ce),T(),P(),y(),_(),S(),f()});return e.$$.update=()=>{1&e.$$.dirty[0]&&(a=i.toLowerCase()),1&e.$$.dirty[0]&&(0<i.trim().length?r(2,l=!0):(C(),r(2,l=!1)))},[i,ce,l,d,h,C,A,function(){i=this.value,r(0,i)},()=>C(!0)]}class jr extends e{constructor(e){super(),t(this,e,Ur,Br,d,{},null,[-1,-1])}}function Wr(e,t,r){e=e.slice();return e[55]=t[r],e}function Zr(e,t,r){e=e.slice();return e[55]=t[r],e}function qr(e){let r,a,i=e[0].labels.selectFromCategories+"",o,n,s,l=e[0].automationGuideSelectCount+"",d,c,g=e[0].labels.selectedGuides+"",m;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),s=Me("wmgPlayerJSProd_"),d=Ie(l),c=De(),m=Ie(g),Fe(r,"class","mgPlayerJSProd_auto-header-bar-container")},m(e,t){Le(e,r,t),xe(r,a),xe(a,o),xe(r,n),xe(r,s),xe(s,d),xe(s,c),xe(s,m)},p(e,t){1&t[0]&&i!==(i=e[0].labels.selectFromCategories+"")&&Oe(o,i),1&t[0]&&l!==(l=e[0].automationGuideSelectCount+"")&&Oe(d,l),1&t[0]&&g!==(g=e[0].labels.selectedGuides+"")&&Oe(m,g)},i:Je,o:Je,d(e){e&&Ee(r)}}}function Yr(e){let r,a,i=GmCXt.isPlayer()&&e[8]&&!e[0].showGuidesFromDesktopApp,o,n,s,l=GmCXt.isPlayer(),d,c,g,m,p=i&&Kr(e),u=(n=new jr({}),l&&(r=>{let a,i,o=r[0].svgs.filter_mplayer+"",n,s,l,d,c,g=(r[11]?.recent||r[0].labels.recent)+"",m,p,u,h,P=(r[11]?.older||r[0].labels.older)+"",y,_,S,f,C,b=(r[11]?.clear||r[0].labels.clear)+"",v,w,J,G,A=(!r[0].enableTranslation||r[0].defaultLang.language===r[0].language)&&Qr(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),n=De(),s=Me("wmgPlayerJSProd_"),l=Me("wmgPlayerJSProd_"),A&&A.c(),d=De(),c=Me("button"),m=Ie(g),u=De(),h=Me("button"),y=Ie(P),S=De(),f=Me("wmgPlayerJSProd_"),C=Me("button"),v=Ie(b),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-sort-icon mgPlayerJSProd_position-relative mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer"),Fe(i,"aria-label","Sort By"),Fe(i,"aria-expanded","false"),Fe(c,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-dropdown-item mgPlayerJSProd_padding-tb-10 mgPlayerJSProd_padding-lr-25 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer"),Fe(c,"aria-label",p=r[11]?.recent||r[0].labels.recent),Re(c,"mgPlayerJSProd_active-sort-filter","recent"===r[6]),Fe(h,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-dropdown-item mgPlayerJSProd_padding-tb-10 mgPlayerJSProd_padding-lr-25 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer"),Fe(h,"aria-label",_=r[11]?.older||r[0].labels.older),Re(h,"mgPlayerJSProd_active-sort-filter","older"===r[6]),Fe(l,"class","mgPlayerJSProd_padding-tb-5"),Fe(C,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-common-btn mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_text-color-white mgPlayerJSProd_theme-background mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_no-border mgPlayerJSProd_no-border-all mgPlayerJSProd_disabled"),Fe(C,"aria-label",w=r[11]?.clear||r[0].labels.clear),Fe(C,"aria-disabled","true"),Re(C,"mgPlayerJSProd_disabled",!r[6]),Fe(f,"class","mgPlayerJSProd_filter-btn-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),Fe(s,"class","mgPlayerJSProd_filter-sorting-dropdown-wrapper mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max"),Fe(s,"role","region"),Fe(s,"aria-label","Sort"),Re(s,"mgPlayerJSProd_display-block",r[7]),Fe(a,"class","mgPlayerJSProd_filter-sorting-wrapper mgPlayerJSProd_position-relative")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,l),A&&A.m(l,null),xe(l,d),xe(l,c),xe(c,m),xe(l,u),xe(l,h),xe(h,y),xe(s,S),xe(s,f),xe(f,C),xe(C,v),J||(G=[$e(i,"click",r[12]),$e(c,"click",r[27]),$e(h,"click",r[28]),$e(C,"click",r[29])],J=!0)},p(e,t){1&t[0]&&o!==(o=e[0].svgs.filter_mplayer+"")&&(i.innerHTML=o),e[0].enableTranslation&&e[0].defaultLang.language!==e[0].language?A&&(A.d(1),A=null):A?A.p(e,t):((A=Qr(e)).c(),A.m(l,d)),2049&t[0]&&g!==(g=(e[11]?.recent||e[0].labels.recent)+"")&&Oe(m,g),2049&t[0]&&p!==(p=e[11]?.recent||e[0].labels.recent)&&Fe(c,"aria-label",p),64&t[0]&&Re(c,"mgPlayerJSProd_active-sort-filter","recent"===e[6]),2049&t[0]&&P!==(P=(e[11]?.older||e[0].labels.older)+"")&&Oe(y,P),2049&t[0]&&_!==(_=e[11]?.older||e[0].labels.older)&&Fe(h,"aria-label",_),64&t[0]&&Re(h,"mgPlayerJSProd_active-sort-filter","older"===e[6]),2049&t[0]&&b!==(b=(e[11]?.clear||e[0].labels.clear)+"")&&Oe(v,b),2049&t[0]&&w!==(w=e[11]?.clear||e[0].labels.clear)&&Fe(C,"aria-label",w),64&t[0]&&Re(C,"mgPlayerJSProd_disabled",!e[6]),128&t[0]&&Re(s,"mgPlayerJSProd_display-block",e[7])},d(e){e&&Ee(a),A&&A.d(),J=!1,ke(G)}}})(e)),h=!e[0].isMicroPlayer&&ea(e),P="allguidesSearchPage"===e[1]&&ia(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),p&&p.c(),o=De(),ze(n.$$.fragment),s=De(),u&&u.c(),c=De(),h&&h.c(),g=De(),P&&P.c(),Fe(a,"class",d="mgPlayerJSProd_search-bar-container mgPlayerJSProd_display-flex "+(e[0].isMicroPlayer?"mgPlayerJSProd_bg-white mgPlayerJSProd_mplayer-search-view":"")+" "+(e[0].isMicroPlayer?"":"mgPlayerJSProd_search-bar-collapse")),Fe(r,"class","mgPlayerJSProd_list-page-header-wrapper mgPlayerJSProd_no-padding mgPlayerJSProd_position-relative")},m(e,t){Le(e,r,t),xe(r,a),p&&p.m(a,null),xe(a,o),Ue(n,a,null),xe(a,s),u&&u.m(a,null),xe(r,c),h&&h.m(r,null),xe(r,g),P&&P.m(r,null),m=!0},p(e,t){(i=257&t[0]?GmCXt.isPlayer()&&e[8]&&!e[0].showGuidesFromDesktopApp:i)?p?p.p(e,t):((p=Kr(e)).c(),p.m(a,o)):p&&(p.d(1),p=null),l&&u.p(e,t),(!m||1&t[0]&&d!==(d="mgPlayerJSProd_search-bar-container mgPlayerJSProd_display-flex "+(e[0].isMicroPlayer?"mgPlayerJSProd_bg-white mgPlayerJSProd_mplayer-search-view":"")+" "+(e[0].isMicroPlayer?"":"mgPlayerJSProd_search-bar-collapse")))&&Fe(a,"class",d),e[0].isMicroPlayer?h&&(h.d(1),h=null):h?h.p(e,t):((h=ea(e)).c(),h.m(r,g)),"allguidesSearchPage"===e[1]?P?P.p(e,t):((P=ia(e)).c(),P.m(r,null)):P&&(P.d(1),P=null)},i(e){m||(Be(n.$$.fragment,e),m=!0)},o(e){Ve(n.$$.fragment,e),m=!1},d(e){e&&Ee(r),p&&p.d(),je(n),u&&u.d(),h&&h.d(),P&&P.d()}}}function Kr(r){let a,i,o=r[0].taskListCount+"",n,s,l,d=r[0].svgs.iconTaskList+"",c,g;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=Ie(o),s=De(),l=Me("button"),Fe(i,"class","mgPlayerJSProd_task-list-count mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),Fe(l,"class","mgPlayerJSProd_task-list-icon mgPlayerJSProd_lbl-btn mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_position-relative"),Fe(l,"aria-label","Task List"),Fe(l,"tabindex","0"),Fe(a,"class","mgPlayerJSProd_task-list-icon-container mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_position-relative"),Re(a,"mgPlayerJSProd_task-list-icon-mplayer",r[0]?.isMicroPlayer)},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),xe(a,s),xe(a,l),l.innerHTML=d,c||(g=$e(l,"click",r[24]),c=!0)},p(e,t){1&t[0]&&o!==(o=e[0].taskListCount+"")&&Oe(n,o),1&t[0]&&d!==(d=e[0].svgs.iconTaskList+"")&&(l.innerHTML=d),1&t[0]&&Re(a,"mgPlayerJSProd_task-list-icon-mplayer",e[0]?.isMicroPlayer)},d(e){e&&Ee(a),c=!1,g()}}}function Qr(r){let a,i=r[0].labels.atoz+"",o,n,s,l,d=r[0].labels.ztoa+"",c,g,m,p;return{c(){a=Me("button"),o=Ie(i),s=De(),l=Me("button"),c=Ie(d),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-dropdown-item mgPlayerJSProd_padding-tb-10 mgPlayerJSProd_padding-lr-25 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer"),Fe(a,"aria-label",n=r[0].labels.atoz),Re(a,"mgPlayerJSProd_active-sort-filter","atoz"===r[6]),Fe(l,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-dropdown-item mgPlayerJSProd_padding-tb-10 mgPlayerJSProd_padding-lr-25 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer"),Fe(l,"aria-label",g=r[0].labels.ztoa),Re(l,"mgPlayerJSProd_active-sort-filter","ztoa"===r[6])},m(e,t){Le(e,a,t),xe(a,o),Le(e,s,t),Le(e,l,t),xe(l,c),m||(p=[$e(a,"click",r[25]),$e(l,"click",r[26])],m=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.atoz+"")&&Oe(o,i),1&t[0]&&n!==(n=e[0].labels.atoz)&&Fe(a,"aria-label",n),64&t[0]&&Re(a,"mgPlayerJSProd_active-sort-filter","atoz"===e[6]),1&t[0]&&d!==(d=e[0].labels.ztoa+"")&&Oe(c,d),1&t[0]&&g!==(g=e[0].labels.ztoa)&&Fe(l,"aria-label",g),64&t[0]&&Re(l,"mgPlayerJSProd_active-sort-filter","ztoa"===e[6])},d(e){e&&(Ee(a),Ee(s),Ee(l)),m=!1,ke(p)}}}function ea(e){let r,a=!e[0].showGuidesFromDesktopApp&&ta(e);return{c(){r=Me("wmgPlayerJSProd_"),a&&a.c(),Fe(r,"class","mgPlayerJSProd_inline-block-vm all-guides-filters-tab mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center")},m(e,t){Le(e,r,t),a&&a.m(r,null)},p(e,t){e[0].showGuidesFromDesktopApp?a&&(a.d(1),a=null):a?a.p(e,t):((a=ta(e)).c(),a.m(r,null))},d(e){e&&Ee(r),a&&a.d()}}}function ta(r){let a,i,o=(r[11]?.currentPage||r[0].labels.currentPage)+"",n,s,l,d,c;let g=(GmCXt.isPlayer()?aa:ra)(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),n=Ie(o),l=De(),g.c(),Fe(i,"id","mgPlayerJSProd_filter-tab-current-page"),Fe(i,"class",s="mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-tab mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_text-overflow-ellipsis "+("currentpage"===r[1]?"mgPlayerJSProd_filter-active-tab":"")),Fe(a,"class","mgPlayerJSProd_library-filter-wrapper mgPlayerJSProd_inline-block-vm mgPlayerJSProd_margin-lr-10")},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),xe(a,l),g.m(a,null),d||(c=$e(i,"click",r[14]),d=!0)},p(e,t){2049&t[0]&&o!==(o=(e[11]?.currentPage||e[0].labels.currentPage)+"")&&Oe(n,o),2&t[0]&&s!==(s="mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-tab mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_text-overflow-ellipsis "+("currentpage"===e[1]?"mgPlayerJSProd_filter-active-tab":""))&&Fe(i,"class",s),g.p(e,t)},d(e){e&&Ee(a),g.d(),d=!1,c()}}}function ra(r){let a,i=(r[11]?.myGuides||r[0].labels.myGuides)+"",o,n,s,l;return{c(){a=Me("button"),o=Ie(i),Fe(a,"id","mgPlayerJSProd_filter-tab-go-to-lib"),Fe(a,"class",n="mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-tab mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_text-overflow-ellipsis "+("myguides"===r[1]?"mgPlayerJSProd_filter-active-tab":""))},m(e,t){Le(e,a,t),xe(a,o),s||(l=$e(a,"click",r[15]),s=!0)},p(e,t){2049&t[0]&&i!==(i=(e[11]?.myGuides||e[0].labels.myGuides)+"")&&Oe(o,i),2&t[0]&&n!==(n="mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-tab mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_text-overflow-ellipsis "+("myguides"===e[1]?"mgPlayerJSProd_filter-active-tab":""))&&Fe(a,"class",n)},d(e){e&&Ee(a),s=!1,l()}}}function aa(r){let a,i=(r[11]?.allGuides||r[0].labels.allGuides)+"",o,n,s,l;return{c(){a=Me("button"),o=Ie(i),Fe(a,"id","mgPlayerJSProd_filter-tab-go-to-lib"),Fe(a,"class",n="mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-tab mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_text-overflow-ellipsis "+("allguides"===r[1]?"mgPlayerJSProd_filter-active-tab":""))},m(e,t){Le(e,a,t),xe(a,o),s||(l=$e(a,"click",r[14]),s=!0)},p(e,t){2049&t[0]&&i!==(i=(e[11]?.allGuides||e[0].labels.allGuides)+"")&&Oe(o,i),2&t[0]&&n!==(n="mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-tab mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_text-overflow-ellipsis "+("allguides"===e[1]?"mgPlayerJSProd_filter-active-tab":""))&&Fe(a,"class",n)},d(e){e&&Ee(a),s=!1,l()}}}function ia(e){let r,a,i,o,n=e[0].labels.searchResult+"",s,l=!e[0].isMicroPlayer&&GmCXt.FT.creatorApp&&oa(e);return{c(){r=Me("wmgPlayerJSProd_"),a=De(),l&&l.c(),i=De(),o=Me("wmgPlayerJSProd_"),s=Ie(n),Fe(r,"class","mgPlayerJSProd_ege-clear"),Fe(o,"class","mgPlayerJSProd_search-result-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_font-size-15 mgPlayerJSProd_padding-lr-20")},m(e,t){Le(e,r,t),Le(e,a,t),l&&l.m(e,t),Le(e,i,t),Le(e,o,t),xe(o,s)},p(e,t){!e[0].isMicroPlayer&&GmCXt.FT.creatorApp?l?l.p(e,t):((l=oa(e)).c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null),1&t[0]&&n!==(n=e[0].labels.searchResult+"")&&Oe(s,n)},d(e){e&&(Ee(r),Ee(a),Ee(i),Ee(o)),l&&l.d(e)}}}function oa(e){let r,a,i,o,n="allguidesSearchPage"===e[1]&&na(e),s="allguidesSearchPage"===e[1]&&da(e),l="allguidesSearchPage"===e[1]&&ca(e),d="allguidesSearchPage"===e[1]&&pa(e);return{c(){r=Me("wmgPlayerJSProd_"),n&&n.c(),a=De(),s&&s.c(),i=De(),l&&l.c(),o=De(),d&&d.c(),Fe(r,"class","mgPlayerJSProd_inline-block-vm all-guides-filters-tab mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center")},m(e,t){Le(e,r,t),n&&n.m(r,null),xe(r,a),s&&s.m(r,null),xe(r,i),l&&l.m(r,null),xe(r,o),d&&d.m(r,null)},p(e,t){"allguidesSearchPage"===e[1]?n?n.p(e,t):((n=na(e)).c(),n.m(r,a)):n&&(n.d(1),n=null),"allguidesSearchPage"===e[1]?s?s.p(e,t):((s=da(e)).c(),s.m(r,i)):s&&(s.d(1),s=null),"allguidesSearchPage"===e[1]?l?l.p(e,t):((l=ca(e)).c(),l.m(r,o)):l&&(l.d(1),l=null),"allguidesSearchPage"===e[1]?d?d.p(e,t):((d=pa(e)).c(),d.m(r,null)):d&&(d.d(1),d=null)},d(e){e&&Ee(r),n&&n.d(),s&&s.d(),l&&l.d(),d&&d.d()}}}function na(r){let a,i=r[0].labels.creator+":",o,n,s,l=r[3]?.first_name+"",d,c,g,m=r[0].svgs.down_arrow_icon+"",p,u,h,P=r[0].labels.currentUser+"",y,_,S,f=r[0].labels.allUser+"",C,b,v,w,J,G,A=0<r[10].length&&sa(r);return{c(){a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),s=Me("wmgPlayerJSProd_"),d=Ie(l),c=De(),g=Me("wmgPlayerJSProd_"),p=De(),u=Me("wmgPlayerJSProd_"),h=Me("wmgPlayerJSProd_"),y=Ie(P),_=De(),S=Me("wmgPlayerJSProd_"),C=Ie(f),b=De(),v=Me("wmgPlayerJSProd_"),w=De(),A&&A.c(),Fe(s,"class","mgPlayerJSProd_span mgPlayerJSProd_all-guides-search-filters-label"),Fe(g,"class","mgPlayerJSProd_all-guides-search-filters-icon mgPlayerJSProd_ege-inline-block-vt"),Fe(h,"id","mgPlayerJSProd_filter-search-by-current-user"),Fe(h,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),Fe(S,"id","mgPlayerJSProd_filter-search-by-all-user"),Fe(S,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),Fe(v,"class","mgPlayerJSProd_horizontal-line margin-none"),Fe(u,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-user"),Fe(a,"id","mgPlayerJSProd_filter-search-by"),Fe(a,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_all-guides-search-filters")},m(e,t){Le(e,a,t),xe(a,o),xe(a,n),xe(a,s),xe(s,d),xe(a,c),xe(a,g),g.innerHTML=m,xe(a,p),xe(a,u),xe(u,h),xe(h,y),xe(u,_),xe(u,S),xe(S,C),xe(u,b),xe(u,v),xe(u,w),A&&A.m(u,null),J||(G=[$e(h,"click",r[30]),$e(S,"click",r[31]),$e(a,"click",r[33])],J=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.creator+":")&&Oe(o,i),8&t[0]&&l!==(l=e[3]?.first_name+"")&&Oe(d,l),1&t[0]&&m!==(m=e[0].svgs.down_arrow_icon+"")&&(g.innerHTML=m),1&t[0]&&P!==(P=e[0].labels.currentUser+"")&&Oe(y,P),1&t[0]&&f!==(f=e[0].labels.allUser+"")&&Oe(C,f),0<e[10].length?A?A.p(e,t):((A=sa(e)).c(),A.m(u,null)):A&&(A.d(1),A=null)},d(e){e&&Ee(a),A&&A.d(),J=!1,ke(G)}}}function sa(t){let a=[],r=new Map,i,o=D(t[10].sort(ha)),n=e=>e[55].user_id;for(let e=0;e<o.length;e+=1){var s=Zr(t,o,e),l=n(s);r.set(l,a[e]=la(l,s))}return{c(){for(let e=0;e<a.length;e+=1)a[e].c();i=I()},m(t,r){for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,r);Le(t,i,r)},p(e,t){132104&t[0]&&(o=D(e[10].sort(ha)),a=L(a,t,n,0,e,o,r,i.parentNode,k,la,i,Zr))},d(t){t&&Ee(i);for(let e=0;e<a.length;e+=1)a[e].d(t)}}}function la(e,r){let a,i=r[55].first_name+" "+r[55].last_name,o,n,s,l,d;function c(){return r[32](r[55])}return{key:e,first:null,c(){a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),Fe(a,"id",s="mgPlayerJSProd_filter-search-by-user-"+r[55].user_id),Fe(a,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),Re(a,"mgPlayerJSProd_selected-filter-dropdown-item",r[3].user_id===r[55].user_id),this.first=a},m(e,t){Le(e,a,t),xe(a,o),xe(a,n),l||(d=$e(a,"click",c),l=!0)},p(e,t){r=e,1024&t[0]&&i!==(i=r[55].first_name+" "+r[55].last_name)&&Oe(o,i),1024&t[0]&&s!==(s="mgPlayerJSProd_filter-search-by-user-"+r[55].user_id)&&Fe(a,"id",s),1032&t[0]&&Re(a,"mgPlayerJSProd_selected-filter-dropdown-item",r[3].user_id===r[55].user_id)},d(e){e&&Ee(a),l=!1,d()}}}function da(r){let a,i=r[0].labels.status+":",o,n,s,l,d,c,g=r[0].svgs.down_arrow_icon+"",m,p,u,h=r[0].labels.all+"",P,y,_,S=r[0].labels.published+"",f,C,b,v=r[0].labels.unpublished+"",w,J,G,A;return{c(){a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),s=Me("wmgPlayerJSProd_"),l=Ie(r[5]),d=De(),c=Me("wmgPlayerJSProd_"),m=De(),p=Me("wmgPlayerJSProd_"),u=Me("wmgPlayerJSProd_"),P=Ie(h),y=De(),_=Me("wmgPlayerJSProd_"),f=Ie(S),C=De(),b=Me("wmgPlayerJSProd_"),w=Ie(v),Fe(s,"class","mgPlayerJSProd_span mgPlayerJSProd_all-guides-search-filters-label"),Fe(c,"class","mgPlayerJSProd_all-guides-search-filters-icon mgPlayerJSProd_ege-inline-block-vt"),Fe(u,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),Fe(_,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),Fe(b,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),Fe(p,"class",J="mgPlayerJSProd_all-guides-search-filters-dropdown-published mgPlayerJSProd_all-guides-search-filters-dropdown-"+r[0].labels.published),Fe(a,"id","mgPlayerJSProd_filter-search-by-status"),Fe(a,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_all-guides-search-filters")},m(e,t){Le(e,a,t),xe(a,o),xe(a,n),xe(a,s),xe(s,l),xe(a,d),xe(a,c),c.innerHTML=g,xe(a,m),xe(a,p),xe(p,u),xe(u,P),xe(p,y),xe(p,_),xe(_,f),xe(p,C),xe(p,b),xe(b,w),G||(A=[$e(u,"click",r[21]),$e(_,"click",r[22]),$e(b,"click",r[23]),$e(a,"click",r[34])],G=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.status+":")&&Oe(o,i),32&t[0]&&Oe(l,e[5]),1&t[0]&&g!==(g=e[0].svgs.down_arrow_icon+"")&&(c.innerHTML=g),1&t[0]&&h!==(h=e[0].labels.all+"")&&Oe(P,h),1&t[0]&&S!==(S=e[0].labels.published+"")&&Oe(f,S),1&t[0]&&v!==(v=e[0].labels.unpublished+"")&&Oe(w,v),1&t[0]&&J!==(J="mgPlayerJSProd_all-guides-search-filters-dropdown-published mgPlayerJSProd_all-guides-search-filters-dropdown-"+e[0].labels.published)&&Fe(p,"class",J)},d(e){e&&Ee(a),G=!1,ke(A)}}}function ca(r){let a,i=r[0].labels.assignee+":",o,n,s,l=r[4]?.first_name+"",d,c,g,m=r[0].svgs.down_arrow_icon+"",p,u,h,P=r[0].labels.currentUser+"",y,_,S,f=r[0].labels.allUser+"",C,b,v,w,J,G,A=0<r[10].length&&ga(r);return{c(){a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),s=Me("wmgPlayerJSProd_"),d=Ie(l),c=De(),g=Me("wmgPlayerJSProd_"),p=De(),u=Me("wmgPlayerJSProd_"),h=Me("wmgPlayerJSProd_"),y=Ie(P),_=De(),S=Me("wmgPlayerJSProd_"),C=Ie(f),b=De(),v=Me("wmgPlayerJSProd_"),w=De(),A&&A.c(),Fe(s,"class","mgPlayerJSProd_span mgPlayerJSProd_all-guides-search-filters-label"),Fe(g,"class","mgPlayerJSProd_all-guides-search-filters-icon mgPlayerJSProd_ege-inline-block-vt"),Fe(h,"id","mgPlayerJSProd_filter-search-locked-by-current-user"),Fe(h,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),Fe(S,"id","mgPlayerJSProd_filter-search-locked-by-all-user"),Fe(S,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),Fe(v,"class","mgPlayerJSProd_horizontal-line margin-none"),Fe(u,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-assignee"),Fe(a,"id","mgPlayerJSProd_filter-search-by-assignee"),Fe(a,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_all-guides-search-filters")},m(e,t){Le(e,a,t),xe(a,o),xe(a,n),xe(a,s),xe(s,d),xe(a,c),xe(a,g),g.innerHTML=m,xe(a,p),xe(a,u),xe(u,h),xe(h,y),xe(u,_),xe(u,S),xe(S,C),xe(u,b),xe(u,v),xe(u,w),A&&A.m(u,null),J||(G=[$e(h,"click",r[35]),$e(S,"click",r[36]),$e(a,"click",r[38])],J=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.assignee+":")&&Oe(o,i),16&t[0]&&l!==(l=e[4]?.first_name+"")&&Oe(d,l),1&t[0]&&m!==(m=e[0].svgs.down_arrow_icon+"")&&(g.innerHTML=m),1&t[0]&&P!==(P=e[0].labels.currentUser+"")&&Oe(y,P),1&t[0]&&f!==(f=e[0].labels.allUser+"")&&Oe(C,f),0<e[10].length?A?A.p(e,t):((A=ga(e)).c(),A.m(u,null)):A&&(A.d(1),A=null)},d(e){e&&Ee(a),A&&A.d(),J=!1,ke(G)}}}function ga(t){let i,o=D(t[10].sort(Pa)),n=[];for(let e=0;e<o.length;e+=1)n[e]=ma(Wr(t,o,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();i=I()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Le(t,i,r)},p(t,r){if(263176&r[0]){o=D(t[10].sort(Pa));let e;for(e=0;e<o.length;e+=1){var a=Wr(t,o,e);n[e]?n[e].p(a,r):(n[e]=ma(a),n[e].c(),n[e].m(i.parentNode,i))}for(;e<n.length;e+=1)n[e].d(1);n.length=o.length}},d(e){e&&Ee(i),F(n,e)}}}function ma(r){let a,i=r[55].first_name+" "+r[55].last_name,o,n,s,l,d,c;function g(){return r[37](r[55])}return{c(){a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),Fe(a,"id",s="mgPlayerJSProd_filter-search-locked-by-user-"+r[55].user_id),Fe(a,"class",l="mgPlayerJSProd_all-guides-search-filters-dropdown-item "+(r[3].user_id===r[55].user_id?"mgPlayerJSProd_selected-filter-dropdown-item":""))},m(e,t){Le(e,a,t),xe(a,o),xe(a,n),d||(c=$e(a,"click",g),d=!0)},p(e,t){r=e,1024&t[0]&&i!==(i=r[55].first_name+" "+r[55].last_name)&&Oe(o,i),1024&t[0]&&s!==(s="mgPlayerJSProd_filter-search-locked-by-user-"+r[55].user_id)&&Fe(a,"id",s),1032&t[0]&&l!==(l="mgPlayerJSProd_all-guides-search-filters-dropdown-item "+(r[3].user_id===r[55].user_id?"mgPlayerJSProd_selected-filter-dropdown-item":""))&&Fe(a,"class",l)},d(e){e&&Ee(a),d=!1,c()}}}function pa(r){let a,i=r[0].labels.sortBy+":",o,n,s,l,d,c,g=r[0].svgs.down_arrow_icon+"",m,p,u,h=r[0].labels.latest+"",P,y,_,S=r[0].labels.name+"",f,C,b;return{c(){a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),s=Me("wmgPlayerJSProd_"),l=Ie(r[9]),d=De(),c=Me("wmgPlayerJSProd_"),m=De(),p=Me("wmgPlayerJSProd_"),u=Me("wmgPlayerJSProd_"),P=Ie(h),y=De(),_=Me("wmgPlayerJSProd_"),f=Ie(S),Fe(s,"class","mgPlayerJSProd_span mgPlayerJSProd_all-guides-search-filters-label"),Fe(c,"class","mgPlayerJSProd_all-guides-search-filters-icon mgPlayerJSProd_ege-inline-block-vt"),Fe(u,"id","mgPlayerJSProd_filter-search-by-sort-latest"),Fe(u,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),Fe(_,"id","mgPlayerJSProd_filter-search-by-sort-name"),Fe(_,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),Fe(p,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-sort"),Fe(a,"id","mgPlayerJSProd_filter-search-by-sort"),Fe(a,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_all-guides-search-filters")},m(e,t){Le(e,a,t),xe(a,o),xe(a,n),xe(a,s),xe(s,l),xe(a,d),xe(a,c),c.innerHTML=g,xe(a,m),xe(a,p),xe(p,u),xe(u,P),xe(p,y),xe(p,_),xe(_,f),C||(b=[$e(u,"click",r[19]),$e(_,"click",r[20]),$e(a,"click",r[39])],C=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.sortBy+":")&&Oe(o,i),512&t[0]&&Oe(l,e[9]),1&t[0]&&g!==(g=e[0].svgs.down_arrow_icon+"")&&(c.innerHTML=g),1&t[0]&&h!==(h=e[0].labels.latest+"")&&Oe(P,h),1&t[0]&&S!==(S=e[0].labels.name+"")&&Oe(f,S)},d(e){e&&Ee(a),C=!1,ke(b)}}}function ua(e){let a,i,o,r,n=[Yr,qr],s=[];function l(e){return e[0].automationSelectionMode?1:0}return i=l(e),o=s[i]=n[i](e),{c(){a=Me("wmgPlayerJSProd_"),o.c(),Fe(a,"class","mgPlayerJSProd_list-page-header")},m(e,t){Le(e,a,t),s[i].m(a,null),r=!0},p(e,t){let r=i;(i=l(e))===r?s[i].p(e,t):(He(),Ve(s[r],1,1,()=>{s[r]=null}),Ne(),(o=s[i])?o.p(e,t):(o=s[i]=n[i](e)).c(),Be(o,1),o.m(a,null))},i(e){r||(Be(o),r=!0)},o(e){Ve(o),r=!1},d(e){e&&Ee(a),s[i].d()}}}let ha=(e,t)=>e.first_name.localeCompare(t.first_name),Pa=(e,t)=>e.first_name.localeCompare(t.first_name);function ya(e,t,r){let a,i,o,n,s,l,d="",c=!1,g=!1,m=ce.labels.latest,p=[],u=ge.CurrentPage.subscribe(e=>{r(1,a=e)}),h=de(ge.labels),P=(ge.activeSortFilterStore.subscribe(e=>{r(6,d=e)}),ge.isTaskListVisible.subscribe(e=>{r(8,g=e)})),y=ge.taskListCount.subscribe(e=>{}),_=ge.routeAction.subscribe(e=>{e&&"updateAutomationCount"===e.action&&(r(0,ce.automationGuideSelectCount=e.data,ce),ge.routeAction.set(null))});i={user_id:0,first_name:ce.labels.all},ce.currentUserFilter||(o=i),ce.currentAssigneeFilter||(n=i),ce.filterByPublishedGuides||(s=ce.labels.all);function S(){r(7,c=!1),ge.activeSortFilterStore.set(d),ce.hidePanelOverlay(),mg$(".mgPlayerJSProd_filter-sort-icon").removeClass("mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max"),mg$(".mgPlayerJSProd_filter-sort-icon").removeClass("mgPlayerJSProd_filter-active-state")}function f(e){r(7,c=!1),r(6,d=e),ge.activeSortFilterStore.set(d),GmCXt.saveToStorage("activeSortFilter",d),r(0,ce.descOrder=d.descOrder,ce),r(0,ce.activeSortFilter=d.activeSfilter,ce),S()}function C(e){ce.hideFiltersDropdown();e=mg$(".mgPlayerJSProd_all-guides-search-filters-dropdown-"+e);e&&!e.is(":visible")&&e.slideDown(200)}function b(){ce.getUserList(function(e){0<e.length&&(r(10,p=e),ce.currentUserFilter||r(3,o=i),ce.currentAssigneeFilter||r(4,n=i))})}function v(){var e;(ce.currentUserFilter||ce.filterByPublishedGuides||ce.currentAssigneeFilter||ce.sortByProperty)&&(e={currentUserFilter:ce.currentUserFilter,filterByPublishedGuides:ce.filterByPublishedGuides,currentAssigneeFilter:ce.currentAssigneeFilter,sortByProperty:ce.sortByProperty},ge.filters.set(e))}function w(e){r(3,o=e),r(0,ce.currentUserFilter=e,ce),v()}function J(e){r(4,n=e),r(0,ce.currentAssigneeFilter=e,ce),v()}!ce.isUserRole()&&GmCXt.FT.quickFilters&&(o=ce.myGuidesFilter?{...ce.user}:ce.currentUserFilter||i,s=ce.filterByPublishedGuides||ce.labels.all,n=ce.currentAssigneeFilter||i);let G=ge.labels.subscribe(e=>{r(11,h=e)});me(()=>{GmCXt.FT.creatorApp&&!ce.isUserRole()&&b()}),pe(()=>{u(),G(),S(),_(),P(),y()});return[ce,a,i,o,n,s,d,c,g,m,p,h,function(){c?S():(r(7,c=!c),r(7,c=!0),ce.addPanelOverlay(),ce.showPanelOverlay(),mg$(".mgPlayerJSProd_theme-mplayer-header").append("<wmgPlayerJSProd_ class='mgPlayerJSProd_ege-panel-overlay'></wmgPlayerJSProd_>"),mg$(".mgPlayerJSProd_filter-sort-icon").addClass("mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max"),mg$(".mgPlayerJSProd_filter-sort-icon").addClass("mgPlayerJSProd_filter-active-state"))},f,function(){"allguides"===a||"myguides"===a?ce.setCurrentPage("currentpage"):ce.setCurrentPage("allguides"),ge.breadCrumb.set([])},function(){l="allguides"===a||"currentpage"===a?(ce.setCurrentPage("myguides"),!0):(ce.setCurrentPage("allguides"),!1),ge.breadCrumb.set([]),r(0,ce.myGuidesFilter=!!l,ce)},C,w,J,function(){r(9,m=ce.labels.latest),r(0,ce.sortByProperty=ce.labels.latest,ce),v()},function(){r(9,m=ce.labels.name),r(0,ce.sortByProperty=ce.labels.name,ce),v()},function(){r(0,ce.filterByPublishedGuides=ce.labels.all,ce),r(5,s=ce.labels.all),v()},function(){r(5,s=ce.labels.published),r(0,ce.filterByPublishedGuides=ce.labels.published,ce),v()},function(){r(0,ce.filterByPublishedGuides=ce.labels.unpublished,ce),r(5,s=ce.labels.unpublished),v()},()=>ce.openTaskList(),()=>f("atoz"),()=>f("ztoa"),()=>f("recent"),()=>f("older"),()=>f(""),()=>w(ce.user),()=>w(i),e=>w(e),e=>C("user"),e=>C(ce.labels.published),()=>J(ce.user),()=>J(i),e=>J(e),e=>C("assignee"),e=>C("sort")]}class _a extends e{constructor(e){super(),t(this,e,ya,ua,d,{},null,[-1,-1])}}function Sa(e){a(e,"svelte-1g8jcbr","dialog.svelte-1g8jcbr::backdrop{background:rgba(0, 0, 0, 0.3)}dialog[open].svelte-1g8jcbr{animation:svelte-1g8jcbr-zoom 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)}@keyframes svelte-1g8jcbr-zoom{from{transform:scale(0.95)}to{transform:scale(1)}}dialog[open].svelte-1g8jcbr::backdrop{animation:svelte-1g8jcbr-fade 0.2s ease-out}@keyframes svelte-1g8jcbr-fade{from{opacity:0}to{opacity:1}}button.svelte-1g8jcbr{display:block}")}function fa(r){let a,i,o,n,s,l,d,c,F=ce.svgs.iconSearchClose+"",O,g,m,R,p,u,h,P,H,y=r[1].tour_title+"",_,N,S,f,C,e=ce.labels.firstStep+"",B,V,b,v=r[4][0].step_title+"",z,w,J,G,U,A,T,t=ce.labels.lastStep+"",j,W,X,k=r[4][r[6]-1].step_title+"",Z,x,L,E,q,M,I,Y,D,$,K;return{c(){a=Me("dialog"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),s=Ie(r[3]),l=De(),d=Me("button"),c=Me("wmgPlayerJSProd_"),O=De(),g=Me("wmgPlayerJSProd_"),(m=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.close,R=De(),p=Me("wmgPlayerJSProd_"),u=Me("wmgPlayerJSProd_"),h=Me("wmgPlayerJSProd_"),(P=Me("wmgPlayerJSProd_")).innerHTML='<svg width="24px" height="30px" viewBox="0 0 24 30" version="1.1"><defs></defs><g stroke="none" stroke-width="1" fill-rule="evenodd"><g fill-rule="nonzero"><path d="M21.0913898,3.4972619 L18.2461695,3.4972619 L18.2461695,2.99767857 C18.2461695,2.44809524 17.7340339,1.99845238 17.1080678,1.99845238 L15.4009492,1.99845238 L15.4009492,1.49880952 C15.4009492,0.699404762 14.6612203,0 13.6938305,0 L10.2795254,0 C9.31213559,0 8.57240678,0.649464286 8.57240678,1.49880952 L8.57240678,1.99839286 L6.86528814,1.99839286 C6.23932203,1.99839286 5.72718644,2.44803571 5.72718644,2.99761905 L5.72718644,3.49720238 L2.8819661,3.49720238 C1.28861017,3.49720238 0.0367457627,4.59636905 0.0367457627,5.9952381 L0.0367457627,27.4784524 C0.0367457627,28.877381 1.28867797,29.9764881 2.8819661,29.9764881 L21.0914576,29.9764881 C22.6848136,29.9764881 23.936678,28.8773214 23.936678,27.4784524 L23.936678,5.99529762 C23.936678,4.64636905 22.6847458,3.4972619 21.0913898,3.4972619 Z M6.86522034,3.99690476 L6.86522034,2.99767857 L9.14142373,2.99767857 C9.48284746,2.99767857 9.71044068,2.79785714 9.71044068,2.49809524 L9.71044068,1.49880952 C9.71044068,1.19904762 9.9380339,0.99922619 10.2794576,0.99922619 L13.6937627,0.99922619 C14.0351864,0.99922619 14.2627797,1.19904762 14.2627797,1.49880952 L14.2627797,2.49803571 C14.2627797,2.79779762 14.4903729,2.99761905 14.8317966,2.99761905 L17.108,2.99761905 L17.108,6.49488095 L6.86522034,6.49488095 L6.86522034,3.99690476 Z M18.2461695,25.480119 L5.72711864,25.480119 C5.38569492,25.480119 5.15810169,25.2802976 5.15810169,24.9805357 C5.15810169,24.6807738 5.38569492,24.4809524 5.72711864,24.4809524 L18.2461695,24.4809524 C18.5875932,24.4809524 18.8151864,24.6807738 18.8151864,24.9805357 C18.8151864,25.2802976 18.5875932,25.480119 18.2461695,25.480119 Z M18.2461695,20.983631 L5.72711864,20.983631 C5.38569492,20.983631 5.15810169,20.7838095 5.15810169,20.4840476 C5.15810169,20.1842857 5.38569492,19.9844643 5.72711864,19.9844643 L18.2461695,19.9844643 C18.5875932,19.9844643 18.8151864,20.1842857 18.8151864,20.4840476 C18.8152542,20.78375 18.5875932,20.983631 18.2461695,20.983631 Z M18.2461695,16.4871429 L5.72711864,16.4871429 C5.38569492,16.4871429 5.15810169,16.2873214 5.15810169,15.9875595 C5.15810169,15.6877976 5.38569492,15.4879762 5.72711864,15.4879762 L18.2461695,15.4879762 C18.5875932,15.4879762 18.8151864,15.6877976 18.8151864,15.9875595 C18.8151864,16.2873214 18.5875932,16.4871429 18.2461695,16.4871429 Z M18.2461695,11.9906548 L5.72711864,11.9906548 C5.38569492,11.9906548 5.15810169,11.7908333 5.15810169,11.4910714 C5.15810169,11.1913095 5.38569492,10.9914881 5.72711864,10.9914881 L18.2461695,10.9914881 C18.5875932,10.9914881 18.8151864,11.1913095 18.8151864,11.4910714 C18.8151864,11.7908333 18.5875932,11.9906548 18.2461695,11.9906548 Z" class="mgPlayerJSProd_shape"></path></g></g></svg>',H=De(),_=Ie(y),N=De(),S=Me("wmgPlayerJSProd_"),f=Me("wmgPlayerJSProd_"),C=Me("wmgPlayerJSProd_"),B=Ie(e),V=Ie(": "),b=new te(!1),z=De(),w=Me("wmgPlayerJSProd_"),J=Me("img"),U=De(),A=Me("wmgPlayerJSProd_"),T=Me("wmgPlayerJSProd_"),j=Ie(t),W=Ie(": "),X=new te(!1),Z=De(),x=Me("wmgPlayerJSProd_"),L=Me("img"),q=De(),M=Me("wmgPlayerJSProd_"),(I=Me("button")).textContent=""+ce.labels.startTest,Y=De(),(D=Me("button")).textContent=""+ce.labels.close,Fe(n,"class","mgPlayerJSProd_popup-test-me-title"),Fe(c,"class","mgPlayerJSProd_ege-inline-block-vt"),Fe(m,"class","mgPlayerJSProd_tooltip-title"),Fe(g,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left"),Fe(d,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_popup-test-me-close svelte-1g8jcbr"),Fe(o,"class","mgPlayerJSProd_popup-test-me-header"),Fe(P,"class","mgPlayerJSProd_tour-play-icon-test-me mgPlayerJSProd_ege-inline-block-vm"),Fe(h,"class","mgPlayerJSProd_tour-title-wrapper mgPlayerJSProd_ege-inline-block-vt"),Ae(h,"padding","20px"),Fe(u,"class","mgPlayerJSProd_tour-details-container"),b.a=null,Fe(C,"class","mgPlayerJSProd_preview-step-first-title"),Fe(J,"class","mgPlayerJSProd_step-image mgPlayerJSProd_custom-image"),Q(J.src,G=r[4][0].screen_url+GmCXt.getCdnSign())||Fe(J,"src",G),Fe(J,"alt","test"),Fe(w,"class","mgPlayerJSProd_image-preview-step-first"),Fe(f,"class","mgPlayerJSProd_preview-step-first-wrapper"),X.a=null,Fe(T,"class","mgPlayerJSProd_preview-step-last-title"),Fe(L,"class","mgPlayerJSProd_step-image mgPlayerJSProd_custom-image"),Q(L.src,E=r[4][r[6]-1].screen_url+GmCXt.getCdnSign())||Fe(L,"src",E),Fe(L,"alt","test"),Fe(x,"class","mgPlayerJSProd_image-preview-step-last"),Fe(A,"class","mgPlayerJSProd_preview-step-last-wrapper"),Fe(S,"class","mgPlayerJSProd_step-preview-container"),Fe(I,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_inline-block-vt svelte-1g8jcbr"),Fe(D,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral mgPlayerJSProd_inline-block-vt svelte-1g8jcbr"),Fe(M,"class","mgPlayerJSProd_test-me-btn-action mgPlayerJSProd_display-flex mgPlayerJSProd_justify-content-center mgPlayerJSProd_padding-tb-15"),Fe(p,"class","mgPlayerJSProd_popup-test-me-container"),Fe(i,"class","mgPlayerJSProd_popup-test-me-preview"),Re(i,"mgPlayerJSProd_accessibility-theme",GmCXt.accessibility),Fe(a,"id","mgPlayerJSProd_svelte-notification-modal"),Fe(a,"class","svelte-1g8jcbr")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),xe(n,s),xe(o,l),xe(o,d),xe(d,c),c.innerHTML=F,xe(d,O),xe(d,g),xe(g,m),xe(i,R),xe(i,p),xe(p,u),xe(u,h),xe(h,P),xe(h,H),xe(h,_),xe(p,N),xe(p,S),xe(S,f),xe(f,C),xe(C,B),xe(C,V),b.m(v,C),xe(f,z),xe(f,w),xe(w,J),xe(S,U),xe(S,A),xe(A,T),xe(T,j),xe(T,W),X.m(k,T),xe(A,Z),xe(A,x),xe(x,L),xe(p,q),xe(p,M),xe(M,I),xe(M,Y),xe(M,D),r[11](a),$||(K=[$e(d,"click",r[9]),$e(I,"click",r[10]),$e(D,"click",r[8]),$e(a,"close",r[12])],$=!0)},p(e,t){8&t&&Oe(s,e[3]),2&t&&y!==(y=e[1].tour_title+"")&&Oe(_,y),16&t&&v!==(v=e[4][0].step_title+"")&&b.p(v),16&t&&!Q(J.src,G=e[4][0].screen_url+GmCXt.getCdnSign())&&Fe(J,"src",G),16&t&&k!==(k=e[4][e[6]-1].step_title+"")&&X.p(k),16&t&&!Q(L.src,E=e[4][e[6]-1].screen_url+GmCXt.getCdnSign())&&Fe(L,"src",E)},d(e){e&&Ee(a),r[11](null),$=!1,ke(K)}}}function Ca(e){let r,a=e[0]&&fa(e);return{c(){a&&a.c(),r=I()},m(e,t){a&&a.m(e,t),Le(e,r,t)},p(e,[t]){e[0]?a?a.p(e,t):((a=fa(e)).c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i:Je,o:Je,d(e){e&&Ee(r),a&&a.d(e)}}}function ba(e,t,r){let a=t.showTestMe,i=t.tour,o,n;var t=i.steps.filter(function(e){return"inline"===e.step_type}),s=t.length;t[0].step_title=mg$("<span />").html(t[0].step_title).text(),t[s-1].step_title=mg$("<span />").html(t[s-1].step_title).text();let l={};l.tour=i;var d=GmCXt.getAppSetting();function c(e){ce.closeAppPopup(),r(0,a=!1),GmCXt.isMicroPlayer()&&(mg$(".mgPlayerJSProd_ege-panel").removeAttr("style"),GmCXt.resetMplayerPos()),GmCXt.handleStartTest({data:e})}n=d&&d.userLabels&&d.userLabels.testMe?d.userLabels.testMe:"TestMe",GmCXt.increaseSidePanelWidth();return e.$$set=e=>{"showTestMe"in e&&r(0,a=e.showTestMe),"tour"in e&&r(1,i=e.tour)},e.$$.update=()=>{5&e.$$.dirty&&o&&a&&o.showModal()},[a,i,o,n,t,l,s,c,function(){r(0,a=!1),o.close()},()=>o.close(),()=>c(l),function(e){ue[e?"unshift":"push"](()=>{o=e,r(2,o)})},()=>r(0,a=!1)]}class va extends e{constructor(e){super(),t(this,e,ba,Ca,d,{showTestMe:0,tour:1},Sa)}}function wa(r){let a,i,o=r[1].svgs.guideViewDownload+"",n,s,l,d=r[0].media_files&&Ja(r);return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),n=De(),d&&d.c(),Fe(i,"class","mgPlayerJSProd_download-icon mgPlayerJSProd_inline-block-vm"),Fe(a,"id","mgPlayerJSProd_icon-tour-download"),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_header-detail-view-tour-download-wrapper mgPlayerJSProd_header-icon-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),Fe(a,"aria-label","tour download dropdown"),Re(a,"mgPlayerJSProd_disabled",!r[0].is_published)},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),d&&d.m(a,null),s||(l=$e(a,"click",K(r[4])),s=!0)},p(e,t){2&t&&o!==(o=e[1].svgs.guideViewDownload+"")&&(i.innerHTML=o),e[0].media_files?d?d.p(e,t):((d=Ja(e)).c(),d.m(a,null)):d&&(d.d(1),d=null),1&t&&Re(a,"mgPlayerJSProd_disabled",!e[0].is_published)},d(e){e&&Ee(a),d&&d.d(),s=!1,l()}}}function Ja(e){let r;function a(e){return e[0].media_files.length?Aa:Ga}let i=a(e),o=i(e);return{c(){r=Me("wmgPlayerJSProd_"),o.c(),Fe(r,"id","mgPlayerJSProd_detail-view-download-options"),Fe(r,"class","mgPlayerJSProd_detail-download-action-options-dropdown")},m(e,t){Le(e,r,t),o.m(r,null)},p(e,t){i===(i=a(e))&&o?o.p(e,t):(o.d(1),(o=i(e))&&(o.c(),o.m(r,null)))},d(e){e&&Ee(r),o.d()}}}function Ga(r){let a,i,o,n,e,s,l,d=r[1].labels.pleaseWait+"",c,g,m,p=r[1].labels.mediaDownloadMsg+"",u,h,P,y=r[1].labels.close+"",_,S,f;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("img"),s=De(),l=Me("wmgPlayerJSProd_"),c=Ie(d),g=De(),m=Me("wmgPlayerJSProd_"),u=Ie(p),h=De(),P=Me("a"),_=Ie(y),Fe(n,"class","mgPlayerJSProd_max-width-height-100"),Q(n.src,e=GmCXt.loader())||Fe(n,"src",e),Fe(n,"alt","Loading..."),Fe(o,"class","mgPlayerJSProd_media-progress-loader-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center"),Fe(l,"class","mgPlayerJSProd_font-size-18 mgPlayerJSProd_margin-tb-20"),Fe(m,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-12"),Fe(i,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column mgPlayerJSProd_margin-tb-15"),Fe(P,"class","mgPlayerJSProd_lbl-link mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral"),Fe(a,"class","mgPlayerJSProd_media-progress-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_flex-direction-column mgPlayerJSProd_width-100 mgPlayerJSProd_height-100 mgPlayerJSProd_position-absolute mgPlayerJSProd_bg-white mgPlayerJSProd_z-index mgPlayerJSProd_z-index-2 mgPlayerJSProd_padding-15")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),xe(i,s),xe(i,l),xe(l,c),xe(i,g),xe(i,m),xe(m,u),xe(a,h),xe(a,P),xe(P,_),S||(f=$e(P,"click",K(r[5])),S=!0)},p(e,t){2&t&&d!==(d=e[1].labels.pleaseWait+"")&&Oe(c,d),2&t&&p!==(p=e[1].labels.mediaDownloadMsg+"")&&Oe(u,p),2&t&&y!==(y=e[1].labels.close+"")&&Oe(_,y)},d(e){e&&Ee(a),S=!1,f()}}}function Aa(e){let r,a,i,o,n=e[0].media_files[0].gify&&e[0].tour_settings.downloadGuideFiles.gif_file&&e[2](e[0])&&!GmCXt.isOnboarding(e[0]),s,l,d=e[0].media_files[0].doc&&e[0].tour_settings.downloadGuideFiles.word_file&&e[2](e[0]),c,g,m=e[0].media_files[0].blog&&e[0].tour_settings.downloadGuideFiles.blog_file&&e[2](e[0])&&!GmCXt.isOnboarding(e[0]),p,u,h=e[0].media_files[0].text&&e[0].tour_settings.downloadGuideFiles.text_file&&e[2](e[0])&&!GmCXt.isOnboarding(e[0]),P,y=e[0].media_files[0].pdf&&e[0].tour_settings.downloadGuideFiles.pdf_file&&Ta(e),_=e[0].tour_settings.downloadGuideFiles.pdf_file&&ka(),S=e[0].media_files[0].ppt&&e[0].tour_settings.downloadGuideFiles.pptx_file&&xa(e),f=e[0].tour_settings.downloadGuideFiles.pptx_file&&Ea(),C=n&&Ma(e),b=e[0].tour_settings.downloadGuideFiles.gif_file&&Da(),v=d&&$a(e),w=e[0].tour_settings.downloadGuideFiles.word_file&&Oa(),J=m&&Ra(e),G=e[0].tour_settings.downloadGuideFiles.blog_fil&&Na(),A=h&&Ba(e);return{c(){y&&y.c(),r=De(),_&&_.c(),a=De(),S&&S.c(),i=De(),f&&f.c(),o=De(),C&&C.c(),s=De(),b&&b.c(),l=De(),v&&v.c(),c=De(),w&&w.c(),g=De(),J&&J.c(),p=De(),G&&G.c(),u=De(),A&&A.c(),P=I()},m(e,t){y&&y.m(e,t),Le(e,r,t),_&&_.m(e,t),Le(e,a,t),S&&S.m(e,t),Le(e,i,t),f&&f.m(e,t),Le(e,o,t),C&&C.m(e,t),Le(e,s,t),b&&b.m(e,t),Le(e,l,t),v&&v.m(e,t),Le(e,c,t),w&&w.m(e,t),Le(e,g,t),J&&J.m(e,t),Le(e,p,t),G&&G.m(e,t),Le(e,u,t),A&&A.m(e,t),Le(e,P,t)},p(e,t){e[0].media_files[0].pdf&&e[0].tour_settings.downloadGuideFiles.pdf_file?y?y.p(e,t):((y=Ta(e)).c(),y.m(r.parentNode,r)):y&&(y.d(1),y=null),e[0].tour_settings.downloadGuideFiles.pdf_file?_||((_=ka()).c(),_.m(a.parentNode,a)):_&&(_.d(1),_=null),e[0].media_files[0].ppt&&e[0].tour_settings.downloadGuideFiles.pptx_file?S?S.p(e,t):((S=xa(e)).c(),S.m(i.parentNode,i)):S&&(S.d(1),S=null),e[0].tour_settings.downloadGuideFiles.pptx_file?f||((f=Ea()).c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null),(n=1&t?e[0].media_files[0].gify&&e[0].tour_settings.downloadGuideFiles.gif_file&&e[2](e[0])&&!GmCXt.isOnboarding(e[0]):n)?C?C.p(e,t):((C=Ma(e)).c(),C.m(s.parentNode,s)):C&&(C.d(1),C=null),e[0].tour_settings.downloadGuideFiles.gif_file?b||((b=Da()).c(),b.m(l.parentNode,l)):b&&(b.d(1),b=null),(d=1&t?e[0].media_files[0].doc&&e[0].tour_settings.downloadGuideFiles.word_file&&e[2](e[0]):d)?v?v.p(e,t):((v=$a(e)).c(),v.m(c.parentNode,c)):v&&(v.d(1),v=null),e[0].tour_settings.downloadGuideFiles.word_file?w||((w=Oa()).c(),w.m(g.parentNode,g)):w&&(w.d(1),w=null),(m=1&t?e[0].media_files[0].blog&&e[0].tour_settings.downloadGuideFiles.blog_file&&e[2](e[0])&&!GmCXt.isOnboarding(e[0]):m)?J?J.p(e,t):((J=Ra(e)).c(),J.m(p.parentNode,p)):J&&(J.d(1),J=null),e[0].tour_settings.downloadGuideFiles.blog_fil?G||((G=Na()).c(),G.m(u.parentNode,u)):G&&(G.d(1),G=null),(h=1&t?e[0].media_files[0].text&&e[0].tour_settings.downloadGuideFiles.text_file&&e[2](e[0])&&!GmCXt.isOnboarding(e[0]):h)?A?A.p(e,t):((A=Ba(e)).c(),A.m(P.parentNode,P)):A&&(A.d(1),A=null)},d(e){e&&(Ee(r),Ee(a),Ee(i),Ee(o),Ee(s),Ee(l),Ee(c),Ee(g),Ee(p),Ee(u),Ee(P)),y&&y.d(e),_&&_.d(e),S&&S.d(e),f&&f.d(e),C&&C.d(e),b&&b.d(e),v&&v.d(e),w&&w.d(e),J&&J.d(e),G&&G.d(e),A&&A.d(e)}}}function Ta(r){let a,i,o,n,s,l,d=(!r[0].media_files[0].pdf||"0"==r[0].media_files[0].pdf)&&Xa();return{c(){a=Me("wmgPlayerJSProd_"),i=Me("input"),n=De(),d&&d.c(),Fe(i,"type","button"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_detail-download-action-options-dropdown-item download-link mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100"),i.value=o=r[1].labels.pdf+" (.pdf)",Fe(a,"id","mgPlayerJSProd_tour-download-pdf"),Fe(a,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){Le(e,a,t),xe(a,i),xe(a,n),d&&d.m(a,null),s||(l=$e(i,"click",K(function(){Y(r[3]("tour_pdf_download",r[0].media_files[0].pdf,r[0]))&&r[3]("tour_pdf_download",r[0].media_files[0].pdf,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&o!==(o=r[1].labels.pdf+" (.pdf)")&&(i.value=o),r[0].media_files[0].pdf&&"0"!=r[0].media_files[0].pdf?d&&(d.d(1),d=null):d?d.p(r,t):((d=Xa()).c(),d.m(a,null))},d(e){e&&Ee(a),d&&d.d(),s=!1,l()}}}function Xa(){let r,a,e;return{c(){r=Me("wmgPlayerJSProd_"),Fe(a=Me("img"),"class","mgPlayerJSProd_max-width-height-100"),Q(a.src,e=GmCXt.loader())||Fe(a,"src",e),Fe(a,"alt","Loading..."),Fe(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){Le(e,r,t),xe(r,a)},p:Je,d(e){e&&Ee(r)}}}function ka(){let r;return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function xa(r){let a,i,o,n,s,l,d=(!r[0].media_files[0].ppt||"0"==r[0].media_files[0].ppt)&&La();return{c(){a=Me("wmgPlayerJSProd_"),i=Me("input"),n=De(),d&&d.c(),Fe(i,"type","button"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_detail-download-action-options-dropdown-item download-link mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100"),i.value=o=r[1].labels.downloadPptx+" (.pptx)",Fe(a,"id","mgPlayerJSProd_tour-download-pptx"),Fe(a,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){Le(e,a,t),xe(a,i),xe(a,n),d&&d.m(a,null),s||(l=$e(i,"click",K(function(){Y(r[3]("tour_ppt_download",r[0].media_files[0].ppt,r[0]))&&r[3]("tour_ppt_download",r[0].media_files[0].ppt,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&o!==(o=r[1].labels.downloadPptx+" (.pptx)")&&(i.value=o),r[0].media_files[0].ppt&&"0"!=r[0].media_files[0].ppt?d&&(d.d(1),d=null):d?d.p(r,t):((d=La()).c(),d.m(a,null))},d(e){e&&Ee(a),d&&d.d(),s=!1,l()}}}function La(){let r,a,e;return{c(){r=Me("wmgPlayerJSProd_"),Fe(a=Me("img"),"class","mgPlayerJSProd_max-width-height-100"),Q(a.src,e=GmCXt.loader())||Fe(a,"src",e),Fe(a,"alt","Loading..."),Fe(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){Le(e,r,t),xe(r,a)},p:Je,d(e){e&&Ee(r)}}}function Ea(){let r;return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function Ma(r){let a,i,o,n,s,l,d=(!r[0].media_files[0].gify||"0"==r[0].media_files[0].gify)&&Ia();return{c(){a=Me("wmgPlayerJSProd_"),i=Me("input"),n=De(),d&&d.c(),Fe(i,"type","button"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_detail-download-action-options-dropdown-item download-link mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100"),i.value=o=r[1].labels.giphy+" (.gif)",Fe(a,"id","mgPlayerJSProd_tour-download-gif"),Fe(a,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){Le(e,a,t),xe(a,i),xe(a,n),d&&d.m(a,null),s||(l=$e(i,"click",K(function(){Y(r[3]("tour_gif_download",r[0].media_files[0].gify,r[0]))&&r[3]("tour_gif_download",r[0].media_files[0].gify,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&o!==(o=r[1].labels.giphy+" (.gif)")&&(i.value=o),r[0].media_files[0].gify&&"0"!=r[0].media_files[0].gify?d&&(d.d(1),d=null):d?d.p(r,t):((d=Ia()).c(),d.m(a,null))},d(e){e&&Ee(a),d&&d.d(),s=!1,l()}}}function Ia(){let r,a,e;return{c(){r=Me("wmgPlayerJSProd_"),Fe(a=Me("img"),"class","mgPlayerJSProd_max-width-height-100"),Q(a.src,e=GmCXt.loader())||Fe(a,"src",e),Fe(a,"alt","Loading..."),Fe(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){Le(e,r,t),xe(r,a)},p:Je,d(e){e&&Ee(r)}}}function Da(){let r;return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function $a(r){let a,i,o,n,s,l,d=(!r[0].media_files[0].doc||"0"==r[0].media_files[0].doc)&&Fa();return{c(){a=Me("wmgPlayerJSProd_"),i=Me("input"),n=De(),d&&d.c(),Fe(i,"type","button"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_detail-download-action-options-dropdown-item download-link mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100"),i.value=o=r[1].labels.downloadWord+" (.docx)",Fe(a,"id","mgPlayerJSProd_tour-download-docx"),Fe(a,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){Le(e,a,t),xe(a,i),xe(a,n),d&&d.m(a,null),s||(l=$e(i,"click",K(function(){Y(r[3]("tour_word_download",r[0].media_files[0].doc,r[0]))&&r[3]("tour_word_download",r[0].media_files[0].doc,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&o!==(o=r[1].labels.downloadWord+" (.docx)")&&(i.value=o),r[0].media_files[0].doc&&"0"!=r[0].media_files[0].doc?d&&(d.d(1),d=null):d?d.p(r,t):((d=Fa()).c(),d.m(a,null))},d(e){e&&Ee(a),d&&d.d(),s=!1,l()}}}function Fa(){let r,a,e;return{c(){r=Me("wmgPlayerJSProd_"),Fe(a=Me("img"),"class","mgPlayerJSProd_max-width-height-100"),Q(a.src,e=GmCXt.loader())||Fe(a,"src",e),Fe(a,"alt","Loading..."),Fe(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){Le(e,r,t),xe(r,a)},p:Je,d(e){e&&Ee(r)}}}function Oa(){let r;return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function Ra(r){let a,i,o,n,s,l,d=(!r[0].media_files[0].blog||"0"==r[0].media_files[0].blog)&&Ha();return{c(){a=Me("wmgPlayerJSProd_"),i=Me("input"),n=De(),d&&d.c(),Fe(i,"type","button"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_detail-download-action-options-dropdown-item download-link mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100"),i.value=o=r[1].labels.downloadBlog+" (.html)",Fe(a,"id","mgPlayerJSProd_tour-download-html"),Fe(a,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){Le(e,a,t),xe(a,i),xe(a,n),d&&d.m(a,null),s||(l=$e(i,"click",K(function(){Y(r[3]("tour_blog_download",r[0].media_files[0].blog,r[0]))&&r[3]("tour_blog_download",r[0].media_files[0].blog,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&o!==(o=r[1].labels.downloadBlog+" (.html)")&&(i.value=o),r[0].media_files[0].blog&&"0"!=r[0].media_files[0].blog?d&&(d.d(1),d=null):d?d.p(r,t):((d=Ha()).c(),d.m(a,null))},d(e){e&&Ee(a),d&&d.d(),s=!1,l()}}}function Ha(){let r,a,e;return{c(){r=Me("wmgPlayerJSProd_"),Fe(a=Me("img"),"class","mgPlayerJSProd_max-width-height-100"),Q(a.src,e=GmCXt.loader())||Fe(a,"src",e),Fe(a,"alt","Loading..."),Fe(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){Le(e,r,t),xe(r,a)},p:Je,d(e){e&&Ee(r)}}}function Na(){let r;return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function Ba(r){let a,i,o,n,s,l,d=(!r[0].media_files[0].text||"0"==r[0].media_files[0].text)&&Va();return{c(){a=Me("wmgPlayerJSProd_"),i=Me("input"),n=De(),d&&d.c(),Fe(i,"type","button"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_detail-download-action-options-dropdown-item download-link mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100"),i.value=o=r[1].labels.downloadTxt+" (.txt)",Fe(a,"id","mgPlayerJSProd_tour-download-txt"),Fe(a,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){Le(e,a,t),xe(a,i),xe(a,n),d&&d.m(a,null),s||(l=$e(i,"click",K(function(){Y(r[3]("",r[0].media_files[0].text,r[0]))&&r[3]("",r[0].media_files[0].text,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&o!==(o=r[1].labels.downloadTxt+" (.txt)")&&(i.value=o),r[0].media_files[0].text&&"0"!=r[0].media_files[0].text?d&&(d.d(1),d=null):d?d.p(r,t):((d=Va()).c(),d.m(a,null))},d(e){e&&Ee(a),d&&d.d(),s=!1,l()}}}function Va(){let r,a,e;return{c(){r=Me("wmgPlayerJSProd_"),Fe(a=Me("img"),"class","mgPlayerJSProd_max-width-height-100"),Q(a.src,e=GmCXt.loader())||Fe(a,"src",e),Fe(a,"alt","Loading..."),Fe(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){Le(e,r,t),xe(r,a)},p:Je,d(e){e&&Ee(r)}}}function za(e){let r,a=e[6](e[0]),i=a&&wa(e);return{c(){r=Me("wmgPlayerJSProd_"),i&&i.c()},m(e,t){Le(e,r,t),i&&i.m(r,null)},p(e,[t]){(a=1&t?e[6](e[0]):a)?i?i.p(e,t):((i=wa(e)).c(),i.m(r,null)):i&&(i.d(1),i=null)},i:Je,o:Je,d(e){e&&Ee(r),i&&i.d()}}}function Ua(e,t,r){let a=t.tour;let n=function(e){switch(e){case"tour_video_download":GmCXt.trackerV1.trackGuideDownload(a,"video");break;case"tour_pdf_download":GmCXt.trackerV1.trackGuideDownload(a,"pdf");break;case"tour_ppt_download":GmCXt.trackerV1.trackGuideDownload(a,"ppt");break;case"tour_gif_download":GmCXt.trackerV1.trackGuideDownload(a,"gif");break;case"tour_word_download":GmCXt.trackerV1.trackGuideDownload(a,"docx");break;case"tour_blog_download":GmCXt.trackerV1.trackGuideDownload(a,"html");break;default:GmCXt.trackerV1.trackGuideDownload(a,"txt")}};function i(){mg$(".mgPlayerJSProd_detail-download-action-options-dropdown").slideUp(200),mg$(".mgPlayerJSProd_tour-item").removeClass("mgPlayerJSProd_z-index mgPlayerJSProd_z-index-10"),mg$(".mgPlayerJSProd_header-detail-view-tour-download-wrapper").removeClass("mgPlayerJSProd_dropdown-active")}function o(e){mg$(e.target).closest(".mgPlayerJSProd_detail-download-action-options-dropdown").length||(mg$(".mgPlayerJSProd_detail-download-action-options-dropdown").slideUp(200),r(1,ce.isMediaFileDropdown=!1,ce),document.removeEventListener("click",o))}return me(()=>{document.addEventListener("click",o)}),pe(()=>{document.removeEventListener("click",o)}),e.$$set=e=>{"tour"in e&&r(0,a=e.tour)},[a,ce,function(e){if(!e)return!1;let t=!0;return t=GmCXt.branchStepExist(e)?!1:t},function(i,o,e){function t(r){r&&(o=r);{var a=i;r=o;let t=document.createElement("a");t.setAttribute("href",r),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t);let e;document&&document.createEvent&&window?(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null):e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}),t.addEventListener("click",function(e){e.stopPropagation(),document.body.removeChild(t),n(a)},!1),t.dispatchEvent(e)}}var r=GmCXt.getUrlWithLang(o);o+=GmCXt.getCdnSign(),e&&!e.tour_settings.translationEnable?GmCXt.checkAssetUrl(o,o,t):GmCXt.checkAssetUrl(r,o,t)},function(e){r(1,ce.isMediaFileDropdown=!1,ce),mg$(".mgPlayerJSProd_detail-view-action-options-dropdownn").slideUp(200),mg$(".mgPlayerJSProd_step-action-menu-options-dropdown").slideUp(200),ce.hideTourActionDropdown(),i(),r(1,ce.isMediaFileDropdown=mg$(e.target).children(".mgPlayerJSProd_detail-download-action-options-dropdown").is(":visible"),ce),ce.isMediaFileDropdown?(mg$(e.target).children(".mgPlayerJSProd_detail-download-action-options-dropdown").slideUp(200),r(1,ce.isMediaFileDropdown=!1,ce)):(mg$(e.target).children(".mgPlayerJSProd_detail-download-action-options-dropdown").slideDown(200),r(1,ce.isMediaFileDropdown=!0,ce),mg$(e.target).addClass("mgPlayerJSProd_dropdown-active"),mg$(e.target).parents(".mgPlayerJSProd_tour-item").addClass("mgPlayerJSProd_z-index mgPlayerJSProd_z-index-10")),document.addEventListener("click",o)},i,function(e){return(GmCXt.isGuide(e)||ce.isTooltip(e)&&ce.createTooltipMediaFile||ce.isCADGuide(e)||GmCXt.isOnboarding(e)&&"tutorial"===e.tour_settings.tutorial_tour_type)&&(e=e,!(GmCXt.FT.isPlayer&&"humana"===ce.appConfig.customer||GmCXt.isFalseObj(e.tour_settings.downloadGuideFiles)))&&ce.mediafileCreation&&!(GmCXt.accessibility&&GmCXt.FT.isPlayer)}]}class ja extends e{constructor(e){super(),t(this,e,Ua,za,d,{tour:0})}}function Wa(e){let r,a,i,o,t=ce.labels.draftGuide+"",n,s,l;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=De(),o=Me("wmgPlayerJSProd_"),n=Ie(t),Fe(a,"class","mgPlayerJSProd_tour-draft-highlight"),Fe(o,"class",s="mgPlayerJSProd_tour-draft "+(e[0].pin?"mgPlayerJSProd_tour-draft-pin":"")),Fe(r,"id",l="mgPlayerJSProd_tour-draft-"+e[0].tour_id),Fe(r,"class","mgPlayerJSProd_tour-draft-wrapper")},m(e,t){Le(e,r,t),xe(r,a),xe(r,i),xe(r,o),xe(o,n)},p(e,t){1&t[0]&&s!==(s="mgPlayerJSProd_tour-draft "+(e[0].pin?"mgPlayerJSProd_tour-draft-pin":""))&&Fe(o,"class",s),1&t[0]&&l!==(l="mgPlayerJSProd_tour-draft-"+e[0].tour_id)&&Fe(r,"id",l)},d(e){e&&Ee(r)}}}function Za(r){let a,i,o,n,s,l,d,c,g,m,p=!r[6]&&!r[7]&&qa(r),u=(r[12]||r[13]||r[5]||r[6]||r[14]||r[24])&&ti(r),h=r[11]&&li(r),P=-1!==r[17]&&gi();return{c(){a=Me("wmgPlayerJSProd_"),p&&p.c(),i=De(),o=Me("wmgPlayerJSProd_"),u&&u.c(),n=De(),h&&h.c(),s=De(),P&&P.c(),Fe(o,"id",l="mgPlayerJSProd_icon-tour-play-"+r[0].tour_id),Fe(o,"class",d="mgPlayerJSProd_ege-inline-block-vm tour-play-icon mgPlayerJSProd_playTourBtn active "+(r[0]?.is_published?"published-tour-icon":"")+" "+("currentpage"!=de(ge.CurrentPage)&&"allguidesSearchPage"!=de(ge.CurrentPage)&&"findNReplace"!==de(ge.activeView)&&!r[25]?.is_published&&r[0]?.is_published?"mgPlayerJSProd_published-category-tour-icon":"")),Fe(a,"class",c="mgPlayerJSProd_tour-play-action-wrapper mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_position-relative "+(r[0]?.is_published?"activePublishedTourPlay":""))},m(e,t){Le(e,a,t),p&&p.m(a,null),xe(a,i),xe(a,o),u&&u.m(o,null),xe(o,n),h&&h.m(o,null),xe(o,s),P&&P.m(o,null),g||(m=$e(o,"click",r[35]),g=!0)},p(e,t){e[6]||e[7]?p&&(p.d(1),p=null):p?p.p(e,t):((p=qa(e)).c(),p.m(a,i)),e[12]||e[13]||e[5]||e[6]||e[14]||e[24]?u?u.p(e,t):((u=ti(e)).c(),u.m(o,n)):u&&(u.d(1),u=null),e[11]?h?h.p(e,t):((h=li(e)).c(),h.m(o,s)):h&&(h.d(1),h=null),-1!==e[17]?P||((P=gi()).c(),P.m(o,null)):P&&(P.d(1),P=null),1&t[0]&&l!==(l="mgPlayerJSProd_icon-tour-play-"+e[0].tour_id)&&Fe(o,"id",l),1&t[0]&&d!==(d="mgPlayerJSProd_ege-inline-block-vm tour-play-icon mgPlayerJSProd_playTourBtn active "+(e[0]?.is_published?"published-tour-icon":"")+" "+("currentpage"!=de(ge.CurrentPage)&&"allguidesSearchPage"!=de(ge.CurrentPage)&&"findNReplace"!==de(ge.activeView)&&!e[25]?.is_published&&e[0]?.is_published?"mgPlayerJSProd_published-category-tour-icon":""))&&Fe(o,"class",d),1&t[0]&&c!==(c="mgPlayerJSProd_tour-play-action-wrapper mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_position-relative "+(e[0]?.is_published?"activePublishedTourPlay":""))&&Fe(a,"class",c)},d(e){e&&Ee(a),p&&p.d(),u&&u.d(),h&&h.d(),P&&P.d(),g=!1,m()}}}function qa(r){let a,i,o,n;function s(e){return e[8]!==ce.playGuideMe&&("Default"!==e[0].tour_settings.defaultPlayAction||e[3]!==ce.playGuideMe)||e[10]||e[11]||e[24]?e[8]===ce.playSlideshow||"Default"===e[0].tour_settings.defaultPlayAction&&e[3]===ce.playSlideshow||e[10]||e[11]||e[24]?Qa:e[8]!==ce.playAuto&&("Default"!==e[0].tour_settings.defaultPlayAction||e[3]!==ce.playAuto)||e[10]||e[11]||e[24]?Ya:Ka:ei}let l=s(r),d=l(r);return{c(){a=Me("wmgPlayerJSProd_"),d.c(),Fe(a,"id",i="mgPlayerJSProd_title-tooltip-wrapper-"+r[0].tour_id),Fe(a,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right")},m(e,t){Le(e,a,t),d.m(a,null),o||(n=$e(a,"click",r[34]),o=!0)},p(e,t){l!==(l=s(e))&&(d.d(1),d=l(e))&&(d.c(),d.m(a,null)),1&t[0]&&i!==(i="mgPlayerJSProd_title-tooltip-wrapper-"+e[0].tour_id)&&Fe(a,"id",i)},d(e){e&&Ee(a),d.d(),o=!1,n()}}}function Ya(e){let r;return{c(){(r=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.guideMe,Fe(r,"class","mgPlayerJSProd_tooltip-title mgPlayerJSProd_text-align-center")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function Ka(e){let r;return{c(){(r=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.doItForMe,Fe(r,"class","mgPlayerJSProd_tooltip-title mgPlayerJSProd_text-align-center")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function Qa(e){let r;return{c(){(r=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.showMe,Fe(r,"class","mgPlayerJSProd_tooltip-title mgPlayerJSProd_text-align-center")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function ei(e){let r;return{c(){(r=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.guideMe,Fe(r,"class","mgPlayerJSProd_tooltip-title mgPlayerJSProd_text-align-center")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function ti(e){let r,a=!e[6]&&!e[5]&&0<=e[0].image_url.indexOf("default_icon")&&!e[14],i,o=e[15]&&0<=e[0].image_url.indexOf("default_icon"),n,s=e[6]&&0<=e[0].image_url.indexOf("default_icon"),l,d=e[14]&&0<=e[0].image_url.indexOf("default_icon"),c,g,m=!GmCXt.isEmpty(e[0].image_url)&&-1===e[0].image_url.indexOf("default_icon"),p=a&&ri(e),u=o&&ai(e),h=s&&ii(),P=d&&oi(),y=e[5]&&ni(),_=m&&si(e);return{c(){r=Me("button"),p&&p.c(),i=De(),u&&u.c(),n=De(),h&&h.c(),l=De(),P&&P.c(),c=De(),y&&y.c(),g=De(),_&&_.c(),Fe(r,"class","mgPlayerJSProd_guide-icon-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm mgPlayerJSProd_lbl-btn")},m(e,t){Le(e,r,t),p&&p.m(r,null),xe(r,i),u&&u.m(r,null),xe(r,n),h&&h.m(r,null),xe(r,l),P&&P.m(r,null),xe(r,c),y&&y.m(r,null),xe(r,g),_&&_.m(r,null)},p(e,t){(a=16481&t[0]?!e[6]&&!e[5]&&0<=e[0].image_url.indexOf("default_icon")&&!e[14]:a)?p?p.p(e,t):((p=ri(e)).c(),p.m(r,i)):p&&(p.d(1),p=null),(o=32769&t[0]?e[15]&&0<=e[0].image_url.indexOf("default_icon"):o)?u?u.p(e,t):((u=ai(e)).c(),u.m(r,n)):u&&(u.d(1),u=null),(s=65&t[0]?e[6]&&0<=e[0].image_url.indexOf("default_icon"):s)?h||((h=ii()).c(),h.m(r,l)):h&&(h.d(1),h=null),(d=16385&t[0]?e[14]&&0<=e[0].image_url.indexOf("default_icon"):d)?P||((P=oi()).c(),P.m(r,c)):P&&(P.d(1),P=null),e[5]?y||((y=ni()).c(),y.m(r,g)):y&&(y.d(1),y=null),(m=1&t[0]?!GmCXt.isEmpty(e[0].image_url)&&-1===e[0].image_url.indexOf("default_icon"):m)?_?_.p(e,t):((_=si(e)).c(),_.m(r,null)):_&&(_.d(1),_=null)},d(e){e&&Ee(r),p&&p.d(),u&&u.d(),h&&h.d(),P&&P.d(),y&&y.d(),_&&_.d()}}}function ri(e){let r,a,i=e[32]()+"";return{c(){r=Me("wmgPlayerJSProd_"),Fe(a=b("svg"),"width","40"),Fe(a,"height","40"),Fe(a,"viewBox","0 0 40 40"),Fe(a,"fill","none"),Fe(r,"class","mgPlayerJSProd_inline-block-vm")},m(e,t){Le(e,r,t),xe(r,a),a.innerHTML=i},p:Je,d(e){e&&Ee(r)}}}function ai(r){let a;return{c(){Fe(a=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_inline-block-vm")},m(e,t){Le(e,a,t),a.innerHTML=r[15]},p(e,t){32768&t[0]&&(a.innerHTML=e[15])},d(e){e&&Ee(a)}}}function ii(){let r,a=ce.svgs.mobileGuide+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_inline-block-vm")},m(e,t){Le(e,r,t),r.innerHTML=a},d(e){e&&Ee(r)}}}function oi(){let r,a=ce.svgs.insight+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_inline-block-vm")},m(e,t){Le(e,r,t),r.innerHTML=a},d(e){e&&Ee(r)}}}function ni(){let r,a=ce.svgs.guide_bot_icon+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_inline-block-vm")},m(e,t){Le(e,r,t),r.innerHTML=a},d(e){e&&Ee(r)}}}function si(e){let r,a,i,o;return{c(){r=Me("wmgPlayerJSProd_"),Fe(a=Me("img"),"class","mgPlayerJSProd_guide-upld-img mgPlayerJSProd_custom-image mgPlayerJSProd_width-height-100 mgPlayerJSProd_position-center mgPlayerJSProd_border-radius-50"),Q(a.src,i=e[0].image_url+e[23])||Fe(a,"src",i),Fe(a,"alt",e[16]),Fe(r,"class",o="mgPlayerJSProd_guide-upld-img-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 "+(e[0]?.is_published?"mgPlayerJSProd_guide-pub-img-border":""))},m(e,t){Le(e,r,t),xe(r,a)},p(e,t){8388609&t[0]&&!Q(a.src,i=e[0].image_url+e[23])&&Fe(a,"src",i),65536&t[0]&&Fe(a,"alt",e[16]),1&t[0]&&o!==(o="mgPlayerJSProd_guide-upld-img-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 "+(e[0]?.is_published?"mgPlayerJSProd_guide-pub-img-border":""))&&Fe(r,"class",o)},d(e){e&&Ee(r)}}}function li(e){let r,a=0<=e[0].image_url.indexOf("default_icon"),i,o=!GmCXt.isEmpty(e[0].image_url)&&-1==e[0].image_url.indexOf("default_icon"),n=a&&di(),s=o&&ci(e);return{c(){r=Me("wmgPlayerJSProd_"),n&&n.c(),i=De(),s&&s.c(),Fe(r,"class","mgPlayerJSProd_guide-icon-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm")},m(e,t){Le(e,r,t),n&&n.m(r,null),xe(r,i),s&&s.m(r,null)},p(e,t){(a=1&t[0]?0<=e[0].image_url.indexOf("default_icon"):a)?n||((n=di()).c(),n.m(r,i)):n&&(n.d(1),n=null),(o=1&t[0]?!GmCXt.isEmpty(e[0].image_url)&&-1==e[0].image_url.indexOf("default_icon"):o)?s?s.p(e,t):((s=ci(e)).c(),s.m(r,null)):s&&(s.d(1),s=null)},d(e){e&&Ee(r),n&&n.d(),s&&s.d()}}}function di(){let r,a=ce.svgs.guide_onboarding+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_inline-block-vm")},m(e,t){Le(e,r,t),r.innerHTML=a},d(e){e&&Ee(r)}}}function ci(e){let r,a,i,o;return{c(){r=Me("wmgPlayerJSProd_"),Fe(a=Me("img"),"class","mgPlayerJSProd_guide-upld-img mgPlayerJSProd_custom-image mgPlayerJSProd_width-height-100 mgPlayerJSProd_position-center mgPlayerJSProd_border-radius-50"),Q(a.src,i=e[0].image_url+e[23])||Fe(a,"src",i),Fe(a,"alt",e[16]),Fe(r,"class",o="mgPlayerJSProd_guide-upld-img-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 "+(e[0]?.is_published?"mgPlayerJSProd_guide-pub-img-border":""))},m(e,t){Le(e,r,t),xe(r,a)},p(e,t){8388609&t[0]&&!Q(a.src,i=e[0].image_url+e[23])&&Fe(a,"src",i),65536&t[0]&&Fe(a,"alt",e[16]),1&t[0]&&o!==(o="mgPlayerJSProd_guide-upld-img-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 "+(e[0]?.is_published?"mgPlayerJSProd_guide-pub-img-border":""))&&Fe(r,"class",o)},d(e){e&&Ee(r)}}}function gi(){let r,a=ce.svgs.guide_beacon+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_guide-beacon")},m(e,t){Le(e,r,t),r.innerHTML=a},d(e){e&&Ee(r)}}}function mi(e){let r,a,i=ce.svgs.tooltipIcon+"",o;return{c(){r=Me("wmgPlayerJSProd_"),Fe(a=Me("wmgPlayerJSProd_"),"class",o="mgPlayerJSProd_inline-block-vt tour-play-icon active "+(e[0]?.is_published?"published-tour":"")+" "+("currentpage"!=de(ge.CurrentPage)&&"allguidesSearchPage"!=de(ge.CurrentPage)&&"findNReplace"!==de(ge.activeView)&&!e[25]?.is_published&&e[0]?.is_published?"mgPlayerJSProd_published-category-tour-icon":"")),Fe(r,"class","mgPlayerJSProd_guide-icon-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm")},m(e,t){Le(e,r,t),xe(r,a),a.innerHTML=i},p(e,t){1&t[0]&&o!==(o="mgPlayerJSProd_inline-block-vt tour-play-icon active "+(e[0]?.is_published?"published-tour":"")+" "+("currentpage"!=de(ge.CurrentPage)&&"allguidesSearchPage"!=de(ge.CurrentPage)&&"findNReplace"!==de(ge.activeView)&&!e[25]?.is_published&&e[0]?.is_published?"mgPlayerJSProd_published-category-tour-icon":""))&&Fe(a,"class",o)},d(e){e&&Ee(r)}}}function pi(e){let r,a,i=e[0].tour_title+"",o,n,s,l=e[0].tour_description+"",d;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),s=Me("wmgPlayerJSProd_"),d=Ie(l),Fe(a,"class","mgPlayerJSProd_tooltip-title"),Fe(s,"class","mgPlayerJSProd_tooltip-title"),Fe(r,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-right mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y")},m(e,t){Le(e,r,t),xe(r,a),xe(a,o),xe(r,n),xe(r,s),xe(s,d)},p(e,t){1&t[0]&&i!==(i=e[0].tour_title+"")&&Oe(o,i),1&t[0]&&l!==(l=e[0].tour_description+"")&&Oe(d,l)},d(e){e&&Ee(r)}}}function ui(e){let r,a=e[27]()||e[28](),i,o,n,s,l=a&&(r=>{let a,i,o=(r[27]()?ce.svgs.replay_guide:ce.svgs.resume_guide)+"",n,s,l,d=(r[27]()?ce.labels.replay:ce.labels.yesResume)+"",c,g;return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),l=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_action-icon mgPlayerJSProd_position-center "+(r[27]()?"mgPlayerJSProd_action-icon-replay":"mgPlayerJSProd_action-icon-resume")),Fe(l,"class","mgPlayerJSProd_tooltip-title"),Fe(s,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_margin-tb-15"),Fe(a,"id","mgPlayerJSProd_guide-replay-resume-wrapper"),Fe(a,"class","mgPlayerJSProd_guide-action-icon-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lbl-btn")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,l),l.innerHTML=d,c||(g=$e(a,"click",function(){Y(r[27]()?ce.play(r[0],!1):ce.play(r[0],!0))&&(r[27]()?ce.play(r[0],!1):ce.play(r[0],!0)).apply(this,arguments)}),c=!0)},p(e,t){r=e},d(e){e&&Ee(a),c=!1,g()}}})(e),d=e[18]&&hi(e),c=e[19]&&Pi(e),g=e[20]&&yi(e),m=e[21]&&_i(e);return{c(){r=Me("wmgPlayerJSProd_"),l&&l.c(),i=De(),d&&d.c(),o=De(),c&&c.c(),n=De(),g&&g.c(),s=De(),m&&m.c(),Fe(r,"class","mgPlayerJSProd_guide-play-action-wrapper mgPlayerJSProd_inline-block-vm mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-flex-end mgPlayerJSProd_float-right mgPlayerJSProd_border-radius mgPlayerJSProd_border-radius-4px mgPlayerJSProd_border-rounded "+(ce.isMicroPlayer?"mgPlayerJSProd_no-margin mgPlayerJSProd_border-rounded-left":""))},m(e,t){Le(e,r,t),l&&l.m(r,null),xe(r,i),d&&d.m(r,null),xe(r,o),c&&c.m(r,null),xe(r,n),g&&g.m(r,null),xe(r,s),m&&m.m(r,null)},p(e,t){a&&l.p(e,t),e[18]?d?d.p(e,t):((d=hi(e)).c(),d.m(r,o)):d&&(d.d(1),d=null),e[19]?c?c.p(e,t):((c=Pi(e)).c(),c.m(r,n)):c&&(c.d(1),c=null),e[20]?g?g.p(e,t):((g=yi(e)).c(),g.m(r,s)):g&&(g.d(1),g=null),e[21]?m?m.p(e,t):((m=_i(e)).c(),m.m(r,null)):m&&(m.d(1),m=null)},d(e){e&&Ee(r),l&&l.d(),d&&d.d(),c&&c.d(),g&&g.d(),m&&m.d()}}}function hi(r){let a,i,o=ce.svgs.guidePlayIcon+"",n,s,l,d,c;return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),(l=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.guideMe,Fe(i,"class","mgPlayerJSProd_action-icon mgPlayerJSProd_position-center"),Fe(l,"class","mgPlayerJSProd_tooltip-title"),Fe(s,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_margin-tb-15"),Fe(a,"id","mgPlayerJSProd_icon-guide-action-guideme"),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-action-icon-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,l),d||(c=$e(a,"click",function(){Y(ce.guideAction(ce.playGuideMe,null,r[0],ce.currentView))&&ce.guideAction(ce.playGuideMe,null,r[0],ce.currentView).apply(this,arguments)}),d=!0)},p(e,t){r=e},d(e){e&&Ee(a),d=!1,c()}}}function Pi(r){let a,i,o=ce.svgs.play_showme+"",n,s,l,d,c;return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),(l=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.showMe,Fe(i,"class","mgPlayerJSProd_action-icon mgPlayerJSProd_position-center"),Fe(l,"class","mgPlayerJSProd_tooltip-title"),Fe(s,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_margin-tb-15"),Fe(a,"id","mgPlayerJSProd_icon-guide-action-showme"),Fe(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-action-icon-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lbl-btn")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,l),d||(c=$e(a,"click",function(){Y(ce.guideAction(ce.playSlideshow,null,r[0],ce.currentView))&&ce.guideAction(ce.playSlideshow,null,r[0],ce.currentView).apply(this,arguments)}),d=!0)},p(e,t){r=e},d(e){e&&Ee(a),d=!1,c()}}}function yi(r){let a,i,o=ce.svgs.play_testme+"",n,s,l,d,c;return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),(l=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.testMe,Fe(i,"class","mgPlayerJSProd_action-icon mgPlayerJSProd_position-center"),Fe(l,"class","mgPlayerJSProd_tooltip-title"),Fe(s,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_margin-tb-15"),Fe(a,"id","mgPlayerJSProd_icon-guide-action-testMe"),Fe(a,"class","mgPlayerJSProd_guide-action-icon-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lbl-btn")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,l),d||(c=$e(a,"click",function(){Y(r[30](r[0]))&&r[30](r[0]).apply(this,arguments)}),d=!0)},p(e,t){r=e},d(e){e&&Ee(a),d=!1,c()}}}function _i(r){let a,i,o=ce.svgs.doItForMeIcon+"",n,s,l,d,c;return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),(l=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.doItForMe,Fe(i,"class","mgPlayerJSProd_action-icon mgPlayerJSProd_position-center"),Fe(l,"class","mgPlayerJSProd_tooltip-title"),Fe(s,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_margin-tb-15"),Fe(a,"id","mgPlayerJSProd_icon-guide-action-doitforme"),Fe(a,"class","mgPlayerJSProd_guide-action-icon-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lbl-btn")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,l),d||(c=$e(a,"click",function(){Y(ce.guideAction(ce.playAuto,null,r[0],ce.currentView))&&ce.guideAction(ce.playAuto,null,r[0],ce.currentView).apply(this,arguments)}),d=!0)},p(e,t){r=e},d(e){e&&Ee(a),d=!1,c()}}}function Si(e){let r,a,i;return a=new ja({props:{tour:e[0]}}),{c(){r=Me("wmgPlayerJSProd_"),ze(a.$$.fragment),Fe(r,"class","mgPlayerJSProd_guide-row-download-wrapper mgPlayerJSProd_float-right mgPlayerJSProd_border-radius mgPlayerJSProd_border-radius-4px mgPlayerJSProd_border-rounded mgPlayerJSProd_border-rounded-right")},m(e,t){Le(e,r,t),Ue(a,r,null),i=!0},p(e,t){var r={};1&t[0]&&(r.tour=e[0]),a.$set(r)},i(e){i||(Be(a.$$.fragment,e),i=!0)},o(e){Ve(a.$$.fragment,e),i=!1},d(e){e&&Ee(r),je(a)}}}function fi(r){let a,i,o=ce.svgs.pin+"",n,s,l,d,c;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),(l=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnPin,Fe(l,"class","mgPlayerJSProd_info-hover-text"),Fe(s,"class","mgPlayerJSProd_info-hover"),Fe(a,"class","mgPlayerJSProd_pin-guide-icon-wrapper mgPlayerJSProd_icon-unpin-guide mgPlayerJSProd_border-radius-50")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,l),d||(c=$e(a,"click",r[36]),d=!0)},p:Je,d(e){e&&Ee(a),d=!1,c()}}}function Ci(r){let a,i,o=ce.svgs.pin_filled+"",n,s,l,d,c;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),(l=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnUnpin,Fe(l,"class","mgPlayerJSProd_info-hover-text"),Fe(s,"class","mgPlayerJSProd_info-hover"),Fe(a,"class","mgPlayerJSProd_pin-guide-icon-wrapper mgPlayerJSProd_icon-pin-guide mgPlayerJSProd_border-radius-50")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),xe(s,l),d||(c=$e(a,"click",r[37]),d=!0)},p:Je,d(e){e&&Ee(a),d=!1,c()}}}function bi(e){let a,i,o,n,s;return o=new Nr({props:{tour:e[0]}}),{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),ze(o.$$.fragment),Fe(i,"class","mgPlayerJSProd_add-step-wrapper mgPlayerJSProd_tour-action-dropdown-wrapper"),Re(i,"published-tour",e[0]?.is_published),Fe(a,"id",n=`mgPlayerJSProd_tour-pencil-icon-${e[0].tour_id} `+(e[0]?.is_published?"":"mgPlayerJSProd_tour-pencil-icon-unpublish")),Fe(a,"class","mgPlayerJSProd_inline-block-vm tour-pencil-icon")},m(e,t){Le(e,a,t),xe(a,i),Ue(o,i,null),s=!0},p(e,t){var r={};1&t[0]&&(r.tour=e[0]),o.$set(r),(!s||1&t[0])&&Re(i,"published-tour",e[0]?.is_published),(!s||1&t[0]&&n!==(n=`mgPlayerJSProd_tour-pencil-icon-${e[0].tour_id} `+(e[0]?.is_published?"":"mgPlayerJSProd_tour-pencil-icon-unpublish")))&&Fe(a,"id",n)},i(e){s||(Be(o.$$.fragment,e),s=!0)},o(e){Ve(o.$$.fragment,e),s=!1},d(e){e&&Ee(a),je(o)}}}function vi(r){let a,i,o=r[9]&&!ce.hideMirrorAppCtrl(),n,s,l,d,c,g,m=r[33](r[0].tour_title,r[1],r[2])+"",F,p,u,h=r[0].tour_description+"",P,y,O,_,R,H="allguidesSearchPage"===de(GmCXt.CurrentPage),S,N,f,B,V,z,C,b,v=0<r[22].length&&ce.isOwnerOrAppAdmin()&&GmCXt.FT.creatorApp&&!ce.automationSelectionMode&&!ce.hideMirrorAppCtrl()&&!ce.isDesktopApp(),w,U=0<r[22].length&&ce.isOwnerOrAppAdmin()&&GmCXt.FT.creatorApp&&!ce.automationSelectionMode&&!ce.hideMirrorAppCtrl()&&r[0].pin,J,j=!GmCXt.FT.isPlayer&&!ce.isDesktopApp()&&"findNReplace"!==de(ge.activeView),W,G,A,Z,q,T=o&&Wa(r),X=!r[4]&&Za(r),k=r[4]&&mi(r),x=(0<r[0].tour_title.length||0<r[0].tour_description.length)&&pi(r),L=H&&(e=>{let r,a,i,o,n=e[0].category_title+"",s;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("button"),i=De(),o=Me("wmgPlayerJSProd_"),s=Ie(n),Fe(a,"class","mgPlayerJSProd_guide-category-title-icon mgPlayerJSProd_inline-block-vm mgPlayerJSProd_lbl-btn"),Fe(o,"class","mgPlayerJSProd_guide-category-title mgPlayerJSProd_inline-block-vm"),Fe(r,"class","mgPlayerJSProd_guide-description-wrapper")},m(e,t){Le(e,r,t),xe(r,a),xe(r,i),xe(r,o),xe(o,s)},p(e,t){1&t[0]&&n!==(n=e[0].category_title+"")&&Oe(s,n)},d(e){e&&Ee(r)}}})(r),E=GmCXt.FT.isPlayer&&ui(r),M=r[0].media_files[0]&&ce.isMicroPlayer&&Si(r),I=v&&fi(r),D=U&&Ci(r),$=j&&(e=>{let a,i="stepview"!==de(ge.CurrentPage)&&GmCXt.FT.creatorApp&&!ce.automationSelectionMode&&(ce.hasTourAccess(e[0])||!e[0]?.is_published||ce.isOwnerOrAppAdmin())&&!ce.isUserRole()&&!ce.exportEnabled&&!ce.hideMirrorAppCtrl(),o,n,r,s=i&&bi(e);return n=new Nr({props:{tour:e[0]}}),{c(){a=Me("wmgPlayerJSProd_"),s&&s.c(),o=De(),ze(n.$$.fragment),Fe(a,"class","mgPlayerJSProd_guide-user-action-wrapper")},m(e,t){Le(e,a,t),s&&s.m(a,null),xe(a,o),Ue(n,a,null),r=!0},p(e,t){(i=1&t[0]?"stepview"!==de(ge.CurrentPage)&&GmCXt.FT.creatorApp&&!ce.automationSelectionMode&&(ce.hasTourAccess(e[0])||!e[0]?.is_published||ce.isOwnerOrAppAdmin())&&!ce.isUserRole()&&!ce.exportEnabled&&!ce.hideMirrorAppCtrl():i)?s?(s.p(e,t),1&t[0]&&Be(s,1)):((s=bi(e)).c(),Be(s,1),s.m(a,o)):s&&(He(),Ve(s,1,1,()=>{s=null}),Ne());var r={};1&t[0]&&(r.tour=e[0]),n.$set(r)},i(e){r||(Be(s),Be(n.$$.fragment,e),r=!0)},o(e){Ve(s),Ve(n.$$.fragment,e),r=!1},d(e){e&&Ee(a),s&&s.d(),je(n)}}})(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),T&&T.c(),n=De(),X&&X.c(),s=De(),k&&k.c(),l=De(),d=Me("wmgPlayerJSProd_"),c=Me("wmgPlayerJSProd_"),g=Me("button"),F=De(),p=Me("wmgPlayerJSProd_"),u=Me("wmgPlayerJSProd_"),P=Ie(h),O=De(),x&&x.c(),R=De(),L&&L.c(),N=De(),f=Me("wmgPlayerJSProd_"),B=Me("wmgPlayerJSProd_"),V=De(),E&&E.c(),z=De(),M&&M.c(),b=De(),I&&I.c(),w=De(),D&&D.c(),J=De(),$&&$.c(),W=De(),G=Me("wmgPlayerJSProd_"),Fe(g,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-title mgPlayerJSProd_wrap-text mgPlayerJSProd_text-overflow-ellipsis"),Fe(u,"class","mgPlayerJSProd_tour-desc mgPlayerJSProd_wrap-text"),Fe(p,"id",y="mgPlayerJSProd_tour-desc-"+r[0].tour_id),Fe(p,"class","mgPlayerJSProd_guide-desc-wrapper mgPlayerJSProd_text-overflow-ellipsis"),Fe(p,"tabindex","0"),Fe(c,"id",_="mgPlayerJSProd_tour-title-"+r[0].tour_id),Fe(c,"class","mgPlayerJSProd_guide-title-wrapper mgPlayerJSProd_ege-inline-block-vm"),Fe(d,"class",S="mgPlayerJSProd_guide-details-wrapper mgPlayerJSProd_ege-inline-block-vm "+(ce.exportEnabled?"mgPlayerJSProd_disable-tour-play-action":"")+" "+(ce.automationSelectionMode?"mgPlayerJSProd_width-80":"")+" "+(GmCXt.FT.creatorApp&&!r[9]?"mgPlayerJSProd_guide-details-creator":"")+" "+(GmCXt.FT.creatorApp&&r[9]?"mgPlayerJSProd_guide-details-draft-guide":"")+" "+(GmCXt.FT.creatorApp&&r[9]&&r[0].pin?"mgPlayerJSProd_guide-details-draft-pin":"")),Fe(f,"id",C="mgPlayerJSProd_guide-row-action-wrapper_"+r[0].tour_id),Fe(f,"class","mgPlayerJSProd_guide-row-action-wrapper"),Fe(a,"class","mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_tour-title-description-wrapper"),Fe(G,"class","mgPlayerJSProd_ege-clear")},m(e,t){Le(e,a,t),xe(a,i),T&&T.m(i,null),xe(i,n),X&&X.m(i,null),xe(i,s),k&&k.m(i,null),xe(i,l),xe(i,d),xe(d,c),xe(c,g),g.innerHTML=m,xe(c,F),xe(c,p),xe(p,u),xe(u,P),xe(c,O),x&&x.m(c,null),xe(d,R),L&&L.m(d,null),xe(a,N),xe(a,f),xe(f,B),xe(f,V),E&&E.m(f,null),xe(f,z),M&&M.m(f,null),Le(e,b,t),I&&I.m(e,t),Le(e,w,t),D&&D.m(e,t),Le(e,J,t),$&&$.m(e,t),Le(e,W,t),Le(e,G,t),A=!0,Z||(q=$e(c,"click",K(function(){Y("manage-keywords"==ce.currentView?"":r[31](r[0]))&&("manage-keywords"==ce.currentView?"":r[31](r[0])).apply(this,arguments)})),Z=!0)},p(e,t){r=e,(o=512&t[0]?r[9]&&!ce.hideMirrorAppCtrl():o)?T?T.p(r,t):((T=Wa(r)).c(),T.m(i,n)):T&&(T.d(1),T=null),r[4]?X&&(X.d(1),X=null):X?X.p(r,t):((X=Za(r)).c(),X.m(i,s)),r[4]?k?k.p(r,t):((k=mi(r)).c(),k.m(i,l)):k&&(k.d(1),k=null),(!A||7&t[0])&&m!==(m=r[33](r[0].tour_title,r[1],r[2])+"")&&(g.innerHTML=m),(!A||1&t[0])&&h!==(h=r[0].tour_description+"")&&Oe(P,h),(!A||1&t[0]&&y!==(y="mgPlayerJSProd_tour-desc-"+r[0].tour_id))&&Fe(p,"id",y),0<r[0].tour_title.length||0<r[0].tour_description.length?x?x.p(r,t):((x=pi(r)).c(),x.m(c,null)):x&&(x.d(1),x=null),(!A||1&t[0]&&_!==(_="mgPlayerJSProd_tour-title-"+r[0].tour_id))&&Fe(c,"id",_),H&&L.p(r,t),(!A||513&t[0]&&S!==(S="mgPlayerJSProd_guide-details-wrapper mgPlayerJSProd_ege-inline-block-vm "+(ce.exportEnabled?"mgPlayerJSProd_disable-tour-play-action":"")+" "+(ce.automationSelectionMode?"mgPlayerJSProd_width-80":"")+" "+(GmCXt.FT.creatorApp&&!r[9]?"mgPlayerJSProd_guide-details-creator":"")+" "+(GmCXt.FT.creatorApp&&r[9]?"mgPlayerJSProd_guide-details-draft-guide":"")+" "+(GmCXt.FT.creatorApp&&r[9]&&r[0].pin?"mgPlayerJSProd_guide-details-draft-pin":"")))&&Fe(d,"class",S),GmCXt.FT.isPlayer&&E.p(r,t),r[0].media_files[0]&&ce.isMicroPlayer?M?(M.p(r,t),1&t[0]&&Be(M,1)):((M=Si(r)).c(),Be(M,1),M.m(f,null)):M&&(He(),Ve(M,1,1,()=>{M=null}),Ne()),(!A||1&t[0]&&C!==(C="mgPlayerJSProd_guide-row-action-wrapper_"+r[0].tour_id))&&Fe(f,"id",C),(v=4194304&t[0]?0<r[22].length&&ce.isOwnerOrAppAdmin()&&GmCXt.FT.creatorApp&&!ce.automationSelectionMode&&!ce.hideMirrorAppCtrl()&&!ce.isDesktopApp():v)?I?I.p(r,t):((I=fi(r)).c(),I.m(w.parentNode,w)):I&&(I.d(1),I=null),(U=4194305&t[0]?0<r[22].length&&ce.isOwnerOrAppAdmin()&&GmCXt.FT.creatorApp&&!ce.automationSelectionMode&&!ce.hideMirrorAppCtrl()&&r[0].pin:U)?D?D.p(r,t):((D=Ci(r)).c(),D.m(J.parentNode,J)):D&&(D.d(1),D=null),j&&$.p(r,t)},i(e){A||(Be(M),Be($),A=!0)},o(e){Ve(M),Ve($),A=!1},d(e){e&&(Ee(a),Ee(b),Ee(w),Ee(J),Ee(W),Ee(G)),T&&T.d(),X&&X.d(),k&&k.d(),x&&x.d(),L&&L.d(),E&&E.d(),M&&M.d(),I&&I.d(e),D&&D.d(e),$&&$.d(e),Z=!1,q()}}}function wi(e,t,r,a){t=parseInt(t),r=parseInt(r),a=parseInt(a);let i=3,o=19*Math.PI*2;o-10*t<1&&(i=o/t/1.2);var n,s,l,d,c=(o-i*t)/t;return`<circle class="${e}" cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4" stroke-dashoffset="${o/4-i/2+a*(i+c)}" stroke-dasharray="${1!==t?(n=r,s=c,l=o,d=i,new Array(n).fill(void 0).map(function(e,t){return"".concat(s," ").concat(t===n-1?l-n*(d+s)+d:d)}).join(" ")):void 0}"></circle>`}function Ji(e,t,r){let a=t.tour,i=t.searchKeyword,o=t.replaceKeyword,n=ce.isTooltip(a),s=GmCXt.isBotGuide(a),l=ce.isHelpArticle(a),d=GmCXt.getAppSetting("defaultPlayAction"),c=GmCXt.isFalse(d),g=ce.getDefaultPlayAction(a),m=GmCXt.FT.creatorApp&&!ce.isUserRole()&&!ce.exportEnabled&&a.parent_tour_id,p=ce.isDesktopApp(),u=GmCXt.isOnboarding(a),h=GmCXt.isGuide(a),P=ce.isCADGuide(a),y=ce.isTrackingGuide(a),_=ce.isMobileGuide(a),S=GmCXt.getDefaultGuideIcon(),f=a.tour_type.indexOf("beacon_tour"),C=ce.showPlayOption(ce.playGuideMe,a),b=ce.showPlayOption(ce.playSlideshow,a),v=ce.showPlayOption(ce.playTestMe,a)&&!GmCXt.branchStepExist(a),w=ce.showPlayOption(ce.playAuto,a)&&!GmCXt.isOnboarding(a),J=GmCXt.isHowToGuide(a),G=M(),A,T=[],X=GmCXt.getCdnSign(),k=ge.breadCrumb.subscribe(e=>{r(22,T=e)});t=ce.getCategory(a.category_id)||T[T.length-1];function x(e,t,r){"pin"===t?ce.pinTourToTop(e,t,(e,t)=>{G("updatePinnedTours",{tour:e,action:t})}):ce.pinTourToTop(e,t,(e,t)=>{G("updatePinnedTours",{tour:e,action:t})})}function L(e){var t,r;return!!GmCXt.tourActivity&&(r=GmCXt.tourActivity["t:"+e.tour_id],t=e.tour_settings.play_structure||GmCXt.getGuidePlayStructure(e),r=GmCXt.getTail(r,t,null,e),ce.getStepFromTour(r,e))}pe(()=>{k()});function E(e){return ce.isOnlySurveyGuide(a)||GmCXt.isBotGuide(a)||c?"":void ce.play(a,!1)}me(()=>{GmCXt.isPlayer()&&ce.bindPlayerTheme()});return e.$$set=e=>{"tour"in e&&r(0,a=e.tour),"searchKeyword"in e&&r(1,i=e.searchKeyword),"replaceKeyword"in e&&r(2,o=e.replaceKeyword)},e.$$.update=()=>{9&e.$$.dirty[0]&&(r(4,n=ce.isTooltip(a)),r(5,s=GmCXt.isBotGuide(a)),r(6,l=ce.isHelpArticle(a)),r(3,d=GmCXt.getAppSetting("defaultPlayAction")),r(7,c=GmCXt.isFalse(d)),r(8,g=ce.getDefaultPlayAction(a)),r(9,m=GmCXt.FT.creatorApp&&!ce.isUserRole()&&!ce.exportEnabled&&a.parent_tour_id),r(10,p=ce.isDesktopApp()),r(11,u=GmCXt.isOnboarding(a)),r(12,h=GmCXt.isGuide(a)),r(13,P=ce.isCADGuide(a)),r(14,y=ce.isTrackingGuide(a)),r(15,_=ce.isMobileGuide(a)),r(16,S=GmCXt.getDefaultGuideIcon()),r(17,f=a.tour_type.indexOf("beacon_tour")),r(23,X=GmCXt.getCdnSign()),r(18,C=ce.showPlayOption(ce.playGuideMe,a)),r(19,b=ce.showPlayOption(ce.playSlideshow,a)),r(20,v=ce.showPlayOption(ce.playTestMe,a)&&!GmCXt.branchStepExist(a)),r(21,w=ce.showPlayOption(ce.playAuto,a)&&!GmCXt.isOnboarding(a)))},[a,i,o,d,n,s,l,c,g,m,p,u,h,P,y,_,S,f,C,b,v,w,T,X,J,t,x,()=>{if(!GmCXt.isEmpty(a)&&ce.isPlayedTour(a.tour_id)&&!1===L(a))return!0},()=>{if(!GmCXt.isEmpty(a)&&!1!==L(a)&&ce.getDefaultPlayAction(a)===ce.playGuideMe)return!0},E,e=>{e.steps.filter(function(e){return"inline"===e.step_type}).length?new va({target:document.body,props:{showTestMe:!0,tour:e}}):ce.showPopup(ce.labels.noInappStepInGuide)},e=>{e=JSON.parse(JSON.stringify(e));"bot"===e.tour_type||ce.automationSelectionMode||("help_article"===e.tour_type?window.open(e.tour_settings.articleUrl,"_blank"):ce.isMicroPlayer?ce.play(e):(ce.trackSearchActivity(!0),ce.clearSearchInput(),ce.getBreadcrumsCategories(e),GmCXt.FT.creatorApp&&(e.steps=[]),ge.currentTour.set(e),ce.setCurrentPage("stepview")))},function(){let e="";if(GmCXt.FT.isPlayer){var t;if(GmCXt.branchStepExist(a)?e+='<circle cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></circle>':(t=parseInt(a.step_count),A=ce.playedSteps?ce.getPlayedStepCount(a):0,t&&!A&&(e=wi("mgPlayerJSProd_dashes-green",t,t,t),1===t)&&(e='<circle class="mgPlayerJSProd_dashes-green" cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></circle>'),t&&A&&(A===t&&(e=wi("mgPlayerJSProd_dashes-gray",A,A,A),1===A)&&(e='<circle class="mgPlayerJSProd_dashes-gray" cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></circle>'),A!==t)&&(e=(e+=wi("mgPlayerJSProd_dashes-green",t,t-A,t-A))+wi("mgPlayerJSProd_dashes-gray",t,A,t))),g===ce.playSlideshow||"Default"===a.tour_settings.defaultPlayAction&&d===ce.playSlideshow||p||J)return e+='<path d="M25.1375 15.9427H23.1482C22.5161 15.359 21.3251 15 19.9999 15C18.6747 15 17.4837 15.359 16.8516 15.9427H14.8623C12.1812 15.9427 10 18.1985 10 20.9713C10 23.7441 12.1812 26 14.8623 26C17.5434 26 19.7246 23.7441 19.7246 20.9713C19.7246 20.9346 19.7242 20.8979 19.7235 20.8611H20.2764C20.2756 20.8979 20.2753 20.9346 20.2753 20.9713C20.2753 23.7441 22.4566 26 25.1377 26C27.8188 26 30 23.7441 30 20.9713C29.9999 18.1985 27.8186 15.9427 25.1375 15.9427ZM14.8623 23.9552C13.2715 23.9552 11.9772 22.6166 11.9772 20.9713C11.9772 19.3261 13.2715 17.9875 14.8623 17.9875C16.4532 17.9875 17.7475 19.3261 17.7475 20.9713C17.7475 22.6166 16.4532 23.9552 14.8623 23.9552ZM21.3065 17.89H18.6926C18.3824 17.89 18.1303 17.6286 18.1303 17.3077C18.1303 16.9869 18.3824 16.7254 18.6926 16.7254H21.3065C21.6173 16.7254 21.8695 16.9869 21.8695 17.3077C21.8695 17.6285 21.6173 17.89 21.3065 17.89ZM25.1375 23.9552C23.5466 23.9552 22.2523 22.6166 22.2523 20.9713C22.2523 19.3261 23.5466 17.9875 25.1375 17.9875C26.7282 17.9875 28.0226 19.3261 28.0226 20.9713C28.0226 22.6166 26.7283 23.9552 25.1375 23.9552Z" fill="#ACADC1" stroke-width="0" />';if(g===ce.playAuto||"Default"===a.tour_settings.defaultPlayAction&&d===ce.playAuto&&!p)return e+='<path d="M15.8441 24.4972C14.4834 24.4972 13.3803 25.652 13.3803 27.0765V29H14.6452V27.6678C14.6452 26.5993 15.4726 25.7332 16.4931 25.7332H23.5081C24.5287 25.7332 25.356 26.5993 25.356 27.6678V29H26.6211V27.0765C26.6211 25.652 25.518 24.4972 24.1573 24.4972H15.8441Z" fill="#ACADC1" stroke-width="0" /><path d="M12 18.8136C12 18.1065 12.5475 17.5333 13.2229 17.5333H13.6867V20.0938H13.2229C12.5475 20.0938 12 19.5206 12 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M28 18.8136C28 18.1065 27.4525 17.5333 26.7771 17.5333H26.3133V20.0938H26.7771C27.4525 20.0938 28 19.5206 28 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.7887 18.8136C19.7887 19.5206 19.2412 20.0938 18.5659 20.0938C17.8905 20.0938 17.343 19.5206 17.343 18.8136C17.343 18.1065 17.8905 17.5333 18.5659 17.5333C19.2412 17.5333 19.7887 18.1065 19.7887 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M22.7414 18.8136C22.7414 19.5206 22.1939 20.0938 21.5186 20.0938C20.8432 20.0938 20.2957 19.5206 20.2957 18.8136C20.2957 18.1065 20.8432 17.5333 21.5186 17.5333C22.1939 17.5333 22.7414 18.1065 22.7414 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.494 13.1606C19.494 13.0894 19.5492 13.0317 19.6172 13.0317H20.7202C20.7882 13.0317 20.8434 13.0894 20.8434 13.1606V15.6804H19.494V13.1606Z" fill="#ACADC1" stroke-width="0" /><path d="M18.4948 14.6198H17.279C15.9182 14.6198 14.8151 15.7746 14.8151 17.1992V20.5163C14.8151 21.9409 15.9182 23.0957 17.279 23.0957H22.7247C24.0855 23.0957 25.1886 21.9409 25.1886 20.5163V17.1992C25.1886 15.7746 24.0855 14.6198 22.7247 14.6198H21.8448V15.592H22.2026C23.2232 15.592 24.0505 16.4581 24.0505 17.5265V20.191C24.0505 21.2594 23.2232 22.1255 22.2026 22.1255H17.802C16.7815 22.1255 15.9541 21.2594 15.9541 20.191V17.5265C15.9541 16.4581 16.7815 15.592 17.802 15.592H18.4948V14.6198Z" fill="#ACADC1" stroke-width="0" /><path d="M20.8434 11.7063C20.8434 12.0964 20.5413 12.4127 20.1687 12.4127C19.7961 12.4127 19.494 12.0964 19.494 11.7063C19.494 11.3162 19.7961 11 20.1687 11C20.5413 11 20.8434 11.3162 20.8434 11.7063Z" fill="#ACADC1" stroke-width="0" />'}else e+='<circle cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></circle>';return e+='<path d="M12 27.555C12 27.555 20.838 24.372 22.606 22.606C24.374 20.838 27.555 12 27.555 12C27.555 12 18.717 15.183 16.95 16.95C15.183 18.717 12 27.555 12 27.555ZM18.364 18.364L21.192 21.192C21.899 21.899 14.829 24.727 14.829 24.727C14.829 24.727 17.657 17.657 18.364 18.364Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0" />'},function(e,t,r){var a;return t?([t,a]=(t=t.trim()).split(","),t=new RegExp(t,"gi"),e.replace(t,e=>`<wmgPlayerJSProd_ class="mgPlayerJSProd_span mgPlayerJSProd_text-highlighted">${r||e}</wmgPlayerJSProd_>`)):e},()=>E(),()=>E(GmCXt.FT.isPlayer),e=>x(a,"pin"),e=>x(a,"unpin")]}class Gi extends e{constructor(e){super(),t(this,e,Ji,vi,d,{tour:0,searchKeyword:1,replaceKeyword:2},null,[-1,-1])}}function Ai(e,t,r){e=e.slice();return e[34]=t[r],e}function Ti(t){let a=[],r=new Map,i,o,n=D(t[0].sortDataByActiveFilter(t[1],"tour_title",t[3])),s=e=>e[34].tour_id+"-"+e[4];for(let e=0;e<n.length;e+=1){var l=Ai(t,n,e),d=s(l);r.set(d,a[e]=ki(d,l))}return{c(){for(let e=0;e<a.length;e+=1)a[e].c();i=I()},m(t,r){for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,r);Le(t,i,r),o=!0},p(e,t){27&t[0]&&(n=D(e[0].sortDataByActiveFilter(e[1],"tour_title",e[3])),He(),a=L(a,t,s,0,e,n,r,i.parentNode,x,ki,i,Ai),Ne())},i(e){if(!o){for(let e=0;e<n.length;e+=1)Be(a[e]);o=!0}},o(e){for(let e=0;e<a.length;e+=1)Ve(a[e]);o=!1},d(t){t&&Ee(i);for(let e=0;e<a.length;e+=1)a[e].d(t)}}}function Xi(e){let r,a,i,o=e[0].svgs.no_guides_image+"",n,s,l=!e[0].search&&xi(e),d=e[0].search&&Li(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),l&&l.c(),s=De(),d&&d.c(),Fe(i,"class","mgPlayerJSProd_no-guide-image-cartoon"),Fe(a,"class","mgPlayerJSProd_no-guide-image-wrapper mgPlayerJSProd_no-margin"),Fe(r,"class","mgPlayerJSProd_no-tour-message-wrapper mgPlayerJSProd_position-center"),Re(r,"mgPlayerJSProd_margin-t-50",!e[0].isMicroPlayer)},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),i.innerHTML=o,xe(r,n),l&&l.m(r,null),xe(r,s),d&&d.m(r,null)},p(e,t){1&t[0]&&o!==(o=e[0].svgs.no_guides_image+"")&&(i.innerHTML=o),e[0].search?l&&(l.d(1),l=null):l?l.p(e,t):((l=xi(e)).c(),l.m(r,s)),e[0].search?d?d.p(e,t):((d=Li(e)).c(),d.m(r,null)):d&&(d.d(1),d=null),1&t[0]&&Re(r,"mgPlayerJSProd_margin-t-50",!e[0].isMicroPlayer)},i:Je,o:Je,d(e){e&&Ee(r),l&&l.d(),d&&d.d()}}}function ki(e,r){let a,i,o,n,s;return i=new Gi({props:{tour:r[34]}}),{key:e,first:null,c(){a=Me("wmgPlayerJSProd_"),ze(i.$$.fragment),o=De(),Fe(a,"class",n="mgPlayerJSProd_tour-item mgPlayerJSProd_guide-list-view "+(r[0].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":"")),this.first=a},m(e,t){Le(e,a,t),Ue(i,a,null),xe(a,o),s=!0},p(e,t){r=e;e={};11&t[0]&&(e.tour=r[34]),i.$set(e),(!s||1&t[0]&&n!==(n="mgPlayerJSProd_tour-item mgPlayerJSProd_guide-list-view "+(r[0].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":"")))&&Fe(a,"class",n)},i(e){s||(Be(i.$$.fragment,e),s=!0)},o(e){Ve(i.$$.fragment,e),s=!1},d(e){e&&Ee(a),je(i)}}}function xi(e){let r,a,i=e[0].labels.noGuidesOnThisPage+"",o;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=Ie(i),Fe(a,"class","mgPlayerJSProd_no-guide-msg"),Fe(a,"tabindex","0"),Fe(r,"class","mgPlayerJSProd_no-guide-text-wrapper")},m(e,t){Le(e,r,t),xe(r,a),xe(a,o)},p(e,t){1&t[0]&&i!==(i=e[0].labels.noGuidesOnThisPage+"")&&Oe(o,i)},d(e){e&&Ee(r)}}}function Li(e){let r,a,i=e[0].labels.noGuideAvailableFor+"",o,n,s,l=e[0].labels.tryModifyingYourSearch+"",d;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),s=Me("wmgPlayerJSProd_"),d=Ie(l),Fe(a,"class","mgPlayerJSProd_no-guide-msg"),Fe(a,"tabindex","0"),Fe(s,"class","mgPlayerJSProd_instruction-add-category"),Fe(s,"tabindex","0"),Fe(r,"class","mgPlayerJSProd_no-guide-text-wrapper mgPlayerJSProd_no-guide-text-search-wrapper")},m(e,t){Le(e,r,t),xe(r,a),xe(a,o),xe(r,n),xe(r,s),xe(s,d)},p(e,t){1&t[0]&&i!==(i=e[0].labels.noGuideAvailableFor+"")&&Oe(o,i),1&t[0]&&l!==(l=e[0].labels.tryModifyingYourSearch+"")&&Oe(d,l)},d(e){e&&Ee(r)}}}function Ei(e){let a,i,o,r,n=[Xi,Ti],s=[];function l(e){return e[2]&&e[1].length<1&&e[5]?0:1}return i=l(e),o=s[i]=n[i](e),{c(){a=Me("wmgPlayerJSProd_"),o.c(),Fe(a,"class","mgPlayerJSProd_category-list")},m(e,t){Le(e,a,t),s[i].m(a,null),r=!0},p(e,t){let r=i;(i=l(e))===r?s[i].p(e,t):(He(),Ve(s[r],1,1,()=>{s[r]=null}),Ne(),(o=s[i])?o.p(e,t):(o=s[i]=n[i](e)).c(),Be(o,1),o.m(a,null))},i(e){r||(Be(o),r=!0)},o(e){Ve(o),r=!1},d(e){e&&Ee(a),s[i].d()}}}let Mi=50;function Ii(e,t,a){let i=[],r,o=[],n=[],s,l="",d,c=!1,g=!1,m=!1,p=G(!1),u,h=0,P=ge.CurrentPageTours.subscribe(e=>{a(1,o=[...e])}),y=ge.refreshCurrentPageView.subscribe(e=>{e&&(J(),ge.refreshCurrentPageView.set(!1))}),_=ge.selectedLang.subscribe(e=>{var t="default"===e&&ce.language!==GmCXt.browserLang,r="default"!==e&&ce.oldCurrentPageLang!==e;e&&!GmCXt.getLXPLang()&&GmCXt.activeAppId&&(t||r)&&(J(),a(0,ce.oldCurrentPageLang=e,ce))});function S(e){ce.processTours&&clearTimeout(ce.processTours),a(0,ce.processTours=GmCXt.timeout(function(){if(e=GmCXt.removeDuplicateGuides(e),p.set(!0),e.length?(ge.showNoTour.set(!1),e=ce.getTranslatedTours(e),a(1,o=e),ge.CurrentPageTours.set(o),m||(ce.showCurrentPageGuidesIndicator(!0),m=!0),ce.getBotGuideCount(o)):g||(ge.showNoTour.set(!0),v()),ce.setContainerHeight("currentPage"),ce.search&&0<ce.search.length){let t=[];o.filter(function(e){(checkValueExist(e.tour_title)||e.tour_id===ce.search||checkValueExist(e.keywords)||checkValueExist(e.tour_description))&&t.push(e)}),ge.CurrentPageTours.set(o),t.length&&ce.setContainerHeight("currentPage")}},300),ce)}function f(e){GmCXt.isEmpty(e)||(o.push(e),ge.CurrentPageTours.set(o),ce.cTours.push(e.tour_id)),S(o)}function C(e){var t=e.tour;r!==t.timestamp?GmCXt.log(30,"REJECT, having old timestamp"):(e.valid&&n.push(t),ce.guideSegmentation&&GmCXt.isPlayer()?e.valid?GmCXt.checkGuidesBasedOnSegment([t],f,"currPageSeg"):f():setTimeout(function(){S(n)},0))}function b(){try{var t=i.length;e=GmCXt.t.currentPageSpinner+1e3,setTimeout(()=>{0===o.length&&GmCXt.log(30,"NO GUIDE rules matched")},e);for(let e=0;e<t;e++){var r=i[d];d++,i.length>=d&&ce.queueRuleForCP(r,d,C,l,"currentPage")}}catch(e){802===e.code?console.error("Error with code 802 occurred:",e):console.error("An unexpected error occurred:",e)}var e}function v(){GmCXt.log(30,"NO GUIDES on this page"),ce.hideCurrentPageGuidesIndicator(),a(1,o=[]),ge.CurrentPageTours.set(o),ce.getBotGuideCount(o)}function w(t){if(GmCXt.log(30,"FETCHED tours",t),r=Date.now(),a(1,o=[]),ge.CurrentPageTours.set(o),n=[],s=t.length,GmCXt.isPlayer()&&!GmCXt.isEmpty(t)&&(t=GmCXt.filterScheduleTours(t)),(t=GmCXt.inPlayer&&!GmCXt.isWestpac()?GmCXt.sortToursByModifcationDate(t):t).length){ce.hideLoading(),ge.showNoTour.set(!1);for(let e=0;e<t.length;e++)t[e].tour_sequence=e,t[e].timestamp=r;i=[...t],d=0,b()}else ce.hideLoading(),p.set(!0),ge.showNoTour.set(!0),v()}function J(e){a(4,h++,h),"page_click"===e?l="page_click":(l="",a(0,ce.cTours=[],ce)),i=[],ge.showNoTour.set(!1),m=!1;var r=GmCXt.user;if(r||GmCXt.isEmpty(r)||!ce.noLogin()){e=e||null,GmCXt.log(30,"REFRESH current page. Event: "+e),ce.updatePageUrl(GmCXt.getCurrentURL());{let t={url:ce.pageUrl};GmCXt.getLXPLang()&&(t.language=GmCXt.getLXPLang()),GmCXt.isDomainInActiveApp()?(r=ce.readLocalCT(t.url,GmCXt.pageTitle))&&r.length&&!c?(GmCXt.log(30,"FETCHED tours from CACHE"),w(ce.filterCurrentPageTourTypes(r))):GmCXt.api.getContextualTour(t,function(e){c=!1;e=ce.processContextualGuide(e,t.url);w(ce.filterCurrentPageTourTypes(e))}):(GmCXt.log(30,"INVALID domain, NOT present in Org"),w([]))}ce.setContainerHeight("currentPage")}else{GmCXt.log(30,"SHOWING Box Player guides");let e=0;ce.publishedTours||(e=1e3),setTimeout(function(){let e=ce.filterCurrentPageTourTypes(ce.publishedTours);GmCXt.isPlayer()&&!GmCXt.isEmpty(e)&&(e=GmCXt.filterScheduleTours(e)),w(e=ce.validateAllRulesExceptSelectEl(e).tours)},e)}}return pe(()=>{y(),P(),_()}),ge.showNoTour.subscribe(e=>{a(2,g=e)}),ge.activeSortFilterStore.subscribe(e=>{a(3,u=e)}),setTimeout(()=>{ce.setContainerHeight("currentPage")},300),mg$(window).off("resize").on("resize",function(){ce.setContainerHeight("currentPage")}),mg$(".mgPlayerJSProd_category-list").off("scroll").on("scroll",function(){if(!isPreviousEventComplete)return!0;mg$(this).scrollTop()+mg$(this).innerHeight()>=mg$(this)[0].scrollHeight-20&&mg$(this)[0].scrollHeight+20>mg$(this).innerHeight()&&(isPreviousEventComplete=!1,s===Mi)&&J()}),[ce,o,g,u,h,p]}class Di extends e{constructor(e){super(),t(this,e,Ii,Ei,d,{},null,[-1,-1])}}function $i(){let r,a=ce.svgs.drag_dots+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_drag-guide-icon-wrapper mgPlayerJSProd_icon-update-margin mgPlayerJSProd_ege-inline-block-vm")},m(e,t){Le(e,r,t),r.innerHTML=a},d(e){e&&Ee(r)}}}function Fi(e){let r=!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"),a,i=e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature,o,n=r&&Oi(e),s=i&&Ri(e);return{c(){n&&n.c(),a=De(),s&&s.c(),o=I()},m(e,t){n&&n.m(e,t),Le(e,a,t),s&&s.m(e,t),Le(e,o,t)},p(e,t){(r=1&t?!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"):r)?n?n.p(e,t):((n=Oi(e)).c(),n.m(a.parentNode,a)):n&&(n.d(1),n=null),(i=1&t?e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature:i)?s?s.p(e,t):((s=Ri(e)).c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(e){e&&(Ee(a),Ee(o)),n&&n.d(e),s&&s.d(e)}}}function Oi(e){let r,a=ce.svgs.folder+"",i;return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class",i="mgPlayerJSProd_category-icon "+(!e[4]?.is_published&&e[2]?"mgPlayerJSProd_published-category-subfolder-icon":""))},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){20&t&&i!==(i="mgPlayerJSProd_category-icon "+(!e[4]?.is_published&&e[2]?"mgPlayerJSProd_published-category-subfolder-icon":""))&&Fe(r,"class",i)},d(e){e&&Ee(r)}}}function Ri(e){let r,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_category-image mgPlayerJSProd_custom-image mgPlayerJSProd_category-uploaded-img-view mgPlayerJSProd_published-category"),Q(r.src,a=GmCXt.restoreAssetSrc(e[0]?.image_url))||Fe(r,"src",a),Fe(r,"alt",GmCXt.conf.staticContentPath+"folder_green.png")},m(e,t){Le(e,r,t)},p(e,t){1&t&&!Q(r.src,a=GmCXt.restoreAssetSrc(e[0]?.image_url))&&Fe(r,"src",a)},d(e){e&&Ee(r)}}}function Hi(e){let r=!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"),a,i=e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature,o,n=r&&Ni(e),s=i&&Bi(e);return{c(){n&&n.c(),a=De(),s&&s.c(),o=I()},m(e,t){n&&n.m(e,t),Le(e,a,t),s&&s.m(e,t),Le(e,o,t)},p(e,t){(r=1&t?!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"):r)?n?n.p(e,t):((n=Ni(e)).c(),n.m(a.parentNode,a)):n&&(n.d(1),n=null),(i=1&t?e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature:i)?s?s.p(e,t):((s=Bi(e)).c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(e){e&&(Ee(a),Ee(o)),n&&n.d(e),s&&s.d(e)}}}function Ni(e){let r,a=ce.svgs.subfolder+"",i;return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class",i="mgPlayerJSProd_category-icon "+(!e[4]?.is_published&&e[2]?"mgPlayerJSProd_published-category-subfolder-icon":""))},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){20&t&&i!==(i="mgPlayerJSProd_category-icon "+(!e[4]?.is_published&&e[2]?"mgPlayerJSProd_published-category-subfolder-icon":""))&&Fe(r,"class",i)},d(e){e&&Ee(r)}}}function Bi(e){let r,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_category-image mgPlayerJSProd_custom-image mgPlayerJSProd_category-uploaded-img-view mgPlayerJSProd_published-category"),Q(r.src,a=GmCXt.restoreAssetSrc(e[0]?.image_url))||Fe(r,"src",a),Fe(r,"alt",GmCXt.conf.staticContentPath+"subfolder_green.png")},m(e,t){Le(e,r,t)},p(e,t){1&t&&!Q(r.src,a=GmCXt.restoreAssetSrc(e[0]?.image_url))&&Fe(r,"src",a)},d(e){e&&Ee(r)}}}function Vi(e){let r=!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"),a,i=e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature,o,n=r&&zi(),s=i&&Ui(e);return{c(){n&&n.c(),a=De(),s&&s.c(),o=I()},m(e,t){n&&n.m(e,t),Le(e,a,t),s&&s.m(e,t),Le(e,o,t)},p(e,t){(r=1&t?!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"):r)?n||((n=zi()).c(),n.m(a.parentNode,a)):n&&(n.d(1),n=null),(i=1&t?e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature:i)?s?s.p(e,t):((s=Ui(e)).c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(e){e&&(Ee(a),Ee(o)),n&&n.d(e),s&&s.d(e)}}}function zi(){let r,a=ce.svgs.folder+"";return{c(){r=Me("wmgPlayerJSProd_")},m(e,t){Le(e,r,t),r.innerHTML=a},d(e){e&&Ee(r)}}}function Ui(e){let r,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_category-image mgPlayerJSProd_custom-image mgPlayerJSProd_category-uploaded-img-view"),Q(r.src,a=GmCXt.restoreAssetSrc(e[0]?.image_url))||Fe(r,"src",a),Fe(r,"alt",GmCXt.conf.staticContentPath+"folder_green.png")},m(e,t){Le(e,r,t)},p(e,t){1&t&&!Q(r.src,a=GmCXt.restoreAssetSrc(e[0]?.image_url))&&Fe(r,"src",a)},d(e){e&&Ee(r)}}}function ji(e){let r=!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"),a,i=e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature,o,n=r&&Wi(),s=i&&Zi(e);return{c(){n&&n.c(),a=De(),s&&s.c(),o=I()},m(e,t){n&&n.m(e,t),Le(e,a,t),s&&s.m(e,t),Le(e,o,t)},p(e,t){(r=1&t?!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"):r)?n||((n=Wi()).c(),n.m(a.parentNode,a)):n&&(n.d(1),n=null),(i=1&t?e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default")&&GmCXt.user?.cdn_signature:i)?s?s.p(e,t):((s=Zi(e)).c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(e){e&&(Ee(a),Ee(o)),n&&n.d(e),s&&s.d(e)}}}function Wi(){let r,a=ce.svgs.subfolder+"";return{c(){r=Me("wmgPlayerJSProd_")},m(e,t){Le(e,r,t),r.innerHTML=a},d(e){e&&Ee(r)}}}function Zi(e){let r,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_category-image mgPlayerJSProd_custom-image mgPlayerJSProd_category-uploaded-img-view"),Q(r.src,a=GmCXt.restoreAssetSrc(e[0]?.image_url))||Fe(r,"src",a),Fe(r,"alt",GmCXt.conf.staticContentPath+"subfolder_green.png")},m(e,t){Le(e,r,t)},p(e,t){1&t&&!Q(r.src,a=GmCXt.restoreAssetSrc(e[0]?.image_url))&&Fe(r,"src",a)},d(e){e&&Ee(r)}}}function qi(){let r,a=ce.svgs.folder+"";return{c(){r=Me("wmgPlayerJSProd_")},m(e,t){Le(e,r,t),r.innerHTML=a},d(e){e&&Ee(r)}}}function Yi(e){let r,a,i,o,n,s,t=ce.labels.unpublishedGuides+"",l,d,c=e[0]?.total_unpublish_tour+"",g,m,p,u,h,P,y=ce.labels.publishedGuides+"",_,S,f=e[0]?.total_publish_tour+"",C,b=ce.automationSelectionMode&&(e=>{let r,a,i,o,t=ce.labels.selectGuideForAuto+"",n,s,l=e[0]?.automationTours+"",d,c=e[0]?.total_publish_tour<=ce.countLimit&&ce.automationSelectionMode&&Ki(e),g=e[0]?.total_publish_tour>ce.countLimit&&ce.automationSelectionMode&&Qi();return{c(){r=Me("wmgPlayerJSProd_"),c&&c.c(),a=De(),g&&g.c(),i=De(),o=Me("wmgPlayerJSProd_"),n=Ie(t),s=De(),d=Ie(l),Fe(o,"class","mgPlayerJSProd_tour-count-tooltip"),Fe(r,"class","mgPlayerJSProd_inline-block-vm automation-tour-count")},m(e,t){Le(e,r,t),c&&c.m(r,null),xe(r,a),g&&g.m(r,null),xe(r,i),xe(r,o),xe(o,n),xe(o,s),xe(o,d)},p(e,t){e[0]?.total_publish_tour<=ce.countLimit&&ce.automationSelectionMode?c?c.p(e,t):((c=Ki(e)).c(),c.m(r,a)):c&&(c.d(1),c=null),e[0]?.total_publish_tour>ce.countLimit&&ce.automationSelectionMode?g||((g=Qi()).c(),g.m(r,i)):g&&(g.d(1),g=null),1&t&&l!==(l=e[0]?.automationTours+"")&&Oe(d,l)},d(e){e&&Ee(r),c&&c.d(),g&&g.d()}}})(e),v=e[0]?.total_unpublish_tour<=ce.countLimit&&eo(e),w=e[0]?.total_unpublish_tour>ce.countLimit&&to(),J=e[0]?.total_publish_tour<=ce.countLimit&&ro(e),G=e[0]?.total_publish_tour>ce.countLimit&&ao();return{c(){r=Me("wmgPlayerJSProd_"),b&&b.c(),a=De(),i=Me("wmgPlayerJSProd_"),v&&v.c(),o=De(),w&&w.c(),n=De(),s=Me("wmgPlayerJSProd_"),l=Ie(t),d=De(),g=Ie(c),m=De(),p=Me("wmgPlayerJSProd_"),J&&J.c(),u=De(),G&&G.c(),h=De(),P=Me("wmgPlayerJSProd_"),_=Ie(y),S=De(),C=Ie(f),Fe(s,"class","mgPlayerJSProd_tour-count-tooltip"),Fe(i,"class","mgPlayerJSProd_inline-block-vm unpublish-tour-count"),Fe(P,"class","mgPlayerJSProd_tour-count-tooltip"),Fe(p,"class","mgPlayerJSProd_inline-block-vm publish-tour-count"),Fe(r,"class","mgPlayerJSProd_tour-count-wrapper")},m(e,t){Le(e,r,t),b&&b.m(r,null),xe(r,a),xe(r,i),v&&v.m(i,null),xe(i,o),w&&w.m(i,null),xe(i,n),xe(i,s),xe(s,l),xe(s,d),xe(s,g),xe(r,m),xe(r,p),J&&J.m(p,null),xe(p,u),G&&G.m(p,null),xe(p,h),xe(p,P),xe(P,_),xe(P,S),xe(P,C)},p(e,t){ce.automationSelectionMode&&b.p(e,t),e[0]?.total_unpublish_tour<=ce.countLimit?v?v.p(e,t):((v=eo(e)).c(),v.m(i,o)):v&&(v.d(1),v=null),e[0]?.total_unpublish_tour>ce.countLimit?w||((w=to()).c(),w.m(i,n)):w&&(w.d(1),w=null),1&t&&c!==(c=e[0]?.total_unpublish_tour+"")&&Oe(g,c),e[0]?.total_publish_tour<=ce.countLimit?J?J.p(e,t):((J=ro(e)).c(),J.m(p,u)):J&&(J.d(1),J=null),e[0]?.total_publish_tour>ce.countLimit?G||((G=ao()).c(),G.m(p,h)):G&&(G.d(1),G=null),1&t&&f!==(f=e[0]?.total_publish_tour+"")&&Oe(C,f)},d(e){e&&Ee(r),b&&b.d(),v&&v.d(),w&&w.d(),J&&J.d(),G&&G.d()}}}function Ki(e){let r,a=e[0]?.automationTours+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_automation-count-label")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t&&a!==(a=e[0]?.automationTours+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function Qi(){let r;return{c(){(r=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.countLimit,Fe(r,"class","mgPlayerJSProd_automation-count-label")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function eo(e){let r,a=e[0]?.total_unpublish_tour+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_unpublish-count-label")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t&&a!==(a=e[0]?.total_unpublish_tour+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function to(){let r;return{c(){(r=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.countLimit,Fe(r,"class","mgPlayerJSProd_unpublish-count-label")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function ro(e){let r,a=e[0]?.total_publish_tour+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_publish-count-label")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t&&a!==(a=e[0]?.total_publish_tour+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function ao(){let r;return{c(){(r=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.countLimit,Fe(r,"class","mgPlayerJSProd_publish-count-label")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function io(e){let r,a,i=ce.svgs.guide_category_title+"",o,n,s,l,d,c,g,m=e[0]?.total_sub_category+"",p,u=e[0]?.total_sub_category<=ce.countLimit&&oo(e),h=e[0]?.total_sub_category>ce.countLimit&&no();return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),u&&u.c(),l=De(),h&&h.c(),d=De(),c=Me("wmgPlayerJSProd_"),g=Ie("Sub Folders: "),p=Ie(m),Fe(a,"class",o="mgPlayerJSProd_sub-cat-count-icon mgPlayerJSProd_inline-block-vm "+(e[0]?.is_published?"mgPlayerJSProd_published-category":"")),Fe(c,"class","mgPlayerJSProd_tour-count-tooltip"),Fe(s,"class","mgPlayerJSProd_sub-cat-count mgPlayerJSProd_inline-block-vm"),Fe(r,"class","mgPlayerJSProd_sub-cat-count-wrapper")},m(e,t){Le(e,r,t),xe(r,a),a.innerHTML=i,xe(r,n),xe(r,s),u&&u.m(s,null),xe(s,l),h&&h.m(s,null),xe(s,d),xe(s,c),xe(c,g),xe(c,p)},p(e,t){1&t&&o!==(o="mgPlayerJSProd_sub-cat-count-icon mgPlayerJSProd_inline-block-vm "+(e[0]?.is_published?"mgPlayerJSProd_published-category":""))&&Fe(a,"class",o),e[0]?.total_sub_category<=ce.countLimit?u?u.p(e,t):((u=oo(e)).c(),u.m(s,l)):u&&(u.d(1),u=null),e[0]?.total_sub_category>ce.countLimit?h||((h=no()).c(),h.m(s,d)):h&&(h.d(1),h=null),1&t&&m!==(m=e[0]?.total_sub_category+"")&&Oe(p,m)},d(e){e&&Ee(r),u&&u.d(),h&&h.d()}}}function oo(e){let r,a=e[0]?.total_sub_category+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_sub-cat-count-label")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t&&a!==(a=e[0]?.total_sub_category+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function no(){let r;return{c(){(r=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.countLimit,Fe(r,"class","mgPlayerJSProd_sub-cat-count-label")},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function so(e){let a,r;return a=new Nr({props:{category:e[0]}}),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};1&t&&(r.category=e[0]),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){je(a,e)}}}function lo(r){let a,i=!r[1]&&ce.isOwnerOrAppAdmin()&&GmCXt.FT.creatorApp&&!ce.isPublicApp&&!ce.automationSelectionMode&&!ce.isDesktopApp()&&!ce.hideMirrorAppCtrl(),o,n,s,l,d,c,g,m,F,p,u,h,P=(r[0]?.category_title||"")+"",y,O,_,S,f=(r[0]?.category_title||"")+"",R,H,C,b,v=(r[0]?.category_description||"")+"",N,B,w,J,G=(r[0]?.category_description||"")+"",V,z,U,j,A,T,W,Z,X=i&&$i(),k=r[0]?.is_published&&!r[0]?.has_child&&Fi(r),x=r[0]?.is_published&&r[0]?.has_child&&Hi(r),L=!r[0]?.is_published&&!r[0]?.has_child&&r[0]?.image_url&&Vi(r),E=!r[0]?.is_published&&r[0]?.has_child&&r[0]?.image_url&&ji(r),M=!r[0]?.image_url&&!r[0]?.is_published&&qi(),I=!r[0]?.has_child&&GmCXt.FT.creatorApp&&Yi(r),D=r[0]?.has_child&&GmCXt.FT.creatorApp&&io(r),$=(r[3]||r[1])&&so(r);return{c(){a=Me("wmgPlayerJSProd_"),X&&X.c(),o=De(),n=Me("dnd-nodrag"),s=Me("wmgPlayerJSProd_"),l=Me("wmgPlayerJSProd_"),k&&k.c(),d=De(),x&&x.c(),c=De(),L&&L.c(),g=De(),E&&E.c(),m=De(),M&&M.c(),F=De(),p=Me("wmgPlayerJSProd_"),u=Me("wmgPlayerJSProd_"),h=Me("button"),y=Ie(P),O=De(),_=Me("wmgPlayerJSProd_"),S=Me("wmgPlayerJSProd_"),R=Ie(f),H=De(),C=Me("wmgPlayerJSProd_"),b=Me("wmgPlayerJSProd_"),N=Ie(v),B=De(),w=Me("wmgPlayerJSProd_"),J=Me("wmgPlayerJSProd_"),V=Ie(G),z=De(),I&&I.c(),U=De(),D&&D.c(),j=De(),$&&$.c(),Fe(l,"class","mgPlayerJSProd_category-image-wrapper mgPlayerJSProd_ege-inline-block-vm"),Fe(h,"class","mgPlayerJSProd_category-title-wrapper mgPlayerJSProd_lbl-btn mgPlayerJSProd_wrap-text"),Fe(S,"class","mgPlayerJSProd_tooltip-title"),Fe(_,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-right mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y"),Fe(u,"class","mgPlayerJSProd_category-title-container mgPlayerJSProd_text-overflow-ellipsis"),Fe(b,"class","mgPlayerJSProd_category-description-wrapper mgPlayerJSProd_wrap-text"),Fe(J,"class","mgPlayerJSProd_tooltip-title"),Fe(w,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-right mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y"),Fe(C,"class","mgPlayerJSProd_category-desc-container mgPlayerJSProd_text-overflow-ellipsis"),Fe(p,"class","mgPlayerJSProd_category-title-description-wrapper mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_position-relative"),Fe(s,"class","mgPlayerJSProd_category-list-item-wrapper"),ee(n,"class","mgPlayerJSProd_dnd-nodrag-default"),Fe(a,"class",A="mgPlayerJSProd_category-list-item "+(r[1]?"active":"")+" "+(r[2]?"sub-category-list-item":"")+" "+(ce.isMicroPlayer&&r[1]?"mgPlayerJSProd_no-margin":"")+" "+(!GmCXt.FT.isPlayer||r[0]?.has_child||r[0]?.has_tour?"":"mgPlayerJSProd_display-none")+" "+(ce.automationSelectionMode?"mgPlayerJSProd_auto-selection-cat-list":"")+" "+(ce.automationSelectionMode&&!r[0]?.is_published?"mgPlayerJSProd_disabled":""))},m(e,t){Le(e,a,t),X&&X.m(a,null),xe(a,o),xe(a,n),xe(n,s),xe(s,l),k&&k.m(l,null),xe(l,d),x&&x.m(l,null),xe(l,c),L&&L.m(l,null),xe(l,g),E&&E.m(l,null),xe(l,m),M&&M.m(l,null),xe(s,F),xe(s,p),xe(p,u),xe(u,h),xe(h,y),xe(u,O),xe(u,_),xe(_,S),xe(S,R),xe(p,H),xe(p,C),xe(C,b),xe(b,N),xe(C,B),xe(C,w),xe(w,J),xe(J,V),xe(n,z),I&&I.m(n,null),xe(n,U),D&&D.m(n,null),xe(a,j),$&&$.m(a,null),T=!0,W||(Z=[$e(a,"click",q(r[9])),$e(a,"mouseenter",r[6]),$e(a,"mouseleave",r[7])],W=!0)},p(e,[t]){(i=2&t?!e[1]&&ce.isOwnerOrAppAdmin()&&GmCXt.FT.creatorApp&&!ce.isPublicApp&&!ce.automationSelectionMode&&!ce.isDesktopApp()&&!ce.hideMirrorAppCtrl():i)?X||((X=$i()).c(),X.m(a,o)):X&&(X.d(1),X=null),e[0]?.is_published&&!e[0]?.has_child?k?k.p(e,t):((k=Fi(e)).c(),k.m(l,d)):k&&(k.d(1),k=null),e[0]?.is_published&&e[0]?.has_child?x?x.p(e,t):((x=Hi(e)).c(),x.m(l,c)):x&&(x.d(1),x=null),e[0]?.is_published||e[0]?.has_child||!e[0]?.image_url?L&&(L.d(1),L=null):L?L.p(e,t):((L=Vi(e)).c(),L.m(l,g)),!e[0]?.is_published&&e[0]?.has_child&&e[0]?.image_url?E?E.p(e,t):((E=ji(e)).c(),E.m(l,m)):E&&(E.d(1),E=null),e[0]?.image_url||e[0]?.is_published?M&&(M.d(1),M=null):M||((M=qi()).c(),M.m(l,null)),(!T||1&t)&&P!==(P=(e[0]?.category_title||"")+"")&&Oe(y,P),(!T||1&t)&&f!==(f=(e[0]?.category_title||"")+"")&&Oe(R,f),(!T||1&t)&&v!==(v=(e[0]?.category_description||"")+"")&&Oe(N,v),(!T||1&t)&&G!==(G=(e[0]?.category_description||"")+"")&&Oe(V,G),!e[0]?.has_child&&GmCXt.FT.creatorApp?I?I.p(e,t):((I=Yi(e)).c(),I.m(n,U)):I&&(I.d(1),I=null),e[0]?.has_child&&GmCXt.FT.creatorApp?D?D.p(e,t):((D=io(e)).c(),D.m(n,null)):D&&(D.d(1),D=null),e[3]||e[1]?$?($.p(e,t),10&t&&Be($,1)):(($=so(e)).c(),Be($,1),$.m(a,null)):$&&(He(),Ve($,1,1,()=>{$=null}),Ne()),(!T||7&t&&A!==(A="mgPlayerJSProd_category-list-item "+(e[1]?"active":"")+" "+(e[2]?"sub-category-list-item":"")+" "+(ce.isMicroPlayer&&e[1]?"mgPlayerJSProd_no-margin":"")+" "+(!GmCXt.FT.isPlayer||e[0]?.has_child||e[0]?.has_tour?"":"mgPlayerJSProd_display-none")+" "+(ce.automationSelectionMode?"mgPlayerJSProd_auto-selection-cat-list":"")+" "+(ce.automationSelectionMode&&!e[0]?.is_published?"mgPlayerJSProd_disabled":"")))&&Fe(a,"class",A)},i(e){T||(Be($),T=!0)},o(e){Ve($),T=!1},d(e){e&&Ee(a),X&&X.d(),k&&k.d(),x&&x.d(),L&&L.d(),E&&E.d(),M&&M.d(),I&&I.d(),D&&D.d(),$&&$.d(),W=!1,ke(Z)}}}function co(e,t,r){let a=t.category,i=t.parent,o=t.subCategory;M();let n,s=(GmCXt.getCdnSign(),!1),l=!1;var d=de(ge.breadCrumb)||[];o&&(l=ce.getCategory(a.parent_id)||d[d.length-1]);let{onFolderClick:c=()=>{}}=t,g=async(e,t)=>{t={detail:n=t&&t?.has_tour?{parent:t,hasTour:!0}:{parent:t,hasTour:t.has_tour,hasChild:t.has_child}};c(t)};me(()=>{GmCXt.isPlayer()&&ce.bindPlayerTheme()});return e.$$set=e=>{"category"in e&&r(0,a=e.category),"parent"in e&&r(1,i=e.parent),"subCategory"in e&&r(2,o=e.subCategory),"onFolderClick"in e&&r(8,c=e.onFolderClick)},[a,i,o,s,l,g,function(){r(3,s=!0)},function(){r(3,s=!1)},c,e=>!i&&g(0,a)]}class go extends e{constructor(e){super(),t(this,e,co,lo,d,{category:0,parent:1,subCategory:2,onFolderClick:8})}}function mo(e,t,r){e=e.slice();return e[7]=t[r],e[9]=r,e}function po(e){let r=e[7]+"",a;return{c(){a=Ie(r)},m(e,t){Le(e,a,t)},p(e,t){2&t&&r!==(r=e[7]+"")&&Oe(a,r)},d(e){e&&Ee(a)}}}function uo(e){let r=e[7]?.category_title+"",a;return{c(){a=Ie(r)},m(e,t){Le(e,a,t)},p(e,t){2&t&&r!==(r=e[7]?.category_title+"")&&Oe(a,r)},d(e){e&&Ee(a)}}}function ho(r){let a,i,o,n,s,l,d,c,g=0<r[9]&&(e=>{let r,a=e[0].svgs.iconBreadcrumArrow+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_breadcrum-arrow-icon")},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t&&a!==(a=e[0].svgs.iconBreadcrumArrow+"")&&(r.innerHTML=a)},d(e){e&&Ee(r)}}})(r);function m(e){return e[7]?.category_title?uo:"All Guides"===e[7]?po:void 0}let p=m(r),u=p&&p(r);function h(){return r[3](r[7])}return{c(){a=Me("li"),g&&g.c(),i=De(),o=Me("button"),u&&u.c(),l=De(),Fe(o,"class",n="mgPlayerJSProd_lbl-btn mgPlayerJSProd_inline-block-vm mgPlayerJSProd_breadcrum-title "+(r[9]===r[1].length-1?"active-breadcrum":"")),Fe(o,"aria-label",s=r[7]?.category_title?r[7].category_title:"All Guides"===r[7]?r[7]:""),Fe(a,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_breadcrum-item")},m(e,t){Le(e,a,t),g&&g.m(a,null),xe(a,i),xe(a,o),u&&u.m(o,null),xe(a,l),d||(c=$e(o,"click",h),d=!0)},p(e,t){0<(r=e)[9]&&g.p(r,t),p===(p=m(r))&&u?u.p(r,t):(u&&u.d(1),(u=p&&p(r))&&(u.c(),u.m(o,null))),2&t&&n!==(n="mgPlayerJSProd_lbl-btn mgPlayerJSProd_inline-block-vm mgPlayerJSProd_breadcrum-title "+(r[9]===r[1].length-1?"active-breadcrum":""))&&Fe(o,"class",n),2&t&&s!==(s=r[7]?.category_title?r[7].category_title:"All Guides"===r[7]?r[7]:"")&&Fe(o,"aria-label",s)},d(e){e&&Ee(a),g&&g.d(),u&&u.d(),d=!1,c()}}}function Po(r){let a,i,o,n=r[0].svgs.btnBackBreadcrumb+"",s,l,d,c,e,g,m,p=D(r[1]),u=[];for(let e=0;e<p.length;e+=1)u[e]=ho(mo(r,p,e));return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("button"),s=De(),(l=Me("wmgPlayerJSProd_")).innerHTML='<wmgPlayerJSProd_ class="mgPlayerJSProd_tooltip-title">Back</wmgPlayerJSProd_>',d=De(),c=Me("ol");for(let e=0;e<u.length;e+=1)u[e].c();Fe(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_back-btn mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(o,"aria-label","back"),Fe(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right"),Fe(i,"class","mgPlayerJSProd_back-btn-wrapper mgPlayerJSProd_inline-block-vm mgPlayerJSProd_show-text-tooltip mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer"),Fe(c,"class",e="mgPlayerJSProd_breadcrums-container mgPlayerJSProd_inline-block-vm mgPlayerJSProd_no-margin "+(r[0].isMicroPlayer?"mgPlayerJSProd_breadcrums-container-mPlayer":"")),Fe(a,"id","mgPlayerJSProd_breadcrums-main-container"),Fe(a,"class","mgPlayerJSProd_padding-lr-20")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),o.innerHTML=n,xe(i,s),xe(i,l),xe(a,d),xe(a,c);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(c,null);g||(m=$e(o,"click",r[2]),g=!0)},p(t,[r]){if(1&r&&n!==(n=t[0].svgs.btnBackBreadcrumb+"")&&(o.innerHTML=n),3&r){p=D(t[1]);let e;for(e=0;e<p.length;e+=1){var a=mo(t,p,e);u[e]?u[e].p(a,r):(u[e]=ho(a),u[e].c(),u[e].m(c,null))}for(;e<u.length;e+=1)u[e].d(1);u.length=p.length}1&r&&e!==(e="mgPlayerJSProd_breadcrums-container mgPlayerJSProd_inline-block-vm mgPlayerJSProd_no-margin "+(t[0].isMicroPlayer?"mgPlayerJSProd_breadcrums-container-mPlayer":""))&&Fe(c,"class",e)},i:Je,o:Je,d(e){e&&Ee(a),F(u,e),g=!1,m()}}}function yo(e,t,r){let a,i=M(),o=de(ge.breadCrumb),n=ge.breadCrumb.subscribe(e=>{r(1,o=e)});ce.onClickBreadCrumbHandler=async e=>{a=e?"All Guides"===e?{parent:"All Guides"}:{parent:e,hasTour:e.has_tour,hasChild:e.has_child}:{parent:void 0,hasChild:!1},i("breadcrumbChanged",a)},pe(()=>{n()});me(()=>{GmCXt.isPlayer()&&ce.bindPlayerTheme()});return[ce,o,()=>{let e;1<o.length&&(e=o[o.length-2]),ce.onClickBreadCrumbHandler(e)},e=>ce.onClickBreadCrumbHandler(e)]}class _o extends e{constructor(e){super(),t(this,e,yo,Po,d,{})}}function So(e){let t=ce.labels.noCategoryCreatedYet+"",r;return{c(){r=Ie(t)},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function fo(e){let t=ce.labels.noGuideCreatedYet+"",r;return{c(){r=Ie(t)},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function Co(e){let t=ce.labels.noAiGuide+"",r;return{c(){r=Ie(t)},m(e,t){Le(e,r,t)},d(e){e&&Ee(r)}}}function bo(e){let r,a,i,o=ce.svgs.no_guides_image+"",n,s,l,t,d;function c(e){return e[0]?Co:(t=null==t?!(!de(ge.breadCrumb).length&&"myguides"!==de(ge.CurrentPage)):t)?fo:So}let g=c(e),m=g(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),l=Me("wmgPlayerJSProd_"),m.c(),Fe(i,"class","mgPlayerJSProd_no-guide-image-cartoon"),Fe(a,"class","mgPlayerJSProd_no-guide-image-wrapper mgPlayerJSProd_no-margin"),Fe(l,"class","mgPlayerJSProd_no-guide-msg"),Fe(l,"tabindex","0"),Fe(s,"class","mgPlayerJSProd_no-guide-text-wrapper"),Fe(r,"class",d="mgPlayerJSProd_no-tour-message-wrapper mgPlayerJSProd_position-center "+(e[0]?"mgPlayerJSProd_ai-suggesion-view":"")),Re(r,"mgPlayerJSProd_margin-t-50",!ce.isMicroPlayer)},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),i.innerHTML=o,xe(r,n),xe(r,s),xe(s,l),m.m(l,null)},p(e,[t]){g!==(g=c(e))&&(m.d(1),m=g(e))&&(m.c(),m.m(l,null)),1&t&&d!==(d="mgPlayerJSProd_no-tour-message-wrapper mgPlayerJSProd_position-center "+(e[0]?"mgPlayerJSProd_ai-suggesion-view":""))&&Fe(r,"class",d),1&t&&Re(r,"mgPlayerJSProd_margin-t-50",!ce.isMicroPlayer)},i:Je,o:Je,d(e){e&&Ee(r),m.d()}}}function vo(e,t,r){let a=t.isAiSuggesion;return e.$$set=e=>{"isAiSuggesion"in e&&r(0,a=e.isAiSuggesion)},[a]}class wo extends e{constructor(e){super(),t(this,e,vo,bo,d,{isAiSuggesion:0})}}function Jo(e,t,r){e=e.slice();return e[87]=t[r],e[88]=t,e[85]=r,e}function Go(e,t,r){e=e.slice();return e[87]=t[r],e[89]=t,e[90]=r,e}function Ao(e,t,r){e=e.slice();return e[15]=t[r],e[85]=r,e}function To(e,t,r){e=e.slice();return e[15]=t[r],e[85]=r,e}function Xo(e){let r,a,i;return(a=new _o({})).$on("breadcrumbChanged",e[17]),{c(){r=Me("wmgPlayerJSProd_"),ze(a.$$.fragment)},m(e,t){Le(e,r,t),Ue(a,r,null),i=!0},p:Je,i(e){i||(Be(a.$$.fragment,e),i=!0)},o(e){Ve(a.$$.fragment,e),i=!1},d(e){e&&Ee(r),je(a)}}}function ko(e){let i,r,a,o,n,s,l,d=((i=new go({props:{category:e[7],parent:!0,onFolderClick:e[22]}})).$on("forwardTraversal",e[16]),[Mo,Eo,Lo]),c=[];function g(e,t){return 264&t[0]&&(a=null),e[2]&&0<e[2].length?0:(a=null==a?!(GmCXt.isEmpty(e[8])&&GmCXt.isEmpty(e[3])):a)?1:e[10]?-1:2}return~(o=g(e,[-1,-1,-1]))&&(n=c[o]=d[o](e)),{c(){ze(i.$$.fragment),r=De(),n&&n.c(),s=I()},m(e,t){Ue(i,e,t),Le(e,r,t),~o&&c[o].m(e,t),Le(e,s,t),l=!0},p(e,t){var r={};128&t[0]&&(r.category=e[7]),i.$set(r);let a=o;(o=g(e,t))===a?~o&&c[o].p(e,t):(n&&(He(),Ve(c[a],1,1,()=>{c[a]=null}),Ne()),~o?((n=c[o])?n.p(e,t):(n=c[o]=d[o](e)).c(),Be(n,1),n.m(s.parentNode,s)):n=null)},i(e){l||(Be(i.$$.fragment,e),Be(n),l=!0)},o(e){Ve(i.$$.fragment,e),Ve(n),l=!1},d(e){e&&(Ee(r),Ee(s)),je(i,e),~o&&c[o].d(e)}}}function xo(t){let i,a,o=D(t[0]),n=[];for(let e=0;e<o.length;e+=1)n[e]=qo(To(t,o,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();i=I()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Le(t,i,r),a=!0},p(t,r){if(5339249&r[0]){o=D(t[0]);let e;for(e=0;e<o.length;e+=1){var a=To(t,o,e);n[e]?(n[e].p(a,r),Be(n[e],1)):(n[e]=qo(a),n[e].c(),Be(n[e],1),n[e].m(i.parentNode,i))}for(He(),e=o.length;e<n.length;e+=1)(e=>Ve(n[e],1,1,()=>{n[e]=null}))(e);Ne()}},i(e){if(!a){for(let e=0;e<o.length;e+=1)Be(n[e]);a=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)Ve(n[e]);a=!1},d(e){e&&Ee(i),F(n,e)}}}function Lo(e){let r,a;return r=new wo({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},p:Je,i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Eo(e){let r=!GmCXt.isEmpty(e[8])&&!e[6].exportEnabled&&GmCXt.FT.creatorApp,a,i=!GmCXt.isEmpty(e[3]),o,n,s=r&&Io(e),l=i&&Oo(e);return{c(){s&&s.c(),a=De(),l&&l.c(),o=I()},m(e,t){s&&s.m(e,t),Le(e,a,t),l&&l.m(e,t),Le(e,o,t),n=!0},p(e,t){(r=320&t[0]?!GmCXt.isEmpty(e[8])&&!e[6].exportEnabled&&GmCXt.FT.creatorApp:r)?s?(s.p(e,t),320&t[0]&&Be(s,1)):((s=Io(e)).c(),Be(s,1),s.m(a.parentNode,a)):s&&(He(),Ve(s,1,1,()=>{s=null}),Ne()),(i=8&t[0]?!GmCXt.isEmpty(e[3]):i)?l?(l.p(e,t),8&t[0]&&Be(l,1)):((l=Oo(e)).c(),Be(l,1),l.m(o.parentNode,o)):l&&(He(),Ve(l,1,1,()=>{l=null}),Ne())},i(e){n||(Be(s),Be(l),n=!0)},o(e){Ve(s),Ve(l),n=!1},d(e){e&&(Ee(a),Ee(o)),s&&s.d(e),l&&l.d(e)}}}function Mo(t){let i,a,o=D(t[2]),n=[];for(let e=0;e<o.length;e+=1)n[e]=jo(Ao(t,o,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();i=I()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Le(t,i,r),a=!0},p(t,r){if(5339252&r[0]){o=D(t[2]);let e;for(e=0;e<o.length;e+=1){var a=Ao(t,o,e);n[e]?(n[e].p(a,r),Be(n[e],1)):(n[e]=jo(a),n[e].c(),Be(n[e],1),n[e].m(i.parentNode,i))}for(He(),e=o.length;e<n.length;e+=1)(e=>Ve(n[e],1,1,()=>{n[e]=null}))(e);Ne()}},i(e){if(!a){for(let e=0;e<o.length;e+=1)Be(n[e]);a=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)Ve(n[e]);a=!1},d(e){e&&Ee(i),F(n,e)}}}function Io(t){let i,a,o=D(t[8]),n=[];for(let e=0;e<o.length;e+=1)n[e]=Fo(Go(t,o,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();i=I()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Le(t,i,r),a=!0},p(t,r){if(786752&r[0]){o=D(t[8]);let e;for(e=0;e<o.length;e+=1){var a=Go(t,o,e);n[e]?(n[e].p(a,r),Be(n[e],1)):(n[e]=Fo(a),n[e].c(),Be(n[e],1),n[e].m(i.parentNode,i))}for(He(),e=o.length;e<n.length;e+=1)(e=>Ve(n[e],1,1,()=>{n[e]=null}))(e);Ne()}},i(e){if(!a){for(let e=0;e<o.length;e+=1)Be(n[e]);a=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)Ve(n[e]);a=!1},d(e){e&&Ee(i),F(n,e)}}}function Do(e){let a,i,o,r,n,s,l=GmCXt.FT.creatorApp&&e[6].automationSelectionMode&&$o(e);return(o=new Gi({props:{tour:e[87]}})).$on("updatePinnedTours",e[19]),{c(){a=Me("wmgPlayerJSProd_"),l&&l.c(),i=De(),ze(o.$$.fragment),r=De(),Fe(a,"class",n="mgPlayerJSProd_tour-item mgPlayerJSProd_guide-list-view "+(e[6].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":""))},m(e,t){Le(e,a,t),l&&l.m(a,null),xe(a,i),Ue(o,a,null),xe(a,r),s=!0},p(e,t){GmCXt.FT.creatorApp&&e[6].automationSelectionMode?l?l.p(e,t):((l=$o(e)).c(),l.m(a,i)):l&&(l.d(1),l=null);var r={};256&t[0]&&(r.tour=e[87]),o.$set(r),(!s||64&t[0]&&n!==(n="mgPlayerJSProd_tour-item mgPlayerJSProd_guide-list-view "+(e[6].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":"")))&&Fe(a,"class",n)},i(e){s||(Be(o.$$.fragment,e),s=!0)},o(e){Ve(o.$$.fragment,e),s=!1},d(e){e&&Ee(a),l&&l.d(),je(o)}}}function $o(r){let a,i,o,n;function s(){r[32].call(i,r[89],r[90])}function l(){return r[33](r[87])}return{c(){a=Me("wmgPlayerJSProd_"),Fe(i=Me("input"),"class","mgPlayerJSProd_input-checkbox-custom"),Fe(i,"type","checkbox"),Fe(a,"class","mgPlayerJSProd_icon-update-margin mgPlayerJSProd_ege-inline-block-vm")},m(e,t){Le(e,a,t),xe(a,i),i.checked=r[87].automate,o||(n=[$e(i,"change",s),$e(i,"change",l)],o=!0)},p(e,t){r=e,256&t[0]&&(i.checked=r[87].automate)},d(e){e&&Ee(a),o=!1,ke(n)}}}function Fo(e){let r=e[18](e[87])&&!e[6].guideHideForPlayer(e[87].tour_settings)&&e[87].pin,a,i,o=r&&Do(e);return{c(){o&&o.c(),a=I()},m(e,t){o&&o.m(e,t),Le(e,a,t),i=!0},p(e,t){(r=320&t[0]?e[18](e[87])&&!e[6].guideHideForPlayer(e[87].tour_settings)&&e[87].pin:r)?o?(o.p(e,t),320&t[0]&&Be(o,1)):((o=Do(e)).c(),Be(o,1),o.m(a.parentNode,a)):o&&(He(),Ve(o,1,1,()=>{o=null}),Ne())},i(e){i||(Be(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&Ee(a),o&&o.d(e)}}}function Oo(t){let i,a,o=D(t[3]),n=[];for(let e=0;e<o.length;e+=1)n[e]=Vo(Jo(t,o,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();i=I()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Le(t,i,r),a=!0},p(t,r){if(2914424&r[0]){o=D(t[3]);let e;for(e=0;e<o.length;e+=1){var a=Jo(t,o,e);n[e]?(n[e].p(a,r),Be(n[e],1)):(n[e]=Vo(a),n[e].c(),Be(n[e],1),n[e].m(i.parentNode,i))}for(He(),e=o.length;e<n.length;e+=1)(e=>Ve(n[e],1,1,()=>{n[e]=null}))(e);Ne()}},i(e){if(!a){for(let e=0;e<o.length;e+=1)Be(n[e]);a=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)Ve(n[e]);a=!1},d(e){e&&Ee(i),F(n,e)}}}function Ro(e){let a,r,i,o,n,s,l,d=[No,Ho],c=[];function g(e,t){return(r=null==(r=64&t[0]?null:r)?!(!e[6].isOwnerOrAppAdmin()||!GmCXt.FT.creatorApp||e[6].isDesktopApp()||e[6].hideMirrorAppCtrl()||e[6].exportEnabled||e[6].automationSelectionMode):r)?0:1}return i=g(e,[-1,-1,-1]),o=c[i]=d[i](e),{c(){a=Me("wmgPlayerJSProd_"),o.c(),n=De(),Fe(a,"class",s="mgPlayerJSProd_tour-item mgPlayerJSProd_guide-list-view "+(e[6].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":"")+" "+(!e[87].is_locked||e[87].user_id==e[6].user.user_id||e[6].isOwnerOrAppAdmin()?"unlocked-guide":"")+" "+(e[6].automationSelectionMode&&!e[87].is_published?"mgPlayerJSProd_disabled":""))},m(e,t){Le(e,a,t),c[i].m(a,null),xe(a,n),l=!0},p(e,t){let r=i;(i=g(e,t))===r?c[i].p(e,t):(He(),Ve(c[r],1,1,()=>{c[r]=null}),Ne(),(o=c[i])?o.p(e,t):(o=c[i]=d[i](e)).c(),Be(o,1),o.m(a,n)),(!l||72&t[0]&&s!==(s="mgPlayerJSProd_tour-item mgPlayerJSProd_guide-list-view "+(e[6].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":"")+" "+(!e[87].is_locked||e[87].user_id==e[6].user.user_id||e[6].isOwnerOrAppAdmin()?"unlocked-guide":"")+" "+(e[6].automationSelectionMode&&!e[87].is_published?"mgPlayerJSProd_disabled":"")))&&Fe(a,"class",s)},i(e){l||(Be(o),l=!0)},o(e){Ve(o),l=!1},d(e){e&&Ee(a),c[i].d()}}}function Ho(e){let a,i,r,o=GmCXt.FT.creatorApp&&e[6].automationSelectionMode&&Bo(e);return(i=new Gi({props:{tour:e[87]}})).$on("updatePinnedTours",e[19]),{c(){o&&o.c(),a=De(),ze(i.$$.fragment)},m(e,t){o&&o.m(e,t),Le(e,a,t),Ue(i,e,t),r=!0},p(e,t){GmCXt.FT.creatorApp&&e[6].automationSelectionMode?o?o.p(e,t):((o=Bo(e)).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null);var r={};8&t[0]&&(r.tour=e[87]),i.$set(r)},i(e){r||(Be(i.$$.fragment,e),r=!0)},o(e){Ve(i.$$.fragment,e),r=!1},d(e){e&&Ee(a),o&&o.d(e),je(i,e)}}}function No(r){let a,i,o=r[6].svgs.drag_dots+"",n,s,l,d,c;function g(...e){return r[34](r[87],r[85],...e)}function m(...e){return r[36](r[85],...e)}return(s=new Gi({props:{tour:r[87]}})).$on("updatePinnedTours",r[19]),{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),ze(s.$$.fragment),Fe(i,"class","mgPlayerJSProd_drag-guide-icon-wrapper mgPlayerJSProd_ege-inline-block-vm"),Fe(a,"draggable","true")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),Ue(s,a,null),l=!0,d||(c=[$e(a,"dragstart",g),$e(a,"drag",r[35]),$e(a,"dragover",m),$e(a,"dragend",r[37])],d=!0)},p(e,t){r=e,(!l||64&t[0])&&o!==(o=r[6].svgs.drag_dots+"")&&(i.innerHTML=o);e={};8&t[0]&&(e.tour=r[87]),s.$set(e)},i(e){l||(Be(s.$$.fragment,e),l=!0)},o(e){Ve(s.$$.fragment,e),l=!1},d(e){e&&Ee(a),je(s),d=!1,ke(c)}}}function Bo(r){let a,i,o,n;function s(){r[38].call(i,r[88],r[85])}function l(){return r[39](r[87])}return{c(){a=Me("wmgPlayerJSProd_"),Fe(i=Me("input"),"class","mgPlayerJSProd_input-checkbox-custom"),Fe(i,"type","checkbox"),Fe(a,"class","mgPlayerJSProd_icon-update-margin mgPlayerJSProd_ege-inline-block-vm")},m(e,t){Le(e,a,t),xe(a,i),i.checked=r[87].automate,o||(n=[$e(i,"change",s),$e(i,"change",l)],o=!0)},p(e,t){r=e,8&t[0]&&(i.checked=r[87].automate)},d(e){e&&Ee(a),o=!1,ke(n)}}}function Vo(e){let r=e[18](e[87])&&!e[6].guideHideForPlayer(e[87].tour_settings),a,i,o=r&&Ro(e);return{c(){o&&o.c(),a=I()},m(e,t){o&&o.m(e,t),Le(e,a,t),i=!0},p(e,t){(r=72&t[0]?e[18](e[87])&&!e[6].guideHideForPlayer(e[87].tour_settings):r)?o?(o.p(e,t),72&t[0]&&Be(o,1)):((o=Ro(e)).c(),Be(o,1),o.m(a.parentNode,a)):o&&(He(),Ve(o,1,1,()=>{o=null}),Ne())},i(e){i||(Be(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&Ee(a),o&&o.d(e)}}}function zo(e){let a,r;return(a=new go({props:{category:e[15],parent:!1,subCategory:!0,onFolderClick:e[22]}})).$on("forwardTraversal",e[16]),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};4&t[0]&&(r.category=e[15]),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){je(a,e)}}}function Uo(r){let a,i,o,n,s,l;function d(...e){return r[28](r[15],r[85],...e)}function c(...e){return r[30](r[85],...e)}return(i=new go({props:{category:r[15],parent:!1,subCategory:!0,onFolderClick:r[22]}})).$on("forwardTraversal",r[16]),{c(){a=Me("wmgPlayerJSProd_"),ze(i.$$.fragment),o=De(),Fe(a,"draggable","true")},m(e,t){Le(e,a,t),Ue(i,a,null),xe(a,o),n=!0,s||(l=[$e(a,"dragstart",d),$e(a,"drag",r[29]),$e(a,"dragover",c),$e(a,"dragend",r[31])],s=!0)},p(e,t){r=e;e={};4&t[0]&&(e.category=r[15]),i.$set(e)},i(e){n||(Be(i.$$.fragment,e),n=!0)},o(e){Ve(i.$$.fragment,e),n=!1},d(e){e&&Ee(a),je(i),s=!1,ke(l)}}}function jo(e){let r,a,i,o,n,s=[Uo,zo],l=[];function d(e,t){return(r=null==(r=64&t[0]?null:r)?!(!e[6].isOwnerOrAppAdmin()||!GmCXt.FT.creatorApp||e[6].isDesktopApp()||e[6].hideMirrorAppCtrl()):r)?0:1}return a=d(e,[-1,-1,-1]),i=l[a]=s[a](e),{c(){i.c(),o=I()},m(e,t){l[a].m(e,t),Le(e,o,t),n=!0},p(e,t){let r=a;(a=d(e,t))===r?l[a].p(e,t):(He(),Ve(l[r],1,1,()=>{l[r]=null}),Ne(),(i=l[a])?i.p(e,t):(i=l[a]=s[a](e)).c(),Be(i,1),i.m(o.parentNode,o))},i(e){n||(Be(i),n=!0)},o(e){Ve(i),n=!1},d(e){e&&Ee(o),l[a].d(e)}}}function Wo(e){let a,r;return(a=new go({props:{category:e[15],parent:!1,onFolderClick:e[22]}})).$on("forwardTraversal",e[16]),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};1&t[0]&&(r.category=e[15]),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){je(a,e)}}}function Zo(r){let a,i,o,n,s,l;function d(...e){return r[24](r[15],r[85],...e)}function c(...e){return r[26](r[85],...e)}return(i=new go({props:{category:r[15],parent:!1,onFolderClick:r[22]}})).$on("forwardTraversal",r[16]),{c(){a=Me("wmgPlayerJSProd_"),ze(i.$$.fragment),o=De(),Fe(a,"draggable","true")},m(e,t){Le(e,a,t),Ue(i,a,null),xe(a,o),n=!0,s||(l=[$e(a,"dragstart",d),$e(a,"drag",r[25]),$e(a,"dragover",c),$e(a,"dragend",r[27])],s=!0)},p(e,t){r=e;e={};1&t[0]&&(e.category=r[15]),i.$set(e)},i(e){n||(Be(i.$$.fragment,e),n=!0)},o(e){Ve(i.$$.fragment,e),n=!1},d(e){e&&Ee(a),je(i),s=!1,ke(l)}}}function qo(e){let r,a,i,o,n,s=[Zo,Wo],l=[];function d(e,t){return(r=null==(r=64&t[0]?null:r)?!(!e[6].isOwnerOrAppAdmin()||!GmCXt.FT.creatorApp||e[6].isDesktopApp()||e[6].hideMirrorAppCtrl()):r)?0:1}return a=d(e,[-1,-1,-1]),i=l[a]=s[a](e),{c(){i.c(),o=I()},m(e,t){l[a].m(e,t),Le(e,o,t),n=!0},p(e,t){let r=a;(a=d(e,t))===r?l[a].p(e,t):(He(),Ve(l[r],1,1,()=>{l[r]=null}),Ne(),(i=l[a])?i.p(e,t):(i=l[a]=s[a](e)).c(),Be(i,1),i.m(o.parentNode,o))},i(e){n||(Be(i),n=!0)},o(e){Ve(i),n=!1},d(e){e&&Ee(o),l[a].d(e)}}}function Yo(){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Ko(){let r,a;return r=new wo({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Qo(r){let a,i,o,n,s,l,d,c,g=0<r[1].length&&Xo(r),m=[xo,ko],p=[];function u(e){return e[1].length<1?0:0<e[1].length?1:-1}~(o=u(r))&&(n=p[o]=m[o](r));let h=r[6].automationSelectionMode&&Yo(),P=0==r[0].length&&Ko();return{c(){g&&g.c(),a=De(),i=Me("wmgPlayerJSProd_"),n&&n.c(),s=De(),h&&h.c(),l=De(),P&&P.c(),Fe(i,"class",d="mgPlayerJSProd_category-list "+(!r[0].length&&r[6].isMicroPlayer&&r[6].showGuidesFromDesktopApp?"mgPlayerJSProd_no-padding":"")),Ae(i,"height","682px")},m(e,t){g&&g.m(e,t),Le(e,a,t),Le(e,i,t),~o&&p[o].m(i,null),xe(i,s),h&&h.m(i,null),xe(i,l),P&&P.m(i,null),r[40](i),c=!0},p(e,t){0<e[1].length?g?(g.p(e,t),2&t[0]&&Be(g,1)):((g=Xo(e)).c(),Be(g,1),g.m(a.parentNode,a)):g&&(He(),Ve(g,1,1,()=>{g=null}),Ne());let r=o;(o=u(e))===r?~o&&p[o].p(e,t):(n&&(He(),Ve(p[r],1,1,()=>{p[r]=null}),Ne()),~o?((n=p[o])?n.p(e,t):(n=p[o]=m[o](e)).c(),Be(n,1),n.m(i,s)):n=null),e[6].automationSelectionMode?h?64&t[0]&&Be(h,1):((h=Yo()).c(),Be(h,1),h.m(i,l)):h&&(He(),Ve(h,1,1,()=>{h=null}),Ne()),0==e[0].length?P?1&t[0]&&Be(P,1):((P=Ko()).c(),Be(P,1),P.m(i,null)):P&&(He(),Ve(P,1,1,()=>{P=null}),Ne()),(!c||65&t[0]&&d!==(d="mgPlayerJSProd_category-list "+(!e[0].length&&e[6].isMicroPlayer&&e[6].showGuidesFromDesktopApp?"mgPlayerJSProd_no-padding":"")))&&Fe(i,"class",d)},i(e){c||(Be(g),Be(n),Be(h),Be(P),c=!0)},o(e){Ve(g),Ve(n),Ve(h),Ve(P),c=!1},d(e){e&&(Ee(a),Ee(i)),g&&g.d(e),~o&&p[o].d(),h&&h.d(),P&&P.d(),r[40](null)}}}let en=50;function tn(e,D,o){let n=[],a=[],s=[],l=[],d,r=[],c=[],t,i,g=!1,m=0,p,u=[],h=[],P=[],y=[],_=0,S=!0,f=!0,C=!0,b=0,$=0,F=0,O,R,v=!1,w=ce.activeTourId,H=(w=w||0,ce.labels=GmCXt.getAllLabels(ce.language),i=GmCXt.getLXPLang()?GmCXt.getLXPLang():de(ge.selectedLang),ge.selectedLang.subscribe(e=>{o(6,ce.language=e&&"default"!==e?e:ce.defaultLang?.language?ce.defaultLang.language:ce.browserLang,ce),GmCXt.getLXPLang()||(i=ce.language);e=de(ge.allCategories);GmCXt.isEmpty(e)?T():(o(0,n=ce.prepCatLangJson(de(ge.allCategories),i)),P=ce.prepCatLangJson(de(ge.subCategories),i),o(3,c=N(de(ge.categoryTours))),o(2,r=ce.prepCatLangJson(de(ge.childCategories),i)),d&&(o(7,d=ce.prepSingCatLang(d,i)),s.pop(),s.push(d),ge.breadCrumb.set(s)))}));function N(e){return e=e&&e.map(e=>e=ce.getTranslatedTourAndSteps(e,i))}let B=ge.categoryTours.subscribe(e=>{if(GmCXt.isEmpty(e))o(3,c=[]);else if(o(3,c=N(e)),GmCXt.FT.creatorApp&&c&&0<c.length&&!GmCXt.isEmpty(ce.pinnedToursList)){let t=ce.pinnedToursList.toString(),r=(o(23,u=c.filter(function(e){return e.pin=t.includes(e.tour_id),t.includes(e.tour_id)})),u.map(e=>e.tour_id));e=c.filter(e=>!r.includes(e.tour_id));o(3,c=e),W()}});function J(i){0===i&&(_=0,o(10,v=!0));var e={category_id:m,limit:en,offset:_};function r(e,r){GmCXt.isPlayer()&&!GmCXt.isEmpty(e)&&(e=GmCXt.filterScheduleTours(e)),e=ce.filterAnnouncement(e),o(6,ce.pinnedToursList=r,ce),GmCXt.saveToDapStorage("pinnedToursList",ce.pinnedToursList);var t=i,a=e;if(a&&0<a.length){if(g=!1,h=t?mg$.merge(h,a):a,h=ce.filterDefaultGuides(h),h=GmCXt.removeDuplicateGuides(h),GmCXt.FT.creatorApp)if(h=ce.getTranslatedTours(h),GmCXt.isEmpty(r))o(23,u=[]);else{let t=r.toString();o(23,u=h.filter(function(e){return e.pin=t.includes(e.tour_id),t.includes(e.tour_id)})),h.filter(function(e){return e.pin=t.includes(e.tour_id),!t.includes(e.tour_id)})}F=a.length,o(6,ce.totalTours=h.length,ce),w&&GmCXt.isDefined(a[w])&&(a[w].screencastInProgress=!0)}else g=!t;f=!0,h=ce.getTranslatedTours(h),e.forEach(function(e,t){e.automate=!1,e.tour_order=parseInt(e.tour_order)}),ce.categoryDataForAutomation.forEach(function(t,e){t.category_id===p?.category_id&&(t.tours.length,parseInt(t.total_publish_tour),h.forEach(function(r,e){t.tours.forEach(function(e,t){e.tour_id===r.tour_id&&(r.automate=!0)})}))}),ce.hideLoading(),o(6,ce.isApiCallOn=!1,ce),GmCXt.isPlayer()&&(h=h.filter(function(e){return!GmCXt.isFeatureTags(e)})),ce.guideSegmentation&&GmCXt.FT.isPlayer?GmCXt.checkGuidesBasedOnSegment(h,U,"guideListSeg"):ge.categoryTours.set(h),ge.childCategories.set(void 0),o(10,v=!1),GmCXt.FT.creatorApp&&ce.checkCurrentViewForUpdate(),ce.setContainerHeight("allguides")}if(GmCXt.FT.publishedGuides&&(e.published_guides="1"),ce.isUserLoggedIn()||GmCXt.onPrem()){let t=ce.allTourList["cat_"+m];!ce.hasUserEditedTour||GmCXt.isEmpty(t)?GmCXt.api.getTourList(e,r):r(Object.keys(t).map(function(e){return t[e]}),ce.pinnedToursList)}}function G(t){0===t&&(_=0);var e={parent_id:m,limit:en,offset:_};GmCXt.FT.publishedCat&&(e.is_publish="1"),ce.getCategoryListApi(e,function(e){var r=t;if(e&&0<e.length){let t=[];$=e.length,e.forEach(function(r,e){t.push(r),r.automationTours=0,ce.categoryDataForAutomation.forEach(function(e,t){e.category_id===r.category_id&&(r.automationTours=e.tours.length)})}),ce.subCategoryStore&&GmCXt.isEmpty(ce.subCategoryStore["cat_"+m])&&ce.addMultiCategory(t,m),P=r?mg$.merge(P,t):e,P=GmCXt.removeDuplicateCategories(P),(P=GmCXt.inPlayer?ce.prepCatLangJson(P,ce.language):P).length||(g=!0)}else P.length||(g=!0);ge.childCategories.set(P),ce.checkCurrentViewForUpdate(),ce.setContainerHeight("allguides"),ce.hideLoading(),C=!0,ce.hideLoading(),o(6,ce.isApiCallOn=!1,ce)})}let V=ge.childCategories.subscribe(e=>{GmCXt.inPlayer&&e?o(2,r=ce.prepCatLangJson(e,i)):o(2,r=e)});function A(e){var t;ge.childCategories.set(void 0),ge.categoryTours.set(void 0),ge.parent.set(e.detail.parent),o(3,c=[]),o(1,s=de(ge.breadCrumb)),s.length<1&&s.push("All Guides"),s.some(e=>"object"==typeof e&&e.category_id===d.category_id)||s.push(d),ge.breadCrumb.set(s),e.detail.hasChild?(t=[],GmCXt.isEmpty(d.sub_categories)&&!GmCXt.inPlayer?(o(6,ce.subCategoryStore=[],ce),m=e.detail.parent.category_id,G(0)):(t=d.sub_categories.filter(e=>!e.has_tour||0<ce.filterGuideByEnv(e.tours).length),ge.childCategories.set(t)),ge.categoryTours.set(void 0)):e.detail.hasTour&&(ge.categoryTours.set([]),GmCXt.isEmpty(d.tours)&&!GmCXt.inPlayer?(m=e.detail.parent.category_id,J(0)):setTimeout(()=>{let e=ce.filterGuideByEnv(d.tours);GmCXt.isPlayer()&&!GmCXt.isEmpty(e)&&(e=(e=GmCXt.filterScheduleTours(e)).filter(function(e){return!GmCXt.isFeatureTags(e)}),e=ce.filterAnnouncement(e)),GmCXt.checkGuidesBasedOnSegment(e,U,"guideListSeg"),ge.childCategories.set(void 0)},1)),o(15,p=d)}function z(e){ge.categoryTours.set([]),ge.childCategories.set([]),ge.stepOperationMode.set(GmCXt.STEP_VIEW_OPERATION),o(8,y=[]);let t=-1;var r,e=e.detail;let a,i=e.parent;if((a=n.find(e=>e.category_id===i.category_id))||!i.category_id||GmCXt.isEmpty(l)?i.category_id&&!GmCXt.inPlayer&&(a=i):a=l.find(e=>e.category_id===i.category_id),ge.parent.set(a),-1===(t=d&&"All Guides"!==d?s.findIndex(e=>e.category_id===d.category_id):t))o(1,s=[]),ge.breadCrumb.set(s),GmCXt.inPlayer?ce.hideLoading():T();else{if(o(1,s=s.slice(0,t+1)),ge.breadCrumb.set(s),e.hasChild&&(r=[],GmCXt.isEmpty(d.sub_categories)&&!GmCXt.inPlayer?(m=e.parent.category_id,G(0)):(r=d.sub_categories.filter(e=>!e.has_tour||0<ce.filterGuideByEnv(e.tours).length),ge.childCategories.set(r),ce.hideLoading()),ge.categoryTours.set(void 0)),e.hasTour){if(ge.categoryTours.set([]),GmCXt.isEmpty(d.tours)&&!GmCXt.inPlayer)m=e.parent.category_id,J(0);else{let e=ce.filterGuideByEnv(d.tours);GmCXt.isPlayer()&&!GmCXt.isEmpty(e)&&(e=GmCXt.filterScheduleTours(e),e=ce.filterAnnouncement(e)),GmCXt.checkGuidesBasedOnSegment(e,U,"guideListSeg"),ce.hideLoading()}ge.childCategories.set(void 0)}e.hasChild||e.hasTour||(o(3,c=[]),ge.childCategories.set(void 0),ce.hideLoading())}}function U(t){if(!GmCXt.isEmpty(t)){let e=de(ge.categoryTours);e.push(t),e=GmCXt.removeDuplicateGuides(e),ge.categoryTours.set(e)}}function j(e,t,r){if(o(6,ce.refreshAllGuides=!1,ce),o(6,ce.isApiCallOn=!1,ce),GmCXt.isEmpty(e)&&GmCXt.isEmpty(a)){if(t)return;g=!0}else g=!1,e&&(b=e.length,e.forEach(function(t,e){1===t.category_image&&(t.category_image=0),t.automationTours=0,ce.categoryDataForAutomation.forEach(function(e){e.category_id===t?.category_id&&(t.automationTours=e.tours.length)}),t.category_order=parseInt(t?.category_order)})),a=(e=>{let r=[],a=[];return mg$.each(e,function(e,t){-1===mg$.inArray(t.category_id,r)&&(r.push(t.category_id),a.push(t))}),a})(a=t?mg$.merge(a,e):e),S=!0,GmCXt.isEmpty(ce.categoryStore)&&ce.addMultiCategory(a),a=ce.prepCatLangJson(a,r);ge.allCategories.set(a),ce.isAppJsonCalling||ce.hideLoading(),ce.checkCurrentViewForUpdate()}function T(r){var t=GmCXt.checkDomainInApps(GmCXt.urlParts.fullUrl);if((!t.appId||GmCXt.isDomainInActiveApp()||ce.manualAppSwitch)&&!ce.isApiCallOn){ce.resetOffset&&(_=0,o(6,ce.resetOffset=!1,ce)),0===r&&(_=0);let e=en;ce.categoryStore&&(t=Object.keys(ce.categoryStore).length,e=ce.getApiLimit(t)),ir.try(function(){let t={parent_id:0,limit:ce.refreshAllGuides?e:en,offset:r?_:0};GmCXt.getLXPLang()?t.language=GmCXt.getLXPLang():ce.language&&-1===ce.language.indexOf("en-")&&-1===ce.language.indexOf("en_")&&!GmCXt.isFalse(ce.language)&&(t.language=ce.language),GmCXt.FT.publishedCat&&(t.is_publish="1"),o(6,ce.isApiCallOn=!0,ce),GmCXt.api.getCategoryList(t,function(e){j(e,r,t.language)})},804)}}function W(){let r=ce.automationSelectionMode?"is_published":t||"tour_order";o(8,y=[...u]),o(8,y=y.sort((e,t)=>{e=e[r],t=t[r];return e<t?-1:t<e?1:0})),ce.descOrder&&o(8,y=y.reverse())}function Z(t){ir.try(function(){let r=[];t.filter(function(e,t){r.push({category_id:e.category_id,category_order:t+1}),e.category_order=t+1,ce.updateCategory(e,"category_order",parseInt(t+1))}),r=GmCXt.removeDuplicates(r);var e={organization_id:GmCXt.organization.organization_id,json:r};GmCXt.api.categoriesDrag(e,function(e){ce.showPopup(e.message)})},803)}function q(e){let r=[];e.filter(function(e,t){r.push({tour_id:e.tour_id,tour_order:t+1}),e.tour_order=t+1,ce.setTour(e,!1)}),r=GmCXt.removeDuplicates(r),e={category_id:e[0].category_id,json:r},GmCXt.api.toursDrag(e,function(e){ce.showPopup(e.message[0])})}let Y=ge.breadCrumb.subscribe(e=>{o(1,s=e)}),K=ge.activeSortFilterStore.subscribe(e=>{t=e,o(0,n=ce.sortDataByActiveFilter(n,"category_title",t)),o(2,r=ce.sortDataByActiveFilter(r,"category_title",t)),o(3,c=ce.sortDataByActiveFilter(c,"tour_title",t))}),Q=ge.allCategories.subscribe(e=>{o(0,n=ce.prepCatLangJson(e,i)),a=e,ce.setContainerHeight("allguides")}),ee=(ge.subCategories.subscribe(e=>{l=e}),ge.parent.subscribe(e=>{o(7,d=e),ce.setContainerHeight("allguides")})),te=ge.routeAction.subscribe(e=>{var t,r;e&&"createGuideCompleted"===e.action&&e.data?(t=e.data,(r=de(ge.categoryTours)).push(t.tour),ge.categoryTours.set(r),ge.routeAction.set(null)):e&&"createCategoryCompleted"===e.action&&e.data?(e.data,ge.routeAction.set(null)):e&&"cat_import_compleated"===e.action&&e.data?(m=e.data.catId,G(0),ge.routeAction.set(null)):e&&"on_app_select"===e.action&&e.app&&(ge.breadCrumb.set([]),ge.allCategories.set([]),o(6,ce.myGuidesFilter=!1,ce),o(6,ce.currentUserFilter=!1,ce),o(6,ce.filterByPublishedGuides="",ce),T(),ge.routeAction.set(null))}),X,k=(X=ge.isTourListRefresh.subscribe(t=>{if(t){let e=de(ge.parent);(e=t.data?t.data:e)&&(m=e.category_id,J(0),ge.isTourListRefresh.set(!1))}X&&X()}),me(()=>{var e=de(ge.routeAction);e&&"backwardTraversal"===e.action&&e.data?(z(e.data),ge.routeAction.set(null)):e&&"forwardTraversal"===e.action&&e.data&&(A(e.data),ge.routeAction.set(null)),GmCXt.inPlayer&&ce.hideLoading(),GmCXt.inPlayer||setTimeout(()=>{T()},100),ce.setContainerHeight("allguides"),mg$(".mgPlayerJSProd_category-list").off("scroll").on("scroll",function(){var e=c&&0<c.length&&0<s.length?"tour":r&&0<r.length&&0<s.length?"subcategory":0<n.length||s.length<1?"category":null;if(R!=e&&(_=0,mg$(this).scrollTop(0)),"tour"===(R=e)){if(!f)return!0;mg$(this).scrollTop()+mg$(this).innerHeight()>=mg$(this)[0].scrollHeight-20&&mg$(this)[0].scrollHeight+20>mg$(this).innerHeight()&&(ce.setContainerHeight("allguides"),f=!1,F===en)&&(_+=en,J(1))}else if("category"===e){if(!S)return!0;mg$(this).scrollTop()+mg$(this).innerHeight()>=mg$(this)[0].scrollHeight-20&&mg$(this)[0].scrollHeight+20>mg$(this).innerHeight()&&(ce.setContainerHeight("allguides"),S=!1,b!==en&&0!==b||(_+=en,T(1)))}else if("subcategory"===e){if(!C)return!0;mg$(this).scrollTop()+mg$(this).innerHeight()>=mg$(this)[0].scrollHeight-20&&mg$(this)[0].scrollHeight+20>mg$(this).innerHeight()&&(ce.setContainerHeight("allguides"),C=!1,$===en)&&(_+=en,G(1))}})}),mg$(window).off("resize").on("resize",function(){ce.setContainerHeight("allguides")}),pe(()=>{document.removeEventListener("forwardTraversal",A),o(6,ce.isForwardListenerAttached=!1,ce),Q(),Y(),B(),V(),ee(),te(),K(),X(),H()}),null),x=null,L=null,E=null,M=null,I=null;n=ce.sortDataByActiveFilter(n,"category_title",t),r=ce.sortDataByActiveFilter(r,"category_title",t),c=ce.sortDataByActiveFilter(c,"tour_title",t);return e.$$.update=()=>{63&e.$$.dirty[0]&&null!=M&&null!=I&&M!=I&&(s.length<1?o(0,[n[M],n[I]]=[n[I],n[M]],n):r&&0<r.length?o(2,[r[M],r[I]]=[r[I],r[M]],r):c&&o(3,[c[M],c[I]]=[c[I],c[M]],c),o(4,M=I)),8388608&e.$$.dirty[0]&&0<=u.length&&W()},[n,s,r,c,M,I,ce,d,y,void 0,v,k,x,L,E,p,A,z,function(e){return!g&&!("smartTip"===e.tour_type&&"desktop"===e.tour_settings.tour_type||"bot"===e.tour_type&&GmCXt.isPlayer())&&("smartTip"!==e.tour_type||GmCXt.FT.creatorApp)},function(e){if("pin"==e.detail.action){let t=e.detail.tour;t.pin=!0,o(23,u=[...u,t]),o(3,c=c.filter(e=>e.tour_id!==t.tour_id))}else if("unpin"==e.detail.action){let t=e.detail.tour;o(23,u=u.filter(e=>e.tour_id!==t.tour_id)),t.pin=!1,o(3,c=[...c,t]),o(3,c=c.sort((e,t)=>e.tour_order-t.tour_order))}},Z,q,function(e){A(e)},u,(e,t,r)=>{o(11,k=r.clientY),o(13,L=e),o(4,M=t),o(14,E=e.category_id),o(12,x=r.target.getBoundingClientRect().y-r.clientY)},e=>{o(11,k=e.clientY)},(e,t)=>{o(5,I=e)},e=>{Z(n),o(14,E=null),o(5,I=null)},(e,t,r)=>{o(11,k=r.clientY),o(13,L=e),o(4,M=t),o(14,E=e.category_id),o(12,x=r.target.getBoundingClientRect().y-r.clientY)},e=>{o(11,k=e.clientY)},(e,t)=>{o(5,I=e)},e=>{Z(r),o(14,E=null),o(5,I=null)},function(e,t){e[t].automate=this.checked,o(8,y)},e=>ce.onChangeSelectedTourForAutomation(e),(e,t,r)=>{o(11,k=r.clientY),o(13,L=e),o(4,M=t),o(14,E=e.tour_id),o(12,x=r.target.getBoundingClientRect().y-r.clientY)},e=>{o(11,k=e.clientY)},(e,t)=>{o(5,I=e)},e=>{q(c),o(14,E=null),o(5,I=null)},function(e,t){e[t].automate=this.checked,o(3,c),o(4,M),o(5,I),o(1,s),o(0,n),o(2,r)},e=>ce.onChangeSelectedTourForAutomation(e),function(e){ue[e?"unshift":"push"](()=>{O=e,o(9,O)})}]}class rn extends e{constructor(e){super(),t(this,e,tn,Qo,d,{},null,[-1,-1,-1])}}function an(r){let a,i,o=ce.svgs.myGuide+"",n,s,l,d;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.preview,Fe(i,"id","mgPlayerJSProd_btn-tour-action-preview"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-view-header-panel-icons mgPlayerJSProd_header-icon-preview mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),Fe(i,"aria-label","preview smartTip"),Fe(s,"class","mgPlayerJSProd_guide-view-header-panel-icons-text"),Fe(a,"id","mgPlayerJSProd_guide-play-mode-preview-container"),Fe(a,"class","mgPlayerJSProd_guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),l||(d=$e(i,"click",r[9]),l=!0)},p:Je,d(e){e&&Ee(a),l=!1,d()}}}function on(e){let r=e[4](),a,i=e[5](),o,n=e[6](),s,l=e[7](),d,c=r&&(r=>{let a,i,o,n=ce.svgs.myGuide+"",s,l=r[2](r[0])!==ce.playGuideMe&&!GmCXt.FT.isPlayer&&!r[0].is_published&&!ce.hideMirrorAppCtrl(),d,c=r[2](r[0])===ce.playGuideMe&&GmCXt.FT.creatorApp&&!r[0].is_published,g,m,p,u,h,P=l&&nn(r),y=c&&sn();return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("button"),s=De(),P&&P.c(),d=De(),y&&y.c(),g=De(),(m=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.guideMe,Fe(o,"id","mgPlayerJSProd_btn-tour-action-guideme"),Fe(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-view-header-panel-icons mgPlayerJSProd_header-icon-guideme mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_active-play-mode"),Fe(o,"aria-label","GuideMe"),Re(o,"mgPlayerJSProd_active-play-mode","guideMe"===r[2](r[0])),Fe(i,"class","mgPlayerJSProd_guide-play-mode-wrapper mgPlayerJSProd_position-relative"),Fe(m,"class","mgPlayerJSProd_guide-view-header-panel-icons-text"),Fe(a,"id","mgPlayerJSProd_guide-play-mode-guide-container"),Fe(a,"class",p="mgPlayerJSProd_guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(r[0].is_published?"published-tour":""))},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),o.innerHTML=n,xe(i,s),P&&P.m(i,null),xe(i,d),y&&y.m(i,null),xe(a,g),xe(a,m),u||(h=$e(o,"click",r[10]),u=!0)},p(e,t){5&t&&Re(o,"mgPlayerJSProd_active-play-mode","guideMe"===e[2](e[0])),(l=1&t?e[2](e[0])!==ce.playGuideMe&&!GmCXt.FT.isPlayer&&!e[0].is_published&&!ce.hideMirrorAppCtrl():l)?P?P.p(e,t):((P=nn(e)).c(),P.m(i,d)):P&&(P.d(1),P=null),(c=1&t?e[2](e[0])===ce.playGuideMe&&GmCXt.FT.creatorApp&&!e[0].is_published:c)?y?y.p(e,t):((y=sn()).c(),y.m(i,null)):y&&(y.d(1),y=null),1&t&&p!==(p="mgPlayerJSProd_guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(e[0].is_published?"published-tour":""))&&Fe(a,"class",p)},d(e){e&&Ee(a),P&&P.d(),y&&y.d(),u=!1,h()}}})(e),g=i&&(r=>{let a,i,o,n=ce.svgs.myShow+"",s,l=!(r[2](r[0])===ce.playSlideshow||GmCXt.FT.isPlayer||r[0].is_published||ce.hideMirrorAppCtrl()||ce.isDesktopApp()),d,c=r[2](r[0])===ce.playSlideshow&&GmCXt.FT.creatorApp&&!r[0].is_published,g,m,p,u,h,P=l&&ln(r),y=c&&dn();return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("button"),s=De(),P&&P.c(),d=De(),y&&y.c(),g=De(),(m=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.showMe,Fe(o,"id","mgPlayerJSProd_btn-tour-action-showme"),Fe(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-view-header-panel-icons mgPlayerJSProd_header-icon-showme mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),Re(o,"mgPlayerJSProd_active-play-mode","slideshow"===r[2](r[0])),Fe(i,"class","mgPlayerJSProd_guide-play-mode-wrapper mgPlayerJSProd_position-relative"),Fe(m,"class","mgPlayerJSProd_guide-view-header-panel-icons-text"),Fe(a,"id","mgPlayerJSProd_guide-play-mode-showme-container"),Fe(a,"class",p="mgPlayerJSProd_guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(r[0].is_published?"published-tour":""))},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),o.innerHTML=n,xe(i,s),P&&P.m(i,null),xe(i,d),y&&y.m(i,null),xe(a,g),xe(a,m),u||(h=$e(o,"click",r[12]),u=!0)},p(e,t){5&t&&Re(o,"mgPlayerJSProd_active-play-mode","slideshow"===e[2](e[0])),(l=1&t?!(e[2](e[0])===ce.playSlideshow||GmCXt.FT.isPlayer||e[0].is_published||ce.hideMirrorAppCtrl()||ce.isDesktopApp()):l)?P?P.p(e,t):((P=ln(e)).c(),P.m(i,d)):P&&(P.d(1),P=null),(c=1&t?e[2](e[0])===ce.playSlideshow&&GmCXt.FT.creatorApp&&!e[0].is_published:c)?y?y.p(e,t):((y=dn()).c(),y.m(i,null)):y&&(y.d(1),y=null),1&t&&p!==(p="mgPlayerJSProd_guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(e[0].is_published?"published-tour":""))&&Fe(a,"class",p)},d(e){e&&Ee(a),P&&P.d(),y&&y.d(),u=!1,h()}}})(e),m=n&&(r=>{let a,i,o,n=ce.svgs.myBot+"",s,l=r[2](r[0])!==ce.playAuto&&!GmCXt.FT.isPlayer&&!r[0].is_published&&!ce.hideMirrorAppCtrl(),d,c=r[2](r[0])===ce.playAuto&&GmCXt.FT.creatorApp&&!r[0].is_published,g,m,p,u,h,P=l&&cn(r),y=c&&gn();return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("button"),s=De(),P&&P.c(),d=De(),y&&y.c(),g=De(),(m=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.doItForMe,Fe(o,"id","mgPlayerJSProd_btn-tour-action-doitforme"),Fe(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-view-header-panel-icons mgPlayerJSProd_header-icon-doit mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),Re(o,"mgPlayerJSProd_active-play-mode","doitforme"===r[2](r[0])),Fe(i,"class","mgPlayerJSProd_guide-play-mode-wrapper mgPlayerJSProd_position-relative"),Fe(m,"class","mgPlayerJSProd_guide-view-header-panel-icons-text"),Fe(a,"id","mgPlayerJSProd_guide-play-mode-doitforme-container"),Fe(a,"class",p="mgPlayerJSProd_guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(r[0].is_published?"published-tour":""))},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),o.innerHTML=n,xe(i,s),P&&P.m(i,null),xe(i,d),y&&y.m(i,null),xe(a,g),xe(a,m),u||(h=$e(o,"click",r[14]),u=!0)},p(e,t){5&t&&Re(o,"mgPlayerJSProd_active-play-mode","doitforme"===e[2](e[0])),(l=1&t?e[2](e[0])!==ce.playAuto&&!GmCXt.FT.isPlayer&&!e[0].is_published&&!ce.hideMirrorAppCtrl():l)?P?P.p(e,t):((P=cn(e)).c(),P.m(i,d)):P&&(P.d(1),P=null),(c=1&t?e[2](e[0])===ce.playAuto&&GmCXt.FT.creatorApp&&!e[0].is_published:c)?y?y.p(e,t):((y=gn()).c(),y.m(i,null)):y&&(y.d(1),y=null),1&t&&p!==(p="mgPlayerJSProd_guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(e[0].is_published?"published-tour":""))&&Fe(a,"class",p)},d(e){e&&Ee(a),P&&P.d(),y&&y.d(),u=!1,h()}}})(e),p=l&&(r=>{let a,i,o=ce.svgs.myTest+"",n,s,l,d,c;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.testMe,Fe(i,"id","mgPlayerJSProd_btn-tour-action-testme"),Fe(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-view-header-panel-icons mgPlayerJSProd_header-icon-doit mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),Fe(i,"aria-label","TestMe"),Re(i,"mgPlayerJSProd_active-play-mode","testMe"===r[2](r[0])),Fe(s,"class","mgPlayerJSProd_guide-view-header-panel-icons-text"),Fe(a,"id","mgPlayerJSProd_guide-play-mode-testme-container"),Fe(a,"class",l="mgPlayerJSProd_guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(r[0].is_published?"published-tour":"disabled"))},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),d||(c=$e(i,"click",r[16]),d=!0)},p(e,t){5&t&&Re(i,"mgPlayerJSProd_active-play-mode","testMe"===e[2](e[0])),1&t&&l!==(l="mgPlayerJSProd_guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(e[0].is_published?"published-tour":"disabled"))&&Fe(a,"class",l)},d(e){e&&Ee(a),d=!1,c()}}})(e);return{c(){c&&c.c(),a=De(),g&&g.c(),o=De(),m&&m.c(),s=De(),p&&p.c(),d=I()},m(e,t){c&&c.m(e,t),Le(e,a,t),g&&g.m(e,t),Le(e,o,t),m&&m.m(e,t),Le(e,s,t),p&&p.m(e,t),Le(e,d,t)},p(e,t){r&&c.p(e,t),i&&g.p(e,t),n&&m.p(e,t),l&&p.p(e,t)},d(e){e&&(Ee(a),Ee(o),Ee(s),Ee(d)),c&&c.d(e),g&&g.d(e),m&&m.d(e),p&&p.d(e)}}}function nn(r){let a,i,o;return{c(){Fe(a=Me("input"),"type","radio"),Fe(a,"class","mgPlayerJSProd_input-radio-custom mgPlayerJSProd_opacity mgPlayerJSProd_opacity-2"),Fe(a,"name","mgPlayerJSProd_guide-play-mode")},m(e,t){Le(e,a,t),i||(o=$e(a,"click",r[11]),i=!0)},p:Je,d(e){e&&Ee(a),i=!1,o()}}}function sn(){let r,a,i=GmCXt.svgs.doubleTick+"",o,n,s;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=De(),n=Me("wmgPlayerJSProd_"),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.defaultGuidePlayAction,Fe(s,"class","mgPlayerJSProd_tooltip-title"),Fe(n,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-top-right mgPlayerJSProd_margin-tb-5"),Fe(r,"class","mgPlayerJSProd_selected-mode-tick mgPlayerJSProd_position-relative")},m(e,t){Le(e,r,t),xe(r,a),a.innerHTML=i,xe(r,o),xe(r,n),xe(n,s)},p:Je,d(e){e&&Ee(r)}}}function ln(r){let a,i,o;return{c(){Fe(a=Me("input"),"type","radio"),Fe(a,"class","mgPlayerJSProd_input-radio-custom mgPlayerJSProd_opacity mgPlayerJSProd_opacity-2"),Fe(a,"name","mgPlayerJSProd_guide-play-mode")},m(e,t){Le(e,a,t),i||(o=$e(a,"click",r[13]),i=!0)},p:Je,d(e){e&&Ee(a),i=!1,o()}}}function dn(){let r,a,i=GmCXt.svgs.doubleTick+"",o,n,s;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=De(),n=Me("wmgPlayerJSProd_"),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.defaultGuidePlayAction,Fe(s,"class","mgPlayerJSProd_tooltip-title"),Fe(n,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-top-right mgPlayerJSProd_margin-tb-5"),Fe(r,"class","mgPlayerJSProd_selected-mode-tick mgPlayerJSProd_position-relative")},m(e,t){Le(e,r,t),xe(r,a),a.innerHTML=i,xe(r,o),xe(r,n),xe(n,s)},p:Je,d(e){e&&Ee(r)}}}function cn(r){let a,i,o;return{c(){Fe(a=Me("input"),"type","radio"),Fe(a,"class","mgPlayerJSProd_input-radio-custom mgPlayerJSProd_opacity mgPlayerJSProd_opacity-2"),Fe(a,"name","mgPlayerJSProd_guide-play-mode")},m(e,t){Le(e,a,t),i||(o=$e(a,"click",r[15]),i=!0)},p:Je,d(e){e&&Ee(a),i=!1,o()}}}function gn(){let r,a,i=GmCXt.svgs.doubleTick+"",o,n,s;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=De(),n=Me("wmgPlayerJSProd_"),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.defaultGuidePlayAction,Fe(s,"class","mgPlayerJSProd_tooltip-title"),Fe(n,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-top-right mgPlayerJSProd_margin-tb-5"),Fe(r,"class","mgPlayerJSProd_selected-mode-tick mgPlayerJSProd_position-relative")},m(e,t){Le(e,r,t),xe(r,a),a.innerHTML=i,xe(r,o),xe(r,n),xe(n,s)},p:Je,d(e){e&&Ee(r)}}}function mn(e){let r,a,i=ce.isTooltip(e[0])&&0<e[0].step_count,o,n=!ce.isAnnouncement(e[0]),s,l=i&&an(e),d=n&&on(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),l&&l.c(),o=De(),d&&d.c(),Fe(a,"class",ce.isAiSuggesionSteps?"mgPlayerJSProd_display-none":"mgPlayerJSProd_inline-block-vm"),Fe(r,"class",s="mgPlayerJSProd_guide-view-header-panel-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between "+(e[0].isEditMode?"mgPlayerJSProd_disabled":""))},m(e,t){Le(e,r,t),xe(r,a),l&&l.m(a,null),xe(a,o),d&&d.m(a,null)},p(e,[t]){(i=1&t?ce.isTooltip(e[0])&&0<e[0].step_count:i)?l?l.p(e,t):((l=an(e)).c(),l.m(a,o)):l&&(l.d(1),l=null),(n=1&t?!ce.isAnnouncement(e[0]):n)?d?d.p(e,t):((d=on(e)).c(),d.m(a,null)):d&&(d.d(1),d=null),1&t&&s!==(s="mgPlayerJSProd_guide-view-header-panel-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between "+(e[0].isEditMode?"mgPlayerJSProd_disabled":""))&&Fe(r,"class",s)},i:Je,o:Je,d(e){e&&Ee(r),l&&l.d(),d&&d.d()}}}function pn(e,t,r){let a=de(ge.currentTour),i=ge.currentTour.subscribe(e=>{r(0,a=e)}),o=(pe(()=>{i()}),(e,t,r)=>{if(e.stopPropagation(),"doitforme"===t&&GmCXt.disableDoItForMe)return $.open(ce.labels.doitForMeWarning,"warning"),!1;ce.guideAction(t,r,a,de(ge.CurrentPage),"")});let n=()=>{var e=de(ge.currentTour);GmCXt.isHowToGuide(e)||(e.steps.filter(function(e){return"inline"===e.step_type}).length?new va({target:document.body,props:{showTestMe:!0,tour:e}}):ce.showPopup(ce.labels.noInappStepInGuide))};function s(){(e=JSON.parse(JSON.stringify(a))).is_published=!0;var e={action:"mgPlayerJSProd_action:preview_smarttip",data:[e]};GmCXt.handlePreviewTooltip(e)}me(()=>{GmCXt.isPlayer()&&ce.bindPlayerTheme()});return[a,o,e=>{let t=e.tour_settings.defaultPlayAction;return"Default"===t&&(t=GmCXt.getAppSetting("defaultPlayAction")),t=GmCXt.isHowToGuide(e)?ce.playSlideshow:t},n,()=>{var e=de(ge.currentTour);if(!e||GmCXt.isHowToGuide(e))return!1;var t=ce.existsOrUndefined(GmCXt.getAppSetting("guideMeSetting"));let r=!0;var a=GmCXt.createDeepCopy(e.tour_settings);void 0!==a.defaultPlayAction&&"Default"!==a.defaultPlayAction||(a.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(r=a.defaultPlayAction===ce.playGuideMe||a.defaultPlayAction===ce.playSlideshow&&ce.enableGuidemeMode);let i=GmCXt.isGuide(e)&&!ce.isDesktopGuide(e)&&!ce.isMobileGuide(e);return!!((i=window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer?GmCXt.isGuide(e)&&ce.isDesktopGuide(e)&&!ce.isMobileGuide(e):i)&&t&&r)},()=>{var e=de(ge.currentTour);if(ce.isOnlySurveyGuide(e))return!1;var t,r=ce.existsOrUndefined(GmCXt.getAppSetting("showMeSetting"));let a=!0;return ce.isDesktopApp()?a:(void 0!==(t=GmCXt.createDeepCopy(e.tour_settings)).defaultPlayAction&&"Default"!==t.defaultPlayAction||(t.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(a=t.defaultPlayAction===ce.playGuideMe||t.defaultPlayAction===ce.playSlideshow),t=GmCXt.isGuide(e)||ce.isCADGuide(e)||ce.isDesktopGuide(e)||ce.isMobileGuide(e)||GmCXt.isOnboarding(e)||GmCXt.isHowToGuide(e),GmCXt.FT.showMe&&r&&a&&t)},()=>{var e=de(ge.currentTour);if(ce.isOnlySurveyGuide(e)||GmCXt.isHowToGuide(e))return!1;let t=!0;var r=GmCXt.createDeepCopy(e.tour_settings);return void 0!==r.defaultPlayAction&&"Default"!==r.defaultPlayAction||(r.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(t=r.defaultPlayAction===ce.playAuto),ce._doitforme&&!ce.isCADGuide(e)&&GmCXt.isGuide(e)&&!ce.isDesktopGuide(e)&&!ce.isMobileGuide(e)&&t},()=>{var e=de(ge.currentTour);if(ce.isOnlySurveyGuide(e)||GmCXt.isHowToGuide(e))return!1;var t=ce.existsOrUndefined(GmCXt.getAppSetting("testMeSetting"));let r=!0;var a=GmCXt.createDeepCopy(e.tour_settings),a=(void 0!==a.defaultPlayAction&&"Default"!==a.defaultPlayAction||(a.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(r=a.defaultPlayAction===ce.playGuideMe),GmCXt.isGuide(e)&&!ce.isDesktopGuide(e)&&!ce.isMobileGuide(e)&&!GmCXt.containBranchStep(e));return GmCXt.FT.testme&&t&&r&&a},s,()=>s(),e=>o(e,"",""),()=>{r(0,a.tour_settings.defaultPlayAction="guideMe",a),ce.updateTourData(a)},e=>o(e,"slideshow"),()=>{r(0,a.tour_settings.defaultPlayAction="slideshow",a),ce.updateTourData(a)},e=>o(e,"doitforme"),()=>{r(0,a.tour_settings.defaultPlayAction="doitforme",a),ce.updateTourData(a)},e=>n()]}class un extends e{constructor(e){super(),t(this,e,pn,mn,d,{})}}function hn(e){a(e,"svelte-hv9a3t",".mgPlayerJSProd_tg-img.svelte-hv9a3t{width:100%;height:100%}")}function Pn(r){let a,i,o,n,s,l,d,c=[_n,yn],g=[];function m(e,t){return(i=null==(i=2&t[0]?null:i)?!!GmCXt.isOnboarding(e[1]):i)?0:1}return o=m(r,[-1,-1]),n=g[o]=c[o](r),{c(){a=Me("wmgPlayerJSProd_"),n.c()},m(e,t){Le(e,a,t),g[o].m(a,null),s=!0,l||(d=$e(a,"click",r[10]),l=!0)},p(e,t){let r=o;(o=m(e,t))===r?g[o].p(e,t):(He(),Ve(g[r],1,1,()=>{g[r]=null}),Ne(),(n=g[o])?n.p(e,t):(n=g[o]=c[o](e)).c(),Be(n,1),n.m(a,null))},i(e){s||(Be(n),s=!0)},o(e){Ve(n),s=!1},d(e){e&&Ee(a),g[o].d(),l=!1,d()}}}function yn(e){let a,i,r,o,n,s,l,d,c,g=[Cn,fn,Sn],m=[];function p(e,t){return(r=null==(r=3&t[0]?null:r)?!(!ce.isTrackingGuide(e[1])||(e[0].isEdit||e[0].isCreation)&&e[1].isEditMode):r)?0:(e[0].isEdit||e[0].isCreation)&&e[1].isEditMode?(e[0].isEdit||e[0].isCreation)&&e[1].isEditMode?2:-1:1}return~(o=p(e,[-1,-1]))&&(n=m[o]=g[o](e)),{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n&&n.c(),Fe(i,"id",s="mgPlayerJSProd_step-"+e[0].step_id),Fe(i,"class",l="mgPlayerJSProd_ege-inline-block-vt mgPlayerJSProd_step-title-description-wrapper "+(e[0].isEdit||e[0].isCreation?"mgPlayerJSProd_step-add-edit-view":"")+" "+("fail"===e[4]?"mgPlayerJSProd_step-failed-view":"")+" "+(ce.isTrackingGuide(e[1])?"mgPlayerJSProd_feature-tag-step-wrapper":"")),Fe(a,"class",d="mgPlayerJSProd_step-item "+(ce.showBranchView(e[1])?"mgPlayerJSProd_branch-step-add-wrapper":"")),Re(a,"mgPlayerJSProd_disabled",e[5]===GmCXt.STEP_EDIT_OPERATION&&!e[0].isEdit)},m(e,t){Le(e,a,t),xe(a,i),~o&&m[o].m(i,null),c=!0},p(e,t){let r=o;(o=p(e,t))===r?~o&&m[o].p(e,t):(n&&(He(),Ve(m[r],1,1,()=>{m[r]=null}),Ne()),~o?((n=m[o])?n.p(e,t):(n=m[o]=g[o](e)).c(),Be(n,1),n.m(i,null)):n=null),(!c||1&t[0]&&s!==(s="mgPlayerJSProd_step-"+e[0].step_id))&&Fe(i,"id",s),(!c||19&t[0]&&l!==(l="mgPlayerJSProd_ege-inline-block-vt mgPlayerJSProd_step-title-description-wrapper "+(e[0].isEdit||e[0].isCreation?"mgPlayerJSProd_step-add-edit-view":"")+" "+("fail"===e[4]?"mgPlayerJSProd_step-failed-view":"")+" "+(ce.isTrackingGuide(e[1])?"mgPlayerJSProd_feature-tag-step-wrapper":"")))&&Fe(i,"class",l),(!c||2&t[0]&&d!==(d="mgPlayerJSProd_step-item "+(ce.showBranchView(e[1])?"mgPlayerJSProd_branch-step-add-wrapper":"")))&&Fe(a,"class",d),(!c||35&t[0])&&Re(a,"mgPlayerJSProd_disabled",e[5]===GmCXt.STEP_EDIT_OPERATION&&!e[0].isEdit)},i(e){c||(Be(n),c=!0)},o(e){Ve(n),c=!1},d(e){e&&Ee(a),~o&&m[o].d()}}}function _n(e){let r,a,i=e[2]+1+"",o,n,s,l,d=GmCXt.FT.creatorApp&&ce.hasTourAccess(e[1])&&!ce.hideMirrorAppCtrl()&&!ce.isAnnouncement(e[1])&&!ce.isUploadTutorial(e[1])&&!(e[1]?.is_published&&"video"==e[0].step_type),c,g=0<e[0].step_video||-1==e[0].screen_url.indexOf("default_icon"),m,p=ce.isUploadTutorial(e[1]),u,h,P=gs(e[0])+"",y,_,S,f=!ce.isAnnouncement(e[1]),C,b=!ce.hideMirrorAppCtrl()&&!ce.isAnnouncement(e[1])&&!ce.isUploadTutorial(e[1]),v,w=d&&es(e),J=g&&as(e),G=p&&ns(),A=f&&ss(e),T=b&&ls(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),s=Me("dnd-nodrag"),l=Me("wmgPlayerJSProd_"),w&&w.c(),c=De(),J&&J.c(),m=De(),G&&G.c(),u=De(),h=Me("wmgPlayerJSProd_"),_=De(),S=Me("wmgPlayerJSProd_"),A&&A.c(),C=De(),T&&T.c(),Fe(a,"class","mgPlayerJSProd_font-size-15 mgPlayerJSProd_font-weight-550"),Fe(l,"class","mgPlayerJSProd_tg-btn-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),ee(s,"class","mgPlayerJSProd_dnd-nodrag-inline-block mgPlayerJSProd_step-action-menu-wrapper"),Fe(r,"class","mgPlayerJSProd_tg-view-header mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_padding-20"),Fe(h,"class",y="mgPlayerJSProd_tg-content-wrapper "+(0==e[0].step_video&&0<=e[0].screen_url.indexOf("default_icon")?"mgPlayerJSProd_min-tg-content-wrapper":"")),Fe(S,"class","mgPlayerJSProd_step-overlay")},m(e,t){Le(e,r,t),xe(r,a),xe(a,o),xe(r,n),xe(r,s),xe(s,l),w&&w.m(l,null),Le(e,c,t),J&&J.m(e,t),Le(e,m,t),G&&G.m(e,t),Le(e,u,t),Le(e,h,t),h.innerHTML=P,Le(e,_,t),Le(e,S,t),A&&A.m(S,null),xe(S,C),T&&T.m(S,null),v=!0},p(e,t){(!v||4&t[0])&&i!==(i=e[2]+1+"")&&Oe(o,i),(d=3&t[0]?GmCXt.FT.creatorApp&&ce.hasTourAccess(e[1])&&!ce.hideMirrorAppCtrl()&&!ce.isAnnouncement(e[1])&&!ce.isUploadTutorial(e[1])&&!(e[1]?.is_published&&"video"==e[0].step_type):d)?w?w.p(e,t):((w=es(e)).c(),w.m(l,null)):w&&(w.d(1),w=null),(g=1&t[0]?0<e[0].step_video||-1==e[0].screen_url.indexOf("default_icon"):g)?J?J.p(e,t):((J=as(e)).c(),J.m(m.parentNode,m)):J&&(J.d(1),J=null),(p=2&t[0]?ce.isUploadTutorial(e[1]):p)?G||((G=ns()).c(),G.m(u.parentNode,u)):G&&(G.d(1),G=null),(!v||1&t[0])&&P!==(P=gs(e[0])+"")&&(h.innerHTML=P),(!v||1&t[0]&&y!==(y="mgPlayerJSProd_tg-content-wrapper "+(0==e[0].step_video&&0<=e[0].screen_url.indexOf("default_icon")?"mgPlayerJSProd_min-tg-content-wrapper":"")))&&Fe(h,"class",y),(f=2&t[0]?!ce.isAnnouncement(e[1]):f)?A?A.p(e,t):((A=ss(e)).c(),A.m(S,C)):A&&(A.d(1),A=null),(b=2&t[0]?!ce.hideMirrorAppCtrl()&&!ce.isAnnouncement(e[1])&&!ce.isUploadTutorial(e[1]):b)?T?(T.p(e,t),2&t[0]&&Be(T,1)):((T=ls(e)).c(),Be(T,1),T.m(S,null)):T&&(He(),Ve(T,1,1,()=>{T=null}),Ne())},i(e){v||(Be(T),v=!0)},o(e){Ve(T),v=!1},d(e){e&&(Ee(r),Ee(c),Ee(m),Ee(u),Ee(h),Ee(_),Ee(S)),w&&w.d(),J&&J.d(e),G&&G.d(e),A&&A.d(),T&&T.d()}}}function Sn(e){let a,i,o,r,n=[Gn,Jn,wn,vn,bn],s=[];function l(e){return e[0].step_type===GmCXt.STEP_TYPE_INLINE?0:e[0].step_type===GmCXt.STEP_TYPE_MESSAGE?1:e[0].step_type===GmCXt.STEP_TYPE_IMAGE?2:e[0].step_type===GmCXt.STEP_TYPE_SMART_TIP?3:e[0].step_type===GmCXt.STEP_TYPE_TAG?4:-1}return~(a=l(e))&&(i=s[a]=n[a](e)),{c(){i&&i.c(),o=I()},m(e,t){~a&&s[a].m(e,t),Le(e,o,t),r=!0},p(e,t){let r=a;(a=l(e))===r?~a&&s[a].p(e,t):(i&&(He(),Ve(s[r],1,1,()=>{s[r]=null}),Ne()),~a?((i=s[a])?i.p(e,t):(i=s[a]=n[a](e)).c(),Be(i,1),i.m(o.parentNode,o)):i=null)},i(e){r||(Be(i),r=!0)},o(e){Ve(i),r=!1},d(e){e&&Ee(o),~a&&s[a].d(e)}}}function fn(r){let a,i,o,n,s=r[2]+1+"",l,d,c=1<r[1].filteredSteps.length&&!r[1]?.is_published&&ce.hasTourAccess(r[1])&&!r[0].step_screen_temp&&!ce.isDesktopApp()&&!ce.hideMirrorAppCtrl()&&!r[1].isEditMode,g,m=0<r[1].filteredSteps.length&&ce.isTooltip(r[1]),p,u,h=GmCXt.truncate(GmCXt.htmlToPlaintext(r[0].step_title),140)+"",F,P,y,_=GmCXt.truncate(GmCXt.htmlToPlaintext(r[0].step_description),150)+"",S,f,C,b,v,w=r[5]===GmCXt.STEP_VIEW_OPERATION&&ce.isUserLoggedIn()&&GmCXt.FT.creatorApp&&ce.hasTourAccess(r[1])&&!ce.hideMirrorAppCtrl()&&!(r[1]?.is_published&&"video"===r[0].step_type),J,G,A,T,X,k,O,x=r[0].step_settings?.startPoint&&An(),L=c&&Tn(),E=m&&Xn(r);function R(e,t){return(C=null==(C=2&t[0]?null:C)?!!GmCXt.isOnboarding(e[1]):C)?Ln:e[0].step_type===GmCXt.STEP_TYPE_VIDEO?xn:kn}let M=R(r,[-1,-1]),I=M(r),D=w&&Dn(r),$=r[5]===GmCXt.STEP_VIEW_OPERATION&&Vn(r);return{c(){a=Me("wmgPlayerJSProd_"),x&&x.c(),i=De(),o=Me("dnd-nodrag"),n=Me("wmgPlayerJSProd_"),l=Ie(s),d=De(),L&&L.c(),g=De(),E&&E.c(),p=De(),u=Me("wmgPlayerJSProd_"),F=De(),P=Me("dnd-nodrag"),y=Me("wmgPlayerJSProd_"),S=De(),f=Me("wmgPlayerJSProd_"),I.c(),b=De(),v=Me("dnd-nodrag"),D&&D.c(),J=De(),G=Me("wmgPlayerJSProd_"),A=Me("dnd-nodrag"),T=Me("wmgPlayerJSProd_"),$&&$.c(),Fe(n,"class","mgPlayerJSProd_span mgPlayerJSProd_step-index"),Fe(u,"class","mgPlayerJSProd_span mgPlayerJSProd_align-items-center"),ee(o,"class","mgPlayerJSProd_ege-inline-block-vt mgPlayerJSProd_width-100"),Fe(y,"class","mgPlayerJSProd_step-view-description-wrapper"),ee(P,"class","mgPlayerJSProd_dnd-nodrag-block mgPlayerJSProd_ege-inline-block-vt mgPlayerJSProd_width-100"),Fe(a,"class","mgPlayerJSProd_ege-inline-block-vt mgPlayerJSProd_step-title-wrapper mgPlayerJSProd_align-items-center"),Fe(f,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_step-image-wrapper mgPlayerJSProd_step-image-wrapper-head"),ee(v,"class","mgPlayerJSProd_dnd-nodrag-inline-block mgPlayerJSProd_step-action-menu-wrapper"),Fe(T,"class","mgPlayerJSProd_step-image-wrapper mgPlayerJSProd_width-100"),ee(A,"class","mgPlayerJSProd_dnd-nodrag-block"),Fe(G,"class","mgPlayerJSProd_dnd-nodrag-block")},m(e,t){Le(e,a,t),x&&x.m(a,null),xe(a,i),xe(a,o),xe(o,n),xe(n,l),xe(o,d),L&&L.m(o,null),xe(o,g),E&&E.m(o,null),xe(o,p),xe(o,u),u.innerHTML=h,xe(a,F),xe(a,P),xe(P,y),y.innerHTML=_,Le(e,S,t),Le(e,f,t),I.m(f,null),Le(e,b,t),Le(e,v,t),D&&D.m(v,null),Le(e,J,t),Le(e,G,t),xe(G,A),xe(A,T),$&&$.m(T,null),X=!0,k||(O=[$e(a,"click",function(){Y(r[1].isEditMode||r[0].isEdit&&r[0].isCreation?"":r[26])&&(r[1].isEditMode||r[0].isEdit&&r[0].isCreation?"":r[26]).apply(this,arguments)}),$e(f,"click",function(){Y(r[1].isEditMode||r[0].isEdit&&r[0].isCreation?"":r[27])&&(r[1].isEditMode||r[0].isEdit&&r[0].isCreation?"":r[27]).apply(this,arguments)})],k=!0)},p(e,t){(r=e)[0].step_settings?.startPoint?x||((x=An()).c(),x.m(a,i)):x&&(x.d(1),x=null),(!X||4&t[0])&&s!==(s=r[2]+1+"")&&Oe(l,s),(c=3&t[0]?1<r[1].filteredSteps.length&&!r[1]?.is_published&&ce.hasTourAccess(r[1])&&!r[0].step_screen_temp&&!ce.isDesktopApp()&&!ce.hideMirrorAppCtrl()&&!r[1].isEditMode:c)?L||((L=Tn()).c(),L.m(o,g)):L&&(L.d(1),L=null),(m=2&t[0]?0<r[1].filteredSteps.length&&ce.isTooltip(r[1]):m)?E?E.p(r,t):((E=Xn(r)).c(),E.m(o,p)):E&&(E.d(1),E=null),(!X||1&t[0])&&h!==(h=GmCXt.truncate(GmCXt.htmlToPlaintext(r[0].step_title),140)+"")&&(u.innerHTML=h),(!X||1&t[0])&&_!==(_=GmCXt.truncate(GmCXt.htmlToPlaintext(r[0].step_description),150)+"")&&(y.innerHTML=_),M===(M=R(r,t))&&I?I.p(r,t):(I.d(1),(I=M(r))&&(I.c(),I.m(f,null))),(w=35&t[0]?r[5]===GmCXt.STEP_VIEW_OPERATION&&ce.isUserLoggedIn()&&GmCXt.FT.creatorApp&&ce.hasTourAccess(r[1])&&!ce.hideMirrorAppCtrl()&&!(r[1]?.is_published&&"video"===r[0].step_type):w)?D?D.p(r,t):((D=Dn(r)).c(),D.m(v,null)):D&&(D.d(1),D=null),r[5]===GmCXt.STEP_VIEW_OPERATION?$?($.p(r,t),32&t[0]&&Be($,1)):(($=Vn(r)).c(),Be($,1),$.m(T,null)):$&&(He(),Ve($,1,1,()=>{$=null}),Ne())},i(e){X||(Be($),X=!0)},o(e){Ve($),X=!1},d(e){e&&(Ee(a),Ee(S),Ee(f),Ee(b),Ee(v),Ee(J),Ee(G)),x&&x.d(),L&&L.d(),E&&E.d(),I.d(),D&&D.d(),$&&$.d(),k=!1,ke(O)}}}function Cn(e){let r,a,i,o,n=ce.svgs.iconAddStepInline+"",s,l,d=ce.svgs.endTracking+"",c,g,m=ce.svgs.terminate+"",p,u,h=ce.svgs.captureEvents+"",P,y,_,S,f,C=e[5]===GmCXt.STEP_VIEW_OPERATION&&ce.isUserLoggedIn()&&GmCXt.FT.creatorApp&&ce.hasTourAccess(e[1])&&!ce.hideMirrorAppCtrl()&&!(e[1]?.is_published&&"video"==e[0].step_type),b,v,w=e[7](),J,G="smartTip"!==!e[0].step_type&&Un(e),A=C&&jn(e),T=w&&(e=>{let r,a,i=e[8](e[0])&&!e[1]?.is_published,o,n,s,l,d,c=i&&qn(e),g=e[0].step_screen_temp&&Yn(e),m=e[0].previewImage&&Kn(e),p=e[0].image_url&&Qn(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),c&&c.c(),o=De(),g&&g.c(),n=De(),m&&m.c(),s=De(),p&&p.c(),Fe(a,"class","mgPlayerJSProd_step-image-overlay"),Fe(r,"class",l="mgPlayerJSProd_step-image-wrapper "+("tag"===e[0].step_type?"mgPlayerJSProd_tag-step-img-wrapper":""))},m(e,t){Le(e,r,t),xe(r,a),c&&c.m(a,null),xe(r,o),g&&g.m(r,null),xe(r,n),m&&m.m(r,null),xe(r,s),p&&p.m(r,null),d=!0},p(e,t){(i=3&t[0]?e[8](e[0])&&!e[1]?.is_published:i)?c?(c.p(e,t),3&t[0]&&Be(c,1)):((c=qn(e)).c(),Be(c,1),c.m(a,null)):c&&(He(),Ve(c,1,1,()=>{c=null}),Ne()),e[0].step_screen_temp?g?g.p(e,t):((g=Yn(e)).c(),g.m(r,n)):g&&(g.d(1),g=null),e[0].previewImage?m?m.p(e,t):((m=Kn(e)).c(),m.m(r,s)):m&&(m.d(1),m=null),e[0].image_url?p?p.p(e,t):((p=Qn(e)).c(),p.m(r,null)):p&&(p.d(1),p=null),(!d||1&t[0]&&l!==(l="mgPlayerJSProd_step-image-wrapper "+("tag"===e[0].step_type?"mgPlayerJSProd_tag-step-img-wrapper":"")))&&Fe(r,"class",l)},i(e){d||(Be(c),d=!0)},o(e){Ve(c),d=!1},d(e){e&&Ee(r),c&&c.d(),g&&g.d(),m&&m.d(),p&&p.d()}}})(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("dnd-nodrag"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),s=De(),l=Me("wmgPlayerJSProd_"),c=De(),g=Me("wmgPlayerJSProd_"),p=De(),u=Me("wmgPlayerJSProd_"),P=De(),y=Me("dnd-nodrag"),_=Ie("Â \n\t\t\t\t\t\t\t\t"),G&&G.c(),S=De(),f=Me("dnd-nodrag"),A&&A.c(),b=De(),v=Me("dnd-nodrag"),T&&T.c(),Ae(o,"display",e[0].step_settings&&"start"===e[0].step_settings.trackerType?"":"none"),Fe(o,"class","mgPlayerJSProd_inline-block-vm"),Ae(l,"display",e[0].step_settings&&"cancel"===e[0].step_settings.trackerType?"":"none"),Fe(l,"class","mgPlayerJSProd_inline-block-vm"),Ae(g,"display",e[0].step_settings&&"end"===e[0].step_settings.trackerType?"":"none"),Fe(g,"class","mgPlayerJSProd_inline-block-vm"),Ae(u,"display","tag"===e[0].step_type?"":"none"),Fe(u,"class","mgPlayerJSProd_inline-block-vm"),Fe(i,"class","mgPlayerJSProd_icon-step-insights mgPlayerJSProd_inline-block-vm"),ee(a,"class","mgPlayerJSProd_dnd-nodrag-inline-block"),ee(y,"class","mgPlayerJSProd_dnd-nodrag-inline-block"),Fe(r,"class","mgPlayerJSProd_ege-inline-block-vt mgPlayerJSProd_step-title-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center"),ee(f,"class","mgPlayerJSProd_dnd-nodrag-inline-block mgPlayerJSProd_step-action-menu-wrapper"),ee(v,"class","mgPlayerJSProd_dnd-nodrag-block")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),xe(i,o),o.innerHTML=n,xe(i,s),xe(i,l),l.innerHTML=d,xe(i,c),xe(i,g),g.innerHTML=m,xe(i,p),xe(i,u),u.innerHTML=h,xe(r,P),xe(r,y),xe(y,_),G&&G.m(y,null),Le(e,S,t),Le(e,f,t),A&&A.m(f,null),Le(e,b,t),Le(e,v,t),T&&T.m(v,null),J=!0},p(e,t){(!J||1&t[0])&&Ae(o,"display",e[0].step_settings&&"start"===e[0].step_settings.trackerType?"":"none"),(!J||1&t[0])&&Ae(l,"display",e[0].step_settings&&"cancel"===e[0].step_settings.trackerType?"":"none"),(!J||1&t[0])&&Ae(g,"display",e[0].step_settings&&"end"===e[0].step_settings.trackerType?"":"none"),(!J||1&t[0])&&Ae(u,"display","tag"===e[0].step_type?"":"none"),"smartTip"!==!e[0].step_type?G?G.p(e,t):((G=Un(e)).c(),G.m(y,null)):G&&(G.d(1),G=null),(C=35&t[0]?e[5]===GmCXt.STEP_VIEW_OPERATION&&ce.isUserLoggedIn()&&GmCXt.FT.creatorApp&&ce.hasTourAccess(e[1])&&!ce.hideMirrorAppCtrl()&&!(e[1]?.is_published&&"video"==e[0].step_type):C)?A?A.p(e,t):((A=jn(e)).c(),A.m(f,null)):A&&(A.d(1),A=null),w&&T.p(e,t)},i(e){J||(Be(T),J=!0)},o(e){Ve(T),J=!1},d(e){e&&(Ee(r),Ee(S),Ee(f),Ee(b),Ee(v)),G&&G.d(),A&&A.d(),T&&T.d()}}}function bn(t){let a,i,r;function e(e){t[40](e)}var o={index:t[2],imageStatus:t[4]};return void 0!==t[0]&&(o.step=t[0]),a=new Nr({props:o}),ue.push(()=>j(a,"step",e)),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};4&t[0]&&(r.index=e[2]),16&t[0]&&(r.imageStatus=e[4]),!i&&1&t[0]&&(i=!0,r.step=e[0],U(()=>i=!1)),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){je(a,e)}}}function vn(t){let a,i,r;function e(e){t[39](e)}var o={index:t[2],imageStatus:t[4]};return void 0!==t[0]&&(o.step=t[0]),a=new Nr({props:o}),ue.push(()=>j(a,"step",e)),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};4&t[0]&&(r.index=e[2]),16&t[0]&&(r.imageStatus=e[4]),!i&&1&t[0]&&(i=!0,r.step=e[0],U(()=>i=!1)),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){je(a,e)}}}function wn(t){let a,i,r;function e(e){t[38](e)}var o={index:t[2],imageStatus:t[4]};return void 0!==t[0]&&(o.step=t[0]),a=new Nr({props:o}),ue.push(()=>j(a,"step",e)),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};4&t[0]&&(r.index=e[2]),16&t[0]&&(r.imageStatus=e[4]),!i&&1&t[0]&&(i=!0,r.step=e[0],U(()=>i=!1)),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){je(a,e)}}}function Jn(t){let a,i,r;function e(e){t[37](e)}var o={index:t[2],imageStatus:t[4]};return void 0!==t[0]&&(o.step=t[0]),a=new Nr({props:o}),ue.push(()=>j(a,"step",e)),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};4&t[0]&&(r.index=e[2]),16&t[0]&&(r.imageStatus=e[4]),!i&&1&t[0]&&(i=!0,r.step=e[0],U(()=>i=!1)),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){je(a,e)}}}function Gn(t){let a,i,r;function e(e){t[36](e)}var o={index:t[2],imageStatus:t[4]};return void 0!==t[0]&&(o.step=t[0]),a=new Nr({props:o}),ue.push(()=>j(a,"step",e)),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};4&t[0]&&(r.index=e[2]),16&t[0]&&(r.imageStatus=e[4]),!i&&1&t[0]&&(i=!0,r.step=e[0],U(()=>i=!1)),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){je(a,e)}}}function An(){let r,a=ce.svgs.startPoint+"";return{c(){r=Me("wmgPlayerJSProd_")},m(e,t){Le(e,r,t),r.innerHTML=a},d(e){e&&Ee(r)}}}function Tn(){let r,a=ce.svgs.dragStep+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_drag-step-icon-wrapper")},m(e,t){Le(e,r,t),r.innerHTML=a},d(e){e&&Ee(r)}}}function Xn(e){let r,a=e[11](e[0].step_settings.smartTip.type)+"",i;return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class",i="mgPlayerJSProd_tooltip-type-icon-wrapper "+(1===e[1].filteredSteps.length||e[1].isEditMode?"mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex":""))},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t[0]&&a!==(a=e[11](e[0].step_settings.smartTip.type)+"")&&(r.innerHTML=a),2&t[0]&&i!==(i="mgPlayerJSProd_tooltip-type-icon-wrapper "+(1===e[1].filteredSteps.length||e[1].isEditMode?"mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex":""))&&Fe(r,"class",i)},d(e){e&&Ee(r)}}}function kn(e){let r,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_step-image mgPlayerJSProd_custom-image"),Q(r.src,a=e[0].step_screen_temp||e[0].preview_image||e[3])||Fe(r,"src",a),Fe(r,"alt",ce.staticContentPath+"technology.jpg")},m(e,t){Le(e,r,t)},p(e,t){9&t[0]&&!Q(r.src,a=e[0].step_screen_temp||e[0].preview_image||e[3])&&Fe(r,"src",a)},d(e){e&&Ee(r)}}}function xn(e){let r,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_step-image mgPlayerJSProd_custom-image"),Q(r.src,a=e[0].image_url?e[3]:e[0].step_screen_temp)||Fe(r,"src",a),Fe(r,"alt",ce.staticContentPath+"technology.jpg")},m(e,t){Le(e,r,t)},p(e,t){9&t[0]&&!Q(r.src,a=e[0].image_url?e[3]:e[0].step_screen_temp)&&Fe(r,"src",a)},d(e){e&&Ee(r)}}}function Ln(e){let r;function a(e){return"upload"===e[1].tour_settings.tutorial_tour_type?In:0==e[0].step_video?Mn:0!=e[0].step_video?En:void 0}let i=a(e),o=i&&i(e);return{c(){o&&o.c(),r=I()},m(e,t){o&&o.m(e,t),Le(e,r,t)},p(e,t){i===(i=a(e))&&o?o.p(e,t):(o&&o.d(1),(o=i&&i(e))&&(o.c(),o.m(r.parentNode,r)))},d(e){e&&Ee(r),o&&o.d(e)}}}function En(e){let r,a,i;return{c(){r=Me("video"),Q((a=Me("source")).src,i=e[0].step_screen_temp||e[3])||Fe(a,"src",i),Fe(a,"type","video/mp4"),Fe(r,"class","mgPlayerJSProd_tg-img svelte-hv9a3t"),r.controls=!0,Fe(r,"controlslist","nodownload"),Fe(r,"disablepictureinpicture",""),r.muted=!0},m(e,t){Le(e,r,t),xe(r,a)},p(e,t){9&t[0]&&!Q(a.src,i=e[0].step_screen_temp||e[3])&&Fe(a,"src",i)},d(e){e&&Ee(r)}}}function Mn(e){let r,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_step-image mgPlayerJSProd_custom-image"),Ae(r,"object-fit","contain"),Ae(r,"height","250px"),Q(r.src,a=e[0].step_screen_temp||e[0].preview_image||e[3])||Fe(r,"src",a),Fe(r,"alt",ce.staticContentPath+"technology.jpg")},m(e,t){Le(e,r,t)},p(e,t){9&t[0]&&!Q(r.src,a=e[0].step_screen_temp||e[0].preview_image||e[3])&&Fe(r,"src",a)},d(e){e&&Ee(r)}}}function In(e){let r,a=ce.svgs.pdf+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_document-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_margin-lr-10")},m(e,t){Le(e,r,t),r.innerHTML=a},p:Je,d(e){e&&Ee(r)}}}function Dn(r){let a,i,o,n,s,l="image"!==r[0].step_type&&"video"!==r[0].step_type&&"guide"!==r[0].step_type&&!ce.isDesktopGuide(r[1])&&!ce.isMobileGuide(r[1])&&!ce.isElectron,d,c=!GmCXt.isOnboarding(r[1]),g,m=!GmCXt.isOnboarding(r[1])&&ce.isOwnerOrAppAdmin()&&"inline"===r[0].step_type,p,u,h,P,y=ce.svgs.historyIcon+"",_,S,f,C,b,v,w,J,G,A=!("video"===r[0].step_type&&r[1]?.is_published)&&$n(r),T=!r[1]?.is_published&&"guide"!==r[0].step_type&&Fn(r),X=!r[1]?.is_published&&"inline"===r[0].step_type&&"guide"!==r[0].step_type&&On(r),k=l&&Rn(r),x=c&&Hn(r),L=m&&Nn(r),E=!r[1]?.is_published&&Bn(r);return{c(){a=Me("wmgPlayerJSProd_"),A&&A.c(),i=De(),o=Me("wmgPlayerJSProd_"),T&&T.c(),n=De(),X&&X.c(),s=De(),k&&k.c(),d=De(),x&&x.c(),g=De(),L&&L.c(),p=De(),E&&E.c(),u=De(),h=Me("wmgPlayerJSProd_"),P=Me("wmgPlayerJSProd_"),_=De(),(S=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.history,b=De(),v=Me("wmgPlayerJSProd_"),Fe(P,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(S,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(h,"id",f="mgPlayerJSProd_option-step-history-"+r[0].step_id),Fe(h,"class",C="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),Fe(v,"class","mgPlayerJSProd_horizontal-line"),Fe(o,"id",w="mgPlayerJSProd_step-menu-options-"+r[0].step_id),Fe(o,"class","mgPlayerJSProd_step-action-menu-options-dropdown"),Fe(a,"class","mgPlayerJSProd_step-action-menu-container mgPlayerJSProd_step-action-menu-container-head")},m(e,t){Le(e,a,t),A&&A.m(a,null),xe(a,i),xe(a,o),T&&T.m(o,null),xe(o,n),X&&X.m(o,null),xe(o,s),k&&k.m(o,null),xe(o,d),x&&x.m(o,null),xe(o,g),L&&L.m(o,null),xe(o,p),E&&E.m(o,null),xe(o,u),xe(o,h),xe(h,P),P.innerHTML=y,xe(h,_),xe(h,S),xe(o,b),xe(o,v),J||(G=$e(h,"click",r[35]),J=!0)},p(e,t){"video"===e[0].step_type&&e[1]?.is_published?A&&(A.d(1),A=null):A?A.p(e,t):((A=$n(e)).c(),A.m(a,i)),e[1]?.is_published||"guide"===e[0].step_type?T&&(T.d(1),T=null):T?T.p(e,t):((T=Fn(e)).c(),T.m(o,n)),e[1]?.is_published||"inline"!==e[0].step_type||"guide"===e[0].step_type?X&&(X.d(1),X=null):X?X.p(e,t):((X=On(e)).c(),X.m(o,s)),(l=3&t[0]?"image"!==e[0].step_type&&"video"!==e[0].step_type&&"guide"!==e[0].step_type&&!ce.isDesktopGuide(e[1])&&!ce.isMobileGuide(e[1])&&!ce.isElectron:l)?k?k.p(e,t):((k=Rn(e)).c(),k.m(o,d)):k&&(k.d(1),k=null),(c=2&t[0]?!GmCXt.isOnboarding(e[1]):c)?x?x.p(e,t):((x=Hn(e)).c(),x.m(o,g)):x&&(x.d(1),x=null),(m=3&t[0]?!GmCXt.isOnboarding(e[1])&&ce.isOwnerOrAppAdmin()&&"inline"===e[0].step_type:m)?L?L.p(e,t):((L=Nn(e)).c(),L.m(o,p)):L&&(L.d(1),L=null),e[1]?.is_published?E&&(E.d(1),E=null):E?E.p(e,t):((E=Bn(e)).c(),E.m(o,u)),1&t[0]&&f!==(f="mgPlayerJSProd_option-step-history-"+e[0].step_id)&&Fe(h,"id",f),1&t[0]&&C!==(C="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(h,"class",C),1&t[0]&&w!==(w="mgPlayerJSProd_step-menu-options-"+e[0].step_id)&&Fe(o,"id",w)},d(e){e&&Ee(a),A&&A.d(),T&&T.d(),X&&X.d(),k&&k.d(),x&&x.d(),L&&L.d(),E&&E.d(),J=!1,G()}}}function $n(r){let a,i,o,n,s,l,d,c,g,m;return{c(){a=Me("wmgPlayerJSProd_"),i=b("svg"),o=b("defs"),n=b("g"),s=b("g"),l=b("g"),Fe(d=b("path"),"d","M3.5,9 C2.125,9 1,10.125 1,11.5 C1,12.875 2.125,14 3.5,14 C4.875,14 6,12.875 6,11.5 C6,10.125 4.875,9 3.5,9 L3.5,9 Z M18.5,9 C17.125,9 16,10.125 16,11.5 C16,12.875 17.125,14 18.5,14 C19.875,14 21,12.875 21,11.5 C21,10.125 19.875,9 18.5,9 L18.5,9 Z M11,9 C9.625,9 8.5,10.125 8.5,11.5 C8.5,12.875 9.625,14 11,14 C12.375,14 13.5,12.875 13.5,11.5 C13.5,10.125 12.375,9 11,9 L11,9 Z"),Fe(l,"id","mgPlayerJSProd_more-actions"),Fe(s,"id","mgPlayerJSProd_step-action-icons"),Fe(s,"fill","#757575"),Fe(n,"stroke","none"),Fe(n,"stroke-width","1"),Fe(n,"fill","none"),Fe(n,"fill-rule","evenodd"),Fe(i,"width","18px"),Fe(i,"height","18px"),Fe(i,"viewBox","0 0 22 22"),Fe(i,"version","1.2"),Fe(i,"xmlns","http://www.w3.org/2000/svg"),Fe(i,"xmlns:xlink","http://www.w3.org/1999/xlink"),Fe(a,"class","mgPlayerJSProd_step-pencil-icon "+(0<ce.pendingStepCount?"mgPlayerJSProd_disable-edit":"")),Fe(a,"id",c="mgPlayerJSProd_step-pencil-icon-"+r[0].step_id)},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(i,n),xe(n,s),xe(s,l),xe(l,d),g||(m=$e(a,"click",r[28]),g=!0)},p(e,t){1&t[0]&&c!==(c="mgPlayerJSProd_step-pencil-icon-"+e[0].step_id)&&Fe(a,"id",c)},d(e){e&&Ee(a),g=!1,m()}}}function Fn(r){let a,i,o=ce.svgs.iconEdit+"",n,s,l,d,c,g,m,p;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnEdit,c=De(),g=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"id",l="mgPlayerJSProd_option-step-edit-"+r[0].step_id),Fe(a,"class",d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),Fe(g,"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),Le(e,c,t),Le(e,g,t),m||(p=$e(a,"click",r[29]),m=!0)},p(e,t){1&t[0]&&l!==(l="mgPlayerJSProd_option-step-edit-"+e[0].step_id)&&Fe(a,"id",l),1&t[0]&&d!==(d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(a,"class",d)},d(e){e&&(Ee(a),Ee(c),Ee(g)),m=!1,p()}}}function On(r){let a,i,o=ce.svgs.iconEdit+"",n,s,l,d,c,g,m,p;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.editOnImg,c=De(),g=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"id",l="mgPlayerJSProd_option-step-edit-img-"+r[0].step_id),Fe(a,"class",d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),Fe(g,"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),Le(e,c,t),Le(e,g,t),m||(p=$e(a,"click",r[30]),m=!0)},p(e,t){1&t[0]&&l!==(l="mgPlayerJSProd_option-step-edit-img-"+e[0].step_id)&&Fe(a,"id",l),1&t[0]&&d!==(d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(a,"class",d)},d(e){e&&(Ee(a),Ee(c),Ee(g)),m=!1,p()}}}function Rn(r){let a,i,o=ce.svgs.iconGoToStepUrl+"",n,s,l,d,c,g,m;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnGoToStepUrl,d=De(),c=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"id",l="mgPlayerJSProd_option-step-goto-step-url-"+r[0].step_id),Fe(a,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item"),Fe(c,"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),Le(e,d,t),Le(e,c,t),g||(m=$e(a,"click",r[31]),g=!0)},p(e,t){1&t[0]&&l!==(l="mgPlayerJSProd_option-step-goto-step-url-"+e[0].step_id)&&Fe(a,"id",l)},d(e){e&&(Ee(a),Ee(d),Ee(c)),g=!1,m()}}}function Hn(r){let a,i,o=ce.svgs.copyGuideIcon+"",n,s,l,d,c,g,m,p;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnCopyStep,c=De(),g=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"id",l="mgPlayerJSProd_option-step-copy-"+r[0].step_id),Fe(a,"class",d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),Fe(g,"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),Le(e,c,t),Le(e,g,t),m||(p=$e(a,"click",r[32]),m=!0)},p(e,t){1&t[0]&&l!==(l="mgPlayerJSProd_option-step-copy-"+e[0].step_id)&&Fe(a,"id",l),1&t[0]&&d!==(d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(a,"class",d)},d(e){e&&(Ee(a),Ee(c),Ee(g)),m=!1,p()}}}function Nn(r){let a,i,o=ce.svgs.copyGuideIcon+"",n,s,l,d,c,g,m,p;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.findAndReplace,c=De(),g=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"id",l="mgPlayerJSProd_option-step-find-replace-"+r[0].step_id),Fe(a,"class",d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),Fe(g,"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),Le(e,c,t),Le(e,g,t),m||(p=$e(a,"click",r[33]),m=!0)},p(e,t){1&t[0]&&l!==(l="mgPlayerJSProd_option-step-find-replace-"+e[0].step_id)&&Fe(a,"id",l),1&t[0]&&d!==(d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(a,"class",d)},d(e){e&&(Ee(a),Ee(c),Ee(g)),m=!1,p()}}}function Bn(r){let a,i,o=ce.svgs.iconDelete+"",n,s,l,d,c,g,m,p;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnDelete,c=De(),g=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"id",l="mgPlayerJSProd_option-step-delete-"+r[0].step_id),Fe(a,"class",d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),Fe(g,"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),Le(e,c,t),Le(e,g,t),m||(p=$e(a,"click",r[34]),m=!0)},p(e,t){1&t[0]&&l!==(l="mgPlayerJSProd_option-step-delete-"+e[0].step_id)&&Fe(a,"id",l),1&t[0]&&d!==(d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(a,"class",d)},d(e){e&&(Ee(a),Ee(c),Ee(g)),m=!1,p()}}}function Vn(e){let r,a=e[8](e[0])&&!e[1]?.is_published,i,o=a&&zn(e);return{c(){r=Me("wmgPlayerJSProd_"),o&&o.c(),Fe(r,"class","mgPlayerJSProd_step-image-overlay")},m(e,t){Le(e,r,t),o&&o.m(r,null),i=!0},p(e,t){(a=3&t[0]?e[8](e[0])&&!e[1]?.is_published:a)?o?(o.p(e,t),3&t[0]&&Be(o,1)):((o=zn(e)).c(),Be(o,1),o.m(r,null)):o&&(He(),Ve(o,1,1,()=>{o=null}),Ne())},i(e){i||(Be(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&Ee(r),o&&o.d()}}}function zn(e){let a,r;return a=new Nr({props:{step:e[0]}}),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};1&t[0]&&(r.step=e[0]),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){je(a,e)}}}function Un(e){let r,a=GmCXt.truncate(GmCXt.htmlToPlaintext(e[0].step_title),110)+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_span")},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t[0]&&a!==(a=GmCXt.truncate(GmCXt.htmlToPlaintext(e[0].step_title),110)+"")&&(r.innerHTML=a)},d(e){e&&Ee(r)}}}function jn(r){let a,i,o,n,s,l,d,c,g,m,p,u,h,P,y,_="tag"!==r[0].step_type&&!r[1]?.is_published&&Wn(r),S="inline"!==r[0].step_type&&!r[1]?.is_published&&Zn(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=b("svg"),n=b("defs"),s=b("g"),l=b("g"),d=b("g"),c=b("path"),m=De(),p=Me("wmgPlayerJSProd_"),_&&_.c(),u=De(),S&&S.c(),Fe(c,"d","M3.5,9 C2.125,9 1,10.125 1,11.5 C1,12.875 2.125,14 3.5,14 C4.875,14 6,12.875 6,11.5 C6,10.125 4.875,9 3.5,9 L3.5,9 Z M18.5,9 C17.125,9 16,10.125 16,11.5 C16,12.875 17.125,14 18.5,14 C19.875,14 21,12.875 21,11.5 C21,10.125 19.875,9 18.5,9 L18.5,9 Z M11,9 C9.625,9 8.5,10.125 8.5,11.5 C8.5,12.875 9.625,14 11,14 C12.375,14 13.5,12.875 13.5,11.5 C13.5,10.125 12.375,9 11,9 L11,9 Z"),Fe(c,"class","mgPlayerJSProd_shape"),Fe(d,"id","mgPlayerJSProd_more-actions"),Fe(l,"id","mgPlayerJSProd_step-action-icons"),Fe(l,"fill","#757575"),Fe(s,"stroke","none"),Fe(s,"stroke-width","1"),Fe(s,"fill","none"),Fe(s,"fill-rule","evenodd"),Fe(o,"width","18px"),Fe(o,"height","18px"),Fe(o,"viewBox","0 0 22 22"),Fe(o,"version","1.1"),Fe(i,"class","mgPlayerJSProd_step-pencil-icon"),Fe(i,"id",g="mgPlayerJSProd_step-pencil-icon-"+r[0].step_id),Fe(p,"id",h="mgPlayerJSProd_step-menu-options-"+r[0].step_id),Fe(p,"class","mgPlayerJSProd_step-action-menu-options-dropdown"),Fe(a,"class","mgPlayerJSProd_step-action-menu-container")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),xe(o,s),xe(s,l),xe(l,d),xe(d,c),xe(a,m),xe(a,p),_&&_.m(p,null),xe(p,u),S&&S.m(p,null),P||(y=$e(i,"click",r[21]),P=!0)},p(e,t){1&t[0]&&g!==(g="mgPlayerJSProd_step-pencil-icon-"+e[0].step_id)&&Fe(i,"id",g),"tag"===e[0].step_type||e[1]?.is_published?_&&(_.d(1),_=null):_?_.p(e,t):((_=Wn(e)).c(),_.m(p,u)),"inline"===e[0].step_type||e[1]?.is_published?S&&(S.d(1),S=null):S?S.p(e,t):((S=Zn(e)).c(),S.m(p,null)),1&t[0]&&h!==(h="mgPlayerJSProd_step-menu-options-"+e[0].step_id)&&Fe(p,"id",h)},d(e){e&&Ee(a),_&&_.d(),S&&S.d(),P=!1,y()}}}function Wn(r){let a,i,o=ce.svgs.iconEdit+"",n,s,l,d,c,g,m,p,u,h=ce.svgs.iconDelete+"",P,y,_,S,f,C;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnEdit,c=De(),g=Me("wmgPlayerJSProd_"),m=De(),p=Me("wmgPlayerJSProd_"),u=Me("wmgPlayerJSProd_"),P=De(),(y=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnDelete,Fe(i,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"id",l="mgPlayerJSProd_option-step-edit-"+r[0].step_id),Fe(a,"class",d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),Fe(g,"class","mgPlayerJSProd_horizontal-line"),Fe(u,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(y,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(p,"id",_="mgPlayerJSProd_option-step-delete-"+r[0].step_id),Fe(p,"class",S="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":""))},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),Le(e,c,t),Le(e,g,t),Le(e,m,t),Le(e,p,t),xe(p,u),u.innerHTML=h,xe(p,P),xe(p,y),f||(C=[$e(a,"click",r[22]),$e(p,"click",r[23])],f=!0)},p(e,t){1&t[0]&&l!==(l="mgPlayerJSProd_option-step-edit-"+e[0].step_id)&&Fe(a,"id",l),1&t[0]&&d!==(d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(a,"class",d),1&t[0]&&_!==(_="mgPlayerJSProd_option-step-delete-"+e[0].step_id)&&Fe(p,"id",_),1&t[0]&&S!==(S="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(p,"class",S)},d(e){e&&(Ee(a),Ee(c),Ee(g),Ee(m),Ee(p)),f=!1,ke(C)}}}function Zn(r){let a,i,o=ce.svgs.iconEdit+"",n,s,l,d,c,g,m,p=ce.svgs.iconDelete+"",u,h,P,y,_,S;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnEdit,c=De(),g=Me("wmgPlayerJSProd_"),m=Me("wmgPlayerJSProd_"),u=De(),(h=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnDelete,Fe(i,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"id",l="mgPlayerJSProd_option-step-edit-"+r[0].step_id),Fe(a,"class",d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),Fe(m,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(h,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(g,"id",P="mgPlayerJSProd_option-step-delete-"+r[0].step_id),Fe(g,"class",y="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":""))},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),Le(e,c,t),Le(e,g,t),xe(g,m),m.innerHTML=p,xe(g,u),xe(g,h),_||(S=[$e(a,"click",r[24]),$e(g,"click",r[25])],_=!0)},p(e,t){1&t[0]&&l!==(l="mgPlayerJSProd_option-step-edit-"+e[0].step_id)&&Fe(a,"id",l),1&t[0]&&d!==(d="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(a,"class",d),1&t[0]&&P!==(P="mgPlayerJSProd_option-step-delete-"+e[0].step_id)&&Fe(g,"id",P),1&t[0]&&y!==(y="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(g,"class",y)},d(e){e&&(Ee(a),Ee(c),Ee(g)),_=!1,ke(S)}}}function qn(e){let a,r;return a=new Nr({props:{step:e[0]}}),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};1&t[0]&&(r.step=e[0]),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){je(a,e)}}}function Yn(e){let r,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_step-image"),Q(r.src,a=e[0].step_screen_temp)||Fe(r,"src",a)},m(e,t){Le(e,r,t)},p(e,t){1&t[0]&&!Q(r.src,a=e[0].step_screen_temp)&&Fe(r,"src",a)},d(e){e&&Ee(r)}}}function Kn(e){let r,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_step-image"),Q(r.src,a=e[0].previewImage)||Fe(r,"src",a)},m(e,t){Le(e,r,t)},p(e,t){1&t[0]&&!Q(r.src,a=e[0].previewImage)&&Fe(r,"src",a)},d(e){e&&Ee(r)}}}function Qn(e){let r,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_step-image mgPlayerJSProd_custom-image"),Q(r.src,a=e[0].image_url+ce.getCdnSign())||Fe(r,"src",a),Fe(r,"alt",ce.staticContentPath+"technology.jpg")},m(e,t){Le(e,r,t)},p(e,t){1&t[0]&&!Q(r.src,a=e[0].image_url+ce.getCdnSign())&&Fe(r,"src",a)},d(e){e&&Ee(r)}}}function es(r){let a,i,o,n,s,l,d,c,g,m,p,u,h,P,y,_,S=!r[1]?.is_published&&ts(r),f=!r[0].step_screen_temp&&rs(r),C=GmCXt.FT.creatorApp&&(r=>{let a,i,o=ce.svgs.historyIcon+"",n,s,l,d,c;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.history,Fe(i,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"class",l="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":""))},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),d||(c=$e(a,"click",r[19]),d=!0)},p(e,t){1&t[0]&&l!==(l="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(a,"class",l)},d(e){e&&Ee(a),d=!1,c()}}})(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=b("svg"),n=b("defs"),s=b("g"),l=b("g"),d=b("g"),c=b("path"),m=De(),p=Me("wmgPlayerJSProd_"),S&&S.c(),u=De(),f&&f.c(),h=De(),C&&C.c(),Fe(c,"d","M3.5,9 C2.125,9 1,10.125 1,11.5 C1,12.875 2.125,14 3.5,14 C4.875,14 6,12.875 6,11.5 C6,10.125 4.875,9 3.5,9 L3.5,9 Z M18.5,9 C17.125,9 16,10.125 16,11.5 C16,12.875 17.125,14 18.5,14 C19.875,14 21,12.875 21,11.5 C21,10.125 19.875,9 18.5,9 L18.5,9 Z M11,9 C9.625,9 8.5,10.125 8.5,11.5 C8.5,12.875 9.625,14 11,14 C12.375,14 13.5,12.875 13.5,11.5 C13.5,10.125 12.375,9 11,9 L11,9 Z"),Fe(c,"class","mgPlayerJSProd_shape"),Fe(d,"id","mgPlayerJSProd_more-actions"),Fe(l,"id","mgPlayerJSProd_step-action-icons"),Fe(l,"fill","#757575"),Fe(s,"stroke","none"),Fe(s,"stroke-width","1"),Fe(s,"fill","none"),Fe(s,"fill-rule","evenodd"),Fe(o,"width","18px"),Fe(o,"height","18px"),Fe(o,"viewBox","0 0 22 22"),Fe(o,"version","1.1"),Fe(i,"class","mgPlayerJSProd_step-pencil-icon"),Fe(i,"id",g="mgPlayerJSProd_step-pencil-icon-"+r[0].step_id),Fe(p,"id",P="mgPlayerJSProd_step-menu-options-"+r[0].step_id),Fe(p,"class","mgPlayerJSProd_step-action-menu-options-dropdown"),Fe(a,"class","mgPlayerJSProd_step-action-menu-container")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),xe(o,s),xe(s,l),xe(l,d),xe(d,c),xe(a,m),xe(a,p),S&&S.m(p,null),xe(p,u),f&&f.m(p,null),xe(p,h),C&&C.m(p,null),y||(_=$e(i,"click",r[15]),y=!0)},p(e,t){1&t[0]&&g!==(g="mgPlayerJSProd_step-pencil-icon-"+e[0].step_id)&&Fe(i,"id",g),e[1]?.is_published?S&&(S.d(1),S=null):S?S.p(e,t):((S=ts(e)).c(),S.m(p,u)),e[0].step_screen_temp?f&&(f.d(1),f=null):f?f.p(e,t):((f=rs(e)).c(),f.m(p,h)),GmCXt.FT.creatorApp&&C.p(e,t),1&t[0]&&P!==(P="mgPlayerJSProd_step-menu-options-"+e[0].step_id)&&Fe(p,"id",P)},d(e){e&&Ee(a),S&&S.d(),f&&f.d(),C&&C.d(),y=!1,_()}}}function ts(r){let a,i,o=ce.svgs.iconEdit+"",n,s,l,d,c,g,m,p,u=ce.svgs.iconDelete+"",h,P,y,_,S,f,C;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnEdit,d=De(),c=Me("wmgPlayerJSProd_"),g=De(),m=Me("wmgPlayerJSProd_"),p=Me("wmgPlayerJSProd_"),h=De(),(P=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnDelete,_=De(),S=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"class",l="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),Fe(c,"class","mgPlayerJSProd_horizontal-line"),Fe(p,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(P,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(m,"class",y="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),Fe(S,"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),Le(e,d,t),Le(e,c,t),Le(e,g,t),Le(e,m,t),xe(m,p),p.innerHTML=u,xe(m,h),xe(m,P),Le(e,_,t),Le(e,S,t),f||(C=[$e(a,"click",r[16]),$e(m,"click",r[17])],f=!0)},p(e,t){1&t[0]&&l!==(l="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(a,"class",l),1&t[0]&&y!==(y="mgPlayerJSProd_step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&Fe(m,"class",y)},d(e){e&&(Ee(a),Ee(d),Ee(c),Ee(g),Ee(m),Ee(_),Ee(S)),f=!1,ke(C)}}}function rs(r){let a,i,o=ce.svgs.copyGuideIcon+"",n,s,l,d,c,g;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),(s=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.btnCopyStep,l=De(),d=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-icon mgPlayerJSProd_inline-block-vm"),Fe(s,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item-label mgPlayerJSProd_inline-block-vm"),Fe(a,"class","mgPlayerJSProd_step-action-menu-options-dropdown-item"),Fe(d,"class","mgPlayerJSProd_horizontal-line")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),Le(e,l,t),Le(e,d,t),c||(g=$e(a,"click",r[18]),c=!0)},p:Je,d(e){e&&(Ee(a),Ee(l),Ee(d)),c=!1,g()}}}function as(e){let r,a;function i(e){return 0==e[0].step_video?os:is}let o=i(e),n=o(e);return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),n.c(),Fe(a,"class","mgPlayerJSProd_tg-img-thumb mgPlayerJSProd_position-center"),Fe(r,"class","mgPlayerJSProd_tg-step-img-thumb-wrapper")},m(e,t){Le(e,r,t),xe(r,a),n.m(a,null)},p(e,t){o===(o=i(e))&&n?n.p(e,t):(n.d(1),(n=o(e))&&(n.c(),n.m(a,null)))},d(e){e&&Ee(r),n.d()}}}function is(e){let r,a=GmCXt.getVideoPopUpIFrameHTML(e[0].step_video_url+ce.getCdnSign())+"",i;return{c(){r=new te(!1),i=I(),r.a=i},m(e,t){r.m(a,e,t),Le(e,i,t)},p(e,t){1&t[0]&&a!==(a=GmCXt.getVideoPopUpIFrameHTML(e[0].step_video_url+ce.getCdnSign())+"")&&r.p(a)},d(e){e&&(Ee(i),r.d())}}}function os(e){let r,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_tg-img svelte-hv9a3t"),Q(r.src,a=e[0].screen_url+ce.getCdnSign())||Fe(r,"src",a),Fe(r,"alt",ce.staticContentPath+"technology.jpg")},m(e,t){Le(e,r,t)},p(e,t){1&t[0]&&!Q(r.src,a=e[0].screen_url+ce.getCdnSign())&&Fe(r,"src",a)},d(e){e&&Ee(r)}}}function ns(){let r,a=ce.svgs.pdfIcon+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_document-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_margin-lr-10")},m(e,t){Le(e,r,t),r.innerHTML=a},d(e){e&&Ee(r)}}}function ss(r){let a,e=ce.labels.showMe+"",i,o,n,s=ce.svgs.guidePlayIconShowme+"",l,d;return{c(){a=Me("wmgPlayerJSProd_"),i=Ie(e),o=De(),Fe(n=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_margin-lr-10"),Fe(a,"class","mgPlayerJSProd_play-step-icon-wrapper mgPlayerJSProd_position-center mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_font-size-16")},m(e,t){Le(e,a,t),xe(a,i),xe(a,o),xe(a,n),n.innerHTML=s,l||(d=$e(a,"click",r[20]),l=!0)},p:Je,d(e){e&&Ee(a),l=!1,d()}}}function ls(e){let r,a=e[8](e[0])&&!e[1]?.is_published,i,o=a&&ds(e);return{c(){r=Me("wmgPlayerJSProd_"),o&&o.c(),Fe(r,"class","mgPlayerJSProd_tour-action-wrapper mgPlayerJSProd_position-relative")},m(e,t){Le(e,r,t),o&&o.m(r,null),i=!0},p(e,t){(a=3&t[0]?e[8](e[0])&&!e[1]?.is_published:a)?o?(o.p(e,t),3&t[0]&&Be(o,1)):((o=ds(e)).c(),Be(o,1),o.m(r,null)):o&&(He(),Ve(o,1,1,()=>{o=null}),Ne())},i(e){i||(Be(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&Ee(r),o&&o.d()}}}function ds(e){let a,r;return a=new Nr({props:{step:e[0]}}),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};1&t[0]&&(r.step=e[0]),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){je(a,e)}}}function cs(e){let r=!GmCXt.isEmpty(e[0]),a,i,o=r&&Pn(e);return{c(){o&&o.c(),a=I()},m(e,t){o&&o.m(e,t),Le(e,a,t),i=!0},p(e,t){(r=1&t[0]?!GmCXt.isEmpty(e[0]):r)?o?(o.p(e,t),1&t[0]&&Be(o,1)):((o=Pn(e)).c(),Be(o,1),o.m(a.parentNode,a)):o&&(He(),Ve(o,1,1,()=>{o=null}),Ne())},i(e){i||(Be(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&Ee(a),o&&o.d(e)}}}function gs(e){return GmCXt.isEmpty(e.step_title)?(e.step_description=GmCXt.updateOrgAndAddSignature(GmCXt.restoreAssetSrc(e.step_description)),e.step_description):e.step_title+e.step_description}function ms(e,t,r){let a=t.step,i=t.index,o=t.tour,n=t.imageUploadData,s=!1,l="",d="loading",c=de(ge.stepOperationMode),g={},m=ge.stepOperationMode.subscribe(e=>{r(5,c=e)});let p=(e,t,r)=>{if(e.stopPropagation(),GmCXt.isHowToGuide(o)&&(t=ce.playSlideshow),!ce.isDesktopApp())return"doitforme"===t&&GmCXt.disableDoItForMe?($.open(ce.labels.doitForMeWarning,"warning"),!1):void ce.guideAction(t,r,o,de(ge.CurrentPage),"")};function u(e,t){t.stopPropagation(),ce.hideUserImageDropDown();t=mg$(".mgPlayerJSProd_step-image-wrapper"),mg$(t).removeClass("active"),mg$(".mgPlayerJSProd_tour-action-dropdown").slideUp(200),mg$(".mgPlayerJSProd_detail-view-action-options-dropdownn").slideUp(200),mg$(".mgPlayerJSProd_detail-download-action-options-dropdown").slideUp(200),t=mg$("#mgPlayerJSProd_step-menu-options-"+e).is(":visible");mg$(".mgPlayerJSProd_step-action-menu-options-dropdown").slideUp(200),t||mg$("#mgPlayerJSProd_step-menu-options-"+e).slideDown(200)}me(()=>{ce.checkCdnSignature().then(()=>{r(13,s=GmCXt.getCdnSign())})}),pe(()=>{m()});return e.$$set=e=>{"step"in e&&r(0,a=e.step),"index"in e&&r(2,i=e.index),"tour"in e&&r(1,o=e.tour),"imageUploadData"in e&&r(12,n=e.imageUploadData)},e.$$.update=()=>{if(20483&e.$$.dirty[0]){if(!GmCXt.isEmpty(n)&&n[a.step_id])switch(n[a.step_id].image_upload){case"success":r(4,d="pass");break;case"fail":r(4,d="fail");break;default:r(4,d="loading")}r(14,g=ce.isGuideInOriginalLang(o)?o:ce.getTranslatedTourAndSteps(o,ce.language)),r(1,o={...g})}8193&e.$$.dirty[0]&&s&&a&&r(3,l=((e,t)=>{if(GmCXt.isDefined(e))return GmCXt.isOnboarding(o)?0!=a.step_video?a.step_video_url+s:e+s:"guide"===t?e.split(".png")[0]+"_thumb.png"+s:"video"===t?e+s:"survey"==t||"transport"==t?-1==a.image_url.indexOf("default_icon")?a.image_url+s:ce.staticContentPath+"survey_step.png":a.is_screen_url_processed?e.split(".png")[0]+"_cropped.png"+s:a.screen_url+s;e=""})(a.step_type===GmCXt.STEP_TYPE_VIDEO?a.image_url:a.screen_url,a.step_type))},[a,o,i,l,d,c,p,function(){return!ce.onPrem||GmCXt.FT.showMe},function(e){return!e.step_type&&e.type&&(e.step_type=e.type),e.step_type!==GmCXt.STEP_TYPE_BRANCH&&e.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER&&!(e.step_settings&&e.step_settings.inlineBranch||e.hideStep)},u,function(e){e.isTrusted&&(a.isEdit||a.isCreation)&&c!==GmCXt.STEP_EDIT_OPERATION&&ge.activeStepId.set(a.step_id)},e=>({guidance:ce.svgs.tooltip,validation:ce.svgs.tooltip_validation,both:ce.svgs.tooltip_and_validation,injector:ce.svgs.tooltip_power,disableElement:ce.svgs.tooltip_hide_element,formSubmit:ce.svgs.tooltip_form_submit})[e]||"",n,s,g,e=>u(a.step_id,e),()=>{ce.editStep(o,a,i),ce.hideStepActionDropdown()},()=>{ce.deleteStep(a,!1,o),ce.hideStepActionDropdown()},e=>ce.copyStep(a.step_id,a.step_type,e,o.tour_settings.tutorial_tour_type),e=>{ce.guideHistory(a,e,"step"),ce.hideStepActionDropdown()},e=>p(e,ce.playSlideshow,a),e=>u(a.step_id,e),()=>editStep(a,i),()=>deleteStep(a),()=>ce.editTag(a,o,i),()=>ce.deleteTag(a,o,i),e=>p(e,"",a),e=>p(e,"",a),e=>u(a.step_id,e),()=>{ce.editStep(o,a,i,!1),ce.hideStepActionDropdown()},()=>{ce.editStep(o,a,i,!0),ce.hideStepActionDropdown()},()=>ce.goToStepUrl(a,i),e=>ce.copyStep(a.step_id,a.step_type,e),()=>ce.handleFindAndReplaceClick(a),()=>{ce.deleteStep(a,!1,o),ce.hideStepActionDropdown()},e=>{ce.guideHistory(a,e,"step"),ce.hideStepActionDropdown()},function(e){a=e,r(0,a)},function(e){a=e,r(0,a)},function(e){a=e,r(0,a)},function(e){a=e,r(0,a)},function(e){a=e,r(0,a)}]}class ps extends e{constructor(e){super(),t(this,e,ms,cs,d,{step:0,index:2,tour:1,imageUploadData:12},hn,[-1,-1])}}function us(e){a(e,"svelte-16e1c9u",".branch.svelte-16e1c9u{z-index:99999}")}function hs(e,t,r){e=e.slice();return e[47]=t[r],e[49]=r,e}function Ps(e,t,r){e=e.slice();return e[50]=t[r],e[49]=r,e}function ys(r){let a,i,o,n,s,l=ws(r[47].step_title)+"",d,c,g,m,p=ws(r[47].step_title)+"",u,h,P,y,_,S,f,C=r[0]&&Ss(r);function b(){return r[14](r[47])}return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),s=Me("wmgPlayerJSProd_"),d=Ie(l),c=De(),g=Me("wmgPlayerJSProd_"),m=Me("wmgPlayerJSProd_"),u=Ie(p),h=De(),P=Me("wmgPlayerJSProd_"),y=De(),_=Me("wmgPlayerJSProd_"),C&&C.c(),Fe(s,"class","mgPlayerJSProd_guide-title mgPlayerJSProd_text-overflow-ellipsis"),Fe(m,"class","mgPlayerJSProd_tooltip-title"),Fe(g,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-right mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y"),Fe(n,"class","mgPlayerJSProd_step-title-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_position-relative"),Fe(o,"id","mgPlayerJSProd_step"),Fe(P,"class","mgPlayerJSProd_clear"),Fe(_,"class","mgPlayerJSProd_step-image-wrapper"),Fe(i,"class","mgPlayerJSProd_step-item"),Fe(a,"class","mgPlayerJSProd_collapse mgPlayerJSProd_player-step mgPlayerJSProd_step-wrapper branchTreeHead2"),Ae(a,"display","block")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),xe(n,s),xe(s,d),xe(n,c),xe(n,g),xe(g,m),xe(m,u),xe(i,h),xe(i,P),xe(i,y),xe(i,_),C&&C.m(_,null),S||(f=$e(_,"click",b),S=!0)},p(e,t){r=e,2&t[0]&&l!==(l=ws(r[47].step_title)+"")&&Oe(d,l),2&t[0]&&p!==(p=ws(r[47].step_title)+"")&&Oe(u,p),r[0]?C?C.p(r,t):((C=Ss(r)).c(),C.m(_,null)):C&&(C.d(1),C=null)},d(e){e&&Ee(a),C&&C.d(),S=!1,f()}}}function _s(a){let r,i,o,n=ce.svgs.branch_head_icon+"",s,l,d=ws(a[47].step_title)+"",c,g,m,p,u=(a[2]||a[47].step_settings.branch[0].branchName)+"",h,P,y,_=ce.svgs.down_arrow_icon+"",S,f,C,b;function v(){return a[12](a[47])}let w=D(a[47].step_settings.branch),J=[];for(let e=0;e<w.length;e+=1)J[e]=fs(Ps(a,w,e));function G(...e){return a[13](a[49],...e)}return{c(){r=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),s=De(),l=Me("wmgPlayerJSProd_"),c=Ie(d),g=De(),m=Me("button"),p=Me("wmgPlayerJSProd_"),h=Ie(u),P=De(),y=Me("wmgPlayerJSProd_"),S=De(),f=Me("wmgPlayerJSProd_");for(let e=0;e<J.length;e+=1)J[e].c();Fe(o,"class","mgPlayerJSProd_head-branch-icon"),Fe(l,"class","mgPlayerJSProd_branch-title"),Fe(p,"class","mgPlayerJSProd_branch-dropdown-selected-item mgPlayerJSProd_pointer-events-none"),Fe(y,"class","mgPlayerJSProd_filter-dropdown-arrow mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_pointer-events-none"),Fe(f,"id","mgPlayerJSProd_branch-dropdown-list-wrapper-"+a[49]),Fe(f,"class","mgPlayerJSProd_branch-dropdown-list-wrapper mgPlayerJSProd_branch-dropdown-list-wrapper-"+a[49]+" mgPlayerJSProd_open-down mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y svelte-16e1c9u"),Fe(m,"id","mgPlayerJSProd_branch-dropdown-wrapper-0"),Fe(m,"class","mgPlayerJSProd_branch-dropdown-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_lbl-btn"),Fe(i,"class","mgPlayerJSProd_branch-head"),Fe(r,"class","mgPlayerJSProd_branch-wrapper-player branchTreeHead0")},m(e,t){Le(e,r,t),xe(r,i),xe(i,o),o.innerHTML=n,xe(i,s),xe(i,l),xe(l,c),xe(i,g),xe(i,m),xe(m,p),xe(p,h),xe(m,P),xe(m,y),y.innerHTML=_,xe(m,S),xe(m,f);for(let e=0;e<J.length;e+=1)J[e]&&J[e].m(f,null);C||(b=[$e(l,"click",v),$e(m,"click",G)],C=!0)},p(e,t){if(a=e,2&t[0]&&d!==(d=ws(a[47].step_title)+"")&&Oe(c,d),6&t[0]&&u!==(u=(a[2]||a[47].step_settings.branch[0].branchName)+"")&&Oe(h,u),1030&t[0]){w=D(a[47].step_settings.branch);let e;for(e=0;e<w.length;e+=1){var r=Ps(a,w,e);J[e]?J[e].p(r,t):(J[e]=fs(r),J[e].c(),J[e].m(f,null))}for(;e<J.length;e+=1)J[e].d(1);J.length=w.length}},d(e){e&&Ee(r),F(J,e),C=!1,ke(b)}}}function Ss(e){let r,a;return{c(){Fe(r=Me("img"),"class","mgPlayerJSProd_step-image mgPlayerJSProd_custom-image"),Q(r.src,a=e[4](e[47]))||Fe(r,"src",a),Fe(r,"alt",ce.staticContentPath+"technology.jpg")},m(e,t){Le(e,r,t)},p(e,t){2&t[0]&&!Q(r.src,a=e[4](e[47]))&&Fe(r,"src",a)},d(e){e&&Ee(r)}}}function fs(r){let a,i=r[50].branchName+"",o,n,s,l,d;return{c(){a=Me("button"),o=Ie(i),n=De(),Fe(a,"class",s="mgPlayerJSProd_branch-dropdown-list-item mgPlayerJSProd_lbl-btn mgPlayerJSProd_branch-dropdown-list-item "+(r[2]===r[47].step_settings.branch[r[49]].branchName?"mgPlayerJSProd_active-item":"")),a.value=r[49]},m(e,t){Le(e,a,t),xe(a,o),xe(a,n),l||(d=$e(a,"click",function(){Y(r[10](r[47],r[49]))&&r[10](r[47],r[49]).apply(this,arguments)}),l=!0)},p(e,t){r=e,2&t[0]&&i!==(i=r[50].branchName+"")&&Oe(o,i),6&t[0]&&s!==(s="mgPlayerJSProd_branch-dropdown-list-item mgPlayerJSProd_lbl-btn mgPlayerJSProd_branch-dropdown-list-item "+(r[2]===r[47].step_settings.branch[r[49]].branchName?"mgPlayerJSProd_active-item":""))&&Fe(a,"class",s)},d(e){e&&Ee(a),l=!1,d()}}}function Cs(e){let r,a,i;function o(e,t){return(a=null==(a=2&t[0]?null:a)?!(e[47].step_type!==GmCXt.STEP_TYPE_BRANCH&&e[47].step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER&&!GmCXt.isTrue(e[47].step_settings&&e[47].step_settings.inlineBranch)):a)?_s:ys}let n=o(e,[-1,-1]),s=n(e);return{c(){r=Me("wmgPlayerJSProd_"),s.c(),i=De(),Fe(r,"class","svelte-16e1c9u"),Re(r,"branch",e[47].step_type===GmCXt.STEP_TYPE_BRANCH||GmCXt.isTrue(e[47].step_settings&&e[47].step_settings.inlineBranch))},m(e,t){Le(e,r,t),s.m(r,null),xe(r,i)},p(e,t){n===(n=o(e,t))&&s?s.p(e,t):(s.d(1),(s=n(e))&&(s.c(),s.m(r,i))),2&t[0]&&Re(r,"branch",e[47].step_type===GmCXt.STEP_TYPE_BRANCH||GmCXt.isTrue(e[47].step_settings&&e[47].step_settings.inlineBranch))},d(e){e&&Ee(r),s.d()}}}function bs(r){let a,i=GmCXt.svgs.close+"",o,n;return{c(){Fe(a=Me("wmgPlayerJSProd_"),"id","mgPlayerJSProd_icon-cancel-merge"),Fe(a,"class","mgPlayerJSProd_cancel-branch-merge"),Fe(a,"title","Cancel Merge Branch")},m(e,t){Le(e,a,t),a.innerHTML=i,o||(n=$e(a,"click",r[5]),o=!0)},p:Je,d(e){e&&Ee(a),o=!1,n()}}}function vs(e){let r,a,i,o,n=!GmCXt.FT.creatorApp&&(t=>{let i,o=D(t[1]),n=[];for(let e=0;e<o.length;e+=1)n[e]=Cs(hs(t,o,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();i=I()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Le(t,i,r)},p(t,r){if(1815&r[0]){o=D(t[1]);let e;for(e=0;e<o.length;e+=1){var a=hs(t,o,e);n[e]?n[e].p(a,r):(n[e]=Cs(a),n[e].c(),n[e].m(i.parentNode,i))}for(;e<n.length;e+=1)n[e].d(1);n.length=o.length}},d(e){e&&Ee(i),F(n,e)}}})(e),s=e[3]&&bs(e),l=GmCXt.FT.creatorApp&&(r=>{let a,i,o=ce.svgs.zoomIn+"",n,s,l=ce.svgs.zoomOut+"",d,c;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),Fe(i,"id","mgPlayerJSProd_zoomin-branching-view"),Fe(i,"class","mgPlayerJSProd_zoomin-branching-view mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_inline-block-vm"),Fe(s,"id","mgPlayerJSProd_zoomout-branching-view"),Fe(s,"class","mgPlayerJSProd_zoomout-branching-view mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_inline-block-vm"),Fe(a,"class","mgPlayerJSProd_view-zoomin-zoomout")},m(e,t){Le(e,a,t),xe(a,i),i.innerHTML=o,xe(a,n),xe(a,s),s.innerHTML=l,d||(c=[$e(i,"click",r[6]),$e(s,"click",r[7])],d=!0)},p:Je,d(e){e&&Ee(a),d=!1,ke(c)}}})(e);return{c(){r=Me("wmgPlayerJSProd_"),n&&n.c(),a=De(),s&&s.c(),i=De(),l&&l.c(),o=I(),Fe(r,"class","mgPlayerJSProd_step-view-type-branching"),Ae(r,"transform","scale(1) translate(0px, 0px)"),Re(r,"mgPlayerJSProd_no-padding",GmCXt.FT.isPlayer)},m(e,t){Le(e,r,t),n&&n.m(r,null),Le(e,a,t),s&&s.m(e,t),Le(e,i,t),l&&l.m(e,t),Le(e,o,t)},p(e,t){GmCXt.FT.creatorApp||n.p(e,t),e[3]?s?s.p(e,t):((s=bs(e)).c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null),GmCXt.FT.creatorApp&&l.p(e,t)},i:Je,o:Je,d(e){e&&(Ee(r),Ee(a),Ee(i),Ee(o)),n&&n.d(),s&&s.d(e),l&&l.d(e)}}}function ws(e){return e?String(e).replace(/<[^>]+>/gm,""):""}function Js(e){var t={};switch(e){case 3:t.scale=.3,t.transformLeft="-90%",t.transformRight="-90%";break;case 4:t.scale=.4,t.transformLeft="-70%",t.transformRight="-70%";break;case 5:t.scale=.5,t.transformLeft="-45%",t.transformRight="-45%";break;case 6:t.scale=.6,t.transformLeft="-30%",t.transformRight="-30%";break;case 7:t.scale=.7,t.transformLeft="-20%",t.transformRight="-20%";break;case 8:t.scale=.8,t.transformLeft="-12%",t.transformRight="-12%";break;case 9:t.scale=.9,t.transformLeft="-5%",t.transformRight="-5%";break;case 10:t.scale=1,t.transformLeft="0%",t.transformRight="0%";break;case 11:t.scale=1.1,t.transformLeft="5%",t.transformRight="5%";break;case 12:t.scale=1.2,t.transformLeft="9%",t.transformRight="8%";break;case 13:t.scale=1.3,t.transformLeft="12%",t.transformRight="12%";break;case 14:t.scale=1.4,t.transformLeft="15%",t.transformRight="15%";break;case 15:t.scale=1.5,t.transformLeft="17%",t.transformRight="17%"}return t}function Gs(e,t,o){let b=de(ge.currentTour),r=!1,a=!1,i=!1,n=[],s=!1,c,v=!1,l=10,d=!1,g=!1,m=!1,p=[],u=[],h,P=[],y=ge.selectedBranch.subscribe(e=>{o(2,s=e)}),_=ge.currentTour.subscribe(e=>{o(11,b=e)});function S(t){if("p"!==c[t].type&&-1===mg$.inArray(t,p)&&p.push(t),0!==t)for(let e=0;e<c[t].head.length;e++)S(c[t].head[0])}let f=!1,C;function w(e,t){p=[],S(e.id);for(let e=0;e<c.length;e++)-1<mg$.inArray(c[e].tail,p)&&S(e);o(3,m=!0),C=t,f=!!(e.branch&&0<=e.branch.index)&&e.branch.index,mg$(".mgPlayerJSProd_delete-connection").css("display","none"),mg$(".mgPlayerJSProd_plus-step").css("display","none"),mg$(".mgPlayerJSProd_step-view-type-branching").empty(),x()}function J(t,e){if(-1===mg$.inArray(e,p)&&m){t=t.toString(),ce.showLoading();var r=b.tour_settings.play_structure;for(let e=0;e<r.length;e++){if(r[e].id===C&&f&&null!==r[e].branch){r[e].branch[f].tail=t;break}if(r[e].id===C&&null!==r[e].branch){r[e].tail=t;break}}o(11,b.tour_settings.play_structure=r,b),p=[],o(3,m=!1),ce.routeToStepContainer("updateTourWithApi",b)}else ce.showPopup("You cannot merge this step here.")}function G(e,t,r){var a=c[e].tail;if(c[a]&&1<c[a].head.length){mg$(".horizontalConnector"+e).remove(),c[e].tail=null;var i=mg$(r.target).closest(".mgPlayerJSProd_delete-connection").attr("branchindex");ce.getStepFromTour(t,b);for(let e=0;e<b.tour_settings.play_structure.length;e++)b.tour_settings.play_structure[e].id===t.toString()&&o(11,i?b.tour_settings.play_structure[e].branch[i].tail=null:b.tour_settings.play_structure[e].tail=null,b);ce.routeToStepContainer("updateTourWithApi",b)}}function A(e){let t=document.querySelector(".mgPlayerJSProd_step-view-type-branching"),r=(-1!==mg$.inArray(e.head[0],u)&&GmCXt.FT.creatorApp&&(t=document.querySelector(".branchTreeHead"+e.head[0]),u.push(e.id)),GmCXt.conf.staticContentPath+"technology.jpg"),a=ce.staticContentPath+"technology.jpg";if(e.step.step_screen)switch(e.step.step_type){case"inline":case"image":r=e.step.is_screen_url_processed?ce.getImageURL(e.step.screen_url,"_cropped.png"):GmCXt.restoreAssetSrc(e.step.screen_url);break;case"message":r=e.step.is_screen_url_processed?(e=>{let t=ce.staticContentPath+"technology.jpg";var r;return e.screen_url&&(r=e.step_settings.domElems,t=r&&0<r.length&&e.is_thumbnail_processed?ce.getImageURL(e.screen_url,"_thumb.png"):e.is_screen_url_processed?ce.getImageURL(e.screen_url,"_cropped.png"):GmCXt.restoreAssetSrc(e.screen_url)),t})(e.step):GmCXt.restoreAssetSrc(e.step.screen_url);break;case"smartTip":r=GmCXt.restoreAssetSrc(e.step.screen_url);break;case"guide":r=ce.getImageURL(e.step.screen_url,"_thumb.png");break;case"video":r=GmCXt.restoreAssetSrc(e.step.image_url);break;case"survey":r=-1!==e.step.image_url.indexOf("default_icon")?ce.getDefaultSurveyStepIcon():GmCXt.restoreAssetSrc(e.step.image_url)}else e.step.step_video_url&&"video"===e.step.step_type&&(r=GmCXt.restoreAssetSrc(e.step.image_url),a="https://salesuapi.blob.core.windows.net/default/video-thumb.png");new Nr({target:t,props:{node:e,mergeActive:m,currentTour:b,step_img:r,err_img:a,mergeArr:p,addMergeStep:w,mergeNodeStep:J,playTourFromBranchView:E}})}function T(e){var t=(t=>{t=parseInt(t);for(let e=0;e<c.length;e++)if(c[e].id===t)return c[e]})(e.head[0]);let r=document.querySelector(".mgPlayerJSProd_step-view-type-branching");var a=e.branch&&e.branch.name?e.branch.name:"";let i="step-tail-large";var o=(e=>{if(!e||!c[e])return"mgPlayerJSProd_hide-delete-connection";if(c[e].id===e){if(1<c[e].head.length)return"mgPlayerJSProd_allow-delete-connection";if(c[e].branch){h=c[e].branch;let t=0;for(let e=0;e<h.length;e++)-1===h[e].tail&&t++;return 1<t?"mgPlayerJSProd_allow-delete-connection":"mgPlayerJSProd_hide-delete-connection"}return"mgPlayerJSProd_hide-delete-connection"}})(e.tail);"b"===t.type&&a&&(mg$("#mgPlayerJSProd_branch-dropdown-list-wrapper-"+t.id).append("<button class='mgPlayerJSProd_branch-dropdown-list-item mgPlayerJSProd_lbl-btn mgPlayerJSProd_branch-dropdown-list-item-"+e.id+"' value='"+e.id+"'>"+a+"</button>"),!g)&&d&&(g=e.id),-1!==mg$.inArray(e.head[0],u)&&GmCXt.FT.creatorApp&&(r=document.querySelector(".branchTreeHead"+e.head[0]),u.push(e.id)),e.tail||(i="step-tail-small"),e.branch&&(i=""),new Nr({target:r,props:{node:e,deleteClass:o,mergeActive:m,currentTour:b,branchName:a,lastStepWrapper:i,mergeArr:p,addMergeStep:w,deleteConnection:G,playTourFromBranchView:E}})}function X(e){l=10,d=!1,c=e,g=!1;for(let t=0;t<c.length;t++){var r=c[t].type;let e=void 0;var a,i=c[t].head[0];switch(null!=i&&null!=c[i].head[0]&&(a=c[i].head[0],e=c[a]),c[t].prevNode=e,r){case"s":A(c[t]);break;case"b":{o=void 0;var o=c[t];let e=document.querySelector(".mgPlayerJSProd_step-view-type-branching");-1!==mg$.inArray(o.head[0],u)&&GmCXt.FT.creatorApp&&(e=document.querySelector(".branchTreeHead"+o.head[0])),u.push(o.id),new Nr({target:e,props:{node:o,mergeActive:m,currentTour:b,mergeArr:p,addMergeStep:w,mergeNodeStep:J,playTourFromBranchView:E}})}d=!0;break;case"p":c[t].prevNode=c[i],T(c[t])}}mg$(".mgPlayerJSProd_collapse").css("display","none"),setTimeout(function(){mg$(".mgPlayerJSProd_branch-vconnector").remove(),mg$(".mgPlayerJSProd_branch-hconnector").remove();for(let e=0;e<c.length;e++){var a=c[e];if(2<=a.head.length)for(let r=0;r<a.head.length;r++){var i=mg$(".branchTreeHead"+a.id).offset().top,o=mg$(".branchTreeHead"+a.head[r]).offset().top,n=mg$(mg$(".branchTreeHead"+a.id).parents(".mgPlayerJSProd_branch-wrapper")[0]).offset().top,s=mg$(".branchTreeHead"+a.id).offset().left,l=mg$(".branchTreeHead"+a.head[r]).offset().left,d=mg$(mg$(".branchTreeHead"+a.id).parents(".mgPlayerJSProd_branch-wrapper")[0]).offset().left,l=parseInt(l-s),s=parseInt(s-d);let t=o-n;if(i<o){d=parseInt(o-i)+105;mg$(".branchTreeHead"+a.id).before("<wmgPlayerJSProd_ class='mgPlayerJSProd_branch-vconnector' style='height:"+d+"px'></wmgPlayerJSProd_>")}else if(o+120<i){t=o-n+(i-o)-75;let e=parseInt(i-o);mg$(".branchTreeHead"+a.head[r]).parent().hasClass("mgPlayerJSProd_branch-wrapper")?e-=105:e-=65,mg$(".branchTreeHead"+a.head[r]).append("<wmgPlayerJSProd_ class='mgPlayerJSProd_branch-vconnector mgPlayerJSProd_branch-vconnector-right' style='height:"+e+"px'></wmgPlayerJSProd_>")}mg$(mg$(".branchTreeHead"+a.id).parents(".mgPlayerJSProd_branch-wrapper")[0]).append("<wmgPlayerJSProd_ class='mgPlayerJSProd_branch-hconnector' style='top:"+t+"px;left:"+s+"px;width:"+l+"px'></wmgPlayerJSProd_>")}}},0)}function k(e,r){function a(e){var t=ce.getStepFromTour(e,r);return GmCXt.isAutomationStep(t)?(e=ce.getNode(e,b.tour_settings.play_structure))&&e.tail?a(e.tail):void 0:t}return a(e)}function x(){if(GmCXt.FT.creatorApp){let i="p",o="s",g="b",m=1,p=[],u=b.tour_settings.play_structure,h=b.steps;u=GmCXt.repairPlayStructure(u,b.steps);let P,y=(P=u&&0<u.length?u[0].id.toString():null,null),n=0,_=0;if(GmCXt.FT.creatorApp)for(let e=0;e<h.length;e++)GmCXt.checkForBranchVariationSteps(h[e])&&_++;var e;function S(e,t,r){if(t=t||null,void 0===r&&(r=null),null!==e&&!1!==e&&-1!==e||1!==m||v||0!==_)if(null===e||!1===e||-1===e)y=C(i,e,t,r),m--;else{var n=JSON.parse(JSON.stringify((t=>{for(let e=0;e<h.length;e++)if(h[e].step_id===t)return h[e]})(e)));if((y=n&&e!==P?C(i,null,null!=t?t:null,r):y)&&null!==r&&f(r,y.id),GmCXt.FT.creatorApp){var a=(r=>{let a=-1;for(let e=0,t=p.length;e<t;e++){var i=p[e].step;if(i&&i.step_id===r){a=e;break}}return a})(e);if(-1!==a)return l=a,(l=p[l]).head.push(y.id),f(y.id,a),void(1!==m||v||0!==_?m--:X(p))}if(GmCXt.checkForBranchVariationSteps(n)){var s=n;var l=ce.getNode(n.step_id,b.tour_settings.play_structure);GmCXt.FT.creatorApp||_++;let t=JSON.parse(JSON.stringify(l.branch)),r=JSON.parse(JSON.stringify(s.step_settings.branch)),a=0,i=C(g,s),o;if(y=i,v=!0,t)for(let e=0;e<t.length;e++){a=e;if(t[e]){0<e&&m++,e===t.length-1&&_--;{d=void 0;c=void 0;var d=t[e];t.indexOf(d)===t.length-1&&(v=!1);var c=k(d.tail,b),c=(o=c?c.step_id:null,{name:r[a].branchName,index:t.indexOf(d).toString(),tail:o,head:i.id,stepType:s.step_type});null!==d.tail&&!1!==d.tail&&-1!==d.tail?S(o,c,i.id):S(null,c,i.id)}}}v=!1}else n&&(y=C(o,n,t),S((t=>{for(let e=0;e<u.length;e++)if(u[e].id===t){t=u[e].tail;break}var e=k(t,b);return e?e.step_id:null})(n.step_id),null,y.id))}else y=C(i,e,t,r),X(p)}function f(e,t){!GmCXt.FT.creatorApp&&null!==p[e].tail||(p[e].tail=t)}function C(e,t,r,a){t=t||null,r=r||null,null!=a&&0!==a.length||(a=[],a=y?y.id:null);e={id:n++,type:e,step:t,head:[a],tail:null,branch:r};return p[e.id]=e,a&&f(a,e.id),e}null!==(P=P&&(e=k(P,b))?e.step_id:P)&&S(P)}}function L(t){o(1,a=[]);let r=0;i.forEach(e=>{"branch"!=e.step_type&&(e.countid=++r),t.includes(e.step_id)&&("string"==typeof e.step_settings&&(e.step_settings=JSON.parse(e.step_settings)),a.push(e))})}function E(e){e=ce.getStepFromTour(e,b);ce.guideAction("",e,b,"","")}me(()=>{if(ce.checkCdnSignature().then(()=>{o(0,r=GmCXt.getCdnSign())}),i=b.steps,GmCXt.containBranchStep(b)&&!GmCXt.FT.creatorApp){P=[],i=[],function e(t){P.push(t);i.push(ce.getStepFromTour(t.id,b));if(t.tail)e(ce.getNode(t.tail,b.tour_settings.play_structure));else if(t.branch)for(var r in t.branch)e(ce.getNode(t.branch[r].tail,b.tour_settings.play_structure))}(b.tour_settings.play_structure[0]);for(var e of P)e.branch&&0==n.length?(n.push(e.id),n.push(e.branch[0].tail)):e.id===n[n.length-1]?(e.tail&&n.push(e.tail),e.branch&&n.push(e.branch[0].tail)):e.tail&&0==n.length&&(n.push(e.id),n.push(e.tail));L(n)}else o(1,a=i)});function M(e,t){mg$(".mgPlayerJSProd_branch-dropdown-list-wrapper").slideUp(200),(e=mg$(".mgPlayerJSProd_branch-dropdown-list-wrapper-"+e))&&!e.is(":visible")&&e.slideDown(200)}pe(()=>{y(),_(),ge.selectedBranch.set(!1)});return e.$$.update=()=>{2048&e.$$.dirty[0]&&b&&GmCXt.FT.creatorApp&&"stepview"===de(ge.CurrentPage)&&GmCXt.timeout(function(){mg$(".mgPlayerJSProd_step-view-type-branching").empty(),x()},500)},[r,a,s,m,function(e){if(r)return e.screen_url=GmCXt.restoreAssetSrc(e.screen_url),e.is_screen_url_processed?e.screen_url.split(".png")[0]+"_cropped.png"+r:e.screen_url+r},function(){o(3,m=!1),mg$(".mgPlayerJSProd_delete-connection").css("display","block"),mg$(".mgPlayerJSProd_plus-step").css("display","block"),mg$(".mgPlayerJSProd_step-view-type-branching").empty(),x()},function(){var e;l<15&&(e=Js(++l))&&mg$(".mgPlayerJSProd_step-view-type-branching").css({transform:"scale("+e.scale+") translate("+e.transformLeft+", "+e.transformRight+")"})},function(){var e;2<l&&(e=Js(--l))&&mg$(".mgPlayerJSProd_step-view-type-branching").css({transform:"scale("+e.scale+") translate("+e.transformLeft+", "+e.transformRight+")"})},E,M,function(e,t){let r=e.step_id;ge.selectedBranch.set(e.step_settings.branch[t].branchName);var e=n.indexOf(r)+1,a=n.length-1;n.splice(e,a),b.tour_settings.play_structure.forEach(e=>{n[n.length-1]===r&&e.id===r?n.push(e.branch[t].tail):n[n.length-1]===e.id&&(e.tail&&n.push(e.tail),e.branch)&&n.push(e.branch[0].tail)}),L(n)},b,e=>E(e.step_id),(e,t)=>M(e),e=>E(e.step_id)]}class As extends e{constructor(e){super(),t(this,e,Gs,vs,d,{},us,[-1,-1])}}function Ts(r){let a={},i={popup:(r=r||{}).popup,highlightedArea:r.highlightedArea||{},containerOffset:r.containerOffest||{left:0,top:0},alignment:r.alignment||"",hardApply:r.hardApply||!1,doNotApplyArrow:r.doNotApplyArrow||!1,arrowClass:"",left:null,top:null,isSet:!1,arrowId:r.tooltipArrowId||"",arrowWidth:r.isBeacon?5:12,isGuidance:r.isGuidance,customPos:r.customPos,isBeacon:r.isBeacon,dynamicPositioning:r.dynamicPositioning};if(i.arrowId||(i.doNotApplyArrow=!0),i.highlightedArea.origTop||(i.highlightedArea.origTop=i.highlightedArea.top),0!==i.popup.length){i.arrowId&&mg$("#"+i.arrowId).length&&mg$("#"+i.arrowId).remove(),!i.isGuidance||"top"!==i.alignment&&"bottom"!==i.alignment||(i.arrowWidth=8),i.popupWidth=i.popup.outerWidth()||310,i.popupHeight=i.popup.outerHeight()||50,i.highlightedArea.width=i.highlightedArea.width||0,i.highlightedArea.height=i.highlightedArea.height||0,i.highlightedArea.left=i.highlightedArea.left||0,i.highlightedArea.top=i.highlightedArea.top||0;let e=mg$(window).height(),t=mg$(window).width();return 0<i.highlightedArea.width&&0<i.highlightedArea.height?i.availableSpace={top:i.highlightedArea.origTop,left:i.highlightedArea.left,right:t-(i.highlightedArea.left+i.highlightedArea.width),bottom:e-(i.highlightedArea.origTop+i.highlightedArea.height)}:i.availableSpace={top:0,left:0,right:0,bottom:0},i.highlightedArea.left||i.highlightedArea.top||(i.availableSpace.top=i.availableSpace.top||0,i.availableSpace.left=i.availableSpace.left||0,i.availableSpace.right=i.availableSpace.right||0,i.availableSpace.bottom=i.availableSpace.bottom||0),void 0!==i.containerOffset&&(i.containerOffset.top<0&&(i.containerOffset.top=0),i.containerOffset.left<0&&(i.containerOffset.left=0),i.availableSpace.top+=i.containerOffset.top,i.availableSpace.left+=i.containerOffset.left,i.availableSpace.right-=i.containerOffset.left,i.availableSpace.bottom-=i.containerOffset.top),r.playingTour,0<=i.availableSpace.top&&(i.totalHeightMinusTop=e-i.availableSpace.top),0<=i.availableSpace.left&&(i.totalWidthMinusLeft=t-i.availableSpace.left),0<=i.availableSpace.bottom&&(i.totalHeightMinusBottom=e-i.availableSpace.bottom),0<=i.availableSpace.right&&(i.totalWidthMinusRight=t-i.availableSpace.right),a.getAvailablePositions=function(){return{"left-middle":o(),"left-top":s(),"left-bottom":d(),"right-middle":g(),"right-top":p(),"right-bottom":h(),"top-middle":y(),"top-left":S(),"top-right":C(),"bottom-middle":v(),"bottom-left":J(),"bottom-right":A()}},a.start=function(){switch(i.alignment){case"left":case"left-middle":n(),i.isSet||l(),i.isSet||c();break;case"left-top":l(),i.isSet||c();break;case"left-bottom":c(),i.isSet||l();break;case"right":case"right-middle":m(),i.isSet||u(),i.isSet||P();break;case"right-top":u(),i.isSet||P();break;case"right-bottom":P(),i.isSet||u();break;case"top":_(),i.isSet||f(),i.isSet||b();break;case"top-middle":_();break;case"top-left":f();break;case"top-right":b();break;case"bottom":w(),i.isSet||G(),i.isSet||T();break;case"bottom-middle":w();break;case"bottom-left":G();break;case"bottom-right":T();break;case"center":X();break;case"custom":"px"===i.customPos.left_pos?i.left=i.highlightedArea.left+i.customPos.left:"%"===i.customPos.left_pos&&(i.left=i.highlightedArea.left+i.highlightedArea.width*i.customPos.left/100,i.isBeacon)&&(i.left=i.left-i.popupWidth/2),"px"===i.customPos.top_pos?i.top=i.highlightedArea.top+i.customPos.top:"%"===i.customPos.top_pos&&(i.top=i.highlightedArea.top+i.highlightedArea.height*i.customPos.top/100,i.isBeacon)&&(i.top=i.top-i.popupHeight/2),i.isSet=!0,i.alignment="custom"}var e;return!1===i.hardApply&&(i.isSet||m(),i.isSet||u(),i.isSet||P(),i.isSet||n(),i.isSet||l(),i.isSet||c(),i.isSet||_(),i.isSet||f(),i.isSet||b(),i.isSet||w(),i.isSet||G(),i.isSet||T(),i.isSet||X()),null!==i.left&&null!==i.top&&(i.top<0&&(i.top=10),0<(e=mg$(".mgPlayerJSProd_screen").scrollTop())&&(i.top-=e),0<(e=mg$(".mgPlayerJSProd_screen").scrollLeft())&&(i.left-=e),i.popup.css({left:i.left+i.containerOffset.left,top:i.top+i.containerOffset.top})),i.arrowId&&(i.arrowClass=i.arrowClass+" mgPlayerJSProd_tooltip-arrow"),mg$(".mgPlayerJSProd_arrow-down").not(".mgPlayerJSProd_tooltip-arrow").remove(),mg$(".mgPlayerJSProd_arrow-up").not(".mgPlayerJSProd_tooltip-arrow").remove(),mg$(".mgPlayerJSProd_arrow-left").not(".mgPlayerJSProd_tooltip-arrow").remove(),mg$(".mgPlayerJSProd_arrow-right").not(".mgPlayerJSProd_tooltip-arrow").remove(),i.arrowLeft+=i.containerOffset.left,i.arrowLeft+=mg$(window).scrollLeft(),i.arrowTop+=i.containerOffset.top,i.arrowTop+=mg$(window).scrollTop(),i.doNotApplyArrow||mg$("html").append('<wmgPlayerJSProd_ id= "'+i.arrowId+'" class="'+i.arrowClass+'" style="left:'+i.arrowLeft+"px;top:"+i.arrowTop+'px;"></wmgPlayerJSProd_>'),!!i.isSet&&i.alignment},a.checkHeight=function(){var e=i.popup.outerHeight();i.popupHeight!==e&&a.redo()},a.redo=function(){i.isGuidance&&(i.arrowWidth=8),i.popupWidth=i.popup.outerWidth(),i.popupHeight=i.popup.outerHeight(),a.start()},a.clear=function(){GmCXt.clearPreviewPopupAlignment(i.popup),mg$(".mgPlayerJSProd_arrow-down").not(".mgPlayerJSProd_tooltip-arrow").remove(),mg$(".mgPlayerJSProd_arrow-up").not(".mgPlayerJSProd_tooltip-arrow").remove(),mg$(".mgPlayerJSProd_arrow-left").not(".mgPlayerJSProd_tooltip-arrow").remove(),mg$(".mgPlayerJSProd_arrow-right").not(".mgPlayerJSProd_tooltip-arrow").remove(),i.popup.css({left:0,top:0})},a;function o(){return!i.dynamicPositioning||Math.abs(i.availableSpace.left)>i.popupWidth&&i.highlightedArea.height/2<screen.height&&Math.abs(i.availableSpace.top)+i.highlightedArea.height/2>i.popupHeight/2&&Math.abs(i.availableSpace.bottom)+i.highlightedArea.height/2>i.popupHeight/2}function n(){o()&&(i.left=i.highlightedArea.left-i.popupWidth-i.arrowWidth,i.top=i.highlightedArea.top+i.highlightedArea.height/2-i.popupHeight/2,i.arrowClass="mgPlayerJSProd_arrow-right",i.arrowLeft=i.highlightedArea.left-12,i.arrowTop=i.top+i.popupHeight/2-10,i.isSet=!0,i.alignment="left-middle")}function s(){return!i.dynamicPositioning||Math.abs(i.availableSpace.left)>i.popupWidth&&i.totalHeightMinusTop>i.popupHeight}function l(){s()&&(i.left=i.highlightedArea.left-i.popupWidth-i.arrowWidth,i.top=i.highlightedArea.top,i.arrowClass="mgPlayerJSProd_arrow-right",i.arrowLeft=i.highlightedArea.left-12,i.arrowTop=i.top+7,i.isSet=!0,i.alignment="left-top")}function d(){return!i.dynamicPositioning||Math.abs(i.availableSpace.left)>i.popupWidth&&i.totalHeightMinusBottom>i.popupHeight}function c(){d()&&(i.left=i.highlightedArea.left-i.popupWidth-i.arrowWidth,i.top=i.highlightedArea.top+i.highlightedArea.height-i.popupHeight,i.arrowClass="mgPlayerJSProd_arrow-right",i.arrowLeft=i.highlightedArea.left-12,i.arrowTop=i.top+(i.popupHeight-30),i.isSet=!0,i.alignment="left-bottom")}function g(){return!i.dynamicPositioning||i.availableSpace.right>i.popupWidth&&i.highlightedArea.height/2<screen.height&&Math.abs(i.availableSpace.top)+i.highlightedArea.height/2>i.popupHeight/2&&Math.abs(i.availableSpace.bottom)+i.highlightedArea.height/2>i.popupHeight/2}function m(){g()&&(i.left=i.highlightedArea.left+i.highlightedArea.width+i.arrowWidth,i.top=i.highlightedArea.top+i.highlightedArea.height/2-i.popupHeight/2,i.arrowClass="mgPlayerJSProd_arrow-left",i.arrowLeft=i.left-10,i.arrowTop=i.top+i.popupHeight/2-10,i.isSet=!0,i.alignment="right-middle")}function p(){return!i.dynamicPositioning||i.availableSpace.right>i.popupWidth&&i.totalHeightMinusTop>i.popupHeight}function u(){p()&&(i.left=i.highlightedArea.left+i.highlightedArea.width+i.arrowWidth,i.top=i.highlightedArea.top,i.arrowClass="mgPlayerJSProd_arrow-left",i.arrowLeft=i.left-10,i.arrowTop=i.top+7,i.isSet=!0,i.alignment="right-top")}function h(){return!i.dynamicPositioning||i.availableSpace.right>i.popupWidth&&i.totalHeightMinusBottom>i.popupHeight}function P(){h()&&(i.left=i.highlightedArea.left+i.highlightedArea.width+i.arrowWidth,i.top=i.highlightedArea.top+i.highlightedArea.height-i.popupHeight,i.arrowClass="mgPlayerJSProd_arrow-left",i.arrowLeft=i.left-10,i.arrowTop=i.top+(i.popupHeight-30),i.isSet=!0,i.alignment="right-bottom")}function y(){return!i.dynamicPositioning||Math.abs(i.availableSpace.top)>i.popupHeight+15&&i.totalWidthMinusLeft>i.popupWidth/2&&Math.abs(i.availableSpace.left)+i.highlightedArea.width/2>i.popupWidth/2&&i.availableSpace.right+i.highlightedArea.width/2>i.popupWidth/2}function _(){y()&&(i.left=i.highlightedArea.left+i.highlightedArea.width/2-i.popupWidth/2,i.top=i.highlightedArea.top-i.popupHeight-i.arrowWidth,i.arrowClass="mgPlayerJSProd_arrow-down",i.arrowLeft=i.highlightedArea.left+i.highlightedArea.width/2-8,i.arrowTop=i.highlightedArea.top-12,i.isSet=!0,i.alignment="top-middle")}function S(){return!i.dynamicPositioning||Math.abs(i.availableSpace.top)>i.popupHeight+15&&i.totalWidthMinusLeft>i.popupWidth}function f(){S()&&(i.left=i.highlightedArea.left,i.top=i.highlightedArea.top-i.popupHeight-i.arrowWidth,i.arrowClass="mgPlayerJSProd_arrow-down",i.arrowLeft=i.highlightedArea.left+7,i.arrowTop=i.highlightedArea.top-12,i.isSet=!0,i.alignment="top-left")}function C(){return!i.dynamicPositioning||Math.abs(i.availableSpace.top)>i.popupHeight+15&&i.totalWidthMinusRight>i.popupWidth}function b(){C()&&(i.left=i.highlightedArea.left+i.highlightedArea.width-i.popupWidth,i.top=i.highlightedArea.top-i.popupHeight-i.arrowWidth,i.arrowClass="mgPlayerJSProd_arrow-down",i.arrowLeft=i.highlightedArea.left+i.highlightedArea.width-27,i.arrowTop=i.highlightedArea.top-12,i.isSet=!0,i.alignment="top-right")}function v(){return!i.dynamicPositioning||Math.abs(i.availableSpace.bottom)>i.popupHeight&&i.totalWidthMinusLeft>i.popupWidth/2&&Math.abs(i.availableSpace.left)+i.highlightedArea.width/2>i.popupWidth/2&&i.availableSpace.right+i.highlightedArea.width/2>i.popupWidth/2}function w(){v()&&(i.left=i.highlightedArea.left+i.highlightedArea.width/2-i.popupWidth/2,i.top=i.highlightedArea.top+i.highlightedArea.height+i.arrowWidth,i.arrowClass="mgPlayerJSProd_arrow-up",i.arrowLeft=i.highlightedArea.left+i.highlightedArea.width/2-8,i.arrowTop=i.highlightedArea.top+i.highlightedArea.height+2,i.isSet=!0,i.alignment="bottom-middle")}function J(){return!i.dynamicPositioning||Math.abs(i.availableSpace.bottom)>i.popupHeight&&i.totalWidthMinusLeft>i.popupWidth}function G(){J()&&(i.left=i.highlightedArea.left,i.top=i.highlightedArea.top+i.highlightedArea.height+i.arrowWidth,i.arrowClass="mgPlayerJSProd_arrow-up",i.arrowLeft=i.highlightedArea.left+7,i.arrowTop=i.highlightedArea.top+i.highlightedArea.height+2,i.isSet=!0,i.alignment="bottom-left")}function A(){return!i.dynamicPositioning||Math.abs(i.availableSpace.bottom)>i.popupHeight&&i.totalWidthMinusRight>i.popupWidth}function T(){A()&&(i.left=i.highlightedArea.left+i.highlightedArea.width-i.popupWidth,i.top=i.highlightedArea.top+i.highlightedArea.height+i.arrowWidth,i.arrowClass="mgPlayerJSProd_arrow-up",i.arrowLeft=i.highlightedArea.left+i.highlightedArea.width-27,i.arrowTop=i.highlightedArea.top+i.highlightedArea.height+2,i.isSet=!0,i.alignment="bottom-right")}function X(){i.left=(t-i.popupWidth)/2,i.left+=mg$(window).scrollLeft(),i.top=(e-i.popupHeight)/2,i.top+=mg$(window).scrollTop(),i.isSet=!0,i.alignment="center"}}}function Xs(e,t,r){e=e.slice();return e[105]=t[r],e[106]=t,e[107]=r,e}function ks(e,t,r){e=e.slice();return e[105]=t[r],e[111]=t,e[109]=r,e}function xs(e,t,r){e=e.slice();return e[105]=t[r],e[110]=t,e[109]=r,e}function Ls(e,t,r){e=e.slice();return e[105]=t[r],e[108]=t,e[109]=r,e}function Es(){let r,a;return r=new un({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Ms(e){let r,a=!GmCXt.isEmpty(e[11]),i,o=a&&Is(e);return{c(){r=Me("wmgPlayerJSProd_"),o&&o.c(),Fe(r,"class","mgPlayerJSProd_clear mgPlayerJSProd_howto-paint-tool-container"),Re(r,"mgPlayerJSProd_disabled",e[0].disableSaveButton||e[12])},m(e,t){Le(e,r,t),o&&o.m(r,null),i=!0},p(e,t){(a=2048&t[0]?!GmCXt.isEmpty(e[11]):a)?o?(o.p(e,t),2048&t[0]&&Be(o,1)):((o=Is(e)).c(),Be(o,1),o.m(r,null)):o&&(He(),Ve(o,1,1,()=>{o=null}),Ne()),(!i||4097&t[0])&&Re(r,"mgPlayerJSProd_disabled",e[0].disableSaveButton||e[12])},i(e){i||(Be(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&Ee(r),o&&o.d()}}}function Is(t){let a,r;var e={innerPaintTool:!0,step:t[11],toggleCropTool:t[27],initHowToPaintToolbar:t[29],updateStepData:t[30],checkHighlightAdd:t[28],isHowToPaintTool:!0};return a=new Nr({props:e}),t[31](a),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};2048&t[0]&&(r.step=e[11]),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){t[31](null),je(a,e)}}}function Ds(e){let a,r,i,o,n,s,l=[Os,Fs,$s],d=[];function c(e,t){return 9&t[0]&&(r=null),9&t[0]&&(i=null),e[0].filteredSteps&&0<e[0].filteredSteps.length?0:(r=null==r?!!e[3].isLocked(e[0]):r)?1:(i=null==i?!(0<e[0]?.filteredSteps?.length||0===e[0]?.filteredSteps?.length&&e[3].isLocked(e[0])):i)?2:-1}return~(o=c(e,[-1,-1,-1,-1]))&&(n=d[o]=l[o](e)),{c(){a=Me("wmgPlayerJSProd_"),n&&n.c(),Fe(a,"class","mgPlayerJSProd_category-list"),Fe(a,"id","mgPlayerJSProd_category-list")},m(e,t){Le(e,a,t),~o&&d[o].m(a,null),s=!0},p(e,t){let r=o;(o=c(e,t))===r?~o&&d[o].p(e,t):(n&&(He(),Ve(d[r],1,1,()=>{d[r]=null}),Ne()),~o?((n=d[o])?n.p(e,t):(n=d[o]=l[o](e)).c(),Be(n,1),n.m(a,null)):n=null)},i(e){s||(Be(n),s=!0)},o(e){Ve(n),s=!1},d(e){e&&Ee(a),~o&&d[o].d()}}}function $s(e){let r,a,i=e[3].svgs.noStep+"",o,n,s=e[3].labels.startYoursmartWalkthrough+"",l,d,c,g;return c=new Nr({props:{step:{}}}),{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=De(),n=Me("wmgPlayerJSProd_"),l=Ie(s),d=De(),ze(c.$$.fragment),Fe(a,"class","mgPlayerJSProd_no-step-created"),Fe(n,"class","mgPlayerJSProd_label"),Fe(r,"class","mgPlayerJSProd_add-branching-container")},m(e,t){Le(e,r,t),xe(r,a),a.innerHTML=i,xe(r,o),xe(r,n),xe(n,l),xe(r,d),Ue(c,r,null),g=!0},p(e,t){(!g||8&t[0])&&i!==(i=e[3].svgs.noStep+"")&&(a.innerHTML=i),(!g||8&t[0])&&s!==(s=e[3].labels.startYoursmartWalkthrough+"")&&Oe(l,s)},i(e){g||(Be(c.$$.fragment,e),g=!0)},o(e){Ve(c.$$.fragment,e),g=!1},d(e){e&&Ee(r),je(c)}}}function Fs(e){let r,a,i,o=e[3].svgs.no_guides_image+"",n,s,l,d=e[3].labels.lockedTourNoStep+"",c;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),l=Me("wmgPlayerJSProd_"),c=Ie(d),Fe(i,"class","mgPlayerJSProd_no-guide-image-cartoon"),Fe(a,"class","mgPlayerJSProd_no-guide-image-wrapper"),Fe(l,"class","mgPlayerJSProd_no-guide-msg"),Fe(l,"tabindex","0"),Fe(s,"class","mgPlayerJSProd_no-guide-text-wrapper"),Fe(r,"class","mgPlayerJSProd_no-tour-message-wrapper mgPlayerJSProd_position-center")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),i.innerHTML=o,xe(r,n),xe(r,s),xe(s,l),xe(l,c)},p(e,t){8&t[0]&&o!==(o=e[3].svgs.no_guides_image+"")&&(i.innerHTML=o),8&t[0]&&d!==(d=e[3].labels.lockedTourNoStep+"")&&Oe(c,d)},i:Je,o:Je,d(e){e&&Ee(r)}}}function Os(e){let r,a,i,o,n,s,l,d=[Ns,Hs,Rs],c=[];function g(e,t){return 9&t[0]&&(r=null),65&t[0]&&(a=null),(r=null==r?!!e[3].showBranchView(e[0]):r)?0:(a=null==a?!(GmCXt.isOnboarding(e[0])||e[6]):a)?1:2}i=g(e,[-1,-1,-1,-1]),o=c[i]=d[i](e);let m=GmCXt.FT.creatorApp&&e[0].isEditMode&&qs(e);return{c(){o.c(),n=De(),m&&m.c(),s=I()},m(e,t){c[i].m(e,t),Le(e,n,t),m&&m.m(e,t),Le(e,s,t),l=!0},p(e,t){let r=i;(i=g(e,t))===r?c[i].p(e,t):(He(),Ve(c[r],1,1,()=>{c[r]=null}),Ne(),(o=c[i])?o.p(e,t):(o=c[i]=d[i](e)).c(),Be(o,1),o.m(n.parentNode,n)),GmCXt.FT.creatorApp&&e[0].isEditMode?m?m.p(e,t):((m=qs(e)).c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},i(e){l||(Be(o),l=!0)},o(e){Ve(o),l=!1},d(e){e&&(Ee(n),Ee(s)),c[i].d(e),m&&m.d(e)}}}function Rs(t){let i,a,o=D(t[0].filteredSteps),n=[];for(let e=0;e<o.length;e+=1)n[e]=Bs(ks(t,o,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();i=I()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Le(t,i,r),a=!0},p(t,r){if(33&r[0]){o=D(t[0].filteredSteps);let e;for(e=0;e<o.length;e+=1){var a=ks(t,o,e);n[e]?(n[e].p(a,r),Be(n[e],1)):(n[e]=Bs(a),n[e].c(),Be(n[e],1),n[e].m(i.parentNode,i))}for(He(),e=o.length;e<n.length;e+=1)(e=>Ve(n[e],1,1,()=>{n[e]=null}))(e);Ne()}},i(e){if(!a){for(let e=0;e<o.length;e+=1)Be(n[e]);a=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)Ve(n[e]);a=!1},d(e){e&&Ee(i),F(n,e)}}}function Hs(t){let i,r,o=D(t[0].filteredSteps),n=[];for(let e=0;e<o.length;e+=1)n[e]=js(xs(t,o,e));return{c(){i=Me("wmgPlayerJSProd_");for(let e=0;e<n.length;e+=1)n[e].c();Fe(i,"class","mgPlayerJSProd_step-view-type-default")},m(e,t){Le(e,i,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(i,null);r=!0},p(t,r){if(67231791&r[0]){o=D(t[0].filteredSteps);let e;for(e=0;e<o.length;e+=1){var a=xs(t,o,e);n[e]?(n[e].p(a,r),Be(n[e],1)):(n[e]=js(a),n[e].c(),Be(n[e],1),n[e].m(i,null))}for(He(),e=o.length;e<n.length;e+=1)(e=>Ve(n[e],1,1,()=>{n[e]=null}))(e);Ne()}},i(e){if(!r){for(let e=0;e<o.length;e+=1)Be(n[e]);r=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)Ve(n[e]);r=!1},d(e){e&&Ee(i),F(n,e)}}}function Ns(t){let a,i,o,n,s=(a=new As({}),D(t[0].filteredSteps)),l=[];for(let e=0;e<s.length;e+=1)l[e]=Zs(Ls(t,s,e));return{c(){ze(a.$$.fragment),i=De();for(let e=0;e<l.length;e+=1)l[e].c();o=I()},m(t,r){Ue(a,t,r),Le(t,i,r);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,r);Le(t,o,r),n=!0},p(t,r){if(33&r[0]){s=D(t[0].filteredSteps);let e;for(e=0;e<s.length;e+=1){var a=Ls(t,s,e);l[e]?(l[e].p(a,r),Be(l[e],1)):(l[e]=Zs(a),l[e].c(),Be(l[e],1),l[e].m(o.parentNode,o))}for(He(),e=s.length;e<l.length;e+=1)(e=>Ve(l[e],1,1,()=>{l[e]=null}))(e);Ne()}},i(e){if(!n){Be(a.$$.fragment,e);for(let e=0;e<s.length;e+=1)Be(l[e]);n=!0}},o(e){Ve(a.$$.fragment,e),l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)Ve(l[e]);n=!1},d(e){e&&(Ee(i),Ee(o)),je(a,e),F(l,e)}}}function Bs(r){let a,i,o,n,s,l;function e(e){r[40](e,r[105],r[111],r[109])}var t={index:r[109],tour:r[0],imageUploadData:r[5]};return void 0!==r[105]&&(t.step=r[105]),i=new ps({props:t}),ue.push(()=>j(i,"step",e)),{c(){a=Me("wmgPlayerJSProd_"),ze(i.$$.fragment),n=De(),Fe(a,"class","mgPlayerJSProd_tg-view-container"),Fe(a,"id",s="mgPlayerJSProd_tg-view-container-"+r[105].step_id)},m(e,t){Le(e,a,t),Ue(i,a,null),xe(a,n),l=!0},p(e,t){r=e;e={};1&t[0]&&(e.tour=r[0]),32&t[0]&&(e.imageUploadData=r[5]),!o&&1&t[0]&&(o=!0,e.step=r[105],U(()=>o=!1)),i.$set(e),(!l||1&t[0]&&s!==(s="mgPlayerJSProd_tg-view-container-"+r[105].step_id))&&Fe(a,"id",s)},i(e){l||(Be(i.$$.fragment,e),l=!0)},o(e){Ve(i.$$.fragment,e),l=!1},d(e){e&&Ee(a),je(i)}}}function Vs(r){let a,i,o;function e(e){r[39](e,r[105],r[110],r[109])}var t={index:r[109],tour:r[0],imageUploadData:r[5]};return void 0!==r[105]&&(t.step=r[105]),a=new ps({props:t}),ue.push(()=>j(a,"step",e)),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),o=!0},p(e,t){r=e;e={};1&t[0]&&(e.tour=r[0]),32&t[0]&&(e.imageUploadData=r[5]),!i&&1&t[0]&&(i=!0,e.step=r[105],U(()=>i=!1)),a.$set(e)},i(e){o||(Be(a.$$.fragment,e),o=!0)},o(e){Ve(a.$$.fragment,e),o=!1},d(e){je(a,e)}}}function zs(r){let a,i,o;function e(e){r[38](e,r[105],r[110],r[109])}var t={index:r[109],tour:r[0],imageUploadData:r[5]};return void 0!==r[105]&&(t.step=r[105]),a=new ps({props:t}),ue.push(()=>j(a,"step",e)),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),o=!0},p(e,t){r=e;e={};1&t[0]&&(e.tour=r[0]),32&t[0]&&(e.imageUploadData=r[5]),!i&&1&t[0]&&(i=!0,e.step=r[105],U(()=>i=!1)),a.$set(e)},i(e){o||(Be(a.$$.fragment,e),o=!0)},o(e){Ve(a.$$.fragment,e),o=!1},d(e){je(a,e)}}}function Us(r){let a,i,o,n,s,l,d;function e(e){r[33](e,r[105],r[110],r[109])}var t={index:r[109],tour:r[0],imageUploadData:r[5]};function c(...e){return r[34](r[105],r[109],...e)}function g(...e){return r[36](r[109],...e)}return void 0!==r[105]&&(t.step=r[105]),i=new ps({props:t}),ue.push(()=>j(i,"step",e)),{c(){a=Me("wmgPlayerJSProd_"),ze(i.$$.fragment),n=De(),Fe(a,"draggable","true")},m(e,t){Le(e,a,t),Ue(i,a,null),xe(a,n),s=!0,l||(d=[$e(a,"dragstart",c),$e(a,"drag",r[35]),$e(a,"dragover",g),$e(a,"dragend",r[37])],l=!0)},p(e,t){r=e;e={};1&t[0]&&(e.tour=r[0]),32&t[0]&&(e.imageUploadData=r[5]),!o&&1&t[0]&&(o=!0,e.step=r[105],U(()=>o=!1)),i.$set(e)},i(e){s||(Be(i.$$.fragment,e),s=!0)},o(e){Ve(i.$$.fragment,e),s=!1},d(e){e&&Ee(a),je(i),l=!1,ke(d)}}}function js(e){let r,a,i,o,n,s=[Us,zs,Vs],l=[];function d(e,t){return(r=null==(r=9&t[0]?null:r)?!(e[3].isTrackingGuide(e[0])||("user"===e[3].user.role||!GmCXt.FT.creatorApp||e[0].is_published||e[3].isLocked(e[0])||e[0].filteredSteps.length<=1||0<e[3].pendingStepCount||e[3].isDesktopApp()||e[3].hideMirrorAppCtrl()||e[0].isEditMode)):r)?0:0<!e[3].pendingStepCount?1:2}return a=d(e,[-1,-1,-1,-1]),i=l[a]=s[a](e),{c(){i.c(),o=I()},m(e,t){l[a].m(e,t),Le(e,o,t),n=!0},p(e,t){let r=a;(a=d(e,t))===r?l[a].p(e,t):(He(),Ve(l[r],1,1,()=>{l[r]=null}),Ne(),(i=l[a])?i.p(e,t):(i=l[a]=s[a](e)).c(),Be(i,1),i.m(o.parentNode,o))},i(e){n||(Be(i),n=!0)},o(e){Ve(i),n=!1},d(e){e&&Ee(o),l[a].d(e)}}}function Ws(r){let a,i,o,n,s,l;function e(e){r[32](e,r[105],r[108],r[109])}var t={index:r[109],tour:r[0],imageUploadData:r[5]};return void 0!==r[105]&&(t.step=r[105]),o=new ps({props:t}),ue.push(()=>j(o,"step",e)),{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),ze(o.$$.fragment),s=De(),Fe(i,"class","mgPlayerJSProd_captured-settings-container"),Fe(a,"class","mgPlayerJSProd_step-view-type-default")},m(e,t){Le(e,a,t),xe(a,i),Ue(o,i,null),xe(a,s),l=!0},p(e,t){r=e;e={};1&t[0]&&(e.tour=r[0]),32&t[0]&&(e.imageUploadData=r[5]),!n&&1&t[0]&&(n=!0,e.step=r[105],U(()=>n=!1)),o.$set(e)},i(e){l||(Be(o.$$.fragment,e),l=!0)},o(e){Ve(o.$$.fragment,e),l=!1},d(e){e&&Ee(a),je(o)}}}function Zs(e){let r,a,i=(e[105].isEdit||e[105].isCreation)&&e[0].isEditMode&&Ws(e);return{c(){i&&i.c(),r=I()},m(e,t){i&&i.m(e,t),Le(e,r,t),a=!0},p(e,t){(e[105].isEdit||e[105].isCreation)&&e[0].isEditMode?i?(i.p(e,t),1&t[0]&&Be(i,1)):((i=Ws(e)).c(),Be(i,1),i.m(r.parentNode,r)):i&&(He(),Ve(i,1,1,()=>{i=null}),Ne())},i(e){a||(Be(i),a=!0)},o(e){Ve(i),a=!1},d(e){e&&Ee(r),i&&i.d(e)}}}function qs(r){let a,i,o=r[3].labels.save+"",n,s,l,d,c=r[3].labels.btnCancel+"",g,m,p;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=Ie(o),l=De(),d=Me("wmgPlayerJSProd_"),g=Ie(c),Fe(i,"id","mgPlayerJSProd_step-edit-save"),Fe(i,"class",s="mgPlayerJSProd_btn-default mgPlayerJSProd_margin-lr-25 mgPlayerJSProd_disabledSaveBtn "+(r[0].disableSaveButton&&!r[3].isAiSuggesionSteps||r[12]?"mgPlayerJSProd_disabled":"")),Fe(d,"id","mgPlayerJSProd_step-edit-cancel"),Fe(d,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral mgPlayerJSProd_margin-lr-25 mgPlayerJSProd_disabledSaveBtn"),Fe(a,"class","mgPlayerJSProd_step-edit-footer-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center")},m(e,t){Le(e,a,t),xe(a,i),xe(i,n),xe(a,l),xe(a,d),xe(d,g),m||(p=[$e(i,"click",r[41]),$e(d,"click",r[42])],m=!0)},p(e,t){8&t[0]&&o!==(o=e[3].labels.save+"")&&Oe(n,o),4105&t[0]&&s!==(s="mgPlayerJSProd_btn-default mgPlayerJSProd_margin-lr-25 mgPlayerJSProd_disabledSaveBtn "+(e[0].disableSaveButton&&!e[3].isAiSuggesionSteps||e[12]?"mgPlayerJSProd_disabled":""))&&Fe(i,"class",s),8&t[0]&&c!==(c=e[3].labels.btnCancel+"")&&Oe(g,c)},d(e){e&&Ee(a),m=!1,ke(p)}}}function Ys(r){let a,i,o,n,s,l,d,c,g,m,p,u=r[3].labels.btnSelectAll+"",h,P,y,_,S,f=r[3].svgs.search+"",C,b,v,w,J,G=r[3].svgs.search_close+"",A,T,X,k=r[17]()&&r[7],x,L;function E(e){return e[7]&&e[9].length?Qs:Ks}let M=E(r),I=M(r),D=k&&rl(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("label"),s=Me("input"),d=De(),c=Me("wmgPlayerJSProd_"),m=De(),p=Me("wmgPlayerJSProd_"),h=Ie(u),P=De(),y=Me("wmgPlayerJSProd_"),_=Me("wmgPlayerJSProd_"),S=Me("wmgPlayerJSProd_"),C=De(),b=Me("input"),w=De(),J=Me("button"),T=De(),I.c(),X=De(),D&&D.c(),Fe(s,"type","checkbox"),Fe(s,"class","mgPlayerJSProd_export-guide-checkbox mgPlayerJSProd_inline-block-vm mgPlayerJSProd_input-checkbox-custom"),Fe(s,"name","export-guide-checkbox"),s.__value=l=r[3].labels.btnSelectAll,We(s,s.__value),Fe(c,"class","mgPlayerJSProd_span mgPlayerJSProd_checkmark"),Fe(n,"class",g="mgPlayerJSProd_checkbox-container "+(r[7]?"":"mgPlayerJSProd_disabled")),Fe(p,"class","mgPlayerJSProd_margin-lr-25"),Fe(S,"class","mgPlayerJSProd_search-icon mgPlayerJSProd_inline-block-vm"),Fe(b,"id","mgPlayerJSProd_search-text-input"),Fe(b,"class","mgPlayerJSProd_search-input mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100 mgPlayerJSProd_height-100"),Fe(b,"maxlength","100"),Fe(b,"type","text"),Fe(b,"placeholder",v=r[3].labels.btnSearchSteps),Fe(b,"autocomplete","off"),Fe(J,"id","mgPlayerJSProd_icon-search-close"),Fe(J,"class",A="mgPlayerJSProd_search-close-icon mgPlayerJSProd_cursor-pointer mgPlayerJSProd_inline-block-vm mgPlayerJSProd_lbl-btn "+(r[3].searchStepKeyword&&r[3].searchStepKeyword.length?"mgPlayerJSProd_active":"")),Fe(_,"class","mgPlayerJSProd_search-input-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_float-left"),Fe(y,"class","mgPlayerJSProd_search-bar-container"),Fe(o,"class","mgPlayerJSProd_step-copy-delete-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),Fe(i,"class","mgPlayerJSProd_auto-header-bar-container"),Fe(a,"class","mgPlayerJSProd_step-copy-delete-container")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),xe(n,s),s.checked=r[8],xe(n,d),xe(n,c),xe(o,m),xe(o,p),xe(p,h),xe(o,P),xe(o,y),xe(y,_),xe(_,S),S.innerHTML=f,xe(_,C),xe(_,b),We(b,r[3].searchStepKeyword),xe(_,w),xe(_,J),J.innerHTML=G,xe(a,T),I.m(a,null),xe(a,X),D&&D.m(a,null),x||(L=[$e(s,"change",r[43]),$e(s,"click",r[44]),$e(b,"input",r[45]),$e(b,"keyup",r[46]),$e(J,"click",r[47])],x=!0)},p(e,t){8&t[0]&&l!==(l=e[3].labels.btnSelectAll)&&(s.__value=l,We(s,s.__value)),256&t[0]&&(s.checked=e[8]),128&t[0]&&g!==(g="mgPlayerJSProd_checkbox-container "+(e[7]?"":"mgPlayerJSProd_disabled"))&&Fe(n,"class",g),8&t[0]&&u!==(u=e[3].labels.btnSelectAll+"")&&Oe(h,u),8&t[0]&&f!==(f=e[3].svgs.search+"")&&(S.innerHTML=f),8&t[0]&&v!==(v=e[3].labels.btnSearchSteps)&&Fe(b,"placeholder",v),8&t[0]&&b.value!==e[3].searchStepKeyword&&We(b,e[3].searchStepKeyword),8&t[0]&&G!==(G=e[3].svgs.search_close+"")&&(J.innerHTML=G),8&t[0]&&A!==(A="mgPlayerJSProd_search-close-icon mgPlayerJSProd_cursor-pointer mgPlayerJSProd_inline-block-vm mgPlayerJSProd_lbl-btn "+(e[3].searchStepKeyword&&e[3].searchStepKeyword.length?"mgPlayerJSProd_active":""))&&Fe(J,"class",A),M===(M=E(e))&&I?I.p(e,t):(I.d(1),(I=M(e))&&(I.c(),I.m(a,X))),(k=128&t[0]?e[17]()&&e[7]:k)?D?D.p(e,t):((D=rl(e)).c(),D.m(a,null)):D&&(D.d(1),D=null)},d(e){e&&Ee(a),I.d(),D&&D.d(),x=!1,ke(L)}}}function Ks(e){let r,a,i=e[3].labels.stepNotFound+"",o;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=Ie(i),Fe(a,"class","mgPlayerJSProd_no-step-found-msg"),Fe(r,"class","mgPlayerJSProd_category-list")},m(e,t){Le(e,r,t),xe(r,a),xe(a,o)},p(e,t){8&t[0]&&i!==(i=e[3].labels.stepNotFound+"")&&Oe(o,i)},d(e){e&&Ee(r)}}}function Qs(t){let i,o=D(t[9]),n=[];for(let e=0;e<o.length;e+=1)n[e]=tl(Xs(t,o,e));return{c(){i=Me("wmgPlayerJSProd_");for(let e=0;e<n.length;e+=1)n[e].c();Fe(i,"class","mgPlayerJSProd_category-list")},m(e,t){Le(e,i,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(i,null)},p(t,r){if(4194816&r[0]){o=D(t[9]);let e;for(e=0;e<o.length;e+=1){var a=Xs(t,o,e);n[e]?n[e].p(a,r):(n[e]=tl(a),n[e].c(),n[e].m(i,null))}for(;e<n.length;e+=1)n[e].d(1);n.length=o.length}},d(e){e&&Ee(i),F(n,e)}}}function el(r){let a,i,o,n,s,l,d,c,g,m,p=nl(r[105].step_order+". "+r[105].step_title+" "+r[105].step_description+(r[105].step_settings.smartTip.guidanceMessage||r[105].step_settings.smartTip.validationMessage||""))+"",u,h,P;function y(){r[48].call(n,r[106],r[107])}return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("label"),n=Me("input"),l=De(),d=Me("wmgPlayerJSProd_"),g=De(),m=Me("wmgPlayerJSProd_"),u=De(),Fe(n,"type","checkbox"),Fe(n,"class","mgPlayerJSProd_export-guide-checkbox mgPlayerJSProd_inline-block-vm mgPlayerJSProd_input-checkbox-custom"),Fe(n,"name","copy-guide-checkbox"),n.__value=s=r[105].step_id,We(n,n.__value),Fe(d,"class",c="mgPlayerJSProd_span mgPlayerJSProd_checkmark "+("branch"===r[105].step_type?"mgPlayerJSProd_disabled":"")),Fe(o,"class","mgPlayerJSProd_checkbox-container"),Fe(m,"class","mgPlayerJSProd_margin-lr-25 mgPlayerJSProd_text-overflow-ellipsis"),Fe(i,"class","mgPlayerJSProd_tour-list-copy-delete-wrapper"),Fe(a,"class","mgPlayerJSProd_tour-item")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),n.checked=r[105].copy,xe(o,l),xe(o,d),xe(i,g),xe(i,m),m.innerHTML=p,xe(a,u),h||(P=[$e(n,"change",y),$e(n,"change",r[49])],h=!0)},p(e,t){r=e,512&t[0]&&s!==(s=r[105].step_id)&&(n.__value=s,We(n,n.__value)),512&t[0]&&(n.checked=r[105].copy),512&t[0]&&c!==(c="mgPlayerJSProd_span mgPlayerJSProd_checkmark "+("branch"===r[105].step_type?"mgPlayerJSProd_disabled":""))&&Fe(d,"class",c),512&t[0]&&p!==(p=nl(r[105].step_order+". "+r[105].step_title+" "+r[105].step_description+(r[105].step_settings.smartTip.guidanceMessage||r[105].step_settings.smartTip.validationMessage||""))+"")&&(m.innerHTML=p)},d(e){e&&Ee(a),h=!1,ke(P)}}}function tl(e){let r,a=!e[105].hide&&el(e);return{c(){a&&a.c(),r=I()},m(e,t){a&&a.m(e,t),Le(e,r,t)},p(e,t){e[105].hide?a&&(a.d(1),a=null):a?a.p(e,t):((a=el(e)).c(),a.m(r.parentNode,r))},d(e){e&&Ee(r),a&&a.d(e)}}}function rl(r){let a,i,o,n=r[3].labels.btnCancel+"",s,l,d,c,g=r[3].labels.btnCopySteps+"",m,p,u,h=!r[0].is_published&&al(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),s=Ie(n),l=De(),h&&h.c(),d=De(),c=Me("wmgPlayerJSProd_"),m=Ie(g),Fe(o,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral mgPlayerJSProd_margin-lr-20"),Fe(c,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_margin-lr-20"),Fe(i,"class","mgPlayerJSProd_auto-btn-wrapper"),Fe(a,"class","mgPlayerJSProd_list-page-btn-wrapper mgPlayerJSProd_no-padding")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,s),xe(i,l),h&&h.m(i,null),xe(i,d),xe(i,c),xe(c,m),p||(u=[$e(o,"click",r[50]),$e(c,"click",r[52])],p=!0)},p(e,t){8&t[0]&&n!==(n=e[3].labels.btnCancel+"")&&Oe(s,n),e[0].is_published?h&&(h.d(1),h=null):h?h.p(e,t):((h=al(e)).c(),h.m(i,d)),8&t[0]&&g!==(g=e[3].labels.btnCopySteps+"")&&Oe(m,g)},d(e){e&&Ee(a),h&&h.d(),p=!1,ke(u)}}}function al(r){let a,i=r[3].labels.btnDeleteSteps+"",o,n,s;return{c(){a=Me("wmgPlayerJSProd_"),o=Ie(i),Fe(a,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral mgPlayerJSProd_margin-lr-20")},m(e,t){Le(e,a,t),xe(a,o),n||(s=$e(a,"click",r[51]),n=!0)},p(e,t){8&t[0]&&i!==(i=e[3].labels.btnDeleteSteps+"")&&Oe(o,i)},d(e){e&&Ee(a),n=!1,s()}}}function il(e){let r=e[0].filteredSteps&&0<e[0].filteredSteps.length&&"copySteps"!==e[4]&&!(0===e[0].tour_id&&GmCXt.isHowToGuide(e[0])),a,i=GmCXt.isHowToGuide(e[0])&&(de(ge.stepOperationMode)===GmCXt.STEP_EDIT_OPERATION||de(ge.stepOperationMode)===GmCXt.STEP_CREATE_OPERATION),o,n,s,l,d=r&&Es(),c=i&&Ms(e),g="copySteps"!==e[4]&&!e[3].isApiCallOn&&Ds(e),m="copySteps"===e[4]&&Ys(e);return{c(){d&&d.c(),a=De(),c&&c.c(),o=De(),g&&g.c(),n=De(),m&&m.c(),s=I()},m(e,t){d&&d.m(e,t),Le(e,a,t),c&&c.m(e,t),Le(e,o,t),g&&g.m(e,t),Le(e,n,t),m&&m.m(e,t),Le(e,s,t),l=!0},p(e,t){(r=17&t[0]?e[0].filteredSteps&&0<e[0].filteredSteps.length&&"copySteps"!==e[4]&&!(0===e[0].tour_id&&GmCXt.isHowToGuide(e[0])):r)?d?17&t[0]&&Be(d,1):((d=Es()).c(),Be(d,1),d.m(a.parentNode,a)):d&&(He(),Ve(d,1,1,()=>{d=null}),Ne()),(i=1&t[0]?GmCXt.isHowToGuide(e[0])&&(de(ge.stepOperationMode)===GmCXt.STEP_EDIT_OPERATION||de(ge.stepOperationMode)===GmCXt.STEP_CREATE_OPERATION):i)?c?(c.p(e,t),1&t[0]&&Be(c,1)):((c=Ms(e)).c(),Be(c,1),c.m(o.parentNode,o)):c&&(He(),Ve(c,1,1,()=>{c=null}),Ne()),"copySteps"===e[4]||e[3].isApiCallOn?g&&(He(),Ve(g,1,1,()=>{g=null}),Ne()):g?(g.p(e,t),24&t[0]&&Be(g,1)):((g=Ds(e)).c(),Be(g,1),g.m(n.parentNode,n)),"copySteps"===e[4]?m?m.p(e,t):((m=Ys(e)).c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},i(e){l||(Be(d),Be(c),Be(g),l=!0)},o(e){Ve(d),Ve(c),Ve(g),l=!1},d(e){e&&(Ee(a),Ee(o),Ee(n),Ee(s)),d&&d.d(e),c&&c.d(e),g&&g.d(e),m&&m.d(e)}}}function ol(e,t){e.step_audio_text=" ",e.audio=GmCXt.getPathnameFromUrl(t.audio_url),e.step_settings=e.step_settings||{},e.step_settings.customAudioText=!1,e.recordedBlobs&&0<e.recordedBlobs.size?(e.step_settings.recordedAudio=!0,e.step_settings.uploadedAudio=!1):(e.step_settings.uploadedAudio=!0,e.step_settings.recordedAudio=!1)}function nl(e){return e?String(e).replace(/<[^>]+>/gm,""):""}function sl(e,D,d){let c=de(ge.currentTour),n=GmCXt.createDeepCopy(de(ge.currentTour)),t=!1,g={},r=!1,o,m,a=(ce.activeTourId,!0),i=!1,s=c.steps,p=(c.disableSaveButton=!0,de(ge.stepOperationMode)),l=ce.activeScreenCastTourId,u=(l=l||0,ce.currentTour=de(ge.currentTour),GmCXt.saveToDapStorage("currentTour",ce.currentTour),!1),h,P=0,y,_=!1,S=!(ce.howToImagesPushArray=[]),$=(ce.enableTranslation&&(GmCXt.getLXPLang()?o=GmCXt.getLXPLang():ce.language&&(o=ce.language)),{tour_type:ce.currentTour&&ce.currentTour.tour_type||""});function F(){if(GmCXt.isHowToGuide(c)){let t=de(ge.activeStepId);var e;t&&c?.filteredSteps&&(e=c?.filteredSteps.find(e=>e.step_id===t),d(11,y={...e})),GmCXt.timeout(function(){var e;!GmCXt.isEmpty(de(ge.activeStepId))&&GmCXt.isHowToGuide(c)&&(e="step-"+de(ge.activeStepId),e=document.getElementById(e),GmCXt.isEmpty(e)||e.style.setProperty("border-color","#005BF0","important"))},200)}}function f(e,t){var r=e.step,a=c.tour_settings.play_structure;e.prevStepData||(e.prevStepData=ce.prevStepData),a?((a=GmCXt.updateTourPlayStructure(e))&&d(0,c.tour_settings.play_structure=a.prevStepData.tour.tour_settings.play_structure,c),ce.setTour(c),"guide"===r.step_type||"video"===r.step_type||GmCXt.isDefined(ce.copiedStep)||"textSlide"===r.step_type?(d(3,ce.pendingStepCount=0,ce),ge.statusBar.set("updateTourPlayStructure"),X(c,t)):k(c)):ce.hideLoading()}let O=ge.currentTour.subscribe(e=>{d(0,c=e),p===GmCXt.STEP_VIEW_OPERATION?(d(3,ce.currentTour=c,ce),GmCXt.saveToDapStorage("currentTour",ce.currentTour),n=GmCXt.createDeepCopy(c)):0===ce.bulkStepCount&&p===GmCXt.STEP_CREATE_OPERATION?J():c.isEditMode&&(d(6,r=!0),GmCXt.timeout(function(){d(6,r=!1)},100)),GmCXt.isHowToGuide(c)&&p===GmCXt.STEP_CREATE_OPERATION&&F()}),R=ge.selectedLang.subscribe(e=>{GmCXt.isEmpty(c)||(d(0,c.selectedLang=e,c),d(0,c=ce.getTranslatedTourAndSteps(c,e)))}),H=ge.CurrentPage.subscribe(e=>{d(4,t=e)}),N=ge.stepEditMode.subscribe(e=>{}),B=ge.stepOperationMode.subscribe(e=>{p=e}),V=ge.activeStepId.subscribe(e=>{var t;GmCXt.isHowToGuide(c)&&(GmCXt.isEmpty(P)||(t="#mgPlayerJSProd_step-"+P,GmCXt.isEmpty(t))||mg$(t).removeAttr("style"),F(),d(3,ce.toolSelected=!1,ce),GmCXt.isEmpty(e)||e===P||(d(3,ce.howToImagesPushArray=[],ce),GmCXt.isHowToGuide(c)&&c?.filteredSteps&&c.filteredSteps.forEach(e=>{GmCXt.isEmpty(e.howto_preview_image)||(GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:update_howto_step_creation",data:{step:e}}),delete e.howto_preview_image)}),P=e,h&&h.clearImageData(),mg$("#mgPlayerJSProd_step-creation-preview-image").empty(),S=!1,ge.prevActiveStepId.set(P)))}),C=function(){var e=mg$("#mgPlayerJSProd_ege-header").innerHeight()?mg$("#mgPlayerJSProd_ege-header").innerHeight():0;return p===GmCXt.STEP_VIEW_OPERATION&&ce.setContainerHeight("stepContainer"),0===e&&GmCXt.timeout(function(){C()},500),!0},b=(mg$(window).off("resize").on("resize",C),setTimeout(function(){C()},500),function(e){var t;return e.is_screen_url_processed?e.step_settings.element&&e.step_settings.element.version&&(t=GmCXt.decodeVersion(e.step_settings.element.version),"Prod"===GmCXt.conf.env&&40509<t||"Test"===GmCXt.conf.env&&40601<t)?e.step_thumb=ce.getImageURL(e.screen_url,"_cropped.png"):e.step_thumb=ce.getImageURL(e.screen_url,"_thumb.png"):e.step_thumb=e.screen_url+ce.getCdnSign(),e});function z(t){if(GmCXt.isHowToGuide(c))if(GmCXt.isEmpty(t))v(),ce.backHandler();else for(let e=c.steps.length;e<t.length;e++)t[e].step_order=e+1;var e;GmCXt.isEmpty(t)?(e=de(ge.activeStepId),ce.changeActiveStep(e)):(ce.bulkStepCount||d(3,ce.bulkStepCount=t.length,ce),d(0,c.disableSaveButton=!0,c),d(0,c.isEditMode=!0,c),d(0,c.isBranchTour=GmCXt.containBranchStep(n),c),ce.isTrackingGuide(c)&&!ce.isAiSuggesionSteps?(t.elTags?(ge.stepOperationMode.set(GmCXt.STEP_CREATE_OPERATION),d(0,c=GmCXt.createDeepCopy(n)),t.step_id=GmCXt.getCurrentTimeInMilSec(),t.isCreation=!0,c.filteredSteps.push(t)):t.data&&t.data.elTags&&(ge.stepOperationMode.set(GmCXt.STEP_EDIT_OPERATION),t.isEdit=!0,d(0,c.filteredSteps=c.filteredSteps.map(function(e){return t.data.step_id===e.step_id?t:e}),c)),t.step_type=GmCXt.STEP_TYPE_TAG,d(0,c.isEditMode=!0,c),d(0,c.disableSaveButton=!1,c),d(6,r=!0),ge.currentTour.set(c),GmCXt.timeout(function(){d(6,r=!1)},100)):(1===t.length&&(t[0].recapture||t[0].isMessageTooltip||t[0].isImageEdit)?(p===GmCXt.STEP_VIEW_OPERATION&&ge.stepOperationMode.set(GmCXt.STEP_EDIT_OPERATION),t[0].element&&(t[0].step_settings.element=t[0].element),d(0,c.steps=c.steps.map(function(e){return t[0].step_id===e.step_id?t[0]:e}),c)):(ge.stepOperationMode.set(GmCXt.STEP_CREATE_OPERATION),n=GmCXt.createDeepCopy(c),ce.isAiSuggesionSteps&&(d(0,c.steps=[],c),d(0,c.tour_type="walkthrough_tour",c)),t.forEach(function(e){var t=e.step_order-1;d(0,c.step_count++,c),c.steps.splice(t,0,e)})),k(c)),GmCXt.timeout(()=>{t[0]&&(ce.changeActiveStep(t[0].step_id),"image"===t[0].step_type)&&ge.routeAction.set({action:"loadImageStepView"})},200),mg$("#mgPlayerJSProd_add-step-bottom-btn").hide(),GmCXt.increaseSidePanelWidth())}function U(t){let r=!1;Object.keys(t).forEach(e=>{"fail"===t[e].image_upload&&(r=!0),d(5,g[e]=t[e],g)}),d(0,c.disableSaveButton=r,c)}let v=function(){ge.stepOperationMode.set(GmCXt.STEP_VIEW_OPERATION),d(0,c.isEditMode=!1,c),n.isEditMode=!1,d(0,c.disableSaveButton=!0,c),d(3,ce.bulkStepCount=0,ce),d(3,ce.section="",ce),d(5,g={}),mg$(".mgPlayerJSProd_sidepanel-screen-blackout").empty(),document.getElementById("mgPlayerJSProd_step-creation-preview-image").innerHTML="",ce.hidePanelOverlay(),GmCXt.reduceSidePanelWidth(),GmCXt.clearStepReq(),GmCXt.unlockScroll(),mg$(document).off("mouseover","#mgPlayerJSProd_canvas-draw"),mg$(document).off("mouseover",".mgPlayerJSProd_preview-step-popup-container"),mg$(document).off("mouseout","#mgPlayerJSProd_canvas-draw"),mg$(document).off("click",".mgPlayerJSProd_open-create-step-panel"),mg$(".mgPlayerJSProd_open-create-step-panel").removeAttr("style"),ge.panelAlignment.set("right"),mg$(".mgPlayerJSProd_ege-panel").removeAttr("style")};function w(){if(GmCXt.isHowToGuide(c)&&GmCXt.isEmpty(ce.isHowToTitle)&&p===GmCXt.STEP_CREATE_OPERATION)GmCXt.toastMsg("Enter Tour title").show();else{let t=de(ge.activeStepId),r=c.filteredSteps.find(e=>e.step_id===t);if(GmCXt.isEmpty(r)||r.isEditOnImage&&(r.step_type=GmCXt.STEP_TYPE_INLINE),!GmCXt.isEmpty(r)&&("image"===r.step_type||r.isEditOnImage)){mg$(document).off("mouseover","#mgPlayerJSProd_canvas-draw"),mg$(document).off("mouseout","#mgPlayerJSProd_canvas-draw"),mg$(document).off("mouseover",".mgPlayerJSProd_open-create-step-panel"),mg$(document).off("click",".mgPlayerJSProd_open-create-step-panel"),GmCXt.isEmpty(r.step_title)&&(r.step_title=" "),GmCXt.isEmpty(r.step_audio_text)&&(r.step_audio_text=" "),r.forceSlideshow&&(r.step_settings.displayPreview=!1,r.displayPreview=!1);var a=GmCXt.getCanvasImageUrl(),a=(r.image_orig=document.querySelector("#mgPlayerJSProd_image_canvas").toDataURL("image/png",1),r.screen_url=a,r.highlightedArea.forEach(function(e,t){GmCXt.isEmpty(r.highlightedArea[t].title)||(r.highlightedArea[t].title=GmCXt.stripAssetSrcToPathname(r.highlightedArea[t].title))}),r.step_settings.highlightedArea=r.highlightedArea,r.step_settings.imageDimension=r.imageDimension,r.step_settings.version=GmCXt.conf.version,de(ge.imagePaintRef));let e=-1;if((e=GmCXt.isEmpty(a)?e:a.getImageEditCount())&&2<e.length)return a={action:"mgPlayerJSProd_action:save_image",data:r},void GmCXt.sendMessageToBackgroundService(a)}r?.step_settings?.domElems&&"message"===r.step_type&&r.step_settings.domElems.forEach(function(e,t){GmCXt.isEmpty(r.step_settings.domElems[t].title)||(r.step_settings.domElems[t].title=GmCXt.stripAssetSrcToPathname(r.step_settings.domElems[t].title))}),GmCXt.isHowToGuide(c)&&r?.howto_preview_image?(u=!0,GmCXt.isEmpty(r.howto_preview_image)||(GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:update_howto_step_creation",data:{step:r}}),delete r.howto_preview_image,c?.filteredSteps&&c.filteredSteps.forEach(e=>{"howto_preview_image"in e&&delete e.howto_preview_image}))):p===GmCXt.STEP_CREATE_OPERATION?Z():p===GmCXt.STEP_EDIT_OPERATION&&W()}}function j(a){return new Promise((t,r)=>{var e;a.audioUplodedFile?(e=a.audioUplodedFile,ce.uploadAudioData(e,e.type,e=>{e&&e.audio_url?(ol(a,e),t(e)):(console.error("uploadAudioFile returned invalid data:",e),r(new Error("Audio upload failed or returned invalid data")))})):a.recordedBlobs&&0<a.recordedBlobs.size?(e=a.step_title?a.step_title.trim():"",e=new File([a.recordedBlobs],e+".wav",{type:a.recordedBlobs.type}),ce.uploadAudioData(e,a.recordedBlobs.type,e=>{e&&e.audio_url?(ol(a,e),t(e)):(console.error("uploadAudioFile returned invalid data:",e),r(new Error("Audio upload failed or returned invalid data")))})):t()})}async function W(){if(ce.isTrackingGuide(c))ce.processFeatureSteps(c,v);else{let e=c.filteredSteps.find(e=>e.isEdit);var t,r;e.error=!1,e.step_type!==GmCXt.STEP_TYPE_SMART_TIP&&GmCXt.validateStep(e,e.step_settings.automation)&&(ce.hideLoading(),e.error=!0),e.step_type===GmCXt.STEP_TYPE_SMART_TIP?e=ce.getSmartTipSettingsConfig(e):e.error||(e=ce.getStepSettingsConfig(e)),e.error?ce.changeActiveStep(e.step_id):(r=e.step_settings?.uploadedAudio||e.step_settings?.recordedAudio,t=!GmCXt.isEmpty(e.uploadedPreviewAudioUrl)||!GmCXt.isEmpty(e.recordedPreviewAudioUrl),e.audioUplodedFile||e.recordedBlobs&&0<e.recordedBlobs.size?await j(e):r&&t&&(e.audio=GmCXt.getPathnameFromUrl(e.step_audio),e.step_audio_text=" "),GmCXt.isEmpty(g)||(e.step_image=g[e.step_id].step_image,e.step_screen=g[e.step_id].step_image),e&&!e.error&&(r={stepObj:{tour_id:e.tour_id,step_title:e.step_title,step_description:GmCXt.stripAssetSrcToPathname(e.step_description),step_type:e.step_type,step_settings:e.step_settings,step_image:e.step_image,step_screen:e.step_screen,step_url:e.step_url,step_audio_text:e.step_audio_text,step_video_id:0,step_audio:e.audio&&"0"!==e.audio?e.audio:0,step_order:e.step_order,step_id:e.step_id,category_id:c.category_id,creation_id:GmCXt.getUUID(),language:e.language}},ce.updateStep(r,c),v()))}}async function Z(){if(c.tour_type.includes("walkthrough_tour")||c.tour_type.includes("howto_tour"))if(c.filteredSteps,ce.isAiSuggesionSteps&&!ce.aiTourTitle?.length)ce.hideLoading(),GmCXt.toastMsg(GmCXt.label.tourTitleRerquired).show();else{var a,i=[];let e=!1,t=[],r=(GmCXt.isEmpty(c.tour_settings.start_point_info)||(t=GmCXt.createDeepCopy(c.tour_settings.start_point_info)),{});for(a of c.filteredSteps)if(a.isCreation){if(GmCXt.validateStep(a,a.step_settings.automation)){ce.changeActiveStep(a.step_id),e=!0,ce.hideLoading();break}(a.audioUplodedFile||a.recordedBlobs&&0<a.recordedBlobs.size)&&await j(a),(a.isCreation||"image"===a.step_type&&0===parseInt(a.step_image))&&!ce.isAiSuggesionSteps?(a.step_image=g[a.step_id].step_image,a.step_screen=g[a.step_id].step_image):"image"===a.step_type&&0!==parseInt(a.step_image)&&(a.step_screen=a.step_image),(a=ce.getStepSettingsConfig(a)).step_settings.startPoint&&t.push({step_id:a.step_id,step_index:a.step_order+"",step_url:a.step_url}),r=a,i.push({category_id:c.category_id,creation_id:GmCXt.getUUID(),language:ce.language,step_id:a.step_id,step_audio:a.audio&&"0"!==a.audio?a.audio:0,step_audio_text:a.step_audio_text,step_description:GmCXt.isHowToGuide(c)?a.step_description:GmCXt.stripAssetSrcToPathname(a.step_description),step_image:a.step_image,step_order:parseInt(a.step_order),step_screen:a.step_screen,step_settings:a.step_settings,step_title:a.step_title,step_type:a.step_type,step_url:a.step_url,step_video_id:0,tour_id:c.tour_id,translation_required:"0"})}if(e||GmCXt.isEmpty(i))GmCXt.isEmpty(c.tour_settings.start_point_info)||(t=GmCXt.createDeepCopy(c.tour_settings.start_point_info));else{let e={};e=c.isBranchTour||1===i.length&&!GmCXt.isEmpty(i[0].step_settings.branch)?GmCXt.updateTourPlayStructure({step:r,prevStepData:r.data.prevStepData}).prevStepData.tour.tour_settings.play_structure:GmCXt.getGuidePlayStructure(c),d(0,c.tour_settings.play_structure=e,c);var o={tour_id:c.tour_id,steps:i,play_structure:e,start_point_info:t,has_branch_step:GmCXt.containBranchStep(n)};(ce.isAiSuggesionSteps?J:v)(),ce.createBulkSteps(o,c)}}else"smartTip"===c.tour_type?(async()=>{let e=[],t=!1;for(var r of c.filteredSteps)if(r.isCreation){if((r=ce.getSmartTipSettingsConfig(r)).error)return ce.hideLoading(),ce.changeActiveStep(r.step_id),t=!0;r.step_image=g[r.step_id].step_image,r.step_screen=g[r.step_id].step_image,e.push({category_id:c.category_id,creation_id:GmCXt.getUUID(),language:ce.language,step_id:r.step_id,step_audio:r.audio&&"0"!==r.audio?r.audio:0,step_audio_text:r.step_audio_text,step_description:r.step_description,step_image:r.step_image,step_order:parseInt(r.step_order),step_screen:r.step_screen,step_settings:r.step_settings,step_title:r.step_title,step_type:r.step_type,step_url:r.step_url,step_video_id:0,tour_id:c.tour_id,translation_required:"0"})}var a;a=GmCXt.getGuidePlayStructure(c),t||GmCXt.isEmpty(e)||(a={tour_id:c.tour_id,steps:e,play_structure:a,has_branch_step:!1},v(),ce.showLoading(),GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:to_background;task:create_bulk_step",data:a}))})(c.filteredSteps):"insights"===c.tour_type?ce.processFeatureSteps(c,v):console.error("Unknown step type:",c.type)}function J(e){v(),mg$("#mgPlayerJSProd_add-step-bottom-btn").show(),GmCXt.isHowToGuide(c)&&0===c.tour_id?ce.backHandler():(ge.currentTour.set(n),e&&ce.isAiSuggesionSteps&&(d(3,ce.isAiSuggesionSteps=!1,ce),ce.backHandler()))}function q(e){if(!((e,r)=>{let a=!1;return e.forEach(function(e,t){e.step_id!==r.step_id&&e.creation_id!==r.creation_id||(a=!0)}),a})(c.steps,e.stepObj)){ce.incrementPendingStepCount(),GmCXt.checkForBranchVariationSteps(e.stepObj)&&ce.showLoading();let r=e.stepIndex;e=e.stepObj;if(e.step_id=GmCXt.getCurrentTimeInMilSec(),d(0,c.step_count++,c),GmCXt.isAutomationStep(e)&&ce.showLoading(),e.step_screen&&100<e.step_screen.length||"guide"===e.step_type){var t=GmCXt.createDeepCopy(e);if(t.step_screen_temp=t.step_screen,t.step_screen="","guide"===t.step_type&&(t.step_screen_temp=ce.staticContentPath+"technology.jpg"),c.steps||d(0,c.steps=[],c),ce.isTrackingGuide(c))c.filteredSteps.push(t);else{c.steps.splice(r,0,t),k(c);for(let e=t.step_order;e<c.steps.length;e++)d(0,c.steps[e].step_order++,c)}GmCXt.isTrue(e.step_settings.inlineBranch)&&ce.showLoading()}setTimeout(function(){var e,t=mg$(".mgPlayerJSProd_step-item-auto");c.filteredSteps?r&&(r=((e,t)=>{let r=0,a=0;for(;e!==a&&a<t.length;)GmCXt.isAutomationStep(t[a])||r++,a++;return r})(r,c.steps),(e=mg$(".mgPlayerJSProd_step-item"))[r])&&e[r].scrollIntoView():t&&t[t.length-1]&&t[t.length-1].scrollIntoView()},20)}}function Y(){let t=[];s.forEach(function(e){e.copy&&t.push(parseInt(e.step_id))}),d(3,ce.copyStepsList={steps:t,tourId:c.tour_id,tourType:c.tour_type,stepType:c.steps[0].step_type},ce),0<=ce.copyStepsList.tourType.indexOf("onboarding_tour")&&d(3,ce.copyStepsList.tourType=c.tour_settings.tutorial_tour_type,ce),ce.copyStepsList.steps.length?(d(3,ce.copiedStep=!1,ce),d(3,ce.pasteStep=!0,ce),A()):ce.showPopup(GmCXt.label.unselectedStepsErrorMsg,"","warning")}function K(){let t=0;d(7,a=!0),d(9,s=s.map(function(e){return e.step_title.toLowerCase().includes(ce.searchStepKeyword.toLowerCase())||e.step_description.toLowerCase().includes(ce.searchStepKeyword.toLowerCase())?(e.hide=!1,t+=1):e.hide=!0,e})),0===t&&d(7,a=!1),G()}function G(){let e=!0;for(var t in s)if(!s[t].copy){e=!1;break}d(8,i=e)}function A(){d(9,s=s.map(function(e){return e.copy=!1,e})),d(3,ce.copySteps=!1,ce),d(3,ce.searchStepKeyword="",ce),d(8,i=!1),ce.setCurrentPage("stepview"),setTimeout(()=>{C()},100)}function Q(){d(9,s=s.map(function(e){return e.step_type===GmCXt.STEP_TYPE_BRANCH&&e.step_settings.inlineBranch&&e.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||(e.copy=!i),e})),d(8,i=!i)}function ee(){let t=[],r=[],a=(s.forEach(function(e){e.copy?t.push(parseInt(e.step_id)):r.push(e)}),{tour_id:c.tour_id});s.step_count!==t.length&&(a.step_ids="["+t+"]"),t.length?ir.try(function(){ce.showPopup(ce.labels.confirmDeletMultipleSteps,function(){ce.showLoading(),GmCXt.api.bulkStepDelete(a,function(){var e;d(3,ce.pasteStep=!1,ce),a.step_ids?(d(0,c.is_locked=!0,c),d(0,c.steps=r,c),d(0,c.step_count=r.length,c),e=GmCXt.getGuidePlayStructure(c),d(0,c.tour_settings.play_structure=e,c)):(d(0,c.tour_settings.play_structure=[],c),d(0,c.steps=[],c),d(0,c.step_count=0,c)),ce.setTour(c),k(c)}),A()},"confirm")},117):ce.showPopup(GmCXt.label.unselectedStepsErrorMsg,"","warning")}function T(e){x(e)}function te(a){ir.try(function(){function e(e,a){function i(e){t.push({step_id:e.step_id,step_order:++r})}let t=[],r=0;for(let e=0;e<a.length&&GmCXt.isAutomationStep(a[e]);e++)i(a[e]);return e.forEach(function(t,e){i(t);var r=a.find(function(e){return e.step_id===t.step_id}),r=ce.getAutomationSteps(a,r);0<r.length&&r.forEach(function(e){i(e)})}),t}if(!(c.is_published||"user"===ce.user.role||c.is_locked&&c.user_id!==ce.user.user_id)){let r=[];a.filter(function(e,t){r.push({step_id:e.step_id,step_order:t+1})}),r=e(r,c.steps),d(0,c.steps=ce.sortTourSteps(r,c.steps),c);var t={tour_id:c.tour_id,json:r};GmCXt.api.stepsDrag(t,function(e){d(0,c.tour_settings.play_structure=GmCXt.buildGuidePlayStructure(c),c),X(c)},function(e){ce.showPopup(e.message)})}},120)}let X=function(t,r){ir.try(function(){ce.showLoading();var e={category_id:t.category_id,tour_title:t.tour_title,tour_description:t.tour_description,tour_image:t.tour_image,tour_settings:t.tour_settings,tour_type:t.tour_type,tour_url:t.tour_url,tour_id:t.tour_id,is_locked:t.is_locked,keywords:t.keywords};GmCXt.api.tourUpdate(e,function(){},function(e){ce.hideLoading()},function(){ce.hideLoading(),x(r),GmCXt.isFeatureTags(t)&&k(t)})},121)},re=function(t){GmCXt.storage().get(["howtoCaptureMode"]).then(function(e){d(3,ce.howtoCaptureMode=e.howtoCaptureMode,ce),"done"===e.howtoCaptureMode&&0===t.tour_id&&0===t.steps.length&&(v(),GmCXt.isHowToGuide(t))&&0===t.tour_id&&ce.backHandler()})},k=function(t){if(GmCXt.isHowToGuide(t)&&GmCXt.FT.creatorApp&&0===t.tour_id&&re(t),t){t.filteredSteps=GmCXt.filterOutAutomationSteps(t.steps),d(0,c=t),(m=ce.isTrackingGuide(t))&&d(0,c.filteredSteps=[],c),d(0,c.uuid=GmCXt.getUUID(),c),c.tour_id!==l||ce.isScreenRecorderClose?d(0,c.screencastInProgress=!1,c):d(0,c.screencastInProgress=!0,c),ce.isPublicApp&&d(0,c.is_public=!0,c),!o&&ce.language&&(o=ce.language),d(3,ce.isDefaultLang=GmCXt.checkDefaultLangForTour(c,o),ce);let e=!1,a=[],i=0;ce.deletedTagsList&&ce.deletedTagsList.length&&d(0,c.steps=c.steps.filter(function(e){return!ce.deletedTagsList.includes(parseInt(e.step_id))}),c),GmCXt.isHowToGuide(c)&&d(12,_=!0),c.steps.forEach(function(s,t){if(s.step_id&&"string"!=typeof s.step_id&&(s.step_id=s.step_id.toString()),GmCXt.isHowToGuide(c)&&de(ge.stepOperationMode)===GmCXt.STEP_CREATE_OPERATION&&s.isCreation){let e;var r={domHTML:e=s&&s.element?ce.attributesToHtml(s.element?.meta?.elAttributes):e,title:s.step_title,description:s.step_description,element:s.element,output:"both"};let o=s.step_title,n=s.step_description;s.aiStatus="Typing",s.step_title="Generating Title From AI...",s.step_description="Generating Description From AI...",GmCXt.api.generateTitleDescription(r,function(e){try{if(e.data){a=e.data.choices[0].message.content,i=a.match(/Title:\s*(.*)/i),a=a.match(/Description:\s*(.*)/i);let{title:t,desc:r}={title:i?i[1].trim():"",desc:a?a[1].trim():""};""!==t&&""!==r?d(0,c.filteredSteps=c.filteredSteps.map(e=>e.step_id===s.step_id?{...e,step_title:t,step_description:r,aiStatus:"done"}:e),c):d(0,c.filteredSteps=c.filteredSteps.map(e=>e.step_id===s.step_id?{...e,step_title:o,step_description:n,aiStatus:"done"}:e),c)}}catch(e){GmCXt.log(54,"Error in AI Title/Desc generation")}var a,i;t===c.steps.length-1&&d(12,_=!1),s.aiStatus="done"})}else t===c.steps.length-1&&d(12,_=!1);if("string"!=typeof(s=b(s)).step_screen&&(s.step_screen=s.step_screen.toString()),"video"===s.step_type&&-1===s.step_screen.indexOf("guideme-defaults/default.png"))s.step_video_thumbnail=s.step_video_url;else if(s.step_type===GmCXt.STEP_TYPE_BRANCH||s.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||GmCXt.isTrue(s.step_settings.inlineBranch)&&"keepNext"!==s.step_settings.completionEvent){e=!0;r=s.step_settings;s.branch=r.branch;for(let t=0;t<s.branch.length;t++)if(0<s.branch[t].tourId)for(let e=0;e<c.steps.length;e++)c.steps[e].step_id===s.branch[t].tail&&(d(0,c.steps[e].hideStep=!0,c),s.branch[t].tourData=c.steps[e])}m&&(((r=s.step_settings.groupId)?(a[r]||(a[r]=[]),a[r]):c.filteredSteps).push(s),i=Math.max(i,s.step_order))}),e&&ce.branchGuideDownloadOpts(c.tour_settings.downloadGuideFiles),d(0,c.downloadOpts=c.tour_settings.downloadGuideFiles,c),"insights"===c.tour_type&&Object.keys(a).forEach(function(e){var t=a[e],e={step_id:e,steps:t,image_url:t[0].thumbnail_url,step_title:t[0].step_settings.groupTitle,step_type:"tag",stepOrder:++i};c.filteredSteps.push(e)}),m||d(0,c=GmCXt.checkAndCorrectPS(c)),GmCXt.isOnboarding(c),o&&!ce.isGuideInOriginalLang(c)&&(d(0,c.selectedLang=o,c),t=c.language_data)&&t[o]&&d(0,c=ce.getTranslatedTourAndSteps(c,o)),setTimeout(function(){C()},200),"insights"===c.tour_type&&GmCXt.APP_PANEL_OPEN&&!c.isEditMode&&ce.isAiSuggesionSteps&&GmCXt.createInlineStepsFromAiSuggestion(c.steps),ge.currentTour.set(c),d(3,ce.isApiCallOn=!1,ce),ce.hideLoading(),ce.showStepCreatedSuccessMsg&&ge.statusBar.set("createBulkStepCompleted"),GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:load_step_previews"}),GmCXt.FT.creatorApp&&!c.isEditMode&&mg$("#mgPlayerJSProd_add-step-bottom-btn").show()}},x=function(e){c&&c.tour_id||d(0,c=GmCXt.validateDataModel($,GmCXt.model.guide)),d(3,ce.isDefaultLang=GmCXt.checkDefaultLangForTour(c,o),ce),c.is_locked;var t={tour_id:c.tour_id,isPublic:!1,category_id:ce?.currentTour.category_id};GmCXt.checkDefaultLangForTour(c,o)||(t.language=o),p!==GmCXt.STEP_VIEW_OPERATION||!e&&!GmCXt.isEmpty(c)&&c.steps&&parseInt(c.step_count)===c.steps.length?k(c):GmCXt.api.getTour(t,k,function(){ce.hideLoading(),d(0,c=!1)},!0)},L=(ce.isScreenRecorderClose&&ce.showPopup(ce.labels.screeRecordingError,function(){GmCXt.storage().remove(["screen_recorder_close"]),d(3,ce.isScreenRecorderClose=!1,ce)},"alert"),null),ae,ie,E=null,M=null,I=null,oe=(me(()=>{T(),GmCXt.isPlayer()&&ce.bindPlayerTheme()}),ge.routeAction.subscribe(r=>{if(r&&r.data)switch(r.action){case"createStepCompleted":{var t=r.data;let e=GmCXt.validateDataModel(t.step,GmCXt.model.step);if(e.tour_id===c.tour_id){var a=t.prevStepData||null,i=t.stepIndex,o=(m=ce.isTrackingGuide(c),c.steps);if(t.tour&&d(0,c=t.tour),d(0,c.steps=o,c),t.linkGuidePlayMode&&"guide"===e.step_type&&(e.linkGuidePlayMode=t.linkGuidePlayMode),a&&(d(3,ce.prevStepData=a,ce),ce.pendingStepCount)&&(d(3,ce.prevStepData.step_id=e.step_id,ce),d(3,ce.prevStepData.step_type=e.step_type,ce)),e.step_type!==GmCXt.STEP_TYPE_BRANCH&&e.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER||(e.branch=e.step_settings.branch),"guide"===e.step_type||t.isPaste?c.steps.splice(i,1,e):m||d(0,c.steps[i]=GmCXt.createDeepCopy(e),c),c.steps[i]&&!m){e.step_screen_temp="",e=b(e);for(let e=i;e<c.steps.length;e++)d(0,c.steps[e].step_order=e+1,c)}d(0,c.step_count=c.steps.length,c),"guide"===e.step_type||t.isPaste?f(t):m?GmCXt.isTrue(e.step_settings.inlineBranch)&&f(t):k(c),ce.hideLoading(),m?(d(0,c=ce.allTourList["cat_"+c.category_id]["tour_"+c.tour_id]),c.steps.push(t.step),d(0,c.step_count++,c),T()):(d(3,ce.prevStepData=void 0,ce),ce.setTour(c)),e.step_type!==GmCXt.STEP_TYPE_BRANCH&&e.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER&&(d(3,ce.showStepCreatedSuccessMsg=!0,ce),ge.statusBar.set("createStepCompleted"))}}ge.routeAction.set(null);break;case"updateStepCompleted":{o=r.data;o.step?(o.step.step_screen_temp="",e=GmCXt.validateDataModel(o.step,GmCXt.model.step),e=b(e),d(0,c.steps[o.stepIndex]=e,c)):o.langUpdated&&d(0,c.steps[o.stepIndex].step_screen_temp="",c),o.langUpdated&&d(0,c=ce.getTranslatedTourAndSteps(c,ce.language)),d(0,c.is_locked=!0,c);let t=!1;var n=c.steps[o.stepIndex];if(n.step_type===GmCXt.STEP_TYPE_BRANCH&&"Quick Branch"!==n.step_settings.branch_type){ce.showLoading();var e=ce.getNode(n.step_id,c.tour_settings.play_structure),s=c.tour_settings.play_structure.indexOf(e);d(0,c.tour_settings.play_structure[s].branch=[],c);for(let e=0;e<n.step_settings.branch.length;e++){var l={};l.tail=n.step_settings.branch[e].tail,c.tour_settings.play_structure[s].branch.push(l),t=!0}}GmCXt.isEmpty(ce.allTourList)||ce.setTour(c),(t&&ce.isGuideInOriginalLang(c)?X:k)(c),ce.hideLoading(),n.step_type!==GmCXt.STEP_TYPE_BRANCH&&n.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER&&(d(3,ce.showStepUpdatedSuccessMsg=!0,ce),ge.statusBar.set("updateStepCompleted"))}ge.routeAction.set(null);break;case"updateStepFailed":r.data,x(),ge.routeAction.set(null);break;case"updateTourWithApi":X(r.data),ge.routeAction.set(null);break;case"createStepPreview":q(r.data),ge.routeAction.set(null);break;case"refreshStep":a=r.data,GmCXt.isEmpty(a)||GmCXt.isEmpty(a.step)||a.step.tour_id===c.tour_id&&(d(0,c.steps=[],c),c.is_locked&&d(0,c.isLocked=!0,c),f(a,!0)),ge.routeAction.set(null);break;case"refreshView":T(r.data),ge.routeAction.set(null);break;case"mgPlayerJSProd_action:create_bulk_step_failed":ce.showPopup(r.data[0],function(){T(!0)},"error"),ce.hideLoading(),ge.routeAction.set(null);break;case"mgPlayerJSProd_action:capture_step_completed,type:inline":case"mgPlayerJSProd_action:capture_step_completed,type:message":case"mgPlayerJSProd_action:capture_step_completed,type:tag":z(r.data),ge.routeAction.set(null);break;case"mgPlayerJSProd_action:capture_step_image_upload_completed,type:inline":U(r.data),GmCXt.isHowToGuide(c)&&u&&(u=!1,w()),ge.routeAction.set(null);break;case"mgPlayerJSProd_action:capture_step_image_upload_completed,type:message":U(r.data),ge.routeAction.set(null);break;case"mgPlayerJSProd_action:open_image_step_editor_view":z([r.data]),ge.routeAction.set(null);break;case"mgPlayerJSProd_action:capture_step_image_upload_completed,type:image":d(5,g[r.data.step_id]=r.data,g),d(0,c.disableSaveButton=!1,c),ge.routeAction.set(null);break;case"reset_step_creation_panel":r.data&&r.data.data&&r.data.data.isCancel&&ce.hideLoading(),v(),ge.routeAction.set(null);break;case"save_image_done":i=c.filteredSteps.findIndex(e=>e.step_id===r.data.step_id),t=(r.data.stepIndex=i,r.data);d(0,c.filteredSteps[i]=t,c),d(5,g[t.step_id]=t,g),p===GmCXt.STEP_CREATE_OPERATION?Z():p===GmCXt.STEP_EDIT_OPERATION&&W(),ge.routeAction.set(null);break;case"mgPlayerJSProd_action:Cancel_howto_guide_creation":if(v(),GmCXt.isHowToGuide(c)&&0===c.tour_id)return void ce.backHandler();ge.routeAction.set(null)}}));function ne(e){h&&h.cropClickFunction(e)}function se(e){h&&h.cropClickCancelFunction(e)}function le(){return new Promise((e,t)=>{mg$("#mgPlayerJSProd_canvas-draw").length||(mg$("#mgPlayerJSProd_preview-image").empty(),mg$("#mgPlayerJSProd_step-creation-preview-image").append("<wmgPlayerJSProd_ id='mgPlayerJSProd_canvas-draw' class='mgPlayerJSProd_preview-image mgPlayerJSProd_screen'><canvas id='mgPlayerJSProd_image_canvas' class='mgPlayerJSProd_position-absolute'></canvas><wmgPlayerJSProd_ id='mgPlayerJSProd_crop-tool-left' class='mgPlayerJSProd_crop-tool-border'></wmgPlayerJSProd_><wmgPlayerJSProd_ id='mgPlayerJSProd_crop-tool-top' class='mgPlayerJSProd_crop-tool-border'></wmgPlayerJSProd_><wmgPlayerJSProd_ id='mgPlayerJSProd_crop-tool-right' class='mgPlayerJSProd_crop-tool-border'></wmgPlayerJSProd_><wmgPlayerJSProd_ id='mgPlayerJSProd_crop-tool-bottom' class='mgPlayerJSProd_crop-tool-border'></wmgPlayerJSProd_><wmgPlayerJSProd_ id='mgPlayerJSProd_crop-tool-center' class='mgPlayerJSProd_crop-tool-center'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_crop-button-group' id='guideme_crop_group'><button id='mgPlayerJSProd_btn-crop-clicked' class='crop mgPlayerJSProd_btn-default' type='button'>"+ce.labels.crop+"</button><button id='mgPlayerJSProd_btn-cancel-crop-clicked' class='cancel mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral' type='button'>"+ce.labels.btnCancel+"</button></wmgPlayerJSProd_></wmgPlayerJSProd_>"),mg$("#mgPlayerJSProd_step-creation-preview-image").append('<wmgPlayerJSProd_ id="mgPlayerJSProd_blackout"></wmgPlayerJSProd_>'),mg$(".mgPlayerJSProd_open-panel-text").html(ce.labels.openStepPanel),mg$(".mgPlayerJSProd_open-panel-svg").html(GmCXt.svgs.iconOpen),mg$("#mgPlayerJSProd_btn-crop-clicked").off("click").on("click",ne),mg$("#mgPlayerJSProd_btn-cancel-crop-clicked").off("click").on("click",se),mg$("#guideme_crop_group").hide()),e()})}pe(()=>{O(),H(),R(),oe(),N(),B(),V()});return e.$$.update=()=>{7&e.$$.dirty[0]&&null!=M&&null!=I&&M!=I&&(d(0,[c.filteredSteps[M],c.filteredSteps[I]]=[c.filteredSteps[I],c.filteredSteps[M]],c),d(1,M=I)),1&e.$$.dirty[0]&&c&&d(9,s=c.steps)},[c,M,I,ce,t,g,r,a,i,s,h,y,_,L,null,null,E,C,w,J,Y,K,G,A,Q,ee,te,function(e){e||mg$(".mgPlayerJSProd_paint-crop-toolbar").hide()},function(e){var t=y.step_settings;sizeValid=ce.popupSizeValid(t.stepPopupHeight,t.stepPopupWidth),(t=y.step_settings.alignment)&&"string"!=typeof t&&(t=t.detail.position),d(11,y.step_settings.alignment=t,y),GmCXt.timeout(function(){var e={popup:mg$(mg$(".mgPlayerJSProd_preview-step-popup-container")[0]),highlightedArea:y?.step_settings?.element?.position,containerOffest:mg$("#mgPlayerJSProd_canvas_ref").offset()},e=(y?.step_settings?.alignment&&(e.alignment=y.step_settings.alignment),e.dynamicPositioning=!0,Ts(e));let t="";e&&(t=e.start()),stepPopup[0]&&(stepPopup[0].alignment=t),e&&stepPopup[0]&&(stepPopup[0].positions=e.getAvailablePositions())},500),ce.setDescImgSize()},function(e,t){return new Promise((e,t)=>{le().then(function(){GmCXt.timeout(function(){h&&(ge.imagePaintRef.set(h),S?(GmCXt.timeout(function(){h&&mg$(".mgPlayerJSProd_highlighter-span").remove()},100),e()):h.loadFunction().then(function(){S=!0,GmCXt.timeout(function(){document.getElementById("mgPlayerJSProd_step-creation-preview-image").querySelectorAll(".mgPlayerJSProd_preview-step-popup-container"),mg$(".mgPlayerJSProd_highlighter-span").remove(),e()},300)}))},300)})})},function(t){["filteredSteps","steps"].forEach(e=>{d(0,c[e]=c[e].map(e=>e.step_id===t.step_id?{...e,preview_image:t.preview_image,howto_preview_image:t.preview_image}:e),c)}),ge.currentTour.set(c)},function(e){ue[e?"unshift":"push"](()=>{h=e,d(10,h)})},function(e,t,r,a){r[a]=e,d(0,c),d(1,M),d(2,I)},function(e,t,r,a){r[a]=e,d(0,c),d(1,M),d(2,I)},(e,t,r)=>{d(13,L=r.clientY),d(15,ie=e),d(1,M=t),d(16,E=e.step_id),d(14,ae=r.target.getBoundingClientRect().y-r.clientY)},e=>{d(13,L=e.clientY)},(e,t)=>{d(2,I=e)},e=>{te(c.filteredSteps),d(16,E=null),d(2,I=null)},function(e,t,r,a){r[a]=e,d(0,c),d(1,M),d(2,I)},function(e,t,r,a){r[a]=e,d(0,c),d(1,M),d(2,I)},function(e,t,r,a){r[a]=e,d(0,c),d(1,M),d(2,I)},()=>w(),()=>J(!0),function(){i=this.checked,d(8,i)},()=>Q(),function(){ce.searchStepKeyword=this.value,d(3,ce)},()=>K(),()=>clearSearch(),function(e,t){e[t].copy=this.checked,d(9,s),d(0,c),d(1,M),d(2,I)},()=>G(),()=>A(),()=>ee(),()=>Y()]}class ll extends e{constructor(e){super(),t(this,e,sl,il,d,{},null,[-1,-1,-1,-1])}}function dl(r){let a,i,o,n,s=r[0].svgs.iconBack+"",l,d,c,g,m,p=r[1].tour_title+"",u,h,P,y,_,S=!GmCXt.isFalseObj(r[1]?.tour_settings?.downloadGuideFiles),f,C,b=GmCXt.FT.creatorApp&&(r[1].is_locked&&r[1].user_id==r[0].user.user_id||!r[1].is_locked||!r[1].is_published||r[0].isOwnerOrAppAdmin())&&!r[0].isUserRole()&&!r[0].isDesktopApp()&&!r[0].hideMirrorAppCtrl(),v,w,J,G,A,T,X,k=r[1].tour_description&&ml(r),x=GmCXt.FT.creatorApp&&(e=>{let r=e[0].showPublishBtn(e[1])&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl(),a,i=e[0].showSchedulePublish(e[1])&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl(),o,n=GmCXt.FT.publish&&e[1].is_published&&e[0].isOwnerOrAppAdmin()&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl()&&e[0].showUnpublish(e[1]),s,l=GmCXt.containBranchStep(e[1])&&GmCXt.FT.creatorApp,d,c=r&&pl(e),g=i&&ul(e),m=n&&hl(e),p=l&&Pl(e);return{c(){c&&c.c(),a=De(),g&&g.c(),o=De(),m&&m.c(),s=De(),p&&p.c(),d=I()},m(e,t){c&&c.m(e,t),Le(e,a,t),g&&g.m(e,t),Le(e,o,t),m&&m.m(e,t),Le(e,s,t),p&&p.m(e,t),Le(e,d,t)},p(e,t){(r=3&t?e[0].showPublishBtn(e[1])&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl():r)?c?c.p(e,t):((c=pl(e)).c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null),(i=3&t?e[0].showSchedulePublish(e[1])&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl():i)?g?g.p(e,t):((g=ul(e)).c(),g.m(o.parentNode,o)):g&&(g.d(1),g=null),(n=3&t?GmCXt.FT.publish&&e[1].is_published&&e[0].isOwnerOrAppAdmin()&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl()&&e[0].showUnpublish(e[1]):n)?m?m.p(e,t):((m=hl(e)).c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null),(l=2&t?GmCXt.containBranchStep(e[1])&&GmCXt.FT.creatorApp:l)?p?p.p(e,t):((p=Pl(e)).c(),p.m(d.parentNode,d)):p&&(p.d(1),p=null)},d(e){e&&(Ee(a),Ee(o),Ee(s),Ee(d)),c&&c.d(e),g&&g.d(e),m&&m.d(e),p&&p.d(e)}}})(r),L=S&&Sl(r),E=b&&fl(r),M=r[0].jsonEditor&&Cl(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("button"),l=De(),(d=Me("wmgPlayerJSProd_")).innerHTML='<wmgPlayerJSProd_ class="mgPlayerJSProd_tooltip-title">Back</wmgPlayerJSProd_>',c=De(),g=Me("wmgPlayerJSProd_"),m=Me("wmgPlayerJSProd_"),u=Ie(p),h=De(),k&&k.c(),P=De(),y=Me("wmgPlayerJSProd_"),x&&x.c(),_=De(),L&&L.c(),f=De(),C=Me("wmgPlayerJSProd_"),E&&E.c(),v=De(),M&&M.c(),w=De(),J=Me("wmgPlayerJSProd_"),Fe(n,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_ege-inline-block-vt mgPlayerJSProd_margin-t-13"),Fe(n,"aria-label","back"),Fe(d,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right"),Fe(o,"id","mgPlayerJSProd_btn-guide-view-back"),Fe(o,"class","mgPlayerJSProd_back-button mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_no-padding"),Fe(m,"class","mgPlayerJSProd_label mgPlayerJSProd_tour-view-tour-title mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_position-relative mgPlayerJSProd_width-100"),Fe(g,"class","mgPlayerJSProd_tour-title-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(i,"class","mgPlayerJSProd_header-detail-view-tour-title"),Fe(y,"class","mgPlayerJSProd_header-detail-view-tour-download-container"),Fe(J,"class","mgPlayerJSProd_clear"),Fe(C,"class","mgPlayerJSProd_header-detail-view-tour-edit-container"),Fe(a,"class",G="mgPlayerJSProd_ege-panel-header-detail-view "+(r[1].isEditMode?"mgPlayerJSProd_disabled":""))},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),n.innerHTML=s,xe(o,l),xe(o,d),xe(i,c),xe(i,g),xe(g,m),xe(m,u),xe(g,h),k&&k.m(g,null),xe(a,P),xe(a,y),x&&x.m(y,null),xe(y,_),L&&L.m(y,null),xe(a,f),xe(a,C),E&&E.m(C,null),xe(C,v),M&&M.m(C,null),xe(C,w),xe(C,J),A=!0,T||(X=$e(n,"click",r[5]),T=!0)},p(e,t){(!A||1&t)&&s!==(s=e[0].svgs.iconBack+"")&&(n.innerHTML=s),(!A||2&t)&&p!==(p=e[1].tour_title+"")&&Oe(u,p),e[1].tour_description?k?k.p(e,t):((k=ml(e)).c(),k.m(g,null)):k&&(k.d(1),k=null),GmCXt.FT.creatorApp&&x.p(e,t),(S=2&t?!GmCXt.isFalseObj(e[1]?.tour_settings?.downloadGuideFiles):S)?L?(L.p(e,t),2&t&&Be(L,1)):((L=Sl(e)).c(),Be(L,1),L.m(y,null)):L&&(He(),Ve(L,1,1,()=>{L=null}),Ne()),(b=3&t?GmCXt.FT.creatorApp&&(e[1].is_locked&&e[1].user_id==e[0].user.user_id||!e[1].is_locked||!e[1].is_published||e[0].isOwnerOrAppAdmin())&&!e[0].isUserRole()&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl():b)?E?(E.p(e,t),3&t&&Be(E,1)):((E=fl(e)).c(),Be(E,1),E.m(C,v)):E&&(He(),Ve(E,1,1,()=>{E=null}),Ne()),e[0].jsonEditor?M?M.p(e,t):((M=Cl(e)).c(),M.m(C,w)):M&&(M.d(1),M=null),(!A||2&t&&G!==(G="mgPlayerJSProd_ege-panel-header-detail-view "+(e[1].isEditMode?"mgPlayerJSProd_disabled":"")))&&Fe(a,"class",G)},i(e){A||(Be(L),Be(E),A=!0)},o(e){Ve(L),Ve(E),A=!1},d(e){e&&Ee(a),k&&k.d(),x&&x.d(),L&&L.d(),E&&E.d(),M&&M.d(),T=!1,X()}}}function cl(r){let a,i,o,n,s,l,d,c,g;return{c(){(a=Me("wmgPlayerJSProd_")).textContent="Guide Name (*)",i=De(),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),s=Me("wmgPlayerJSProd_"),l=Me("input"),Fe(a,"class","mgPlayerJSProd_ege-panel-header-detail-view mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_font-size-16"),Fe(l,"class","mgPlayerJSProd_text-input mgPlayerJSProd_tour-view-tour-title mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_position-relative mgPlayerJSProd_width-100"),Fe(l,"placeholder",d=r[1].tour_title),Fe(s,"class","mgPlayerJSProd_tour-title-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(n,"class","mgPlayerJSProd_header-detail-view-tour-title"),Fe(o,"class","mgPlayerJSProd_ege-panel-header-detail-view mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_ai-suggestion-panel-header")},m(e,t){Le(e,a,t),Le(e,i,t),Le(e,o,t),xe(o,n),xe(n,s),xe(s,l),We(l,r[0].isHowToTitle),c||(g=$e(l,"input",r[7]),c=!0)},p(e,t){2&t&&d!==(d=e[1].tour_title)&&Fe(l,"placeholder",d),1&t&&l.value!==e[0].isHowToTitle&&We(l,e[0].isHowToTitle)},i:Je,o:Je,d(e){e&&(Ee(a),Ee(i),Ee(o)),c=!1,g()}}}function gl(r){let a,i=r[0].labels.labelAIGeneratedGuides+"",o,n,s,l,d,c,g,m,p;return{c(){a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),s=Me("wmgPlayerJSProd_"),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),c=Me("input"),Fe(a,"class","mgPlayerJSProd_ege-panel-header-detail-view mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_font-size-16"),Fe(c,"class","mgPlayerJSProd_text-input mgPlayerJSProd_tour-view-tour-title mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_position-relative mgPlayerJSProd_width-100"),Fe(c,"placeholder",g=r[1].tour_title),Fe(d,"class","mgPlayerJSProd_tour-title-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(l,"class","mgPlayerJSProd_header-detail-view-tour-title"),Fe(s,"class","mgPlayerJSProd_ege-panel-header-detail-view mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_ai-suggestion-panel-header")},m(e,t){Le(e,a,t),xe(a,o),Le(e,n,t),Le(e,s,t),xe(s,l),xe(l,d),xe(d,c),We(c,r[0].aiTourTitle),m||(p=$e(c,"input",r[6]),m=!0)},p(e,t){1&t&&i!==(i=e[0].labels.labelAIGeneratedGuides+"")&&Oe(o,i),2&t&&g!==(g=e[1].tour_title)&&Fe(c,"placeholder",g),1&t&&c.value!==e[0].aiTourTitle&&We(c,e[0].aiTourTitle)},i:Je,o:Je,d(e){e&&(Ee(a),Ee(n),Ee(s)),m=!1,p()}}}function ml(e){let r,a,i=e[1]?.tour_description+"",o;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=Ie(i),Fe(a,"class","mgPlayerJSProd_tooltip-tour-desc"),Fe(r,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right")},m(e,t){Le(e,r,t),xe(r,a),xe(a,o)},p(e,t){2&t&&i!==(i=e[1]?.tour_description+"")&&Oe(o,i)},d(e){e&&Ee(r)}}}function pl(r){let a,i,o,n=r[0].svgs.publish+"",s,l,d,c=r[0].labels.publish+"",g,m,p,u;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("button"),s=De(),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),g=Ie(c),Fe(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_ege-inline-block-vt"),Fe(o,"aria-label","publish"),Fe(d,"class","mgPlayerJSProd_tooltip-title"),Fe(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left"),Fe(i,"class","mgPlayerJSProd_status-publish mgPlayerJSProd_status-publish-unpublish mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_header-icon-wrapper mgPlayerJSProd_ege-inline-block-vt"),Fe(a,"id","mgPlayerJSProd_btn-guide-view-publish"),Fe(a,"class",m="mgPlayerJSProd_guide-status-wrapper "+(0<r[0].pendingStepCount||r[0].draftExists(r[1].tour_id,r[1].category_id)?"mgPlayerJSProd_disabled":""))},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),o.innerHTML=n,xe(i,s),xe(i,l),xe(l,d),xe(d,g),p||(u=$e(o,"click",r[8]),p=!0)},p(e,t){1&t&&n!==(n=e[0].svgs.publish+"")&&(o.innerHTML=n),1&t&&c!==(c=e[0].labels.publish+"")&&Oe(g,c),3&t&&m!==(m="mgPlayerJSProd_guide-status-wrapper "+(0<e[0].pendingStepCount||e[0].draftExists(e[1].tour_id,e[1].category_id)?"mgPlayerJSProd_disabled":""))&&Fe(a,"class",m)},d(e){e&&Ee(a),p=!1,u()}}}function ul(r){let a,i,o,n=r[0].svgs.publish+"",s,l,d,c=r[0].labels.btnScheduledPublish+"",g,m,p,u;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("button"),s=De(),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),g=Ie(c),Fe(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_ege-inline-block-vt"),Fe(o,"aria-label","publish"),Fe(d,"class","mgPlayerJSProd_tooltip-title"),Fe(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left"),Fe(i,"class","mgPlayerJSProd_status-publish mgPlayerJSProd_status-publish-unpublish mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_header-icon-wrapper mgPlayerJSProd_ege-inline-block-vt"),Fe(a,"id","mgPlayerJSProd_btn-guide-view-schedule"),Fe(a,"class",m="mgPlayerJSProd_guide-status-wrapper "+(0<r[0].pendingStepCount||r[0].draftExists(r[1].tour_id,r[1].category_id)?"mgPlayerJSProd_disabled":""))},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),o.innerHTML=n,xe(i,s),xe(i,l),xe(l,d),xe(d,g),p||(u=$e(o,"click",r[9]),p=!0)},p(e,t){1&t&&n!==(n=e[0].svgs.publish+"")&&(o.innerHTML=n),1&t&&c!==(c=e[0].labels.btnScheduledPublish+"")&&Oe(g,c),3&t&&m!==(m="mgPlayerJSProd_guide-status-wrapper "+(0<e[0].pendingStepCount||e[0].draftExists(e[1].tour_id,e[1].category_id)?"mgPlayerJSProd_disabled":""))&&Fe(a,"class",m)},d(e){e&&Ee(a),p=!1,u()}}}function hl(r){let a,i,o,n=r[0].svgs.unpublish+"",s,l,d,c=r[0].labels.btnUnpublish+"",g,m,p;return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("button"),s=De(),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),g=Ie(c),Fe(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_ege-inline-block-vt"),Fe(o,"aria-label","unpublish"),Fe(d,"class","mgPlayerJSProd_tooltip-title"),Fe(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left"),Fe(i,"class","mgPlayerJSProd_status-unpublish mgPlayerJSProd_status-publish-unpublish mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_header-icon-wrapper mgPlayerJSProd_ege-inline-block-vt"),Fe(a,"id","mgPlayerJSProd_btn-guide-view-unpublish"),Fe(a,"class","mgPlayerJSProd_guide-status-wrapper")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),o.innerHTML=n,xe(i,s),xe(i,l),xe(l,d),xe(d,g),m||(p=$e(o,"click",r[10]),m=!0)},p(e,t){1&t&&n!==(n=e[0].svgs.unpublish+"")&&(o.innerHTML=n),1&t&&c!==(c=e[0].labels.btnUnpublish+"")&&Oe(g,c)},d(e){e&&Ee(a),m=!1,p()}}}function Pl(e){let r;function a(e){return e[0].guideViewFullScreen?yl:_l}let i=a(e),o=i(e);return{c(){r=Me("wmgPlayerJSProd_"),o.c(),Fe(r,"id","mgPlayerJSProd_btn-guide-view-full-screen"),Fe(r,"class","mgPlayerJSProd_guide-view-full-screen")},m(e,t){Le(e,r,t),o.m(r,null)},p(e,t){i===(i=a(e))&&o?o.p(e,t):(o.d(1),(o=i(e))&&(o.c(),o.m(r,null)))},d(e){e&&Ee(r),o.d()}}}function yl(r){let a,i=r[0].svgs.smallscreenIcon+"",o,n;return{c(){Fe(a=Me("button"),"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-view-full-screen-icon mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_header-icon-wrapper mgPlayerJSProd_ege-inline-block-vt"),Fe(a,"aria-label","smallscreen")},m(e,t){Le(e,a,t),a.innerHTML=i,o||(n=$e(a,"click",r[12]),o=!0)},p(e,t){1&t&&i!==(i=e[0].svgs.smallscreenIcon+"")&&(a.innerHTML=i)},d(e){e&&Ee(a),o=!1,n()}}}function _l(r){let a,i=r[0].svgs.fullscreen+"",o,n;return{c(){Fe(a=Me("button"),"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-view-full-screen-icon mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_header-icon-wrapper mgPlayerJSProd_ege-inline-block-vt"),Fe(a,"aria-label","fullscreen")},m(e,t){Le(e,a,t),a.innerHTML=i,o||(n=$e(a,"click",r[11]),o=!0)},p(e,t){1&t&&i!==(i=e[0].svgs.fullscreen+"")&&(a.innerHTML=i)},d(e){e&&Ee(a),o=!1,n()}}}function Sl(e){let a,r;return a=new ja({props:{tour:e[1]}}),{c(){ze(a.$$.fragment)},m(e,t){Ue(a,e,t),r=!0},p(e,t){var r={};2&t&&(r.tour=e[1]),a.$set(r)},i(e){r||(Be(a.$$.fragment,e),r=!0)},o(e){Ve(a.$$.fragment,e),r=!1},d(e){je(a,e)}}}function fl(e){let a,r,i,o,n,s;return i=new Nr({props:{tour:e[1]}}),{c(){a=Me("wmgPlayerJSProd_"),r=Me("button"),ze(i.$$.fragment),Fe(r,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_header-icon-wrapper mgPlayerJSProd_inline-block-vm"),Fe(r,"aria-label","tour action dropdown"),Fe(a,"id",o="mgPlayerJSProd_tour-pencil-icon-"+(e[2]&&e[2]?.step_id||e[1]?.tour_id||e[3]&&e[3]?.entity_code)),Fe(a,"class",n="mgPlayerJSProd_inline-block-vm mgPlayerJSProd_tour-more-option-icon "+(e[1].is_published?"":"mgPlayerJSProd_tour-pencil-icon-unpublish"))},m(e,t){Le(e,a,t),xe(a,r),Ue(i,r,null),s=!0},p(e,t){var r={};2&t&&(r.tour=e[1]),i.$set(r),(!s||2&t&&o!==(o="mgPlayerJSProd_tour-pencil-icon-"+(e[2]&&e[2]?.step_id||e[1]?.tour_id||e[3]&&e[3]?.entity_code)))&&Fe(a,"id",o),(!s||2&t&&n!==(n="mgPlayerJSProd_inline-block-vm mgPlayerJSProd_tour-more-option-icon "+(e[1].is_published?"":"mgPlayerJSProd_tour-pencil-icon-unpublish")))&&Fe(a,"class",n)},i(e){s||(Be(i.$$.fragment,e),s=!0)},o(e){Ve(i.$$.fragment,e),s=!1},d(e){e&&Ee(a),je(i)}}}function Cl(r){let a,i=r[0].svgs.iconEdit+"",o,n;return{c(){Fe(a=Me("wmgPlayerJSProd_"),"id","mgPlayerJSProd_icon-edit-json"),Fe(a,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_tour-more-option-icon mgPlayerJSProd_header-icon-wrapper mgPlayerJSProd_json-editor-icon")},m(e,t){Le(e,a,t),a.innerHTML=i,o||(n=$e(a,"click",r[13]),o=!0)},p(e,t){1&t&&i!==(i=e[0].svgs.iconEdit+"")&&(a.innerHTML=i)},d(e){e&&Ee(a),o=!1,n()}}}function bl(e){let r,a,i,o,n,s=[gl,cl,dl],l=[];function d(e,t){return 2&t&&(r=null),e[0].isAiSuggesionSteps?0:(r=null==r?!(!GmCXt.isHowToGuide(e[1])||de(ge.stepOperationMode)!==GmCXt.STEP_CREATE_OPERATION||0!==e[1].tour_id):r)?1:2}return a=d(e,-1),i=l[a]=s[a](e),{c(){i.c(),o=I()},m(e,t){l[a].m(e,t),Le(e,o,t),n=!0},p(e,[t]){let r=a;(a=d(e,t))===r?l[a].p(e,t):(He(),Ve(l[r],1,1,()=>{l[r]=null}),Ne(),(i=l[a])?i.p(e,t):(i=l[a]=s[a](e)).c(),Be(i,1),i.m(o.parentNode,o))},i(e){n||(Be(i),n=!0)},o(e){Ve(i),n=!1},d(e){e&&Ee(o),l[a].d(e)}}}function vl(e,t,a){let r={},i;r=de(ge.currentTour);let o;ce.isTooltip(r),ce.labels=GmCXt.getAllLabels(ce.language);function n(e){a(0,ce.guideViewFullScreen=e,ce),ce.toggleGuideViewFullScreen()}let s=ge.currentTour.subscribe(e=>{a(1,r={...e}),GmCXt.isEmpty(e)||(i=ce.isGuideInOriginalLang(r)?r:ce.getTranslatedTourAndSteps(r,ce.language),a(1,r={...i}))}),l=(ce.isAiSuggesionSteps&&(ce.aiTourTitle=r.tour_title),GmCXt.isHowToGuide(r)&&(ce.isHowToTitle=r.tour_title),ge.breadCrumb.subscribe(e=>{o=e}),ge.selectedLang.subscribe(e=>{GmCXt.isEmpty(r)||(a(1,r.selectedLang=e,r),a(1,r=ce.getTranslatedTourAndSteps(r,e)),ge.currentTour.set(r))}));pe(()=>{s(),l()});ce.backHandler=e=>{if(ce.guideViewFullScreen&&(a(0,ce.guideViewFullScreen=!1,ce),GmCXt.reduceSidePanelWidth()),"AI_RECOMMENDATION"===ce.sourceOfGuideOpen)ce.setCurrentPage("addAIGuides"),a(0,ce.sourceOfGuideOpen=null,ce);else if(0<o.length){var r=o[o.length-1],e=(e&&(r.has_tour=!0),{parent:r,hasTour:r.has_tour,hasChild:r.has_child});let t={action:"backwardTraversal",data:{detail:e}};ge.routeAction.update(e=>t),ce.setCurrentPage("allguides")}else ce.setCurrentPage("currentpage")};return[ce,r,void 0,void 0,n,function(){a(0,ce.isStepViewRefresh=!1,ce),ce.backHandler(!0)},function(){ce.aiTourTitle=this.value,a(0,ce)},function(){ce.isHowToTitle=this.value,a(0,ce)},e=>ce.changeStatus(r,"publish",0,e),()=>ce.schedulePubTour(r),e=>ce.changeStatus(r,"unpublish",0,e),()=>n(!ce.guideViewFullScreen),()=>n(!ce.guideViewFullScreen),()=>ce.editJson(r,"guide")]}class wl extends e{constructor(e){super(),t(this,e,vl,bl,d,{})}}function Jl(e,t,r){e=e.slice();return e[9]=t[r],e}function Gl(t){let i,a,o=D(ce.sortDataByActiveFilter(t[0],"tour_title",t[1])),n=[];for(let e=0;e<o.length;e+=1)n[e]=Tl(Jl(t,o,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();i=I()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Le(t,i,r),a=!0},p(t,r){if(3&r){o=D(ce.sortDataByActiveFilter(t[0],"tour_title",t[1]));let e;for(e=0;e<o.length;e+=1){var a=Jl(t,o,e);n[e]?(n[e].p(a,r),Be(n[e],1)):(n[e]=Tl(a),n[e].c(),Be(n[e],1),n[e].m(i.parentNode,i))}for(He(),e=o.length;e<n.length;e+=1)(e=>Ve(n[e],1,1,()=>{n[e]=null}))(e);Ne()}},i(e){if(!a){for(let e=0;e<o.length;e+=1)Be(n[e]);a=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)Ve(n[e]);a=!1},d(e){e&&Ee(i),F(n,e)}}}function Al(e){let r,a,i,o=ce.svgs.no_guides_image+"",n,s,l,d,c;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),(l=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.noGuideAvailableFor,d=De(),(c=Me("wmgPlayerJSProd_")).textContent=""+ce.labels.tryModifyingYourSearch,Fe(i,"class","mgPlayerJSProd_no-guide-found-search-icon"),Fe(a,"class","mgPlayerJSProd_no-guide-image-wrapper mgPlayerJSProd_no-guide-search-wrapper"),Fe(l,"class","mgPlayerJSProd_no-guide-msg"),Fe(l,"tabindex","0"),Fe(c,"class","mgPlayerJSProd_instruction-add-category"),Fe(c,"tabindex","0"),Fe(s,"class","mgPlayerJSProd_no-guide-text-wrapper mgPlayerJSProd_no-guide-text-search-wrapper"),Fe(r,"class","mgPlayerJSProd_no-tour-message-wrapper mgPlayerJSProd_position-center "+(ce.isMicroPlayer?"mgPlayerJSProd_no-tour-message-mini-player":"")),Re(r,"mgPlayerJSProd_margin-t-50",!ce.isMicroPlayer)},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),i.innerHTML=o,xe(r,n),xe(r,s),xe(s,l),xe(s,d),xe(s,c)},p:Je,i:Je,o:Je,d(e){e&&Ee(r)}}}function Tl(e){let r,a,i,o;return a=new Gi({props:{tour:e[9]}}),{c(){r=Me("wmgPlayerJSProd_"),ze(a.$$.fragment),i=De(),Fe(r,"class","mgPlayerJSProd_tour-item mgPlayerJSProd_guide-list-view "+(ce.isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":"")),Fe(r,"aria-live",ce.labels.searchResult)},m(e,t){Le(e,r,t),Ue(a,r,null),xe(r,i),o=!0},p(e,t){var r={};3&t&&(r.tour=e[9]),a.$set(r)},i(e){o||(Be(a.$$.fragment,e),o=!0)},o(e){Ve(a.$$.fragment,e),o=!1},d(e){e&&Ee(r),je(a)}}}function Xl(e){let a,i,o,r,n=[Al,Gl],s=[];function l(e){return e[0].length<1?0:1}return i=l(e),o=s[i]=n[i](e),{c(){a=Me("wmgPlayerJSProd_"),o.c(),Fe(a,"class","mgPlayerJSProd_search-list")},m(e,t){Le(e,a,t),s[i].m(a,null),r=!0},p(e,[t]){let r=i;(i=l(e))===r?s[i].p(e,t):(He(),Ve(s[r],1,1,()=>{s[r]=null}),Ne(),(o=s[i])?o.p(e,t):(o=s[i]=n[i](e)).c(),Be(o,1),o.m(a,null))},i(e){r||(Be(o),r=!0)},o(e){Ve(o),r=!1},d(e){e&&Ee(a),s[i].d()}}}function kl(e,t,r){let a;GmCXt.user;let i,o,n=(GmCXt.getLXPLang()&&(o=GmCXt.getLXPLang()),ge.CurrentPage.subscribe(e=>{})),s=ge.searchTours.subscribe(e=>{e&&r(0,a=ce.getTranslatedTours(e,o))}),l=(pe(()=>{n(),s(),l()}),ge.selectedLang.subscribe(e=>{GmCXt.getLXPLang()||(o=e),r(0,a=ce.getTranslatedTours(a,o))}));return ge.activeSortFilterStore.subscribe(e=>{r(1,i=e)}),setTimeout(function(){ce.setContainerHeight("search")},100),mg$(window).off("resize").on("resize",function(){ce.setContainerHeight("search")}),me(()=>{ce.setContainerHeight("search")}),[a,i]}class xl extends e{constructor(e){super(),t(this,e,kl,Xl,d,{})}}function Ll(e,t,r){e=e.slice();return e[13]=t[r],e}function El(e){let a,i,o,n;return i=new Gi({props:{tour:e[13]}}),{c(){a=Me("wmgPlayerJSProd_"),ze(i.$$.fragment),Fe(a,"class",o="mgPlayerJSProd_tour-item mgPlayerJSProd_guide-list-view "+(e[0].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":""))},m(e,t){Le(e,a,t),Ue(i,a,null),n=!0},p(e,t){var r={};2&t&&(r.tour=e[13]),i.$set(r),(!n||1&t&&o!==(o="mgPlayerJSProd_tour-item mgPlayerJSProd_guide-list-view "+(e[0].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":"")))&&Fe(a,"class",o)},i(e){n||(Be(i.$$.fragment,e),n=!0)},o(e){Ve(i.$$.fragment,e),n=!1},d(e){e&&Ee(a),je(i)}}}function Ml(){let r,a;return r=new wo({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Il(t){let i,o,n,r,a,s=D(t[1]),l=[];for(let e=0;e<s.length;e+=1)l[e]=El(Ll(t,s,e));let d=t[2]&&Ml();return{c(){i=Me("wmgPlayerJSProd_");for(let e=0;e<l.length;e+=1)l[e].c();o=De(),d&&d.c(),n=De(),Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_ege-clear"),Fe(i,"class","mgPlayerJSProd_category-list")},m(e,t){Le(e,i,t);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(i,null);xe(i,o),d&&d.m(i,null),xe(i,n),xe(i,r),a=!0},p(t,[r]){if(3&r){s=D(t[1]);let e;for(e=0;e<s.length;e+=1){var a=Ll(t,s,e);l[e]?(l[e].p(a,r),Be(l[e],1)):(l[e]=El(a),l[e].c(),Be(l[e],1),l[e].m(i,o))}for(He(),e=s.length;e<l.length;e+=1)(e=>Ve(l[e],1,1,()=>{l[e]=null}))(e);Ne()}t[2]?d?4&r&&Be(d,1):((d=Ml()).c(),Be(d,1),d.m(i,n)):d&&(He(),Ve(d,1,1,()=>{d=null}),Ne())},i(e){if(!a){for(let e=0;e<s.length;e+=1)Be(l[e]);Be(d),a=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)Ve(l[e]);Ve(d),a=!1},d(e){e&&Ee(i),F(l,e),d&&d.d()}}}let Dl=50;function $l(e,t,r){ce.filterByPublishedGuides,ce.currentUserFilter,ce.currentAssigneeFilter,ce.currentView="filter-list";function a(t){ce.showLoading();var e={limit:Dl,offset:i};e.my_guides=ce.user.user_id,GmCXt.getLXPLang()&&(e.language=GmCXt.getLXPLang()),GmCXt.api.getTourList(e,function(e){g(t,e)})}let i=0,o=0,n=[],s=!0,l=!0,d=ce.activeTourId,c=(d=d||0,ge.MyGuidePageTours.subscribe(e=>{r(1,n=e)})),g=(pe(()=>{c()}),a(0),function(e,t){(t=ce.getTranslatedTours(t))&&0<t.length?(r(1,n=e?mg$.merge(n,t):t),ge.MyGuidePageTours.set(n),r(2,s=!1),o=t.length):r(2,s=!e),l=!0,n.forEach(function(e){e.tour_id===d&&(e.screencastInProgress=!0)}),ge.MyGuidePageTours.set(n),ce.setContainerHeight("allguides")});return mg$(".mgPlayerJSProd_category-list").off("scroll").on("scroll",function(){if(!l)return!0;mg$(this).scrollTop()+mg$(this).innerHeight()>=mg$(this)[0].scrollHeight-20&&mg$(this)[0].scrollHeight+20>mg$(this).innerHeight()&&(l=!1,o===Dl)&&(ce.showLoading(),i+=Dl,a(1))}),ce.setContainerHeight("allguides"),mg$(window).off("resize").on("resize",function(){ce.setContainerHeight("allguides")}),[ce,n,s]}class Fl extends e{constructor(e){super(),t(this,e,$l,Il,d,{})}}function Ol(e){let r,a,i,o=e[0].svgs.no_guides_image+"",n,s,l=e[0].labels.noGuidesOnDomain+"",d,c,g,m=e[0].labels.noAppOnDomain+"",p,u,h,P,y,_,S,f,C=e[0].labels.contactAdmin+"";return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),n=De(),s=Me("wmgPlayerJSProd_"),d=Ie(l),c=De(),g=Me("wmgPlayerJSProd_"),p=Ie(m),u=De(),h=Me("wmgPlayerJSProd_"),P=Ie("("),y=Ie(e[1]),_=Ie(")"),S=De(),f=Me("wmgPlayerJSProd_"),Fe(i,"class","mgPlayerJSProd_no-app-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),Fe(a,"class","mgPlayerJSProd_no-app-icon-wrapper mgPlayerJSProd_display-inline-block mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-tb-30"),Fe(s,"class","mgPlayerJSProd_no-guide-msg mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-20 mgPlayerJSProd_text-align-center mgPlayerJSProd_font-weight-550 mgPlayerJSProd_text-color-dark"),Fe(h,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_font-weight-550"),Fe(g,"class","mgPlayerJSProd_default-app-msg mgPlayerJSProd_display-inline-block mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-16 mgPlayerJSProd_margin-tb-10"),Fe(f,"class","mgPlayerJSProd_contact-support-msg mgPlayerJSProd_display-inline-block mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-16 mgPlayerJSProd_margin-tb-10"),Fe(r,"class","mgPlayerJSProd_no-app-container mgPlayerJSProd_text-align-center"),Re(r,"mgPlayerJSProd_no-margin",!e[0].isMicroPlayer)},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),i.innerHTML=o,xe(r,n),xe(r,s),xe(s,d),xe(r,c),xe(r,g),xe(g,p),xe(g,u),xe(g,h),xe(h,P),xe(h,y),xe(h,_),xe(r,S),xe(r,f),f.innerHTML=C},p(e,[t]){1&t&&o!==(o=e[0].svgs.no_guides_image+"")&&(i.innerHTML=o),1&t&&l!==(l=e[0].labels.noGuidesOnDomain+"")&&Oe(d,l),1&t&&m!==(m=e[0].labels.noAppOnDomain+"")&&Oe(p,m),2&t&&Oe(y,e[1]),1&t&&C!==(C=e[0].labels.contactAdmin+"")&&(f.innerHTML=C),1&t&&Re(r,"mgPlayerJSProd_no-margin",!e[0].isMicroPlayer)},i:Je,o:Je,d(e){e&&Ee(r)}}}function Rl(e,t,r){GmCXt.log(21,"NO APPS found"),ce.currentView="no-app",ce.resetAppData();let a="";return GmCXt.urlParts&&GmCXt.urlParts.host&&r(1,a=GmCXt.urlParts.host),[ce,a]}class Hl extends e{constructor(e){super(),t(this,e,Rl,Ol,d,{})}}function Nl(){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Bl(){let r,a;return r=new wl({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Vl(e){let r,a,i,o=""!==e[0]&&td(e);return{c(){r=Me("wmgPlayerJSProd_"),o&&o.c(),Fe(r,"id","mgPlayerJSProd_home-page-container"),Fe(r,"class",a="mgPlayerJSProd_ege-panel-main-container mgPlayerJSProd_home-page-container "+("allguidesSearchPage"==e[0]||"currentPageSearchPage"==e[0]?"mgPlayerJSProd_search-page-container":""))},m(e,t){Le(e,r,t),o&&o.m(r,null),i=!0},p(e,t){""!==e[0]?o?(o.p(e,t),1&t&&Be(o,1)):((o=td(e)).c(),Be(o,1),o.m(r,null)):o&&(He(),Ve(o,1,1,()=>{o=null}),Ne()),(!i||1&t&&a!==(a="mgPlayerJSProd_ege-panel-main-container mgPlayerJSProd_home-page-container "+("allguidesSearchPage"==e[0]||"currentPageSearchPage"==e[0]?"mgPlayerJSProd_search-page-container":"")))&&Fe(r,"class",a)},i(e){i||(Be(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&Ee(r),o&&o.d()}}}function zl(e){let r,a;return r=new Hl({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},p:Je,i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Ul(e){let r,a,i,o,n=(a=new ll({}),"addLinkGuide"==e[0]&&sd());return{c(){r=Me("wmgPlayerJSProd_"),ze(a.$$.fragment),i=De(),n&&n.c(),Fe(r,"id","mgPlayerJSProd_tour-view-page-container"),Fe(r,"class","mgPlayerJSProd_ege-panel-main-container mgPlayerJSProd_tour-view-page-container")},m(e,t){Le(e,r,t),Ue(a,r,null),xe(r,i),n&&n.m(r,null),o=!0},p(e,t){"addLinkGuide"==e[0]?n?1&t&&Be(n,1):((n=sd()).c(),Be(n,1),n.m(r,null)):n&&(He(),Ve(n,1,1,()=>{n=null}),Ne())},i(e){o||(Be(a.$$.fragment,e),Be(n),o=!0)},o(e){Ve(a.$$.fragment,e),Ve(n),o=!1},d(e){e&&Ee(r),je(a),n&&n.d()}}}function jl(e){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},p:Je,i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Wl(e){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},p:Je,i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Zl(e){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},p:Je,i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function ql(e){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},p:Je,i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Yl(e){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},p:Je,i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Kl(e){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},p:Je,i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Ql(e){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},p:Je,i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function ed(e){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},p:Je,i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function td(e){let a,r,i,o,n,s,l=(r=new _a({}),[nd,od,id,ad,rd]),d=[];function c(e){return"currentpage"===e[0]?0:"myguides"===e[0]?1:"allguides"==e[0]?2:"allguidesSearchPage"==e[0]||"currentPageSearchPage"==e[0]?3:"listView"==e[0]?4:-1}return~(o=c(e))&&(n=d[o]=l[o](e)),{c(){a=Me("wmgPlayerJSProd_"),ze(r.$$.fragment),i=De(),n&&n.c(),Fe(a,"class","mgPlayerJSProd_tour-list-page-container")},m(e,t){Le(e,a,t),Ue(r,a,null),xe(a,i),~o&&d[o].m(a,null),s=!0},p(e,t){let r=o;(o=c(e))!==r&&(n&&(He(),Ve(d[r],1,1,()=>{d[r]=null}),Ne()),~o?((n=d[o])||(n=d[o]=l[o](e)).c(),Be(n,1),n.m(a,null)):n=null)},i(e){s||(Be(r.$$.fragment,e),Be(n),s=!0)},o(e){Ve(r.$$.fragment,e),Ve(n),s=!1},d(e){e&&Ee(a),je(r),~o&&d[o].d()}}}function rd(e){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function ad(e){let r,a;return r=new xl({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function id(e){let r,a;return r=new rn({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function od(e){let r,a;return r=new Fl({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function nd(e){let r,a;return r=new Di({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function sd(){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function ld(e){let a,i,r,o,n,s=e[4](),l,d;var t=e[5]();let c,g,m,p,u,h,P,y,_,S,f,C,b,v,w,J,G,A,T,X,k,x=e[1]&&Nl(),L=(o=new $t({}),s&&(e=>{let r,a,i;return a=new Nr({props:{currentPageRoute:0<e[2].length&&"stepview"!==e[0]?"categorylist":e[0]}}),{c(){r=Me("wmgPlayerJSProd_"),ze(a.$$.fragment),Fe(r,"class","mgPlayerJSProd_float-right mgPlayerJSProd_margin-lr-5")},m(e,t){Le(e,r,t),Ue(a,r,null),i=!0},p(e,t){var r={};5&t&&(r.currentPageRoute=0<e[2].length&&"stepview"!==e[0]?"categorylist":e[0]),a.$set(r)},i(e){i||(Be(a.$$.fragment,e),i=!0)},o(e){Ve(a.$$.fragment,e),i=!1},d(e){e&&Ee(r),je(a)}}})(e)),E=("stepview"==e[0]||"addLinkGuide"==e[0]||"copySteps"==e[0])&&Bl(),M=t&&(()=>{let r,a;return r=new Hr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}})(),I=[ed,Ql,Kl,Yl,ql,Zl,Wl,jl,Ul,zl,Vl],D=[];function $(e,t){return(g=null==(g=1&t?null:g)?!(!ce.isOwnerOrAppAdmin()||"appsettings"!=e[0]):g)?0:"addCategory"==e[0]?1:"addAIGuides"==e[0]?2:"addGuide"==e[0]?3:"addSurveyStep"==e[0]?4:"addTransportStep"==e[0]?5:"addVideoStep"==e[0]?6:"addTextSlideStep"==e[0]?7:"stepview"==e[0]||"addLinkGuide"==e[0]||"copySteps"==e[0]?8:"noapp"==e[0]?9:10}return m=$(e,-1),p=D[m]=I[m](e),X=new tr({}),{c(){a=Me("wmgPlayerJSProd_"),x&&x.c(),i=De(),r=Me("wmgPlayerJSProd_"),ze(o.$$.fragment),n=De(),L&&L.c(),l=De(),E&&E.c(),d=De(),M&&M.c(),c=De(),p.c(),u=De(),h=Me("wmgPlayerJSProd_"),P=De(),y=Me("wmgPlayerJSProd_"),_=De(),S=Me("wmgPlayerJSProd_"),f=De(),C=Me("wmgPlayerJSProd_"),b=De(),v=Me("wmgPlayerJSProd_"),w=De(),J=Me("wmgPlayerJSProd_"),G=De(),A=Me("wmgPlayerJSProd_"),T=De(),ze(X.$$.fragment),Fe(r,"class","mgPlayerJSProd_panel-header-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between "+(ce.isMicroPlayer?"mgPlayerJSProd_br-white mgPlayerJSProd_panel-header-micro-wrapper":"")),Fe(a,"id","mgPlayerJSProd_ege-header"),Fe(a,"class","mgPlayerJSProd_ege-panel-header"),Fe(h,"id","mgPlayerJSProd_add-branch-view"),Fe(y,"id","mgPlayerJSProd_add-history-view"),Fe(S,"id","mgPlayerJSProd_automation-url-results"),Fe(C,"id","mgPlayerJSProd_step-creation-preview-image"),Fe(v,"class","mgPlayerJSProd_sidepanel-screen-blackout"),Fe(J,"id","mgPlayerJSProd_beacon-creation-preview-image"),Fe(A,"class","mgPlayerJSProd_smarttip-icon"),Fe(A,"id","guideme-beacon-icon")},m(e,t){Le(e,a,t),x&&x.m(a,null),xe(a,i),xe(a,r),Ue(o,r,null),xe(a,n),L&&L.m(a,null),xe(a,l),E&&E.m(a,null),xe(a,d),M&&M.m(a,null),Le(e,c,t),D[m].m(e,t),Le(e,u,t),Le(e,h,t),Le(e,P,t),Le(e,y,t),Le(e,_,t),Le(e,S,t),Le(e,f,t),Le(e,C,t),Le(e,b,t),Le(e,v,t),Le(e,w,t),Le(e,J,t),Le(e,G,t),Le(e,A,t),Le(e,T,t),Ue(X,e,t),k=!0},p(e,t){e[1]?x?2&t&&Be(x,1):((x=Nl()).c(),Be(x,1),x.m(a,i)):x&&(He(),Ve(x,1,1,()=>{x=null}),Ne()),s&&L.p(e,t),"stepview"==e[0]||"addLinkGuide"==e[0]||"copySteps"==e[0]?E?1&t&&Be(E,1):((E=Bl()).c(),Be(E,1),E.m(a,d)):E&&(He(),Ve(E,1,1,()=>{E=null}),Ne());let r=m;(m=$(e,t))===r?D[m].p(e,t):(He(),Ve(D[r],1,1,()=>{D[r]=null}),Ne(),(p=D[m])?p.p(e,t):(p=D[m]=I[m](e)).c(),Be(p,1),p.m(u.parentNode,u))},i(e){k||(Be(x),Be(o.$$.fragment,e),Be(L),Be(E),Be(M),Be(p),Be(X.$$.fragment,e),k=!0)},o(e){Ve(x),Ve(o.$$.fragment,e),Ve(L),Ve(E),Ve(M),Ve(p),Ve(X.$$.fragment,e),k=!1},d(e){e&&(Ee(a),Ee(c),Ee(u),Ee(h),Ee(P),Ee(y),Ee(_),Ee(S),Ee(f),Ee(C),Ee(b),Ee(v),Ee(w),Ee(J),Ee(G),Ee(A),Ee(T)),x&&x.d(),je(o),L&&L.d(),E&&E.d(),M&&M.d(),D[m].d(e),je(X,e)}}}function dd(e){let r=e[3],a,i,o=ld(e);return{c(){o.c(),a=I()},m(e,t){o.m(e,t),Le(e,a,t),i=!0},p(e,[t]){8&t&&d(r,r=e[3])?(He(),Ve(o,1,1,Je),Ne(),(o=ld(e)).c(),Be(o,1),o.m(a.parentNode,a)):o.p(e,t)},i(e){i||(Be(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&Ee(a),o.d(e)}}}function cd(e,t,r){let a="",i=!1,o=[],n=0;let s=ge.breadCrumb.subscribe(e=>{!1===e&&ge.breadCrumb.set([]),r(2,o=e),GmCXt.saveToStorage("breadCrumb",e)}),l=(ge.statusBar.subscribe(e=>{r(1,i=!1),setTimeout(()=>{r(1,i=!0)},10)}),ge.CurrentPage.subscribe(e=>{r(0,a=e),r(3,n+=1),"AI_RECOMMENDATION"===ce.sourceOfGuideOpen||"stepview"!==e&&"allguides"!==e&&"myguides"!==e&&"currentpage"!==e||GmCXt.saveToStorage("currentPage",e)}));function d(){var e;0<o.length&&(e={detail:{parent:e=o[o.length-1],hasTour:e.has_tour,hasChild:e.has_child}},ge.routeAction.set({action:"forwardTraversal",data:e}))}return r(2,o=de(ge.breadCrumb)),r(0,a=de(ge.CurrentPage)),de(ge.currentTour),GmCXt.FT.isPlayer&&ce.showGuidesFromDesktopApp?"stepview"===a?ce.setCurrentPage(a):"currentpage"!==a&&0<o.length&&(d(),ce.setCurrentPage("allguides")):GmCXt.FT.isPlayer&&"noapp"!==a?ce.allGuideView&&"allguides"!==a&&"stepview"!==a?(ge.breadCrumb.set([]),ge.allCategories.set([]),ce.setCurrentPage("allguides")):ce.allGuideView?d():(ce.allGuideView,"currentpage"!==a&&ce.setCurrentPage("currentpage")):(d(),a&&!1!==a||(ce.allGuideView||!GmCXt.FT.isPlayer?ce.setCurrentPage("allguides"):ce.setCurrentPage("currentpage"))),pe(()=>{s(),l()}),[a,i,o,n,function(){return!["addCategory","addGuide","addSurveyStep","addTransportStep","addVideoStep","addTextSlideStep","copySteps","addAIGuides"].includes(a)&&!ce.automationSelectionMode&&!ce.showPlayer},function(){return de(ge.activeView),!["addCategory","addGuide","stepview","addSurveyStep","addTransportStep","addLinkGuide","addVideoStep","addTextSlideStep","copySteps","addAIGuides"].includes(a)&&!ce.showPlayer&&((GmCXt.FT.creatorApp||ce.showAppSwitcher&&1<ce.user.app_access.length)&&!ce.maintenance||GmCXt.FT.isPlayer&&ce.showGuidesFromDesktopApp)}]}class gd extends e{constructor(e){super(),t(this,e,cd,dd,d,{})}}function md(e){let r,a=e[0].labels.cdnAccess+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_maintenance-message-wrapper mgPlayerJSProd_inline-block-vm mgPlayerJSProd_font-size-16 mgPlayerJSProd_text-align-center")},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t&&a!==(a=e[0].labels.cdnAccess+"")&&(r.innerHTML=a)},d(e){e&&Ee(r)}}}function pd(e){let r,a=e[0].labels[1005]+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_maintenance-message-wrapper mgPlayerJSProd_inline-block-vm mgPlayerJSProd_font-size-16 mgPlayerJSProd_text-align-center")},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t&&a!==(a=e[0].labels[1005]+"")&&(r.innerHTML=a)},d(e){e&&Ee(r)}}}function ud(r){let a;return{c(){Fe(a=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_maintenance-message-wrapper mgPlayerJSProd_inline-block-vm mgPlayerJSProd_font-size-16 mgPlayerJSProd_text-align-center")},m(e,t){Le(e,a,t),a.innerHTML=r[1]},p(e,t){2&t&&(a.innerHTML=e[1])},d(e){e&&Ee(a)}}}function hd(e){let r,a,i,o,n,s=e[0].svgs.maintenance_icon+"",l,d,c,g,m,p,u=(r=new Rt({}),e[0].cdn404&&md(e)),h=e[0].cdn403&&pd(e),P=e[0].maintenance&&ud(e);return m=new tr({}),{c(){ze(r.$$.fragment),a=De(),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),l=De(),u&&u.c(),d=De(),h&&h.c(),c=De(),P&&P.c(),g=De(),ze(m.$$.fragment),Fe(n,"class","mgPlayerJSProd_text-align-center"),Fe(o,"class","mgPlayerJSProd_maintenance-icon-wrapper"),Fe(i,"class","mgPlayerJSProd_maintenance-page-container mgPlayerJSProd_text-align-center")},m(e,t){Ue(r,e,t),Le(e,a,t),Le(e,i,t),xe(i,o),xe(o,n),n.innerHTML=s,xe(i,l),u&&u.m(i,null),xe(i,d),h&&h.m(i,null),xe(i,c),P&&P.m(i,null),Le(e,g,t),Ue(m,e,t),p=!0},p(e,[t]){(!p||1&t)&&s!==(s=e[0].svgs.maintenance_icon+"")&&(n.innerHTML=s),e[0].cdn404?u?u.p(e,t):((u=md(e)).c(),u.m(i,d)):u&&(u.d(1),u=null),e[0].cdn403?h?h.p(e,t):((h=pd(e)).c(),h.m(i,c)):h&&(h.d(1),h=null),e[0].maintenance?P?P.p(e,t):((P=ud(e)).c(),P.m(i,null)):P&&(P.d(1),P=null)},i(e){p||(Be(r.$$.fragment,e),Be(m.$$.fragment,e),p=!0)},o(e){Ve(r.$$.fragment,e),Ve(m.$$.fragment,e),p=!1},d(e){e&&(Ee(a),Ee(i),Ee(g)),je(r,e),u&&u.d(),h&&h.d(),P&&P.d(),je(m,e)}}}function Pd(e,t,r){ce.currentView="maintenance";let a=ce.labels.maintenanceMessage;return a=a.replace("support@csod.com","<a href='mailto:support@csod.com' target='_top'>support@csod.com</a>"),[ce,a]}class yd extends e{constructor(e){super(),t(this,e,Pd,hd,d,{})}}function _d(r){let a,i,o,n,s=r[0].labels.forgetPassTitl+"",l,F,d,c,g,m,p,u,h=r[0].labels.placeholderEmail+"",P,O,y,_,R,S,f=r[0].labels.emailError+"",C,H,N,b,v,w=r[0].labels.forgetPassTitl+"",J,G,A,B,T,X,k=r[0].labels.backToLogin+"",x,L,V,E,M,I,D,z,$=(a=new Rt({}),!GmCXt.conf.hideCaptcha&&(t=>{let r,a,i=t[0].labels.captchaLbl+"",o,n,s,l,d,c,g;function e(e){t[12](e)}function m(e){t[13](e)}function p(e){t[14](e)}var u={};return void 0!==t[2]&&(u.captchaValid=t[2]),void 0!==t[3]&&(u.showCaptchaError=t[3]),void 0!==t[4]&&(u.inputCaptchaRef=t[4]),s=new Vt({props:u}),ue.push(()=>j(s,"captchaValid",e)),ue.push(()=>j(s,"showCaptchaError",m)),ue.push(()=>j(s,"inputCaptchaRef",p)),{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),ze(s.$$.fragment),Fe(a,"class","mgPlayerJSProd_text-align-left mgPlayerJSProd_login-field-label"),Fe(r,"class","mgPlayerJSProd_margin-tb-10")},m(e,t){Le(e,r,t),xe(r,a),xe(a,o),xe(r,n),Ue(s,r,null),g=!0},p(e,t){(!g||1&t)&&i!==(i=e[0].labels.captchaLbl+"")&&Oe(o,i);var r={};!l&&4&t&&(l=!0,r.captchaValid=e[2],U(()=>l=!1)),!d&&8&t&&(d=!0,r.showCaptchaError=e[3],U(()=>d=!1)),!c&&16&t&&(c=!0,r.inputCaptchaRef=e[4],U(()=>c=!1)),s.$set(r)},i(e){g||(Be(s.$$.fragment,e),g=!0)},o(e){Ve(s.$$.fragment,e),g=!1},d(e){e&&Ee(r),je(s)}}})(r));return M=new tr({}),{c(){ze(a.$$.fragment),i=De(),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),l=Ie(s),F=De(),d=Me("wmgPlayerJSProd_"),c=Me("wmgPlayerJSProd_"),g=Me("wmgPlayerJSProd_"),m=Me("wmgPlayerJSProd_"),p=Me("wmgPlayerJSProd_"),u=Me("wmgPlayerJSProd_"),P=Ie(h),O=De(),y=Me("input"),R=De(),S=Me("wmgPlayerJSProd_"),C=Ie(f),H=De(),$&&$.c(),N=De(),b=Me("wmgPlayerJSProd_"),v=Me("button"),J=Ie(w),B=De(),T=Me("wmgPlayerJSProd_"),X=Me("button"),x=Ie(k),V=De(),E=De(),ze(M.$$.fragment),Fe(n,"class","mgPlayerJSProd_h2 mgPlayerJSProd_font-size-24 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-25"),Fe(u,"class","mgPlayerJSProd_text-align-left mgPlayerJSProd_login-field-label"),Fe(y,"id","mgPlayerJSProd_input-forgot-email"),Fe(y,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_font-size-16 mgPlayerJSProd_inline-block-vm"),Fe(y,"maxlength","50"),Fe(y,"spellcheck","true"),Fe(y,"type","email"),Fe(y,"placeholder",_=r[0].labels.placeholderEmail),Fe(y,"name","email"),Fe(y,"aria-describedby","mgPlayerJSProd_input-forgot-email-err-msg"),Fe(y,"autocomplete","email"),Fe(y,"aria-label","Email ID"),y.required=!0,Fe(S,"id","mgPlayerJSProd_input-forgot-email-err-msg"),Fe(S,"class","mgPlayerJSProd_error-input-wrapper"),Re(S,"active",r[7]),Fe(p,"class","mgPlayerJSProd_input-email-wrapper mgPlayerJSProd_margin-tb-10"),Fe(m,"class","mgPlayerJSProd_signin-form-input"),Fe(v,"id","mgPlayerJSProd_btn-reset-pass"),Fe(v,"type","button"),Fe(v,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_font-size-15"),Fe(v,"aria-disabled",G=r[7]||!r[2]),Fe(v,"aria-label",A=r[0].labels.forgetPassTitl),Fe(b,"class","mgPlayerJSProd_btn-login-wrapper mgPlayerJSProd_text-align-center"),Fe(X,"id","mgPlayerJSProd_label-forgot-back-to-login"),Fe(X,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_back-to-login mgPlayerJSProd_theme-color mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_font-weight-550 mgPlayerJSProd_inline-block-vm"),Fe(X,"type","button"),Fe(X,"aria-label",L=r[0].labels.backToLogin),Fe(T,"class","mgPlayerJSProd_width-100 mgPlayerJSProd_text-align-center"),Fe(g,"class","mgPlayerJSProd_signin-form-container"),Fe(c,"role","form"),Fe(c,"aria-labelledby","guide-forgot-password-form"),Fe(c,"name","forgotPasswordForm"),Fe(c,"autocomplete","off"),Fe(d,"class","mgPlayerJSProd_signin-page-wrapper"),Fe(o,"class","mgPlayerJSProd_ege-panel-main-container mgPlayerJSProd_signin-page-container mgPlayerJSProd_forgot-password-page-container")},m(e,t){Ue(a,e,t),Le(e,i,t),Le(e,o,t),xe(o,n),xe(n,l),xe(o,F),xe(o,d),xe(d,c),xe(c,g),xe(g,m),xe(m,p),xe(p,u),xe(u,P),xe(p,O),xe(p,y),We(y,r[1]),r[11](y),xe(p,R),xe(p,S),xe(S,C),xe(m,H),$&&$.m(m,null),xe(g,N),xe(g,b),xe(b,v),xe(v,J),xe(g,B),xe(g,T),xe(T,X),xe(X,x),xe(o,V),Le(e,E,t),Ue(M,e,t),I=!0,D||(z=[$e(y,"input",r[10]),$e(v,"click",r[9]),$e(X,"click",function(){Y(r[0].goToLogin)&&r[0].goToLogin.apply(this,arguments)})],D=!0)},p(e,[t]){r=e,(!I||1&t)&&s!==(s=r[0].labels.forgetPassTitl+"")&&Oe(l,s),(!I||1&t)&&h!==(h=r[0].labels.placeholderEmail+"")&&Oe(P,h),(!I||1&t&&_!==(_=r[0].labels.placeholderEmail))&&Fe(y,"placeholder",_),2&t&&y.value!==r[1]&&We(y,r[1]),(!I||1&t)&&f!==(f=r[0].labels.emailError+"")&&Oe(C,f),(!I||128&t)&&Re(S,"active",r[7]),GmCXt.conf.hideCaptcha||$.p(r,t),(!I||1&t)&&w!==(w=r[0].labels.forgetPassTitl+"")&&Oe(J,w),(!I||132&t&&G!==(G=r[7]||!r[2]))&&Fe(v,"aria-disabled",G),(!I||1&t&&A!==(A=r[0].labels.forgetPassTitl))&&Fe(v,"aria-label",A),(!I||1&t)&&k!==(k=r[0].labels.backToLogin+"")&&Oe(x,k),(!I||1&t&&L!==(L=r[0].labels.backToLogin))&&Fe(X,"aria-label",L)},i(e){I||(Be(a.$$.fragment,e),Be($),Be(M.$$.fragment,e),I=!0)},o(e){Ve(a.$$.fragment,e),Ve($),Ve(M.$$.fragment,e),I=!1},d(e){e&&(Ee(i),Ee(o),Ee(E)),je(a,e),r[11](null),$&&$.d(),je(M,e),D=!1,ke(z)}}}function Sd(e,t,r){let a="",i=!1,o=!1,n,s,l,d;ce.currentView="forgot-password-view";let c;function g(){var e={email:a};ce.showLoading(),GmCXt.api.forgetPassword(e,function(e){var t=ce.labels.otpSentDesc+" "+GmCXt.conf.adminEmail;$.open(t,"info",function(){ce.goToLogin()},!1,!1,!1,ce.labels.forgetPassTitl)},function(e){ce.showPopup(e.message)})}return[ce,a,i,o,n,"","",!1,c,function(){r(3,o=!1),r(7,d=!1),i||GmCXt.conf.hideCaptcha?""!==a.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(a)?g():(r(7,!0),c?.focus()):(r(3,o=!0),n?.focus())},function(){a=this.value,r(1,a)},function(e){ue[e?"unshift":"push"](()=>{c=e,r(8,c)})},function(e){i=e,r(2,i)},function(e){o=e,r(3,o)},function(e){n=e,r(4,n)},function(){a=this.value,r(1,a)},function(){a=this.value,r(1,a)},function(){s=this.value,r(5,s)},function(){l=this.value,r(6,l)}]}class fd extends e{constructor(e){super(),t(this,e,Sd,_d,d,{})}}function Cd(r){let a,i,o,n,s,l,d,c,g,m,p=r[0].svgs.iconBack+"",u,h,P,y=r[0].labels.back+"",_,S,f,C,b=r[0].labels.chatbot+"",v,w,J,G,A,T,X,k,x,L,E,M;return n=new $t({}),x=new tr({}),{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),ze(n.$$.fragment),s=De(),l=Me("wmgPlayerJSProd_"),d=Me("wmgPlayerJSProd_"),c=Me("wmgPlayerJSProd_"),g=Me("wmgPlayerJSProd_"),m=Me("wmgPlayerJSProd_"),u=De(),h=Me("wmgPlayerJSProd_"),P=Me("wmgPlayerJSProd_"),_=Ie(y),S=De(),f=Me("wmgPlayerJSProd_"),C=Me("wmgPlayerJSProd_"),v=Ie(b),w=De(),J=Me("wmgPlayerJSProd_"),G=De(),A=Me("wmgPlayerJSProd_"),T=De(),(X=Me("wmgPlayerJSProd_")).innerHTML='<wmgPlayerJSProd_ id="mgPlayerJSProd_botdiv"></wmgPlayerJSProd_> <wmgPlayerJSProd_ id="mgPlayerJSProd_div_bottom" class="mgPlayerJSProd_div-bottom"></wmgPlayerJSProd_>',k=De(),ze(x.$$.fragment),Fe(o,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100"),Fe(i,"class","mgPlayerJSProd_panel-header-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),Re(i,"mgPlayerJSProd_bg-white",r[0].isMicroPlayer),Re(i,"mgPlayerJSProd_panel-header-micro-wrapper",r[0].isMicroPlayer),Fe(a,"id","mgPlayerJSProd_ege-header"),Fe(a,"class","mgPlayerJSProd_ege-panel-header"),Fe(m,"class","mgPlayerJSProd_ege-inline-block-vm"),Fe(P,"class","mgPlayerJSProd_tooltip-title"),Fe(h,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-left"),Fe(g,"class","mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_chat-back-btn mgPlayerJSProd_position-relative"),Fe(C,"class","mgPlayerJSProd_span mgPlayerJSProd_mychat-label mgPlayerJSProd_ege-inline-block-vt"),Fe(f,"class","mgPlayerJSProd_chatbot-add-icon mgPlayerJSProd_inline-block-vm"),Fe(J,"class","mgPlayerJSProd_ege-clear"),Fe(A,"class","mgPlayerJSProd_ege-clear"),Fe(d,"class","mgPlayerJSProd_chat-page-header mgPlayerJSProd_list-page-header"),Re(d,"mgPlayerJSProd_chat-page-header-miniplayer",r[0].isMicroPlayer),Fe(X,"id","mgPlayerJSProd_uilb-main-container"),Fe(X,"scroll-bottom","mgPlayerJSProd_uilb-main-container"),Fe(X,"class","mgPlayerJSProd_uilb-main-container"),Fe(l,"class","mgPlayerJSProd_ege-panel-main-container mgPlayerJSProd_chatbot-page-container")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),Ue(n,o,null),Le(e,s,t),Le(e,l,t),xe(l,d),xe(d,c),xe(c,g),xe(g,m),m.innerHTML=p,xe(g,u),xe(g,h),xe(h,P),xe(P,_),xe(c,S),xe(c,f),xe(f,C),xe(C,v),xe(c,w),xe(c,J),xe(c,G),xe(c,A),xe(l,T),xe(l,X),xe(l,k),Ue(x,l,null),L=!0,E||(M=$e(g,"click",r[1]),E=!0)},p(e,t){(!L||1&t[0])&&Re(i,"mgPlayerJSProd_bg-white",e[0].isMicroPlayer),(!L||1&t[0])&&Re(i,"mgPlayerJSProd_panel-header-micro-wrapper",e[0].isMicroPlayer),(!L||1&t[0])&&p!==(p=e[0].svgs.iconBack+"")&&(m.innerHTML=p),(!L||1&t[0])&&y!==(y=e[0].labels.back+"")&&Oe(_,y),(!L||1&t[0])&&b!==(b=e[0].labels.chatbot+"")&&Oe(v,b),(!L||1&t[0])&&Re(d,"mgPlayerJSProd_chat-page-header-miniplayer",e[0].isMicroPlayer)},i(e){L||(Be(n.$$.fragment,e),Be(x.$$.fragment,e),L=!0)},o(e){Ve(n.$$.fragment,e),Ve(x.$$.fragment,e),L=!1},d(e){e&&(Ee(a),Ee(s),Ee(l)),je(n),je(x),E=!1,M()}}}function bd(e){e=e.parentElement;null!==e.parentElement&&e.parentElement.removeChild(e)}function vd(e,t,r){class a{constructor(e){this.domNode=e,this.domNode.classList.add("mgPlayerJSProd_uilb")}createtypingodots(){var e=document.createElement("wmgPlayerJSProd_"),t=(e.setAttribute("class","mgPlayerJSProd_typing-indicator mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft"),document.createElement("mgPlayerJSProd_uilb-span")),r=document.createElement("mgPlayerJSProd_uilb-span"),a=document.createElement("mgPlayerJSProd_uilb-span");return e.appendChild(t),e.appendChild(r),e.appendChild(a),this.domNode.appendChild(e),e}createContainer({human:e,cssClass:t,delay:r,resolve:a}){let i=document.createElement("wmgPlayerJSProd_");return i.className=`mgPlayerJSProd_uilb-container ${e?"human":"bot"} `+t,i.style.opacity=0,i.style.transform=`translateX(${e?"":"-"}8%)`,setTimeout(()=>{this.domNode.appendChild(i)},r),setTimeout(()=>{i.style.opacity=1,i.style.transform="translateX(0)",a&&a(i)},r+200),i}htmlToText(e){return e?String(e).replace(/<[^>]+>/gm,""):""}message({id:a,content:i,cssClass:o,delay:n,human:s,isHtmlContent:l}){return new Promise((e,t)=>{var e=this.createContainer({human:s,cssClass:o,delay:n,isHtmlContent:l,resolve:e}),r=document.createElement("wmgPlayerJSProd_");""!==a&&r.setAttribute("id",a),r.className=`mgPlayerJSProd_uilb-message mgPlayerJSProd_showtextdelay  ${s?"human":"bot"} `+o,"msg_search"===a||"msg-vid"===a||l?r.innerHTML=l?i:this.htmlToText(i):(r.innerHTML=""===i?"<wmgPlayerJSProd_ id='mgPlayerJSProd_wave'><wmgPlayerJSProd_ class='mgPlayerJSProd_span mgPlayerJSProd_dot'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_span mgPlayerJSProd_dot'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_span mgPlayerJSProd_dot'></wmgPlayerJSProd_></wmgPlayerJSProd_>":"<wmgPlayerJSProd_ id='mgPlayerJSProd_hideMe'><wmgPlayerJSProd_ id='mgPlayerJSProd_wave'><wmgPlayerJSProd_ class='mgPlayerJSProd_span mgPlayerJSProd_dot'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_span mgPlayerJSProd_dot'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_span mgPlayerJSProd_dot'></wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_>",r.innerHTML+=this.htmlToText(i)),e.appendChild(r),document.getElementById("mgPlayerJSProd_uilb-main-container")&&(document.getElementById("mgPlayerJSProd_uilb-main-container").scrollTop=300)})}action(e){return this[e.type+"Action"](e)}buttonAction({id:s,items:l,delay:d,human:c,cssClass:g}){let m=[];return new Promise((i,e)=>{let o=this.createContainer({human:c,delay:d,cssClass:"no-icon"}),t=(""!==s&&(o.id=s),document.createElement("form"));var r,a;t.className=`mgPlayerJSProd_uilb-action ${c?"human":"bot"} `+g,t.addEventListener("submit",e=>e.preventDefault()),"mgPlayerJSProd_uilb-btn-action"===s&&((r=document.createElement("wmgPlayerJSProd_")).id="mgPlayerJSProd_uilb-back-chat",r.title="Back",r.setAttribute("class","mgPlayerJSProd_uilb-action-opt-back"),(a=document.createElement("button")).id="mgPlayerJSProd_uilb-back-btn",a.className="mgPlayerJSProd_uilb-back",r.appendChild(a),(a=document.createElement("wmgPlayerJSProd_")).innerHTML="Back",a.setAttribute("class","mgPlayerJSProd_uilb-back-label"),r.appendChild(a),t.style="width: 360px;height: 100px;overflow: hidden;",o.appendChild(r));let n=0;l.forEach(r=>{let a=document.createElement("button");""!==r.id&&(a.id=r.id),a.className="mgPlayerJSProd_uilb-button "+r.cssClass,a.type="button",a.innerHTML=r.text,a.tag=r.tag,"mgPlayerJSProd_uilb-btn-action"===s&&(a.id="mgPlayerJSProd_uilb-btnresult"+n,a.style.display=0===n||1===n?"block":"none"),a.title=r.text,a.addEventListener("click",({target:e})=>{if("multiselect"!==r.tag){m&&m.length?i(m):i(r.value),o.style.opacity=0;let e=document.getElementById("mgPlayerJSProd_uilb-searchagain");e&&"mgPlayerJSProd_uilb-searchagain"!==a.id&&a.className.includes("mgPlayerJSProd_uilb-button-opt")?setTimeout(()=>{e.parentElement.removeChild(e),o.parentElement.removeChild(o)},200):setTimeout(()=>this.domNode.removeChild(o),200)}else{var t;m.includes(r.value)?(-1<(t=m.indexOf(r.value))&&m.splice(t,1),e.innerHTML=e.title.replace("&#9989;","&#9744;")):(m.push(r.value),e.innerHTML=e.title.replace("&#9744;","&#9989;"))}}),t.appendChild(a),n+=1}),o.appendChild(t),"mgPlayerJSProd_uilb-btn-action"===s&&2<n&&((a=document.createElement("wmgPlayerJSProd_")).id="uilb_totalresult",a.style.fontSize="12px",a.style.marginTop="10px",a.innerHTML="Total Guides: "+n,o.appendChild(a),(r=document.createElement("wmgPlayerJSProd_")).id="mgPlayerJSProd_uilb-leftarrow",o.appendChild(r),(a=document.createElement("wmgPlayerJSProd_")).id="mgPlayerJSProd_uilb-rightarrow",a.style.display="none",o.appendChild(a))})}textAction({tag:s,validate:l,delay:d,human:c}){return new Promise((e,t)=>{var r=this.createContainer({human:c,delay:d,cssClass:"no-icon"}),a=document.createElement("wmgPlayerJSProd_"),i=(a.id="mgPlayerJSProd_uilb-back-chat",a.title="Back",a.setAttribute("class","mgPlayerJSProd_uilb-action-opt-back"),a.setAttribute("style","margin-left: -60px; margin-top: -10px;"),document.createElement("button")),i=(i.id="mgPlayerJSProd_uilb-back-btn",i.className="mgPlayerJSProd_uilb-back",a.appendChild(i),document.createElement("wmgPlayerJSProd_")),i=(i.innerHTML="Back",i.setAttribute("class","mgPlayerJSProd_uilb-back-label"),a.appendChild(i),document.createElement("wmgPlayerJSProd_")),o=(i.className="mgPlayerJSProd_uilb-text-div",document.createElement("input")),n=(o.className="mgPlayerJSProd_uilb-text",o.id="txtsearch",o.type="text",o.placeholder="Type here",o.autocomplete="off",o.tag=s,o.validate=l,document.createElement("wmgPlayerJSProd_"));n.id="mgPlayerJSProd_uilb-txt-enter",n.className="mgPlayerJSProd_uilb-enter",i.appendChild(a),i.appendChild(o),i.appendChild(n),r.appendChild(i)})}}function i(){ge.activeView.set("home")}let o=[],l=(ce.botTourPlayList=[],[]),n=[];GmCXt.reduceSidePanelWidth();let m,p,s=0,d=[],c=-1,g=[],u=-1;var h=GmCXt.appList["app:"+GmCXt.activeAppId].settings;GmCXt.isEmpty(ce.chatLabels)&&ce.setDefaultChatLabels(),ce.getChatLabels(h.chatLabels);let P={noDataFound:"No Data Found"};function y(e,t,r,a,i){return m.message({id:e,content:t,cssClass:r,isHtmlContent:i,delay:a})}function _(e,t){return m.message({human:!0,content:e,cssClass:"mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight",isHtmlContent:t,delay:0})}function S(e,t,r,a){return m.action({id:e,type:"button",cssClass:t,items:r,delay:a})}function f(e,t){function r(e){t&&t(e)}var a={},i=(a.conversation_code=e.conversation.conversationCode,a.user=ce.user,GmCXt.appList);a.app_code=e.isExit?"":i["app:"+GmCXt.activeAppId].external_id,GmCXt.api.getGetBotConv(a).then(r).catch(function(e){r(!1)})}function C(e,t){if(s!==c){var r=e[c],a=t;switch(r.pageIndex,r.type){case"select":case"yes-no":((i,o)=>{y("",i.question,"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",0).then(function(){let a=[];if(i.options&&0<i.options.length){let r="mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight mgPlayerJSProd_uilb-button-opt";"yes-no"===i.type&&(r="mgPlayerJSProd_animated mgPlayerJSProd_fadeInUp mgPlayerJSProd_uilb-button-opt-yesno"),mg$.each(i.options,function(e,t){a.push({text:t.option,value:t,cssClass:r}),i.isBranchNode&&g.push(t.nextHopOnBranch)}),S("","mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight",a,200).then(function(t){t.optionReferenceLink&&window.open(t.optionReferenceLink,"_blank"),X(i,t.option),_(t.option).then(function(){var e;c<d.length-1?i.isBranchNode?(e=(t=>{let r=-1;for(let e=0;e<d.length;e++)if(d[e].pageIndex===t){r=e;break}return r})(t.nextHopOnBranch),u=t.nextHopOnBranch,c=e,C(d,o)):T(i,o):A()})})}})})(r,a);break;case"multi-select":!function a(i,o){y("",i.question,"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",0).then(function(){let r=[];if(i.options&&0<i.options.length){mg$.each(i.options,function(e,t){r.push({text:"&#9744; "+t.option,value:t,cssClass:"mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight mgPlayerJSProd_uilb-button-multi-opt",tag:"multiselect"})});let e=[];r.push({text:"Done",value:e,cssClass:"mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight mgPlayerJSProd_uilb-button-multi-opt-done"}),S("mgPlayerJSProd_multi","mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight",r,200).then(function(t){let r="";if(t&&t.length){for(let e=0;e<t.length;e++)r=GmCXt.isEmpty(r)?t[e].option:r+" , "+t[e].option;X(i,r),_(r).then(function(){T(i,o)})}else _(ce.labels.multiSelectOptionError).then(function(){a(i,o)})})}})}(r,a);break;case"comment":y("",r.question,"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",0).then(function(){m.action({type:"text",cssClass:"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",delay:100,tag:"comment_"+a.tour_id,validate:r.validateEmail})});break;case"range":y("",r.question,"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",0).then(function(){S("mgPlayerJSProd_uilb-btn-range","mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight",(t=>{var r=[];for(let e=t.options[0];e<=t.options[1];e++)r.push({text:e,value:e,cssClass:"mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight mgPlayerJSProd_uilb-button-opt-range"});return r})(r),200).then(function(e){X(r,e),_(e).then(function(){T(r,a)})})});break;case"rating":y("",r.question,"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",0).then(function(){S("mgPlayerJSProd_uilb-btn-rate","mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight",(t=>{var r=[];for(let e=t.options[0];e<=t.options[1];e++)r.push({id:"mgPlayerJSProd_rate-"+e,text:"&#9733;",value:e,cssClass:"mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight mgPlayerJSProd_uilb-button-opt-range"});return r})(r),200).then(function(e){X(r,e),_(((t,r)=>{let a="<wmgPlayerJSProd_ class='mgPlayerJSProd_rating' style='font-size:20px;'>";for(let e=t.options[0];e<=t.options[1];e++){var i="mgPlayerJSProd_lbl-btn mgPlayerJSProd_stars-rate";e<parseInt(r)+1?a+="<button class='"+i+"' id='mgPlayerJSProd_rate-"+e+"' aria-label='rate' >&#9733;</button>":a+="<button class='"+i+"' id='mgPlayerJSProd_rate-"+e+"' aria-label='rate' >&#9734;</button>"}return a+="</wmgPlayerJSProd_>"})(r,e),!0).then(function(){T(r,a)})})})}}}function b(e){var e=GmCXt.getTail(e.step_id,p.tour_settings.play_structure,null,p);e&&(e=GmCXt.getNextBotStepFromTour(e,p))?w(p.steps,e.step_id):A()}function v(t,r){for(let e=0;e<p.steps.length;e++)t.step_id===p.steps[e].step_id&&(p.steps[e].step_settings.automation.defaultData=r,p.steps[e].step_settings.automation.enableDefaultData=!0,p.steps[e].step_settings.automation.hasHumanInteraction=!1)}function w(e,t){let r,a=(r=t||e[0].step_id,GmCXt.getStepFromTourData(r,p));if(a&&a.step_settings&&a.step_settings.automation&&a.step_settings.automation.enableBot&&a.step_settings.automation.botQuestion){t=a.step_settings,e=t.automation.botQuestion;t.element&&t.element.targetInfo&&"SELECT"===t.element.targetInfo.tagName&&t.element.elOptions&&0<t.element.elOptions.length?(c=t.element.elOptions,g=a,y("",e,"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",0).then(function(){let r=[];c&&0<c.length&&(mg$.each(c,function(e,t){r.push({text:t.name,value:t,cssClass:"mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight mgPlayerJSProd_uilb-button-opt"})}),S("","mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight",r,200).then(function(e){v(g,e),_(e.name).then(function(){b(g)})}))})):t.branch&&0<t.branch.length?(l=t.branch,d=a,y("",e,"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",0).then(function(){let r=[];l&&0<l.length&&(mg$.each(l,function(e,t){r.push({text:t.branchName,value:t,cssClass:"mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight mgPlayerJSProd_uilb-button-opt"})}),S("","mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight",r,200).then(function(e){let t=e.tail;var r,a;t||(r=(t=>{let r=p.tour_settings.play_structure,a=null;for(let e=0;e<r.length;e++)parseInt(r[e].id)===parseInt(t)&&(a=r[e]);return a})(d.step_id),a=l.indexOf(e),t=r.branch[a].tail),v(d,e),_(e.branchName).then(function(){var e;t?(e=GmCXt.getNextBotStepFromTour(t,p))?w(p.steps,e.step_id):b(e):A()})}))})):a.step_type!==GmCXt.STEP_TYPE_GUIDE&&y("",e,"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",0).then(function(){m.action({type:"text",cssClass:"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",delay:100,tag:a})})}else if(a.step_type===GmCXt.STEP_TYPE_GUIDE){var i=a;var o=function(e){w(p.steps,e.step_id)};let r=[];function n(e){p.steps=e,o&&o(r[0])}function s(e){r.length&&(p.tour_settings.play_structure=e,GmCXt.concatLinkGuideSteps(r,p,i.step_id,n))}t={tour_id:i.step_settings.tour_id};GmCXt.getSteps(t).then(function(e){var t;e&&(t={currentStepId:i.step_id,playStructure:p.tour_settings.play_structure},r=e.steps,GmCXt.updatePlayStructureLinkGuide(e,t,s))})}else if(p.tour_type.includes("onboarding_tour"))if(GmCXt.isEmpty(a.step_settings.tutorialUploadUrl)||"upload"!==p.tour_settings.tutorial_tour_type){let e="<wmgPlayerJSProd_ class='mgPlayerJSProd_chat-tg-content-wrapper'>",t="";a.step_description&&(t=GmCXt.replaceVariableWithValue(GmCXt.updateOrgAndAddSignature(a.step_description))),a&&0<a.step_video&&a.step_video_url?e=(e+="<wmgPlayerJSProd_ class='mgPlayerJSProd_chat-guide-info-wrapper mgPlayerJSProd_video-info-wrapper'>")+GmCXt.getVideoPopUpIFrameHTML(a.step_video_url+GmCXt.getCdnSign())+"</wmgPlayerJSProd_>":a&&a.image_url.indexOf("default")<0&&(e=e+"<wmgPlayerJSProd_ class='mgPlayerJSProd_chat-info-wrapper mgPlayerJSProd_img-info-wrapper'><img class='mgPlayerJSProd_chat-tg-image' src='"+a.image_url+GmCXt.getCdnSign()+"' /></wmgPlayerJSProd_>"),y("",e=e+"<wmgPlayerJSProd_ class='mgPlayerJSProd_chat-tg-step-content' > "+t+" </wmgPlayerJSProd_></wmgPlayerJSProd_>","mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",0,!0).then(function(){b(a)})}else{let e=a.step_settings.tutorialUploadUrl;y("","<a alt='' href='"+(e=-1!==e.indexOf(GmCXt.conf.cdn)?a.step_settings.tutorialUploadUrl+GmCXt.getCdnSign():e)+"' target='_blank' >"+a.step_settings.tutorialUploadUrl+"</a> ","mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",0,!0).then(function(){b(a)})}else GmCXt.isLastStep(a.step_id,p.tour_settings.play_structure)?A():a&&((e=GmCXt.getNextBotStepFromTour(a.step_id,p))?w(p.steps,e.step_id):A());var l,d,c,g}function J(e){e=ce.filterBotGuides(e);if(e&&e.length){o=e;let r=[];mg$.each(o,function(e,t){r.push({text:t.tour_title,value:t,cssClass:"mgPlayerJSProd_animated mgPlayerJSProd_fadeInRight mgPlayerJSProd_uilb-button-options"})}),S("","mgPlayerJSProd_animated mgPlayerJSProd_fadeInUp",r,200).then(function(e){_((p=e).tour_title).then(function(e){var t={tour_id:p.tour_id,category_id:p.category_id};GmCXt.api.getTour(t,function(e){var t;p=e,GmCXt.containBranchStep(p)||(p.tour_settings.play_structure=GmCXt.buildGuidePlayStructure(p)),GmCXt.isBotGuide(p)?(t=p,(e={}).conversation=t.tour_settings.conversation,f(e,function(e){s=e.data.questions.length,d=e.data.questions,c++,C(d,t)})):w(p.steps)})})})}else y("",P.noDataFound,"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",100)}function G(){let r=ce.readLocalCT(ce.pageUrl,GmCXt.pageTitle);if(r&&r.length)J(l=r);else{let t={url:ce.pageUrl};GmCXt.api.getContextualTour(t,function(e){GmCXt.log(30,"FETCHED tours from API"),r=ce.processContextualGuide(e,t.url),J(l=r)})}}function A(){y("",ce.chatLabels.botEndingMessage,"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",500).then(function(){S("","mgPlayerJSProd_animated mgPlayerJSProd_fadeInUp",[{text:ce.labels.btnYes,value:ce.labels.btnYes,cssClass:"mgPlayerJSProd_animated mgPlayerJSProd_fadeInUp mgPlayerJSProd_uilb-button-opt-yesno"},{text:ce.labels.btnNo,value:ce.labels.btnNo,cssClass:"mgPlayerJSProd_animated mgPlayerJSProd_fadeInUp mgPlayerJSProd_uilb-button-opt-yesno"}],100).then(function(e){var t;ce.botTourPlayList.push(p),GmCXt.storage().set({botTourPlayList:ce.botTourPlayList}),GmCXt.isOnboarding(p)&&ce.isUploadTutorial(p)?GmCXt.trackerV1.trackTutGuide(p,"upload_tutorial_guide_new_tab","bot"):GmCXt.isOnboarding(p)&&GmCXt.trackerV1.trackTutGuide(p,"create_tutorial_guide","bot"),GmCXt.isBotGuide(p)&&(t={trigger_source_type:"bot",trigger_source_id:p.tour_id,conversationCode:p.tour_settings.conversation.conversationCode},GmCXt.trackerV1.trackConversationResponse(n,t)),s=0,d=[],c=-1,g=[],u=-1,n=[],e===ce.labels.btnNo?_(e).then(function(){(()=>{let e=!0;var t;return ce.botTourPlayList&&ce.botTourPlayList.length&&(t=ce.botTourPlayList.filter(function(e){if(!GmCXt.isBotGuide(e)&&-1===e.tour_type.indexOf("onboarding_tour"))return e}),r(0,ce.botTourPlayList=t,ce),e=0<ce.botTourPlayList.length),e})()&&ce.guideAction(ce.playAuto,null,ce.botTourPlayList[0],"bot"),i()}):G()})})}function T(e,t){c<d.length-1?!(e.isBranchNode||u!==d[c+1].pageIndex&&g.includes(d[c+1].pageIndex))||GmCXt.isEmpty(g)?(c++,C(d,t)):(c++,T(e,t)):A()}function X(e,t){var r={question_id:e.questionID||"",question_type:e.type,question_name:e.question||""};switch(e.type){case"yes-no":void 0!==t&&(r.is_answer_yes="Yes"===t);break;case"comment":r.comment=t;break;case"multi-select":r.option=t.split(",");break;case"select":case"range":case"rating":r.option=t.toString().split()}n.push(r)}return mg$(document).off("keypress","#txtsearch"),mg$(document).on("keypress","#txtsearch",function(t){if(13===(t.keyCode||t.which)){let e=!1;var a,t=e=t.target.validate?!0:e,i=document.getElementById("txtsearch");if(null!==i&&0<i.value.length){var o=i.parentElement,n=o.parentElement;let r=i.value;if(i.tag&&"object"!=typeof i.tag&&-1!==i.tag.indexOf("comment_")&&r)i.tag.replace("comment_",""),_(r=t?/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,3}$/i.test(r)?i.value:ce.labels.emailError:r).then(function(){var e;r===ce.labels.emailError?C(d,p):(X(e=d[c],r),T(e,p))});else if(i.tag&&"object"!=typeof i.tag&&"searchGuide"===i.tag&&r){var t=document.getElementsByClassName("mgPlayerJSProd_uilb-button-options")[0].parentElement,s=(s=l,a=r,s.filter(function(e){if(-1!==e.tour_title.toLowerCase().indexOf(a.toLowerCase()))return e}));s&&(J(s),GmCXt.timeout(bd(t),200))}else{let t=i.tag;n.style.opacity=0,_(r).then(function(e){v(t,r),GmCXt.isLastStep(t.step_id,p.tour_settings.play_structure)?A():b(t)})}GmCXt.timeout(bd(o),200)}}}),setTimeout(()=>{ce.setContainerHeight("chatbot")},300),mg$(window).off("resize").on("resize",function(){ce.setContainerHeight("chatbot")}),me(()=>{m=new a(document.getElementById("mgPlayerJSProd_botdiv")),r(0,ce.botTourPlayList=[],ce),GmCXt.storage().remove(["botTourPlayList"]),y("",ce.chatLabels.greetingMessage,"mgPlayerJSProd_animated mgPlayerJSProd_fadeInLeft",0).then(function(){G()})}),[ce,i]}class wd extends e{constructor(e){super(),t(this,e,vd,Cd,d,{},null,[-1,-1])}}function Jd(e,t,r){e=e.slice();return e[34]=t[r],e[36]=r,e}function Gd(e,t,r){e=e.slice();return e[37]=t[r],e[39]=r,e}function Ad(e,t,r){e=e.slice();return e[40]=t[r],e[42]=r,e}function Td(e,t,r){e=e.slice();return e[40]=t[r],e[44]=r,e}function Xd(e){let r,a,i,o,n,s,l,d;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),o=Ie(e[2]),n=Ie("%"),s=De(),(l=Me("wmgPlayerJSProd_")).innerHTML='<wmgPlayerJSProd_ class="mgPlayerJSProd_task-prog-first50-bar"></wmgPlayerJSProd_> <wmgPlayerJSProd_ class="mgPlayerJSProd_task-prog-value-bar"></wmgPlayerJSProd_>',Fe(i,"class","mgPlayerJSProd_span mgPlayerJSProd_position-center"),Fe(l,"class","mgPlayerJSProd_task-prog-left-half-clipper"),Fe(a,"class",d="mgPlayerJSProd_task-progress-circle p"+e[2]),Re(a,"over50",50<e[2]),Re(a,"mgPlayerJSProd_task-progress-circle-mplayer",e[0].isMicroPlayer),Fe(r,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i),xe(i,o),xe(i,n),xe(a,s),xe(a,l)},p(e,t){4&t[0]&&Oe(o,e[2]),4&t[0]&&d!==(d="mgPlayerJSProd_task-progress-circle p"+e[2])&&Fe(a,"class",d),4&t[0]&&Re(a,"over50",50<e[2]),5&t[0]&&Re(a,"mgPlayerJSProd_task-progress-circle-mplayer",e[0].isMicroPlayer)},d(e){e&&Ee(r)}}}function kd(e){let r,a=e[1][e[3]].task_list_title+"",i,o,n,s,l,d,c,g;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),n=De(),s=Me("wmgPlayerJSProd_"),l=Ie("Completed task: "),d=Ie(e[8]),c=Ie("/"),g=Ie(e[7]),Fe(r,"class","mgPlayerJSProd_task-list-header-title mgPlayerJSProd_inline-block-vm mgPlayerJSProd_font-size-12 mgPlayerJSProd_task-list-header"),Fe(r,"title",o=e[1][e[3]].title),Re(r,"mgPlayerJSProd_font-size-14",!e[0].isMicroPlayer),Fe(s,"class","mgPlayerJSProd_task-count mgPlayerJSProd_inline-block-vm mgPlayerJSProd_margin-tb-5")},m(e,t){Le(e,r,t),xe(r,i),Le(e,n,t),Le(e,s,t),xe(s,l),xe(s,d),xe(s,c),xe(s,g)},p(e,t){10&t[0]&&a!==(a=e[1][e[3]].task_list_title+"")&&Oe(i,a),10&t[0]&&o!==(o=e[1][e[3]].title)&&Fe(r,"title",o),1&t[0]&&Re(r,"mgPlayerJSProd_font-size-14",!e[0].isMicroPlayer),256&t[0]&&Oe(d,e[8]),128&t[0]&&Oe(g,e[7])},d(e){e&&(Ee(r),Ee(n),Ee(s))}}}function xd(e){let r,a=e[0].svgs.iconDownArrow+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_icon-collapse-expand mgPlayerJSProd_float-right mgPlayerJSProd_ege-inline-block-vm")},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t[0]&&a!==(a=e[0].svgs.iconDownArrow+"")&&(r.innerHTML=a)},d(e){e&&Ee(r)}}}function Ld(e){let r,a=e[0].svgs.iconUpArrow+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_icon-collapse-expand mgPlayerJSProd_float-right mgPlayerJSProd_ege-inline-block-vm")},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t[0]&&a!==(a=e[0].svgs.iconUpArrow+"")&&(r.innerHTML=a)},d(e){e&&Ee(r)}}}function Ed(t){let i,o=D(t[34].guides),n=[];for(let e=0;e<o.length;e+=1)n[e]=Id(Td(t,o,e));return{c(){i=Me("wmgPlayerJSProd_");for(let e=0;e<n.length;e+=1)n[e].c();Fe(i,"class","mgPlayerJSProd_chapter-container mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_padding-tb-10")},m(e,t){Le(e,i,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(i,null)},p(t,r){if(27154&r[0]){o=D(t[34].guides);let e;for(e=0;e<o.length;e+=1){var a=Td(t,o,e);n[e]?n[e].p(a,r):(n[e]=Id(a),n[e].c(),n[e].m(i,null))}for(;e<n.length;e+=1)n[e].d(1);n.length=o.length}},d(e){e&&Ee(i),F(n,e)}}}function Md(){let r,a,i=GmCXt.svgs.taskCompleted+"";return{c(){r=Me("wmgPlayerJSProd_"),Fe(a=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_guide-complete-icon"),Fe(r,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_guide-complete-wrapper")},m(e,t){Le(e,r,t),xe(r,a),a.innerHTML=i},p:Je,d(e){e&&Ee(r)}}}function Id(r){let a,i,o,n,s,l=r[13](r[40])+"",d,c,g,m=r[14](r[40])+"",p,u,h,P,y=r[40].tour_title+"",_,S,f,C,b,v,w=r[40].is_guide_complete&&Md();function J(...e){return r[17](r[40],r[34],...e)}return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),s=Me("wmgPlayerJSProd_"),d=De(),c=Me("wmgPlayerJSProd_"),g=Me("wmgPlayerJSProd_"),p=Ie(m),u=De(),h=Me("wmgPlayerJSProd_"),P=Me("wmgPlayerJSProd_"),_=Ie(y),f=De(),w&&w.c(),C=De(),Fe(s,"class","mgPlayerJSProd_published-tour-icon mgPlayerJSProd_inline-block-vm"),Re(s,"mgPlayerJSProd_published-tour-icon-disable",r[4]&&r[40].content_order>r[9]),Fe(g,"class","mgPlayerJSProd_tooltip-title mgPlayerJSProd_text-align-center"),Fe(c,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right"),Fe(n,"class","mgPlayerJSProd_guide-play-icon-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_position-relative"),Fe(P,"class","mgPlayerJSProd_chapter-title mgPlayerJSProd_text-overflow-ellipsis"),Fe(P,"title",S=r[40].tour_title),Re(P,"mgPlayerJSProd_chapter-title-complete",r[4]&&r[40].is_guide_complete),Fe(h,"class","mgPlayerJSProd_chapter-content-wrapper mgPlayerJSProd_margin-lr-15 mgPlayerJSProd_inline-block-vm"),Fe(o,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center"),Fe(i,"class","mgPlayerJSProd_chapter-content-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),Fe(a,"class","mgPlayerJSProd_chapter-box mgPlayerJSProd_chapter-box-folder-guide mgPlayerJSProd_lbl-btn"),Re(a,"mgPlayerJSProd_chapter-box-disable",r[4]&&r[44]+1>r[9])},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),xe(n,s),s.innerHTML=l,xe(n,d),xe(n,c),xe(c,g),xe(g,p),xe(o,u),xe(o,h),xe(h,P),xe(P,_),xe(i,f),w&&w.m(i,null),xe(a,C),b||(v=$e(a,"click",J),b=!0)},p(e,t){r=e,2&t[0]&&l!==(l=r[13](r[40])+"")&&(s.innerHTML=l),530&t[0]&&Re(s,"mgPlayerJSProd_published-tour-icon-disable",r[4]&&r[40].content_order>r[9]),2&t[0]&&m!==(m=r[14](r[40])+"")&&Oe(p,m),2&t[0]&&y!==(y=r[40].tour_title+"")&&Oe(_,y),2&t[0]&&S!==(S=r[40].tour_title)&&Fe(P,"title",S),18&t[0]&&Re(P,"mgPlayerJSProd_chapter-title-complete",r[4]&&r[40].is_guide_complete),r[40].is_guide_complete?w?w.p(r,t):((w=Md()).c(),w.m(i,null)):w&&(w.d(1),w=null),528&t[0]&&Re(a,"mgPlayerJSProd_chapter-box-disable",r[4]&&r[44]+1>r[9])},d(e){e&&Ee(a),w&&w.d(),b=!1,v()}}}function Dd(t){let i,o=D(t[34].folders),n=[];for(let e=0;e<o.length;e+=1)n[e]=Bd(Gd(t,o,e));return{c(){i=Me("wmgPlayerJSProd_");for(let e=0;e<n.length;e+=1)n[e].c();Fe(i,"class","mgPlayerJSProd_chapter-container mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y")},m(e,t){Le(e,i,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(i,null)},p(t,r){if(31347&r[0]){o=D(t[34].folders);let e;for(e=0;e<o.length;e+=1){var a=Gd(t,o,e);n[e]?n[e].p(a,r):(n[e]=Bd(a),n[e].c(),n[e].m(i,null))}for(;e<n.length;e+=1)n[e].d(1);n.length=o.length}},d(e){e&&Ee(i),F(n,e)}}}function $d(r){let a,i,o,n,s=r[0].svgs.folder+"",l,d,c,g=r[37].folder_title+"",m,p,u,h,P,y,_,S,f=r[6]===r[39]&&Fd(r),C=r[6]!==r[39]&&Od(r),b=0<r[37].guides.length&&r[6]===r[39]&&Rd(r);function v(...e){return r[19](r[37],r[39],r[36],...e)}return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),l=De(),d=Me("wmgPlayerJSProd_"),c=Me("wmgPlayerJSProd_"),m=Ie(g),u=De(),f&&f.c(),h=De(),C&&C.c(),P=De(),b&&b.c(),y=De(),Fe(n,"class","mgPlayerJSProd_category-icon mgPlayerJSProd_inline-block-vm"),Fe(c,"class","mgPlayerJSProd_chapter-title mgPlayerJSProd_text-overflow-ellipsis"),Fe(c,"title",p=r[37].folder_title),Fe(d,"class","mgPlayerJSProd_chapter-content-wrapper mgPlayerJSProd_margin-10 mgPlayerJSProd_inline-block-vm"),Fe(o,"class","mgPlayerJSProd_inline-block-vm"),Fe(i,"class","mgPlayerJSProd_chapter-box mgPlayerJSProd_chapter-box-folder mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_lbl-btn"),Re(i,"mgPlayerJSProd_chapter-box-disable",r[4]&&-1===r[5].indexOf(r[37].folder_id))},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),n.innerHTML=s,xe(o,l),xe(o,d),xe(d,c),xe(c,m),xe(i,u),f&&f.m(i,null),xe(i,h),C&&C.m(i,null),xe(a,P),b&&b.m(a,null),xe(a,y),_||(S=$e(a,"click",v),_=!0)},p(e,t){r=e,1&t[0]&&s!==(s=r[0].svgs.folder+"")&&(n.innerHTML=s),2&t[0]&&g!==(g=r[37].folder_title+"")&&Oe(m,g),2&t[0]&&p!==(p=r[37].folder_title)&&Fe(c,"title",p),r[6]===r[39]?f?f.p(r,t):((f=Fd(r)).c(),f.m(i,h)):f&&(f.d(1),f=null),r[6]!==r[39]?C?C.p(r,t):((C=Od(r)).c(),C.m(i,null)):C&&(C.d(1),C=null),50&t[0]&&Re(i,"mgPlayerJSProd_chapter-box-disable",r[4]&&-1===r[5].indexOf(r[37].folder_id)),0<r[37].guides.length&&r[6]===r[39]?b?b.p(r,t):((b=Rd(r)).c(),b.m(a,y)):b&&(b.d(1),b=null)},d(e){e&&Ee(a),f&&f.d(),C&&C.d(),b&&b.d(),_=!1,S()}}}function Fd(e){let r,a=e[0].svgs.iconDownArrow+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_icon-collapse-expand mgPlayerJSProd_float-right mgPlayerJSProd_ege-inline-block-vm")},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t[0]&&a!==(a=e[0].svgs.iconDownArrow+"")&&(r.innerHTML=a)},d(e){e&&Ee(r)}}}function Od(e){let r,a=e[0].svgs.iconUpArrow+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_icon-collapse-expand mgPlayerJSProd_float-right mgPlayerJSProd_ege-inline-block-vm")},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){1&t[0]&&a!==(a=e[0].svgs.iconUpArrow+"")&&(r.innerHTML=a)},d(e){e&&Ee(r)}}}function Rd(t){let i,o=D(t[37].guides),n=[];for(let e=0;e<o.length;e+=1)n[e]=Nd(Ad(t,o,e));return{c(){i=Me("wmgPlayerJSProd_");for(let e=0;e<n.length;e+=1)n[e].c();Fe(i,"class","mgPlayerJSProd_chapter-container mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_ml-15 mgPlayerJSProd_padding-b-15")},m(e,t){Le(e,i,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(i,null)},p(t,r){if(27186&r[0]){o=D(t[37].guides);let e;for(e=0;e<o.length;e+=1){var a=Ad(t,o,e);n[e]?n[e].p(a,r):(n[e]=Nd(a),n[e].c(),n[e].m(i,null))}for(;e<n.length;e+=1)n[e].d(1);n.length=o.length}},d(e){e&&Ee(i),F(n,e)}}}function Hd(){let r,a,i=GmCXt.svgs.taskCompleted+"";return{c(){r=Me("wmgPlayerJSProd_"),Fe(a=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_guide-complete-icon"),Fe(r,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_guide-complete-wrapper")},m(e,t){Le(e,r,t),xe(r,a),a.innerHTML=i},p:Je,d(e){e&&Ee(r)}}}function Nd(r){let a,i,o,n,s,l=r[13](r[40])+"",d,c,g,m=r[14](r[40])+"",p,u,h,P,y=r[40].tour_title+"",_,S,f,C,b,v,w=r[40].is_guide_complete&&Hd();function J(...e){return r[18](r[40],r[34],...e)}return{c(){a=Me("button"),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),s=Me("wmgPlayerJSProd_"),d=De(),c=Me("wmgPlayerJSProd_"),g=Me("wmgPlayerJSProd_"),p=Ie(m),u=De(),h=Me("wmgPlayerJSProd_"),P=Me("wmgPlayerJSProd_"),_=Ie(y),f=De(),w&&w.c(),C=De(),Fe(s,"class","mgPlayerJSProd_published-tour-icon mgPlayerJSProd_inline-block-vm"),Fe(g,"class","mgPlayerJSProd_tooltip-title mgPlayerJSProd_text-align-center"),Fe(c,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right"),Fe(n,"class","mgPlayerJSProd_guide-play-icon-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_position-relative"),Fe(P,"class","mgPlayerJSProd_chapter-title mgPlayerJSProd_text-overflow-ellipsis"),Fe(P,"title",S=r[40].tour_title),Re(P,"mgPlayerJSProd_chapter-title-complete",r[4]&&r[40].is_guide_complete),Fe(h,"class","mgPlayerJSProd_chapter-content-wrapper mgPlayerJSProd_margin-lr-15 mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-overflow-ellipsis"),Fe(o,"class","mgPlayerJSProd_chapter-content-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center"),Fe(i,"class","mgPlayerJSProd_chapter-content-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),Fe(a,"class","mgPlayerJSProd_chapter-box mgPlayerJSProd_chapter-box-folder-guide mgPlayerJSProd_lbl-btn"),Re(a,"mgPlayerJSProd_chapter-box-disable",r[4]&&(-1===r[5].indexOf(r[37].folder_id)||r[42]+1>r[9]))},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),xe(n,s),s.innerHTML=l,xe(n,d),xe(n,c),xe(c,g),xe(g,p),xe(o,u),xe(o,h),xe(h,P),xe(P,_),xe(i,f),w&&w.m(i,null),xe(a,C),b||(v=$e(a,"click",J),b=!0)},p(e,t){r=e,2&t[0]&&l!==(l=r[13](r[40])+"")&&(s.innerHTML=l),2&t[0]&&m!==(m=r[14](r[40])+"")&&Oe(p,m),2&t[0]&&y!==(y=r[40].tour_title+"")&&Oe(_,y),2&t[0]&&S!==(S=r[40].tour_title)&&Fe(P,"title",S),18&t[0]&&Re(P,"mgPlayerJSProd_chapter-title-complete",r[4]&&r[40].is_guide_complete),r[40].is_guide_complete?w?w.p(r,t):((w=Hd()).c(),w.m(i,null)):w&&(w.d(1),w=null),562&t[0]&&Re(a,"mgPlayerJSProd_chapter-box-disable",r[4]&&(-1===r[5].indexOf(r[37].folder_id)||r[42]+1>r[9]))},d(e){e&&Ee(a),w&&w.d(),b=!1,v()}}}function Bd(e){let r,a=e[37].guides&&0<e[37].guides.length&&$d(e);return{c(){a&&a.c(),r=I()},m(e,t){a&&a.m(e,t),Le(e,r,t)},p(e,t){e[37].guides&&0<e[37].guides.length?a?a.p(e,t):((a=$d(e)).c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(e){e&&Ee(r),a&&a.d(e)}}}function Vd(r){let a,i,o,n,s=r[0].svgs.tasklist+"",l,d,c,g=r[34].task_list_title+"",m,p,u,h,P,y,_,S,f,C=r[3]===r[36]&&xd(r),b=r[3]!==r[36]&&Ld(r),v=r[34].guides&&0<r[34].guides.length&&r[3]===r[36]&&Ed(r),w=r[34].folders&&0<r[34].folders.length&&r[3]===r[36]&&Dd(r);function J(){return r[20](r[34],r[36])}return{c(){a=Me("wmgPlayerJSProd_"),i=Me("button"),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),l=De(),d=Me("wmgPlayerJSProd_"),c=Me("wmgPlayerJSProd_"),m=Ie(g),u=De(),C&&C.c(),h=De(),b&&b.c(),P=De(),v&&v.c(),y=De(),w&&w.c(),_=De(),Fe(n,"class","mgPlayerJSProd_task-list-icon mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center"),Fe(c,"class","mgPlayerJSProd_assign-title mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_text-overflow-ellipsis"),Fe(c,"title",p=r[34].task_list_title),Fe(d,"class","mgPlayerJSProd_assign-content-wrapper mgPlayerJSProd_margin-10 mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center"),Fe(o,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center"),Fe(i,"class","mgPlayerJSProd_assignment-box mgPlayerJSProd_margin-15 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_lbl-btn")},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),xe(o,n),n.innerHTML=s,xe(o,l),xe(o,d),xe(d,c),xe(c,m),xe(i,u),C&&C.m(i,null),xe(i,h),b&&b.m(i,null),xe(a,P),v&&v.m(a,null),xe(a,y),w&&w.m(a,null),xe(a,_),S||(f=$e(a,"click",J),S=!0)},p(e,t){r=e,1&t[0]&&s!==(s=r[0].svgs.tasklist+"")&&(n.innerHTML=s),2&t[0]&&g!==(g=r[34].task_list_title+"")&&Oe(m,g),2&t[0]&&p!==(p=r[34].task_list_title)&&Fe(c,"title",p),r[3]===r[36]?C?C.p(r,t):((C=xd(r)).c(),C.m(i,h)):C&&(C.d(1),C=null),r[3]!==r[36]?b?b.p(r,t):((b=Ld(r)).c(),b.m(i,null)):b&&(b.d(1),b=null),r[34].guides&&0<r[34].guides.length&&r[3]===r[36]?v?v.p(r,t):((v=Ed(r)).c(),v.m(a,y)):v&&(v.d(1),v=null),r[34].folders&&0<r[34].folders.length&&r[3]===r[36]?w?w.p(r,t):((w=Dd(r)).c(),w.m(a,_)):w&&(w.d(1),w=null)},d(e){e&&Ee(a),C&&C.d(),b&&b.d(),v&&v.d(),w&&w.d(),S=!1,f()}}}function zd(r){let a,i,o,n,s,l,d,c=r[0].svgs.iconBack+"",g,m,p,e=r[0].labels.back+"",u,h,P,y,_,S,f,C,b,v,w,J,G,A,T,X=(a=new Rt({}),-1!==r[3]&&Xd(r)),k=-1!==r[3]&&kd(r),x=D(r[1]),L=[];for(let e=0;e<x.length;e+=1)L[e]=Vd(Jd(r,x,e));return J=new tr({}),{c(){ze(a.$$.fragment),i=De(),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),s=Me("wmgPlayerJSProd_"),l=Me("button"),d=Me("wmgPlayerJSProd_"),g=De(),m=Me("wmgPlayerJSProd_"),p=Me("wmgPlayerJSProd_"),u=Ie(e),h=De(),(P=Me("wmgPlayerJSProd_")).textContent="Task List",y=De(),_=Me("wmgPlayerJSProd_"),X&&X.c(),S=De(),f=Me("wmgPlayerJSProd_"),k&&k.c(),b=De(),v=Me("wmgPlayerJSProd_");for(let e=0;e<L.length;e+=1)L[e].c();w=De(),ze(J.$$.fragment),Fe(d,"class","mgPlayerJSProd_ege-inline-block-vm"),Fe(p,"class","mgPlayerJSProd_tooltip-title"),Fe(m,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-left"),Fe(l,"class","mgPlayerJSProd_task-back-btn mgPlayerJSProd_position-relative mgPlayerJSProd_lbl-btn"),Fe(P,"class","mgPlayerJSProd_task-list-header-title mgPlayerJSProd_font-size-15 mgPlayerJSProd_margin-lr-10"),Re(P,"mgPlayerJSProd_font-size-18",!r[0].isMicroPlayer),Fe(s,"class","mgPlayerJSProd_task-list-go-back-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center"),Fe(f,"class","mgPlayerJSProd_task-header-details mgPlayerJSProd_display-flex mgPlayerJSProd_flex-direction-column"),Fe(_,"class",C="mgPlayerJSProd_progress-details-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center "+(-1!==r[3]&&r[0].isMicroPlayer?"mgPlayerJSProd_padding-5":"")+" "+(-1!==r[3]?"mgPlayerJSProd_margin-b-10 mgPlayerJSProd_progress-alignment":"")),Fe(n,"class","mgPlayerJSProd_task-list-header mgPlayerJSProd_display-flex mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_flex-direction-column mgPlayerJSProd_position-relative mgPlayerJSProd_width-100"),Fe(v,"class","mgPlayerJSProd_assign-container mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_bg-white"),Fe(o,"class","mgPlayerJSProd_task-list-container")},m(e,t){Ue(a,e,t),Le(e,i,t),Le(e,o,t),xe(o,n),xe(n,s),xe(s,l),xe(l,d),d.innerHTML=c,xe(l,g),xe(l,m),xe(m,p),xe(p,u),xe(s,h),xe(s,P),xe(n,y),xe(n,_),X&&X.m(_,null),xe(_,S),xe(_,f),k&&k.m(f,null),xe(o,b),xe(o,v);for(let e=0;e<L.length;e+=1)L[e]&&L[e].m(v,null);Le(e,w,t),Ue(J,e,t),G=!0,A||(T=$e(l,"click",r[16]),A=!0)},p(t,r){if((!G||1&r[0])&&c!==(c=t[0].svgs.iconBack+"")&&(d.innerHTML=c),(!G||1&r[0])&&e!==(e=t[0].labels.back+"")&&Oe(u,e),(!G||1&r[0])&&Re(P,"mgPlayerJSProd_font-size-18",!t[0].isMicroPlayer),-1!==t[3]?X?X.p(t,r):((X=Xd(t)).c(),X.m(_,S)):X&&(X.d(1),X=null),-1!==t[3]?k?k.p(t,r):((k=kd(t)).c(),k.m(f,null)):k&&(k.d(1),k=null),(!G||9&r[0]&&C!==(C="mgPlayerJSProd_progress-details-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center "+(-1!==t[3]&&t[0].isMicroPlayer?"mgPlayerJSProd_padding-5":"")+" "+(-1!==t[3]?"mgPlayerJSProd_margin-b-10 mgPlayerJSProd_progress-alignment":"")))&&Fe(_,"class",C),32379&r[0]){x=D(t[1]);let e;for(e=0;e<x.length;e+=1){var a=Jd(t,x,e);L[e]?L[e].p(a,r):(L[e]=Vd(a),L[e].c(),L[e].m(v,null))}for(;e<L.length;e+=1)L[e].d(1);L.length=x.length}},i(e){G||(Be(a.$$.fragment,e),Be(J.$$.fragment,e),G=!0)},o(e){Ve(a.$$.fragment,e),Ve(J.$$.fragment,e),G=!1},d(e){e&&(Ee(i),Ee(o),Ee(w)),je(a,e),X&&X.d(),k&&k.d(),F(L,e),je(J,e),A=!1,T()}}}function Ud(e,t,o){let i,r,a=(ce.currentView="taskList",[]),n=0,s=-1,l=(GmCXt.t.ruleTimeOut15ms,!(ce.isTaskListActive=!0)),d=[],c=0,g;ce.showLoading();let m,p,u=ge.allTaskList.subscribe(e=>{o(1,a=e)});(()=>{ce.showLoading();GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)&&GmCXt.isPlayer()&&(GmCXt.isEmpty(ce.taskList)?o(0,ce.taskList=null,ce):o(0,ce.taskList=ce.filterCompleatedTasks(ce.taskList),ce),ce.getTaskListData(function(e){mg$(".mgPlayerJSProd_push-notification-container").is(":visible")&&mg$(".mgPlayerJSProd_ege-panel").css({width:"500px",right:"-9550px"}),e.length&&(o(1,a=ce.processTaskListByRules(e)),o(3,s=-1),o(6,g=-1)),ce.hideLoading()},0))})();let h=(t,r)=>{t&&t.task_list_id&&s!==r?(o(3,s=r),ce.showLoading(),GmCXt.api.getTaskDetails(t.task_list_id).then(function(e){ce.hideLoading(),e.data.completion_percent?o(2,n=e.data.completion_percent):o(2,n=0),i=e.data.completed_guide_ids,o(8,p=e.data.completed_count),c=parseInt(e.data.total_count),t.guides&&t.guides.length&&(o(1,a[r]=(t=>{if(t.guides)for(let e=0;e<t.guides.length;e++)if(i.indexOf(t.guides[e].tour_id.toString())!==-1)t.guides[e].is_guide_complete=true;return t})(t),a),S(t.guides)),t.folders&&t.folders.length&&o(1,a[r]=(a=>{if(a.folders){o(5,d=[]);if(a.folders.length>0)d.push(a.folders[0].folder_id);for(let r=0;r<a.folders.length;r++){let t=0;for(let e=0;e<a.folders[r].guides.length;e++){if(i.indexOf(a.folders[r].guides[e].tour_id.toString())!==-1){a.folders[r].guides[e].is_guide_complete=true;t++}if(a.folders[r].guides.length===t&&a.folders[r+1]&&!GmCXt.isEmpty(a.folders[r+1])&&d.indexOf(a.folders[r+1].folder_id)===-1)d.push(a.folders[r+1].folder_id)}}}return a})(t),a),t.task_list_setting.force_completion&&o(4,l=t.task_list_setting.force_completion),o(7,m=e.data.total_count),o(6,g=-1)})):o(3,s=-1),GmCXt.timeout(function(){ce.setContainerHeight("tasklist"),GmCXt.isPlayer()&&ce.bindPlayerTheme()},500)},P=(e,t,a)=>{GmCXt.parseJSON(a.task_list_setting),t.stopPropagation();let i=!1;e.is_guide_complete&&(i=!0);t={tour_id:e.tour_id};ce.showLoading(),GmCXt.api.getTour(t,function(e){ce.hideLoading();var t={taskId:a.task_list_id,isComplete:i,complete_count:p,total_count:c};o(3,s=-1),o(6,g=-1);let r=ce.getDefaultPlayAction(e);"Default"===r&&(r=GmCXt.getAppSetting("defaultPlayAction")),ce.guideAction(r,!1,e,"task_list",e.category_title,t),o(0,ce.isTaskListActive=!1,ce),ge.activeView.set("home")},y)};function y(){ce.showPopup(ce.labels.tourPlayError)}let _=(e,t,r,a)=>{g!==t?(a.stopPropagation(),o(6,g=t),ce.showLoading(),GmCXt.api.getTaskFolderDetails(e.folder_id).then(function(e){ce.hideLoading(),S(e.data.content_list)})):o(6,g=-1),GmCXt.timeout(function(){ce.setContainerHeight("tasklist"),GmCXt.isPlayer()&&ce.bindPlayerTheme()},500)},S=t=>{if(t){o(9,r=1);for(let e=0;e<t.length;e++)"1"==t[e].is_guide_complete&&Boolean(Number(t[0].is_guide_complete))&&o(9,r=e+2)}};let f=()=>{o(0,ce.isTaskListActive=!1,ce),ce.refreshCurrentPage(),ge.activeView.set("home")};GmCXt.timeout(function(){ce.setContainerHeight("tasklist")},500),mg$(window).off("resize").on("resize",function(){ce.setContainerHeight("tasklist")}),me(()=>{GmCXt.isPlayer()&&ce.bindPlayerTheme()}),pe(()=>{u()});return i=[],o(9,r=1),[ce,a,n,s,l,d,g,m,p,r,h,P,_,e=>{var t={tour_settings:GmCXt.parseJSON(e.tour_settings)},r=ce.getDefaultPlayAction(t);return GmCXt.isOnboarding(e)?ce.svgs.guide_onboarding:r===ce.playSlideshow||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===ce.playSlideshow?ce.svgs.guideShowMe:r===ce.playAuto||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===ce.playAuto?ce.svgs.guideDoItForMe:ce.svgs.default_guide},e=>{var t={tour_settings:GmCXt.parseJSON(e.tour_settings)},r=ce.getDefaultPlayAction(t);return GmCXt.isOnboarding(e)||r===ce.playSlideshow||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===ce.playSlideshow?ce.labels.showMe:r===ce.playAuto||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===ce.playAuto?ce.labels.doItForMe:ce.labels.guideMe},f,()=>f(),(e,t,r)=>P(e,r,t),(e,t,r)=>P(e,r,t),(e,t,r,a)=>_(e,t,0,a),(e,t)=>h(e,t)]}class jd extends e{constructor(e){super(),t(this,e,Ud,zd,d,{},null,[-1,-1])}}function Wd(e){let r,a=e[0].labels.passFieldIsEmpty+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_error-text-color mgPlayerJSProd_margin-tb-5")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t&&a!==(a=e[0].labels.passFieldIsEmpty+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function Zd(e){let r,a=e[0].labels.passwordError+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_error-input-wrapper password-error-wrapper active")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t&&a!==(a=e[0].labels.passwordError+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function qd(e){let r,a=e[0].labels.passFieldIsEmpty+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_error-text-color mgPlayerJSProd_margin-tb-5")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t&&a!==(a=e[0].labels.passFieldIsEmpty+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function Yd(e){let r,a=e[0].labels.passwordError+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_error-input-wrapper password-error-wrapper active")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t&&a!==(a=e[0].labels.passwordError+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function Kd(e){let r,a=e[0].labels.passFieldIsEmpty+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_error-text-color mgPlayerJSProd_margin-tb-5")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t&&a!==(a=e[0].labels.passFieldIsEmpty+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function Qd(e){let r,a=e[0].labels.passwordError+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_error-input-wrapper password-error-wrapper active")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t&&a!==(a=e[0].labels.passwordError+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function ec(t){let r,a,i=t[0].labels.captchaLbl+"",o,n,s,l,d,c;function e(e){t[20](e)}function g(e){t[21](e)}var m={};return void 0!==t[4]&&(m.captchaValid=t[4]),void 0!==t[5]&&(m.showCaptchaError=t[5]),s=new Vt({props:m}),ue.push(()=>j(s,"captchaValid",e)),ue.push(()=>j(s,"showCaptchaError",g)),{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),o=Ie(i),n=De(),ze(s.$$.fragment),Fe(a,"class","mgPlayerJSProd_change-password-label"),Fe(r,"class","mgPlayerJSProd_margin-tb-10")},m(e,t){Le(e,r,t),xe(r,a),xe(a,o),xe(r,n),Ue(s,r,null),c=!0},p(e,t){(!c||1&t)&&i!==(i=e[0].labels.captchaLbl+"")&&Oe(o,i);var r={};!l&&16&t&&(l=!0,r.captchaValid=e[4],U(()=>l=!1)),!d&&32&t&&(d=!0,r.showCaptchaError=e[5],U(()=>d=!1)),s.$set(r)},i(e){c||(Be(s.$$.fragment,e),c=!0)},o(e){Ve(s.$$.fragment,e),c=!1},d(e){e&&Ee(r),je(s)}}}function tc(r){let a,F,i,o,n,s,l=r[0].svgs.iconBack+"",O,d,c,g=r[0].labels.back+"",R,H,m,p=r[0].labels.changePassword+"",N,B,V,u,h,P,y,_,z=r[0].labels.placeholderCurrentPassword+"",U,j,S,W,Z,q=r[6]||!r[1].trim(),Y,K,f,C,Q=r[0].labels.placeholderNewPassword+"",ee,te,b,re,ae,ie=r[8]||!r[2].trim(),oe,ne,v,w,se=r[0].labels.placeholderPasswordC+"",le,de,J,ce,ge,me=r[10]||!r[3].trim(),pe,ue,he,G,A,Pe=r[0].labels.change+"",ye,_e,Se,T,fe=r[0].labels.btnCancel+"",Ce,be,ve,we,Je,Ge,Ae,X,k,Te,Xe,x=(a=new Rt({}),q&&Wd(r)),L=r[7]&&Zd(r),E=ie&&qd(r),M=r[9]&&Yd(r),I=me&&Kd(r),D=r[11]&&Qd(r),$=!r[0].config.hideCaptcha&&ec(r);return X=new tr({}),{c(){ze(a.$$.fragment),F=De(),i=Me("wmgPlayerJSProd_"),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),s=Me("wmgPlayerJSProd_"),O=De(),d=Me("wmgPlayerJSProd_"),c=Me("wmgPlayerJSProd_"),R=Ie(g),H=De(),m=Me("wmgPlayerJSProd_"),N=Ie(p),B=De(),V=Me("wmgPlayerJSProd_"),u=Me("wmgPlayerJSProd_"),h=Me("wmgPlayerJSProd_"),P=Me("wmgPlayerJSProd_"),y=Me("wmgPlayerJSProd_"),_=Me("wmgPlayerJSProd_"),U=Ie(z),j=De(),S=Me("input"),Z=De(),x&&x.c(),Y=De(),L&&L.c(),K=De(),f=Me("wmgPlayerJSProd_"),C=Me("wmgPlayerJSProd_"),ee=Ie(Q),te=De(),b=Me("input"),ae=De(),E&&E.c(),oe=De(),M&&M.c(),ne=De(),v=Me("wmgPlayerJSProd_"),w=Me("wmgPlayerJSProd_"),le=Ie(se),de=De(),J=Me("input"),ge=De(),I&&I.c(),pe=De(),D&&D.c(),ue=De(),$&&$.c(),he=De(),G=Me("wmgPlayerJSProd_"),A=Me("button"),ye=Ie(Pe),Se=De(),T=Me("button"),Ce=Ie(fe),ve=De(),we=Me("wmgPlayerJSProd_"),Je=De(),Ge=Me("wmgPlayerJSProd_"),Ae=De(),ze(X.$$.fragment),Fe(s,"class","mgPlayerJSProd_ege-inline-block-vm"),Fe(c,"class","mgPlayerJSProd_tooltip-title"),Fe(d,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center"),Fe(n,"id","mgPlayerJSProd_btn-back-change-pass"),Fe(n,"class","mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_back-btn mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_back-btn"),Fe(m,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_header-text mgPlayerJSProd_margin-lr-10 mgPlayerJSProd_font-size-16 mgPlayerJSProd_text-color-white mgPlayerJSProd_text-overflow-ellipsis"),Fe(o,"class","mgPlayerJSProd_header-title mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_padding-lr-15"),Fe(_,"id","mgPlayerJSProd_current-password-label"),Fe(_,"class","mgPlayerJSProd_change-password-label"),Fe(S,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_width-100 mgPlayerJSProd_password-text-text mgPlayerJSProd_text-input mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_font-size-16"),Fe(S,"autocomplete","new-password"),Fe(S,"maxlength","20"),Fe(S,"spellcheck","true"),Fe(S,"type","password"),Fe(S,"placeholder",W=r[0].labels.placeholderCurrentPassword),Fe(S,"name","currentPassword"),S.required=!0,Fe(y,"class","mgPlayerJSProd_current-password-wrapper"),Fe(C,"id","mgPlayerJSProd_new-password-label"),Fe(C,"class","mgPlayerJSProd_change-password-label"),Fe(b,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_width-100 mgPlayerJSProd_password-text-text mgPlayerJSProd_text-input mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_font-size-16"),Fe(b,"autocomplete","new-password"),Fe(b,"minlength","8"),Fe(b,"maxlength","20"),Fe(b,"spellcheck","true"),Fe(b,"type","password"),Fe(b,"placeholder",re=r[0].labels.placeholderNewPassword),Fe(b,"name","newPassword"),b.required=!0,Fe(f,"class","mgPlayerJSProd_new-password-wrapper"),Fe(w,"id","mgPlayerJSProd_confirm-password-label"),Fe(w,"class","mgPlayerJSProd_change-password-label"),Fe(J,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_width-100 mgPlayerJSProd_password-text-text mgPlayerJSProd_text-input mgPlayerJSProd_ege-inline-block-vm mgPlayerJSProd_font-size-16"),Fe(J,"autocomplete","new-password"),Fe(J,"minlength","8"),Fe(J,"maxlength","20"),Fe(J,"spellcheck","true"),Fe(J,"type","password"),Fe(J,"placeholder",ce=r[0].labels.placeholderPasswordC),Fe(J,"name","confirmPassword"),J.required=!0,Fe(v,"class","mgPlayerJSProd_confirm-password-wrapper"),Fe(P,"class","mgPlayerJSProd_change-pass-signin-form"),Fe(A,"type","button"),Fe(A,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral"),Fe(A,"aria-label",_e=r[0].labels.change),Re(A,"mgPlayerJSProd_disabled",!r[1].trim()||r[6]||r[7]||!r[2].trim()||r[8]||r[9]||!r[3].trim()||r[10]||r[11]||r[5]),Fe(T,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral"),Fe(T,"aria-label",be=r[0].labels.btnCancel),Fe(G,"class","mgPlayerJSProd_change-password-footer mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-tb-15"),Fe(we,"class","mgPlayerJSProd_ege-clear"),Fe(h,"class","mgPlayerJSProd_change-pass-signin-form-container mgPlayerJSProd_no-border mgPlayerJSProd_no-border-all mgPlayerJSProd_no-padding mgPlayerJSProd_no-box-shadow"),Fe(Ge,"class","mgPlayerJSProd_ege-clear"),Fe(u,"role","form"),Fe(u,"aria-labelledby","guide-change-password-form"),Fe(u,"name","cForm"),Fe(u,"autocomplete","off"),Fe(u,"method","post"),Fe(V,"class","mgPlayerJSProd_change-pass-signin-page-wrapper mgPlayerJSProd_change-password-wrapper"),Fe(i,"class","mgPlayerJSProd_ege-panel-main-container mgPlayerJSProd_signin-page-container")},m(e,t){Ue(a,e,t),Le(e,F,t),Le(e,i,t),xe(i,o),xe(o,n),xe(n,s),s.innerHTML=l,xe(n,O),xe(n,d),xe(d,c),xe(c,R),xe(o,H),xe(o,m),xe(m,N),xe(i,B),xe(i,V),xe(V,u),xe(u,h),xe(h,P),xe(P,y),xe(y,_),xe(_,U),xe(y,j),xe(y,S),We(S,r[1]),xe(y,Z),x&&x.m(y,null),xe(y,Y),L&&L.m(y,null),xe(P,K),xe(P,f),xe(f,C),xe(C,ee),xe(f,te),xe(f,b),We(b,r[2]),xe(f,ae),E&&E.m(f,null),xe(f,oe),M&&M.m(f,null),xe(P,ne),xe(P,v),xe(v,w),xe(w,le),xe(v,de),xe(v,J),We(J,r[3]),xe(v,ge),I&&I.m(v,null),xe(v,pe),D&&D.m(v,null),xe(h,ue),$&&$.m(h,null),xe(h,he),xe(h,G),xe(G,A),xe(A,ye),xe(G,Se),xe(G,T),xe(T,Ce),xe(h,ve),xe(h,we),xe(u,Je),xe(u,Ge),Le(e,Ae,t),Ue(X,e,t),k=!0,Te||(Xe=[$e(n,"click",r[13]),$e(S,"input",r[14]),$e(S,"focus",r[15]),$e(b,"input",r[16]),$e(b,"focus",r[17]),$e(J,"input",r[18]),$e(J,"focus",r[19]),$e(A,"click",r[22]),$e(T,"click",r[23])],Te=!0)},p(e,[t]){(!k||1&t)&&l!==(l=e[0].svgs.iconBack+"")&&(s.innerHTML=l),(!k||1&t)&&g!==(g=e[0].labels.back+"")&&Oe(R,g),(!k||1&t)&&p!==(p=e[0].labels.changePassword+"")&&Oe(N,p),(!k||1&t)&&z!==(z=e[0].labels.placeholderCurrentPassword+"")&&Oe(U,z),(!k||1&t&&W!==(W=e[0].labels.placeholderCurrentPassword))&&Fe(S,"placeholder",W),2&t&&S.value!==e[1]&&We(S,e[1]),(q=66&t?e[6]||!e[1].trim():q)?x?x.p(e,t):((x=Wd(e)).c(),x.m(y,Y)):x&&(x.d(1),x=null),e[7]?L?L.p(e,t):((L=Zd(e)).c(),L.m(y,null)):L&&(L.d(1),L=null),(!k||1&t)&&Q!==(Q=e[0].labels.placeholderNewPassword+"")&&Oe(ee,Q),(!k||1&t&&re!==(re=e[0].labels.placeholderNewPassword))&&Fe(b,"placeholder",re),4&t&&b.value!==e[2]&&We(b,e[2]),(ie=260&t?e[8]||!e[2].trim():ie)?E?E.p(e,t):((E=qd(e)).c(),E.m(f,oe)):E&&(E.d(1),E=null),e[9]?M?M.p(e,t):((M=Yd(e)).c(),M.m(f,null)):M&&(M.d(1),M=null),(!k||1&t)&&se!==(se=e[0].labels.placeholderPasswordC+"")&&Oe(le,se),(!k||1&t&&ce!==(ce=e[0].labels.placeholderPasswordC))&&Fe(J,"placeholder",ce),8&t&&J.value!==e[3]&&We(J,e[3]),(me=1032&t?e[10]||!e[3].trim():me)?I?I.p(e,t):((I=Kd(e)).c(),I.m(v,pe)):I&&(I.d(1),I=null),e[11]?D?D.p(e,t):((D=Qd(e)).c(),D.m(v,null)):D&&(D.d(1),D=null),e[0].config.hideCaptcha?$&&(He(),Ve($,1,1,()=>{$=null}),Ne()):$?($.p(e,t),1&t&&Be($,1)):(($=ec(e)).c(),Be($,1),$.m(h,he)),(!k||1&t)&&Pe!==(Pe=e[0].labels.change+"")&&Oe(ye,Pe),(!k||1&t&&_e!==(_e=e[0].labels.change))&&Fe(A,"aria-label",_e),(!k||4078&t)&&Re(A,"mgPlayerJSProd_disabled",!e[1].trim()||e[6]||e[7]||!e[2].trim()||e[8]||e[9]||!e[3].trim()||e[10]||e[11]||e[5]),(!k||1&t)&&fe!==(fe=e[0].labels.btnCancel+"")&&Oe(Ce,fe),(!k||1&t&&be!==(be=e[0].labels.btnCancel))&&Fe(T,"aria-label",be)},i(e){k||(Be(a.$$.fragment,e),Be($),Be(X.$$.fragment,e),k=!0)},o(e){Ve(a.$$.fragment,e),Ve($),Ve(X.$$.fragment,e),k=!1},d(e){e&&(Ee(F),Ee(i),Ee(Ae)),je(a,e),x&&x.d(),L&&L.d(),E&&E.d(),M&&M.d(),I&&I.d(),D&&D.d(),$&&$.d(),je(X,e),Te=!1,ke(Xe)}}}function rc(e,t,r){ce.currentView="change-password-view";let a={},i="",o="",n="",s=!1,l=!1,d=!1,c=!1,g=!1,m=!1,p=!1,u=!1,h=()=>{GmCXt.isEmpty(i)?r(6,d=!0):!GmCXt.isEmpty(i)&&i.length<8&&r(7,c=!0),GmCXt.isEmpty(o)?r(8,g=!0):!GmCXt.isEmpty(o)&&o.length<8&&r(9,m=!0),GmCXt.isEmpty(n)?r(10,p=!0):!GmCXt.isEmpty(n)&&n.length<8&&r(11,u=!0),s||GmCXt.conf.hideCaptcha||(r(5,l=!0),ce.hideLoading()),d||c||g||m||p||u||l||(o!==n?ce.showPopup(ce.labels.msgConfirmNewPasswordError):(()=>{function t(){ce.logout("password_change")}function e(e){ce.hideLoading();$.open(ce.labels.msgPasswordChangedSuccess,"success",t,t)}ce.showLoading();let r={user_id:a.user_id,new_password:o,existing_password:i};GmCXt.api.changePassword(r,e)})())},P=()=>{ge.activeView.set("home")};a=ce.user,ce.hideLoading(),me(()=>{});return[ce,i,o,n,s,l,d,c,g,m,p,u,h,P,function(){i=this.value,r(1,i)},()=>r(7,c=!1),function(){o=this.value,r(2,o)},()=>r(9,m=!1),function(){n=this.value,r(3,n)},()=>r(11,u=!1),function(e){s=e,r(4,s)},function(e){l=e,r(5,l)},()=>h(),()=>P()]}class ac extends e{constructor(e){super(),t(this,e,rc,tc,d,{})}}function ic(e){let r,a=e[0].labels.creatorSsoError+"",i;return{c(){r=Me("wmgPlayerJSProd_"),i=Ie(a),Fe(r,"class","mgPlayerJSProd_error-input-wrapper active")},m(e,t){Le(e,r,t),xe(r,i)},p(e,t){1&t&&a!==(a=e[0].labels.creatorSsoError+"")&&Oe(i,a)},d(e){e&&Ee(r)}}}function oc(r){let a,i,o,n,s=r[0].labels.logInWithSSO+"",l,d,c,g,m,p,u,h,P,y,_,S,f,C=r[0].labels.logInWithSSO+"",b,v,w,J,G,A,T=r[0].labels.backToLogin+"",X,k,x,L,E,M,I,D=(a=new Rt({}),r[3]&&ic(r));return L=new tr({}),{c(){ze(a.$$.fragment),i=De(),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),l=Ie(s),d=De(),c=Me("wmgPlayerJSProd_"),g=Me("wmgPlayerJSProd_"),m=Me("wmgPlayerJSProd_"),p=Me("wmgPlayerJSProd_"),u=Me("wmgPlayerJSProd_"),h=Me("input"),y=De(),D&&D.c(),_=De(),S=Me("wmgPlayerJSProd_"),f=Me("button"),b=Ie(C),J=De(),G=Me("wmgPlayerJSProd_"),A=Me("button"),X=Ie(T),x=De(),ze(L.$$.fragment),Fe(n,"class","mgPlayerJSProd_h2 mgPlayerJSProd_font-size-24 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-25"),Fe(h,"id","mgPlayerJSProd_input-forgot-email"),Fe(h,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_font-size-16 mgPlayerJSProd_inline-block-vm"),Fe(h,"maxlength","50"),Fe(h,"spellcheck","true"),Fe(h,"type","text"),Fe(h,"placeholder",P=r[0].labels.ssoDomain),Fe(h,"name","ssoDomain"),Fe(h,"aria-label","SSO Domain"),h.required=!0,Fe(u,"class","mgPlayerJSProd_input-email-wrapper mgPlayerJSProd_margin-tb-10"),Fe(p,"class","mgPlayerJSProd_signin-form-input"),Fe(f,"id","mgPlayerJSProd_btn-reset-pass"),Fe(f,"type","button"),Fe(f,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_font-size-15"),Fe(f,"aria-disabled",v=GmCXt.isEmpty(r[1])),Fe(f,"aria-label",w=r[0].labels.logInWithSSO),Re(f,"mgPlayerJSProd_disabled",GmCXt.isEmpty(r[1])),Fe(S,"class","mgPlayerJSProd_btn-login-wrapper mgPlayerJSProd_text-align-center"),Fe(A,"id","mgPlayerJSProd_label-forgot-back-to-login"),Fe(A,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_back-to-login mgPlayerJSProd_theme-color mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_font-weight-550 mgPlayerJSProd_inline-block-vm"),Fe(A,"type","button"),Fe(A,"aria-label",k=r[0].labels.backToLogin),Fe(G,"class","mgPlayerJSProd_width-100 mgPlayerJSProd_text-align-center"),Fe(m,"class","mgPlayerJSProd_signin-form-container"),Fe(g,"role","form"),Fe(g,"aria-labelledby","guide-forgot-password-form"),Fe(g,"name","forgotPasswordForm"),Fe(g,"autocomplete","off"),Fe(c,"class","mgPlayerJSProd_signin-page-wrapper"),Fe(o,"class","mgPlayerJSProd_ege-panel-main-container mgPlayerJSProd_signin-page-container mgPlayerJSProd_forgot-password-page-container")},m(e,t){Ue(a,e,t),Le(e,i,t),Le(e,o,t),xe(o,n),xe(n,l),xe(o,d),xe(o,c),xe(c,g),xe(g,m),xe(m,p),xe(p,u),xe(u,h),We(h,r[1]),r[5](h),xe(u,y),D&&D.m(u,null),xe(m,_),xe(m,S),xe(S,f),xe(f,b),xe(m,J),xe(m,G),xe(G,A),xe(A,X),Le(e,x,t),Ue(L,e,t),E=!0,M||(I=[$e(h,"input",r[4]),$e(f,"click",r[6]),$e(A,"click",function(){Y(r[0].goToLogin)&&r[0].goToLogin.apply(this,arguments)})],M=!0)},p(e,[t]){r=e,(!E||1&t)&&s!==(s=r[0].labels.logInWithSSO+"")&&Oe(l,s),(!E||1&t&&P!==(P=r[0].labels.ssoDomain))&&Fe(h,"placeholder",P),2&t&&h.value!==r[1]&&We(h,r[1]),r[3]?D?D.p(r,t):((D=ic(r)).c(),D.m(u,null)):D&&(D.d(1),D=null),(!E||1&t)&&C!==(C=r[0].labels.logInWithSSO+"")&&Oe(b,C),(!E||2&t&&v!==(v=GmCXt.isEmpty(r[1])))&&Fe(f,"aria-disabled",v),(!E||1&t&&w!==(w=r[0].labels.logInWithSSO))&&Fe(f,"aria-label",w),(!E||2&t)&&Re(f,"mgPlayerJSProd_disabled",GmCXt.isEmpty(r[1])),(!E||1&t)&&T!==(T=r[0].labels.backToLogin+"")&&Oe(X,T),(!E||1&t&&k!==(k=r[0].labels.backToLogin))&&Fe(A,"aria-label",k)},i(e){E||(Be(a.$$.fragment,e),Be(L.$$.fragment,e),E=!0)},o(e){Ve(a.$$.fragment,e),Ve(L.$$.fragment,e),E=!1},d(e){e&&(Ee(i),Ee(o),Ee(x)),je(a,e),r[5](null),D&&D.d(),je(L,e),M=!1,ke(I)}}}function nc(e,t,r){let a="";ce.currentView="sso-login-view";let i,o=!1,n=ge.showSsoNotAvailableError.subscribe(e=>{r(3,o=e)});me(()=>{r(3,o=!1)}),pe(()=>{n()});return[ce,a,void 0,o,function(){a=this.value,r(1,a)},function(e){ue[e?"unshift":"push"](()=>{i=e,r(2,i)})},()=>ce.creatorSSOLogin(a)]}class sc extends e{constructor(e){super(),t(this,e,nc,oc,d,{})}}function lc(e){let r,a;return r=new yd({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function dc(e){let r,a;return r=new sc({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function cc(e){let r,a;return r=new Nr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function gc(e){let r,a;return r=new ac({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function mc(e){let r,a;return r=new jd({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function pc(e){let r,a;return r=new wd({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function uc(e){let r,a;return r=new fd({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function hc(e){let r,a;return r=new gd({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function Pc(e){let r,a;return r=new wr({}),{c(){ze(r.$$.fragment)},m(e,t){Ue(r,e,t),a=!0},i(e){a||(Be(r.$$.fragment,e),a=!0)},o(e){Ve(r.$$.fragment,e),a=!1},d(e){je(r,e)}}}function yc(){let r,a,i,e;return{c(){r=Me("wmgPlayerJSProd_"),a=Me("wmgPlayerJSProd_"),Fe(i=Me("img"),"class","mgPlayerJSProd_loader-image"),Q(i.src,e=GmCXt.loader())||Fe(i,"src",e),Fe(i,"alt","loader"),Fe(a,"class","mgPlayerJSProd_ege-loader-wrapper-spinner"),Fe(r,"id","mgPlayerJSProd_ege-spinner"),Fe(r,"class","mgPlayerJSProd_ege-loader-wrapper")},m(e,t){Le(e,r,t),xe(r,a),xe(a,i)},p:Je,d(e){e&&Ee(r)}}}function _c(r){let a,i,o,n=r[1].svgs.iconCookiePolicy+"",s,l,d=r[1].labels.privacyPolicyText+"",c,g,m,p,u=r[1].labels.terms+"",h,P,y,_,S=r[1].labels.policyPrivacy+"",f,C,b,v,w,J=r[1].labels.iAgree+"",G,A,T,X;return{c(){a=Me("div"),i=Me("div"),o=Me("div"),s=De(),l=Me("div"),c=Ie(d),g=De(),m=Me("div"),p=Me("a"),h=Ie(u),y=De(),_=Me("a"),f=Ie(S),b=De(),v=Me("div"),w=Me("div"),G=Ie(J),Fe(o,"class","mgPlayerJSProd_popup-icon-cookies mgPlayerJSProd_inline-block-vm mgPlayerJSProd_position-relative"),Fe(p,"class","mgPlayerJSProd_cookies-hyperlink mgPlayerJSProd_text-decoration-none"),Fe(p,"href",P=r[1].config.termsURL),Fe(p,"target","_blank"),Fe(p,"rel","noopener noreferrer"),Fe(_,"class","mgPlayerJSProd_cookies-hyperlink mgPlayerJSProd_text-decoration-none mgPlayerJSProd_margin-lr-5"),Fe(_,"href",C=GmCXt.organization?.settings?.privacyPolicy||r[1].config.privacyPolicyUrl),Fe(_,"target","_blank"),Fe(_,"rel","noopener noreferrer"),Fe(m,"class","mgPlayerJSProd_cookies-hyperlink-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_margin-tb-5"),Fe(l,"class","mgPlayerJSProd_popup-content"),Fe(i,"class","mgPlayerJSProd_popup-content-wrapper"),Fe(w,"id","mgPlayerJSProd_btn-close-cookie-popup"),Fe(w,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_inline-block-vm"),Fe(v,"class","mgPlayerJSProd_popup-agree-btn-wrapper mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-15"),Fe(a,"class",A="mgPlayerJSProd_cookie-policy-popup-container "+(r[1].isMicroPlayer?"mgPlayerJSProd_cookie-policy-popup-mini-player":""))},m(e,t){Le(e,a,t),xe(a,i),xe(i,o),o.innerHTML=n,xe(i,s),xe(i,l),xe(l,c),xe(l,g),xe(l,m),xe(m,p),xe(p,h),xe(m,y),xe(m,_),xe(_,f),xe(a,b),xe(a,v),xe(v,w),xe(w,G),T||(X=$e(w,"click",function(){Y(r[1].closeCookiePopup)&&r[1].closeCookiePopup.apply(this,arguments)}),T=!0)},p(e,t){r=e,2&t&&n!==(n=r[1].svgs.iconCookiePolicy+"")&&(o.innerHTML=n),2&t&&d!==(d=r[1].labels.privacyPolicyText+"")&&Oe(c,d),2&t&&u!==(u=r[1].labels.terms+"")&&Oe(h,u),2&t&&P!==(P=r[1].config.termsURL)&&Fe(p,"href",P),2&t&&S!==(S=r[1].labels.policyPrivacy+"")&&Oe(f,S),2&t&&C!==(C=GmCXt.organization?.settings?.privacyPolicy||r[1].config.privacyPolicyUrl)&&Fe(_,"href",C),2&t&&J!==(J=r[1].labels.iAgree+"")&&Oe(G,J),2&t&&A!==(A="mgPlayerJSProd_cookie-policy-popup-container "+(r[1].isMicroPlayer?"mgPlayerJSProd_cookie-policy-popup-mini-player":""))&&Fe(a,"class",A)},d(e){e&&Ee(a),T=!1,X()}}}function Sc(e){let a,i,o,n,s=e[1].showCookiePopup()&&"signin"!==e[0],l,r,d,c=[Pc,hc,uc,pc,mc,gc,cc,dc,lc],g=[];function m(e){return"signin"==e[0]?0:"home"==e[0]?1:"forgotpwd"==e[0]?2:"chatbot"==e[0]?3:"taskList"==e[0]?4:"changePw"==e[0]?5:"findNReplace"==e[0]?6:"signInSSO"==e[0]?7:"maintenance"==e[0]?8:-1}~(a=m(e))&&(i=g[a]=c[a](e));let p=e[2]&&yc(),u=s&&_c(e);return{c(){i&&i.c(),o=De(),p&&p.c(),n=De(),u&&u.c(),l=De(),Fe(r=Me("input"),"class","mgPlayerJSProd_display-none"),Fe(r,"spellcheck","true"),Fe(r,"id","mgPlayerJSProd_add-step-upload-file"),Fe(r,"type","file"),Fe(r,"tabindex","-1"),Fe(r,"accept","image/png,image/jpeg"),Ae(r,"display","none")},m(e,t){~a&&g[a].m(e,t),Le(e,o,t),p&&p.m(e,t),Le(e,n,t),u&&u.m(e,t),Le(e,l,t),Le(e,r,t),d=!0},p(e,t){let r=a;(a=m(e))!==r&&(i&&(He(),Ve(g[r],1,1,()=>{g[r]=null}),Ne()),~a?((i=g[a])||(i=g[a]=c[a](e)).c(),Be(i,1),i.m(o.parentNode,o)):i=null),e[2]?p?p.p(e,t):((p=yc()).c(),p.m(n.parentNode,n)):p&&(p.d(1),p=null),(s=3&t?e[1].showCookiePopup()&&"signin"!==e[0]:s)?u?u.p(e,t):((u=_c(e)).c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},i(e){d||(Be(i),d=!0)},o(e){Ve(i),d=!1},d(e){e&&(Ee(o),Ee(n),Ee(l),Ee(r)),~a&&g[a].d(e),p&&p.d(e),u&&u.d(e)}}}function fc(e){let r=e[3],a,i,o=Sc(e);return{c(){o.c(),a=I()},m(e,t){o.m(e,t),Le(e,a,t),i=!0},p(e,[t]){8&t&&d(r,r=e[3])?(He(),Ve(o,1,1,Je),Ne(),(o=Sc(e)).c(),Be(o,1),o.m(a.parentNode,a)):o.p(e,t)},i(e){i||(Be(o),i=!0)},o(e){Ve(o),i=!1},d(e){e&&Ee(a),o.d(e)}}}function Cc(e,t,r){let{loadComp:a="signin"}=t,i=!1,o=(GmCXt.refreshView=!1,0);let n=ge.activeView.subscribe(e=>{var t=a;""!==e&&t===e&&r(3,o+=1),""!==e&&(r(0,a=e),GmCXt.saveToStorage("activeView",e))}),s=(ge.loading.subscribe(e=>{r(2,i=e)}),ge.dialogBox.subscribe(e=>{})),l=ge.selectedLang.subscribe(e=>{e&&"default"!==e&&r(1,ce.labels=GmCXt.getAllLabels(e),ce)});return me(()=>{r(0,a=de(ge.activeView))}),pe(()=>{s(),n(),l()}),e.$$set=e=>{"loadComp"in e&&r(0,a=e.loadComp)},[a,ce,i,o]}class bc extends e{constructor(e){super(),t(this,e,Cc,fc,d,{loadComp:0})}}function vc(e){e=e||{};let t={},i={popup:mg$(e.popup),highlightedArea:e.elementBounds||{},containerOffset:e.containerOffest||{left:0,top:0},alignment:e.alignment||"",hardApply:e.hardApply||!1,doNotApplyArrow:e.doNotApplyArrow||!1,arrowClass:"",left:null,top:null,isSet:!1,arrowId:e.tooltipArrowId||"",arrowWidth:e.isBeacon?5:12,isGuidance:e.isGuidance,customPos:e.customPos,isBeacon:e.isBeacon,dimensions:e.dimensions,totalHeightMinusTop:0,totalWidthMinusLeft:0,totalHeightMinusBottom:0,totalWidthMinusRight:0,stepType:e.stepType,disableElementColor:e.disableElementColor,changeInHeight:e.changeInHeight,isExtension:e.isExtension,dynamicPopupHeight:e.dynamicPopupHeight};if(i.arrowId||(i.doNotApplyArrow=!0),0!==i.popup.length)return i.arrowId&&mg$("#"+i.arrowId).length&&mg$("#"+i.arrowId).remove(),!i.isGuidance||"top"!==i.alignment&&"bottom"!==i.alignment||(i.arrowWidth=8),"smartTip"==i.stepType||"tooltip"==i.stepType||0!=i.popup.outerWidth()?i.popupWidth=i.popup.outerWidth():i.popupWidth=250,125<i.changeInHeight||"smartTip"==i.stepType||"tooltip"==i.stepType||"beacon"==i.stepType||!0===i.dynamicPopupHeight?i.popupHeight=i.popup.outerHeight():i.popupHeight=125,i.highlightedArea.cw=i.highlightedArea.cw||0,i.highlightedArea.ch=i.highlightedArea.ch||0,i.highlightedArea.cx=i.highlightedArea.cx||0,i.highlightedArea.cy=i.highlightedArea.cy||0,0<i.highlightedArea.cw&&0<i.highlightedArea.ch?i.availableSpace={top:i.highlightedArea.cy,left:i.highlightedArea.cx,right:i.dimensions.width-(i.highlightedArea.cx+i.highlightedArea.cw),bottom:i.dimensions.height-(i.highlightedArea.cy+i.highlightedArea.ch)}:i.availableSpace={top:0,left:0,right:0,bottom:0},i.highlightedArea.cx||i.highlightedArea.cy||(i.availableSpace.top=i.availableSpace.top||0,i.availableSpace.left=i.availableSpace.left||0,i.availableSpace.right=i.availableSpace.right||0,i.availableSpace.bottom=i.availableSpace.bottom||0),void 0!==i.containerOffset&&(i.containerOffset.top<0&&(i.containerOffset.top=0),i.containerOffset.left<0&&(i.containerOffset.left=0),i.availableSpace.top+=i.containerOffset.top,i.availableSpace.left+=i.containerOffset.left,i.availableSpace.right-=i.containerOffset.left,i.availableSpace.bottom-=i.containerOffset.top),e.playingTour,0<=i.availableSpace.top&&(i.totalHeightMinusTop=i.dimensions.height-i.availableSpace.top),0<=i.availableSpace.left&&(i.totalWidthMinusLeft=i.dimensions.width-i.availableSpace.left),0<=i.availableSpace.bottom&&(i.totalHeightMinusBottom=i.dimensions.height-i.availableSpace.bottom),0<=i.availableSpace.right&&(i.totalWidthMinusRight=i.dimensions.width-i.availableSpace.right),t.getAvailablePositions=function(){return{"left-middle":r(),"left-top":o(),"left-bottom":s(),"right-middle":d(),"right-top":g(),"right-bottom":p(),"top-middle":h(),"top-left":y(),"top-right":S(),"bottom-middle":C(),"bottom-left":v(),"bottom-right":J()}},t.getAvailablePositionsForTooltip=function(){var e,t,r=i.highlightedArea.cx+i.highlightedArea.cw+15,a=i.highlightedArea.cy+i.highlightedArea.ch+15;return{"left-middle":i.highlightedArea.cx>i.dimensions.width/5,"right-middle":(e=r,t=182,!(i.dimensions.width-e<t+30)),"top-middle":(e=r,!(i.highlightedArea.cy<81||i.highlightedArea.cx<50||i.dimensions.width-e<50)),"bottom-middle":(t=r,e=a,r=70,!(i.dimensions.height-e<r+16||i.highlightedArea.cx<50||i.dimensions.width-t<50))}},t.start=function(){switch(i.alignment){case"left":case"left-middle":a(),i.isSet||n(),i.isSet||l();break;case"left-top":n(),i.isSet||l();break;case"left-bottom":l(),i.isSet||n();break;case"right":case"right-middle":c(),i.isSet||m(),i.isSet||u();break;case"right-top":m(),i.isSet||u();break;case"right-bottom":u(),i.isSet||m();break;case"top":P(),i.isSet||_(),i.isSet||f();break;case"top-middle":P();break;case"top-left":_();break;case"top-right":f();break;case"bottom":b(),i.isSet||w(),i.isSet||G();break;case"bottom-middle":b();break;case"bottom-left":w();break;case"bottom-right":G();break;case"center":A();break;case"custom":i.left=i.highlightedArea.cx+i.customPos,i.top=i.highlightedArea.cy+i.customPos,i.isSet=!0,i.alignment="custom"}var e;return!1===i.hardApply&&(i.isSet||c(),i.isSet||m(),i.isSet||u(),i.isSet||a(),i.isSet||n(),i.isSet||l(),i.isSet||P(),i.isSet||_(),i.isSet||f(),i.isSet||b(),i.isSet||w(),i.isSet||G(),i.isSet||A()),null!==i.left&&null!==i.top&&(i.top<0&&(i.top=10),0<(e=mg$(window).scrollLeft())&&(i.left-=e),i.popup.css({left:i.left+i.containerOffset.left,top:i.top+i.containerOffset.top})),i.arrowId&&(i.arrowClass=i.arrowClass+" mgPlayerJSProd_tooltip-arrow"),i.doNotApplyArrow||mg$("html").append(`<wmgPlayerJSProd_ id= "${i.arrowId}" class="${i.arrowClass}" style="left:${i.arrowLeft}px;top:${i.arrowTop}px;"></wmgPlayerJSProd_>`),!!i.isSet&&{top:i.top+i.containerOffset.top,left:i.left+i.containerOffset.left,alignment:i.alignment}},t.checkHeight=function(){80!==i.popupHeight&&t.redo()},t.redo=function(){i.isGuidance&&(i.arrowWidth=8),i.popupWidth=307,125<i.changeInHeight?i.popupHeight=i.changeInHeight:i.popupHeight=125,t.start()},t.clear=function(){mg$(".mgPlayerJSProd_arrow-down").not(".mgPlayerJSProd_tooltip-arrow").remove(),mg$(".mgPlayerJSProd_arrow-up").not(".mgPlayerJSProd_tooltip-arrow").remove(),mg$(".mgPlayerJSProd_arrow-left").not(".mgPlayerJSProd_tooltip-arrow").remove(),mg$(".mgPlayerJSProd_arrow-right").not(".mgPlayerJSProd_tooltip-arrow").remove(),i.popup.css({left:0,top:0})},t;function r(){return Math.abs(i.availableSpace.left)>i.popupWidth&&i.highlightedArea.ch/2<screen.height&&Math.abs(i.availableSpace.top)+i.highlightedArea.ch/2>i.popupHeight/2&&Math.abs(i.availableSpace.bottom)+i.highlightedArea.ch/2>i.popupHeight/2}function a(){r()&&("smartTip"===i.stepType&&!i.isBeacon||"validation"===i.stepType?(i.left=i.highlightedArea.cx,i.isGuidance&&i.isExtension||"validation"===i.stepType?i.top=i.highlightedArea.cy:i.top=i.highlightedArea.cy+i.highlightedArea.ch/2-i.popupHeight/2):"beacon_tour"===i.stepType&&i.isExtension?(i.left=i.highlightedArea.cx,i.top=i.highlightedArea.cy):("inline"===i.stepType||"message"===i.stepType?i.left=i.highlightedArea.cx-i.popupWidth-i.arrowWidth:i.left=i.highlightedArea.cx-i.popupWidth-5,i.top=i.highlightedArea.cy+i.highlightedArea.ch/2-i.popupHeight/2),i.arrowClass="mgPlayerJSProd_arrow-right",i.arrowLeft=i.highlightedArea.cx-12,i.arrowTop=i.top+i.popupHeight/2-10,i.isSet=!0,i.alignment="left-middle")}function o(){return Math.abs(i.availableSpace.left)>i.popupWidth&&i.totalHeightMinusTop>i.popupHeight}function n(){o()&&(i.left=i.highlightedArea.cx-i.popupWidth-i.arrowWidth,i.top=i.highlightedArea.cy,i.arrowClass="mgPlayerJSProd_arrow-right",i.arrowLeft=i.highlightedArea.cx-12,i.arrowTop=i.top+7,i.isSet=!0,i.alignment="left-top")}function s(){return Math.abs(i.availableSpace.left)>i.popupWidth&&i.totalHeightMinusBottom>i.popupHeight}function l(){s()&&(i.left=i.highlightedArea.cx-i.popupWidth-i.arrowWidth,i.top=i.highlightedArea.cy+i.highlightedArea.ch-i.popupHeight,i.arrowClass="mgPlayerJSProd_arrow-right",i.arrowLeft=i.highlightedArea.cx-12,i.arrowTop=i.top+(i.popupHeight-30),i.isSet=!0,i.alignment="left-bottom")}function d(){return i.availableSpace.right>i.popupWidth&&i.highlightedArea.ch/2<screen.height&&Math.abs(i.availableSpace.top)+i.highlightedArea.ch/2>i.popupHeight/2&&Math.abs(i.availableSpace.bottom)+i.highlightedArea.ch/2>i.popupHeight/2}function c(){d()&&("smartTip"===i.stepType&&!i.isBeacon||"validation"===i.stepType?(i.left=i.highlightedArea.cx,i.isGuidance&&i.isExtension||"validation"===i.stepType?i.top=i.highlightedArea.cy:i.top=i.highlightedArea.cy+i.highlightedArea.ch/2-i.popupHeight/2):"beacon_tour"===i.stepType&&i.isExtension?(i.left=i.highlightedArea.cx,i.top=i.highlightedArea.cy):("inline"===i.stepType||"message"===i.stepType?i.left=i.highlightedArea.cx+i.highlightedArea.cw+i.arrowWidth:i.left=i.highlightedArea.cx+i.highlightedArea.cw+5,i.top=i.highlightedArea.cy+i.highlightedArea.ch/2-i.popupHeight/2),i.arrowClass="mgPlayerJSProd_arrow-left",i.arrowLeft=i.left-10,i.arrowTop=i.top+i.popupHeight/2-10,i.isSet=!0,i.alignment="right-middle")}function g(){return i.availableSpace.right>i.popupWidth&&i.totalHeightMinusTop>i.popupHeight}function m(){g()&&(i.left=i.highlightedArea.cx+i.highlightedArea.cw+i.arrowWidth,i.top=i.highlightedArea.cy,i.arrowClass="mgPlayerJSProd_arrow-left",i.arrowLeft=i.left-10,i.arrowTop=i.top+7,i.isSet=!0,i.alignment="right-top")}function p(){return i.availableSpace.right>i.popupWidth&&i.totalHeightMinusBottom>i.popupHeight}function u(){p()&&(i.left=i.highlightedArea.cx+i.highlightedArea.cw+i.arrowWidth,i.top=i.highlightedArea.cy+i.highlightedArea.ch-i.popupHeight,i.arrowClass="mgPlayerJSProd_arrow-left",i.arrowLeft=i.left-10,i.arrowTop=i.top+(i.popupHeight-30),i.isSet=!0,i.alignment="right-bottom")}function h(){return Math.abs(i.availableSpace.top)>i.popupHeight+15&&i.totalWidthMinusLeft>i.popupWidth/2&&Math.abs(i.availableSpace.left)+i.highlightedArea.cw/2>i.popupWidth/2&&i.availableSpace.right+i.highlightedArea.cw/2>i.popupWidth/2}function P(){"message"===i.stepType?(i.left=i.popupWidth/2,i.top=i.highlightedArea.cy-i.popupHeight-i.arrowWidth):"beacon_tour"===i.stepType&&i.isExtension?(i.left=i.highlightedArea.cx,i.top=i.highlightedArea.cy):h()&&(i.left=i.highlightedArea.cx+i.highlightedArea.cw/2-i.popupWidth/2,"inline"==i.step?i.top=i.highlightedArea.cy-i.popupHeight-i.arrowWidth:i.top=i.highlightedArea.cy-i.popupHeight-10),i.arrowClass="mgPlayerJSProd_arrow-down",i.arrowLeft=i.highlightedArea.cx+i.highlightedArea.cw/2-8,i.arrowTop=i.highlightedArea.cy-12,i.isSet=!0,i.alignment="top-middle"}function y(){return Math.abs(i.availableSpace.top)>i.popupHeight+15&&i.totalWidthMinusLeft>i.popupWidth}function _(){("message"==i.stepType||y())&&(i.left=i.highlightedArea.cx,i.top=i.highlightedArea.cy-i.popupHeight-i.arrowWidth,i.arrowClass="mgPlayerJSProd_arrow-down",i.arrowLeft=i.highlightedArea.cx+7,i.arrowTop=i.highlightedArea.cy-12,i.isSet=!0,i.alignment="top-left")}function S(){return Math.abs(i.availableSpace.top)>i.popupHeight+15&&i.totalWidthMinusRight>i.popupWidth}function f(){("message"===i.stepType||S())&&(i.left=i.highlightedArea.cx+i.highlightedArea.cw-i.popupWidth,i.top=i.highlightedArea.cy-i.popupHeight-i.arrowWidth,i.arrowClass="mgPlayerJSProd_arrow-down",i.arrowLeft=i.highlightedArea.cx+i.highlightedArea.cw-27,i.arrowTop=i.highlightedArea.cy-12,i.isSet=!0,i.alignment="top-right")}function C(){return Math.abs(i.availableSpace.bottom)>i.popupHeight&&i.totalWidthMinusLeft>i.popupWidth/2&&Math.abs(i.availableSpace.left)+i.highlightedArea.cw/2>i.popupWidth/2&&i.availableSpace.right+i.highlightedArea.cw/2>i.popupWidth/2}function b(){C()&&("smartTip"===i.stepType&&!i.isBeacon||"validation"===i.stepType?(i.left=i.highlightedArea.cx,i.isGuidance&&i.isExtension||"validation"===i.stepType?i.top=i.highlightedArea.cy:i.top=i.highlightedArea.cy+i.highlightedArea.ch/2-i.popupHeight/2):"beacon_tour"===i.stepType&&i.isExtension?(i.left=i.highlightedArea.cx,i.top=i.highlightedArea.cy):"inline"===i.stepType||"message"===i.stepType?(i.top=i.highlightedArea.cy+i.highlightedArea.ch+i.arrowWidth,i.left=i.highlightedArea.cx+i.highlightedArea.cw/2-i.popupWidth/2):(i.left=i.highlightedArea.cx+i.highlightedArea.cw/2-i.popupWidth/2,i.top=i.highlightedArea.cy+i.highlightedArea.ch+5),i.isSet=!0,i.alignment="bottom-middle")}function v(){return Math.abs(i.availableSpace.bottom)>i.popupHeight&&i.totalWidthMinusLeft>i.popupWidth}function w(){v()&&(i.left=i.highlightedArea.cx,i.top=i.highlightedArea.cy+i.highlightedArea.ch+i.arrowWidth,i.arrowClass="mgPlayerJSProd_arrow-up",i.arrowLeft=i.highlightedArea.cx+7,i.arrowTop=i.highlightedArea.cy+i.highlightedArea.ch+2,i.isSet=!0,i.alignment="bottom-left")}function J(){return Math.abs(i.availableSpace.bottom)>i.popupHeight&&i.totalWidthMinusRight>i.popupWidth}function G(){J()&&(i.left=i.highlightedArea.cx+i.highlightedArea.cw-i.popupWidth,i.top=i.highlightedArea.cy+i.highlightedArea.ch+i.arrowWidth,i.arrowClass="mgPlayerJSProd_arrow-up",i.arrowLeft=i.highlightedArea.cx+i.highlightedArea.cw-27,i.arrowTop=i.highlightedArea.cy+i.highlightedArea.ch+2,i.isSet=!0,i.alignment="bottom-right")}function A(){i.left=(i.dimensions.width-i.popupWidth)/2,i.top=(i.dimensions.height-i.popupHeight)/2,i.isSet=!0,i.alignment="center"}}var wc={d:(e,t)=>{for(var r in t)wc.o(t,r)&&!wc.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},Jc=globalThis.pdfjsLib={};wc.d(Jc,{AbortException:()=>tg,AnnotationEditorLayer:()=>Tp,AnnotationEditorParamsType:()=>i,AnnotationEditorType:()=>m,AnnotationEditorUIManager:()=>zg,AnnotationLayer:()=>Pp,AnnotationMode:()=>kc,CMapCompressionType:()=>$c,ColorPicker:()=>wp,DOMSVGFactory:()=>bg,DrawLayer:()=>Xp,FeatureTest:()=>og,GlobalWorkerOptions:()=>Em,ImageKind:()=>Ec,InvalidPDFException:()=>Yc,MissingPDFException:()=>Kc,OPS:()=>Fc,Outliner:()=>Sp,PDFDataRangeTransport:()=>w1,PDFDateString:()=>Lg,PDFWorker:()=>X1,PasswordResponses:()=>Oc,PermissionFlag:()=>xc,PixelsPerInch:()=>Pg,RenderingCancelledException:()=>wg,TextLayer:()=>h1,UnexpectedResponseException:()=>Qc,Util:()=>f,VerbosityLevel:()=>Dc,XfaLayer:()=>R1,build:()=>D1,createValidAbsoluteUrl:()=>function(e,t=null,r=null){if(e)try{if(r&&"string"==typeof e)if(r.addDefaultProtocol&&e.startsWith("www.")&&2<=e.match(/\./g)?.length&&(e="http://"+e),r.tryConvertEncoding)try{e=(e=>decodeURIComponent(escape(e)))(e)}catch{}var a=t?new URL(e,t):new URL(e);if((e=>{switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return 1;default:return}})(a))return a}catch{}return null},fetchData:()=>Sg,getDocument:()=>function(e={}){"string"==typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});let a=new v1,i=a.docId,o=e.url?(e=>{if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(Gc&&"string"==typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")})(e.url):null,n=e.data?(e=>{if(Gc&&"undefined"!=typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"==typeof e)return ag(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"==typeof e&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")})(e.data):null,s=e.httpHeaders||null,l=!0===e.withCredentials,t=e.password??null,d=e.range instanceof w1?e.range:null,c=Number.isInteger(e.rangeChunkSize)&&0<e.rangeChunkSize?e.rangeChunkSize:y1,g=e.worker instanceof X1?e.worker:null,r=e.verbosity,m="string"!=typeof e.docBaseUrl||Jg(e.docBaseUrl)?null:e.docBaseUrl,p="string"==typeof e.cMapUrl?e.cMapUrl:null,u=!1!==e.cMapPacked,h=e.CMapReaderFactory||S1,P="string"==typeof e.standardFontDataUrl?e.standardFontDataUrl:null,y=e.StandardFontDataFactory||C1,_=!0!==e.stopAtErrors,S=Number.isInteger(e.maxImageSize)&&-1<e.maxImageSize?e.maxImageSize:-1,f=!1!==e.isEvalSupported,C="boolean"==typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!Gc,b=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,v="boolean"==typeof e.disableFontFace?e.disableFontFace:Gc,w=!0===e.fontExtraProperties,J=!0===e.enableXfa,G=e.ownerDocument||globalThis.document,A=!0===e.disableRange,T=!0===e.disableStream,X=!0===e.disableAutoFetch,k=!0===e.pdfBug,x=!0===e.enableHWA,L=d?d.length:e.length??NaN,E="boolean"==typeof e.useSystemFonts?e.useSystemFonts:!Gc&&!v,M="boolean"==typeof e.useWorkerFetch?e.useWorkerFetch:h===fg&&y===Cg&&p&&P&&Tg(p,document.baseURI)&&Tg(P,document.baseURI),D=e.canvasFactory||new _1({ownerDocument:G,enableHWA:x}),$=e.filterFactory||new f1({docId:i,ownerDocument:G});(e=>{Number.isInteger(e)&&(Rc=e)})(r);let I={canvasFactory:D,filterFactory:$};M||(I.cMapReaderFactory=new h({baseUrl:p,isCompressed:u}),I.standardFontDataFactory=new y({baseUrl:P}));g||(e={verbosity:r,port:Em.workerPort},g=e.port?X1.fromPort(e):new X1(e),a._worker=g);let F={docId:i,apiVersion:"4.4.168",data:n,password:t,disableAutoFetch:X,rangeChunkSize:c,length:L,docBaseUrl:m,enableXfa:J,evaluatorOptions:{maxImageSize:S,disableFontFace:v,ignoreErrors:_,isEvalSupported:f,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:b,fontExtraProperties:w,useSystemFonts:E,cMapUrl:M?p:null,standardFontDataUrl:M?P:null}},O={disableFontFace:v,fontExtraProperties:w,ownerDocument:G,pdfBug:k,styleElement:null,loadingParams:{disableAutoFetch:X,enableXfa:J}};return g.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");var e,t=g.messageHandler.sendWithPromise("GetDocRequest",F,n?[n.buffer]:null);let r;if(d)r=new Nm(d,{disableRange:A,disableStream:T});else if(!n){if(!o)throw new Error("getDocument - no `url` parameter provided.");r=(e={url:o,length:L,httpHeaders:s,withCredentials:l,rangeChunkSize:c,disableRange:A,disableStream:T},new(Gc?"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&Tg(e.url)?Qm:s1:Tg(e.url)?Qm:a1)(e))}return t.then(e=>{if(a.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");var e=new $m(i,e,g.port),t=new k1(e,a,r,O,I);a._transport=t,e.send("Ready",null)})}).catch(a._capability.reject),a},getFilenameFromUrl:()=>function(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)},getPdfFilenameFromUrl:()=>function(e,t="document.pdf"){if("string"!=typeof e)return t;if(Jg(e))return S('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;let r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e),i=r.exec(a[1])||r.exec(a[2])||r.exec(a[3]);if(i&&(i=i[0]).includes("%"))try{i=r.exec(decodeURIComponent(i))[0]}catch{}return i||t},getXfaPageViewport:()=>function(e,{scale:t=1,rotation:r=0}){var{width:e,height:a}=e.attributes.style,e=[0,0,parseInt(e),parseInt(a)];return new vg({viewBox:e,scale:t,rotation:r})},isDataScheme:()=>Jg,isPdfFile:()=>Gg,noContextMenu:()=>Xg,normalizeUnicode:()=>function(e){sg||(sg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,lg=new Map([["ï¬…","Å¿t"]]));return e.replaceAll(sg,(e,t,r)=>t?t.normalize("NFKC"):lg.get(r))},renderTextLayer:()=>function(){kg("`renderTextLayer`, please use `TextLayer` instead.");let{textContentSource:e,container:t,viewport:r,...a}=arguments[0],i=Object.keys(a);0<i.length&&S("Ignoring `renderTextLayer` parameters: "+i.join(", "));var o=new h1({textContentSource:e,container:t,viewport:r}),{textDivs:n,textContentItemsStr:s}=o,o=o.render();return{promise:o,textDivs:n,textContentItemsStr:s}},setLayerDimensions:()=>Dg,shadow:()=>o,updateTextLayer:()=>function(){kg("`updateTextLayer`, please use `TextLayer` instead.")},version:()=>I1});let Gc=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),Ac=[1,0,0,1,0,0],Tc=[.001,0,0,.001,0,0],Xc={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},kc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},m={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},i={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},xc={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Lc={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ec={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Mc={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Ic={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Dc={ERRORS:0,WARNINGS:1,INFOS:5},$c={NONE:0,BINARY:1},Fc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},Oc={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Rc=Dc.WARNINGS;function Hc(e){Rc>=Dc.INFOS&&console.log("Info: "+e)}function S(e){Rc>=Dc.WARNINGS&&console.log("Warning: "+e)}function Nc(e){throw new Error(e)}function Bc(e,t){e||Nc(t)}function o(e,t,r,a=!1){return Object.defineProperty(e,t,{value:r,enumerable:!a,configurable:!0,writable:!1}),r}Wc.prototype=new Error;var Vc,zc,Uc,jc=Wc.constructor=Wc;function Wc(e,t){this.constructor===Wc&&Nc("Cannot initialize BaseException."),this.message=e,this.name=t}class Zc extends jc{constructor(e,t){super(e,"PasswordException"),this.code=t}}class qc extends jc{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Yc extends jc{constructor(e){super(e,"InvalidPDFException")}}class Kc extends jc{constructor(e){super(e,"MissingPDFException")}}class Qc extends jc{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class eg extends jc{constructor(e){super(e,"FormatError")}}class tg extends jc{constructor(e){super(e,"AbortException")}}function rg(t){"object"==typeof t&&void 0!==t?.length||Nc("Invalid argument for bytesToString");var r=t.length;if(r<8192)return String.fromCharCode.apply(null,t);var a=[];for(let e=0;e<r;e+=8192){var i=Math.min(e+8192,r),i=t.subarray(e,i);a.push(String.fromCharCode.apply(null,i))}return a.join("")}function ag(t){"string"!=typeof t&&Nc("Invalid argument for stringToBytes");var r=t.length,a=new Uint8Array(r);for(let e=0;e<r;++e)a[e]=255&t.charCodeAt(e);return a}function ig(e){var t,r,a=Object.create(null);for([t,r]of e)a[t]=r;return a}class og{static get isLittleEndian(){return o(this,"isLittleEndian",((e=new Uint8Array(4))[0]=1)===(e=new Uint32Array(e.buffer,0,1))[0]);var e}static get isEvalSupported(){return o(this,"isEvalSupported",(()=>{try{return new Function(""),!0}catch{return!1}})())}static get isOffscreenCanvasSupported(){return o(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}static get platform(){return"undefined"!=typeof navigator&&"string"==typeof navigator?.platform?o(this,"platform",{isMac:navigator.platform.includes("Mac")}):o(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return o(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}let ng=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class f{static makeHexColor(e,t,r){return"#"+ng[e]+ng[t]+ng[r]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){var r=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r]}static getAxialAlignedBoundingBox(e,t){var r=this.applyTransform(e,t),a=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),e=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],a[0],i[0],e[0]),Math.min(r[1],a[1],i[1],e[1]),Math.max(r[0],a[0],i[0],e[0]),Math.max(r[1],a[1],i[1],e[1])]}static inverseTransform(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],a=e[2]*t[1]+e[3]*t[3],i=(r+a)/2,r=Math.sqrt((r+a)**2-4*(r*a-(e[2]*t[0]+e[3]*t[2])*(e[0]*t[1]+e[1]*t[3])))/2,a=i-r||1;return[Math.sqrt(i+r||1),Math.sqrt(a)]}static normalizeRect(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[3]<e[1]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){var r,a=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));return i<a||(r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),(e=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3])))<r)?null:[a,r,i,e]}static#getExtremumOnCurve(e,t,r,a,i,o,n,s,l,d){var c;l<=0||1<=l||(r=(c=1-l)*(c*(c*e+3*l*t)+3*(e=l*l)*r)+(t=e*l)*a,a=c*(c*(c*i+3*l*o)+3*e*n)+t*s,d[0]=Math.min(d[0],r),d[1]=Math.min(d[1],a),d[2]=Math.max(d[2],r),d[3]=Math.max(d[3],a))}static#getExtremum(e,t,r,a,i,o,n,s,l,d,c,g){Math.abs(l)<1e-12?1e-12<=Math.abs(d)&&this.#getExtremumOnCurve(e,t,r,a,i,o,n,s,-c/d,g):(c=d**2-4*c*l)<0||(c=Math.sqrt(c),this.#getExtremumOnCurve(e,t,r,a,i,o,n,s,(-d+c)/(l=2*l),g),this.#getExtremumOnCurve(e,t,r,a,i,o,n,s,(-d-c)/l,g))}static bezierBoundingBox(e,t,r,a,i,o,n,s,l){return l?(l[0]=Math.min(l[0],e,n),l[1]=Math.min(l[1],t,s),l[2]=Math.max(l[2],e,n),l[3]=Math.max(l[3],t,s)):l=[Math.min(e,n),Math.min(t,s),Math.max(e,n),Math.max(t,s)],this.#getExtremum(e,r,i,n,t,a,o,s,3*(3*(r-i)-e+n),6*(e-2*r+i),3*(r-e),l),this.#getExtremum(e,r,i,n,t,a,o,s,3*(3*(a-o)-t+s),6*(t-2*a+o),3*(a-t),l),l}}let sg=null,lg=null;let dg="pdfjs_internal_id_",cg={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class gg{constructor(){this.constructor===gg&&Nc("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,a,i){return"none"}destroy(e=0){}}class mg{#enableHWA=!1;constructor({enableHWA:e=!1}={}){this.constructor===mg&&Nc("Cannot initialize BaseCanvasFactory."),this.#enableHWA=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");e=this._createCanvas(e,t);return{canvas:e,context:e.getContext("2d",{willReadFrequently:!this.#enableHWA})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Nc("Abstract method `_createCanvas` called.")}}class pg{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===pg&&Nc("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");let t=this.baseUrl+e+(this.isCompressed?".bcmap":"");e=this.isCompressed?$c.BINARY:$c.NONE;return this._fetchData(t,e).catch(e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: `+t)})}_fetchData(e,t){Nc("Abstract method `_fetchData` called.")}}class ug{constructor({baseUrl:e=null}){this.constructor===ug&&Nc("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");let t=""+this.baseUrl+e;return this._fetchData(t).catch(e=>{throw new Error("Unable to load font data at: "+t)})}_fetchData(e){Nc("Abstract method `_fetchData` called.")}}let hg="http://www.w3.org/2000/svg";class Pg{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}class yg extends gg{#_cache;#_defs;#docId;#document;#_hcmCache;#id=0;constructor({docId:e,ownerDocument:t=globalThis.document}={}){super(),this.#docId=e,this.#document=t}get#cache(){return this.#_cache||=new Map}get#hcmCache(){return this.#_hcmCache||=new Map}get#defs(){var e,t;return this.#_defs||(t=(e=this.#document.createElement("div")).style,t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1,(t=this.#document.createElementNS(hg,"svg")).setAttribute("width",0),t.setAttribute("height",0),this.#_defs=this.#document.createElementNS(hg,"defs"),e.append(t),t.append(this.#_defs),this.#document.body.append(e)),this.#_defs}#createTables(e){if(1===e.length){let t=e[0];var r=new Array(256);for(let e=0;e<256;e++)r[e]=t[e]/255;var a=r.join(",");return[a,a,a]}let[t,i,o]=e;var n=new Array(256),s=new Array(256),l=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255,s[e]=i[e]/255,l[e]=o[e]/255;return[n.join(","),s.join(","),l.join(",")]}addFilter(e){var t,r,a,i,o;return e?(i=this.#cache.get(e))||([t,r,a]=this.#createTables(e),o=1===e.length?t:""+t+r+a,(i=this.#cache.get(o))?(this.#cache.set(e,i),i):(i=`g_${this.#docId}_transfer_map_`+this.#id++,this.#cache.set(e,e=`url(#${i})`),this.#cache.set(o,e),o=this.#createFilter(i),this.#addTransferMapConversion(t,r,a,o),e)):"none"}addHCMFilter(e,t){var r=e+"-"+t;let a=this.#hcmCache.get("base");if(a?.key!==r&&(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#hcmCache.set("base",a)),e)&&t){let o=this.#getRGB(e),n=(e=f.makeHexColor(...o),this.#getRGB(t));if(t=f.makeHexColor(...n),this.#defs.style.color="",("#000000"!==e||"#ffffff"!==t)&&e!==t){var i=new Array(256);for(let e=0;e<=255;e++){var s=e/255;i[e]=s<=.03928?s/12.92:((.055+s)/1.055)**2.4}r=i.join(","),e=`g_${this.#docId}_hcm_filter`,t=a.filter=this.#createFilter(e),r=(this.#addTransferMapConversion(r,r,r,t),this.#addGrayConversion(t),(e,t)=>{var r=o[e]/255,a=n[e]/255,i=new Array(t+1);for(let e=0;e<=t;e++)i[e]=r+e/t*(a-r);return i.join(",")});this.#addTransferMapConversion(r(0,5),r(1,5),r(2,5),t),a.url=`url(#${e})`}}return a.url}addAlphaFilter(e){var t,r,a=this.#cache.get(e);return a||([t]=this.#createTables([e]),(a=this.#cache.get(r="alpha_"+t))?(this.#cache.set(e,a),a):(a=`g_${this.#docId}_alpha_map_`+this.#id++,this.#cache.set(e,e=`url(#${a})`),this.#cache.set(r,e),r=this.#createFilter(a),this.#addTransferMapAlphaConversion(t,r),e))}addLuminosityFilter(e){var t,r=this.#cache.get(e||"luminosity");if(r)return r;let a,i;return i=e?([a]=this.#createTables([e]),"luminosity_"+a):"luminosity",(r=this.#cache.get(i))?(this.#cache.set(e,r),r):(r=`g_${this.#docId}_luminosity_map_`+this.#id++,this.#cache.set(e,t=`url(#${r})`),this.#cache.set(i,t),r=this.#createFilter(r),this.#addLuminosityConversion(r),e&&this.#addTransferMapAlphaConversion(a,r),t)}addHighlightHCMFilter(r,a,i,o,n){var s=a+`-${i}-${o}-`+n;let l=this.#hcmCache.get(r);if(l?.key!==s&&(l?(l.filter?.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},this.#hcmCache.set(r,l)),a)&&i){var[s,a]=[a,i].map(this.#getRGB.bind(this));let c=Math.round(.2126*s[0]+.7152*s[1]+.0722*s[2]),g=Math.round(.2126*a[0]+.7152*a[1]+.0722*a[2]),[e,t]=[o,n].map(this.#getRGB.bind(this));g<c&&([c,g,e,t]=[g,c,t,e]),this.#defs.style.color="";i=(e,t,r)=>{var a=new Array(256),i=(g-c)/r,o=e/255,n=(t-e)/(255*r);let s=0;for(let e=0;e<=r;e++){var l=Math.round(c+e*i),d=o+e*n;for(let e=s;e<=l;e++)a[e]=d;s=l+1}for(let e=s;e<256;e++)a[e]=a[s-1];return a.join(",")},s=`g_${this.#docId}_hcm_${r}_filter`,a=l.filter=this.#createFilter(s);this.#addGrayConversion(a),this.#addTransferMapConversion(i(e[0],t[0],5),i(e[1],t[1],5),i(e[2],t[2],5),a),l.url=`url(#${s})`}return l.url}destroy(e=!1){e&&0!==this.#hcmCache.size||(this.#_defs&&(this.#_defs.parentNode.parentNode.remove(),this.#_defs=null),this.#_cache&&(this.#_cache.clear(),this.#_cache=null),this.#id=0)}#addLuminosityConversion(e){var t=this.#document.createElementNS(hg,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#addGrayConversion(e){var t=this.#document.createElementNS(hg,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#createFilter(e){var t=this.#document.createElementNS(hg,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#defs.append(t),t}#appendFeFunc(e,t,r){t=this.#document.createElementNS(hg,t);t.setAttribute("type","discrete"),t.setAttribute("tableValues",r),e.append(t)}#addTransferMapConversion(e,t,r,a){var i=this.#document.createElementNS(hg,"feComponentTransfer");a.append(i),this.#appendFeFunc(i,"feFuncR",e),this.#appendFeFunc(i,"feFuncG",t),this.#appendFeFunc(i,"feFuncB",r)}#addTransferMapAlphaConversion(e,t){var r=this.#document.createElementNS(hg,"feComponentTransfer");t.append(r),this.#appendFeFunc(r,"feFuncA",e)}#getRGB(e){return this.#defs.style.color=e,Eg(getComputedStyle(this.#defs).getPropertyValue("color"))}}class _g extends mg{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){var r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function Sg(a,i="text"){if(Tg(a,document.baseURI)){var e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(i){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,t)=>{let r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=i,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE)if(200===r.status||0===r.status){switch(i){case"arraybuffer":case"blob":case"json":return void e(r.response)}e(r.responseText)}else t(new Error(r.statusText))},r.send(null)})}class fg extends pg{_fetchData(e,t){return Sg(e,this.isCompressed?"arraybuffer":"text").then(e=>({cMapData:e instanceof ArrayBuffer?new Uint8Array(e):ag(e),compressionType:t}))}}class Cg extends ug{_fetchData(e){return Sg(e,"arraybuffer").then(e=>new Uint8Array(e))}}class bg extends class Fu{constructor(){this.constructor===Fu&&Nc("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");var a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),r||(a.setAttribute("width",e+"px"),a.setAttribute("height",t+"px")),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${e} `+t),a}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Nc("Abstract method `_createSVG` called.")}}{_createSVG(e){return document.createElementNS(hg,e)}}class vg{constructor({viewBox:e,scale:t,rotation:r,offsetX:a=0,offsetY:i=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=a,this.offsetY=i;var n=(e[2]+e[0])/2,s=(e[3]+e[1])/2;let l,d,c,g;switch((r%=360)<0&&(r+=360),r){case 180:l=-1,d=0,c=0,g=1;break;case 90:l=0,d=1,c=1,g=0;break;case 270:l=0,d=-1,c=-1,g=0;break;case 0:l=1,d=0,c=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(c=-c,g=-g);let m,p,u,h;h=0===l?(m=Math.abs(s-e[1])*t+a,p=Math.abs(n-e[0])*t+i,u=(e[3]-e[1])*t,(e[2]-e[0])*t):(m=Math.abs(n-e[0])*t+a,p=Math.abs(s-e[1])*t+i,u=(e[2]-e[0])*t,(e[3]-e[1])*t),this.transform=[l*t,d*t,c*t,g*t,m-l*t*n-c*t*s,p-d*t*n-g*t*s],this.width=u,this.height=h}get rawDims(){var e=this.viewBox;return o(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:a=this.offsetY,dontFlip:i=!1}={}){return new vg({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:a,dontFlip:i})}convertToViewportPoint(e,t){return f.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){var t=f.applyTransform([e[0],e[1]],this.transform),e=f.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],e[0],e[1]]}convertToPdfPoint(e,t){return f.applyInverseTransform([e,t],this.transform)}}class wg extends jc{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Jg(e){var t=e.length;let r=0;for(;r<t&&""===e[r].trim();)r++;return"data:"===e.substring(r,r+5).toLowerCase()}function Gg(e){return"string"==typeof e&&/\.pdf$/i.test(e)}class Ag{started=Object.create(null);times=[];time(e){e in this.started&&S("Timer is already running for "+e),this.started[e]=Date.now()}timeEnd(e){e in this.started||S("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){var e,t,r,a,i=[];let o=0;for({name:e}of this.times)o=Math.max(e.length,o);for({name:t,start:r,end:a}of this.times)i.push(`${t.padEnd(o)} ${a-r}ms\n`);return i.join("")}}function Tg(e,t){try{var r=(t?new URL(e,t):new URL(e)).protocol;return"http:"===r||"https:"===r}catch{return!1}}function Xg(e){e.preventDefault()}function kg(e){console.log("Deprecated API usage: "+e)}let xg;class Lg{static toDateObject(e){if(!e||"string"!=typeof e)return null;e=(xg||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")).exec(e);if(!e)return null;var t=parseInt(e[1],10),r=1<=(r=parseInt(e[2],10))&&r<=12?r-1:0,a=1<=(a=parseInt(e[3],10))&&a<=31?a:1;let i=parseInt(e[4],10),o=(i=0<=i&&i<=23?i:0,parseInt(e[5],10));o=0<=o&&o<=59?o:0;var n=0<=(n=parseInt(e[6],10))&&n<=59?n:0,s=e[7]||"Z",l=0<=(l=parseInt(e[8],10))&&l<=23?l:0,e=0<=(e=parseInt(e[9],10)||0)&&e<=59?e:0;return"-"===s?(i+=l,o+=e):"+"===s&&(i-=l,o-=e),new Date(Date.UTC(t,r,a,i,o,n))}}function Eg(e){var t;return e.startsWith("#")?[(16711680&(t=parseInt(e.slice(1),16)))>>16,(65280&t)>>8,255&t]:e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(S(`Not a valid color format: "${e}"`),[0,0,0])}function Mg(e){var{a:e,b:t,c:r,d:a,e:i,f:o}=e.getTransform();return[e,t,r,a,i,o]}function Ig(e){var{a:e,b:t,c:r,d:a,e:i,f:o}=e.getTransform().invertSelf();return[e,t,r,a,i,o]}function Dg(e,t,r=!1,a=!0){var i,o,n,s;t instanceof vg&&({pageWidth:n,pageHeight:o}=t.rawDims,i=e.style,n=`var(--scale-factor) * ${n}px`,o=`var(--scale-factor) * ${o}px`,n=(s=og.isCSSRoundSupported)?`round(${n}, 1px)`:`calc(${n})`,s=s?`round(${o}, 1px)`:`calc(${o})`,r&&t.rotation%180!=0?(i.width=s,i.height=n):(i.width=n,i.height=s)),a&&e.setAttribute("data-main-rotation",t.rotation)}class $g{#toolbar=null;#colorPicker=null;#editor;#buttons=null;constructor(e){this.#editor=e}render(){var e,t,r=this.#toolbar=document.createElement("div"),a=(r.className="editToolbar",r.setAttribute("role","toolbar"),this.#editor._uiManager._signal),a=(r.addEventListener("contextmenu",Xg,{signal:a}),r.addEventListener("pointerdown",$g.#pointerDown,{signal:a}),this.#buttons=document.createElement("div")),a=(a.className="buttons",r.append(a),this.#editor.toolbarPosition);return a&&(e=r.style,t="ltr"===this.#editor._uiManager.direction?1-a[0]:a[0],e.insetInlineEnd=100*t+"%",e.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`),this.#addDeleteButton(),r}static#pointerDown(e){e.stopPropagation()}#focusIn(e){this.#editor._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#focusOut(e){this.#editor._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#addListenersToElement(e){var t=this.#editor._uiManager._signal;e.addEventListener("focusin",this.#focusIn.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#focusOut.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Xg,{signal:t})}hide(){this.#toolbar.classList.add("hidden"),this.#colorPicker?.hideDropdown()}show(){this.#toolbar.classList.remove("hidden")}#addDeleteButton(){var e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#editor.editorType}-button`),this.#addListenersToElement(e),e.addEventListener("click",e=>{this.#editor._uiManager.delete()},{signal:this.#editor._uiManager._signal}),this.#buttons.append(e)}get#divider(){var e=document.createElement("div");return e.className="divider",e}addAltTextButton(e){this.#addListenersToElement(e),this.#buttons.prepend(e,this.#divider)}addColorPicker(e){e=(this.#colorPicker=e).renderButton();this.#addListenersToElement(e),this.#buttons.prepend(e,this.#divider)}remove(){this.#toolbar.remove(),this.#colorPicker?.destroy(),this.#colorPicker=null}}class Fg{#buttons=null;#toolbar=null;#uiManager;constructor(e){this.#uiManager=e}#render(){var e=this.#toolbar=document.createElement("div"),t=(e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Xg,{signal:this.#uiManager._signal}),this.#buttons=document.createElement("div"));return t.className="buttons",e.append(t),this.#addHighlightButton(),e}#getLastPoint(e,t){let r=0,a=0;for(var i of e){var o=i.y+i.height;o<r||(i=i.x+(t?i.width:0),o>r?(a=i,r=o):t?i>a&&(a=i):i<a&&(a=i))}return[t?1-a:a,r]}show(e,t,r){var[t,r]=this.#getLastPoint(t,r),a=(this.#toolbar||=this.#render()).style;e.append(this.#toolbar),a.insetInlineEnd=100*t+"%",a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#toolbar.remove()}#addHighlightButton(){var e=document.createElement("button"),t=(e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1"),document.createElement("span")),t=(e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),this.#uiManager._signal);e.addEventListener("contextmenu",Xg,{signal:t}),e.addEventListener("click",()=>{this.#uiManager.highlightSelection("floating_button")},{signal:t}),this.#buttons.append(e)}}function Og(e,t,r){for(var a of r)t.addEventListener(a,e[a].bind(e))}class Rg{#id=0;get id(){return"pdfjs_internal_editor_"+this.#id++}}class Hg{#baseId=(()=>{if("undefined"!=typeof crypto&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();var t=new Uint8Array(32);if("undefined"!=typeof crypto&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(255*Math.random());return rg(t)})();#id=0;#cache=null;static get _isSVGFittingCanvas(){let e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',o(this,"_isSVGFittingCanvas",t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])))}async#get(e,t){this.#cache||=new Map;let o=this.#cache.get(e);if(null===o)return null;if(o?.bitmap)o.refCounter+=1;else{try{o||={bitmap:null,id:`image_${this.#baseId}_`+this.#id++,refCounter:0,isSvg:!1};let e;if("image/svg+xml"===(e="string"==typeof t?await Sg(o.url=t,"blob"):o.file=t).type){let r=Hg._isSVGFittingCanvas,a=new FileReader,i=new Image;var n=new Promise((e,t)=>{i.onload=()=>{o.bitmap=i,o.isSvg=!0,e()},a.onload=async()=>{var e=o.svgUrl=a.result;i.src=await r?e+"#svgView(preserveAspectRatio(none))":e},i.onerror=a.onerror=t});a.readAsDataURL(e),await n}else o.bitmap=await createImageBitmap(e);o.refCounter=1}catch(e){console.error(e),o=null}this.#cache.set(e,o),o&&this.#cache.set(o.id,o)}return o}async getFromFile(e){var{lastModified:t,name:r,size:a,type:i}=e;return this.#get(t+`_${r}_${a}_`+i,e)}async getFromUrl(e){return this.#get(e,e)}async getFromId(e){this.#cache||=new Map;e=this.#cache.get(e);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(e){e=this.#cache.get(e);return e?.isSvg?e.svgUrl:null}deleteId(e){this.#cache||=new Map;e=this.#cache.get(e);e&&(--e.refCounter,0===e.refCounter)&&(e.bitmap=null)}isValidId(e){return e.startsWith(`image_${this.#baseId}_`)}}class Ng{#commands=[];#locked=!1;#maxSize;#position=-1;constructor(e=128){this.#maxSize=e}add({cmd:e,undo:t,post:r,mustExec:a,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:n=!1}){a&&e(),this.#locked||(a={cmd:e,undo:t,post:r,type:i},-1===this.#position?(0<this.#commands.length&&(this.#commands.length=0),this.#position=0,this.#commands.push(a)):o&&this.#commands[this.#position].type===i?(n&&(a.undo=this.#commands[this.#position].undo),this.#commands[this.#position]=a):((e=this.#position+1)===this.#maxSize?this.#commands.splice(0,1):(this.#position=e)<this.#commands.length&&this.#commands.splice(e),this.#commands.push(a)))}undo(){var e,t;-1!==this.#position&&(this.#locked=!0,{undo:e,post:t}=this.#commands[this.#position],e(),t?.(),this.#locked=!1,--this.#position)}redo(){var e,t;this.#position<this.#commands.length-1&&(this.#position+=1,this.#locked=!0,{cmd:e,post:t}=this.#commands[this.#position],e(),t?.(),this.#locked=!1)}hasSomethingToUndo(){return-1!==this.#position}hasSomethingToRedo(){return this.#position<this.#commands.length-1}destroy(){this.#commands=null}}class Bg{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;var t,r,a,i=og.platform.isMac;for([t,r,a={}]of e)for(var o of t){var n=o.startsWith("mac+");i&&n?(this.callbacks.set(o.slice(4),{callback:r,options:a}),this.allKeys.add(o.split("+").at(-1))):i||n||(this.callbacks.set(o,{callback:r,options:a}),this.allKeys.add(o.split("+").at(-1)))}}#serialize(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);e=this.buffer.join("+");return this.buffer.length=0,e}exec(e,t){var r,a,i,o;this.allKeys.has(t.key)&&(r=this.callbacks.get(this.#serialize(t)))&&({callback:r,options:{bubbles:a=!1,args:i=[],checker:o=null}}=r,o&&!o(e,t)||(r.bind(e,...i,t)(),a)||(t.stopPropagation(),t.preventDefault()))}}class Vg{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){var e,t=new Map([["CanvasText",null],["Canvas",null]]),r=t,a=document.createElement("span");a.style.visibility="hidden",document.body.append(a);for(e of r.keys()){a.style.color=e;var i=window.getComputedStyle(a).color;r.set(e,Eg(i))}return a.remove(),o(this,"_colors",t)}convert(e){let r=Eg(e);if(window.matchMedia("(forced-colors: active)").matches)for(var[t,a]of this._colors)if(a.every((e,t)=>e===r[t]))return Vg._colorsMapping.get(t);return r}getHexCode(e){var t=this._colors.get(e);return t?f.makeHexColor(...t):e}}class zg{#abortController=new AbortController;#activeEditor=null;#allEditors=new Map;#allLayers=new Map;#altTextManager=null;#annotationStorage=null;#changedExistingAnnotations=null;#commandManager=new Ng;#currentPageIndex=0;#deletedAnnotationsElementIds=new Set;#draggingEditors=null;#editorTypes=null;#editorsToRescale=new Set;#enableHighlightFloatingButton=!1;#filterFactory=null;#focusMainContainerTimeoutId=null;#highlightColors=null;#highlightWhenShiftUp=!1;#highlightToolbar=null;#idManager=new Rg;#isEnabled=!1;#isWaiting=!1;#lastActiveElement=null;#mainHighlightColorPicker=null;#mlManager=null;#mode=m.NONE;#selectedEditors=new Set;#selectedTextNode=null;#pageColors=null;#showAllStates=null;#boundBlur=this.blur.bind(this);#boundFocus=this.focus.bind(this);#boundCopy=this.copy.bind(this);#boundCut=this.cut.bind(this);#boundPaste=this.paste.bind(this);#boundKeydown=this.keydown.bind(this);#boundKeyup=this.keyup.bind(this);#boundOnEditingAction=this.onEditingAction.bind(this);#boundOnPageChanging=this.onPageChanging.bind(this);#boundOnScaleChanging=this.onScaleChanging.bind(this);#boundOnRotationChanging=this.onRotationChanging.bind(this);#previousStates={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#translation=[0,0];#translationTimeoutId=null;#container=null;#viewer=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){var e=zg.prototype,t=e=>e.#container.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),r=(e,{target:t})=>!(t instanceof HTMLInputElement)||(t=t.type,"text"!==t&&"number"!==t),a=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return o(this,"_keyboardManager",new Bg([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&e.#container.contains(t)&&!e.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&e.#container.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,r,a,i,o,n,s,l){this._signal=this.#abortController.signal,this.#container=e,this.#viewer=t,this.#altTextManager=r,this._eventBus=a,this._eventBus._on("editingaction",this.#boundOnEditingAction),this._eventBus._on("pagechanging",this.#boundOnPageChanging),this._eventBus._on("scalechanging",this.#boundOnScaleChanging),this._eventBus._on("rotationchanging",this.#boundOnRotationChanging),this.#addSelectionListener(),this.#addDragAndDropListeners(),this.#addKeyboardManager(),this.#annotationStorage=i.annotationStorage,this.#filterFactory=i.filterFactory,this.#pageColors=o,this.#highlightColors=n||null,this.#enableHighlightFloatingButton=s,this.#mlManager=l||null,this.viewParameters={realScale:Pg.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#abortController?.abort(),this.#abortController=null,this._signal=null,this._eventBus._off("editingaction",this.#boundOnEditingAction),this._eventBus._off("pagechanging",this.#boundOnPageChanging),this._eventBus._off("scalechanging",this.#boundOnScaleChanging),this._eventBus._off("rotationchanging",this.#boundOnRotationChanging);for(var e of this.#allLayers.values())e.destroy();this.#allLayers.clear(),this.#allEditors.clear(),this.#editorsToRescale.clear(),this.#activeEditor=null,this.#selectedEditors.clear(),this.#commandManager.destroy(),this.#altTextManager?.destroy(),this.#highlightToolbar?.hide(),this.#highlightToolbar=null,this.#focusMainContainerTimeoutId&&(clearTimeout(this.#focusMainContainerTimeoutId),this.#focusMainContainerTimeoutId=null),this.#translationTimeoutId&&(clearTimeout(this.#translationTimeoutId),this.#translationTimeoutId=null)}async mlGuess(e){return this.#mlManager?.guess(e)||null}get hasMLManager(){return!!this.#mlManager}get hcmFilter(){return o(this,"hcmFilter",this.#pageColors?this.#filterFactory.addHCMFilter(this.#pageColors.foreground,this.#pageColors.background):"none")}get direction(){return o(this,"direction",getComputedStyle(this.#container).direction)}get highlightColors(){return o(this,"highlightColors",this.#highlightColors?new Map(this.#highlightColors.split(",").map(e=>e.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return o(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){this.#mainHighlightColorPicker=e}editAltText(e){this.#altTextManager?.editAltText(this,e)}onPageChanging({pageNumber:e}){this.#currentPageIndex=e-1}focusMainContainer(){this.#container.focus()}findParent(e,t){for(var r of this.#allLayers.values()){var{x:a,y:i,width:o,height:n}=r.div.getBoundingClientRect();if(a<=e&&e<=a+o&&i<=t&&t<=i+n)return r}return null}disableUserSelect(e=!1){this.#viewer.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#editorsToRescale.add(e)}removeShouldRescale(e){this.#editorsToRescale.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Pg.PDF_TO_CSS_UNITS;for(var t of this.#editorsToRescale)t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#getAnchorElementForSelection({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}highlightSelection(e=""){var t=document.getSelection();if(t&&!t.isCollapsed){var{anchorNode:r,anchorOffset:a,focusNode:i,focusOffset:o}=t,n=t.toString(),s=this.#getAnchorElementForSelection(t).closest(".textLayer"),l=this.getSelectionBoxes(s);if(l){t.empty(),this.#mode===m.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:m.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(var d of this.#allLayers.values())if(d.hasTextLayer(s)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:r,anchorOffset:a,focusNode:i,focusOffset:o,text:n});break}}}}#displayHighlightToolbar(){var e,t=document.getSelection();t&&!t.isCollapsed&&(t=this.#getAnchorElementForSelection(t).closest(".textLayer"),e=this.getSelectionBoxes(t))&&(this.#highlightToolbar||=new Fg(this),this.#highlightToolbar.show(t,e,"ltr"===this.direction))}addToAnnotationStorage(e){e.isEmpty()||!this.#annotationStorage||this.#annotationStorage.has(e.id)||this.#annotationStorage.setValue(e.id,e)}#selectionChange(){var e=document.getSelection();if(!e||e.isCollapsed)this.#selectedTextNode&&(this.#highlightToolbar?.hide(),this.#selectedTextNode=null,this.#dispatchUpdateStates({hasSelectedText:!1}));else{var t=e.anchorNode;if(t!==this.#selectedTextNode)if(this.#getAnchorElementForSelection(e).closest(".textLayer")){if(this.#highlightToolbar?.hide(),this.#selectedTextNode=t,this.#dispatchUpdateStates({hasSelectedText:!0}),(this.#mode===m.HIGHLIGHT||this.#mode===m.NONE)&&(this.#mode===m.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#highlightWhenShiftUp=this.isShiftKeyDown,!this.isShiftKeyDown)){e=this._signal;let t=e=>{"pointerup"===e.type&&0!==e.button||(window.removeEventListener("pointerup",t),window.removeEventListener("blur",t),"pointerup"===e.type&&this.#onSelectEnd("main_toolbar"))};window.addEventListener("pointerup",t,{signal:e}),window.addEventListener("blur",t,{signal:e})}}else this.#selectedTextNode&&(this.#highlightToolbar?.hide(),this.#selectedTextNode=null,this.#dispatchUpdateStates({hasSelectedText:!1}))}}#onSelectEnd(e=""){this.#mode===m.HIGHLIGHT?this.highlightSelection(e):this.#enableHighlightFloatingButton&&this.#displayHighlightToolbar()}#addSelectionListener(){document.addEventListener("selectionchange",this.#selectionChange.bind(this),{signal:this._signal})}#addFocusManager(){var e=this._signal;window.addEventListener("focus",this.#boundFocus,{signal:e}),window.addEventListener("blur",this.#boundBlur,{signal:e})}#removeFocusManager(){window.removeEventListener("focus",this.#boundFocus),window.removeEventListener("blur",this.#boundBlur)}blur(){if(this.isShiftKeyDown=!1,this.#highlightWhenShiftUp&&(this.#highlightWhenShiftUp=!1,this.#onSelectEnd("main_toolbar")),this.hasSelection){var e,t=document.activeElement;for(e of this.#selectedEditors)if(e.div.contains(t)){this.#lastActiveElement=[e,t],e._focusEventsAllowed=!1;break}}}focus(){if(this.#lastActiveElement){let[e,t]=this.#lastActiveElement;this.#lastActiveElement=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}}#addKeyboardManager(){var e=this._signal;window.addEventListener("keydown",this.#boundKeydown,{signal:e}),window.addEventListener("keyup",this.#boundKeyup,{signal:e})}#removeKeyboardManager(){window.removeEventListener("keydown",this.#boundKeydown),window.removeEventListener("keyup",this.#boundKeyup)}#addCopyPasteListeners(){var e=this._signal;document.addEventListener("copy",this.#boundCopy,{signal:e}),document.addEventListener("cut",this.#boundCut,{signal:e}),document.addEventListener("paste",this.#boundPaste,{signal:e})}#removeCopyPasteListeners(){document.removeEventListener("copy",this.#boundCopy),document.removeEventListener("cut",this.#boundCut),document.removeEventListener("paste",this.#boundPaste)}#addDragAndDropListeners(){var e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#addKeyboardManager(),this.#addCopyPasteListeners()}removeEditListeners(){this.#removeKeyboardManager(),this.#removeCopyPasteListeners()}dragOver(e){for(var{type:t}of e.dataTransfer.items)for(var r of this.#editorTypes)if(r.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(var t of e.dataTransfer.items)for(var r of this.#editorTypes)if(r.isHandlingMimeForPasting(t.type))return r.paste(t,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#activeEditor?.commitOrRemove(),this.hasSelection){var t,r=[];for(t of this.#selectedEditors){var a=t.serialize(!0);a&&r.push(a)}0!==r.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();var t,e=e.clipboardData;for(t of e.items)for(var r of this.#editorTypes)if(r.isHandlingMimeForPasting(t.type))return void r.paste(t,this.currentLayer);let a=e.getData("application/pdfjs");if(a){try{a=JSON.parse(a)}catch(e){return void S(`paste: "${e.message}".`)}if(Array.isArray(a)){this.unselectAll();var i=this.currentLayer;try{let t=[];for(var o of a){var n=i.deserialize(o);if(!n)return;t.push(n)}this.addCommands({cmd:()=>{for(var e of t)this.#addEditorToLayer(e);this.#selectEditors(t)},undo:()=>{for(var e of t)e.remove()},mustExec:!0})}catch(e){S(`paste: "${e.message}".`)}}}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),this.#mode===m.NONE||this.isEditorHandlingKeyboard||zg._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#highlightWhenShiftUp)&&(this.#highlightWhenShiftUp=!1,this.#onSelectEnd("main_toolbar"))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#dispatchUpdateStates(e){Object.entries(e).some(([e,t])=>this.#previousStates[e]!==t)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#previousStates,e)}),this.#mode===m.HIGHLIGHT)&&!1===e.hasSelectedEditor&&this.#dispatchUpdateUI([[i.HIGHLIGHT_FREE,!0]])}#dispatchUpdateUI(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#addFocusManager(),this.#addCopyPasteListeners(),this.#dispatchUpdateStates({isEditing:this.#mode!==m.NONE,isEmpty:this.#isEmpty(),hasSomethingToUndo:this.#commandManager.hasSomethingToUndo(),hasSomethingToRedo:this.#commandManager.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#removeFocusManager(),this.#removeCopyPasteListeners(),this.#dispatchUpdateStates({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#editorTypes){this.#editorTypes=e;for(var t of this.#editorTypes)this.#dispatchUpdateUI(t.defaultPropertiesToUpdate)}}getId(){return this.#idManager.id}get currentLayer(){return this.#allLayers.get(this.#currentPageIndex)}getLayer(e){return this.#allLayers.get(e)}get currentPageIndex(){return this.#currentPageIndex}addLayer(e){this.#allLayers.set(e.pageIndex,e),this.#isEnabled?e.enable():e.disable()}removeLayer(e){this.#allLayers.delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(this.#mode!==e)if((this.#mode=e)===m.NONE)this.setEditingState(!1),this.#disableAll();else{this.setEditingState(!0),this.#enableAll(),this.unselectAll();for(var a of this.#allLayers.values())a.updateMode(e);if(!t&&r)this.addNewEditorFromKeyboard();else if(t)for(var i of this.#allEditors.values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#mode&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#editorTypes){switch(e){case i.CREATE:return void this.currentLayer.addNewEditor();case i.HIGHLIGHT_DEFAULT_COLOR:this.#mainHighlightColorPicker?.updateColor(t);break;case i.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#showAllStates||=new Map).set(e,t),this.showAllEditors("highlight",t)}for(var r of this.#selectedEditors)r.updateParams(e,t);for(var a of this.#editorTypes)a.updateDefaultParams(e,t)}}showAllEditors(e,t,r=0){for(var a of this.#allEditors.values())a.editorType===e&&a.show(t);(this.#showAllStates?.get(i.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#dispatchUpdateUI([[i.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#isWaiting!==e){this.#isWaiting=e;for(var t of this.#allLayers.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}#enableAll(){if(!this.#isEnabled){this.#isEnabled=!0;for(var e of this.#allLayers.values())e.enable();for(var t of this.#allEditors.values())t.enable()}}#disableAll(){if(this.unselectAll(),this.#isEnabled){this.#isEnabled=!1;for(var e of this.#allLayers.values())e.disable();for(var t of this.#allEditors.values())t.disable()}}getEditors(e){var t,r=[];for(t of this.#allEditors.values())t.pageIndex===e&&r.push(t);return r}getEditor(e){return this.#allEditors.get(e)}addEditor(e){this.#allEditors.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#focusMainContainerTimeoutId&&clearTimeout(this.#focusMainContainerTimeoutId),this.#focusMainContainerTimeoutId=setTimeout(()=>{this.focusMainContainer(),this.#focusMainContainerTimeoutId=null},0)),this.#allEditors.delete(e.id),this.unselect(e),e.annotationElementId&&this.#deletedAnnotationsElementIds.has(e.annotationElementId)||this.#annotationStorage?.remove(e.id)}addDeletedAnnotationElement(e){this.#deletedAnnotationsElementIds.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#deletedAnnotationsElementIds.has(e)}removeDeletedAnnotationElement(e){this.#deletedAnnotationsElementIds.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#addEditorToLayer(e){var t=this.#allLayers.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#activeEditor!==e&&(this.#activeEditor=e)&&this.#dispatchUpdateUI(e.propertiesToUpdate)}get#lastSelectedEditor(){let e=null;for(e of this.#selectedEditors);return e}updateUI(e){this.#lastSelectedEditor===e&&this.#dispatchUpdateUI(e.propertiesToUpdate)}toggleSelected(e){this.#selectedEditors.has(e)?(this.#selectedEditors.delete(e),e.unselect(),this.#dispatchUpdateStates({hasSelectedEditor:this.hasSelection})):(this.#selectedEditors.add(e),e.select(),this.#dispatchUpdateUI(e.propertiesToUpdate),this.#dispatchUpdateStates({hasSelectedEditor:!0}))}setSelected(e){for(var t of this.#selectedEditors)t!==e&&t.unselect();this.#selectedEditors.clear(),this.#selectedEditors.add(e),e.select(),this.#dispatchUpdateUI(e.propertiesToUpdate),this.#dispatchUpdateStates({hasSelectedEditor:!0})}isSelected(e){return this.#selectedEditors.has(e)}get firstSelectedEditor(){return this.#selectedEditors.values().next().value}unselect(e){e.unselect(),this.#selectedEditors.delete(e),this.#dispatchUpdateStates({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#selectedEditors.size}get isEnterHandled(){return 1===this.#selectedEditors.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#commandManager.undo(),this.#dispatchUpdateStates({hasSomethingToUndo:this.#commandManager.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#isEmpty()})}redo(){this.#commandManager.redo(),this.#dispatchUpdateStates({hasSomethingToUndo:!0,hasSomethingToRedo:this.#commandManager.hasSomethingToRedo(),isEmpty:this.#isEmpty()})}addCommands(e){this.#commandManager.add(e),this.#dispatchUpdateStates({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#isEmpty()})}#isEmpty(){if(0===this.#allEditors.size)return!0;if(1===this.#allEditors.size)for(var e of this.#allEditors.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),this.hasSelection){let t=[...this.#selectedEditors];this.addCommands({cmd:()=>{for(var e of t)e.remove()},undo:()=>{for(var e of t)this.#addEditorToLayer(e)},mustExec:!0})}}commitOrRemove(){this.#activeEditor?.commitOrRemove()}hasSomethingToControl(){return this.#activeEditor||this.hasSelection}#selectEditors(e){for(var t of this.#selectedEditors)t.unselect();this.#selectedEditors.clear();for(var r of e)r.isEmpty()||(this.#selectedEditors.add(r),r.select());this.#dispatchUpdateStates({hasSelectedEditor:this.hasSelection})}selectAll(){for(var e of this.#selectedEditors)e.commit();this.#selectEditors(this.#allEditors.values())}unselectAll(){if((!this.#activeEditor||(this.#activeEditor.commitOrRemove(),this.#mode===m.NONE))&&this.hasSelection){for(var e of this.#selectedEditors)e.unselect();this.#selectedEditors.clear(),this.#dispatchUpdateStates({hasSelectedEditor:!1})}}translateSelectedEditors(e,i,t=!1){if(t||this.commitOrRemove(),this.hasSelection){this.#translation[0]+=e,this.#translation[1]+=i;let[t,r]=this.#translation,a=[...this.#selectedEditors];var o;this.#translationTimeoutId&&clearTimeout(this.#translationTimeoutId),this.#translationTimeoutId=setTimeout(()=>{this.#translationTimeoutId=null,this.#translation[0]=this.#translation[1]=0,this.addCommands({cmd:()=>{for(var e of a)this.#allEditors.has(e.id)&&e.translateInPage(t,r)},undo:()=>{for(var e of a)this.#allEditors.has(e.id)&&e.translateInPage(-t,-r)},mustExec:!1})},1e3);for(o of a)o.translateInPage(e,i)}}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#draggingEditors=new Map;for(var e of this.#selectedEditors)this.#draggingEditors.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#draggingEditors)return!1;this.disableUserSelect(!1);let i=this.#draggingEditors,e=(this.#draggingEditors=null,!1);for(var[{x:t,y:r,pageIndex:a},o]of i)o.newX=t,o.newY=r,o.newPageIndex=a,e||=t!==o.savedX||r!==o.savedY||a!==o.savedPageIndex;if(!e)return!1;let n=(e,t,r,a)=>{var i;this.#allEditors.has(e.id)&&((i=this.#allLayers.get(a))?e._setParentAndPosition(i,t,r):(e.pageIndex=a,e.x=t,e.y=r))};return this.addCommands({cmd:()=>{for(var[e,{newX:t,newY:r,newPageIndex:a}]of i)n(e,t,r,a)},undo:()=>{for(var[e,{savedX:t,savedY:r,savedPageIndex:a}]of i)n(e,t,r,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#draggingEditors)for(var r of this.#draggingEditors.keys())r.drag(e,t)}rebuild(e){var t;null===e.parent?(t=this.getLayer(e.pageIndex))?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild()):e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#selectedEditors.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#activeEditor===e}getActive(){return this.#activeEditor}getMode(){return this.#mode}get imageManager(){return o(this,"imageManager",new Hg)}getSelectionBoxes(r){if(!r)return null;var a=document.getSelection();for(let e=0,t=a.rangeCount;e<t;e++)if(!r.contains(a.getRangeAt(e).commonAncestorContainer))return null;let{x:i,y:o,width:n,height:s}=r.getBoundingClientRect(),l;switch(r.getAttribute("data-main-rotation")){case"90":l=(e,t,r,a)=>({x:(t-o)/s,y:1-(e+r-i)/n,width:a/s,height:r/n});break;case"180":l=(e,t,r,a)=>({x:1-(e+r-i)/n,y:1-(t+a-o)/s,width:r/n,height:a/s});break;case"270":l=(e,t,r,a)=>({x:1-(t+a-o)/s,y:(e-i)/n,width:a/s,height:r/n});break;default:l=(e,t,r,a)=>({x:(e-i)/n,y:(t-o)/s,width:r/n,height:a/s})}var d=[];for(let e=0,t=a.rangeCount;e<t;e++){var c=a.getRangeAt(e);if(!c.collapsed)for(var{x:g,y:m,width:p,height:u}of c.getClientRects())0!==p&&0!==u&&d.push(l(g,m,p,u))}return 0===d.length?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#changedExistingAnnotations||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#changedExistingAnnotations?.delete(e)}renderAnnotationElement(e){var t=this.#changedExistingAnnotations?.get(e.data.id);(t=t&&this.#annotationStorage.getRawValue(t))&&(this.#mode!==m.NONE||t.hasBeenModified)&&t.renderAnnotationElement(e)}}class Ug{#altText="";#altTextDecorative=!1;#altTextButton=null;#altTextTooltip=null;#altTextTooltipTimeout=null;#altTextWasFromKeyBoard=!1;#editor=null;static _l10nPromise=null;constructor(e){this.#editor=e}static initialize(e){Ug._l10nPromise||=e}async render(){let t=this.#altTextButton=document.createElement("button");t.className="altText";var e=await Ug._l10nPromise.get("pdfjs-editor-alt-text-button-label"),e=(t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0",this.#editor._uiManager._signal);t.addEventListener("contextmenu",Xg,{signal:e}),t.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:e});let r=e=>{e.preventDefault(),this.#editor._uiManager.editAltText(this.#editor)};return t.addEventListener("click",r,{capture:!0,signal:e}),t.addEventListener("keydown",e=>{e.target===t&&"Enter"===e.key&&(this.#altTextWasFromKeyBoard=!0,r(e))},{signal:e}),await this.#setState(),t}finish(){this.#altTextButton&&(this.#altTextButton.focus({focusVisible:this.#altTextWasFromKeyBoard}),this.#altTextWasFromKeyBoard=!1)}isEmpty(){return!this.#altText&&!this.#altTextDecorative}get data(){return{altText:this.#altText,decorative:this.#altTextDecorative}}set data({altText:e,decorative:t}){this.#altText===e&&this.#altTextDecorative===t||(this.#altText=e,this.#altTextDecorative=t,this.#setState())}toggle(e=!1){this.#altTextButton&&(!e&&this.#altTextTooltipTimeout&&(clearTimeout(this.#altTextTooltipTimeout),this.#altTextTooltipTimeout=null),this.#altTextButton.disabled=!e)}destroy(){this.#altTextButton?.remove(),this.#altTextButton=null,this.#altTextTooltip=null}async#setState(){let t=this.#altTextButton;if(t)if(this.#altText||this.#altTextDecorative){t.classList.add("done"),Ug._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(e=>{t.setAttribute("aria-label",e)});let e=this.#altTextTooltip;if(!e){this.#altTextTooltip=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip");var r=e.id="alt-text-tooltip-"+this.#editor.id;t.setAttribute("aria-describedby",r);r=this.#editor._uiManager._signal;r.addEventListener("abort",()=>{clearTimeout(this.#altTextTooltipTimeout),this.#altTextTooltipTimeout=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#altTextTooltipTimeout=setTimeout(()=>{this.#altTextTooltipTimeout=null,this.#altTextTooltip.classList.add("show"),this.#editor._reportTelemetry({action:"alt_text_tooltip"})},100)},{signal:r}),t.addEventListener("mouseleave",()=>{this.#altTextTooltipTimeout&&(clearTimeout(this.#altTextTooltipTimeout),this.#altTextTooltipTimeout=null),this.#altTextTooltip?.classList.remove("show")},{signal:r})}e.innerText=this.#altTextDecorative?await Ug._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#altText,e.parentNode||t.append(e),this.#editor.getImageForAltText()?.setAttribute("aria-describedby",e.id)}else t.classList.remove("done"),this.#altTextTooltip?.remove()}}class J{#accessibilityData=null;#allResizerDivs=null;#altText=null;#disabled=!1;#keepAspectRatio=!1;#resizersDiv=null;#savedDimensions=null;#boundFocusin=this.focusin.bind(this);#boundFocusout=this.focusout.bind(this);#editToolbar=null;#focusedResizerName="";#hasBeenClicked=!1;#initialPosition=null;#isEditing=!1;#isInEditMode=!1;#isResizerEnabledForKeyboard=!1;#moveInDOMTimeout=null;#prevDragX=0;#prevDragY=0;#telemetryTimeouts=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#isDraggable=!1;#zIndex=J._zIndex++;static _borderLineWidth=-1;static _colorManager=new Vg;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){var e=J.prototype._resizeWithKeyboard,t=zg.TRANSLATE_SMALL,r=zg.TRANSLATE_BIG;return o(this,"_resizerKeyboardManager",new Bg([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],J.prototype._stopResizingWithKeyboard]]))}constructor(e){this.constructor===J&&Nc("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;var{rotation:t,rawDims:{pageWidth:r,pageHeight:a,pageX:i,pageY:o}}=this.parent.viewport,[t,r]=(this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,a],this.pageTranslation=[i,o],this.parentDimensions);this.x=e.x/t,this.y=e.y/r,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return o(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){var t=new jg({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(t,e,r){if(J._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(e=>[e,t.get(e.replaceAll(/([A-Z])/g,e=>"-"+e.toLowerCase()))])),r?.strings)for(var a of r.strings)J._l10nPromise.set(a,t.get(a));-1===J._borderLineWidth&&(r=getComputedStyle(document.documentElement),J._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0)}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Nc("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#isDraggable}set _isDraggable(e){this.#isDraggable=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){var[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#zIndex}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#stopResizing(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#hasBeenClicked?this.#hasBeenClicked=!1:this.parent.setSelected(this))}focusout(e){this._focusEventsAllowed&&this.isAttachedToDOM&&!e.relatedTarget?.closest("#"+this.id)&&(e.preventDefault(),!this.parent?.isMultipleSelection)&&this.commitOrRemove()}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,a){var[i,o]=this.parentDimensions;[r,a]=this.screenToPageTranslation(r,a),this.x=(e+r)/i,this.y=(t+a)/o,this.fixAndSetPosition()}#translate([e,t],r,a){[r,a]=this.screenToPageTranslation(r,a),this.x+=r/e,this.y+=a/t,this.fixAndSetPosition()}translate(e,t){this.#translate(this.parentDimensions,e,t)}translateInPage(e,t){this.#initialPosition||=[this.x,this.y],this.#translate(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#initialPosition||=[this.x,this.y];var[r,a]=this.parentDimensions;if(this.x+=e/r,this.y+=t/a,this.parent&&(this.x<0||1<this.x||this.y<0||1<this.y)){let{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:o}=this;var[e,r]=this.getBaseTranslation();i+=e,o+=r,this.div.style.left=(100*i).toFixed(2)+"%",this.div.style.top=(100*o).toFixed(2)+"%",this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#initialPosition&&(this.#initialPosition[0]!==this.x||this.#initialPosition[1]!==this.y)}getBaseTranslation(){var[e,t]=this.parentDimensions,r=J._borderLineWidth,a=r/e,i=r/t;switch(this.rotation){case 90:return[-a,i];case 180:return[a,i];case 270:return[a,-i];default:return[-a,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){var[t,r]=this.pageDimensions;let{x:a,y:i,width:o,height:n}=this;if(o*=t,n*=r,a*=t,i*=r,this._mustFixPosition)switch(e){case 0:a=Math.max(0,Math.min(t-o,a)),i=Math.max(0,Math.min(r-n,i));break;case 90:a=Math.max(0,Math.min(t-n,a)),i=Math.min(r,Math.max(o,i));break;case 180:a=Math.min(t,Math.max(o,a)),i=Math.min(r,Math.max(n,i));break;case 270:a=Math.min(t,Math.max(n,a)),i=Math.max(0,Math.min(r-o,i))}this.x=a/=t,this.y=i/=r;var[e,s]=this.getBaseTranslation(),e=(a+=e,i+=s,this.div).style;e.left=(100*a).toFixed(2)+"%",e.top=(100*i).toFixed(2)+"%",this.moveInDOM()}static#rotatePoint(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return J.#rotatePoint(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return J.#rotatePoint(e,t,360-this.parentRotation)}#getRotationMatrix(e){switch(e){case 90:var[t,r]=this.pageDimensions;return[0,-t/r,r/t,0];case 180:return[-1,0,0,-1];case 270:var[r,t]=this.pageDimensions;return[0,r/t,-t/r,0];default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){var{parentScale:e,pageDimensions:[t,r]}=this,t=t*e,r=r*e;return og.isCSSRoundSupported?[Math.round(t),Math.round(r)]:[t,r]}setDims(e,t){var[r,a]=this.parentDimensions;this.div.style.width=(100*e/r).toFixed(2)+"%",this.#keepAspectRatio||(this.div.style.height=(100*t/a).toFixed(2)+"%")}fixDims(){var e,t,r=this.div.style,{height:a,width:i}=r,o=i.endsWith("%"),n=!this.#keepAspectRatio&&a.endsWith("%");o&&n||([e,t]=this.parentDimensions,o||(r.width=(100*parseFloat(i)/e).toFixed(2)+"%"),this.#keepAspectRatio)||n||(r.height=(100*parseFloat(a)/t).toFixed(2)+"%")}getInitialTranslation(){return[0,0]}#createResizers(){if(!this.#resizersDiv){this.#resizersDiv=document.createElement("div"),this.#resizersDiv.classList.add("resizers");var e,t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(e of t){var a=document.createElement("div");this.#resizersDiv.append(a),a.classList.add("resizer",e),a.setAttribute("data-resizer-name",e),a.addEventListener("pointerdown",this.#resizerPointerdown.bind(this,e),{signal:r}),a.addEventListener("contextmenu",Xg,{signal:r}),a.tabIndex=-1}this.div.prepend(this.#resizersDiv)}}#resizerPointerdown(c,g){g.preventDefault();var m=og.platform.isMac;if(!(0!==g.button||g.ctrlKey&&m)){this.#altText?.toggle(!1);let e=this.#resizerPointermove.bind(this,c),t=this._isDraggable;this._isDraggable=!1;m=this._uiManager._signal;let r={passive:!0,capture:!0,signal:m},a=(this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",e,r),window.addEventListener("contextmenu",Xg,{signal:m}),this.x),i=this.y,o=this.width,n=this.height,s=this.parent.div.style.cursor,l=this.div.style.cursor,d=(this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(g.target).cursor,()=>{this.parent.togglePointerEvents(!0),this.#altText?.toggle(!0),this._isDraggable=t,window.removeEventListener("pointerup",d),window.removeEventListener("blur",d),window.removeEventListener("pointermove",e,r),window.removeEventListener("contextmenu",Xg),this.parent.div.style.cursor=s,this.div.style.cursor=l,this.#addResizeToUndoStack(a,i,o,n)});window.addEventListener("pointerup",d,{signal:m}),window.addEventListener("blur",d,{signal:m})}}#addResizeToUndoStack(r,a,i,o){let n=this.x,s=this.y,l=this.width,d=this.height;n===r&&s===a&&l===i&&d===o||this.addCommands({cmd:()=>{this.width=l,this.height=d,this.x=n,this.y=s;var[e,t]=this.parentDimensions;this.setDims(e*l,t*d),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=o,this.x=r,this.y=a;var[e,t]=this.parentDimensions;this.setDims(e*i,t*o),this.fixAndSetPosition()},mustExec:!0})}#resizerPointermove(e,t){var[r,a]=this.parentDimensions,i=this.x,o=this.y,n=this.width,s=this.height,l=J.MIN_SIZE/r,d=J.MIN_SIZE/a,c=e=>Math.round(1e4*e)/1e4;let g=this.#getRotationMatrix(this.rotation);var m=(e,t)=>[g[0]*e+g[2]*t,g[1]*e+g[3]*t];let p=this.#getRotationMatrix(360-this.rotation);let u,h,P=!1,y=!1;switch(e){case"topLeft":P=!0,u=(e,t)=>[0,0],h=(e,t)=>[e,t];break;case"topMiddle":u=(e,t)=>[e/2,0],h=(e,t)=>[e/2,t];break;case"topRight":P=!0,u=(e,t)=>[e,0],h=(e,t)=>[0,t];break;case"middleRight":y=!0,u=(e,t)=>[e,t/2],h=(e,t)=>[0,t/2];break;case"bottomRight":P=!0,u=(e,t)=>[e,t],h=(e,t)=>[0,0];break;case"bottomMiddle":u=(e,t)=>[e/2,t],h=(e,t)=>[e/2,0];break;case"bottomLeft":P=!0,u=(e,t)=>[0,t],h=(e,t)=>[e,0];break;case"middleLeft":y=!0,u=(e,t)=>[0,t/2],h=(e,t)=>[e,t/2]}var e=u(n,s),_=h(n,s),S=m(..._),i=c(i+S[0]),o=c(o+S[1]);let f=1,C=1;var[t,b]=this.screenToPageTranslation(t.movementX,t.movementY),v=([t,b]=(w=t/r,v=b/a,[p[0]*w+p[2]*v,p[1]*w+p[3]*v]),P?(w=Math.hypot(n,s),f=C=Math.max(Math.min(Math.hypot(_[0]-e[0]-t,_[1]-e[1]-b)/w,1/n,1/s),l/n,d/s)):y?f=Math.max(l,Math.min(1,Math.abs(_[0]-e[0]-t)))/n:C=Math.max(d,Math.min(1,Math.abs(_[1]-e[1]-b)))/s,c(n*f)),w=c(s*C),l=i-(S=m(...h(v,w)))[0],t=o-S[1];this.width=v,this.height=w,this.x=l,this.y=t,this.setDims(r*v,a*w),this.fixAndSetPosition()}altTextFinish(){this.#altText?.finish()}async addEditToolbar(){return this.#editToolbar||this.#isInEditMode||(this.#editToolbar=new $g(this),this.div.append(this.#editToolbar.render()),this.#altText&&this.#editToolbar.addAltTextButton(await this.#altText.render())),this.#editToolbar}removeEditToolbar(){this.#editToolbar&&(this.#editToolbar.remove(),this.#editToolbar=null,this.#altText?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#altText||(Ug.initialize(J._l10nPromise),this.#altText=new Ug(this),this.#accessibilityData&&(this.#altText.data=this.#accessibilityData,this.#accessibilityData=null),await this.addEditToolbar())}get altTextData(){return this.#altText?.data}set altTextData(e){this.#altText&&(this.#altText.data=e)}hasAltText(){return!this.#altText?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#disabled?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();var e=this._uiManager._signal,[e,t]=(this.div.addEventListener("focusin",this.#boundFocusin,{signal:e}),this.div.addEventListener("focusout",this.#boundFocusout,{signal:e}),this.parentDimensions),[e,t]=(this.parentRotation%180!=0&&(this.div.style.maxWidth=(100*t/e).toFixed(2)+"%",this.div.style.maxHeight=(100*e/t).toFixed(2)+"%"),this.getInitialTranslation());return this.translate(e,t),Og(this,this.div,["pointerdown"]),this.div}pointerdown(e){var t=og.platform.isMac;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#hasBeenClicked=!0,this._isDraggable?this.#setUpDragSession(e):this.#selectOnPointerEvent(e))}#selectOnPointerEvent(e){var t=og.platform.isMac;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#setUpDragSession(e){let t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,a;var i=this._uiManager._signal;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:i},this.#prevDragX=e.clientX,this.#prevDragY=e.clientY,a=e=>{var{clientX:e,clientY:t}=e,[r,a]=this.screenToPageTranslation(e-this.#prevDragX,t-this.#prevDragY);this.#prevDragX=e,this.#prevDragY=t,this._uiManager.dragSelectedEditors(r,a)},window.addEventListener("pointermove",a,r));let o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",a,r)),this.#hasBeenClicked=!1,this._uiManager.endDragSession()||this.#selectOnPointerEvent(e)};window.addEventListener("pointerup",o,{signal:i}),window.addEventListener("blur",o,{signal:i})}moveInDOM(){this.#moveInDOMTimeout&&clearTimeout(this.#moveInDOMTimeout),this.#moveInDOMTimeout=setTimeout(()=>{this.#moveInDOMTimeout=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){var a=this.parentScale,[i,o]=this.pageDimensions,[n,s]=this.pageTranslation,l=e/a,d=t/a,c=this.x*i,g=this.y*o,m=this.width*i,p=this.height*o;switch(r){case 0:return[c+l+n,o-g-d-p+s,c+l+m+n,o-g-d+s];case 90:return[c+d+n,o-g+l+s,c+d+p+n,o-g+l+m+s];case 180:return[c-l-m+n,o-g+d+s,c-l+n,o-g+d+p+s];case 270:return[c-d-p+n,o-g-l-m+s,c-d+n,o-g-l+s];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){var[r,a,i,o]=e,n=i-r,s=o-a;switch(this.rotation){case 0:return[r,t-o,n,s];case 90:return[r,t-a,s,n];case 180:return[i,t-a,n,s];case 270:return[i,t-o,s,n];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#isInEditMode=!0}disableEditMode(){this.#isInEditMode=!1}isInEditMode(){return this.#isInEditMode}shouldGetKeyboardEvents(){return this.#isResizerEnabledForKeyboard}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e=this._uiManager._signal;this.div?.addEventListener("focusin",this.#boundFocusin,{signal:e}),this.div?.addEventListener("focusout",this.#boundFocusout,{signal:e})}rotate(e){}serialize(e=0,t){Nc("An editor must be serializable")}static deserialize(e,t,r){var t=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r}),[r,a]=(t.rotation=e.rotation,t.#accessibilityData=e.accessibilityData,t.pageDimensions),[e,i,o,n]=t.getRectInCurrentCoords(e.rect,a);return t.x=e/r,t.y=i/a,t.width=o/r,t.height=n/a,t}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",this.#boundFocusin),this.div.removeEventListener("focusout",this.#boundFocusout),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#moveInDOMTimeout&&(clearTimeout(this.#moveInDOMTimeout),this.#moveInDOMTimeout=null),this.#stopResizing(),this.removeEditToolbar(),this.#telemetryTimeouts){for(var e of this.#telemetryTimeouts.values())clearTimeout(e);this.#telemetryTimeouts=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#createResizers(),this.#resizersDiv.classList.remove("hidden"),Og(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(this.isResizable&&e.target===this.div&&"Enter"===e.key){this._uiManager.setSelected(this),this.#savedDimensions={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};var r=this.#resizersDiv.children;if(!this.#allResizerDivs){this.#allResizerDivs=Array.from(r);var a=this.#resizerKeydown.bind(this),i=this.#resizerBlur.bind(this),o=this._uiManager._signal;for(let t of this.#allResizerDivs){var n=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",a,{signal:o}),t.addEventListener("blur",i,{signal:o}),t.addEventListener("focus",this.#resizerFocus.bind(this,n),{signal:o}),J._l10nPromise.get("pdfjs-editor-resizer-label-"+n).then(e=>t.setAttribute("aria-label",e))}}var s,l=this.#allResizerDivs[0];let t=0;for(s of r){if(s===l)break;t++}var d=(360-this.rotation+this.parentRotation)%360/90*(this.#allResizerDivs.length/4);if(d!==t){if(d<t)for(let e=0;e<t-d;e++)this.#resizersDiv.append(this.#resizersDiv.firstChild);else if(d>t)for(let e=0;e<d-t;e++)this.#resizersDiv.firstChild.before(this.#resizersDiv.lastChild);let e=0;for(let t of r){var c=this.#allResizerDivs[e++].getAttribute("data-resizer-name");J._l10nPromise.get("pdfjs-editor-resizer-label-"+c).then(e=>t.setAttribute("aria-label",e))}}this.#setResizerTabIndex(0),this.#isResizerEnabledForKeyboard=!0,this.#resizersDiv.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}}#resizerKeydown(e){J._resizerKeyboardManager.exec(this,e)}#resizerBlur(e){this.#isResizerEnabledForKeyboard&&e.relatedTarget?.parentNode!==this.#resizersDiv&&this.#stopResizing()}#resizerFocus(e){this.#focusedResizerName=this.#isResizerEnabledForKeyboard?e:""}#setResizerTabIndex(e){if(this.#allResizerDivs)for(var t of this.#allResizerDivs)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#isResizerEnabledForKeyboard&&this.#resizerPointermove(this.#focusedResizerName,{movementX:e,movementY:t})}#stopResizing(){var e,t,r,a;this.#isResizerEnabledForKeyboard=!1,this.#setResizerTabIndex(-1),this.#savedDimensions&&({savedX:e,savedY:t,savedWidth:r,savedHeight:a}=this.#savedDimensions,this.#addResizeToUndoStack(e,t,r,a),this.#savedDimensions=null)}_stopResizingWithKeyboard(){this.#stopResizing(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.#editToolbar?this.#editToolbar?.show():this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this.#editToolbar?.show()})}unselect(){this.#resizersDiv?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#editToolbar?.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#isEditing}set isEditing(e){this.#isEditing=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#keepAspectRatio=!0;var r=this.div.style;r.aspectRatio=e/t,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,r=!1){if(r){this.#telemetryTimeouts||=new Map;let e=t.action;r=this.#telemetryTimeouts.get(e);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#telemetryTimeouts.delete(e),0===this.#telemetryTimeouts.size&&(this.#telemetryTimeouts=null)},J._telemetryTimeout),void this.#telemetryTimeouts.set(e,r)}else t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#disabled=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#disabled=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");var r;return t?"CANVAS"===t.nodeName&&(r=t,(t=document.createElement("div")).classList.add("annotationContent",this.editorType),r.before(t)):((t=document.createElement("div")).classList.add("annotationContent",this.editorType),e.container.prepend(t)),t}resetAnnotationElement(e){e=e.container.firstChild;"DIV"===e.nodeName&&e.classList.contains("annotationContent")&&e.remove()}}class jg extends J{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}let Wg=3285377520,Zg=4294901760,qg=65535;class Yg{constructor(e){this.h1=e?4294967295&e:Wg,this.h2=e?4294967295&e:Wg}update(r){let a,i;if("string"==typeof r){a=new Uint8Array(2*r.length);for(let e=i=0,t=r.length;e<t;e++){var o=r.charCodeAt(e);o<=255?a[i++]=o:(a[i++]=o>>>8,a[i++]=255&o)}}else{if(!ArrayBuffer.isView(r))throw new Error("Invalid data format, must be a string or TypedArray.");a=r.slice(),i=a.byteLength}var t=i>>2,e=i-4*t,n=new Uint32Array(a.buffer,0,t);let s=0,l,d=this.h1,c=this.h2;var g=3432918353,m=461845907;for(let e=0;e<t;e++)1&e?(s=(s=(s=(s=n[e])*g&Zg|11601*s&qg)<<15|s>>>17)*m&Zg|13715*s&qg,d=5*(d=(d^=s)<<13|d>>>19)+3864292196):(l=(l=(l=(l=n[e])*g&Zg|11601*l&qg)<<15|l>>>17)*m&Zg|13715*l&qg,c=5*(c=(c^=l)<<13|c>>>19)+3864292196);switch(s=0,e){case 3:s^=a[4*t+2]<<16;case 2:s^=a[4*t+1]<<8;case 1:s=(s=(s=(s^=a[4*t])*g&Zg|11601*s&qg)<<15|s>>>17)*m&Zg|13715*s&qg,1&t?d^=s:c^=s}this.h1=d,this.h2=c}hexdigest(){var e=this.h1,t=this.h2,e=3981806797*(e^=t>>>1)&Zg|36045*e&qg;return e=444984403*(e^=(t=4283543511*t&Zg|(2950163797*(t<<16|e>>>16)&Zg)>>>16)>>>1)&Zg|60499*e&qg,((e^=(t=3301882366*t&Zg|(3120437893*(t<<16|e>>>16)&Zg)>>>16)>>>1)>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}let Kg=Object.freeze({map:null,hash:"",transfer:void 0});class Qg{#modified=!1;#storage=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){e=this.#storage.get(e);return void 0===e?t:Object.assign(t,e)}getRawValue(e){return this.#storage.get(e)}remove(e){if(this.#storage.delete(e),0===this.#storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(var t of this.#storage.values())if(t instanceof J)return;this.onAnnotationEditor(null)}}setValue(e,t){var r=this.#storage.get(e);let a=!1;if(void 0!==r)for(var[i,o]of Object.entries(t))r[i]!==o&&(a=!0,r[i]=o);else a=!0,this.#storage.set(e,t);a&&this.#setModified(),t instanceof J&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#storage.has(e)}getAll(){return 0<this.#storage.size?ig(this.#storage):null}setAll(e){for(var[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return this.#storage.size}#setModified(){this.#modified||(this.#modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#modified&&(this.#modified=!1,"function"==typeof this.onResetModified)&&this.onResetModified()}get print(){return new em(this)}get serializable(){if(0===this.#storage.size)return Kg;var e,t,r=new Map,a=new Yg,i=[],o=Object.create(null);let n=!1;for([e,t]of this.#storage){var s=t instanceof J?t.serialize(!1,o):t;s&&(r.set(e,s),a.update(e+":"+JSON.stringify(s)),n||=!!s.bitmap)}if(n)for(var l of r.values())l.bitmap&&i.push(l.bitmap);return 0<r.size?{map:r,hash:a.hexdigest(),transfer:i}:Kg}get editorStats(){let e=null;var t,r,a,i=new Map;for(t of this.#storage.values())if(t instanceof J){var o=t.telemetryFinalData;if(o){var n,s,l=o.type,d=(i.has(l)||i.set(l,Object.getPrototypeOf(t).constructor),(e||=Object.create(null))[l]||=new Map);for([n,s]of Object.entries(o))if("type"!==n){let e=d.get(n);e||(e=new Map,d.set(n,e));var c=e.get(s)??0;e.set(s,c+1)}}}for([r,a]of i)e[r]=a.computeTelemetryFinalData(e[r]);return e}}class em extends Qg{#serializable;constructor(e){super();var{map:e,hash:t,transfer:r}=e.serializable,e=structuredClone(e,r?{transfer:r}:null);this.#serializable={map:e,hash:t,transfer:r}}get print(){Nc("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#serializable}}class tm{#systemFonts=new Set;constructor({ownerDocument:e=globalThis.document}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));var t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(var e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#systemFonts.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(e&&!this.#systemFonts.has(e.loadedName))if(Bc(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){var{loadedName:r,src:a,style:i}=e,a=new FontFace(r,a,i);this.addNativeFontFace(a);try{await a.load(),this.#systemFonts.add(r),t?.(e)}catch{S(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}}else Nc("Not implemented: loadSystemFont without the Font Loading API.")}async bind(t){if(!(t.attached||t.missingFile&&!t.systemFontInfo))if(t.attached=!0,t.systemFontInfo)await this.loadSystemFont(t);else if(this.isFontLoadingAPISupported){var r=t.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(e){throw S(`Failed to load font '${r.family}': '${e}'.`),t.disableFontFace=!0,e}}}else{r=t.createFontFaceRule();r&&(this.insertRule(r),this.isSyncFontLoadingSupported||await new Promise(e=>{e=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,e)}))}}get isFontLoadingAPISupported(){return o(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let e=!1;return o(this,"isSyncFontLoadingSupported",e=Gc||"undefined"!=typeof navigator&&"string"==typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent)?!0:e)}_queueLoadingCallback(e){let t=this.loadingRequests,r={done:!1,complete:function(){for(Bc(!r.done,"completeRequest() cannot be called twice."),r.done=!0;0<t.length&&t[0].done;){var e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(r),r}get _loadTestFont(){return o(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function a(e,t,r,a){return e.substring(0,t)+a+e.substring(t+r)}let i,o;var n=this._document.createElement("canvas");n.width=1,n.height=1;let s=n.getContext("2d"),l=0;function d(e,t){30<++l?(S("Load test font never loaded."),t()):(s.font="30px "+e,s.fillText(".",0,20),0<s.getImageData(0,0,1,1).data[3]?t():setTimeout(d.bind(null,e,t)))}var c="lt"+Date.now()+this.loadTestFontId++;let g=r(n=a(this._loadTestFont,976,c.length,c),16);for(i=0,o=c.length-3;i<o;i+=4)g=g-1482184792+r(c,i)|0;i<c.length&&(g=g-1482184792+r(c+"XXX",i)|0),n=a(n,16,4,(p=g,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));var m,p=`url(data:font/opentype;base64,${btoa(n)});`;this.insertRule(`@font-face {font-family:"${c}";src:${p}}`);let u=this._document.createElement("div");u.style.visibility="hidden",u.style.width=u.style.height="10px",u.style.position="absolute",u.style.top=u.style.left="0px";for(m of[e.loadedName,c]){var h=this._document.createElement("span");h.textContent="Hi",h.style.fontFamily=m,u.append(h)}this._document.body.append(u),d(c,()=>{u.remove(),t.complete()})}}class rm{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){for(var a in this.compiledGlyphs=Object.create(null),e)this[a]=e[a];this.disableFontFace=!0===t,this._inspectFont=r}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;var t;return e=this.cssFontInfo?(t={weight:this.cssFontInfo.fontWeight},this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),new FontFace(this.cssFontInfo.fontFamily,this.data,t)):new FontFace(this.loadedName,this.data,{}),this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;var t=rg(this.data),t=`url(data:${this.mimetype};base64,${btoa(t)});`;let r;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),r}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let s;try{s=e.get(this.loadedName+"_path_"+t)}catch(e){S(`getPathGenerator - ignoring character: "${e}".`)}if(!Array.isArray(s)||0===s.length)return this.compiledGlyphs[t]=function(e,t){};let l=[];for(let e=0,t=s.length;e<t;)switch(s[e++]){case cg.BEZIER_CURVE_TO:{let[t,r,a,i,o,n]=s.slice(e,e+6);l.push(e=>e.bezierCurveTo(t,r,a,i,o,n)),e+=6}break;case cg.MOVE_TO:{let[t,r]=s.slice(e,e+2);l.push(e=>e.moveTo(t,r)),e+=2}break;case cg.LINE_TO:{let[t,r]=s.slice(e,e+2);l.push(e=>e.lineTo(t,r)),e+=2}break;case cg.QUADRATIC_CURVE_TO:{let[t,r,a,i]=s.slice(e,e+4);l.push(e=>e.quadraticCurveTo(t,r,a,i)),e+=4}break;case cg.RESTORE:l.push(e=>e.restore());break;case cg.SAVE:l.push(e=>e.save());break;case cg.SCALE:Bc(2===l.length,"Scale command is only valid at the third position.");break;case cg.TRANSFORM:{let[t,r,a,i,o,n]=s.slice(e,e+6);l.push(e=>e.transform(t,r,a,i,o,n)),e+=6}break;case cg.TRANSLATE:{let[t,r]=s.slice(e,e+2);l.push(e=>e.translate(t,r)),e+=2}}return this.compiledGlyphs[t]=function(r,e){l[0](r),l[1](r),r.scale(e,-e);for(let e=2,t=l.length;e<t;e++)l[e](r)}}}Gc&&(Vc=Promise.withResolvers(),zc=null,(async()=>{var e=await import("./_node-resolve_empty-gSkQxbSw.js"),t=await import("./_node-resolve_empty-gSkQxbSw.js"),r=await import("./_node-resolve_empty-gSkQxbSw.js"),a=await import("./_node-resolve_empty-gSkQxbSw.js");return new Map(Object.entries({fs:e,http:t,https:r,url:a,canvas:void 0,path2d:void 0}))})().then(e=>{zc=e,Vc.resolve()},e=>{S("loadPackages: "+e),zc=new Map,Vc.resolve()}));class am{static get promise(){return Vc.promise}static get(e){return zc?.get(e)}}function im(e){return am.get("fs").promises.readFile(e).then(e=>new Uint8Array(e))}class om extends gg{}class nm extends mg{_createCanvas(e,t){return am.get("canvas").createCanvas(e,t)}}class sm extends pg{_fetchData(e,t){return im(e).then(e=>({cMapData:e,compressionType:t}))}}class lm extends ug{_fetchData(e){return im(e)}}let dm={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function cm(e,t){var r,a,i;t&&(r=t[2]-t[0],a=t[3]-t[1],(i=new Path2D).rect(t[0],t[1],r,a),e.clip(i))}class gm{constructor(){this.constructor===gm&&Nc("Cannot initialize BaseShadingPattern.")}getPattern(){Nc("Abstract method `getPattern` called.")}}class mm extends gm{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(var r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,a){let i;var o,n;return a===dm.STROKE||a===dm.FILL?(a=t.current.getClippedPathBoundingBox(a,Mg(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,n=Math.ceil(a[3]-a[1])||1,(n=(o=t.cachedCanvases.getCanvas("pattern",o,n,!0)).context).clearRect(0,0,n.canvas.width,n.canvas.height),n.beginPath(),n.rect(0,0,n.canvas.width,n.canvas.height),n.translate(-a[0],-a[1]),r=f.transform(r,[1,0,0,1,a[0],a[1]]),n.transform(...t.baseTransform),this.matrix&&n.transform(...this.matrix),cm(n,this._bbox),n.fillStyle=this._createGradient(n),n.fill(),i=e.createPattern(o.canvas,"no-repeat"),a=new DOMMatrix(r),i.setTransform(a)):(cm(e,this._bbox),i=this._createGradient(e)),i}}function pm(e,t,r,a,i,l,d,c){var o=t.coords,g=t.colors,m=e.data,p=4*e.width;let n;o[r+1]>o[a+1]&&(n=r,r=a,a=n,n=l,l=d,d=n),o[i+1]<o[a+1]&&(n=a,a=i,i=n,n=d,d=c,c=n),o[a+1]<o[r+1]&&(n=r,r=a,a=n,n=l,l=d,d=n);var u=(o[r]+t.offsetX)*t.scaleX,h=(o[r+1]+t.offsetY)*t.scaleY,P=(o[a]+t.offsetX)*t.scaleX,y=(o[a+1]+t.offsetY)*t.scaleY,_=(o[i]+t.offsetX)*t.scaleX,S=(o[i+1]+t.offsetY)*t.scaleY;if(!(S<=h)){var f=g[l],C=g[l+1],b=g[l+2],v=g[d],w=g[d+1],J=g[d+2],G=g[c],A=g[c+1],T=g[c+2],e=Math.round(h),X=Math.round(S);let i,o,n,s;for(let a=e;a<=X;a++){if(a<y){var k=a<h?0:(h-a)/(h-y);i=u-(u-P)*k,o=f-(f-v)*k,n=C-(C-w)*k,s=b-(b-J)*k}else{let e;e=a>S?1:y==S?0:(y-a)/(y-S),i=P-(P-_)*e,o=v-(v-G)*e,n=w-(w-A)*e,s=J-(J-T)*e}let t;var x=u-(u-_)*(t=a<h?0:a>S?1:(h-a)/(h-S)),L=f-(f-G)*t,E=C-(C-A)*t,M=b-(b-T)*t,k=Math.round(Math.min(i,x)),I=Math.round(Math.max(i,x));let r=p*a+4*k;for(let e=k;e<=I;e++)(t=(i-e)/(i-x))<0?t=0:1<t&&(t=1),m[r++]=o-(o-L)*t|0,m[r++]=n-(n-E)*t|0,m[r++]=s-(s-M)*t|0,m[r++]=255}}}class um extends gm{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,r,t){var a,i=Math.floor(this._bounds[0]),o=Math.floor(this._bounds[1]),n=Math.ceil(this._bounds[2])-i,s=Math.ceil(this._bounds[3])-o,l=Math.min(Math.ceil(Math.abs(n*e[0]*1.1)),3e3),e=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),n=n/l,s=s/e,d={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-o,scaleX:1/n,scaleY:1/s},t=t.getCanvas("mesh",l+4,e+4,!1),c=t.context,g=c.createImageData(l,e);if(r){var m=g.data;for(let e=0,t=m.length;e<t;e+=4)m[e]=r[0],m[e+1]=r[1],m[e+2]=r[2],m[e+3]=255}for(a of this._figures){p=void 0;u=void 0;h=void 0;P=void 0;y=void 0;_=void 0;S=void 0;f=void 0;var p=g;var u=a;var h=d;var P=u.coords,y=u.colors;let e,t;switch(u.type){case"lattice":var _=u.verticesPerRow,S=Math.floor(P.length/_)-1,f=_-1;for(e=0;e<S;e++){let t=e*_;for(let e=0;e<f;e++,t++)pm(p,h,P[t],P[t+1],P[t+_],y[t],y[t+1],y[t+_]),pm(p,h,P[t+_+1],P[t+1],P[t+_],y[t+_+1],y[t+1],y[t+_])}break;case"triangles":for(e=0,t=P.length;e<t;e+=3)pm(p,h,P[e],P[e+1],P[e+2],y[e],y[e+1],y[e+2]);break;default:throw new Error("illegal figure")}}return c.putImageData(g,2,2),{canvas:t.canvas,offsetX:i-2*n,offsetY:o-2*s,scaleX:n,scaleY:s}}getPattern(e,t,r,a){cm(e,this._bbox);let i;a===dm.SHADING?i=f.singularValueDecompose2dScale(Mg(e)):(i=f.singularValueDecompose2dScale(t.baseTransform),this.matrix&&(o=f.singularValueDecompose2dScale(this.matrix),i=[i[0]*o[0],i[1]*o[1]]));var o=this._createMeshCanvas(i,a===dm.SHADING?null:this._background,t.cachedCanvases);return a!==dm.SHADING&&(e.setTransform(...t.baseTransform),this.matrix)&&e.transform(...this.matrix),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class hm extends gm{getPattern(){return"hotpink"}}let Pm={COLORED:1,UNCOLORED:2};class ym{static MAX_PATTERN_SIZE=3e3;constructor(e,t,r,a,i){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=a,this.baseTransform=i}createPatternCanvas(e){var t=this.operatorList,r=this.bbox,a=this.xstep,i=this.ystep,o=this.paintType,n=this.tilingType,s=this.color,l=this.canvasGraphicsFactory,n=(Hc("TilingType: "+n),r[0]),d=r[1],c=r[2],r=r[3],g=f.singularValueDecompose2dScale(this.matrix),m=f.singularValueDecompose2dScale(this.baseTransform),g=[g[0]*m[0],g[1]*m[1]],m=this.getSizeAndScale(a,this.ctx.canvas.width,g[0]),a=this.getSizeAndScale(i,this.ctx.canvas.height,g[1]),i=e.cachedCanvases.getCanvas("pattern",m.size,a.size,!0),g=i.context,l=l.createCanvasGraphics(g);l.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(l,o,s);let p=n,u=d,h=c,P=r;return n<0&&(p=0,h+=Math.abs(n)),d<0&&(u=0,P+=Math.abs(d)),g.translate(-(m.scale*p),-(a.scale*u)),l.transform(m.scale,0,0,a.scale,0,0),g.save(),this.clipBbox(l,p,u,h,P),l.baseTransform=Mg(l.ctx),l.executeOperatorList(t),l.endDrawing(),{canvas:i.canvas,scaleX:m.scale,scaleY:a.scale,offsetX:p,offsetY:u}}getSizeAndScale(e,t,r){e=Math.abs(e);t=Math.max(ym.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*r);return a>=t?a=t:r=a/e,{scale:r,size:a}}clipBbox(e,t,r,a,i){e.ctx.rect(t,r,a-t,i-r),e.current.updateRectMinMax(Mg(e.ctx),[t,r,a,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){var a=e.ctx,i=e.current;switch(t){case Pm.COLORED:var o=this.ctx;a.fillStyle=o.fillStyle,a.strokeStyle=o.strokeStyle,i.fillColor=o.fillStyle,i.strokeColor=o.strokeStyle;break;case Pm.UNCOLORED:o=f.makeHexColor(r[0],r[1],r[2]);a.fillStyle=o,a.strokeStyle=o,i.fillColor=o,i.strokeColor=o;break;default:throw new eg("Unsupported paint type: "+t)}}getPattern(e,t,r,a){let i=r;a!==dm.SHADING&&(i=f.transform(i,t.baseTransform),this.matrix)&&(i=f.transform(i,this.matrix));r=this.createPatternCanvas(t);let o=new DOMMatrix(i);o=(o=o.translate(r.offsetX,r.offsetY)).scale(1/r.scaleX,1/r.scaleY);a=e.createPattern(r.canvas,"repeat");return a.setTransform(o),a}}let _m=1e3,Sm=16;class fm{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let a;return void 0!==this.cache[e]?(a=this.cache[e],this.canvasFactory.reset(a,t,r)):(a=this.canvasFactory.create(t,r),this.cache[e]=a),a}delete(e){delete this.cache[e]}clear(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Cm(e,t,r,a,i,o,n,s,l,d){var c,g,m,p,[u,h,P,y,_,S]=Mg(e);0===h&&0===P?(c=Math.round(n*u+_),g=Math.round(s*y+S),m=Math.abs(Math.round((n+l)*u+_)-c)||1,p=Math.abs(Math.round((s+d)*y+S)-g)||1,e.setTransform(Math.sign(u),0,0,Math.sign(y),c,g),e.drawImage(t,r,a,i,o,0,0,m,p),e.setTransform(u,h,P,y,_,S)):0===u&&0===y?(c=Math.round(s*P+_),g=Math.round(n*h+S),m=Math.abs(Math.round((s+d)*P+_)-c)||1,p=Math.abs(Math.round((n+l)*h+S)-g)||1,e.setTransform(0,Math.sign(h),Math.sign(P),0,c,g),e.drawImage(t,r,a,i,o,0,0,p,m),e.setTransform(u,h,P,y,_,S)):(e.drawImage(t,r,a,i,o,n,s,l,d),Math.hypot(u,h),Math.hypot(P,y))}class bm{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Ac,this.textMatrixScale=1,this.fontMatrix=Tc,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Lc.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){var e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=f.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){var r=f.applyTransform(t,e),a=f.applyTransform(t.slice(2),e),i=f.applyTransform([t[0],t[3]],e),t=f.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],a[0],i[0],t[0]),this.minY=Math.min(this.minY,r[1],a[1],i[1],t[1]),this.maxX=Math.max(this.maxX,r[0],a[0],i[0],t[0]),this.maxY=Math.max(this.maxY,r[1],a[1],i[1],t[1])}updateScalingPathMinMax(e,t){f.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,a,i,o,n,s,l,d){t=f.bezierBoundingBox(t,r,a,i,o,n,s,l,d);d||this.updateRectMinMax(e,t)}getPathBoundingBox(e=dm.FILL,t=null){var r=[this.minX,this.minY,this.maxX,this.maxY];return e===dm.STROKE&&(t||Nc("Stroke bounding box must include transform."),t=(e=f.singularValueDecompose2dScale(t))[0]*this.lineWidth/2,e=e[1]*this.lineWidth/2,r[0]-=t,r[1]-=e,r[2]+=t,r[3]+=e),r}updateClipFromPath(){var e=f.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=dm.FILL,t=null){return f.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function vm(n,s){if("undefined"!=typeof ImageData&&s instanceof ImageData)n.putImageData(s,0,0);else{var l=s.height,d=s.width,c=l%Sm,g=(l-c)/Sm,m=0==c?g:1+g,p=n.createImageData(d,Sm);let a=0,i;var u=s.data,h=p.data;let e,t,r,o;if(s.kind===Ec.GRAYSCALE_1BPP){var P=u.byteLength,y=new Uint32Array(h.buffer,0,h.byteLength>>2),_=y.length,S=d+7>>3,f=4294967295,C=og.isLittleEndian?4278190080:255;for(e=0;e<m;e++){for(r=e<g?Sm:c,i=0,t=0;t<r;t++){var b=P-a;let e=0;var v=S<b?d:8*b-7,w=-8&v;let t=0,r=0;for(;e<w;e+=8)r=u[a++],y[i++]=128&r?f:C,y[i++]=64&r?f:C,y[i++]=32&r?f:C,y[i++]=16&r?f:C,y[i++]=8&r?f:C,y[i++]=4&r?f:C,y[i++]=2&r?f:C,y[i++]=1&r?f:C;for(;e<v;e++)0===t&&(r=u[a++],t=128),y[i++]=r&t?f:C,t>>=1}for(;i<_;)y[i++]=0;n.putImageData(p,0,e*Sm)}}else if(s.kind===Ec.RGBA_32BPP){for(t=0,o=d*Sm*4,e=0;e<g;e++)h.set(u.subarray(a,a+o)),a+=o,n.putImageData(p,0,t),t+=Sm;e<m&&(o=d*c*4,h.set(u.subarray(a,a+o)),n.putImageData(p,0,t))}else{if(s.kind!==Ec.RGB_24BPP)throw new Error("bad image kind: "+s.kind);for(r=Sm,o=d*r,e=0;e<m;e++){for(e>=g&&(r=c,o=d*r),i=0,t=o;t--;)h[i++]=u[a++],h[i++]=u[a++],h[i++]=u[a++],h[i++]=255;n.putImageData(p,0,e*Sm)}}}}function wm(r,e){if(e.bitmap)r.drawImage(e.bitmap,0,0);else{var a=e.height,i=e.width,o=a%Sm,n=(a-o)/Sm,s=0==o?n:1+n,l=r.createImageData(i,Sm);let t=0;var d=e.data,c=l.data;for(let e=0;e<s;e++){var g=e<n?Sm:o;({srcPos:t}=(({src:t,srcPos:r=0,dest:a,width:e,height:i,nonBlackColor:o,inverseDecode:n=!1})=>{var s=og.isLittleEndian?4278190080:255,[l,d]=n?[o,s]:[s,o],c=e>>3,g=7&e,m=t.length;a=new Uint32Array(a.buffer);let p=0;for(let e=0;e<i;e++){for(var u=r+c;r<u;r++){var h=r<m?t[r]:255;a[p++]=128&h?d:l,a[p++]=64&h?d:l,a[p++]=32&h?d:l,a[p++]=16&h?d:l,a[p++]=8&h?d:l,a[p++]=4&h?d:l,a[p++]=2&h?d:l,a[p++]=1&h?d:l}if(0!=g){var P=r<m?t[r++]:255;for(let e=0;e<g;e++)a[p++]=P&1<<7-e?d:l}}return{srcPos:r,destPos:p}})({src:d,srcPos:t,dest:c,width:i,height:g,nonBlackColor:0})),r.putImageData(l,0,e*Sm)}}}function Jm(e,t){var r;for(r of["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"])void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function Gm(e){var t;e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),Gc||(t=e.filter,"none"!==t&&""!==t&&(e.filter="none"))}function Am(e,t){return!!t||((t=f.singularValueDecompose2dScale(e))[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]),e=Math.fround((globalThis.devicePixelRatio||1)*Pg.PDF_TO_CSS_UNITS),t[0]<=e&&t[1]<=e)}let Tm=["butt","round","square"],Xm=["miter","round","bevel"],km={},xm={};class Lm{constructor(e,t,r,a,i,{optionalContentConfig:o,markedContentStack:n=null},s,l){this.ctx=e,this.current=new bm(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=a,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=n||[],this.optionalContentConfig=o,this.cachedCanvases=new fm(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?(e.startsWith("g_")?this.commonObjs:this.objs).get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:a=null}){var i=this.ctx.canvas.width,o=this.ctx.canvas.height,n=this.ctx.fillStyle;this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,i,o),this.ctx.fillStyle=n,r&&(a=this.cachedCanvases.getCanvas("transparent",i,o),this.compositeCtx=this.ctx,this.transparentCanvas=a.canvas,this.ctx=a.context,this.ctx.save(),this.ctx.transform(...Mg(this.compositeCtx))),this.ctx.save(),Gm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Mg(this.ctx)}executeOperatorList(e,t,r,a){var i=e.argsArray,o=e.fnArray;let n=t||0;var s=i.length;if(s===n)return n;var l=10<s-n&&"function"==typeof r,d=l?Date.now()+15:0;let c=0;for(var g,m=this.commonObjs,p=this.objs;;){if(void 0!==a&&n===a.nextBreakPoint)return a.breakIt(n,r),n;if((g=o[n])!==Fc.dependency)this[g].apply(this,i[n]);else for(var u of i[n]){var h=u.startsWith("g_")?m:p;if(!h.has(u))return h.get(u,r),n}if(++n===s)return n;if(l&&10<++c){if(Date.now()>d)return r(),n;c=0}}}#restoreInitialState(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#restoreInitialState(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(var e of this._cachedBitmapsMap.values()){for(var t of e.values())"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#drawFilter()}#drawFilter(){var e,t;this.pageColors&&"none"!==(e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background))&&(t=this.ctx.filter,this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t)}_scaleImage(r,e){var a,i,t=r.width,o=r.height;let n=Math.max(Math.hypot(e[0],e[1]),1),s=Math.max(Math.hypot(e[2],e[3]),1),l=t,d=o,c="prescale1";for(;2<n&&1<l||2<s&&1<d;){let e=l,t=d;2<n&&1<l&&(e=16384<=l?Math.floor(l/2)-1||1:Math.ceil(l/2),n/=l/e),2<s&&1<d&&(t=16384<=d?Math.floor(d/2)-1||1:Math.ceil(d)/2,s/=d/t),(i=(a=this.cachedCanvases.getCanvas(c,e,t)).context).clearRect(0,0,e,t),i.drawImage(r,0,0,l,d,0,0,e,t),r=a.canvas,l=e,d=t,c="prescale1"===c?"prescale2":"prescale1"}return{img:r,paintWidth:l,paintHeight:d}}_createMaskCanvas(e){var t=this.ctx,{width:r,height:a}=e,i=this.current.fillColor,o=this.current.patternFill,n=Mg(t);let s,l,d,c;if((e.bitmap||e.data)&&1<e.count){var g=e.bitmap||e.data.buffer,g=(l=JSON.stringify(o?n:[n.slice(0,4),i]),(s=this._cachedBitmapsMap.get(g))||(s=new Map,this._cachedBitmapsMap.set(g,s)),s.get(l));if(g&&!o){let e=Math.round(Math.min(n[0],n[2])+n[4]),t=Math.round(Math.min(n[1],n[3])+n[5]);return{canvas:g,offsetX:e,offsetY:t}}d=g}d||wm((c=this.cachedCanvases.getCanvas("maskCanvas",r,a)).context,e);var g=f.transform(n,[1/r,0,0,-1/a,0,0]),g=f.transform(g,[1,0,0,1,0,-a]),[n,m,p,u]=f.getAxialAlignedBoundingBox([0,0,r,a],g),p=Math.round(p-n)||1,u=Math.round(u-m)||1,p=this.cachedCanvases.getCanvas("fillCanvas",p,u),u=p.context;let h=n,P=m;u.translate(-h,-P),u.transform(...g),d||(d=(d=this._scaleImage(c.canvas,Ig(u))).img,s&&o&&s.set(l,d)),u.imageSmoothingEnabled=Am(Mg(u),e.interpolate),Cm(u,d,0,0,d.width,d.height,0,0,r,a),u.globalCompositeOperation="source-in";n=f.transform(Ig(u),[1,0,0,1,-h,-P]);return u.fillStyle=o?i.getPattern(t,this,n,dm.FILL):i,u.fillRect(0,0,r,a),s&&!o&&(this.cachedCanvases.delete("fillCanvas"),s.set(l,p.canvas)),{canvas:p.canvas,offsetX:Math.round(h),offsetY:Math.round(P)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Tm[e]}setLineJoin(e){this.ctx.lineJoin=Xm[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){var r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(var[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){var e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(r,e,t),e=(this.suspendedCtx=this.ctx,this.ctx=r.context,this.ctx),a=(e.setTransform(...Mg(this.suspendedCtx)),Jm(this.suspendedCtx,e),e),n=this.suspendedCtx;if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){n.save(),this.__originalSave()},a.restore=function(){n.restore(),this.__originalRestore()},a.translate=function(e,t){n.translate(e,t),this.__originalTranslate(e,t)},a.scale=function(e,t){n.scale(e,t),this.__originalScale(e,t)},a.transform=function(e,t,r,a,i,o){n.transform(e,t,r,a,i,o),this.__originalTransform(e,t,r,a,i,o)},a.setTransform=function(e,t,r,a,i,o){n.setTransform(e,t,r,a,i,o),this.__originalSetTransform(e,t,r,a,i,o)},a.resetTransform=function(){n.resetTransform(),this.__originalResetTransform()},a.rotate=function(e){n.rotate(e),this.__originalRotate(e)},a.clip=function(e){n.clip(e),this.__originalClip(e)},a.moveTo=function(e,t){n.moveTo(e,t),this.__originalMoveTo(e,t)},a.lineTo=function(e,t){n.lineTo(e,t),this.__originalLineTo(e,t)},a.bezierCurveTo=function(e,t,r,a,i,o){n.bezierCurveTo(e,t,r,a,i,o),this.__originalBezierCurveTo(e,t,r,a,i,o)},a.rect=function(e,t,r,a){n.rect(e,t,r,a),this.__originalRect(e,t,r,a)},a.closePath=function(){n.closePath(),this.__originalClosePath()},a.beginPath=function(){n.beginPath(),this.__originalBeginPath()},this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Jm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){var t,r;this.current.activeSMask&&(e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],t=this.current.activeSMask,r=this.suspendedCtx,this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}composeSMask(e,t,r,a){var i=a[0],o=a[1],n=a[2]-i,a=a[3]-o;0!=n&&0!=a&&(this.genericComposeSMask(t.context,r,n,a,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(t,e,r,a,i,o,n,s,l,d,c){let g=t.canvas,m=s-d,p=l-c;if(o)if(m<0||p<0||m+r>g.width||p+a>g.height){d=this.cachedCanvases.getCanvas("maskExtension",r,a),c=d.context;c.drawImage(g,-m,-p),o.some(e=>0!==e)&&(c.globalCompositeOperation="destination-atop",c.fillStyle=f.makeHexColor(...o),c.fillRect(0,0,r,a),c.globalCompositeOperation="source-over"),g=d.canvas,m=p=0}else if(o.some(e=>0!==e)){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);let e=new Path2D;e.rect(m,p,r,a),t.clip(e),t.globalCompositeOperation="destination-atop",t.fillStyle=f.makeHexColor(...o),t.fillRect(m,p,r,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===i&&n?e.filter=this.filterFactory.addAlphaFilter(n):"Luminosity"===i&&(e.filter=this.filterFactory.addLuminosityFilter(n));let u=new Path2D;u.rect(s,l,r,a),e.clip(u),e.globalCompositeOperation="destination-in",e.drawImage(g,m,p,r,a,s,l,r,a),e.restore()}save(){(this.inSMaskMode?(Jm(this.ctx,this.suspendedCtx),this.suspendedCtx):this.ctx).save();var e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Jm(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,a,i,o){this.ctx.transform(e,t,r,a,i,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(a,i,e){var o=this.ctx,n=this.current;let s=n.x,l=n.y,d,c;var g=Mg(o),m=0===g[0]&&0===g[3]||0===g[1]&&0===g[2],p=m?e.slice(0):null;for(let e=0,t=0,r=a.length;e<r;e++)switch(0|a[e]){case Fc.rectangle:s=i[t++],l=i[t++];var u=i[t++],h=i[t++],P=s+u,y=l+h;o.moveTo(s,l),0===u||0===h?o.lineTo(P,y):(o.lineTo(P,l),o.lineTo(P,y),o.lineTo(s,y)),m||n.updateRectMinMax(g,[s,l,P,y]),o.closePath();break;case Fc.moveTo:s=i[t++],l=i[t++],o.moveTo(s,l),m||n.updatePathMinMax(g,s,l);break;case Fc.lineTo:s=i[t++],l=i[t++],o.lineTo(s,l),m||n.updatePathMinMax(g,s,l);break;case Fc.curveTo:d=s,c=l,s=i[t+4],l=i[t+5],o.bezierCurveTo(i[t],i[t+1],i[t+2],i[t+3],s,l),n.updateCurvePathMinMax(g,d,c,i[t],i[t+1],i[t+2],i[t+3],s,l,p),t+=6;break;case Fc.curveTo2:d=s,c=l,o.bezierCurveTo(s,l,i[t],i[t+1],i[t+2],i[t+3]),n.updateCurvePathMinMax(g,d,c,s,l,i[t],i[t+1],i[t+2],i[t+3],p),s=i[t+2],l=i[t+3],t+=4;break;case Fc.curveTo3:d=s,c=l,s=i[t+2],l=i[t+3],o.bezierCurveTo(i[t],i[t+1],s,l,s,l),n.updateCurvePathMinMax(g,d,c,i[t],i[t+1],s,l,s,l,p),t+=4;break;case Fc.closePath:o.closePath()}m&&n.updateScalingPathMinMax(g,p),n.setCurrentPoint(s,l)}closePath(){this.ctx.closePath()}stroke(e=!0){var t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof r&&r?.getPattern?(t.save(),t.strokeStyle=r.getPattern(t,this,Ig(t),dm.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){var t=this.ctx,r=this.current.fillColor;let a=!1;this.current.patternFill&&(t.save(),t.fillStyle=r.getPattern(t,this,Ig(t),dm.FILL),a=!0);r=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==r&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),a&&t.restore(),e&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=km}eoClip(){this.pendingClip=xm}beginText(){this.current.textMatrix=Ac,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){var e=this.pendingTextPaths,t=this.ctx;if(void 0===e)t.beginPath();else{t.save(),t.beginPath();for(var r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(r,a){var i=this.commonObjs.get(r),o=this.current;if(!i)throw new Error("Can't find font for "+r);if(o.fontMatrix=i.fontMatrix||Tc,0!==o.fontMatrix[0]&&0!==o.fontMatrix[3]||S("Invalid font matrix for font "+r),a<0?(a=-a,o.fontDirection=-1):o.fontDirection=1,this.current.font=i,this.current.fontSize=a,!i.isType3Font){r=i.systemFontInfo?.css||`"${i.loadedName||"sans-serif"}", `+i.fallbackName;let e="normal";i.black?e="900":i.bold&&(e="bold");o=i.italic?"italic":"normal";let t=a;a<16?t=16:100<a&&(t=100),this.current.fontSizeScale=a/t,this.ctx.font=o+` ${e} ${t}px `+r}}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,a,i,o){this.current.textMatrix=[e,t,r,a,i,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,a){var i=this.ctx,o=this.current,n=o.font,s=o.textRenderingMode,l=o.fontSize/o.fontSizeScale,d=s&Lc.FILL_STROKE_MASK,s=!!(s&Lc.ADD_TO_PATH_FLAG),o=o.patternFill&&!n.missingFile;let c;(n.disableFontFace||s||o)&&(c=n.getPathGenerator(this.commonObjs,e)),n.disableFontFace||o?(i.save(),i.translate(t,r),i.beginPath(),c(i,l),a&&i.setTransform(...a),d!==Lc.FILL&&d!==Lc.FILL_STROKE||i.fill(),d!==Lc.STROKE&&d!==Lc.FILL_STROKE||i.stroke(),i.restore()):(d!==Lc.FILL&&d!==Lc.FILL_STROKE||i.fillText(e,t,r),d!==Lc.STROKE&&d!==Lc.FILL_STROKE||i.strokeText(e,t,r)),s&&(this.pendingTextPaths||=[]).push({transform:Mg(i),x:t,y:r,fontSize:l,addToPath:c})}get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context,t=(e.scale(1.5,1),e.fillText("I",0,10),e.getImageData(0,0,10,10).data);let r=!1;for(let e=3;e<t.length;e+=4)if(0<t[e]&&t[e]<255){r=!0;break}return o(this,"isFontSubpixelAAEnabled",r)}showText(t){var r=this.current,n=r.font;if(n.isType3Font)return this.showType3Text(t);var s=r.fontSize;if(0!==s){var l=this.ctx,d=r.fontSizeScale,c=r.charSpacing,g=r.wordSpacing,m=r.fontDirection,a=r.textHScale*m,p=t.length,u=n.vertical,h=u?1:-1,P=n.defaultVMetrics,y=s*r.fontMatrix[0],_=r.textRenderingMode===Lc.FILL&&!n.disableFontFace&&!r.patternFill;l.save(),l.transform(...r.textMatrix),l.translate(r.x,r.y+r.textRise),0<m?l.scale(a,-1):l.scale(a,1);let o,e=(r.patternFill&&(l.save(),S=r.fillColor.getPattern(l,this,Ig(l),dm.FILL),o=Mg(l),l.restore(),l.fillStyle=S),r.lineWidth);var i,S=r.textMatrixScale;if(0===S||0===e?(i=r.textRenderingMode&Lc.FILL_STROKE_MASK)!==Lc.STROKE&&i!==Lc.FILL_STROKE||(e=this.getSinglePixelWidth()):e/=S,1!==d&&(l.scale(d,d),e/=d),l.lineWidth=e,n.isInvalidPDFjsFont){var f,C=[];let e=0;for(f of t)C.push(f.unicode),e+=f.width;l.fillText(C.join(""),0,0),r.x+=e*y*a,l.restore(),void this.compose()}else{let i=0,e;for(e=0;e<p;++e){var b=t[e];if("number"==typeof b)i+=h*b*s/1e3;else{let e=!1;var v,w,J,G=(b.isSpace?g:0)+c,A=b.fontChar,T=b.accent;let t,r,a=b.width;r=u?(v=b.vmetric||P,w=-(b.vmetric?v[1]:.5*a)*y,J=v[2]*y,a=v?-v[0]:a,t=w/d,(i+J)/d):(t=i/d,0),n.remeasure&&0<a&&(v=1e3*l.measureText(A).width/s*d,a<v&&this.isFontSubpixelAAEnabled?(w=a/v,e=!0,l.save(),l.scale(w,1),t/=w):a!==v&&(t+=(a-v)/2e3*s/d)),this.contentVisible&&(b.isInFont||n.missingFile)&&(_&&!T?l.fillText(A,t,r):(this.paintChar(A,t,r,o),T&&(J=t+s*T.offset.x/d,b=r-s*T.offset.y/d,this.paintChar(T.fontChar,J,b,o))));A=u?a*y-G*m:a*y+G*m;i+=A,e&&l.restore()}}u?r.y-=i:r.x+=i*a,l.restore(),this.compose()}}}showType3Text(e){var t,r,a=this.ctx,i=this.current,o=i.font,n=i.fontSize,s=i.fontDirection,l=o.vertical?1:-1,d=i.charSpacing,c=i.wordSpacing,g=i.textHScale*s,m=i.fontMatrix||Tc,p=e.length,u=i.textRenderingMode===Lc.INVISIBLE;let h,P,y,_;if(!u&&0!==n){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,a.save(),a.transform(...i.textMatrix),a.translate(i.x,i.y),a.scale(g,s),h=0;h<p;++h)"number"==typeof(P=e[h])?(this.ctx.translate(_=l*P*n/1e3,0),i.x+=_*g):(t=(P.isSpace?c:0)+d,(r=o.charProcOperatorList[P.operatorListId])?(this.contentVisible&&(this.processingType3=P,this.save(),a.scale(n,n),a.transform(...m),this.executeOperatorList(r),this.restore()),y=f.applyTransform([P.width,0],m)[0]*n+t,a.translate(y,0),i.x+=y*g):S(`Type3 character "${P.operatorListId}" is not available.`));a.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,a,i,o){this.ctx.rect(r,a,i-r,o-a),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;var r,a,i;return t="TilingPattern"===e[0]?(r=e[1],a=this.baseTransform||Mg(this.ctx),i={createCanvasGraphics:e=>new Lm(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},new ym(e,r,this.ctx,i,a)):this._getPattern(e[1],e[2])}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){e=f.makeHexColor(e,t,r);this.ctx.strokeStyle=e,this.current.strokeColor=e}setFillRGBColor(e,t,r){e=f.makeHexColor(e,t,r);this.ctx.fillStyle=e,this.current.fillColor=e,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=(e=>{switch(e[0]){case"RadialAxial":return new mm(e);case"Mesh":return new um(e);case"Dummy":return new hm}throw new Error("Unknown IR type: "+e[0])})(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){var t,r,a;this.contentVisible&&(t=this.ctx,this.save(),e=this._getPattern(e),t.fillStyle=e.getPattern(t,this,Ig(t),dm.SHADING),(e=Ig(t))?({width:t,height:r}=t.canvas,[t,r,e,a]=f.getAxialAlignedBoundingBox([0,0,t,r],e),this.ctx.fillRect(t,r,e-t,a-r)):this.ctx.fillRect(-1e10,-1e10,2e10,2e10),this.compose(this.current.getClippedPathBoundingBox()),this.restore())}beginInlineImage(){Nc("Should not call beginInlineImage")}beginImageData(){Nc("Should not call beginImageData")}paintFormXObjectBegin(e,t){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Mg(this.ctx),t)&&(e=t[2]-t[0],this.ctx.rect(t[0],t[1],e,t[3]-t[1]),this.current.updateRectMinMax(Mg(this.ctx),t),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(this.contentVisible){this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);var r=this.ctx,a=(t.isolated||Hc("TODO: Support non-isolated groups."),t.knockout&&S("Knockout groups not supported."),Mg(r));if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");var i=f.getAxialAlignedBoundingBox(t.bbox,Mg(r)),o=[0,0,r.canvas.width,r.canvas.height],i=f.intersect(i,o)||[0,0,0,0],o=Math.floor(i[0]),n=Math.floor(i[1]),s=Math.max(Math.ceil(i[2])-o,1),i=Math.max(Math.ceil(i[3])-n,1);this.current.startNewPathAndClipBox([0,0,s,i]);let e="groupAt"+this.groupLevel;t.smask&&(e+="_smask_"+this.smaskCounter++%2);s=this.cachedCanvases.getCanvas(e,s,i),i=s.context;i.translate(-o,-n),i.transform(...a),t.smask?this.smaskStack.push({canvas:s.canvas,context:i,offsetX:o,offsetY:n,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(o,n),r.save()),Jm(r,i),this.ctx=i,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}}endGroup(e){var t,r;this.contentVisible&&(this.groupLevel--,t=this.ctx,r=this.groupStack.pop(),this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask?(this.tempSMask=this.smaskStack.pop(),this.restore()):(this.ctx.restore(),r=Mg(this.ctx),this.restore(),this.ctx.save(),this.ctx.setTransform(...r),e=f.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(e)))}beginAnnotation(e,t,r,a,i){var o,n,s,l,d;this.#restoreInitialState(),Gm(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t&&(o=t[2]-t[0],n=t[3]-t[1],i&&this.annotationCanvasMap?((r=r.slice())[4]-=t[0],r[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=o,t[3]=n,[i,s]=f.singularValueDecompose2dScale(Mg(this.ctx)),d=this.viewportScale,l=Math.ceil(o*this.outputScaleX*d),d=Math.ceil(n*this.outputScaleY*d),{canvas:l,context:d}=(this.annotationCanvas=this.canvasFactory.create(l,d),this.annotationCanvas),this.annotationCanvasMap.set(e,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=d,this.ctx.save(),this.ctx.setTransform(i,0,0,-s,0,n*s),Gm(this.ctx)):(Gm(this.ctx),this.ctx.rect(t[0],t[1],o,n),this.ctx.clip(),this.endPath())),this.current=new bm(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#drawFilter(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){var t,r;this.contentVisible&&(t=e.count,(e=this.getObject(e.data,e)).count=t,t=this.ctx,(r=this.processingType3)&&(void 0===r.compiled&&(r.compiled=(e=>{let{width:r,height:t}=e;if(r>_m||t>_m)return null;var a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=r+1;let o=new Uint8Array(i*(t+1)),n,s,l;var d,c=r+7&-8;let g=new Uint8Array(c*t),m=0;for(d of e.data){let e=128;for(;0<e;)g[m++]=d&e?0:255,e>>=1}let p=0;for((m=0)!==g[m]&&(o[0]=1,++p),s=1;s<r;s++)g[m]!==g[m+1]&&(o[s]=g[m]?2:1,++p),m++;for(0!==g[m]&&(o[s]=2,++p),n=1;n<t;n++){m=n*c,l=n*i,g[m-c]!==g[m]&&(o[l]=g[m]?1:8,++p);let e=(g[m]?4:0)+(g[m-c]?8:0);for(s=1;s<r;s++)a[e=(e>>2)+(g[m+1]?4:0)+(g[m-c+1]?8:0)]&&(o[l+s]=a[e],++p),m++;if(g[m-c]!==g[m]&&(o[l+s]=g[m]?2:4,++p),1e3<p)return null}for(m=c*(t-1),l=n*i,0!==g[m]&&(o[l]=8,++p),s=1;s<r;s++)g[m]!==g[m+1]&&(o[l+s]=g[m]?4:8,++p),m++;if(0!==g[m]&&(o[l+s]=4,++p),1e3<p)return null;var u=new Int32Array([0,i,-1,0,-i,0,0,0,1]);let h=new Path2D;for(n=0;p&&n<=t;n++){let t=n*i;for(var P=t+r;t<P&&!o[t];)t++;if(t!==P){h.moveTo(t%i,n);var y=t;let e=o[t];do{for(var _=u[e];t+=_,!o[t];);var S=o[t];5!==S&&10!==S?(e=S,o[t]=0):(e=S&51*e>>4,o[t]&=e>>2|e<<2),h.lineTo(t%i,t/i|0),o[t]||--p}while(y!==t);--n}}return g=null,o=null,function(e){e.save(),e.scale(1/r,-1/t),e.translate(0,-t),e.fill(h),e.beginPath(),e.restore()}})(e)),r.compiled)?r.compiled(t):(e=(r=this._createMaskCanvas(e)).canvas,t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(e,r.offsetX,r.offsetY),t.restore(),this.compose()))}paintImageMaskXObjectRepeat(e,r,a=0,i=0,o,n){if(this.contentVisible){e=this.getObject(e.data,e);var s=this.ctx,l=(s.save(),Mg(s)),d=(s.transform(r,a,i,o,0,0),this._createMaskCanvas(e));s.setTransform(1,0,0,1,d.offsetX-l[4],d.offsetY-l[5]);for(let e=0,t=n.length;e<t;e+=2){var c=f.transform(l,[r,a,i,o,n[e],n[e+1]]),[c,g]=f.applyTransform([0,0],c);s.drawImage(d.canvas,c,g)}s.restore(),this.compose()}}paintImageMaskXObjectGroup(e){if(this.contentVisible){var t,r=this.ctx,a=this.current.fillColor,i=this.current.patternFill;for(t of e){var{data:o,width:n,height:s,transform:l}=t,d=this.cachedCanvases.getCanvas("maskCanvas",n,s),c=d.context,o=(c.save(),this.getObject(o,t));wm(c,o),c.globalCompositeOperation="source-in",c.fillStyle=i?a.getPattern(c,this,Ig(r),dm.FILL):a,c.fillRect(0,0,n,s),c.restore(),r.save(),r.transform(...l),r.scale(1,-1),Cm(r,d.canvas,0,0,n,s,0,-1,1,1),r.restore()}this.compose()}}paintImageXObject(e){this.contentVisible&&((e=this.getObject(e))?this.paintInlineImageXObject(e):S("Dependent image isn't ready yet"))}paintImageXObjectRepeat(e,r,a,i){if(this.contentVisible){e=this.getObject(e);if(e){var o=e.width,n=e.height,s=[];for(let e=0,t=i.length;e<t;e+=2)s.push({transform:[r,0,0,a,i[e],i[e+1]],x:0,y:0,w:o,h:n});this.paintInlineImageXObjectGroup(e,s)}else S("Dependent image isn't ready yet")}}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){var t,r;return"none"===this.current.transferMaps?e.bitmap:({bitmap:e,width:t,height:r}=e,(r=(t=this.cachedCanvases.getCanvas("inlineImage",t,r)).context).filter=this.current.transferMaps,r.drawImage(e,0,0),r.filter="none",t.canvas)}paintInlineImageXObject(t){if(this.contentVisible){var r=t.width,a=t.height,i=this.ctx;this.save(),Gc||(o=i.filter,"none"!==o&&""!==o&&(i.filter="none")),i.scale(1/r,-1/a);let e;e=t.bitmap?this.applyTransferMapsToBitmap(t):"function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data?t:(vm(o=this.cachedCanvases.getCanvas("inlineImage",r,a).context,t),this.applyTransferMapsToCanvas(o));var o=this._scaleImage(e,Ig(i));i.imageSmoothingEnabled=Am(Mg(i),t.interpolate),Cm(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-a,r,a),this.compose(),this.restore()}}paintInlineImageXObjectGroup(t,r){if(this.contentVisible){var a,i,o=this.ctx;let e;e=t.bitmap||(a=t.width,vm(a=this.cachedCanvases.getCanvas("inlineImage",a,t.height).context,t),this.applyTransferMapsToCanvas(a));for(i of r)o.save(),o.transform(...i.transform),o.scale(1,-1),Cm(o,e,i.x,i.y,i.w,i.h,0,-1,1,1),o.restore();this.compose()}}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){var t=this.current.isEmptyClip(),e=(this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e),this.ctx);this.pendingClip&&(t||(this.pendingClip===xm?e.clip("evenodd"):e.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),e.beginPath()}getSinglePixelWidth(){var e,t,r;return this._cachedGetSinglePixelWidth||(0===(r=Mg(this.ctx))[1]&&0===r[2]?this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(r[0]),Math.abs(r[3])):(e=Math.abs(r[0]*r[3]-r[2]*r[1]),t=Math.hypot(r[0],r[2]),r=Math.hypot(r[1],r[3]),this._cachedGetSinglePixelWidth=Math.max(t,r)/e)),this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){var r,a,i,o=this.current.lineWidth,{a:n,b:s,c:l,d}=this.ctx.getTransform();let e,t;0===s&&0===l?(i=Math.abs(n))===(r=Math.abs(d))?e=t=0===o?1/i:(a=i*o)<1?1/a:1:t=0===o?(e=1/i,1/r):(a=i*o,i=r*o,e=a<1?1/a:1,i<1?1/i:1):(r=Math.abs(n*d-s*l),a=Math.hypot(n,s),i=Math.hypot(l,d),t=0===o?(e=i/r,a/r):(n=o*r,e=n<i?i/n:1,n<a?a/n:1)),this._cachedScaleForStroking[0]=e,this._cachedScaleForStroking[1]=t}return this._cachedScaleForStroking}rescaleAndStroke(e){var r=this.ctx,a=this.current.lineWidth,[i,o]=this.getScaleForStroking();if(r.lineWidth=a||1,1===i&&1===o)r.stroke();else{a=r.getLineDash();if(e&&r.save(),r.scale(i,o),0<a.length){let t=Math.max(i,o);r.setLineDash(a.map(e=>e/t)),r.lineDashOffset/=t}r.stroke(),e&&r.restore()}}isContentVisible(){for(let e=this.markedContentStack.length-1;0<=e;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(Uc in Fc)void 0!==Lm.prototype[Uc]&&(Lm.prototype[Fc[Uc]]=Lm.prototype[Uc]);class Em{static#port=null;static#src="";static get workerPort(){return this.#port}static set workerPort(e){if(!("undefined"!=typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#port=e}static get workerSrc(){return this.#src}static set workerSrc(e){if("string"!=typeof e)throw new Error("Invalid `workerSrc` type.");this.#src=e}}let Mm={DATA:1,ERROR:2},Im={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Dm(e){switch(e instanceof Error||"object"==typeof e&&null!==e||Nc('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new tg(e.message);case"MissingPDFException":return new Kc(e.message);case"PasswordException":return new Zc(e.message,e.code);case"UnexpectedResponseException":return new Qc(e.message,e.status);case"UnknownErrorException":return new qc(e.message,e.details);default:return new qc(e.message,e.toString())}}class $m{constructor(e,t,o){this.sourceName=e,this.targetName=t,this.comObj=o,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{let i=e.data;if(i.targetName===this.sourceName)if(i.stream)this.#processStreamMessage(i);else if(i.callback){var e=i.callbackId,t=this.callbackCapabilities[e];if(!t)throw new Error("Cannot resolve callback "+e);if(delete this.callbackCapabilities[e],i.callback===Mm.DATA)t.resolve(i.data);else{if(i.callback!==Mm.ERROR)throw new Error("Unexpected callback case");t.reject(Dm(i.reason))}}else{let a=this.actionHandler[i.action];if(!a)throw new Error("Unknown action from worker: "+i.action);if(i.callbackId){let t=this.sourceName,r=i.sourceName;void new Promise(function(e){e(a(i.data))}).then(function(e){o.postMessage({sourceName:t,targetName:r,callback:Mm.DATA,callbackId:i.callbackId,data:e})},function(e){o.postMessage({sourceName:t,targetName:r,callback:Mm.ERROR,callbackId:i.callbackId,reason:Dm(e)})})}else i.streamId?this.#createStreamSink(i):a(i.data)}},o.addEventListener("message",this._onComObjOnMessage)}on(e,t){var r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){var a=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[a]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},r)}catch(e){i.reject(e)}return i.promise}sendWithStream(r,a,e,i){let o=this.streamId++,n=this.sourceName,s=this.targetName,l=this.comObj;return new ReadableStream({start:e=>{var t=Promise.withResolvers();return this.streamControllers[o]={controller:e,startCall:t,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:n,targetName:s,action:r,streamId:o,data:a,desiredSize:e.desiredSize},i),t.promise},pull:e=>{var t=Promise.withResolvers();return this.streamControllers[o].pullCall=t,l.postMessage({sourceName:n,targetName:s,stream:Im.PULL,streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:e=>{Bc(e instanceof Error,"cancel must have a valid reason");var t=Promise.withResolvers();return this.streamControllers[o].cancelCall=t,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:n,targetName:s,stream:Im.CANCEL,streamId:o,reason:Dm(e)}),t.promise}},e)}#createStreamSink(t){let i=t.streamId,o=this.sourceName,n=t.sourceName,s=this.comObj,e=this,r=this.actionHandler[t.action],a={enqueue(e,t=1,r){var a;this.isCancelled||(a=this.desiredSize,this.desiredSize-=t,0<a&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:o,targetName:n,stream:Im.ENQUEUE,streamId:i,chunk:e},r))},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:o,targetName:n,stream:Im.CLOSE,streamId:i}),delete e.streamSinks[i])},error(e){Bc(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:o,targetName:n,stream:Im.ERROR,streamId:i,reason:Dm(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[i]=a,new Promise(function(e){e(r(t.data,a))}).then(function(){s.postMessage({sourceName:o,targetName:n,stream:Im.START_COMPLETE,streamId:i,success:!0})},function(e){s.postMessage({sourceName:o,targetName:n,stream:Im.START_COMPLETE,streamId:i,reason:Dm(e)})})}#processStreamMessage(t){let r=t.streamId,a=this.sourceName,i=t.sourceName,o=this.comObj,e=this.streamControllers[r],n=this.streamSinks[r];switch(t.stream){case Im.START_COMPLETE:t.success?e.startCall.resolve():e.startCall.reject(Dm(t.reason));break;case Im.PULL_COMPLETE:t.success?e.pullCall.resolve():e.pullCall.reject(Dm(t.reason));break;case Im.PULL:n?(n.desiredSize<=0&&0<t.desiredSize&&n.sinkCapability.resolve(),n.desiredSize=t.desiredSize,new Promise(function(e){e(n.onPull?.())}).then(function(){o.postMessage({sourceName:a,targetName:i,stream:Im.PULL_COMPLETE,streamId:r,success:!0})},function(e){o.postMessage({sourceName:a,targetName:i,stream:Im.PULL_COMPLETE,streamId:r,reason:Dm(e)})})):o.postMessage({sourceName:a,targetName:i,stream:Im.PULL_COMPLETE,streamId:r,success:!0});break;case Im.ENQUEUE:Bc(e,"enqueue should have stream controller"),e.isClosed||e.controller.enqueue(t.chunk);break;case Im.CLOSE:Bc(e,"close should have stream controller"),e.isClosed||(e.isClosed=!0,e.controller.close(),this.#deleteStreamController(e,r));break;case Im.ERROR:Bc(e,"error should have stream controller"),e.controller.error(Dm(t.reason)),this.#deleteStreamController(e,r);break;case Im.CANCEL_COMPLETE:t.success?e.cancelCall.resolve():e.cancelCall.reject(Dm(t.reason)),this.#deleteStreamController(e,r);break;case Im.CANCEL:n&&(new Promise(function(e){e(n.onCancel?.(Dm(t.reason)))}).then(function(){o.postMessage({sourceName:a,targetName:i,stream:Im.CANCEL_COMPLETE,streamId:r,success:!0})},function(e){o.postMessage({sourceName:a,targetName:i,stream:Im.CANCEL_COMPLETE,streamId:r,reason:Dm(e)})}),n.sinkCapability.reject(Dm(t.reason)),n.isCancelled=!0,delete this.streamSinks[r]);break;default:throw new Error("Unexpected stream case")}}async#deleteStreamController(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class Fm{#metadataMap;#data;constructor({parsedData:e,rawData:t}){this.#metadataMap=e,this.#data=t}getRaw(){return this.#data}get(e){return this.#metadataMap.get(e)??null}getAll(){return ig(this.#metadataMap)}has(e){return this.#metadataMap.has(e)}}let Om=Symbol("INTERNAL");class Rm{#isDisplay=!1;#isPrint=!1;#userSet=!1;#visible=!0;constructor(e,{name:t,intent:r,usage:a}){this.#isDisplay=!!(e&Xc.DISPLAY),this.#isPrint=!!(e&Xc.PRINT),this.name=t,this.intent=r,this.usage=a}get visible(){var e,t;return this.#userSet?this.#visible:!!this.#visible&&({print:e,view:t}=this.usage,this.#isDisplay?"OFF"!==t?.viewState:!this.#isPrint||"OFF"!==e?.printState)}_setVisible(e,t,r=!1){e!==Om&&Nc("Internal method `_setVisible` called."),this.#userSet=r,this.#visible=t}}class Hm{#cachedGetHash=null;#groups=new Map;#initialHash=null;#order=null;constructor(e,t=Xc.DISPLAY){if(this.renderingIntent=t,this.name=null,(this.creator=null)!==e){this.name=e.name,this.creator=e.creator,this.#order=e.order;for(var r of e.groups)this.#groups.set(r.id,new Rm(t,r));if("OFF"===e.baseState)for(var a of this.#groups.values())a._setVisible(Om,!1);for(var i of e.on)this.#groups.get(i)._setVisible(Om,!0);for(var o of e.off)this.#groups.get(o)._setVisible(Om,!1);this.#initialHash=this.getHash()}}#evaluateVisibilityExpression(r){var e=r.length;if(e<2)return!0;var a=r[0];for(let t=1;t<e;t++){var i=r[t];let e;if(Array.isArray(i))e=this.#evaluateVisibilityExpression(i);else{if(!this.#groups.has(i))return S("Optional content group not found: "+i),!0;e=this.#groups.get(i).visible}switch(a){case"And":if(e)break;return!1;case"Or":if(e)return!0;break;case"Not":return!e;default:return!0}}return"And"===a}isVisible(e){if(0!==this.#groups.size)if(e){if("OCG"===e.type)return this.#groups.has(e.id)?this.#groups.get(e.id).visible:(S("Optional content group not found: "+e.id),!0);if("OCMD"===e.type){if(e.expression)return this.#evaluateVisibilityExpression(e.expression);if(!e.policy||"AnyOn"===e.policy){for(var t of e.ids){if(!this.#groups.has(t))return S("Optional content group not found: "+t),!0;if(this.#groups.get(t).visible)return!0}return!1}if("AllOn"===e.policy)for(var r of e.ids){if(!this.#groups.has(r))return S("Optional content group not found: "+r),!0;if(!this.#groups.get(r).visible)return!1}else{if("AnyOff"===e.policy){for(var a of e.ids){if(!this.#groups.has(a))return S("Optional content group not found: "+a),!0;if(!this.#groups.get(a).visible)return!0}return!1}if("AllOff"===e.policy)for(var i of e.ids){if(!this.#groups.has(i))return S("Optional content group not found: "+i),!0;if(this.#groups.get(i).visible)return!1}else S(`Unknown optional content policy ${e.policy}.`)}}else S(`Unknown group type ${e.type}.`)}else Hc("Optional content group not defined.");return!0}setVisibility(e,t=!0){var r=this.#groups.get(e);r?(r._setVisible(Om,!!t,!0),this.#cachedGetHash=null):S("Optional content group not found: "+e)}setOCGState({state:e}){let t;for(var r of e){switch(r){case"ON":case"OFF":case"Toggle":t=r;continue}var a=this.#groups.get(r);if(a)switch(t){case"ON":a._setVisible(Om,!0);break;case"OFF":a._setVisible(Om,!1);break;case"Toggle":a._setVisible(Om,!a.visible)}}this.#cachedGetHash=null}get hasInitialVisibility(){return null===this.#initialHash||this.getHash()===this.#initialHash}getOrder(){return this.#groups.size?this.#order?this.#order.slice():[...this.#groups.keys()]:null}getGroups(){return 0<this.#groups.size?ig(this.#groups):null}getGroup(e){return this.#groups.get(e)||null}getHash(){if(null!==this.#cachedGetHash)return this.#cachedGetHash;var e,t,r=new Yg;for([e,t]of this.#groups)r.update(e+":"+t.visible);return this.#cachedGetHash=r.hexdigest()}}class Nm{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Bc(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');var{length:a,initialData:i,progressiveDone:o,contentDispositionFilename:n}=e;this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=n,0<i?.length&&(o=(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i:new Uint8Array(i)).buffer,this._queuedChunks.push(o)),this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),e.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),e.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:t,chunk:e}){let r=(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e:new Uint8Array(e)).buffer;void 0===t?this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r):Bc(this._rangeReaders.some(function(e){return e._begin===t&&(e._enqueue(r),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){e=this._rangeReaders.indexOf(e);0<=e&&this._rangeReaders.splice(e,1)}getFullReader(){Bc(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new Bm(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){var r;return t<=this._progressiveDataLength?null:(r=new Vm(this,e,t),this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r)}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(var t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class Bm{constructor(e,t,r=!1,a=null){this._stream=e,this._done=r||!1,this._filename=Gg(a)?a:null,this._queuedChunks=t||[],this._loaded=0;for(var i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),(e._fullRequestReader=this).onProgress=null}_enqueue(e){this._done||(0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){var e;return 0<this._queuedChunks.length?{value:this._queuedChunks.shift(),done:!1}:this._done?{value:void 0,done:!0}:(e=Promise.withResolvers(),this._requests.push(e),e.promise)}cancel(e){this._done=!0;for(var t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Vm{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{var t;this._requests.shift().resolve({value:e,done:!1});for(t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){var e;return this._queuedChunk?(e=this._queuedChunk,this._queuedChunk=null,{value:e,done:!1}):this._done?{value:void 0,done:!0}:(e=Promise.withResolvers(),this._requests.push(e),e.promise)}cancel(e){this._done=!0;for(var t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function zm(e){let i=!0,t=l("filename\\*","i").exec(e);var r;return t?(r=d(t=t[1]),a(r=n(r=c(r=unescape(r))))):(t=(e=>{let a=[],t,r=l("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(t=r.exec(e));){var[,i,o,n]=t;if((i=parseInt(i,10))in a){if(0===i)break}else a[i]=[o,n]}var s=[];for(let r=0;r<a.length&&r in a;++r){let[e,t]=a[r];t=d(t),e&&(t=unescape(t),0===r)&&(t=c(t)),s.push(t)}return s.join("")})(e))?a(n(t)):(t=l("filename","i").exec(e))?a(n(d(t=t[1]))):"";function l(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function o(e,t){if(e){if(!/^[\x00-\xFF]+$/.test(t))return t;try{var r=new TextDecoder(e,{fatal:!0}),a=ag(t);t=r.decode(a),i=!1}catch{}}return t}function a(e){return e=i&&/[\x80-\xff]/.test(e)&&(e=o("utf-8",e),i)?o("iso-8859-1",e):e}function d(e){if(e.startsWith('"')){var t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){var r=t[e].indexOf('"');-1!==r&&(t[e]=t[e].slice(0,r),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function c(e){var t=e.indexOf("'");return-1===t?e:o(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function n(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,r,a){if("q"===r||"Q"===r)return o(t,a=(a=a.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{a=atob(a)}catch{}return o(t,a)})}}function Um({getResponseHeader:e,isHttp:t,rangeChunkSize:r,disableRange:a}){var i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(e("Content-Length"),10);return!Number.isInteger(o)||(i.suggestedLength=o)<=2*r||!a&&t&&"bytes"===e("Accept-Ranges")&&"identity"===(e("Content-Encoding")||"identity")&&(i.allowRangeRequests=!0),i}function jm(t){t=t("Content-Disposition");if(t){let e=zm(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Gg(e))return e}return null}function Wm(e,t){return 404===e||0===e&&t.startsWith("file:")?new Kc('Missing PDF "'+t+'".'):new Qc(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function Zm(e){return 200===e||206===e}function qm(e,t,r){return{method:"GET",headers:e,signal:r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Ym(e){var t,r=new Headers;for(t in e){var a=e[t];void 0!==a&&r.append(t,a)}return r}function Km(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(S("getArrayBuffer - unexpected data format: "+e),new Uint8Array(e).buffer)}class Qm{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Bc(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new e1(this),this._fullRequestReader}getRangeReader(e,t){return t<=this._progressiveDataLength?null:(e=new t1(this,e,t),this._rangeRequestReaders.push(e),e)}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(var t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class e1{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;e=e.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=Ym(this._stream.httpHeaders);let i=e.url;fetch(i,qm(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!Zm(t.status))throw Wm(t.status,i);this._reader=t.body.getReader(),this._headersCapability.resolve();var e=e=>t.headers.get(e),{allowRangeRequests:r,suggestedLength:a}=Um({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=jm(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tg("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;var{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Km(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class t1{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;e=e.source;this._withCredentials=e.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!e.disableStream,this._abortController=new AbortController,this._headers=Ym(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-`+(r-1));let a=e.url;fetch(a,qm(this._headers,this._withCredentials,this._abortController)).then(e=>{if(!Zm(e.status))throw Wm(e.status,a);this._readCapability.resolve(),this._reader=e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;var{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Km(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class r1{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){var a,i={begin:e,end:t};for(a in r)i[a]=r[a];return this.request(i)}requestFull(e){return this.request(e)}request(t){let r=new XMLHttpRequest;var e,a=this.currXhrId++,i=this.pendingRequests[a]={xhr:r};for(e in r.open("GET",this.url),r.withCredentials=this.withCredentials,this.httpHeaders){var o=this.httpHeaders[e];void 0!==o&&r.setRequestHeader(e,o)}return this.isHttp&&"begin"in t&&"end"in t?(r.setRequestHeader("Range",`bytes=${t.begin}-`+(t.end-1)),i.expectedStatus=206):i.expectedStatus=200,r.responseType="arraybuffer",t.onError&&(r.onerror=function(e){t.onError(r.status)}),r.onreadystatechange=this.onStateChange.bind(this,a),r.onprogress=this.onProgress.bind(this,a),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,r.send(null),a}onProgress(e,t){e=this.pendingRequests[e];e&&e.onProgress?.(t)}onStateChange(e,t){var r,a,i=this.pendingRequests[e];i&&(2<=(r=i.xhr).readyState&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4===r.readyState)&&e in this.pendingRequests&&(delete this.pendingRequests[e],(0!==r.status||!this.isHttp)&&(200===(e=r.status||200)&&206===i.expectedStatus||e===i.expectedStatus)?(a="string"!=typeof(a=(a=r).response)?a:ag(a).buffer,206===e?(e=r.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(e),i.onDone({begin:parseInt(e[1],10),chunk:a})):a?i.onDone({begin:0,chunk:a}):i.onError?.(r.status)):i.onError?.(r.status))}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class a1{constructor(e){this._source=e,this._manager=new r1(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){e=this._rangeRequestReaders.indexOf(e);0<=e&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Bc(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new i1(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){e=new o1(this._manager,e,t);return e.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(e),e}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(var t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class i1{constructor(e,t){this._manager=e;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){var e=this._fullRequestId;let t=this._manager.getRequestXhr(e);var r=e=>t.getResponseHeader(e),{allowRangeRequests:a,suggestedLength:i}=Um({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=jm(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(0<this._requests.length?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(0<this._cachedChunks.length)){for(var t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Wm(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(var t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;var e;return 0<this._cachedChunks.length?{value:this._cachedChunks.shift(),done:!1}:this._done?{value:void 0,done:!0}:(e=Promise.withResolvers(),this._requests.push(e),e.promise)}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(var t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o1{constructor(e,t,r){this._manager=e;var a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,a),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){var t,e=e.chunk;0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Wm(e,this._url);for(var t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;var e;return null!==this._queuedChunk?(e=this._queuedChunk,this._queuedChunk=null,{value:e,done:!1}):this._done?{value:void 0,done:!0}:(e=Promise.withResolvers(),this._requests.push(e),e.promise)}cancel(e){this._done=!0;for(var t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}let n1=/^file:\/\/\/[a-zA-Z]:\//;class s1{constructor(e){this.source=e,this.url=(e=>{var t=am.get("url"),r=t.parse(e);if("file:"!==r.protocol&&!r.host){if(/^[a-z]:[/\\]/i.test(e))return t.parse("file:///"+e);r.host||(r.protocol="file:")}return r})(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Bc(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new(this.isFsUrl?p1:g1)(this),this._fullRequestReader}getRangeReader(e,t){return t<=this._progressiveDataLength?null:(e=new(this.isFsUrl?u1:m1)(this,e,t),this._rangeRequestReaders.push(e),e)}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(var t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class l1{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;e=e.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;var e=this._readableStream.read();return null===e?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){(this._readableStream=e).on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new tg("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d1{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();e=e.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;var e=this._readableStream.read();return null===e?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){(this._readableStream=e).on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function c1(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class g1 extends l1{constructor(a){super(a);var e,t=e=>{var t,r;404===e.statusCode?(t=new Kc(`Missing PDF "${this._url}".`),this._storedError=t,this._headersCapability.reject(t)):(this._headersCapability.resolve(),this._setReadableStream(e),{allowRangeRequests:e,suggestedLength:r}=Um({getResponseHeader:t=e=>this._readableStream.headers[e.toLowerCase()],isHttp:a.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),this._isRangeSupported=e,this._contentLength=r||this._contentLength,this._filename=jm(t))};this._request=null,"http:"===this._url.protocol?(e=am.get("http"),this._request=e.request(c1(this._url,a.httpHeaders),t)):(e=am.get("https"),this._request=e.request(c1(this._url,a.httpHeaders),t)),this._request.on("error",e=>{this._storedError=e,this._headersCapability.reject(e)}),this._request.end()}}class m1 extends d1{constructor(e,t,r){for(var a in super(e),this._httpHeaders={},e.httpHeaders){var i=e.httpHeaders[a];void 0!==i&&(this._httpHeaders[a]=i)}this._httpHeaders.Range=`bytes=${t}-`+(r-1);t=e=>{var t;404===e.statusCode?(t=new Kc(`Missing PDF "${this._url}".`),this._storedError=t):this._setReadableStream(e)};this._request=null,"http:"===this._url.protocol?(r=am.get("http"),this._request=r.request(c1(this._url,this._httpHeaders),t)):(r=am.get("https"),this._request=r.request(c1(this._url,this._httpHeaders),t)),this._request.on("error",e=>{this._storedError=e}),this._request.end()}}class p1 extends l1{constructor(e){super(e);let t=decodeURIComponent(this._url.path),r=(n1.test(this._url.href)&&(t=t.replace(/^\//,"")),am.get("fs"));r.promises.lstat(t).then(e=>{this._contentLength=e.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},e=>{"ENOENT"===e.code&&(e=new Kc(`Missing PDF "${t}".`)),this._storedError=e,this._headersCapability.reject(e)})}}class u1 extends d1{constructor(e,t,r){super(e);let a=decodeURIComponent(this._url.path);n1.test(this._url.href)&&(a=a.replace(/^\//,""));e=am.get("fs");this._setReadableStream(e.createReadStream(a,{start:t,end:r-1}))}}class h1{#capability=Promise.withResolvers();#container=null;#disableProcessItems=!1;#fontInspectorEnabled=!!globalThis.FontInspector?.enabled;#lang=null;#layoutTextParams=null;#pageHeight=0;#pageWidth=0;#reader=null;#rootContainer=null;#rotation=0;#scale=0;#styleCache=Object.create(null);#textContentItemsStr=[];#textContentSource=null;#textDivs=[];#textDivProperties=new WeakMap;#transform=null;static#ascentCache=new Map;static#canvasContexts=new Map;static#minFontSize=null;static#pendingTextLayers=new Set;constructor({textContentSource:t,container:e,viewport:r}){if(t instanceof ReadableStream)this.#textContentSource=t;else{if("object"!=typeof t)throw new Error('No "textContentSource" parameter specified.');this.#textContentSource=new ReadableStream({start(e){e.enqueue(t),e.close()}})}this.#container=this.#rootContainer=e,this.#scale=r.scale*(globalThis.devicePixelRatio||1),this.#rotation=r.rotation,this.#layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};var{pageWidth:a,pageHeight:i,pageX:o,pageY:n}=r.rawDims;this.#transform=[1,0,0,-1,-o,n+i],this.#pageWidth=a,this.#pageHeight=i,h1.#ensureMinFontSizeComputed(),Dg(e,r),this.#capability.promise.catch(()=>{}).then(()=>{h1.#pendingTextLayers.delete(this),this.#layoutTextParams=null,this.#styleCache=null})}render(){let r=()=>{this.#reader.read().then(({value:e,done:t})=>{t?this.#capability.resolve():(this.#lang??=e.lang,Object.assign(this.#styleCache,e.styles),this.#processItems(e.items),r())},this.#capability.reject)};return this.#reader=this.#textContentSource.getReader(),h1.#pendingTextLayers.add(this),r(),this.#capability.promise}update({viewport:e,onBefore:t=null}){var r=e.scale*(globalThis.devicePixelRatio||1),e=e.rotation;if(e!==this.#rotation&&(t?.(),this.#rotation=e,Dg(this.#rootContainer,{rotation:e})),r!==this.#scale){t?.(),this.#scale=r;var a,i={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:h1.#getCtx(this.#lang)};for(a of this.#textDivs)i.properties=this.#textDivProperties.get(a),i.div=a,this.#layout(i)}}cancel(){var e=new tg("TextLayer task cancelled.");this.#reader?.cancel(e).catch(()=>{}),this.#reader=null,this.#capability.reject(e)}get textDivs(){return this.#textDivs}get textContentItemsStr(){return this.#textContentItemsStr}#processItems(e){if(!this.#disableProcessItems){this.#layoutTextParams.ctx??=h1.#getCtx(this.#lang);var t,r,a=this.#textDivs,i=this.#textContentItemsStr;for(t of e){if(1e5<a.length)return S("Ignoring additional textDivs for performance reasons."),void(this.#disableProcessItems=!0);void 0===t.str?"beginMarkedContentProps"===t.type||"beginMarkedContent"===t.type?(r=this.#container,this.#container=document.createElement("span"),this.#container.classList.add("markedContent"),null!==t.id&&this.#container.setAttribute("id",""+t.id),r.append(this.#container)):"endMarkedContent"===t.type&&(this.#container=this.#container.parentNode):(i.push(t.str),this.#appendText(t))}}}#appendText(e){var t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0},a=(this.#textDivs.push(t),f.transform(this.#transform,e.transform));let i=Math.atan2(a[1],a[0]);var o=this.#styleCache[e.fontName],n=(o.vertical&&(i+=Math.PI/2),this.#fontInspectorEnabled&&o.fontSubstitution||o.fontFamily),s=Math.hypot(a[2],a[3]),l=s*h1.#getAscent(n,this.#lang);let d,c;c=0===i?(d=a[4],a[5]-l):(d=a[4]+l*Math.sin(i),a[5]-l*Math.cos(i));var a="calc(var(--scale-factor)*",l=t.style;this.#container===this.#rootContainer?(l.left=(100*d/this.#pageWidth).toFixed(2)+"%",l.top=(100*c/this.#pageHeight).toFixed(2)+"%"):(l.left=a+d.toFixed(2)+"px)",l.top=a+c.toFixed(2)+"px)"),l.fontSize=a+(h1.#minFontSize*s).toFixed(2)+"px)",l.fontFamily=n,r.fontSize=s,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#fontInspectorEnabled&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),0!==i&&(r.angle=i*(180/Math.PI));let g=!1;(g=1<e.str.length||" "!==e.str&&e.transform[0]!==e.transform[3]&&(a=Math.abs(e.transform[0]))!==(l=Math.abs(e.transform[3]))&&1.5<Math.max(a,l)/Math.min(a,l)?!0:g)&&(r.canvasWidth=o.vertical?e.height:e.width),this.#textDivProperties.set(t,r),this.#layoutTextParams.div=t,this.#layoutTextParams.properties=r,this.#layout(this.#layoutTextParams),r.hasText&&this.#container.append(t),r.hasEOL&&((n=document.createElement("br")).setAttribute("role","presentation"),this.#container.append(n))}#layout(e){var t,r,a,{div:i,properties:o,ctx:n,prevFontSize:s,prevFontFamily:l}=e,d=i.style;let c="";1<h1.#minFontSize&&(c=`scale(${1/h1.#minFontSize})`),0!==o.canvasWidth&&o.hasText&&(t=d.fontFamily,{canvasWidth:r,fontSize:a}=o,s=(s===a&&l===t||(n.font=a*this.#scale+"px "+t,e.prevFontSize=a,e.prevFontFamily=t),n.measureText(i.textContent)).width,0<s)&&(c=`scaleX(${r*this.#scale/s}) `+c),0<(c=0!==o.angle?`rotate(${o.angle}deg) `+c:c).length&&(d.transform=c)}static cleanup(){if(!(0<this.#pendingTextLayers.size)){this.#ascentCache.clear();for(var{canvas:e}of this.#canvasContexts.values())e.remove();this.#canvasContexts.clear()}}static#getCtx(e=null){let t=this.#canvasContexts.get(e||="");var r;return t||((r=document.createElement("canvas")).className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#canvasContexts.set(e,t)),t}static#ensureMinFontSizeComputed(){var e;null===this.#minFontSize&&((e=document.createElement("div")).style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),this.#minFontSize=e.getBoundingClientRect().height,e.remove())}static#getAscent(t,r){var a=this.#ascentCache.get(t);if(a)return a;var a=this.#getCtx(r),r=a.font,e=(a.canvas.width=a.canvas.height=30,a.font="30px "+t,a.measureText(""));let i=e.fontBoundingBoxAscent,o=Math.abs(e.fontBoundingBoxDescent);if(i){let e=i/(i+o);return this.#ascentCache.set(t,e),a.canvas.width=a.canvas.height=0,a.font=r,e}a.strokeStyle="red",a.clearRect(0,0,30,30),a.strokeText("g",0,0);let n=a.getImageData(0,0,30,30).data;o=0;for(let e=n.length-1-3;0<=e;e-=4)if(0<n[e]){o=Math.ceil(e/4/30);break}a.clearRect(0,0,30,30),a.strokeText("A",0,30),n=a.getImageData(0,0,30,30).data;for(let e=i=0,t=n.length;e<t;e+=4)if(0<n[e]){i=30-Math.floor(e/4/30);break}a.canvas.width=a.canvas.height=0,a.font=r;let s=i?i/(i+o):.8;return this.#ascentCache.set(t,s),s}}class P1{static textContent(e){let o=[];var t={items:o,styles:Object.create(null)};return function t(r){if(r){let e=null;var a=r.name;if("#text"===a)e=r.value;else{if(!P1.shouldBuildText(a))return;r?.attributes?.textContent?e=r.attributes.textContent:r.value&&(e=r.value)}if(null!==e&&o.push({str:e}),r.children)for(var i of r.children)t(i)}}(e),t}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}let y1=65536,_1=Gc?nm:_g,S1=Gc?sm:fg,f1=Gc?om:yg,C1=Gc?lm:Cg;function b1(e){return"object"==typeof e&&Number.isInteger(e?.num)&&0<=e.num&&Number.isInteger(e?.gen)&&0<=e.gen}class v1{static#docId=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+v1.#docId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class w1{constructor(e,t,r=!1,a=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(var r of this._rangeListeners)r(e,t)}onDataProgress(t,r){this._readyCapability.promise.then(()=>{for(var e of this._progressListeners)e(t,r)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(var e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(var e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Nc("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class J1{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return o(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){e=this._transport.getRenderingIntent(e).renderingIntent;return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class G1{#delayedCleanupTimeout=null;#pendingCleanup=!1;constructor(e,t,r,a=!1){this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=a?new Ag:null,this._pdfBug=a,this.commonObjs=r.commonObjs,this.objs=new L1,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:a=0,dontFlip:i=!1}={}){return new vg({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:a,dontFlip:i})}getAnnotations({intent:e="display"}={}){e=this._transport.getRenderingIntent(e).renderingIntent;return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return o(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:a=kc.ENABLE,transform:i=null,background:o=null,optionalContentConfigPromise:n=null,annotationCanvasMap:s=null,pageColors:l=null,printAnnotationStorage:d=null}){this._stats?.time("Overall");r=this._transport.getRenderingIntent(r,a,d);let{renderingIntent:c,cacheKey:g}=r,m=(this.#pendingCleanup=!1,this.#abortDelayedCleanup(),n||=this._transport.getOptionalContentConfig(c),this._intentStates.get(g)),p=(m||(m=Object.create(null),this._intentStates.set(g,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null),!!(c&Xc.PRINT)),u=(m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),e=>{m.renderTasks.delete(h),(this._maybeCleanupAfterRender||p)&&(this.#pendingCleanup=!0),this.#tryCleanup(!p),e?(h.capability.reject(e),this._abortOperatorList({intentState:m,reason:e instanceof Error?e:new Error(e)})):h.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled)&&globalThis.Stats.add(this.pageNumber,this._stats)}),h=new M1({callback:u,params:{canvasContext:e,viewport:t,transform:i,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:s,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!p,pdfBug:this._pdfBug,pageColors:l});(m.renderTasks||=new Set).add(h);a=h.task;return Promise.all([m.displayReadyCapability.promise,n]).then(([e,t])=>{if(this.destroyed)u();else{if(this._stats?.time("Rendering"),!(t.renderingIntent&c))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");h.initializeGraphics({transparency:e,optionalContentConfig:t}),h.operatorListChanged()}}).catch(u),a}getOperatorList({intent:e="display",annotationMode:t=kc.ENABLE,printAnnotationStorage:r=null}={}){e=this._transport.getRenderingIntent(e,t,r,!0);let a=this._intentStates.get(e.cacheKey);a||(a=Object.create(null),this._intentStates.set(e.cacheKey,a));let i;return a.opListReadCapability||((i=Object.create(null)).operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(i))},a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(i),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(e)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size(e){return e.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>P1.textContent(e));let r=this.streamTextContent(e);return new Promise(function(a,e){let t=r.getReader(),i={items:[],styles:Object.create(null),lang:null};!function r(){t.read().then(function({value:e,done:t}){t?a(i):(i.lang??=e.lang,Object.assign(i.styles,e.styles),i.items.push(...e.items),r())},e)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;var e,t=[];for(e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(var r of e.renderTasks)t.push(r.completed),r.cancel();return this.objs.clear(),this.#pendingCleanup=!1,this.#abortDelayedCleanup(),Promise.all(t)}cleanup(e=!1){this.#pendingCleanup=!0;var t=this.#tryCleanup(!1);return e&&t&&(this._stats&&=new Ag),t}#tryCleanup(e=!1){if(this.#abortDelayedCleanup(),!this.#pendingCleanup||this.destroyed)return!1;if(e)return this.#delayedCleanupTimeout=setTimeout(()=>{this.#delayedCleanupTimeout=null,this.#tryCleanup(!1)},5e3),!1;for(var{renderTasks:t,operatorList:r}of this._intentStates.values())if(0<t.size||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),!(this.#pendingCleanup=!1)}#abortDelayedCleanup(){this.#delayedCleanupTimeout&&(clearTimeout(this.#delayedCleanupTimeout),this.#delayedCleanupTimeout=null)}_startRenderPage(e,t){t=this._intentStates.get(t);t&&(this._stats?.timeEnd("Page Request"),t.displayReadyCapability?.resolve(e))}_renderPageChunk(r,a){for(let e=0,t=r.length;e<t;e++)a.operatorList.fnArray.push(r.fnArray[e]),a.operatorList.argsArray.push(r.argsArray[e]);a.operatorList.lastChunk=r.lastChunk,a.operatorList.separateAnnots=r.separateAnnots;for(var e of a.renderTasks)e.operatorListChanged();r.lastChunk&&this.#tryCleanup(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){var{map:r,transfer:a}=r;let i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r},a).getReader(),o=this._intentStates.get(t),n=(o.streamReader=i,()=>{i.read().then(({value:e,done:t})=>{t?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,o),n())},e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(var t of o.renderTasks)t.operatorListChanged();this.#tryCleanup(!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}})});n()}_abortOperatorList({intentState:t,reason:r,force:e=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!e){if(0<t.renderTasks.size)return;if(r instanceof wg){let e=100;return 0<r.extraDelay&&r.extraDelay<1e3&&(e+=r.extraDelay),void(t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:r,force:!0})},e))}}if(t.streamReader.cancel(new tg(r.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(var[a,i]of this._intentStates)if(i===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}class A1{#listeners=new Set;#deferred=Promise.resolve();postMessage(e,t){let r={data:structuredClone(e,t?{transfer:t}:null)};this.#deferred.then(()=>{for(var e of this.#listeners)e.call(this,r)})}addEventListener(e,t){this.#listeners.add(t)}removeEventListener(e,t){this.#listeners.delete(t)}terminate(){this.#listeners.clear()}}let T1={isWorkerDisabled:!1,fakeWorkerId:0};Gc&&(T1.isWorkerDisabled=!0,Em.workerSrc||="./pdf.worker.mjs"),T1.isSameOrigin=function(e,t){let r;try{if(!(r=new URL(e)).origin||"null"===r.origin)return!1}catch{return!1}e=new URL(t,r);return r.origin===e.origin},T1.createCDNWrapper=function(e){return URL.createObjectURL(new Blob([`await import("${e}");`],{type:"text/javascript"}))};class X1{static#workerPorts;constructor({name:e=null,port:t=null,verbosity:r=Rc}={}){if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(X1.#workerPorts?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(X1.#workerPorts||=new WeakMap).set(t,this),this._initializeFromPort(t)}else this._initialize()}get promise(){return Gc?Promise.all([am.promise,this._readyCapability.promise]):this._readyCapability.promise}#resolve(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new $m("main","worker",e),this._messageHandler.on("ready",function(){}),this.#resolve()}_initialize(){if(!T1.isWorkerDisabled&&!X1.#mainThreadWorkerMessageHandler){let e=X1.workerSrc;try{T1.isSameOrigin(window.location.href,e)||(e=T1.createCDNWrapper(new URL(e,window.location).href));let t=new Worker(e,{type:"module"}),r=new $m("main","worker",t),a=()=>{i.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController,o=(t.addEventListener("error",()=>{this._webWorker||a()},{signal:i.signal}),r.on("test",e=>{i.abort(),this.destroyed||!e?a():(this._messageHandler=r,this._port=t,this._webWorker=t,this.#resolve())}),r.on("ready",e=>{if(i.abort(),this.destroyed)a();else try{o()}catch{this._setupFakeWorker()}}),()=>{var e=new Uint8Array;r.send("test",e,[e.buffer])});return void o()}catch{Hc("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){T1.isWorkerDisabled||(S("Setting up fake worker."),T1.isWorkerDisabled=!0),X1._setupFakeWorkerGlobal.then(e=>{var t,r,a;this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):(t=new A1,this._port=t,r="fake"+T1.fakeWorkerId++,a=new $m(r+"_worker",r,t),e.setup(a,t),this._messageHandler=new $m(r,r+"_worker",t),this.#resolve())}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),X1.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");var t=this.#workerPorts?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new X1(e)}static get workerSrc(){if(Em.workerSrc)return Em.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return o(this,"_setupFakeWorkerGlobal",(async()=>this.#mainThreadWorkerMessageHandler||(await import(this.workerSrc)).WorkerMessageHandler)())}}class k1{#methodPromises=new Map;#pageCache=new Map;#pagePromises=new Map;#pageRefCache=new Map;#passwordCapability=null;constructor(e,t,r,a,i){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new L1,this.fontLoader=new tm({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#cacheSimpleMethod(e,t=null){var r=this.#methodPromises.get(e);return r||(r=this.messageHandler.sendWithPromise(e,t),this.#methodPromises.set(e,r),r)}get annotationStorage(){return o(this,"annotationStorage",new Qg)}getRenderingIntent(e,t=kc.ENABLE,r=null,a=!1){let i=Xc.DISPLAY,o=Kg;switch(e){case"any":i=Xc.ANY;break;case"display":break;case"print":i=Xc.PRINT;break;default:S("getRenderingIntent - invalid intent: "+e)}switch(t){case kc.DISABLE:i+=Xc.ANNOTATIONS_DISABLE;break;case kc.ENABLE:break;case kc.ENABLE_FORMS:i+=Xc.ANNOTATIONS_FORMS;break;case kc.ENABLE_STORAGE:var n=(i+=Xc.ANNOTATIONS_STORAGE)&Xc.PRINT&&r instanceof em?r:this.annotationStorage;o=n.serializable;break;default:S("getRenderingIntent - invalid annotationMode: "+t)}return a&&(i+=Xc.OPLIST),{renderingIntent:i,cacheKey:i+"_"+o.hash,annotationStorageSerializable:o}}destroy(){if(!this.destroyCapability){this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#passwordCapability?.reject(new Error("Worker was destroyed during onPassword callback"));var e,t=[];for(e of this.#pageCache.values())t.push(e._destroy());this.#pageCache.clear(),this.#pagePromises.clear(),this.#pageRefCache.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var r=this.messageHandler.sendWithPromise("Terminate",null);t.push(r),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#methodPromises.clear(),this.filterFactory.destroy(),h1.cleanup(),this._networkStream?.cancelAllRequests(new tg("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject)}return this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:c,loadingTask:a}=this;c.on("GetReader",(e,r)=>{Bc(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},r.onPull=()=>{this._fullReader.read().then(function({value:e,done:t}){t?r.close():(Bc(e instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{r.error(e)})},r.onCancel=e=>{this._fullReader.cancel(e),r.ready.catch(e=>{if(!this.destroyed)throw e})}}),c.on("ReaderHeadersReady",e=>{let t=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then(()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&a.onProgress?.(this._lastProgress),r.onProgress=e=>{a.onProgress?.({loaded:e.loaded,total:e.total})}),t.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},t.reject),t.promise}),c.on("GetRangeReader",(e,r)=>{Bc(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let t=this._networkStream.getRangeReader(e.begin,e.end);t?(r.onPull=()=>{t.read().then(function({value:e,done:t}){t?r.close():(Bc(e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{r.error(e)})},r.onCancel=e=>{t.cancel(e),r.ready.catch(e=>{if(!this.destroyed)throw e})}):r.close()}),c.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,a._capability.resolve(new J1(e,this))}),c.on("DocException",function(e){let t;switch(e.name){case"PasswordException":t=new Zc(e.message,e.code);break;case"InvalidPDFException":t=new Yc(e.message);break;case"MissingPDFException":t=new Kc(e.message);break;case"UnexpectedResponseException":t=new Qc(e.message,e.status);break;case"UnknownErrorException":t=new qc(e.message,e.details);break;default:Nc("DocException - expected a valid Error.")}a._capability.reject(t)}),c.on("PasswordRequest",e=>{if(this.#passwordCapability=Promise.withResolvers(),a.onPassword){var t=e=>{e instanceof Error?this.#passwordCapability.reject(e):this.#passwordCapability.resolve({password:e})};try{a.onPassword(t,e.code)}catch(e){this.#passwordCapability.reject(e)}}else this.#passwordCapability.reject(new Zc(e.message,e.code));return this.#passwordCapability.promise}),c.on("DataLoaded",e=>{a.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),c.on("StartRenderPage",e=>{this.destroyed||this.#pageCache.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),c.on("commonobj",([i,e,o])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(e){case"Font":let{disableFontFace:t,fontExtraProperties:r,pdfBug:a}=this._params;if("error"in o){var n=o.error;S("Error during font loading: "+n),this.commonObjs.resolve(i,n)}else{n=a&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null;let e=new rm(o,{disableFontFace:t,inspectFont:n});this.fontLoader.bind(e).catch(()=>c.sendWithPromise("FontFallback",{id:i})).finally(()=>{!r&&e.data&&(e.data=null),this.commonObjs.resolve(i,e)})}break;case"CopyLocalImage":var s,l=o.imageRef;Bc(l,"The imageRef must be defined.");for(s of this.#pageCache.values())for(var[,d]of s.objs)if(d?.ref===l)return d.dataLen?(this.commonObjs.resolve(i,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error("Got unknown common object type "+e)}return null}),c.on("obj",([e,t,r,a])=>{if(!this.destroyed){var i=this.#pageCache.get(t);if(!i.objs.has(e))if(0===i._intentStates.size)a?.bitmap?.close();else switch(r){case"Image":i.objs.resolve(e,a),1e7<a?.dataLen&&(i._maybeCleanupAfterRender=!0);break;case"Pattern":i.objs.resolve(e,a);break;default:throw new Error("Got unknown object type "+r)}}}),c.on("DocProgress",e=>{this.destroyed||a.onProgress?.({loaded:e.loaded,total:e.total})}),c.on("FetchBuiltInCMap",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),c.on("FetchStandardFontData",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&S("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");var{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));let r=t-1,e=this.#pagePromises.get(r);var a;return e||(a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(e=>{if(this.destroyed)throw new Error("Transport destroyed");e.refStr&&this.#pageRefCache.set(e.refStr,t);e=new G1(r,e,this,this._params.pdfBug);return this.#pageCache.set(r,e),e}),this.#pagePromises.set(r,a),a)}getPageIndex(e){return b1(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#cacheSimpleMethod("GetFieldObjects")}hasJSActions(){return this.#cacheSimpleMethod("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#cacheSimpleMethod("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#cacheSimpleMethod("GetOptionalContentConfig").then(e=>new Hm(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){var e="GetMetadata",t=this.#methodPromises.get(e);return t||(t=this.messageHandler.sendWithPromise(e,null).then(e=>({info:e[0],metadata:e[1]?new Fm(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})),this.#methodPromises.set(e,t),t)}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(var t of this.#pageCache.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#methodPromises.clear(),this.filterFactory.destroy(!0),h1.cleanup()}}cachedPageNumber(e){return b1(e)?(e=0===e.gen?e.num+"R":e.num+"R"+e.gen,this.#pageRefCache.get(e)??null):null}}let x1=Symbol("INITIAL_DATA");class L1{#objs=Object.create(null);#ensureObj(e){return this.#objs[e]||={...Promise.withResolvers(),data:x1}}get(t,r=null){if(r){let e=this.#ensureObj(t);return e.promise.then(()=>r(e.data)),null}let e=this.#objs[t];if(e&&e.data!==x1)return e.data;throw new Error(`Requesting object that isn't resolved yet ${t}.`)}has(e){e=this.#objs[e];return!!e&&e.data!==x1}resolve(e,t=null){e=this.#ensureObj(e);e.data=t,e.resolve()}clear(){for(var e in this.#objs){e=this.#objs[e].data;e?.bitmap?.close()}this.#objs=Object.create(null)}*[Symbol.iterator](){for(var e in this.#objs){var t=this.#objs[e].data;t!==x1&&(yield[e,t])}}}class E1{#internalRenderTask=null;constructor(e){this.#internalRenderTask=e,this.onContinue=null}get promise(){return this.#internalRenderTask.capability.promise}cancel(e=0){this.#internalRenderTask.cancel(null,e)}get separateAnnots(){var e,t=this.#internalRenderTask.operatorList.separateAnnots;return!!t&&(e=this.#internalRenderTask.annotationCanvasMap,t.form||t.canvas&&0<e?.size)}}class M1{#rAF=null;static#canvasInUse=new WeakSet;constructor({callback:e,params:t,objs:r,commonObjs:a,annotationCanvasMap:i,operatorList:o,pageIndex:n,canvasFactory:s,filterFactory:l,useRequestAnimationFrame:d=!1,pdfBug:c=!1,pageColors:g=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=a,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=n,this.canvasFactory=s,this.filterFactory=l,this._pdfBug=c,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!=typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new E1(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(!this.cancelled){if(this._canvas){if(M1.#canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");M1.#canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var{canvasContext:r,viewport:a,transform:i,background:o}=this.params;this.gfx=new Lm(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:a,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#rAF&&(window.cancelAnimationFrame(this.#rAF),this.#rAF=null),M1.#canvasInUse.delete(this._canvas),this.callback(e||new wg("Rendering cancelled, page "+(this._pageIndex+1),t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#rAF=window.requestAnimationFrame(()=>{this.#rAF=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk)&&(this.gfx.endDrawing(),M1.#canvasInUse.delete(this._canvas),this.callback()))}}let I1="4.4.168",D1="19fbc8998";function $1(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function F1(e){return Math.max(0,Math.min(255,255*e))}class O1{static CMYK_G([e,t,r,a]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+a)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return[e=F1(e),e,e]}static G_HTML([e]){e=$1(e);return"#"+e+e+e}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(F1)}static RGB_HTML(e){return"#"+e.map($1).join("")}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,a]){return["RGB",1-Math.min(1,e+a),1-Math.min(1,r+a),1-Math.min(1,t+a)]}static CMYK_rgb([e,t,r,a]){return[F1(1-Math.min(1,e+a)),F1(1-Math.min(1,r+a)),F1(1-Math.min(1,t+a))]}static CMYK_HTML(e){e=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([e,t,r]){e=1-e,t=1-t,r=1-r;return["CMYK",e,t,r,Math.min(e,t,r)]}}class R1{static setupStorage(e,t,r,a,i){var o=a.getValue(t,{value:null});switch(r.name){case"textarea":null!==o.value&&(e.textContent=o.value),"print"!==i&&e.addEventListener("input",e=>{a.setValue(t,{value:e.target.value})});break;case"input":if("radio"===r.attributes.type||"checkbox"===r.attributes.type){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",e=>{a.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==o.value&&e.setAttribute("value",o.value),"print"===i)break;e.addEventListener("input",e=>{a.setValue(t,{value:e.target.value})})}break;case"select":if(null!==o.value){e.setAttribute("value",o.value);for(var n of r.children)n.attributes.value===o.value?n.attributes.selected=!0:n.attributes.hasOwnProperty("selected")&&delete n.attributes.selected}e.addEventListener("input",e=>{e=e.target.options,e=-1===e.selectedIndex?"":e[e.selectedIndex].value;a.setValue(t,{value:e})})}}static setAttributes({html:e,element:t,storage:r=null,intent:a,linkService:i}){var o,n,s=t.attributes,l=e instanceof HTMLAnchorElement;"radio"===s.type&&(s.name=s.name+"-"+a);for([o,n]of Object.entries(s))if(null!=n)switch(o){case"class":n.length&&e.setAttribute(o,n.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",n);break;case"style":Object.assign(e.style,n);break;case"textContent":e.textContent=n;break;default:l&&("href"===o||"newWindow"===o)||e.setAttribute(o,n)}l&&i.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,t,r)}static render(e){var t=e.annotationStorage,r=e.linkService,a=e.xfaHtml,i=e.intent||"display",o=document.createElement(a.name),n=(a.attributes&&this.setAttributes({html:o,element:a,intent:i,linkService:r}),"richText"!==i),s=e.div,l=(s.append(o),e.viewport&&(e=`matrix(${e.viewport.transform.join(",")})`,s.style.transform=e),n&&s.setAttribute("class","xfaLayer xfaFont"),[]);if(0===a.children.length)a.value&&(e=document.createTextNode(a.value),o.append(e),n)&&P1.shouldBuildText(a.name)&&l.push(e);else{for(var d,c=[[a,-1,o]];0<c.length;){var g,[m,p,u]=c.at(-1);p+1===m.children.length?c.pop():null!==(p=m.children[++c.at(-1)[1]])&&(m=p.name,"#text"===m?(g=document.createTextNode(p.value),l.push(g),u.append(g)):(g=p?.attributes?.xmlns?document.createElementNS(p.attributes.xmlns,m):document.createElement(m),u.append(g),p.attributes&&this.setAttributes({html:g,element:p,storage:t,intent:i,linkService:r}),0<p.children?.length?c.push([p,-1,g]):p.value&&(u=document.createTextNode(p.value),n&&P1.shouldBuildText(m)&&l.push(u),g.append(u))))}for(d of s.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0)}return{textDivs:l}}static update(e){var t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}let H1=new WeakSet;function N1(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class B1{static create(e){switch(e.data.annotationType){case Mc.LINK:return new z1(e);case Mc.TEXT:return new U1(e);case Mc.WIDGET:switch(e.data.fieldType){case"Tx":return new W1(e);case"Btn":return e.data.radioButton?new Y1(e):new(e.data.checkBox?q1:K1)(e);case"Ch":return new Q1(e);case"Sig":return new Z1(e)}return new j1(e);case Mc.POPUP:return new ep(e);case Mc.FREETEXT:return new rp(e);case Mc.LINE:return new ap(e);case Mc.SQUARE:return new ip(e);case Mc.CIRCLE:return new op(e);case Mc.POLYLINE:return new np(e);case Mc.CARET:return new lp(e);case Mc.INK:return new dp(e);case Mc.POLYGON:return new sp(e);case Mc.HIGHLIGHT:return new cp(e);case Mc.UNDERLINE:return new gp(e);case Mc.SQUIGGLY:return new mp(e);case Mc.STRIKEOUT:return new pp(e);case Mc.STAMP:return new up(e);case Mc.FILEATTACHMENT:return new hp(e);default:return new V1(e)}}}class V1{#updates=null;#hasBorder=!1;#popupElement=null;constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),a&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e?.str||t?.str||r?.str)}get hasPopupData(){return V1._hasPopupData(this.data)}updateEdited(e){var t;this.container&&(this.#updates||={rect:this.data.rect.slice(0)},t=e.rect,t&&this.#setRectEdited(t),this.#popupElement?.popup.updateEdited(e))}resetEdited(){this.#updates&&(this.#setRectEdited(this.#updates.rect),this.#popupElement?.popup.resetEdited(),this.#updates=null)}#setRectEdited(e){var{container:{style:t},data:{rect:r,rotation:a},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:n,pageY:s}}}}=this,{width:r,height:l}=(r?.splice(0,4,...e),N1(e));t.left=100*(e[0]-n)/i+"%",t.top=100*(o-e[3]+s)/o+"%",0===a?(t.width=100*r/i+"%",t.height=100*l/o+"%"):this.setRotation(a)}_createContainer(t){var{data:r,parent:{page:a,viewport:i}}=this,o=document.createElement("section"),n=(o.setAttribute("data-annotation-id",r.id),this instanceof j1||(o.tabIndex=1e3),o).style;if(n.zIndex=this.parent.zIndex++,r.popupRef&&o.setAttribute("aria-haspopup","dialog"),r.alternativeText&&(o.title=r.alternativeText),r.noRotate&&o.classList.add("norotate"),!r.rect||this instanceof ep){let e=r.rotation;r.hasOwnCanvas||0===e||this.setRotation(e,o)}else{var{width:s,height:l}=N1(r.rect);if(!t&&0<r.borderStyle.width){n.borderWidth=r.borderStyle.width+"px";var t=r.borderStyle.horizontalCornerRadius,d=r.borderStyle.verticalCornerRadius;switch(0<t||0<d?n.borderRadius=`calc(${t}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`:this instanceof Y1&&(n.borderRadius=`calc(${s}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`),r.borderStyle.style){case Ic.SOLID:n.borderStyle="solid";break;case Ic.DASHED:n.borderStyle="dashed";break;case Ic.BEVELED:S("Unimplemented border style: beveled");break;case Ic.INSET:S("Unimplemented border style: inset");break;case Ic.UNDERLINE:n.borderBottomStyle="solid"}t=r.borderColor||null;t?(this.#hasBorder=!0,n.borderColor=f.makeHexColor(0|t[0],0|t[1],0|t[2])):n.borderWidth=0}var d=f.normalizeRect([r.rect[0],a.view[3]-r.rect[1]+a.view[1],r.rect[2],a.view[3]-r.rect[3]+a.view[1]]),{pageWidth:t,pageHeight:a,pageX:i,pageY:c}=i.rawDims;n.left=100*(d[0]-i)/t+"%",n.top=100*(d[1]-c)/a+"%";let e=r.rotation;r.hasOwnCanvas||0===e?(n.width=100*s/t+"%",n.height=100*l/a+"%"):this.setRotation(e,o)}return o}setRotation(r,a=this.container){if(this.data.rect){var{pageWidth:i,pageHeight:o}=this.parent.viewport.rawDims,{width:n,height:s}=N1(this.data.rect);let e,t;t=r%180==0?(e=100*n/i,100*s/o):(e=100*s/i,100*n/o),a.style.width=e+"%",a.style.height=t+"%",a.setAttribute("data-main-rotation",(360-r)%360)}}get _commonActions(){let t=(e,t,r)=>{var e=r.detail[e],a=e[0],e=e.slice(1);r.target.style[t]=O1[a+"_HTML"](e),this.annotationStorage.setValue(this.data.id,{[t]:O1[a+"_rgb"](e)})};return o(this,"_commonActions",{display:e=>{var e=e.detail.display,t=e%2==1;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:t,noPrint:1===e||2===e})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{e=e.detail.hidden;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{e=e.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(e,t){var r,a=this._commonActions;for(r of Object.keys(t.detail))(e[r]||a[r])?.(t)}_setDefaultPropertiesFromJS(e){if(this.enableScripting){var t=this.annotationStorage.getRawValue(this.data.id);if(t){var r,a,i=this._commonActions;for([r,a]of Object.entries(t)){var o=i[r];o&&(o({detail:{[r]:a},target:e}),delete t[r])}}}}_createQuadrilaterals(){if(this.container){var a=this.data.quadPoints;if(a){var[i,e,t,o]=this.data.rect.map(e=>Math.fround(e));if(8===a.length){var[n,s,l,d]=a.subarray(2,6);if(t===n&&o===s&&i===l&&e===d)return}n=this.container.style;let r;this.#hasBorder&&({borderColor:s,borderWidth:l}=n,n.borderWidth=0,r=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${s}" stroke-width="${l}">`],this.container.classList.add("hasBorder"));var c=t-i,g=o-e,m=this.svgFactory,d=m.createElement("svg"),s=(d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),m.createElement("defs")),p=(d.append(s),m.createElement("clipPath")),l="clippath_"+this.data.id;p.setAttribute("id",l),p.setAttribute("clipPathUnits","objectBoundingBox"),s.append(p);for(let e=2,t=a.length;e<t;e+=8){var u=a[e],h=a[e+1],P=a[e+2],y=a[e+3],_=m.createElement("rect"),S=(P-i)/c,f=(o-h)/g,u=(u-P)/c,P=(h-y)/g;_.setAttribute("x",S),_.setAttribute("y",f),_.setAttribute("width",u),_.setAttribute("height",P),p.append(_),r?.push(`<rect vector-effect="non-scaling-stroke" x="${S}" y="${f}" width="${u}" height="${P}"/>`)}this.#hasBorder&&(r.push("</g></svg>')"),n.backgroundImage=r.join("")),this.container.append(d),this.container.style.clipPath=`url(#${l})`}}}_createPopup(){var{container:e,data:t}=this,e=(e.setAttribute("aria-haspopup","dialog"),this.#popupElement=new ep({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:"popup_"+t.id,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Nc("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){var r=[];if(this._fieldObjects){var a=this._fieldObjects[e];if(a)for(var{page:i,id:o,exportValues:n}of a)-1!==i&&o!==t&&(i="string"==typeof n?n:null,(n=document.querySelector(`[data-element-id="${o}"]`))&&!H1.has(n)?S("_getElementsByName - element not allowed: "+o):r.push({id:o,exportValue:i,domElement:n}))}else for(var s of document.getElementsByName(e)){var l=s.exportValue,d=s.getAttribute("data-element-id");d!==t&&H1.has(s)&&r.push({id:d,exportValue:l,domElement:s})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){var e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(var t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(this._isEditable){let{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}}}class z1 extends V1{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){var{data:e,linkService:t}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let a=!1;return e.url?(t.addLinkAttributes(r,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(r,e.action),a=!0):e.attachment?(this.#bindAttachment(r,e.attachment,e.attachmentDest),a=!0):e.setOCGState?(this.#bindSetOCGState(r,e.setOCGState),a=!0):e.dest?(this._bindLink(r,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),a=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(r,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(r),this.container}#setInternalLink(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),!t&&""!==t||this.#setInternalLink()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#setInternalLink()}#bindAttachment(e,t,r=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,r),!1),this.#setInternalLink()}#bindSetOCGState(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#setInternalLink()}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");var a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let e of Object.keys(r.actions)){var i=a.get(e);i&&(t[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:e}}),!1))}t.onclick||(t.onclick=()=>!1),this.#setInternalLink()}_bindResetFormAction(e,y){let _=e.onclick;_||(e.href=this.linkService.getAnchorUrl("")),this.#setInternalLink(),this._fieldObjects?e.onclick=()=>{_?.();var{fields:e,refs:t,include:r}=y,a=[];if(0!==e.length||0!==t.length){var i,o,n,s=new Set(t);for(i of e)for({id:o}of this._fieldObjects[i]||[])s.add(o);for(n of Object.values(this._fieldObjects))for(var l of n)s.has(l.id)===r&&a.push(l)}else for(var d of Object.values(this._fieldObjects))a.push(...d);var c,g=this.annotationStorage,m=[];for(c of a){var p=c.id;switch(m.push(p),c.type){case"text":var u=c.defaultValue||"";g.setValue(p,{value:u});break;case"checkbox":case"radiobutton":u=c.defaultValue===c.exportValues;g.setValue(p,{value:u});break;case"combobox":case"listbox":var h=c.defaultValue||"";g.setValue(p,{value:h});break;default:continue}var P=document.querySelector(`[data-element-id="${p}"]`);P&&(H1.has(P)?P.dispatchEvent(new Event("resetform")):S("_bindResetFormAction - element not allowed: "+p))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}}),!1}:(S('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),_||(e.onclick=()=>!1))}}class U1 extends V1{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");var e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class j1 extends V1{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return og.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,a,i){r.includes("mouse")?e.addEventListener(r,e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(r,e=>{if("blur"===r){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===r){if(t.focused)return;t.focused=!0}i&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:i(e)}})})}_setEventListeners(e,t,r,a){for(var[i,o]of r)"Action"!==o&&!this.data.actions?.[o]||("Focus"!==o&&"Blur"!==o||(t||={focused:!1}),this._setEventListener(e,t,i,o,a),"Focus"!==o||this.data.actions?.Blur?"Blur"!==o||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){var t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":f.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){var t=this.data.defaultAppearanceData.fontColor,r=this.data.defaultAppearanceData.fontSize||9,e=e.style;let a;var i,o,n=e=>Math.round(10*e)/10;a=this.data.multiLine?(o=Math.abs(this.data.rect[3]-this.data.rect[1]-2),i=Math.round(o/(1.35*r))||1,Math.min(r,n(o/i/1.35))):(o=Math.abs(this.data.rect[3]-this.data.rect[1]-2),Math.min(r,n(o/1.35))),e.fontSize=`calc(${a}px * var(--scale-factor))`,e.color=f.makeHexColor(t[0],t[1],t[2]),null!==this.data.textAlignment&&(e.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class W1 extends j1{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,r,a){var i,o=this.annotationStorage;for(i of this._getElementsByName(e.name,e.id))i.domElement&&(i.domElement[t]=r),o.setValue(i.id,{[a]:r})}render(){let i=this.annotationStorage,c=this.data.id,o=(this.container.classList.add("textWidgetAnnotation"),null);if(this.renderForms){var r=i.getValue(c,{value:this.data.fieldValue});let e=r.value||"";var n=i.getValue(c,{charLimit:this.data.maxLen}).charLimit;n&&e.length>n&&(e=e.slice(0,n));let t=r.formattedValue||this.data.textContent?.join("\n")||null,d=(t&&this.data.comb&&(t=t.replaceAll(/\s+/g,"")),{userValue:e,formattedValue:t,lastCommittedValue:null,commitKey:1,focused:!1}),a=(this.data.multiLine?((o=document.createElement("textarea")).textContent=t??e,this.data.doNotScroll&&(o.style.overflowY="hidden")):((o=document.createElement("input")).type="text",o.setAttribute("value",t??e),this.data.doNotScroll&&(o.style.overflowX="hidden")),this.data.hasOwnCanvas&&(o.hidden=!0),H1.add(o),o.setAttribute("data-element-id",c),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.tabIndex=1e3,this._setRequired(o,this.data.required),n&&(o.maxLength=n),o.addEventListener("input",e=>{i.setValue(c,{value:e.target.value}),this.setPropertyOnSiblings(o,"value",e.target.value,"value"),d.formattedValue=null}),o.addEventListener("resetform",e=>{var t=this.data.defaultFieldValue??"";o.value=d.userValue=t,d.formattedValue=null}),e=>{var t=d.formattedValue;null!=t&&(e.target.value=t),e.target.scrollLeft=0});if(this.enableScripting&&this.hasJSActions){o.addEventListener("focus",e=>{d.focused||(e=e.target,d.userValue&&(e.value=d.userValue),d.lastCommittedValue=e.value,d.commitKey=1,this.data.actions?.Focus)||(d.focused=!0)}),o.addEventListener("updatefromsandbox",e=>{this.showElementAndHideCanvas(e.target),this._dispatchEventFromSandbox({value(e){d.userValue=e.detail.value??"",i.setValue(c,{value:d.userValue.toString()}),e.target.value=d.userValue},formattedValue(e){var t=e.detail.formattedValue;null!=(d.formattedValue=t)&&e.target!==document.activeElement&&(e.target.value=t),i.setValue(c,{formattedValue:t})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:t=>{var r=t.detail.charLimit,t=t.target;if(0===r)t.removeAttribute("maxLength");else{t.setAttribute("maxLength",r);let e=d.userValue;!e||e.length<=r||(e=e.slice(0,r),t.value=d.userValue=e,i.setValue(c,{value:e}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:e,willCommit:!0,commitKey:1,selStart:t.selectionStart,selEnd:t.selectionEnd}}))}}},e)}),o.addEventListener("keydown",e=>{let t=-(d.commitKey=1);var r;"Escape"===e.key?t=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(d.commitKey=3):t=2,-1!==t&&(r=e.target.value,d.lastCommittedValue!==r)&&(d.lastCommittedValue=r,d.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:r,willCommit:!0,commitKey:t,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});let r=a;a=null,o.addEventListener("blur",e=>{var t;d.focused&&e.relatedTarget&&(this.data.actions?.Blur||(d.focused=!1),t=e.target.value,d.userValue=t,d.lastCommittedValue!==t&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:t,willCommit:!0,commitKey:d.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),r(e))}),this.data.actions?.Keystroke&&o.addEventListener("beforeinput",e=>{d.lastCommittedValue=null;var{data:t,target:r}=e,{value:a,selectionStart:i,selectionEnd:o}=r;let n=i,s=o;switch(e.inputType){case"deleteWordBackward":var l=a.substring(0,i).match(/\w*[^\w]*$/);l&&(n-=l[0].length);break;case"deleteWordForward":l=a.substring(i).match(/^[^\w]*\w*/);l&&(s+=l[0].length);break;case"deleteContentBackward":i===o&&--n;break;case"deleteContentForward":i===o&&(s+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:a,change:t||"",willCommit:!1,selStart:n,selEnd:s}})}),this._setEventListeners(o,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}a&&o.addEventListener("blur",a),this.data.comb&&(r=(this.data.rect[2]-this.data.rect[0])/n,o.classList.add("comb"),o.style.letterSpacing=`calc(${r}px * var(--scale-factor) - 1ch)`)}else(o=document.createElement("div")).textContent=this.data.fieldValue,o.style.verticalAlign="middle",o.style.display="table-cell",this.data.hasOwnCanvas&&(o.hidden=!0);return this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Z1 extends j1{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class q1 extends j1{constructor(e){super(e,{isRenderable:e.renderForms})}render(){let i=this.annotationStorage,o=this.data,n=o.id,e=i.getValue(n,{value:o.exportValue===o.fieldValue}).value;"string"==typeof e&&(e="Off"!==e,i.setValue(n,{value:e})),this.container.classList.add("buttonWidgetAnnotation","checkBox");var t=document.createElement("input");return H1.add(t),t.setAttribute("data-element-id",n),t.disabled=o.readOnly,this._setRequired(t,this.data.required),t.type="checkbox",t.name=o.fieldName,e&&t.setAttribute("checked",!0),t.setAttribute("exportValue",o.exportValue),t.tabIndex=1e3,t.addEventListener("change",e=>{var t,{name:e,checked:r}=e.target;for(t of this._getElementsByName(e,n)){var a=r&&t.exportValue===o.exportValue;t.domElement&&(t.domElement.checked=a),i.setValue(t.id,{value:a})}i.setValue(n,{value:r})}),t.addEventListener("resetform",e=>{var t=o.defaultFieldValue||"Off";e.target.checked=t===o.exportValue}),this.enableScripting&&this.hasJSActions&&(t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({value(e){e.target.checked="Off"!==e.detail.value,i.setValue(n,{value:e.target.checked})}},e)}),this._setEventListeners(t,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(t),this._setDefaultPropertiesFromJS(t),this.container.append(t),this.container}}class Y1 extends j1{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let o=this.annotationStorage,r=this.data,n=r.id,e=o.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if("string"==typeof e&&(e=e!==r.buttonValue,o.setValue(n,{value:e})),e)for(var t of this._getElementsByName(r.fieldName,n))o.setValue(t.id,{value:!1});var a=document.createElement("input");if(H1.add(a),a.setAttribute("data-element-id",n),a.disabled=r.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=r.fieldName,e&&a.setAttribute("checked",!0),a.tabIndex=1e3,a.addEventListener("change",e=>{var t,{name:e,checked:r}=e.target;for(t of this._getElementsByName(e,n))o.setValue(t.id,{value:!1});o.setValue(n,{value:r})}),a.addEventListener("resetform",e=>{var t=r.defaultFieldValue;e.target.checked=null!=t&&t===r.buttonValue}),this.enableScripting&&this.hasJSActions){let i=r.buttonValue;a.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({value:e=>{var t,r=i===e.detail.value;for(t of this._getElementsByName(e.target.name)){var a=r&&t.id===n;t.domElement&&(t.domElement.checked=a),o.setValue(t.id,{value:a})}}},e)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class K1 extends z1{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){var e=super.render(),t=(e.classList.add("buttonWidgetAnnotation","pushButton"),e.lastChild);return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class Q1 extends j1{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let n=this.annotationStorage,s=this.data.id;var e,t=n.getValue(s,{value:this.data.fieldValue});let l=document.createElement("select"),r=(H1.add(l),l.setAttribute("data-element-id",s),l.disabled=this.data.readOnly,this._setRequired(l,this.data.required),l.name=this.data.fieldName,l.tabIndex=1e3,this.data.combo&&0<this.data.options.length);this.data.combo||(l.size=this.data.options.length,this.data.multiSelect&&(l.multiple=!0)),l.addEventListener("resetform",e=>{var t,r=this.data.defaultFieldValue;for(t of l.options)t.selected=t.value===r});for(e of this.data.options){var a=document.createElement("option");a.textContent=e.displayValue,a.value=e.exportValue,t.value.includes(e.exportValue)&&(a.setAttribute("selected",!0),r=!1),l.append(a)}let i=null;if(r){let e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),l.prepend(e),i=()=>{e.remove(),l.removeEventListener("input",i),i=null},l.addEventListener("input",i)}let d=e=>{let t=e?"value":"textContent";var{options:e,multiple:r}=l;return r?Array.prototype.filter.call(e,e=>e.selected).map(e=>e[t]):-1===e.selectedIndex?null:e[e.selectedIndex][t]},c=d(!1),g=e=>{e=e.target.options;return Array.prototype.map.call(e,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(l.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({value(e){i?.();var t,e=e.detail.value,r=new Set(Array.isArray(e)?e:[e]);for(t of l.options)t.selected=r.has(t.value);n.setValue(s,{value:d(!0)}),c=d(!1)},multipleSelection(e){l.multiple=!0},remove(e){var t=l.options,r=e.detail.remove;t[r].selected=!1,l.remove(r),0<t.length&&-1===Array.prototype.findIndex.call(t,e=>e.selected)&&(t[0].selected=!0),n.setValue(s,{value:d(!0),items:g(e)}),c=d(!1)},clear(e){for(;0!==l.length;)l.remove(0);n.setValue(s,{value:null,items:[]}),c=d(!1)},insert(e){var{index:t,displayValue:r,exportValue:a}=e.detail.insert,t=l.children[t],i=document.createElement("option");i.textContent=r,i.value=a,t?t.before(i):l.append(i),n.setValue(s,{value:d(!0),items:g(e)}),c=d(!1)},items(e){for(var t,r=e.detail.items;0!==l.length;)l.remove(0);for(t of r){var{displayValue:a,exportValue:i}=t,o=document.createElement("option");o.textContent=a,o.value=i,l.append(o)}0<l.options.length&&(l.options[0].selected=!0),n.setValue(s,{value:d(!0),items:g(e)}),c=d(!1)},indices(e){var t,r=new Set(e.detail.indices);for(t of e.target.options)t.selected=r.has(t.index);n.setValue(s,{value:d(!0)}),c=d(!1)},editable(e){e.target.disabled=!e.detail.editable}},e)}),l.addEventListener("input",e=>{var t=d(!0),r=d(!1);n.setValue(s,{value:t}),e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:c,change:r,changeEx:t,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(l,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):l.addEventListener("input",function(e){n.setValue(s,{value:d(!0)})}),this.data.combo&&this._setTextStyle(l),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class ep extends V1{constructor(e){var{data:t,elements:r}=e;super(e,{isRenderable:V1._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");var e,t=this.popup=new tp({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(e of this.elements)e.popup=t,r.push(e.data.id),e.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(e=>dg+e).join(",")),this.container}}class tp{#boundKeyDown=this.#keyDown.bind(this);#boundHide=this.#hide.bind(this);#boundShow=this.#show.bind(this);#boundToggle=this.#toggle.bind(this);#color=null;#container=null;#contentsObj=null;#dateObj=null;#elements=null;#parent=null;#parentRect=null;#pinned=!1;#popup=null;#position=null;#rect=null;#richText=null;#titleObj=null;#updates=null;#wasVisible=!1;constructor({container:e,color:t,elements:r,titleObj:a,modificationDate:i,contentsObj:o,richText:n,parent:s,rect:l,parentRect:d,open:c}){this.#container=e,this.#titleObj=a,this.#contentsObj=o,this.#richText=n,this.#parent=s,this.#color=t,this.#rect=l,this.#parentRect=d,this.#elements=r,this.#dateObj=Lg.toDateObject(i),this.trigger=r.flatMap(e=>e.getElementsToTriggerPopup());for(var g of this.trigger)g.addEventListener("click",this.#boundToggle),g.addEventListener("mouseenter",this.#boundShow),g.addEventListener("mouseleave",this.#boundHide),g.classList.add("popupTriggerArea");for(var m of r)m.container?.addEventListener("keydown",this.#boundKeyDown);this.#container.hidden=!0,c&&this.#toggle()}render(){if(!this.#popup){var e=this.#popup=document.createElement("div");if(e.className="popup",this.#color){var t=e.style.outlineColor=f.makeHexColor(...this.#color);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`;else e.style.backgroundColor=f.makeHexColor(...this.#color.map(e=>Math.floor(.7*(255-e)+e)))}var t=document.createElement("span"),r=(t.className="header",document.createElement("h1")),t=(t.append(r),{dir:r.dir,str:r.textContent}=this.#titleObj,e.append(t),this.#dateObj&&((r=document.createElement("span")).classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),r.setAttribute("data-l10n-args",JSON.stringify({date:this.#dateObj.toLocaleDateString(),time:this.#dateObj.toLocaleTimeString()})),t.append(r)),this.#html);t?(R1.render({xfaHtml:t,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent")):(r=this._formatContents(this.#contentsObj),e.append(r)),this.#container.append(e)}}get#html(){var e=this.#richText,t=this.#contentsObj;return e?.str&&(!t?.str||t.str===e.str)&&this.#richText.html||null}get#fontSize(){return this.#html?.attributes?.style?.fontSize||0}get#fontColor(){return this.#html?.attributes?.style?.color||null}#makePopupContent(e){var t,r=[],a={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},i={style:{color:this.#fontColor,fontSize:this.#fontSize?`calc(${this.#fontSize}px * var(--scale-factor))`:""}};for(t of e.split("\n"))r.push({name:"span",value:t,attributes:i});return a}_formatContents({str:e,dir:t}){var r=document.createElement("p"),a=(r.classList.add("popupContent"),r.dir=t,e.split(/(?:\r\n?|\n)/));for(let e=0,t=a.length;e<t;++e){var i=a[e];r.append(document.createTextNode(i)),e<t-1&&r.append(document.createElement("br"))}return r}#keyDown(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#pinned)&&this.#toggle()}updateEdited({rect:e,popupContent:t}){this.#updates||={contentsObj:this.#contentsObj,richText:this.#richText},e&&(this.#position=null),t&&(this.#richText=this.#makePopupContent(t),this.#contentsObj=null),this.#popup?.remove(),this.#popup=null}resetEdited(){this.#updates&&({contentsObj:this.#contentsObj,richText:this.#richText}=this.#updates,this.#updates=null,this.#popup?.remove(),this.#popup=null,this.#position=null)}#setPosition(){if(null===this.#position){var r,{page:{view:a},viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:n,pageY:s}}}=this.#parent;let e=!!this.#parentRect,t=e?this.#parentRect:this.#rect;for(r of this.#elements)if(!t||null!==f.intersect(r.data.rect,t)){t=r.data.rect,e=!0;break}var a=f.normalizeRect([t[0],a[3]-t[1]+a[1],t[2],a[3]-t[3]+a[1]]),l=e?t[2]-t[0]+5:0,l=a[0]+l,l=(this.#position=[100*(l-n)/i,100*(a[1]-s)/o],this.#container).style;l.left=this.#position[0]+"%",l.top=this.#position[1]+"%"}}#toggle(){this.#pinned=!this.#pinned,this.#pinned?(this.#show(),this.#container.addEventListener("click",this.#boundToggle),this.#container.addEventListener("keydown",this.#boundKeyDown)):(this.#hide(),this.#container.removeEventListener("click",this.#boundToggle),this.#container.removeEventListener("keydown",this.#boundKeyDown))}#show(){this.#popup||this.render(),this.isVisible?this.#pinned&&this.#container.classList.add("focused"):(this.#setPosition(),this.#container.hidden=!1,this.#container.style.zIndex=parseInt(this.#container.style.zIndex)+1e3)}#hide(){this.#container.classList.remove("focused"),!this.#pinned&&this.isVisible&&(this.#container.hidden=!0,this.#container.style.zIndex=parseInt(this.#container.style.zIndex)-1e3)}forceHide(){this.#wasVisible=this.isVisible,this.#wasVisible&&(this.#container.hidden=!0)}maybeShow(){this.#wasVisible&&(this.#popup||this.#show(),this.#wasVisible=!1,this.#container.hidden=!1)}get isVisible(){return!1===this.#container.hidden}}class rp extends V1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=m.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){var e,t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(e of this.textContent){var r=document.createElement("span");r.textContent=e,t.append(r)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class ap extends V1{#line=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");var e=this.data,{width:t,height:r}=N1(e.rect),t=this.svgFactory.create(t,r,!0),r=this.#line=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),t.append(r),this.container.append(t),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#line}addHighlightArea(){this.container.classList.add("highlightArea")}}class ip extends V1{#square=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");var e=this.data,{width:t,height:r}=N1(e.rect),a=this.svgFactory.create(t,r,!0),i=e.borderStyle.width,o=this.#square=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",t-i),o.setAttribute("height",r-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#square}addHighlightArea(){this.container.classList.add("highlightArea")}}class op extends V1{#circle=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");var e=this.data,{width:t,height:r}=N1(e.rect),a=this.svgFactory.create(t,r,!0),i=e.borderStyle.width,o=this.#circle=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",r/2),o.setAttribute("rx",t/2-i/2),o.setAttribute("ry",r/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#circle}addHighlightArea(){this.container.classList.add("highlightArea")}}class np extends V1{#polyline=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);var{rect:a,vertices:i,borderStyle:e,popupRef:t}=this.data;if(i){var{width:o,height:n}=N1(a),o=this.svgFactory.create(o,n,!0);let r=[];for(let e=0,t=i.length;e<t;e+=2){var s=i[e]-a[0],l=a[3]-i[e+1];r.push(s+","+l)}r=r.join(" ");n=this.#polyline=this.svgFactory.createElement(this.svgElementName);n.setAttribute("points",r),n.setAttribute("stroke-width",e.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),o.append(n),this.container.append(o),!t&&this.hasPopupData&&this._createPopup()}return this.container}getElementsToTriggerPopup(){return this.#polyline}addHighlightArea(){this.container.classList.add("highlightArea")}}class sp extends np{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class lp extends V1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class dp extends V1{#polylines=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=m.INK}render(){this.container.classList.add(this.containerClassName);var a,{rect:i,inkLists:e,borderStyle:t,popupRef:o}=this.data,{width:r,height:n}=N1(i),s=this.svgFactory.create(r,n,!0);for(a of e){let r=[];for(let e=0,t=a.length;e<t;e+=2){var l=a[e]-i[0],d=i[3]-a[e+1];r.push(l+","+d)}r=r.join(" ");var c=this.svgFactory.createElement(this.svgElementName);this.#polylines.push(c),c.setAttribute("points",r),c.setAttribute("stroke-width",t.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),!o&&this.hasPopupData&&this._createPopup(),s.append(c)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return this.#polylines}addHighlightArea(){this.container.classList.add("highlightArea")}}class cp extends V1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class gp extends V1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class mp extends V1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class pp extends V1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class up extends V1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class hp extends V1{#trigger=null;constructor(e){super(e,{isRenderable:!0});e=this.data.file;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");var{container:e,data:t}=this;let r,a=(t.hasAppearance||0===t.fillAlpha?r=document.createElement("div"):((r=document.createElement("img")).src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),r.addEventListener("dblclick",this.#download.bind(this)),this.#trigger=r,og.platform).isMac;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(a?e.metaKey:e.ctrlKey)&&this.#download()}),!t.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#trigger}addHighlightArea(){this.container.classList.add("highlightArea")}#download(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Pp{#accessibilityManager=null;#annotationCanvasMap=null;#editableAnnotations=new Map;constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:a,page:i,viewport:o}){this.div=e,this.#accessibilityManager=t,this.#annotationCanvasMap=r,this.page=i,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=a}#appendElement(e,t){var r=e.firstChild||e;r.id=dg+t,this.div.append(e),this.#accessibilityManager?.moveElementInDOM(this.div,e,r,!1)}async render(e){var t,r=e.annotations,a=this.div,i=(Dg(a,this.viewport),new Map),o={data:null,layer:a,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new bg,annotationStorage:e.annotationStorage||new Qg,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(t of r)if(!t.noHTML){var n=t.annotationType===Mc.POPUP;if(n){var s=i.get(t.id);if(!s)continue;o.elements=s}else{var{width:s,height:l}=N1(t.rect);if(s<=0||l<=0)continue}o.data=t;l=B1.create(o);l.isRenderable&&(!n&&t.popupRef&&((n=i.get(t.popupRef))?n.push(l):i.set(t.popupRef,[l])),n=l.render(),t.hidden&&(n.style.visibility="hidden"),this.#appendElement(n,t.id),0<l.annotationEditorType)&&(this.#editableAnnotations.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#setAnnotationCanvasMap()}update({viewport:e}){var t=this.div;Dg(t,{rotation:(this.viewport=e).rotation}),this.#setAnnotationCanvasMap(),t.hidden=!1}#setAnnotationCanvasMap(){if(this.#annotationCanvasMap){var e,t,r=this.div;for([e,t]of this.#annotationCanvasMap){var a,i=r.querySelector(`[data-annotation-id="${e}"]`);i&&(t.className="annotationContent",a=i.firstChild,a?"CANVAS"===a.nodeName?a.replaceWith(t):a.classList.contains("annotationContent")?a.after(t):a.before(t):i.append(t))}this.#annotationCanvasMap.clear()}}getEditableAnnotations(){return Array.from(this.#editableAnnotations.values())}getEditableAnnotation(e){return this.#editableAnnotations.get(e)}}let yp=/\r\n?|\n/g;class _p extends J{#boundEditorDivBlur=this.editorDivBlur.bind(this);#boundEditorDivFocus=this.editorDivFocus.bind(this);#boundEditorDivInput=this.editorDivInput.bind(this);#boundEditorDivKeydown=this.editorDivKeydown.bind(this);#boundEditorDivPaste=this.editorDivPaste.bind(this);#color;#content="";#editorDivId=this.id+"-editor";#fontSize;#initialData=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){var e=_p.prototype,t=e=>e.isEmpty(),r=zg.TRANSLATE_SMALL,a=zg.TRANSLATE_BIG;return o(this,"_keyboardManager",new Bg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:t}]]))}static _type="freetext";static _editorType=m.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#color=e.color||_p._defaultColor||J._defaultLineColor,this.#fontSize=e.fontSize||_p._defaultFontSize}static initialize(e,t){J.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case i.FREETEXT_SIZE:_p._defaultFontSize=t;break;case i.FREETEXT_COLOR:_p._defaultColor=t}}updateParams(e,t){switch(e){case i.FREETEXT_SIZE:this.#updateFontSize(t);break;case i.FREETEXT_COLOR:this.#updateColor(t)}}static get defaultPropertiesToUpdate(){return[[i.FREETEXT_SIZE,_p._defaultFontSize],[i.FREETEXT_COLOR,_p._defaultColor||J._defaultLineColor]]}get propertiesToUpdate(){return[[i.FREETEXT_SIZE,this.#fontSize],[i.FREETEXT_COLOR,this.#color]]}#updateFontSize(e){var t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#fontSize)*this.parentScale),this.#fontSize=e,this.#setEditorDimensions()},r=this.#fontSize;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#updateColor(e){var t=e=>{this.#color=this.editorDiv.style.color=e},r=this.#color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){var e=this.parentScale;return[-_p._internalPadding*e,-(_p._internalPadding+this.#fontSize)*e]}rebuild(){this.parent&&(super.rebuild(),null===this.div||this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){var e;this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(m.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),e=this._uiManager._signal,this.editorDiv.addEventListener("keydown",this.#boundEditorDivKeydown,{signal:e}),this.editorDiv.addEventListener("focus",this.#boundEditorDivFocus,{signal:e}),this.editorDiv.addEventListener("blur",this.#boundEditorDivBlur,{signal:e}),this.editorDiv.addEventListener("input",this.#boundEditorDivInput,{signal:e}),this.editorDiv.addEventListener("paste",this.#boundEditorDivPaste,{signal:e}))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#editorDivId),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#boundEditorDivKeydown),this.editorDiv.removeEventListener("focus",this.#boundEditorDivFocus),this.editorDiv.removeEventListener("blur",this.#boundEditorDivBlur),this.editorDiv.removeEventListener("input",this.#boundEditorDivInput),this.editorDiv.removeEventListener("paste",this.#boundEditorDivPaste),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv)&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#extractText(){var e,t=[];this.editorDiv.normalize();for(e of this.editorDiv.childNodes)t.push(_p.#getNodeContent(e));return t.join("\n")}#setEditorDimensions(){var e,t,r,a,[i,o]=this.parentDimensions;let n;this.isAttachedToDOM?n=this.div.getBoundingClientRect():({currentLayer:e,div:t}=this,r=t.style.display,a=t.classList.contains("hidden"),t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r,t.classList.toggle("hidden",a)),this.rotation%180==this.parentRotation%180?(this.width=n.width/i,this.height=n.height/o):(this.width=n.height/i,this.height=n.width/o),this.fixAndSetPosition()}commit(){if(this.isInEditMode()){super.commit(),this.disableEditMode();let t=this.#content,r=this.#content=this.#extractText().trimEnd();if(t!==r){let e=e=>{(this.#content=e)?(this.#setContent(),this._uiManager.rebuild(this),this.#setEditorDimensions()):this.remove()};this.addCommands({cmd:()=>{e(r)},undo:()=>{e(t)},mustExec:!1}),this.#setEditorDimensions()}}}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){_p._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(!this.div){let i,o;this.width&&(i=this.x,o=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#editorDivId),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),J._l10nPromise.get("pdfjs-free-text-default-content").then(e=>this.editorDiv?.setAttribute("default-content",e)),this.editorDiv.contentEditable=!0;var n=this.editorDiv.style;if(n.fontSize=`calc(${this.#fontSize}px * var(--scale-factor))`,n.color=this.#color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Og(this,this.div,["dblclick","keydown"]),this.width){var[n,s]=this.parentDimensions;if(this.annotationElementId){var l=this.#initialData.position;let[e,t]=this.getInitialTranslation();[e,t]=this.pageTranslationToScreen(e,t);var[d,c]=this.pageDimensions,[g,m]=this.pageTranslation;let r,a;switch(this.rotation){case 0:r=i+(l[0]-g)/d,a=o+this.height-(l[1]-m)/c;break;case 90:r=i+(l[0]-g)/d,a=o-(l[1]-m)/c,[e,t]=[t,-e];break;case 180:r=i-this.width+(l[0]-g)/d,a=o-(l[1]-m)/c,[e,t]=[-e,-t];break;case 270:r=i+(l[0]-g-this.height*c)/d,a=o+(l[1]-m-this.width*d)/c,[e,t]=[-t,e]}this.setAt(r*n,a*s,e,t)}else this.setAt(i*n,o*s,this.width*n,this.height*s);this.#setContent(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0}return this.div}static#getNodeContent(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(yp,"")}editorDivPaste(t){var r=t.clipboardData||window.clipboardData,a=r.types;if(1!==a.length||"text/plain"!==a[0]){t.preventDefault();a=_p.#deserializeContent(r.getData("text")||"").replaceAll(yp,"\n");if(a){t=window.getSelection();if(t.rangeCount){this.editorDiv.normalize(),t.deleteFromDocument();r=t.getRangeAt(0);if(a.includes("\n")){var{startContainer:i,startOffset:o}=r,n=[],s=[];if(i.nodeType===Node.TEXT_NODE){var l=i.parentElement;if(s.push(i.nodeValue.slice(o).replaceAll(yp,"")),l!==this.editorDiv){let e=n;for(var d of this.editorDiv.childNodes)d===l?e=s:e.push(_p.#getNodeContent(d))}n.push(i.nodeValue.slice(0,o).replaceAll(yp,""))}else if(i===this.editorDiv){let e=n,t=0;for(var c of this.editorDiv.childNodes)(e=t++===o?s:e).push(_p.#getNodeContent(c))}this.#content=""+n.join("\n")+a+s.join("\n"),this.#setContent();var g,m=new Range;let e=n.reduce((e,t)=>e+t.length,0);for({firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){var p=g.nodeValue.length;if(e<=p){m.setStart(g,e),m.setEnd(g,e);break}e-=p}t.removeAllRanges(),t.addRange(m)}else r.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),t.collapseToStart()}}}}#setContent(){if(this.editorDiv.replaceChildren(),this.#content)for(var e of this.#content.split("\n")){var t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#serializeContent(){return this.#content.replaceAll("Â "," ")}static#deserializeContent(e){return e.replaceAll(" ","Â ")}get contentDiv(){return this.editorDiv}static deserialize(e,t,r){let a=null;if(e instanceof rp){var{data:{defaultAppearanceData:{fontSize:i,fontColor:o},rect:n,rotation:s,id:l},textContent:d,textPosition:c,parent:{page:{pageNumber:g}}}=e;if(!d||0===d.length)return null;a=e={annotationType:m.FREETEXT,color:Array.from(o),fontSize:i,value:d.join("\n"),position:c,pageIndex:g-1,rect:n.slice(0),rotation:s,id:l,deleted:!1}}o=super.deserialize(e,t,r);return o.#fontSize=e.fontSize,o.#color=f.makeHexColor(...e.color),o.#content=_p.#deserializeContent(e.value),o.annotationElementId=e.id||null,o.#initialData=a,o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};var t=_p._internalPadding*this.parentScale,t=this.getRect(t,t),r=J._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#color),r={annotationType:m.FREETEXT,color:r,fontSize:this.#fontSize,value:this.#serializeContent(),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId};if(!e){if(this.annotationElementId&&!this.#hasElementChanged(r))return null;r.id=this.annotationElementId}return r}#hasElementChanged(e){let{value:t,fontSize:r,color:a,pageIndex:i}=this.#initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==r||e.color.some((e,t)=>e!==a[t])||e.pageIndex!==i}renderAnnotationElement(e){var t=super.renderAnnotationElement(e);if(!this.deleted){var r,a=t.style;a.fontSize=`calc(${this.#fontSize}px * var(--scale-factor))`,a.color=this.#color,t.replaceChildren();for(r of this.#content.split("\n")){var i=document.createElement("div");i.append(r?document.createTextNode(r):document.createElement("br")),t.append(i)}a=_p._internalPadding*this.parentScale;e.updateEdited({rect:this.getRect(a,a),popupContent:this.#content})}return t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Sp{#box;#verticalEdges=[];#intervals=[];constructor(e,t=0,r=0,a=!0){let i=1/0,o=-1/0,n=1/0,s=-1/0;var l,d,c,g,m=10**-4;for({x:l,y:d,width:c,height:g}of e){var p=Math.floor((l-t)/m)*m,u=Math.ceil((l+c+t)/m)*m,h=Math.floor((d-t)/m)*m,P=Math.ceil((d+g+t)/m)*m;this.#verticalEdges.push([p,h,P,!0],[u,h,P,!1]),i=Math.min(i,p),o=Math.max(o,u),n=Math.min(n,h),s=Math.max(s,P)}var y,_=o-i+2*r,S=s-n+2*r,f=i-r,C=n-r,e=this.#verticalEdges.at(a?-1:-2),r=[e[0],e[2]];for(y of this.#verticalEdges){var[b,v,w]=y;y[0]=(b-f)/_,y[1]=(v-C)/S,y[2]=(w-C)/S}this.#box={x:f,y:C,width:_,height:S,lastPoint:r}}getOutlines(){this.#verticalEdges.sort((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]);var e,t=[];for(e of this.#verticalEdges)e[3]?(t.push(...this.#breakEdge(e)),this.#insert(e)):(this.#remove(e),t.push(...this.#breakEdge(e)));return this.#getOutlines(t)}#getOutlines(e){var t,r=[],l=new Set;for(t of e){var[a,i,o]=t;r.push([a,i,t],[a,o,t])}r.sort((e,t)=>e[1]-t[1]||e[0]-t[0]);for(let e=0,t=r.length;e<t;e+=2){var n=r[e][2],s=r[e+1][2];n.push(s),s.push(n),l.add(n),l.add(s)}for(var d,c=[];0<l.size;){var g=l.values().next().value;let[t,r,a,i,o]=g,n=(l.delete(g),t),s=r;for(c.push(d=[t,a]);;){let e;if(l.has(i))e=i;else{if(!l.has(o))break;e=o}l.delete(e),[t,r,a,i,o]=e,n!==t&&(d.push(n,s,t,s===r?r:a),n=t),s=s===r?a:r}d.push(n,s)}return new Cp(c,this.#box)}#binarySearch(e){var t=this.#intervals;let r=0,a=t.length-1;for(;r<=a;){var i=r+a>>1,o=t[i][0];if(o===e)return i;o<e?r=1+i:a=i-1}return a+1}#insert([,e,t]){var r=this.#binarySearch(e);this.#intervals.splice(r,0,[e,t])}#remove([,t,r]){var a=this.#binarySearch(t);for(let e=a;e<this.#intervals.length;e++){var[i,o]=this.#intervals[e];if(i!==t)break;if(i===t&&o===r)return void this.#intervals.splice(e,1)}for(let e=a-1;0<=e;e--){var[n,s]=this.#intervals[e];if(n!==t)break;if(n===t&&s===r)return void this.#intervals.splice(e,1)}}#breakEdge(e){var[r,e,t]=e,a=[[r,e,t]],i=this.#binarySearch(t);for(let e=0;e<i;e++){var[o,n]=this.#intervals[e];for(let e=0,t=a.length;e<t;e++){var[,s,l]=a[e];if(!(n<=s||l<=o))if(o<=s)if(n<l)a[e][1]=n;else{if(1===t)return[];a.splice(e,1),e--,t--}else a[e][2]=o,n<l&&a.push([r,n,l])}}return a}}class fp{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof vp}}class Cp extends fp{#box;#outlines;constructor(e,t){super(),this.#outlines=e,this.#box=t}toSVGPath(){var a,i=[];for(a of this.#outlines){let[t,r]=a;i.push(`M${t} `+r);for(let e=2;e<a.length;e+=2){var o=a[e],n=a[e+1];o===t?(i.push("V"+n),r=n):n===r&&(i.push("H"+o),t=o)}i.push("Z")}return i.join(" ")}serialize([t,e,r,a],i){var o,n=[],s=r-t,l=a-e;for(o of this.#outlines){var d=new Array(o.length);for(let e=0;e<o.length;e+=2)d[e]=t+o[e]*s,d[e+1]=a-o[e+1]*l;n.push(d)}return n}get box(){return this.#box}}class bp{#box;#bottom=[];#innerMargin;#isLTR;#top=[];#last=new Float64Array(18);#lastX;#lastY;#min;#min_dist;#scaleFactor;#thickness;#points=[];static#MIN_DIST=8;static#MIN_DIFF=2;static#MIN=bp.#MIN_DIST+bp.#MIN_DIFF;constructor({x:e,y:t},r,a,i,o,n=0){this.#box=r,this.#thickness=i*a,this.#isLTR=o,this.#last.set([NaN,NaN,NaN,NaN,e,t],6),this.#innerMargin=n,this.#min_dist=bp.#MIN_DIST*a,this.#min=bp.#MIN*a,this.#scaleFactor=a,this.#points.push(e,t)}get free(){return!0}isEmpty(){return isNaN(this.#last[8])}#getLastCoords(){var e=this.#last.subarray(4,6),t=this.#last.subarray(16,18),[r,a,i,o]=this.#box;return[(this.#lastX+(e[0]-t[0])/2-r)/i,(this.#lastY+(e[1]-t[1])/2-a)/o,(this.#lastX+(t[0]-e[0])/2-r)/i,(this.#lastY+(t[1]-e[1])/2-a)/o]}add({x:e,y:t}){this.#lastX=e,this.#lastY=t;var[r,a,i,o]=this.#box;let[n,s,l,d]=this.#last.subarray(8,12);var c=e-l,g=t-d,m=Math.hypot(c,g);if(m<this.#min)return!1;var p=m-this.#min_dist,m=p/m,c=m*c,m=m*g;let u=n,h=s;n=l,s=d,l+=c,d+=m,this.#points?.push(e,t);g=-m/p*this.#thickness,e=c/p*this.#thickness;return this.#last.set(this.#last.subarray(2,8),0),this.#last.set([l+g,d+e],4),this.#last.set(this.#last.subarray(14,18),12),this.#last.set([l-g,d-e],16),isNaN(this.#last[6])?(0===this.#top.length&&(this.#last.set([n+g,s+e],2),this.#top.push(NaN,NaN,NaN,NaN,(n+g-r)/i,(s+e-a)/o),this.#last.set([n-g,s-e],14),this.#bottom.push(NaN,NaN,NaN,NaN,(n-g-r)/i,(s-e-a)/o)),this.#last.set([u,h,n,s,l,d],6),!this.isEmpty()):(this.#last.set([u,h,n,s,l,d],6),Math.abs(Math.atan2(h-s,u-n)-Math.atan2(m,c))<Math.PI/2?([n,s,l,d]=this.#last.subarray(2,6),this.#top.push(NaN,NaN,NaN,NaN,((n+l)/2-r)/i,((s+d)/2-a)/o),[n,s,u,h]=this.#last.subarray(14,18),this.#bottom.push(NaN,NaN,NaN,NaN,((u+n)/2-r)/i,((h+s)/2-a)/o)):([u,h,n,s,l,d]=this.#last.subarray(0,6),this.#top.push(((u+5*n)/6-r)/i,((h+5*s)/6-a)/o,((5*n+l)/6-r)/i,((5*s+d)/6-a)/o,((n+l)/2-r)/i,((s+d)/2-a)/o),[l,d,n,s,u,h]=this.#last.subarray(12,18),this.#bottom.push(((u+5*n)/6-r)/i,((h+5*s)/6-a)/o,((5*n+l)/6-r)/i,((5*s+d)/6-a)/o,((n+l)/2-r)/i,((s+d)/2-a)/o)),!0)}toSVGPath(){if(this.isEmpty())return"";var t=this.#top,r=this.#bottom,e=this.#last.subarray(4,6),a=this.#last.subarray(16,18),[i,o,n,s]=this.#box,[l,d,c,g]=this.#getLastCoords();if(isNaN(this.#last[6])&&!this.isEmpty())return`M${(this.#last[2]-i)/n} ${(this.#last[3]-o)/s} L${(this.#last[4]-i)/n} ${(this.#last[5]-o)/s} L${l} ${d} L${c} ${g} L${(this.#last[16]-i)/n} ${(this.#last[17]-o)/s} L${(this.#last[14]-i)/n} ${(this.#last[15]-o)/s} Z`;var m=[];m.push(`M${t[4]} `+t[5]);for(let e=6;e<t.length;e+=6)isNaN(t[e])?m.push(`L${t[e+4]} `+t[e+5]):m.push(`C${t[e]} ${t[e+1]} ${t[e+2]} ${t[e+3]} ${t[e+4]} `+t[e+5]);m.push(`L${(e[0]-i)/n} ${(e[1]-o)/s} L${l} ${d} L${c} ${g} L${(a[0]-i)/n} `+(a[1]-o)/s);for(let e=r.length-6;6<=e;e-=6)isNaN(r[e])?m.push(`L${r[e+4]} `+r[e+5]):m.push(`C${r[e]} ${r[e+1]} ${r[e+2]} ${r[e+3]} ${r[e+4]} `+r[e+5]);return m.push(`L${r[4]} ${r[5]} Z`),m.join(" ")}getOutlines(){var t=this.#top,r=this.#bottom,a=this.#last,e=a.subarray(4,6),i=a.subarray(16,18),[o,n,s,l]=this.#box,d=new Float64Array((this.#points?.length??0)+2);for(let e=0,t=d.length-2;e<t;e+=2)d[e]=(this.#points[e]-o)/s,d[e+1]=(this.#points[e+1]-n)/l;d[d.length-2]=(this.#lastX-o)/s,d[d.length-1]=(this.#lastY-n)/l;var[c,g,m,p]=this.#getLastCoords();if(isNaN(a[6])&&!this.isEmpty()){let e=new Float64Array(36);return e.set([NaN,NaN,NaN,NaN,(a[2]-o)/s,(a[3]-n)/l,NaN,NaN,NaN,NaN,(a[4]-o)/s,(a[5]-n)/l,NaN,NaN,NaN,NaN,c,g,NaN,NaN,NaN,NaN,m,p,NaN,NaN,NaN,NaN,(a[16]-o)/s,(a[17]-n)/l,NaN,NaN,NaN,NaN,(a[14]-o)/s,(a[15]-n)/l],0),new vp(e,d,this.#box,this.#scaleFactor,this.#innerMargin,this.#isLTR)}let u=new Float64Array(this.#top.length+24+this.#bottom.length),h=t.length;for(let e=0;e<h;e+=2)isNaN(t[e])?u[e]=u[e+1]=NaN:(u[e]=t[e],u[e+1]=t[e+1]);u.set([NaN,NaN,NaN,NaN,(e[0]-o)/s,(e[1]-n)/l,NaN,NaN,NaN,NaN,c,g,NaN,NaN,NaN,NaN,m,p,NaN,NaN,NaN,NaN,(i[0]-o)/s,(i[1]-n)/l],h),h+=24;for(let t=r.length-6;6<=t;t-=6)for(let e=0;e<6;e+=2)isNaN(r[t+e])?u[h]=u[h+1]=NaN:(u[h]=r[t+e],u[h+1]=r[t+e+1]),h+=2;return u.set([NaN,NaN,NaN,NaN,r[4],r[5]],h),new vp(u,d,this.#box,this.#scaleFactor,this.#innerMargin,this.#isLTR)}}class vp extends fp{#box;#bbox=null;#innerMargin;#isLTR;#points;#scaleFactor;#outline;constructor(r,a,e,t,i,o){super(),this.#outline=r,this.#points=a,this.#box=e,this.#scaleFactor=t,this.#innerMargin=i,this.#isLTR=o,this.#computeMinMax(o);var{x:n,y:s,width:l,height:d}=this.#bbox;for(let e=0,t=r.length;e<t;e+=2)r[e]=(r[e]-n)/l,r[e+1]=(r[e+1]-s)/d;for(let e=0,t=a.length;e<t;e+=2)a[e]=(a[e]-n)/l,a[e+1]=(a[e+1]-s)/d}toSVGPath(){var r=[`M${this.#outline[4]} `+this.#outline[5]];for(let e=6,t=this.#outline.length;e<t;e+=6)isNaN(this.#outline[e])?r.push(`L${this.#outline[e+4]} `+this.#outline[e+5]):r.push(`C${this.#outline[e]} ${this.#outline[e+1]} ${this.#outline[e+2]} ${this.#outline[e+3]} ${this.#outline[e+4]} `+this.#outline[e+5]);return r.push("Z"),r.join(" ")}serialize([e,t,r,a],i){var o=r-e,n=a-t;let s,l;switch(i){case 0:s=this.#rescale(this.#outline,e,a,o,-n),l=this.#rescale(this.#points,e,a,o,-n);break;case 90:s=this.#rescaleAndSwap(this.#outline,e,t,o,n),l=this.#rescaleAndSwap(this.#points,e,t,o,n);break;case 180:s=this.#rescale(this.#outline,r,t,-o,n),l=this.#rescale(this.#points,r,t,-o,n);break;case 270:s=this.#rescaleAndSwap(this.#outline,r,a,-o,-n),l=this.#rescaleAndSwap(this.#points,r,a,-o,-n)}return{outline:Array.from(s),points:[Array.from(l)]}}#rescale(r,a,i,o,n){var s=new Float64Array(r.length);for(let e=0,t=r.length;e<t;e+=2)s[e]=a+r[e]*o,s[e+1]=i+r[e+1]*n;return s}#rescaleAndSwap(r,a,i,o,n){var s=new Float64Array(r.length);for(let e=0,t=r.length;e<t;e+=2)s[e]=a+r[e+1]*o,s[e+1]=i+r[e]*n;return s}#computeMinMax(e){var r=this.#outline;let a=r[4],i=r[5],o=a,n=i,s=a,l=i,d=a,c=i;var g,m=e?Math.max:Math.min;for(let e=6,t=r.length;e<t;e+=6)isNaN(r[e])?(o=Math.min(o,r[e+4]),n=Math.min(n,r[e+5]),s=Math.max(s,r[e+4]),l=Math.max(l,r[e+5]),c<r[e+5]?(d=r[e+4],c=r[e+5]):c===r[e+5]&&(d=m(d,r[e+4]))):(g=f.bezierBoundingBox(a,i,...r.slice(e,e+6)),o=Math.min(o,g[0]),n=Math.min(n,g[1]),s=Math.max(s,g[2]),l=Math.max(l,g[3]),c<g[3]?(d=g[2],c=g[3]):c===g[3]&&(d=m(d,g[2]))),a=r[e+4],i=r[e+5];var e=o-this.#innerMargin,t=n-this.#innerMargin,p=s-o+2*this.#innerMargin,u=l-n+2*this.#innerMargin;this.#bbox={x:e,y:t,width:p,height:u,lastPoint:[d,c]}}get box(){return this.#bbox}getNewOutline(e,t){var{x:r,y:a,width:i,height:o}=this.#bbox,[n,s,l,d]=this.#box,c=i*l,g=o*d,m=r*l+n,p=a*d+s,u=new bp({x:this.#points[0]*c+m,y:this.#points[1]*g+p},this.#box,this.#scaleFactor,e,this.#isLTR,t??this.#innerMargin);for(let e=2;e<this.#points.length;e+=2)u.add({x:this.#points[e]*c+m,y:this.#points[e+1]*g+p});return u.getOutlines()}}class wp{#boundKeyDown=this.#keyDown.bind(this);#boundPointerDown=this.#pointerDown.bind(this);#button=null;#buttonSwatch=null;#defaultColor;#dropdown=null;#dropdownWasFromKeyboard=!1;#isMainColorPicker=!1;#editor=null;#eventBus;#uiManager=null;#type;static get _keyboardManager(){return o(this,"_keyboardManager",new Bg([[["Escape","mac+Escape"],wp.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],wp.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],wp.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],wp.prototype._moveToPrevious],[["Home","mac+Home"],wp.prototype._moveToBeginning],[["End","mac+End"],wp.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#isMainColorPicker=!1,this.#type=i.HIGHLIGHT_COLOR,this.#editor=e):(this.#isMainColorPicker=!0,this.#type=i.HIGHLIGHT_DEFAULT_COLOR),this.#uiManager=e?._uiManager||t,this.#eventBus=this.#uiManager._eventBus,this.#defaultColor=e?.color||this.#uiManager?.highlightColors.values().next().value||"#FFFF98"}renderButton(){var e=this.#button=document.createElement("button"),t=(e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),this.#uiManager._signal),t=(e.addEventListener("click",this.#openDropdown.bind(this),{signal:t}),e.addEventListener("keydown",this.#boundKeyDown,{signal:t}),this.#buttonSwatch=document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=this.#defaultColor,e.append(t),e}renderMainDropdown(){var e=this.#dropdown=this.#getDropdownRoot();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#getDropdownRoot(){var e,t,r=document.createElement("div"),a=this.#uiManager._signal;r.addEventListener("contextmenu",Xg,{signal:a}),r.className="dropdown",r.role="listbox",r.setAttribute("aria-multiselectable",!1),r.setAttribute("aria-orientation","vertical"),r.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for([e,t]of this.#uiManager.highlightColors){var i=document.createElement("button"),o=(i.tabIndex="0",i.role="option",i.setAttribute("data-color",t),i.title=e,i.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-"+e),document.createElement("span"));i.append(o),o.className="swatch",o.style.backgroundColor=t,i.setAttribute("aria-selected",t===this.#defaultColor),i.addEventListener("click",this.#colorSelect.bind(this,t),{signal:a}),r.append(i)}return r.addEventListener("keydown",this.#boundKeyDown,{signal:a}),r}#colorSelect(e,t){t.stopPropagation(),this.#eventBus.dispatch("switchannotationeditorparams",{source:this,type:this.#type,value:e})}_colorSelectFromKeyboard(e){var t;e.target===this.#button?this.#openDropdown(e):(t=e.target.getAttribute("data-color"))&&this.#colorSelect(t,e)}_moveToNext(e){this.#isDropdownVisible?(e.target===this.#button?this.#dropdown.firstChild:e.target.nextSibling)?.focus():this.#openDropdown(e)}_moveToPrevious(e){e.target===this.#dropdown?.firstChild||e.target===this.#button?this.#isDropdownVisible&&this._hideDropdownFromKeyboard():(this.#isDropdownVisible||this.#openDropdown(e),e.target.previousSibling?.focus())}_moveToBeginning(e){this.#isDropdownVisible?this.#dropdown.firstChild?.focus():this.#openDropdown(e)}_moveToEnd(e){this.#isDropdownVisible?this.#dropdown.lastChild?.focus():this.#openDropdown(e)}#keyDown(e){wp._keyboardManager.exec(this,e)}#openDropdown(e){this.#isDropdownVisible?this.hideDropdown():(this.#dropdownWasFromKeyboard=0===e.detail,window.addEventListener("pointerdown",this.#boundPointerDown,{signal:this.#uiManager._signal}),this.#dropdown?this.#dropdown.classList.remove("hidden"):(e=this.#dropdown=this.#getDropdownRoot(),this.#button.append(e)))}#pointerDown(e){this.#dropdown?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#dropdown?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#boundPointerDown)}get#isDropdownVisible(){return this.#dropdown&&!this.#dropdown.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#isMainColorPicker||(this.#isDropdownVisible?(this.hideDropdown(),this.#button.focus({preventScroll:!0,focusVisible:this.#dropdownWasFromKeyboard})):this.#editor?.unselect())}updateColor(e){if(this.#buttonSwatch&&(this.#buttonSwatch.style.backgroundColor=e),this.#dropdown){var t,r=this.#uiManager.highlightColors.values();for(t of this.#dropdown.children)t.setAttribute("aria-selected",r.next().value===e)}}destroy(){this.#button?.remove(),this.#button=null,this.#buttonSwatch=null,this.#dropdown?.remove(),this.#dropdown=null}}class Jp extends J{#anchorNode=null;#anchorOffset=0;#boxes;#clipPathId=null;#colorPicker=null;#focusOutlines=null;#focusNode=null;#focusOffset=0;#highlightDiv=null;#highlightOutlines=null;#id=null;#isFreeHighlight=!1;#boundKeydown=this.#keydown.bind(this);#lastPoint=null;#opacity;#outlineId=null;#text="";#thickness;#methodOfCreation="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=m.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){var e=Jp.prototype;return o(this,"_keyboardManager",new Bg([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Jp._defaultColor,this.#thickness=e.thickness||Jp._defaultThickness,this.#opacity=e.opacity||Jp._defaultOpacity,this.#boxes=e.boxes||null,this.#methodOfCreation=e.methodOfCreation||"",this.#text=e.text||"",this._isDraggable=!1,-1<e.highlightId?(this.#isFreeHighlight=!0,this.#createFreeOutlines(e),this.#addToDrawLayer()):(this.#anchorNode=e.anchorNode,this.#anchorOffset=e.anchorOffset,this.#focusNode=e.focusNode,this.#focusOffset=e.focusOffset,this.#createOutlines(),this.#addToDrawLayer(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#isFreeHighlight?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#thickness,methodOfCreation:this.#methodOfCreation}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#createOutlines(){var e=new Sp(this.#boxes,.001),e=(this.#highlightOutlines=e.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#highlightOutlines.box,new Sp(this.#boxes,.0025,.001,"ltr"===this._uiManager.direction)),e=(this.#focusOutlines=e.getOutlines(),this.#focusOutlines.box).lastPoint;this.#lastPoint=[(e[0]-this.x)/this.width,(e[1]-this.y)/this.height]}#createFreeOutlines({highlightOutlines:e,highlightId:t,clipPathId:r}){this.#highlightOutlines=e;this.#focusOutlines=e.getNewOutline(this.#thickness/2+1.5,.0025),0<=t?(this.#id=t,this.#clipPathId=r,this.parent.drawLayer.finalizeLine(t,e),this.#outlineId=this.parent.drawLayer.highlightOutline(this.#focusOutlines)):this.parent&&(r=this.parent.viewport.rotation,this.parent.drawLayer.updateLine(this.#id,e),this.parent.drawLayer.updateBox(this.#id,Jp.#rotateBbox(this.#highlightOutlines.box,(r-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#outlineId,this.#focusOutlines),this.parent.drawLayer.updateBox(this.#outlineId,Jp.#rotateBbox(this.#focusOutlines.box,r)));var{x:a,y:i,width:o,height:n}=e.box;switch(this.rotation){case 0:this.x=a,this.y=i,this.width=o,this.height=n;break;case 90:var[s,l]=this.parentDimensions;this.x=i,this.y=1-a,this.width=o*l/s,this.height=n*s/l;break;case 180:this.x=1-a,this.y=1-i,this.width=o,this.height=n;break;case 270:var[s,l]=this.parentDimensions;this.x=1-i,this.y=a,this.width=o*l/s,this.height=n*s/l}t=this.#focusOutlines.box.lastPoint;this.#lastPoint=[(t[0]-a)/o,(t[1]-i)/n]}static initialize(e,t){J.initialize(e,t),Jp._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case i.HIGHLIGHT_DEFAULT_COLOR:Jp._defaultColor=t;break;case i.HIGHLIGHT_THICKNESS:Jp._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#lastPoint}updateParams(e,t){switch(e){case i.HIGHLIGHT_COLOR:this.#updateColor(t);break;case i.HIGHLIGHT_THICKNESS:this.#updateThickness(t)}}static get defaultPropertiesToUpdate(){return[[i.HIGHLIGHT_DEFAULT_COLOR,Jp._defaultColor],[i.HIGHLIGHT_THICKNESS,Jp._defaultThickness]]}get propertiesToUpdate(){return[[i.HIGHLIGHT_COLOR,this.color||Jp._defaultColor],[i.HIGHLIGHT_THICKNESS,this.#thickness||Jp._defaultThickness],[i.HIGHLIGHT_FREE,this.#isFreeHighlight]]}#updateColor(e){var t=e=>{this.color=e,this.parent?.drawLayer.changeColor(this.#id,e),this.#colorPicker?.updateColor(e)},r=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#updateThickness(e){var t=this.#thickness,r=e=>{this.#thickness=e,this.#changeThickness(e)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){var e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#colorPicker=new wp({editor:this}),e.addColorPicker(this.#colorPicker)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#getRotation())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#getRotation())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#cleanDrawLayer(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null===this.div||(this.#addToDrawLayer(),this.isAttachedToDOM)||this.parent.add(this))}setParent(e){let t=!1;this.parent&&!e?this.#cleanDrawLayer():e&&(this.#addToDrawLayer(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#changeThickness(e){var t;this.#isFreeHighlight&&(this.#createFreeOutlines({highlightOutlines:this.#highlightOutlines.getNewOutline(e/2)}),this.fixAndSetPosition(),[e,t]=this.parentDimensions,this.setDims(this.width*e,this.height*t))}#cleanDrawLayer(){null!==this.#id&&this.parent&&(this.parent.drawLayer.remove(this.#id),this.#id=null,this.parent.drawLayer.remove(this.#outlineId),this.#outlineId=null)}#addToDrawLayer(e=this.parent){null===this.#id&&({id:this.#id,clipPathId:this.#clipPathId}=e.drawLayer.highlight(this.#highlightOutlines,this.color,this.#opacity),this.#outlineId=e.drawLayer.highlightOutline(this.#focusOutlines),this.#highlightDiv)&&(this.#highlightDiv.style.clipPath=this.#clipPathId)}static#rotateBbox({x:e,y:t,width:r,height:a},i){switch(i){case 90:return{x:1-t-a,y:e,width:a,height:r};case 180:return{x:1-e-r,y:1-t-a,width:r,height:a};case 270:return{x:t,y:1-e-r,width:a,height:r}}return{x:e,y:t,width:r,height:a}}rotate(e){var t=this.parent.drawLayer;let r;r=this.#isFreeHighlight?(e=(e-this.rotation+360)%360,Jp.#rotateBbox(this.#highlightOutlines.box,e)):Jp.#rotateBbox(this,e),t.rotate(this.#id,e),t.rotate(this.#outlineId,e),t.updateBox(this.#id,r),t.updateBox(this.#outlineId,Jp.#rotateBbox(this.#focusOutlines.box,e))}render(){var e,t,r;return this.div||(e=super.render(),this.#text&&(e.setAttribute("aria-label",this.#text),e.setAttribute("role","mark")),this.#isFreeHighlight?e.classList.add("free"):this.div.addEventListener("keydown",this.#boundKeydown,{signal:this._uiManager._signal}),t=this.#highlightDiv=document.createElement("div"),[t,r]=(e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#clipPathId,this.parentDimensions),this.setDims(this.width*t,this.height*r),Og(this,this.#highlightDiv,["pointerover","pointerleave"]),this.enableEditing(),e)}pointerover(){this.parent.drawLayer.addClass(this.#outlineId,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#outlineId,"hovered")}#keydown(e){Jp._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#setCaret(!0);break;case 1:case 3:this.#setCaret(!1)}}#setCaret(e){var t;this.#anchorNode&&(t=window.getSelection(),e?t.setPosition(this.#anchorNode,this.#anchorOffset):t.setPosition(this.#focusNode,this.#focusOffset))}select(){super.select(),this.#outlineId&&(this.parent?.drawLayer.removeClass(this.#outlineId,"hovered"),this.parent?.drawLayer.addClass(this.#outlineId,"selected"))}unselect(){super.unselect(),this.#outlineId&&(this.parent?.drawLayer.removeClass(this.#outlineId,"selected"),this.#isFreeHighlight||this.#setCaret(!1))}get _mustFixPosition(){return!this.#isFreeHighlight}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#id,e),this.parent.drawLayer.show(this.#outlineId,e))}#getRotation(){return this.#isFreeHighlight?this.rotation:0}#serializeBoxes(){if(this.#isFreeHighlight)return null;var e,t,r,a,[i,o]=this.pageDimensions,n=this.#boxes,s=new Float32Array(8*n.length);let l=0;for({x:e,y:t,width:r,height:a}of n){var d=e*i,c=(1-t-a)*o;s[l]=s[l+4]=d,s[l+1]=s[l+3]=c,s[l+2]=s[l+6]=d+r*i,s[l+5]=s[l+7]=c+a*o,l+=8}return s}#serializeOutlines(e){return this.#highlightOutlines.serialize(e,this.#getRotation())}static startHighlighting(t,e,{target:r,x:a,y:i}){var{x:o,y:n,width:s,height:l}=r.getBoundingClientRect();let d=e=>{this.#highlightMove(t,e)};var c=t._signal;let g={capture:!0,passive:!1,signal:c},m=e=>{e.preventDefault(),e.stopPropagation()},p=e=>{r.removeEventListener("pointermove",d),window.removeEventListener("blur",p),window.removeEventListener("pointerup",p),window.removeEventListener("pointerdown",m,g),window.removeEventListener("contextmenu",Xg),this.#endHighlight(t,e)};window.addEventListener("blur",p,{signal:c}),window.addEventListener("pointerup",p,{signal:c}),window.addEventListener("pointerdown",m,g),window.addEventListener("contextmenu",Xg,{signal:c}),r.addEventListener("pointermove",d,{signal:c}),this._freeHighlight=new bp({x:a,y:i},[o,n,s,l],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#highlightMove(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#endHighlight(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,r){var t=super.deserialize(e,t,r),{rect:[r,a,i,o],color:n,quadPoints:s}=e,[l,d]=(t.color=f.makeHexColor(...n),t.#opacity=e.opacity,t.pageDimensions),c=(t.width=(i-r)/l,t.height=(o-a)/d,t.#boxes=[]);for(let e=0;e<s.length;e+=8)c.push({x:(s[4]-i)/l,y:(o-(1-s[e+5]))/d,width:(s[e+2]-s[e])/l,height:(s[e+5]-s[e+1])/d});return t.#createOutlines(),t}serialize(e=!1){var t;return this.isEmpty()||e?null:(e=this.getRect(0,0),t=J._colorManager.convert(this.color),{annotationType:m.HIGHLIGHT,color:t,opacity:this.#opacity,thickness:this.#thickness,quadPoints:this.#serializeBoxes(),outlines:this.#serializeOutlines(e),pageIndex:this.pageIndex,rect:e,rotation:this.#getRotation(),structTreeParentId:this._structTreeParentId})}static canCreateNewEmptyEditor(){return!1}}class Gp extends J{#baseHeight=0;#baseWidth=0;#boundCanvasPointermove=this.canvasPointermove.bind(this);#boundCanvasPointerleave=this.canvasPointerleave.bind(this);#boundCanvasPointerup=this.canvasPointerup.bind(this);#boundCanvasPointerdown=this.canvasPointerdown.bind(this);#canvasContextMenuTimeoutId=null;#currentPath2D=new Path2D;#disableEditing=!1;#hasSomethingToDraw=!1;#isCanvasInitialized=!1;#observer=null;#realWidth=0;#realHeight=0;#requestFrameCallback=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=m.INK;constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){J.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case i.INK_THICKNESS:Gp._defaultThickness=t;break;case i.INK_COLOR:Gp._defaultColor=t;break;case i.INK_OPACITY:Gp._defaultOpacity=t/100}}updateParams(e,t){switch(e){case i.INK_THICKNESS:this.#updateThickness(t);break;case i.INK_COLOR:this.#updateColor(t);break;case i.INK_OPACITY:this.#updateOpacity(t)}}static get defaultPropertiesToUpdate(){return[[i.INK_THICKNESS,Gp._defaultThickness],[i.INK_COLOR,Gp._defaultColor||J._defaultLineColor],[i.INK_OPACITY,Math.round(100*Gp._defaultOpacity)]]}get propertiesToUpdate(){return[[i.INK_THICKNESS,this.thickness||Gp._defaultThickness],[i.INK_COLOR,this.color||Gp._defaultColor||J._defaultLineColor],[i.INK_OPACITY,Math.round(100*(this.opacity??Gp._defaultOpacity))]]}#updateThickness(e){var t=e=>{this.thickness=e,this.#fitToContent()},r=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#updateColor(e){var t=e=>{this.color=e,this.#redraw()},r=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#updateOpacity(e){var t=e=>{this.opacity=e,this.#redraw()},r=this.opacity;this.addCommands({cmd:t.bind(this,e/=100),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div)&&(this.canvas||(this.#createCanvas(),this.#createObserver()),this.isAttachedToDOM||(this.parent.add(this),this.#setCanvasDims()),this.#fitToContent())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#canvasContextMenuTimeoutId&&(clearTimeout(this.#canvasContextMenuTimeoutId),this.#canvasContextMenuTimeoutId=null),this.#observer?.disconnect(),this.#observer=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){var[e,t]=this.parentDimensions,e=this.width*e,t=this.height*t;this.setDimensions(e,t)}enableEditMode(){this.#disableEditing||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#boundCanvasPointerdown,{signal:this._uiManager._signal}))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#boundCanvasPointerdown))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#getInitialBBox(){var{parentRotation:e,parentDimensions:[t,r]}=this;switch(e){case 90:return[0,r,r,t];case 180:return[t,r,t,r];case 270:return[t,0,r,t];default:return[0,0,t,r]}}#setStroke(){var{ctx:e,color:t,opacity:r,thickness:a,parentScale:i,scaleFactor:o}=this;e.lineWidth=a*i/o,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=""+t+Math.round(Math.min(255,Math.max(1,255*r))).toString(16).padStart(2,"0")}#startDrawing(e,t){var r=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Xg,{signal:r}),this.canvas.addEventListener("pointerleave",this.#boundCanvasPointerleave,{signal:r}),this.canvas.addEventListener("pointermove",this.#boundCanvasPointermove,{signal:r}),this.canvas.addEventListener("pointerup",this.#boundCanvasPointerup,{signal:r}),this.canvas.removeEventListener("pointerdown",this.#boundCanvasPointerdown),this.isEditing=!0,this.#isCanvasInitialized||(this.#isCanvasInitialized=!0,this.#setCanvasDims(),this.thickness||=Gp._defaultThickness,this.color||=Gp._defaultColor||J._defaultLineColor,this.opacity??=Gp._defaultOpacity),this.currentPath.push([e,t]),this.#hasSomethingToDraw=!1,this.#setStroke(),this.#requestFrameCallback=()=>{this.#drawPoints(),this.#requestFrameCallback&&window.requestAnimationFrame(this.#requestFrameCallback)},window.requestAnimationFrame(this.#requestFrameCallback)}#draw(t,r){var[a,e]=this.currentPath.at(-1);if(!(1<this.currentPath.length&&t===a&&r===e)){a=this.currentPath;let e=this.#currentPath2D;a.push([t,r]),this.#hasSomethingToDraw=!0,a.length<=2?(e.moveTo(...a[0]),e.lineTo(t,r)):(3===a.length&&(this.#currentPath2D=e=new Path2D,e.moveTo(...a[0])),this.#makeBezierCurve(e,...a.at(-3),...a.at(-2),t,r))}}#endPath(){var e;0!==this.currentPath.length&&(e=this.currentPath.at(-1),this.#currentPath2D.lineTo(...e))}#stopDrawing(e,t){this.#requestFrameCallback=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#draw(e,t),this.#endPath();let r;r=1!==this.currentPath.length?this.#generateBezierPoints():[[e=[e,t],e.slice(),e.slice(),e]];let a=this.#currentPath2D,i=this.currentPath;this.currentPath=[],this.#currentPath2D=new Path2D;this.addCommands({cmd:()=>{this.allRawPaths.push(i),this.paths.push(r),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#createCanvas(),this.#createObserver()),this.#fitToContent())},mustExec:!0})}#drawPoints(){if(this.#hasSomethingToDraw){this.#hasSomethingToDraw=!1;Math.ceil(this.thickness*this.parentScale);var e,t=this.currentPath.slice(-3),r=t.map(e=>e[0]),t=t.map(e=>e[1]),a=(Math.min(...r),Math.max(...r),Math.min(...t),Math.max(...t),this).ctx;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(e of this.bezierPath2D)a.stroke(e);a.stroke(this.#currentPath2D),a.restore()}}#makeBezierCurve(e,t,r,a,i,o,n){t=(t+a)/2,r=(r+i)/2,o=(a+o)/2,n=(i+n)/2;e.bezierCurveTo(t+2*(a-t)/3,r+2*(i-r)/3,o+2*(a-o)/3,n+2*(i-n)/3,o,n)}#generateBezierPoints(){var n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];var s=[];let l,[d,c]=n[0];for(l=1;l<n.length-2;l++){let[e,t]=n[l],[r,a]=n[l+1];var g=(e+r)/2,m=(t+a)/2;let i=[d+2*(e-d)/3,c+2*(t-c)/3],o=[g+2*(e-g)/3,m+2*(t-m)/3];s.push([[d,c],i,o,[g,m]]),[d,c]=[g,m]}let[e,t]=n[l],[r,a]=n[l+1],i=[d+2*(e-d)/3,c+2*(t-c)/3],o=[r+2*(e-r)/3,a+2*(t-a)/3];return s.push([[d,c],i,o,[r,a]]),s}#redraw(){if(this.isEmpty())this.#updateTransform();else{this.#setStroke();var e,{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),this.#updateTransform();for(e of this.bezierPath2D)r.stroke(e)}}commit(){this.#disableEditing||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#disableEditing=!0,this.div.classList.add("disabled"),this.#fitToContent(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#disableEditing&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#startDrawing(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#draw(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#endDrawing(e)}canvasPointerleave(e){this.#endDrawing(e)}#endDrawing(e){this.canvas.removeEventListener("pointerleave",this.#boundCanvasPointerleave),this.canvas.removeEventListener("pointermove",this.#boundCanvasPointermove),this.canvas.removeEventListener("pointerup",this.#boundCanvasPointerup),this.canvas.addEventListener("pointerdown",this.#boundCanvasPointerdown,{signal:this._uiManager._signal}),this.#canvasContextMenuTimeoutId&&clearTimeout(this.#canvasContextMenuTimeoutId),this.#canvasContextMenuTimeoutId=setTimeout(()=>{this.#canvasContextMenuTimeoutId=null,this.canvas.removeEventListener("contextmenu",Xg)},10),this.#stopDrawing(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#createObserver(){this.#observer=new ResizeObserver(e=>{e=e[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)}),this.#observer.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#observer?.disconnect(),this.#observer=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#disableEditing}render(){if(!this.div){let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");var[r,a,i,o]=this.#getInitialBBox();this.setAt(r,a,0,0),this.setDims(i,o),this.#createCanvas(),this.width?([r,a]=this.parentDimensions,this.setAspectRatio(this.width*r,this.height*a),this.setAt(e*r,t*a,this.width*r,this.height*a),this.#isCanvasInitialized=!0,this.#setCanvasDims(),this.setDims(this.width*r,this.height*a),this.#redraw(),this.div.classList.add("disabled")):(this.div.classList.add("editing"),this.enableEditMode()),this.#createObserver()}return this.div}#setCanvasDims(){var e,t;this.#isCanvasInitialized&&([e,t]=this.parentDimensions,this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#updateTransform())}setDimensions(e,t){var r=Math.round(e),a=Math.round(t);this.#realWidth===r&&this.#realHeight===a||(this.#realWidth=r,this.#realHeight=a,this.canvas.style.visibility="hidden",[r,a]=this.parentDimensions,this.width=e/r,this.height=t/a,this.fixAndSetPosition(),this.#disableEditing&&this.#setScaleFactor(e,t),this.#setCanvasDims(),this.#redraw(),this.canvas.style.visibility="visible",this.fixDims())}#setScaleFactor(e,t){var r=this.#getPadding(),e=(e-r)/this.#baseWidth,t=(t-r)/this.#baseHeight;this.scaleFactor=Math.min(e,t)}#updateTransform(){var e=this.#getPadding()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#buildPath2D(r){var a=new Path2D;for(let e=0,t=r.length;e<t;e++){var[i,o,n,s]=r[e];0===e&&a.moveTo(...i),a.bezierCurveTo(o[0],o[1],n[0],n[1],s[0],s[1])}return a}static#toPDFCoordinates(r,e,t){var[a,i,o,n]=e;switch(t){case 0:for(let e=0,t=r.length;e<t;e+=2)r[e]+=a,r[e+1]=n-r[e+1];break;case 90:for(let e=0,t=r.length;e<t;e+=2){var s=r[e];r[e]=r[e+1]+a,r[e+1]=s+i}break;case 180:for(let e=0,t=r.length;e<t;e+=2)r[e]=o-r[e],r[e+1]+=i;break;case 270:for(let e=0,t=r.length;e<t;e+=2){var l=r[e];r[e]=o-r[e+1],r[e+1]=n-l}break;default:throw new Error("Invalid rotation")}return r}static#fromPDFCoordinates(r,e,t){var[a,i,o,n]=e;switch(t){case 0:for(let e=0,t=r.length;e<t;e+=2)r[e]-=a,r[e+1]=n-r[e+1];break;case 90:for(let e=0,t=r.length;e<t;e+=2){var s=r[e];r[e]=r[e+1]-i,r[e+1]=s-a}break;case 180:for(let e=0,t=r.length;e<t;e+=2)r[e]=o-r[e],r[e+1]-=i;break;case 270:for(let e=0,t=r.length;e<t;e+=2){var l=r[e];r[e]=n-r[e+1],r[e+1]=o-l}break;default:throw new Error("Invalid rotation")}return r}#serializePaths(r,e,t,a){var i,o=[],n=this.thickness/2,s=r*e+n,l=r*t+n;for(i of this.paths){var d=[],c=[];for(let e=0,t=i.length;e<t;e++){var[g,m,p,u]=i[e];if(g[0]===u[0]&&g[1]===u[1]&&1===t){var h=r*g[0]+s,P=r*g[1]+l;d.push(h,P),c.push(h,P);break}var h=r*g[0]+s,P=r*g[1]+l,g=r*m[0]+s,m=r*m[1]+l,y=r*p[0]+s,p=r*p[1]+l,_=r*u[0]+s,u=r*u[1]+l;0===e&&(d.push(h,P),c.push(h,P)),d.push(g,m,y,p,_,u),c.push(g,m),e===t-1&&c.push(_,u)}o.push({bezier:Gp.#toPDFCoordinates(d,a,this.rotation),points:Gp.#toPDFCoordinates(c,a,this.rotation)})}return o}#getBbox(){let e=1/0,t=-1/0,r=1/0,a=-1/0;for(var i of this.paths)for(var[o,n,s,l]of i){o=f.bezierBoundingBox(...o,...n,...s,...l);e=Math.min(e,o[0]),r=Math.min(r,o[1]),t=Math.max(t,o[2]),a=Math.max(a,o[3])}return[e,r,t,a]}#getPadding(){return this.#disableEditing?Math.ceil(this.thickness*this.parentScale):0}#fitToContent(e=!1){var t,r,a,i,o,n;this.isEmpty()||(this.#disableEditing?(n=this.#getBbox(),t=this.#getPadding(),this.#baseWidth=Math.max(J.MIN_SIZE,n[2]-n[0]),this.#baseHeight=Math.max(J.MIN_SIZE,n[3]-n[1]),r=Math.ceil(t+this.#baseWidth*this.scaleFactor),a=Math.ceil(t+this.#baseHeight*this.scaleFactor),[i,o]=this.parentDimensions,this.width=r/i,this.height=a/o,this.setAspectRatio(r,a),i=this.translationX,o=this.translationY,this.translationX=-n[0],this.translationY=-n[1],this.#setCanvasDims(),this.#redraw(),this.#realWidth=r,this.#realHeight=a,this.setDims(r,a),n=e?t/this.scaleFactor/2:0,this.translate(i-this.translationX-n,o-this.translationY-n)):this.#redraw())}static deserialize(e,t,r){if(e instanceof dp)return null;var i,o=super.deserialize(e,t,r),[t,r]=(o.thickness=e.thickness,o.color=f.makeHexColor(...e.color),o.opacity=e.opacity,o.pageDimensions),t=o.width*t,r=o.height*r,n=o.parentScale,s=e.thickness/2,{paths:e,rect:l,rotation:d}=(o.#disableEditing=!0,o.#realWidth=Math.round(t),o.#realHeight=Math.round(r),e);for({bezier:i}of e){i=Gp.#fromPDFCoordinates(i,l,d);var c=[];o.paths.push(c);let r=n*(i[0]-s),a=n*(i[1]-s);for(let e=2,t=i.length;e<t;e+=6){var g=n*(i[e]-s),m=n*(i[e+1]-s),p=n*(i[e+2]-s),u=n*(i[e+3]-s),h=n*(i[e+4]-s),P=n*(i[e+5]-s);c.push([[r,a],[g,m],[p,u],[h,P]]),r=h,a=P}var y=this.#buildPath2D(c);o.bezierPath2D.push(y)}e=o.#getBbox();return o.#baseWidth=Math.max(J.MIN_SIZE,e[2]-e[0]),o.#baseHeight=Math.max(J.MIN_SIZE,e[3]-e[1]),o.#setScaleFactor(t,r),o}serialize(){var e,t;return this.isEmpty()?null:(e=this.getRect(0,0),t=J._colorManager.convert(this.ctx.strokeStyle),{annotationType:m.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#serializePaths(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId})}}class Ap extends J{#bitmap=null;#bitmapId=null;#bitmapPromise=null;#bitmapUrl=null;#bitmapFile=null;#bitmapFileName="";#canvas=null;#observer=null;#resizeTimeoutId=null;#isSvg=!1;#hasBeenAddedInUndoStack=!1;static _type="stamp";static _editorType=m.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#bitmapUrl=e.bitmapUrl,this.#bitmapFile=e.bitmapFile}static initialize(e,t){J.initialize(e,t)}static get supportedTypes(){return o(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>"image/"+e))}static get supportedTypesStr(){return o(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(m.STAMP,{bitmapFile:e.getAsFile()})}#getBitmapFetched(e,t=!1){e?(this.#bitmap=e.bitmap,t||(this.#bitmapId=e.id,this.#isSvg=e.isSvg),e.file&&(this.#bitmapFileName=e.file.name),this.#createCanvas()):this.remove()}#getBitmapDone(){this.#bitmapPromise=null,this._uiManager.enableWaiting(!1),this.#canvas&&this.div.focus()}#getBitmap(){var e;if(this.#bitmapId)this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#bitmapId).then(e=>this.#getBitmapFetched(e,!0)).finally(()=>this.#getBitmapDone());else if(this.#bitmapUrl)e=this.#bitmapUrl,this.#bitmapUrl=null,this._uiManager.enableWaiting(!0),this.#bitmapPromise=this._uiManager.imageManager.getFromUrl(e).then(e=>this.#getBitmapFetched(e)).finally(()=>this.#getBitmapDone());else if(this.#bitmapFile)e=this.#bitmapFile,this.#bitmapFile=null,this._uiManager.enableWaiting(!0),this.#bitmapPromise=this._uiManager.imageManager.getFromFile(e).then(e=>this.#getBitmapFetched(e)).finally(()=>this.#getBitmapDone());else{let r=document.createElement("input"),e=(r.type="file",r.accept=Ap.supportedTypesStr,this._uiManager._signal);this.#bitmapPromise=new Promise(t=>{r.addEventListener("change",async()=>{var e;r.files&&0!==r.files.length?(this._uiManager.enableWaiting(!0),e=await this._uiManager.imageManager.getFromFile(r.files[0]),this.#getBitmapFetched(e)):this.remove(),t()},{signal:e}),r.addEventListener("cancel",()=>{this.remove(),t()},{signal:e})}).finally(()=>this.#getBitmapDone()),r.click()}}remove(){this.#bitmapId&&(this.#bitmap=null,this._uiManager.imageManager.deleteId(this.#bitmapId),this.#canvas?.remove(),this.#canvas=null,this.#observer?.disconnect(),this.#observer=null,this.#resizeTimeoutId)&&(clearTimeout(this.#resizeTimeoutId),this.#resizeTimeoutId=null),super.remove()}rebuild(){this.parent?(super.rebuild(),null===this.div||(this.#bitmapId&&null===this.#canvas&&this.#getBitmap(),this.isAttachedToDOM)||this.parent.add(this)):this.#bitmapId&&this.#getBitmap()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#bitmapPromise||this.#bitmap||this.#bitmapUrl||this.#bitmapFile||this.#bitmapId)}get isResizable(){return!0}render(){if(!this.div){let e,t;var r,a;this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#bitmap?this.#createCanvas():this.#getBitmap(),this.width&&([r,a]=this.parentDimensions,this.setAt(e*r,t*a,this.width*r,this.height*a))}return this.div}#createCanvas(){var e=this.div;let{width:t,height:r}=this.#bitmap;var[a,i]=this.pageDimensions,[o,n]=(this.width?(t=this.width*a,r=this.height*i):(t>.75*a||r>.75*i)&&(o=Math.min(.75*a/t,.75*i/r),t*=o,r*=o),this.parentDimensions),o=(this.setDims(t*o/a,r*n/i),this._uiManager.enableWaiting(!1),this.#canvas=document.createElement("canvas"));e.append(o),e.hidden=!1,this.#drawBitmap(t,r),this.#createObserver(),this.#hasBeenAddedInUndoStack||(this.parent.addUndoableEditor(this),this.#hasBeenAddedInUndoStack=!0),this._reportTelemetry({action:"inserted_image"}),this.#bitmapFileName&&o.setAttribute("aria-label",this.#bitmapFileName)}#setDimensions(e,t){var[r,a]=this.parentDimensions;this.width=e/r,this.height=t/a,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),(this._initialOptions=null)!==this.#resizeTimeoutId&&clearTimeout(this.#resizeTimeoutId);this.#resizeTimeoutId=setTimeout(()=>{this.#resizeTimeoutId=null,this.#drawBitmap(e,t)},200)}#scaleBitmap(e,t){var{width:r,height:a}=this.#bitmap;let i=r,o=a,n=this.#bitmap;for(;i>2*e||o>2*t;){var s=i,l=o,d=(i>2*e&&(i=16384<=i?Math.floor(i/2)-1:Math.ceil(i/2)),o>2*t&&(o=16384<=o?Math.floor(o/2)-1:Math.ceil(o/2)),new OffscreenCanvas(i,o));d.getContext("2d").drawImage(n,0,0,s,l,0,0,i,o),n=d.transferToImageBitmap()}return n}#drawBitmap(t,r){t=Math.ceil(t),r=Math.ceil(r);var a=this.#canvas;if(a&&(a.width!==t||a.height!==r)){a.width=t,a.height=r;var i=this.#isSvg?this.#bitmap:this.#scaleBitmap(t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){let e=new OffscreenCanvas(t,r).getContext("2d");e.drawImage(i,0,0,i.width,i.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:e.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(e=>{e=e?.output||"";this.parent&&e&&!this.hasAltText()&&(this.altTextData={altText:e,decorative:!1})})}let e=a.getContext("2d");e.filter=this._uiManager.hcmFilter,e.drawImage(i,0,0,i.width,i.height,0,0,t,r)}}getImageForAltText(){return this.#canvas}#serializeBitmap(e){if(e){if(this.#isSvg){e=this._uiManager.imageManager.getSvgUrl(this.#bitmapId);if(e)return e}e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#bitmap,e.getContext("2d").drawImage(this.#bitmap,0,0),e.toDataURL()}var t,r;return this.#isSvg?([e,t]=this.pageDimensions,e=Math.round(this.width*e*Pg.PDF_TO_CSS_UNITS),t=Math.round(this.height*t*Pg.PDF_TO_CSS_UNITS),(r=new OffscreenCanvas(e,t)).getContext("2d").drawImage(this.#bitmap,0,0,this.#bitmap.width,this.#bitmap.height,0,0,e,t),r.transferToImageBitmap()):structuredClone(this.#bitmap)}#createObserver(){this._uiManager._signal&&(this.#observer=new ResizeObserver(e=>{e=e[0].contentRect;e.width&&e.height&&this.#setDimensions(e.width,e.height)}),this.#observer.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#observer?.disconnect(),this.#observer=null},{once:!0}))}static deserialize(e,t,r){var a,i,o,n;return e instanceof up?null:(t=super.deserialize(e,t,r),{rect:e,bitmapUrl:a,bitmapId:n,isSvg:i,accessibilityData:o}=e,[r,n]=(n&&r.imageManager.isValidId(n)?t.#bitmapId=n:t.#bitmapUrl=a,t.#isSvg=i,t.pageDimensions),t.width=(e[2]-e[0])/r,t.height=(e[3]-e[1])/n,o&&(t.altTextData=o),t)}serialize(e=!1,t=null){var r,a;return this.isEmpty()?null:(r={annotationType:m.STAMP,bitmapId:this.#bitmapId,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#isSvg,structTreeParentId:this._structTreeParentId},e?(r.bitmapUrl=this.#serializeBitmap(!0),r.accessibilityData=this.altTextData):({decorative:e,altText:a}=this.altTextData,!e&&a&&(r.accessibilityData={type:"Figure",alt:a}),null!==t&&(t.stamps||=new Map,e=this.#isSvg?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null,t.stamps.has(this.#bitmapId)?this.#isSvg&&e>(a=t.stamps.get(this.#bitmapId)).area&&(a.area=e,a.serialized.bitmap.close(),a.serialized.bitmap=this.#serializeBitmap(!1)):(t.stamps.set(this.#bitmapId,{area:e,serialized:r}),r.bitmap=this.#serializeBitmap(!1)))),r)}}class Tp{#accessibilityManager;#allowClick=!1;#annotationLayer=null;#boundPointerup=null;#boundPointerdown=null;#boundTextLayerPointerDown=null;#editorFocusTimeoutId=null;#editors=new Map;#hadPointerDown=!1;#isCleaningUp=!1;#isDisabling=!1;#textLayer=null;#uiManager;static _initialized=!1;static#editorTypes=new Map([_p,Gp,Ap,Jp].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:a,annotationLayer:i,drawLayer:o,textLayer:n,viewport:s,l10n:l}){var d=[...Tp.#editorTypes.values()];if(!Tp._initialized){Tp._initialized=!0;for(var c of d)c.initialize(l,e)}e.registerEditorTypes(d),this.#uiManager=e,this.pageIndex=t,this.div=r,this.#accessibilityManager=a,this.#annotationLayer=i,this.viewport=s,this.#textLayer=n,this.drawLayer=o,this.#uiManager.addLayer(this)}get isEmpty(){return 0===this.#editors.size}get isInvisible(){return this.isEmpty&&this.#uiManager.getMode()===m.NONE}updateToolbar(e){this.#uiManager.updateToolbar(e)}updateMode(e=this.#uiManager.getMode()){switch(this.#cleanup(),e){case m.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case m.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case m.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);var t,r=this.div.classList;for(t of Tp.#editorTypes.values())r.toggle(t._type+"Editing",e===t._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#textLayer?.div}addInkEditorIfNeeded(t){if(this.#uiManager.getMode()===m.INK){if(!t)for(let e of this.#editors.values())if(e.isEmpty())return void e.setInBackground();let e=this.createAndAddNewEditor({offsetX:0,offsetY:0},!1);e.setInBackground()}}setEditingState(e){this.#uiManager.setEditingState(e)}addCommands(e){this.#uiManager.addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#annotationLayer?.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);var e,t,r,a=new Set;for(e of this.#editors.values())e.enableEditing(),e.show(!0),e.annotationElementId&&(this.#uiManager.removeChangedExistingAnnotation(e),a.add(e.annotationElementId));if(this.#annotationLayer)for(t of this.#annotationLayer.getEditableAnnotations())t.hide(),this.#uiManager.isDeletedAnnotationElement(t.data.id)||a.has(t.data.id)||(r=this.deserialize(t))&&(this.addOrRebuild(r),r.enableEditing())}disable(){this.#isDisabling=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);var e,t,r=new Map,a=new Map;for(e of this.#editors.values())e.disableEditing(),e.annotationElementId&&(null!==e.serialize()?r.set(e.annotationElementId,e):(a.set(e.annotationElementId,e),this.getEditableAnnotation(e.annotationElementId)?.show(),e.remove()));if(this.#annotationLayer)for(t of this.#annotationLayer.getEditableAnnotations()){var i=t.data.id;if(!this.#uiManager.isDeletedAnnotationElement(i)){let e=a.get(i);e?(e.resetAnnotationElement(t),e.show(!1)):(e=r.get(i))&&(this.#uiManager.addChangedExistingAnnotation(e),e.renderAnnotationElement(t),e.show(!1)),t.show()}}this.#cleanup(),this.isEmpty&&(this.div.hidden=!0);var o,n=this.div.classList;for(o of Tp.#editorTypes.values())n.remove(o._type+"Editing");this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#isDisabling=!1}getEditableAnnotation(e){return this.#annotationLayer?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#uiManager.getActive()!==e&&this.#uiManager.setActiveEditor(e)}enableTextSelection(){this.div.tabIndex=-1,this.#textLayer?.div&&!this.#boundTextLayerPointerDown&&(this.#boundTextLayerPointerDown=this.#textLayerPointerDown.bind(this),this.#textLayer.div.addEventListener("pointerdown",this.#boundTextLayerPointerDown,{signal:this.#uiManager._signal}),this.#textLayer.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#textLayer?.div&&this.#boundTextLayerPointerDown&&(this.#textLayer.div.removeEventListener("pointerdown",this.#boundTextLayerPointerDown),this.#boundTextLayerPointerDown=null,this.#textLayer.div.classList.remove("highlighting"))}#textLayerPointerDown(e){var t;this.#uiManager.unselectAll(),e.target===this.#textLayer.div&&(t=og.platform.isMac,0!==e.button||e.ctrlKey&&t||(this.#uiManager.showAllEditors("highlight",!0,!0),this.#textLayer.div.classList.add("free"),Jp.startHighlighting(this,"ltr"===this.#uiManager.direction,e),this.#textLayer.div.addEventListener("pointerup",()=>{this.#textLayer.div.classList.remove("free")},{once:!0,signal:this.#uiManager._signal}),e.preventDefault()))}enableClick(){var e;this.#boundPointerdown||(e=this.#uiManager._signal,this.#boundPointerdown=this.pointerdown.bind(this),this.#boundPointerup=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#boundPointerdown,{signal:e}),this.div.addEventListener("pointerup",this.#boundPointerup,{signal:e}))}disableClick(){this.#boundPointerdown&&(this.div.removeEventListener("pointerdown",this.#boundPointerdown),this.div.removeEventListener("pointerup",this.#boundPointerup),this.#boundPointerdown=null,this.#boundPointerup=null)}attach(e){this.#editors.set(e.id,e);var t=e.annotationElementId;t&&this.#uiManager.isDeletedAnnotationElement(t)&&this.#uiManager.removeDeletedAnnotationElement(e)}detach(e){this.#editors.delete(e.id),this.#accessibilityManager?.removePointerInTextLayer(e.contentDiv),!this.#isDisabling&&e.annotationElementId&&this.#uiManager.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#uiManager.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#isCleaningUp||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#uiManager.addDeletedAnnotationElement(e.annotationElementId),J.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div)&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div))}add(e){var t;e.parent===this&&e.isAttachedToDOM||(this.changeParent(e),this.#uiManager.addEditor(e),this.attach(e),e.isAttachedToDOM||(t=e.render(),this.div.append(t),e.isAttachedToDOM=!0),e.fixAndSetPosition(),e.onceAdded(),this.#uiManager.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData))}moveEditorInDOM(t){if(t.isAttachedToDOM){let e=document.activeElement;t.div.contains(e)&&!this.#editorFocusTimeoutId&&(t._focusEventsAllowed=!1,this.#editorFocusTimeoutId=setTimeout(()=>{this.#editorFocusTimeoutId=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#uiManager._signal}),e.focus())},0)),t._structTreeParentId=this.#accessibilityManager?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#uiManager.getId()}get#currentEditorType(){return Tp.#editorTypes.get(this.#uiManager.getMode())}get _signal(){return this.#uiManager._signal}#createNewEditor(e){var t=this.#currentEditorType;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#currentEditorType?.canCreateNewEmptyEditor()}pasteEditor(e,t){this.#uiManager.updateToolbar(e),this.#uiManager.updateMode(e);var{offsetX:e,offsetY:r}=this.#getCenterPoint(),a=this.getNextId(),a=this.#createNewEditor({parent:this,id:a,x:e,y:r,uiManager:this.#uiManager,isCentered:!0,...t});a&&this.add(a)}deserialize(e){return Tp.#editorTypes.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#uiManager)||null}createAndAddNewEditor(e,t,r={}){var a=this.getNextId(),a=this.#createNewEditor({parent:this,id:a,x:e.offsetX,y:e.offsetY,uiManager:this.#uiManager,isCentered:t,...r});return a&&this.add(a),a}#getCenterPoint(){var{x:e,y:t,width:r,height:a}=this.div.getBoundingClientRect(),i=Math.max(0,e),o=Math.max(0,t),i=(i+Math.min(window.innerWidth,e+r))/2-e,r=(o+Math.min(window.innerHeight,t+a))/2-t,[e,o]=this.viewport.rotation%180==0?[i,r]:[r,i];return{offsetX:e,offsetY:o}}addNewEditor(){this.createAndAddNewEditor(this.#getCenterPoint(),!0)}setSelected(e){this.#uiManager.setSelected(e)}toggleSelected(e){this.#uiManager.toggleSelected(e)}isSelected(e){return this.#uiManager.isSelected(e)}unselect(e){this.#uiManager.unselect(e)}pointerup(e){var t=og.platform.isMac;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#hadPointerDown&&(this.#hadPointerDown=!1,this.#allowClick?this.#uiManager.getMode()===m.STAMP?this.#uiManager.unselectAll():this.createAndAddNewEditor(e,!1):this.#allowClick=!0)}pointerdown(e){var t;this.#uiManager.getMode()===m.HIGHLIGHT&&this.enableTextSelection(),this.#hadPointerDown?this.#hadPointerDown=!1:(t=og.platform.isMac,0!==e.button||e.ctrlKey&&t||e.target===this.div&&(this.#hadPointerDown=!0,t=this.#uiManager.getActive(),this.#allowClick=!t||t.isEmpty()))}findNewParent(e,t,r){t=this.#uiManager.findParent(t,r);return null!==t&&t!==this&&(t.changeParent(e),!0)}destroy(){this.#uiManager.getActive()?.parent===this&&(this.#uiManager.commitOrRemove(),this.#uiManager.setActiveEditor(null)),this.#editorFocusTimeoutId&&(clearTimeout(this.#editorFocusTimeoutId),this.#editorFocusTimeoutId=null);for(var e of this.#editors.values())this.#accessibilityManager?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#editors.clear(),this.#uiManager.removeLayer(this)}#cleanup(){this.#isCleaningUp=!0;for(var e of this.#editors.values())e.isEmpty()&&e.remove();this.#isCleaningUp=!1}render({viewport:e}){this.viewport=e,Dg(this.div,e);for(var t of this.#uiManager.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#uiManager.commitOrRemove(),this.#cleanup();var t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Dg(this.div,{rotation:r}),t!==r)for(var a of this.#editors.values())a.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){var{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#uiManager.viewParameters.realScale}}class Xp{#parent=null;#id=0;#mapping=new Map;#toUpdate=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(this.#parent){if(this.#parent!==e){if(0<this.#mapping.size)for(var t of this.#mapping.values())t.remove(),e.append(t);this.#parent=e}}else this.#parent=e}static get _svgFactory(){return o(this,"_svgFactory",new bg)}static#setBox(e,{x:t=0,y:r=0,width:a=1,height:i=1}={}){e=e.style;e.top=100*r+"%",e.left=100*t+"%",e.width=100*a+"%",e.height=100*i+"%"}#createSVG(e){var t=Xp._svgFactory.create(1,1,!0);return this.#parent.append(t),t.setAttribute("aria-hidden",!0),Xp.#setBox(t,e),t}#createClipPath(e,t){var r=Xp._svgFactory.createElement("clipPath"),e=(e.append(r),"clip_"+t),a=(r.setAttribute("id",e),r.setAttribute("clipPathUnits","objectBoundingBox"),Xp._svgFactory.createElement("use"));return r.append(a),a.setAttribute("href","#"+t),a.classList.add("clip"),e}highlight(e,t,r,a=!1){var i=this.#id++,o=this.#createSVG(e.box),n=(o.classList.add("highlight"),e.free&&o.classList.add("free"),Xp._svgFactory.createElement("defs")),s=(o.append(n),Xp._svgFactory.createElement("path")),l=(n.append(s),`path_p${this.pageIndex}_`+i),e=(s.setAttribute("id",l),s.setAttribute("d",e.toSVGPath()),a&&this.#toUpdate.set(i,s),this.#createClipPath(n,l)),a=Xp._svgFactory.createElement("use");return o.append(a),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),a.setAttribute("href","#"+l),this.#mapping.set(i,o),{id:i,clipPathId:`url(#${e})`}}highlightOutline(e){var t=this.#id++,r=this.#createSVG(e.box),a=(r.classList.add("highlightOutline"),Xp._svgFactory.createElement("defs")),i=(r.append(a),Xp._svgFactory.createElement("path")),o=(a.append(i),`path_p${this.pageIndex}_`+t);i.setAttribute("id",o),i.setAttribute("d",e.toSVGPath()),i.setAttribute("vector-effect","non-scaling-stroke");let n;e.free&&(r.classList.add("free"),i=Xp._svgFactory.createElement("mask"),a.append(i),n=`mask_p${this.pageIndex}_`+t,i.setAttribute("id",n),i.setAttribute("maskUnits","objectBoundingBox"),e=Xp._svgFactory.createElement("rect"),i.append(e),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("fill","white"),a=Xp._svgFactory.createElement("use"),i.append(a),a.setAttribute("href","#"+o),a.setAttribute("stroke","none"),a.setAttribute("fill","black"),a.setAttribute("fill-rule","nonzero"),a.classList.add("mask"));e=Xp._svgFactory.createElement("use"),r.append(e),e.setAttribute("href","#"+o),n&&e.setAttribute("mask",`url(#${n})`),i=e.cloneNode();return r.append(i),e.classList.add("mainOutline"),i.classList.add("secondaryOutline"),this.#mapping.set(t,r),t}finalizeLine(e,t){var r=this.#toUpdate.get(e);this.#toUpdate.delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#mapping.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#toUpdate.delete(e)}updatePath(e,t){this.#toUpdate.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){Xp.#setBox(this.#mapping.get(e),t)}show(e,t){this.#mapping.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#mapping.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#mapping.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#mapping.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#mapping.get(e).classList.add(t)}removeClass(e,t){this.#mapping.get(e).classList.remove(t)}remove(e){null!==this.#parent&&(this.#mapping.get(e).remove(),this.#mapping.delete(e))}destroy(){this.#parent=null;for(var e of this.#mapping.values())e.remove();this.#mapping.clear()}}var jc=Jc.GlobalWorkerOptions,kp=Jc.getDocument;jc.workerSrc=GmCXt.getBaseUrl("/common/pdfLibJS/pdf.worker.js");let xp={ready:!0,autoPlayNextStep:!1,slideshowAutoplay:!1},Lp=(GmCXt.imgThumLength=5,[]),Ep=null;function Mp(e){ge.slideState.set({});var t,r,a=mg$("#mgPlayerJSProd_autoplay-slider-checkbox"),a=(a.prop("checked")&&a.prop("checked",!1).trigger("change"),GmCXt.closeSlideshowActivities(),GmCXt.playerI.tour);GmCXt.playerI&&GmCXt.isPlayer()&&!GmCXt.playerI.giphyPlayed&&(r=!1,GmCXt.isLastStep(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure)||(t=GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure),r=GmCXt.isLastStep(t.step_id,GmCXt.playerI.playStructure),(!GmCXt.isVideoEndedOnShowme&&GmCXt.playerI.type===GmCXt.TOUR_PLAYER_VIDEO||t&&GmCXt.playerI.type!==GmCXt.TOUR_PLAYER_VIDEO&&!r&&t.step_type!==GmCXt.STEP_TYPE_SURVEY&&t.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER&&t.step_type!==GmCXt.STEP_TYPE_TRANSPORT||!r&&t&&-1!==Lp.indexOf(t.step_id))&&(r=GmCXt.getOrgSettings())&&r.exitSentiment&&(t={tour:GmCXt.playerI.tour,guideNotCompleted:!0},GmCXt.showSurveyScreen(t,t.guideNotCompleted))),Lp=[]),GmCXt.isMyguideLibrary?GmCXt.closeMyguideLibShowme():(GmCXt.FT.isPlayer&&(r=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId),ce.setPlayedStepsInfo(r)),GmCXt.tourPlayerI&&GmCXt.tourPlayerI.closeGuide(!1,!0)),mg$(".mgPlayerJSProd_panel").removeAttr("style"),GmCXt.closeAppPanel(),GmCXt.requestHandler.closeSlideshow(),GmCXt.cleanPlayer(),GmCXt.isHowToGuide(a)&&!GmCXt.isMyguideLibrary&&GmCXt.openAppPanel()}function Ip(){let t=-1;var r=mg$(".mgPlayerJSProd_thumbnail-preview");for(let e=0;e<r.length;e++)r[e].id==="mgPlayerJSProd_slideshow-thumb-"+GmCXt.playerI.currentStepId&&(t=e);return t}function Dp(e){a(e,"svelte-z74ak0",".mgPlayerJSProd_autoplay-option-checkbox.svelte-z74ak0.svelte-z74ak0{display:flex;align-items:center;margin:5px;&:hover {\n\t\t\t& .mgPlayerJSProd_title-tooltip-wrapper {\n\t\t\t\tfont-weight: normal !important;\n\t\t\t\tdisplay: block !important;\n\t\t\t\ttop: 25px !important;\n\t\t\t}\n\t\t}}.mgPlayerJSProd_autoplay-custom-checkbox.svelte-z74ak0.svelte-z74ak0{position:relative !important;display:inline-block !important;width:40px !important;height:18px !important}input[type='checkbox'].svelte-z74ak0.svelte-z74ak0{opacity:0;width:0;height:0}.mgPlayerJSProd_autoplay-custom-slider.svelte-z74ak0.svelte-z74ak0{position:absolute !important;cursor:pointer !important;top:0 !important;left:0 !important;right:0 !important;bottom:0 !important;-webkit-transition:0.4s !important;transition:0.4s !important;width:36px !important;height:18px !important;border-radius:50px !important;background-color:#8e8fa6 !important;background-size:cover !important}.mgPlayerJSProd_autoplay-custom-slider.svelte-z74ak0.svelte-z74ak0::before{position:absolute;content:'';height:14px;width:14px;left:2px;bottom:2px;border-radius:50%;background-color:#ffffff !important;-webkit-transition:0.4s;transition:0.4s;background-size:cover}input[type='checkbox'].svelte-z74ak0:checked+.mgPlayerJSProd_autoplay-custom-slider.svelte-z74ak0{background-color:var(--mg-primary) !important}input[type='checkbox'].svelte-z74ak0:checked+.mgPlayerJSProd_autoplay-custom-slider.svelte-z74ak0::before{-webkit-transform:translateX(18px);-ms-transform:translateX(18px);transform:translateX(18px)}.mgPlayerJSProd_autoplay-text.svelte-z74ak0.svelte-z74ak0{font-size:16px;color:#333;font-weight:400;user-select:none}.mgPlayerJSProd_preview-step-popup-container.svelte-z74ak0.svelte-z74ak0{z-index:initial;position:absolute}")}function $p(r){let a,e=GmCXt.label.zoomIn+"",i,o,n,s=GmCXt.svgs.close_slideshow+"",l,d;return{c(){a=Me("wmgPlayerJSProd_"),i=Ie(e),o=De(),Fe(n=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_span"),Fe(a,"class","mgPlayerJSProd_zoom-error"),Fe(a,"id","mgPlayerJSProd_zoom-in-error"),Fe(a,"role","alertdialog")},m(e,t){Le(e,a,t),xe(a,i),xe(a,o),xe(a,n),n.innerHTML=s,l||(d=$e(n,"click",r[25]),l=!0)},p:Je,d(e){e&&Ee(a),l=!1,d()}}}function Fp(r){let a,i,o,n,s,l;return{c(){Fe(a=Me("img"),"id","mgPlayerJSProd_slide-img"),Fe(a,"class",i=Ge(r[19]?"mgPlayerJSProd_slideshow-step-img":"mgPlayerJSProd_slideshow-step-img-inline")+" svelte-z74ak0"),Fe(a,"style",o=r[19]?"top: 50%; transform: translate(-50%, -50%);":`transition: ${r[0]>r[7]?"1s":"unset"}; z-index: -1; transform-origin: 0px 0px; transform: translate(${r[20]?"0,0":`calc(-50% * ${r[0]}), 0`}) scale(${r[0]}); left: `+(r[20]?"0":"50%")),Q(a.src,n=r[18])||Fe(a,"src",n),Fe(a,"alt","")},m(e,t){Le(e,a,t),s||(l=$e(a,"load",r[21]),s=!0)},p(e,t){524288&t[0]&&i!==(i=Ge(e[19]?"mgPlayerJSProd_slideshow-step-img":"mgPlayerJSProd_slideshow-step-img-inline")+" svelte-z74ak0")&&Fe(a,"class",i),1572993&t[0]&&o!==(o=e[19]?"top: 50%; transform: translate(-50%, -50%);":`transition: ${e[0]>e[7]?"1s":"unset"}; z-index: -1; transform-origin: 0px 0px; transform: translate(${e[20]?"0,0":`calc(-50% * ${e[0]}), 0`}) scale(${e[0]}); left: `+(e[20]?"0":"50%"))&&Fe(a,"style",o),262144&t[0]&&!Q(a.src,n=e[18])&&Fe(a,"src",n)},d(e){e&&Ee(a),s=!1,l()}}}function Op(r){let a,e=GmCXt.label.zoomOut+"",i,o,n,s=GmCXt.svgs.close_slideshow+"",l,d;return{c(){a=Me("wmgPlayerJSProd_"),i=Ie(e),o=De(),Fe(n=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_span"),Fe(a,"class","mgPlayerJSProd_zoom-error"),Fe(a,"id","mgPlayerJSProd_zoom-out-error"),Fe(a,"role","alertdialog")},m(e,t){Le(e,a,t),xe(a,i),xe(a,o),xe(a,n),n.innerHTML=s,l||(d=$e(n,"click",r[25]),l=!0)},p:Je,d(e){e&&Ee(a),l=!1,d()}}}function Rp(e){let r,a=e[8]?.step_description+"";return{c(){Fe(r=Me("wmgPlayerJSProd_"),"class","mgPlayerJSProd_step-desc"),Fe(r,"style",e[14])},m(e,t){Le(e,r,t),r.innerHTML=a},p(e,t){256&t[0]&&a!==(a=e[8]?.step_description+"")&&(r.innerHTML=a),16384&t[0]&&Fe(r,"style",e[14])},d(e){e&&Ee(r)}}}function Hp(e){let r;return{c(){Fe(r=Me("wmgPlayerJSProd_"),"id","mgPlayerJSProd_howto-circle"),Ae(r,"left",e[3]+"px"),Ae(r,"top",e[4]+"px"),Ae(r,"width",e[6]+"px"),Ae(r,"height",e[5]+"px"),Ae(r,"position","absolute"),Ae(r,"border","5px solid transparent")},m(e,t){Le(e,r,t)},p(e,t){8&t[0]&&Ae(r,"left",e[3]+"px"),16&t[0]&&Ae(r,"top",e[4]+"px"),64&t[0]&&Ae(r,"width",e[6]+"px"),32&t[0]&&Ae(r,"height",e[5]+"px")},d(e){e&&Ee(r)}}}function Np(r){let a,i,F,O,o,n,s,l,R,H,N,d,c,g,B,V,z,m,U,j,p,W,Z,q,Y,u,h,K,P,Q,ee,y,te,re,ae,_,ie,oe,S,f,C,b,v=r[8]?.step_title+"",ne,se,w,J,e=GmCXt.label.btnPrev+"",le,G,de,A,T=(!1===r[12]?GmCXt.label.close:GmCXt.label.next)+"",ce,X,ge,me,k,pe,ue,he,x,Pe,L,ye,_e,Se,fe,Ce,be,ve,we,E=r[1]&&$p(r),M=r[18]&&Fp(r),I=r[2]&&Op(r),D=r[8]?.step_description&&""!=r[8].step_description&&Rp(r),$=r[3]&&r[4]&&r[6]&&r[5]&&Hp(r);return{c(){a=Me("wmgPlayerJSProd_"),i=Me("wmgPlayerJSProd_"),(F=Me("wmgPlayerJSProd_")).innerHTML='<wmgPlayerJSProd_ class="mgPlayerJSProd_h3 mgPlayerJSProd_slideshow-tour-title mgPlayerJSProd_font-weight-normal mgPlayerJSProd_no-margin"></wmgPlayerJSProd_>',O=De(),o=Me("wmgPlayerJSProd_"),n=Me("wmgPlayerJSProd_"),s=Me("wmgPlayerJSProd_"),R=De(),(H=Me("wmgPlayerJSProd_")).innerHTML='<wmgPlayerJSProd_ class="mgPlayerJSProd_tooltip-title">Zoom in</wmgPlayerJSProd_>',N=De(),d=Me("wmgPlayerJSProd_"),c=Me("wmgPlayerJSProd_"),B=De(),(V=Me("wmgPlayerJSProd_")).innerHTML='<wmgPlayerJSProd_ class="mgPlayerJSProd_tooltip-title">Zoom out</wmgPlayerJSProd_>',z=De(),m=Me("wmgPlayerJSProd_"),(U=Me("label")).innerHTML='<input class="mgPlayerJSProd_autoplay-user-pref-scope svelte-z74ak0" type="checkbox" id="mgPlayerJSProd_autoplay-slider-checkbox"/> <wmgPlayerJSProd_ class="mgPlayerJSProd_span mgPlayerJSProd_autoplay-custom-slider svelte-z74ak0"></wmgPlayerJSProd_>',j=De(),p=Me("wmgPlayerJSProd_"),(W=Me("wmgPlayerJSProd_")).textContent=""+GmCXt.label.autoplay,Z=De(),(q=Me("wmgPlayerJSProd_")).innerHTML='<wmgPlayerJSProd_ class="mgPlayerJSProd_player-audio-controls mgPlayerJSProd_position-center"><button id="mgPlayerJSProd_btn-audio-mute" class="mgPlayerJSProd_lbl-btn mgPlayerJSProd_btn-audio-mute mgPlayerJSProd_cursor-pointer mgPlayerJSProd_display-none" aria-label="slideshow audio mute button"></button> <button id="mgPlayerJSProd_btn-audio-unmute" class="mgPlayerJSProd_lbl-btn mgPlayerJSProd_btn-audio-unmute mgPlayerJSProd_cursor-pointer" aria-label="slideshow audio unmute button"></button></wmgPlayerJSProd_>',Y=De(),u=Me("wmgPlayerJSProd_"),h=Me("button"),K=De(),P=Me("wmgPlayerJSProd_"),(Q=Me("wmgPlayerJSProd_")).textContent=""+GmCXt.label.close,ee=De(),y=Me("wmgPlayerJSProd_"),E&&E.c(),te=De(),re=Me("wmgPlayerJSProd_"),ae=De(),_=Me("wmgPlayerJSProd_"),M&&M.c(),ie=De(),I&&I.c(),oe=De(),S=Me("wmgPlayerJSProd_"),f=Me("wmgPlayerJSProd_"),C=Me("wmgPlayerJSProd_"),b=Me("wmgPlayerJSProd_"),ne=De(),D&&D.c(),se=De(),w=Me("wmgPlayerJSProd_"),J=Me("button"),le=Ie(e),de=De(),A=Me("button"),ce=Ie(T),ge=De(),$&&$.c(),me=De(),(k=Me("wmgPlayerJSProd_")).innerHTML='<wmgPlayerJSProd_ class="mgPlayerJSProd_slideshow-spinner-outer"><wmgPlayerJSProd_ class="mgPlayerJSProd_slideshow-image-spinner"><img alt="slideshow spinner image"/></wmgPlayerJSProd_></wmgPlayerJSProd_>',he=De(),(x=Me("button")).innerHTML='<wmgPlayerJSProd_ class="mgPlayerJSProd_span mgPlayerJSProd_icon-slideshow-prev-button mgPlayerJSProd_inline-block-vm mgPlayerJSProd_position-center"></wmgPlayerJSProd_>',Pe=De(),(L=Me("button")).innerHTML='<wmgPlayerJSProd_ class="mgPlayerJSProd_span mgPlayerJSProd_icon-slideshow-next-button mgPlayerJSProd_inline-block-vm mgPlayerJSProd_position-center"></wmgPlayerJSProd_>',ye=De(),(_e=Me("wmgPlayerJSProd_")).innerHTML='<wmgPlayerJSProd_><wmgPlayerJSProd_ class="mgPlayerJSProd_slideshow-step-num mgPlayerJSProd_inline-block-vm"></wmgPlayerJSProd_> <wmgPlayerJSProd_ class="mgPlayerJSProd_slideshow-step-title mgPlayerJSProd_inline-block-vm"></wmgPlayerJSProd_></wmgPlayerJSProd_> <wmgPlayerJSProd_ class="mgPlayerJSProd_slideshow-step-desc"></wmgPlayerJSProd_>',Se=De(),(fe=Me("wmgPlayerJSProd_")).innerHTML=`<wmgPlayerJSProd_ class="mgPlayerJSProd_slideshow-branch-heading"><wmgPlayerJSProd_ class="mgPlayerJSProd_slideshow-branch-heading-label mgPlayerJSProd_font-size-15">Select the <wmgPlayerJSProd_ class="mgPlayerJSProd_span mgPlayerJSProd_font-weight-600">Branch</wmgPlayerJSProd_>
					that you want to play further</wmgPlayerJSProd_></wmgPlayerJSProd_> <wmgPlayerJSProd_ class="mgPlayerJSProd_slideshow-branch-heading"><wmgPlayerJSProd_ class="mgPlayerJSProd_slideshow-branch-step-desc mgPlayerJSProd_font-size-15"></wmgPlayerJSProd_></wmgPlayerJSProd_> <wmgPlayerJSProd_ class="mgPlayerJSProd_slideshow-button-container"></wmgPlayerJSProd_>`,Ce=De(),(be=Me("wmgPlayerJSProd_")).innerHTML='<button id="mgPlayerJSProd_btn-thumbnail-prev" class="mgPlayerJSProd_lbl-btn mgPlayerJSProd_control-thumbnail-prev mgPlayerJSProd_cursor-pointer mgPlayerJSProd_position-relative" aria-label="slideshow thumbnail previous button"><wmgPlayerJSProd_ class="mgPlayerJSProd_span mgPlayerJSProd_control-icon-prev mgPlayerJSProd_inline-block-vm mgPlayerJSProd_position-center"></wmgPlayerJSProd_></button> <wmgPlayerJSProd_ id="mgPlayerJSProd_thumbnail-preview-wrapper" class="mgPlayerJSProd_thumbnail-preview-wrapper mgPlayerJSProd_width-100"></wmgPlayerJSProd_> <button id="mgPlayerJSProd_btn-thumbnail-next" class="mgPlayerJSProd_lbl-btn mgPlayerJSProd_control-thumbnail-next mgPlayerJSProd_cursor-pointer mgPlayerJSProd_position-relative" aria-label="slideshow thumbnail next button"><wmgPlayerJSProd_ class="mgPlayerJSProd_span mgPlayerJSProd_control-icon-next mgPlayerJSProd_inline-block-vm mgPlayerJSProd_position-center"></wmgPlayerJSProd_></button>',Fe(F,"class","mgPlayerJSProd_slideshow-header-left mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center"),Fe(s,"id","mgPlayerJSProd_zoom-in"),Fe(s,"class",l="mgPlayerJSProd_zoom mgPlayerJSProd_cursor-pointer mgPlayerJSProd_focus-controls-wrapper "+(r[9]?"":"mgPlayerJSProd_display-none")),Fe(H,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left"),Fe(n,"class","mgPlayerJSProd_btn-zoom-in-wrapper mgPlayerJSProd_position-relative"),Fe(c,"id","mgPlayerJSProd_zoom-out"),Fe(c,"class",g="mgPlayerJSProd_zoom mgPlayerJSProd_cursor-pointer mgPlayerJSProd_focus-controls-wrapper "+(r[9]?"":"mgPlayerJSProd_display-none")),Fe(V,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left"),Fe(d,"class","mgPlayerJSProd_btn-zoom-out-wrapper mgPlayerJSProd_position-relative"),Fe(U,"class","mgPlayerJSProd_autoplay-custom-checkbox svelte-z74ak0"),Fe(W,"class","mgPlayerJSProd_tooltip-title"),Fe(p,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left"),Fe(m,"class","mgPlayerJSProd_autoplay-option-checkbox mgPlayerJSProd_autoplay-cursor-pointer mgPlayerJSProd_position-relative svelte-z74ak0"),Fe(q,"class","mgPlayerJSProd_showMe-play-ctrl-audio mgPlayerJSProd_position-relative"),Fe(h,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_icon-close-slideshow mgPlayerJSProd_inline-block-vm"),Fe(h,"aria-label","slideshow close button"),Fe(Q,"class","mgPlayerJSProd_tooltip-title"),Fe(P,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left"),Fe(u,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_slideshow-close mgPlayerJSProd_position-relative"),Fe(o,"class","mgPlayerJSProd_slideshow-header-right mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center"),Fe(i,"class","mgPlayerJSProd_slideshow-header mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_padding-15"),Fe(re,"class","mgPlayerJSProd_iframe-wrapper-div"),Fe(b,"class","mgPlayerJSProd_step-title"),Fe(b,"style",r[13]),Fe(C,"class","mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_step-data-title"),Fe(f,"class","mgPlayerJSProd_step-data mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_scrollbar-thin"),Ae(f,"height",r[8]?.step_description&&""!=r[8].step_description?"80px":"56px"),Fe(J,"id","mgPlayerJSProd_slideshow-popup-prev-button"),Fe(J,"class",G="mgPlayerJSProd_action-btn mgPlayerJSProd_prev "+(r[11]?"":"mgPlayerJSProd_display-none")),Fe(J,"style",r[17]),Fe(J,"aria-label","Prev"),Fe(A,"id","mgPlayerJSProd_slideshow-popup-next-button"),Fe(A,"class","mgPlayerJSProd_action-btn mgPlayerJSProd_next"),Fe(A,"style",r[16]),Fe(w,"class","mgPlayerJSProd_action-container"),Fe(S,"id","mgPlayerJSProd_tooltipPopup"),Fe(S,"class",X="mgPlayerJSProd_preview-step-popup-container "+r[10]+" svelte-z74ak0"),Fe(S,"style",r[15]),Fe(k,"id","mgPlayerJSProd_spinner"),Fe(k,"class","mgPlayerJSProd_loader-wrapper"),Fe(_,"id","mgPlayerJSProd_image_scroll"),Fe(_,"class",pe=Ge(`mgPlayerJSProd_slideshow-step-img-div mgPlayerJSProd_position-center ${r[19]?"":"mgPlayerJSProd_overflow mgPlayerJSProd_scrollbar-thin"} `)+" svelte-z74ak0"),Fe(_,"style",ue=r[19]?"overflow: unset; transition: unset;":""),Fe(x,"id","mgPlayerJSProd_slideshow-prev-button"),Fe(x,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_slideshow-prev-button"),Fe(x,"aria-label","slideshow previous step button"),Fe(L,"id","mgPlayerJSProd_slideshow-next-button"),Fe(L,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_slideshow-next-button"),Fe(L,"aria-label","slideshow next step button"),Fe(_e,"class","mgPlayerJSProd_slideshow-step-content"),Fe(fe,"class","mgPlayerJSProd_slideshow-branch-content"),Fe(y,"class","mgPlayerJSProd_slideshow-main"),Fe(be,"class","mgPlayerJSProd_step-thumbnail-container mgPlayerJSProd_width-100"),Fe(a,"class","mgPlayerJSProd_tour-player-panel mgPlayerJSProd_display-none")},m(e,t){Le(e,a,t),xe(a,i),xe(i,F),xe(i,O),xe(i,o),xe(o,n),xe(n,s),xe(n,R),xe(n,H),xe(o,N),xe(o,d),xe(d,c),xe(d,B),xe(d,V),xe(o,z),xe(o,m),xe(m,U),xe(m,j),xe(m,p),xe(p,W),xe(o,Z),xe(o,q),xe(o,Y),xe(o,u),xe(u,h),xe(u,K),xe(u,P),xe(P,Q),xe(a,ee),xe(a,y),E&&E.m(y,null),xe(y,te),xe(y,re),xe(y,ae),xe(y,_),M&&M.m(_,null),xe(_,ie),I&&I.m(_,null),xe(_,oe),xe(_,S),xe(S,f),xe(f,C),xe(C,b),b.innerHTML=v,xe(f,ne),D&&D.m(f,null),xe(S,se),xe(S,w),xe(w,J),xe(J,le),xe(w,de),xe(w,A),xe(A,ce),xe(_,ge),$&&$.m(_,null),xe(_,me),xe(_,k),xe(y,he),xe(y,x),xe(y,Pe),xe(y,L),xe(y,ye),xe(y,_e),xe(y,Se),xe(y,fe),xe(a,Ce),xe(a,be),ve||(we=[$e(s,"click",r[23]),$e(c,"click",r[24]),$e(A,"click",r[22])],ve=!0)},p(e,t){512&t[0]&&l!==(l="mgPlayerJSProd_zoom mgPlayerJSProd_cursor-pointer mgPlayerJSProd_focus-controls-wrapper "+(e[9]?"":"mgPlayerJSProd_display-none"))&&Fe(s,"class",l),512&t[0]&&g!==(g="mgPlayerJSProd_zoom mgPlayerJSProd_cursor-pointer mgPlayerJSProd_focus-controls-wrapper "+(e[9]?"":"mgPlayerJSProd_display-none"))&&Fe(c,"class",g),e[1]?E?E.p(e,t):((E=$p(e)).c(),E.m(y,te)):E&&(E.d(1),E=null),e[18]?M?M.p(e,t):((M=Fp(e)).c(),M.m(_,ie)):M&&(M.d(1),M=null),e[2]?I?I.p(e,t):((I=Op(e)).c(),I.m(_,oe)):I&&(I.d(1),I=null),256&t[0]&&v!==(v=e[8]?.step_title+"")&&(b.innerHTML=v),8192&t[0]&&Fe(b,"style",e[13]),e[8]?.step_description&&""!=e[8].step_description?D?D.p(e,t):((D=Rp(e)).c(),D.m(f,null)):D&&(D.d(1),D=null),256&t[0]&&Ae(f,"height",e[8]?.step_description&&""!=e[8].step_description?"80px":"56px"),2048&t[0]&&G!==(G="mgPlayerJSProd_action-btn mgPlayerJSProd_prev "+(e[11]?"":"mgPlayerJSProd_display-none"))&&Fe(J,"class",G),131072&t[0]&&Fe(J,"style",e[17]),4096&t[0]&&T!==(T=(!1===e[12]?GmCXt.label.close:GmCXt.label.next)+"")&&Oe(ce,T),65536&t[0]&&Fe(A,"style",e[16]),1024&t[0]&&X!==(X="mgPlayerJSProd_preview-step-popup-container "+e[10]+" svelte-z74ak0")&&Fe(S,"class",X),32768&t[0]&&Fe(S,"style",e[15]),e[3]&&e[4]&&e[6]&&e[5]?$?$.p(e,t):(($=Hp(e)).c(),$.m(_,me)):$&&($.d(1),$=null),524288&t[0]&&pe!==(pe=Ge(`mgPlayerJSProd_slideshow-step-img-div mgPlayerJSProd_position-center ${e[19]?"":"mgPlayerJSProd_overflow mgPlayerJSProd_scrollbar-thin"} `)+" svelte-z74ak0")&&Fe(_,"class",pe),524288&t[0]&&ue!==(ue=e[19]?"overflow: unset; transition: unset;":"")&&Fe(_,"style",ue)},i:Je,o:Je,d(e){e&&Ee(a),E&&E.d(),M&&M.d(),I&&I.d(),D&&D.d(),$&&$.d(),ve=!1,ke(we)}}}GmCXt.showSelector=function(e){GmCXt.setElementStyle(e,{display:"block"},!0)},GmCXt.hideSelector=function(e){GmCXt.setElementStyle(e,{display:"none"},!0)},GmCXt.showInlineBlock=function(e){mg$(e).css("display","inline-block")},GmCXt.disableSelector=function(e){mg$(e).css({opacity:".5","pointer-events":"none"})},GmCXt.resetSelector=function(e){mg$(e).css({opacity:"","pointer-events":""})},GmCXt.activateSelector=function(e){mg$(e).addClass("mgPlayerJSProd_showMe-player-active-mode")},GmCXt.inactivateSelector=function(e){mg$(e).removeClass("mgPlayerJSProd_showMe-player-active-mode")},GmCXt.removeStyleSelector=function(e){mg$(e).removeAttr("style")},GmCXt.disableSlideshowAutoplay=function(){!0===xp.slideshowAutoplay&&(xp.slideshowAutoplay=!1,xp.autoPlayNextStep=!1)},GmCXt.playModeView=function(e){GmCXt.FT.audio||GmCXt.hideSelector(".mgPlayerJSProd_showMe-play-ctrl-audio"),"slideshow"===e?(mg$(".mgPlayerJSProd_slideshow-main").css({height:"calc(100% - 150px)"}),window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer&&mg$(".mgPlayerJSProd_slideshow-main").css({height:"calc(100% - 17%)"}),mg$(".mgPlayerJSProd_iframe-wrapper-div").css({height:"89%"})):"video"!==e&&"gif"!==e&&"giphy"!==e||(mg$(".mgPlayerJSProd_slideshow-main").css({height:"86%"}),window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer&&mg$(".mgPlayerJSProd_slideshow-main").css({height:"calc(100% - 12%)"}),mg$(".mgPlayerJSProd_iframe-wrapper-div").css({height:"92%"}),GmCXt.disableSlideshowAutoplay())},void 0===GmCXt.requestHandler&&(GmCXt.requestHandler={}),GmCXt.hideSlideShowPlayer=function(){mg$(".mgPlayerJSProd_tour-player-panel").hide(),GmCXt.hideSelector(".mgPlayerJSProd_showMe-player-ctrl-container")},GmCXt.showSlideShowPlayer=function(){xp.settings={showMeSetting:GmCXt.getAppSetting("showMeSetting"),giphy:GmCXt.getAppSetting("giphy"),video:GmCXt.getAppSetting("video")},GmCXt.increaseSidePanelWidth(),mg$(".mgPlayerJSProd_ege-panel").css({width:"500px",right:"-9550px",transition:"width 0s"}),mg$(".mgPlayerJSProd_slideshow-panel").css({display:"block",left:"50%"}),mg$(".mgPlayerJSProd_tour-player-panel").show(),GmCXt.showSelector(".mgPlayerJSProd_showMe-player-ctrl-container"),mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").empty()},GmCXt.getBulCount=function(e){let t=mg$(e).find("li").length;return mg$(e).find("li").each(function(){var e=mg$(this).text().replace(/.*\{|\}/g,"");-1!==e.indexOf(";")&&(e=e.split(";")[1])&&"optional"===e.trim()&&t--}),t},GmCXt.validateShowMe=function(e){var t=mg$(e).attr("maxlength"),t=parseInt(t),r=mg$(e).val().length;return t<=r?(mg$(e).next(".mgPlayerJSProd_power-form-error").each(function(){this.style.setProperty("display","block","important")}),t<r||void 0):(mg$(e).next(".mgPlayerJSProd_power-form-error").each(function(){this.style.setProperty("display","none","important")}),!1)},GmCXt.checkPreFilledData=function(e,t){e=GmCXt.getBulCount(e);let r=GmCXt.getBulCount(t)<=e?!0:!1;return r},GmCXt.getFormHtml=function(n,e){e=e.replace(/&nbsp;/gm,"");let r=mg$(n).text().trim().toLowerCase(),s=GmCXt.getBulCount(e),l=GmCXt.checkPreFilledData(n,e),d="";function c(e){let t="";return t=e&&-1!==mg$(e).text().indexOf(":")?mg$(e).text().substring(mg$(e).text().indexOf(":")+1):mg$(e).text()}return mg$(e).find("li").each(function(a){let i=mg$(this).text().replace(/{(.*?)}/g,"");var e=mg$(this).text().replace(/.*\{|\}/g,"");let t="",o="";if(l){let r=!1;mg$(n).find("li").each(function(t){if(!r){let e=-1!==mg$(this).text().indexOf(":")?mg$(this).text().split(":")[0]:"";(e=e.replace(/\s/g,""))&&0===i.replace(/\s/g,"").indexOf(e)?(o=mg$(n).find("li")[t],r=!0):e||i||(o=mg$(n).find("li")[a],r=!0)}})}1!==s||"yes"!==r&&"no"!==r||(o=mg$(n)),-1!==e.indexOf("|")?t=((e,t)=>{var r,a=c(t),i=e.split("|");let o="<select>",n="";for(let e=0;e<i.length;e++)n=a&&a.replace(/\s/g,"").toLowerCase()===i[e].replace(/\s/g,"").toLowerCase()?"selected":"",r=25<i[e].length?i[e].slice(0,25)+"...":i[e],o=o+"<option "+n+" title ='"+i[e]+"' value = '"+i[e]+"' >"+r+"</option>";return o+"</select>"})(e,o):-1!==e.indexOf("char")&&(t=((e,t)=>{var t=c(t),r=parseInt(e.split("char")[0]),e=e.split(";")[1];let a=!1;return"<textarea optional='"+(a=e&&"optional"===e.trim()?!0:a)+"' maxlength='"+r+"'  value='"+t+"' >"+t+"</textarea><wmgPlayerJSProd_ class='mgPlayerJSProd_power-form-error'>"+GmCXt.label.powerFormMandatory+" "+r+" </wmgPlayerJSProd_>"})(e,o)),d=d+"<li>"+i+t+"</li>"}),d},GmCXt.expandPowerForm=function(){"none"===mg$(".mgPlayerJSProd_form-injector-old-value-wrapper").css("display")?(mg$(".mgPlayerJSProd_form-injector-old-value-wrapper").css({display:"inline-block"}),mg$(".mgPlayerJSProd_form-injector-form").css({width:"56%","border-left":"1px solid #bdbdbd"}),mg$(".mgPlayerJSProd_power-form-expand-icon").css({transform:"rotate(180deg)"})):(mg$(".mgPlayerJSProd_form-injector-old-value-wrapper").css({display:"none"}),mg$(".mgPlayerJSProd_form-injector-form").css({width:"100%","border-left":"none"}),mg$(".mgPlayerJSProd_power-form-expand-icon").css({transform:"rotate(0deg)"}))},GmCXt.openPowerForm=function(e){let t=e.he,r=e.tag;var a=e.value;let i=e.jobId,o=e.step,n=e.isPreview,s=GmCXt.label.powerFormNewData;function l(){mg$(".mgPlayerJSProd_form-injector-form").find("li").each(function(){var e=mg$(this).html();if(-1!==e.indexOf("<select"))t=this,r=mg$(t).find("select").val(),mg$(t).find("select").remove(),mg$(t).html(mg$(t).html()+r);else if(-1!==e.indexOf("<textarea")){var t=this;var r=mg$(t).find("textarea");let e=mg$(r).val().trim();r=mg$(r).attr("optional"),e||"true"!==r?("."===e[e.length-1]&&(e=e.substring(0,e.length-1)),mg$(t).find("textarea").remove(),mg$(t).html(mg$(t).html()+e)):mg$(t).remove();return}}),mg$(".mgPlayerJSProd_power-form-error").remove(),mg$(".mgPlayerJSProd_form-injector-form-title").remove();var e=mg$(".mgPlayerJSProd_form-injector-form").find("li").length,t=mg$(".mgPlayerJSProd_form-injector-form").text().trim();1!==e||"yes"!==t.toLowerCase()&&"no"!==t.toLowerCase()||mg$(".mgPlayerJSProd_form-injector-form").html(mg$(".mgPlayerJSProd_form-injector-form").text())}GmCXt.checkPreFilledData(t,a)||(s=s+"<br/><p class='mgPlayerJSProd_font-size-11'> "+GmCXt.label.powerFormNewDataMore+"</p>");e="<wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-wrapper mgPlayerJSProd_form-injector-wrapper"+i+"'>   <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-wrapper-inner'>   <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-header'>       <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-title'>"+GmCXt.label.powerFormTitle+"</wmgPlayerJSProd_>       <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-brand-logo'>"+GmCXt.getPopupLogo()+"</wmgPlayerJSProd_>   </wmgPlayerJSProd_>       <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-form-container'>           <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-old-value-wrapper'>               <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-old-value-title'>"+GmCXt.label.powerFormOldData+"</wmgPlayerJSProd_>               <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-old-value'>"+t+"</wmgPlayerJSProd_>           </wmgPlayerJSProd_>           <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-form'>               <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-form-title'>"+s+"</wmgPlayerJSProd_>               <ul>"+GmCXt.getFormHtml(t,a)+"</ul>           </wmgPlayerJSProd_>       </wmgPlayerJSProd_>       <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-btns'>           <wmgPlayerJSProd_ class='mgPlayerJSProd_power-form-expand-icon'></wmgPlayerJSProd_>           <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-cancel mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral'>"+GmCXt.label.btnCancel+" </wmgPlayerJSProd_>           <wmgPlayerJSProd_ class='mgPlayerJSProd_form-injector-submit mgPlayerJSProd_btn-default'> "+GmCXt.label.btnSubmit+"</wmgPlayerJSProd_>       </wmgPlayerJSProd_>   </wmgPlayerJSProd_> </wmgPlayerJSProd_>",mg$(".mgPlayerJSProd_form-injector-wrapper").remove(),mg$("html").append(e),a=GmCXt.getBrandLogo();a||mg$(".mgPlayerJSProd_form-injector-brand-logo").html(GmCXt.svgs.white_myguide_logo),mg$(".mgPlayerJSProd_power-form-expand-icon").html(GmCXt.svgs.expand_power_form),mg$(".mgPlayerJSProd_form-injector-form li textarea").off("change keyup paste").on("change keyup paste",function(){GmCXt.validateShowMe(this)}),mg$(".mgPlayerJSProd_power-form-expand-icon").off("click").on("click",GmCXt.expandPowerForm),mg$(".mgPlayerJSProd_form-injector-submit").off("click").on("click",function(){var e;(()=>{let a=!0;return mg$(".mgPlayerJSProd_form-injector-form").find("li").each(function(){var e,t,r;-1!==mg$(this).html().indexOf("<textarea")&&(e=mg$(this).find("textarea"),t=mg$(e).val().trim(),r=mg$(e).attr("optional"),!t&&"true"!==r||GmCXt.validateShowMe(e))&&(mg$(this).find(".mgPlayerJSProd_power-form-error").each(function(){this.style.setProperty("display","block","important")}),a=!1)}),a})()&&(!n&&o&&GmCXt.updateTooltipActionInfo(o.tour_id,o.step_id,o.step_settings.smarttip,"submit"),l(),e=mg$(".mgPlayerJSProd_form-injector-form").html(),e={he:t,tag:r,formHtml:e,forceInsert:!0,jobId:i},GmCXt.sendMessageToAllWindows("mgPlayerJSProd_action:insert_power_html",e),GmCXt.closePowerForm())}),mg$(".mgPlayerJSProd_form-injector-cancel").off("click").on("click",function(){!n&&o&&GmCXt.updateTooltipActionInfo(o.tour_id,o.step_id,o.step_settings.smarttip,"cancel"),GmCXt.closePowerFormSp()})},GmCXt.getCustomImgName=function(){return"mgPlayerJSProd_custom-image"},GmCXt.requestHandler.playVideo=function(){GmCXt.hideSelector(".mgPlayerJSProd_showMe-player-ctrl-container"),GmCXt.hideSelector(".mgPlayerJSProd_slideshow-next-button"),GmCXt.hideSelector(".mgPlayerJSProd_slideshow-prev-button"),mg$(".mgPlayerJSProd_slideshow-tour-title").text(GmCXt.playerI.title),mg$(".mgPlayerJSProd_slideshow-logo").attr("src",GmCXt.brandLogo());var e=GmCXt.getVideoPopUpIFrameHTML(GmCXt.playerI.video_url);mg$(".mgPlayerJSProd_iframe-wrapper-div").html(e),document.getElementById("mgPlayerJSProd_video-container").onended=function(){GmCXt.closeStepInSlideShow(),GmCXt.requestHandler.videoAssignmentPlayed()}},GmCXt.addSlidePlayerThumbnail=function(e,t){let r,a,i;!e&&t?GmCXt.branchStepExistInPS()?(r=GmCXt.getStepSortedByPS(GmCXt.playerI.playStructure,GmCXt.playerI.currentStepId),e=GmCXt.playerI.currentStepId):r=t:r=GmCXt.branchStepExistInPS()&&e?GmCXt.getStepSortedByPS(GmCXt.playerI.playStructure,e):GmCXt.playerI.tour.steps,a=r.length,r.forEach(function(e,t){e.step_id===GmCXt.playerI.currentStepId&&(i=t)}),5<a&&(i>=GmCXt.imgThumLength?a=i+1:a>GmCXt.imgThumLength&&(a=GmCXt.imgThumLength)),GmCXt.createThumbnail(e,a,r)},GmCXt.showSlideShowControls=function(){GmCXt.showSelector(".mgPlayerJSProd_player-audio-controls"),GmCXt.showSelector(".mgPlayerJSProd_step-thumbnail-container"),GmCXt.showSelector(".mgPlayerJSProd_mode-slideshow"),GmCXt.showSelector(".mgPlayerJSProd_mode-giphy"),GmCXt.showSelector(".mgPlayerJSProd_mode-video"),GmCXt.showSelector(".mgPlayerJSProd_showMe-play-mode-autoplay-wrapper"),GmCXt.showSelector(".mgPlayerJSProd_showMe-play-mode-autoplay"),GmCXt.containBranchStep(GmCXt.playerI.tour)&&(GmCXt.hideSelector(".mgPlayerJSProd_mode-video"),GmCXt.hideSelector(".mgPlayerJSProd_mode-giphy"),GmCXt.hideSelector(".mgPlayerJSProd_autoplay-option-checkbox"),GmCXt.hideSelector(".mgPlayerJSProd_showMe-play-mode-autoplay-wrapper"),GmCXt.disableSlideshowAutoplay()),GmCXt.setShowMeOptions(),GmCXt.showSelector(".mgPlayerJSProd_resize-slideshow")},GmCXt.hideShowControls=function(){GmCXt.showSlideShowControls();var e=GmCXt.playerI.tour.media_files;e&&void 0!==e[0]?(e[0].video&&xp.settings.video?GmCXt.resetSelector(".mgPlayerJSProd_mode-video"):GmCXt.disableSelector(".mgPlayerJSProd_mode-video"),e[0].gify&&xp.settings.giphy?GmCXt.resetSelector(".mgPlayerJSProd_mode-giphy"):GmCXt.disableSelector(".mgPlayerJSProd_mode-giphy")):(GmCXt.disableSelector(".mgPlayerJSProd_mode-video"),GmCXt.disableSelector(".mgPlayerJSProd_mode-giphy"))},GmCXt.requestHandler.playSlideshow=function(){GmCXt.showSlideShowPlayer(),GmCXt.stopAudio(),xp.autoPlayNextStep=!1,xp.slideshowAutoplay=!1,GmCXt.loadSlideshow(),mg$("#mgPlayerJSProd_player-audio-controls-header").addClass("mgPlayerJSProd_display-none-imp"),GmCXt.playerI.playStructure&&0!==GmCXt.playerI.playStructure.length||(GmCXt.playerI.playStructure=[],t=GmCXt.playerI.tour,t=GmCXt.getGuidePlayStructure(t),GmCXt.playerI.playStructure=GmCXt.playerI.playStructure.concat(t)),GmCXt.hideShowControls();let e=null;switch((e=GmCXt.playerI.currentStepId?GmCXt.playerI.currentStepId:e)&&GmCXt.getStepFromPlayerI(e).step_type!==GmCXt.STEP_TYPE_GUIDE&&GmCXt.addSlidePlayerThumbnail(e),mg$(document).off("click").on("click",".slideshow-thumbnail-img",function(){GmCXt.playerI.currentStepId=mg$(this).attr("stepId"),mg$(".mgPlayerJSProd_active-thumbnail").attr("stepid")!==GmCXt.playerI.currentStepId&&(GmCXt.closeStepInSlideShow(),GmCXt.playSlideshowStep(),mg$(".slideshow-thumbnail-img").removeClass("mgPlayerJSProd_active-thumbnail"),mg$(this).addClass("mgPlayerJSProd_active-thumbnail"))}),!0===xp.slideshowAutoplay?xp.autoPlayNextStep=!0:xp.autoPlayNextStep=!1,GmCXt.initSlideshowControls(),GmCXt.tourPlayStarted=!1,GmCXt.tourPlayCompleted=!1,GmCXt.playerI.isAutolaunch?GmCXt.setAutoTour(GmCXt.playerI.tour.tour_id):GmCXt.setAutoTour(0),GmCXt.isLastStepPlayedOnShowme=!1,GmCXt.isVideoEndedOnShowme=!1,GmCXt.isGiphyPlayedOnShowme=!1,GmCXt.isVideoPlayedOnShowMe=!1,GmCXt.playerI.type){case GmCXt.TOUR_PLAYER_SLIDESHOW:GmCXt.playSlideshowStep();break;case GmCXt.TOUR_PLAYER_VIDEO:GmCXt.playVideoStepInSlideshow();break;case GmCXt.TOUR_PLAYER_GIPHY:GmCXt.playGuideGiphy()}mg$(document).off("keydown").on("keydown",function(e){37===e.which?GmCXt.playStep("previous"):39===e.which?GmCXt.playStep("next"):27===e.which&&Mp()}),GmCXt.activeSlideshowThumbnail(),GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId);var t=GmCXt.findCurrentStepIndex()+1;mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft(112*t)},GmCXt.initSlideshowControls=function(){GmCXt.playerI.totalStepCount=parseInt(GmCXt.playerI.tour.step_count),4<GmCXt.playerI.totalStepCount?(GmCXt.resetSelector(".mgPlayerJSProd_control-thumbnail-prev"),GmCXt.resetSelector(".mgPlayerJSProd_control-thumbnail-next")):(GmCXt.disableSelector(".mgPlayerJSProd_control-thumbnail-prev"),GmCXt.disableSelector(".mgPlayerJSProd_control-thumbnail-next")),GmCXt.showInlineBlock(".mgPlayerJSProd_slideshow-main"),GmCXt.showInlineBlock(".mgPlayerJSProd_slideshow-next-button"),GmCXt.showInlineBlock(".mgPlayerJSProd_slideshow-prev-button"),GmCXt.showSelector(".mgPlayerJSProd_tour-player-panel"),mg$(".mgPlayerJSProd_slideshow-tour-title").removeClass("mgPlayerJSProd_disabled mgPlayerJSProd_text-italic"),0===GmCXt.playerI.tour.tour_id&&GmCXt.isHowToGuide(GmCXt.playerI.tour)&&(GmCXt.playerI.tour.tour_title="Saving How To Guide ...",mg$(".mgPlayerJSProd_slideshow-tour-title").addClass("mgPlayerJSProd_disabled mgPlayerJSProd_text-italic")),mg$(".mgPlayerJSProd_slideshow-tour-title").text(GmCXt.playerI.tour.tour_title),mg$(".mgPlayerJSProd_slideshow-logo").attr("src",GmCXt.brandLogo()),GmCXt.removeStyleSelector("#mgPlayerJSProd_svg-prev-bg"),GmCXt.removeStyleSelector("#mgPlayerJSProd_svg-next-bg"),GmCXt.removeStyleSelector("#mgPlayerJSProd_svg-next-arrow"),GmCXt.removeStyleSelector("#mgPlayerJSProd_svg-prev-arrow")},GmCXt.loadSlideshow=function(){mg$(".mgPlayerJSProd_slideshow-redirect-link").text(GmCXt.label.redirectLivetour),mg$(".mgPlayerJSProd_slideshow-image-spinner img").attr("src",GmCXt.loader()),GmCXt.showInlineBlock(".mgPlayerJSProd_slideshow-main"),GmCXt.showInlineBlock(".mgPlayerJSProd_slideshow-next-button"),GmCXt.showInlineBlock(".mgPlayerJSProd_slideshow-prev-button"),GmCXt.attachDOMEvents(),GmCXt.attachStringConstant(),GmCXt.attachSvgConstant()},GmCXt.attachStringConstant=function(){mg$(".mgPlayerJSProd_popup-content-wrapper").html(GmCXt.label.guideNotAvailable),mg$(".mgPlayerJSProd_redirect-to-link-ok-btn").html(GmCXt.label.ok),mg$(".mgPlayerJSProd_redirect-to-link-cancel-btn").html(GmCXt.label.btnCancel),mg$(".mgPlayerJSProd_label-in-app").html(GmCXt.label.inApp),mg$(".mgPlayerJSProd_label-video").html(GmCXt.label.video),mg$(".mgPlayerJSProd_label-giphy").html(GmCXt.label.giphy),mg$(".mgPlayerJSProd_label-slideshow").html(GmCXt.label.slideshow),mg$(".mgPlayerJSProd_label-live").html(GmCXt.label.live),mg$("#mgPlayerJSProd_btn-autoplay").html(GmCXt.label.autoplay),mg$("#mgPlayerJSProd_btn-autoplay-on").html(GmCXt.label.on),mg$("#mgPlayerJSProd_btn-autoplay-off").html(GmCXt.label.off)},GmCXt.attachSvgConstant=function(){mg$(".mgPlayerJSProd_icon-close-slideshow").html(GmCXt.svgs.close_slideshow),mg$(".mgPlayerJSProd_icon-close-oops-msg").html(GmCXt.svgs.close_slideshow),mg$(".mgPlayerJSProd_icon-slideshow-prev-button").html(GmCXt.svgs.slideshow_prev_button),mg$(".mgPlayerJSProd_icon-slideshow-next-button").html(GmCXt.svgs.slideshow_next_button),mg$(".mgPlayerJSProd_control-icon-prev").html(GmCXt.svgs.slideshow_prev_button),mg$(".mgPlayerJSProd_control-icon-next").html(GmCXt.svgs.slideshow_next_button),mg$(".mgPlayerJSProd_playerbar-icon-slideshow-prev").html(GmCXt.svgs.playerbar_prev_button),mg$(".mgPlayerJSProd_playerbar-icon-slideshow-next").html(GmCXt.svgs.playerbar_next_button),mg$(".mgPlayerJSProd_btn-audio-mute").html(GmCXt.svgs.play_step_audio_off),mg$(".mgPlayerJSProd_btn-audio-unmute").html(GmCXt.svgs.play_step_audio_on),mg$(".mgPlayerJSProd_icon-mode-video").html(GmCXt.svgs.slideshow_video_mode),mg$(".mgPlayerJSProd_icon-mode-giphy").html(GmCXt.svgs.slideshow_giphy_mode),mg$(".mgPlayerJSProd_icon-mode-slideshow").html(GmCXt.svgs.slideshow_mode),mg$(".mgPlayerJSProd_icon-player-close").html(GmCXt.svgs.playerbar_close),mg$("#mgPlayerJSProd_zoom-in").html(GmCXt.svgs.add_icon),mg$("#mgPlayerJSProd_zoom-out").html(GmCXt.svgs.subtract_icon)},GmCXt.attachDOMEvents=function(){mg$(".mgPlayerJSProd_slideshow-close").off("click").on("click",Mp),mg$(".mgPlayerJSProd_player-close").off("click").on("click",Mp),mg$(".mgPlayerJSProd_player-audio-controls").off("click").on("click",GmCXt.SlideshowAudioIconClickEvent),mg$(".mgPlayerJSProd_mode-video").off("click").on("click",GmCXt.playVideoStepInSlideshow),mg$(".mgPlayerJSProd_mode-giphy").off("click").on("click",GmCXt.playGuideGiphy),mg$(".mgPlayerJSProd_mode-slideshow").off("click").on("click",GmCXt.playSlideshowStep),mg$(".mgPlayerJSProd_autoplay-custom-slider").on("click",function(){var e=mg$(".mgPlayerJSProd_autoplay-slider-checkbox");e.prop("checked",!e.prop("checked")).trigger("change")}),mg$("#mgPlayerJSProd_autoplay-slider-checkbox").on("change",function(){mg$(this).prop("checked")?(xp.videoPaused?GmCXt.resumeVideoStepInSlideShow():GmCXt.playSlideshowStep(),xp.slideshowAutoplay=!0,xp.autoPlayNextStep=!0):(xp.slideshowAutoplay=!1,xp.autoPlayNextStep=!1)}),mg$(".mgPlayerJSProd_slideshow-next-button").off("click").on("click",function(){GmCXt.playStep("next")}),mg$(".mgPlayerJSProd_slideshow-prev-button").off("click").on("click",function(){GmCXt.playStep("previous")}),mg$(".mgPlayerJSProd_control-thumbnail-next").off("click").on("click",function(){GmCXt.playStep("next")}),mg$("#mgPlayerJSProd_slideshow-popup-next-button").off("click").on("click",function(){GmCXt.playStep("next")}),mg$(".mgPlayerJSProd_control-thumbnail-prev").off("click").on("click",function(){GmCXt.playStep("previous")}),mg$("#mgPlayerJSProd_slideshow-popup-prev-button").off("click").on("click",function(){GmCXt.playStep("previous")})},GmCXt.pauseVideoStepInSlideShow=function(){var e;GmCXt.playerI&&GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId).step_type===GmCXt.STEP_TYPE_VIDEO&&(xp.videoPaused=!0,e=document.getElementById("mgPlayerJSProd_video-container"))&&e.pause()},GmCXt.resumeVideoStepInSlideShow=function(){GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId).step_type===GmCXt.STEP_TYPE_VIDEO&&document.getElementById("mgPlayerJSProd_video-container").play()},GmCXt.removeVideoShowMe=function(){mg$(".mgPlayerJSProd_iframe-wrapper-div").find("iframe").remove(),mg$(".mgPlayerJSProd_iframe-wrapper-div").find("video").length&&mg$(".mgPlayerJSProd_iframe-wrapper-div").find("video").remove()},GmCXt.closeSlideshowActivities=function(){var e;GmCXt.playerI&&(e=GmCXt.playerI.tour.tour_settings)&&e.play_structure&&e.play_structure.length&&GmCXt.playerI.tour&&GmCXt.playerI.tour.steps&&GmCXt.playerI.tour.steps.length&&GmCXt.playerI.tour.steps[0].step_id===e.play_structure[0].id&&GmCXt.isLastStep(GmCXt.playerI.currentStepId,e.play_structure)&&(GmCXt.playerI.completeEventTracked=!0),xp.autoPlayNextStep=!1,GmCXt.stopAudio(),GmCXt.pauseVideoStepInSlideShow(),GmCXt.pauseAudio(),GmCXt.stopSlideshow(),GmCXt.imgThumLength=5,mg$(".mgPlayerJSProd_ege-panel").css({width:"500px","max-width":"500px",transition:"width 0s",right:"initial"})},GmCXt.stopSlideshow=function(){GmCXt.closeStepInSlideShow(),GmCXt.reduceSidePanelWidth(),mg$(".mgPlayerJSProd_slideshow-panel").css("display","none")},GmCXt.enableSlideShowTab=function(){switch(GmCXt.hideSelector(".mgPlayerJSProd_slideshow-next-button"),GmCXt.hideSelector(".mgPlayerJSProd_slideshow-prev-button"),GmCXt.showSlideShowControls(),GmCXt.playerI.type){case GmCXt.TOUR_PLAYER_SLIDESHOW:GmCXt.enableSlideshow();break;case GmCXt.TOUR_PLAYER_VIDEO:GmCXt.showIframe(),GmCXt.hideSelector(".mgPlayerJSProd_showMe-play-ctrl-audio"),GmCXt.hideSelector(".mgPlayerJSProd_slideshow-step-img-div"),GmCXt.inactivateSelector(".mgPlayerJSProd_mode-slideshow"),GmCXt.inactivateSelector(".mgPlayerJSProd_mode-giphy"),GmCXt.activateSelector(".mgPlayerJSProd_mode-video"),GmCXt.hideSelector(".mgPlayerJSProd_step-thumbnail-container"),GmCXt.showSelector(".mgPlayerJSProd_showMe-play-bar"),GmCXt.hideSelector(".mgPlayerJSProd_showMe-play-mode-autoplay-wrapper"),GmCXt.playModeView("video");break;case GmCXt.TOUR_PLAYER_GIPHY:GmCXt.showIframe(),GmCXt.hideSelector(".mgPlayerJSProd_showMe-play-ctrl-audio"),GmCXt.hideSelector(".mgPlayerJSProd_slideshow-step-img-div"),GmCXt.inactivateSelector(".mgPlayerJSProd_mode-slideshow"),GmCXt.inactivateSelector(".mgPlayerJSProd_mode-video"),GmCXt.activateSelector(".mgPlayerJSProd_mode-giphy"),GmCXt.hideSelector(".mgPlayerJSProd_step-thumbnail-container"),GmCXt.showSelector(".mgPlayerJSProd_showMe-play-bar"),GmCXt.hideSelector(".mgPlayerJSProd_showMe-play-mode-autoplay-wrapper"),GmCXt.playModeView("gif")}},GmCXt.showIframe=function(){GmCXt.removeVideoShowMe(),mg$(".mgPlayerJSProd_iframe-wrapper-div").empty(),GmCXt.showSelector(".mgPlayerJSProd_iframe-wrapper-div")},GmCXt.enableSlideshow=function(){GmCXt.removeVideoShowMe(),GmCXt.activateSelector(".mgPlayerJSProd_mode-slideshow"),GmCXt.inactivateSelector(".mgPlayerJSProd_mode-video"),GmCXt.inactivateSelector(".mgPlayerJSProd_mode-giphy"),GmCXt.showSelector(".mgPlayerJSProd_slideshow-next-button"),GmCXt.showSelector(".mgPlayerJSProd_slideshow-prev-button"),GmCXt.resetSelector(".mgPlayerJSProd_showMe-play-mode-autoplay"),GmCXt.resetSelector(".mgPlayerJSProd_player-audio-controls"),mg$(".mgPlayerJSProd_step-thumbnail-container").css("display","flex"),GmCXt.hideSelector(".mgPlayerJSProd_showMe-play-bar"),GmCXt.playModeView("slideshow");var e=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId);void 0!==e&&(e.step_type===GmCXt.STEP_TYPE_VIDEO?(GmCXt.showSelector(".mgPlayerJSProd_iframe-wrapper-div"),GmCXt.hideSelector(".mgPlayerJSProd_slideshow-step-img-div"),GmCXt.hideSelector(".mgPlayerJSProd_showMe-play-ctrl-audio"),GmCXt.inactivateSelector(".mgPlayerJSProd_mode-video"),GmCXt.activateSelector(".mgPlayerJSProd_mode-slideshow"),GmCXt.inactivateSelector(".mgPlayerJSProd_mode-giphy"),mg$(".mgPlayerJSProd_iframe-wrapper-div").css({height:"98%"})):(GmCXt.hideSelector(".mgPlayerJSProd_iframe-wrapper-div"),GmCXt.showSelector(".mgPlayerJSProd_slideshow-step-img-div"),GmCXt.showSelector(".mgPlayerJSProd_showMe-play-ctrl-audio"),GmCXt.showInlineBlock(".mgPlayerJSProd_player-audio-controls"))),mg$(".mgPlayerJSProd_slideshow-step-img").attr("src","").attr("alt","")},GmCXt.playVideoStepInSlideshow=function(){GmCXt.stopAudio(),GmCXt.playerI.type=GmCXt.TOUR_PLAYER_VIDEO;var e=GmCXt.playerI.tour.media_files[0];if(e){let t="";e=(t=e.video&&"0"!==e.video?e.video:t)+GmCXt.getCdnSign();t=GmCXt.getUrlWithLang(t),GmCXt.enableSlideShowTab(),GmCXt.checkAssetUrl(t,e,function(e){e&&(t=e);e=GmCXt.getVideoPopUpIFrameHTML(t),mg$(".mgPlayerJSProd_iframe-wrapper-div").html(e),GmCXt.playerI.videoPlayed||(GmCXt.playerI.videoPlayed=!0),e=document.getElementById("mgPlayerJSProd_video-container");GmCXt.isVideoPlayedOnShowMe=!0,GmCXt.isVideoEndedOnShowme=!1,e.onended=function(){GmCXt.isVideoEndedOnShowme=!0}})}},GmCXt.getUrlWithLang=function(e){var t=e.split("."),t="."+t[t.length-1];let r=e.replace(t,""),a="";return GmCXt.enableTranslation&&GmCXt.language&&(GmCXt.defaultLang&&(r=r.replace("_"+GmCXt.defaultLang.language,"")),a="_"+GmCXt.language),r+a+t+GmCXt.getCdnSign()},GmCXt.playGuideGiphy=function(){GmCXt.stopAudio(),GmCXt.playerI.type=GmCXt.TOUR_PLAYER_GIPHY,GmCXt.enableSlideShowTab();var e,t;GmCXt.playerI.tour.media_files[0]&&(e=(t=GmCXt.playerI.tour.media_files[0].gify)+GmCXt.getCdnSign(),t=GmCXt.getUrlWithLang(t),GmCXt.checkAssetUrl(t,e,function(e){e&&(t=e),GmCXt.onPrem()||(t+='&d="'+Date.now()+'"');e="<img class='gif-item "+GmCXt.getCustomImgName()+"' src='"+t+"' alt='"+GmCXt.playerI.tour.tour_title+"' />";mg$(".mgPlayerJSProd_iframe-wrapper-div").empty().html(e),GmCXt.playerI.giphyPlayed||(GmCXt.playerI.giphyPlayed=!0),GmCXt.isGiphyPlayedOnShowme=!0}))},GmCXt.activeSlideshowThumbnail=function(){mg$(".slideshow-thumbnail-img").removeClass("mgPlayerJSProd_active-thumbnail"),mg$(".mgPlayerJSProd_slideshow-thumb-"+GmCXt.playerI.currentStepId).addClass("mgPlayerJSProd_active-thumbnail")},GmCXt.playStep=function(a){if(!(GmCXt.isEmpty(GmCXt.playerI)||GmCXt.isEmpty(GmCXt.playerI.tour)||GmCXt.isEmpty(GmCXt.playerI.tour.steps))){let t=null;var i=GmCXt.playerI.tour.steps;let r=0;var e=Ip()+1;if(!0===xp.ready&&GmCXt.playerI){if("previous"===a){var o=GmCXt.getPreviousStepsList(parseInt(GmCXt.playerI.currentStepId));if(o&&1<o.length){for(let e=0;e<o.length;e++)if(mg$("#mgPlayerJSProd_slideshow-thumb-"+o[e])&&mg$("#mgPlayerJSProd_slideshow-thumb-"+o[e]).length){t=o[e];break}}else t=GmCXt.getPreviousStepId(parseInt(GmCXt.playerI.currentStepId),"slideshow")}else t=GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure),GmCXt.markAutoLaunchTourDoNotShow(GmCXt.playerI.tour);if(t){xp.ready=!1,GmCXt.closeStepInSlideShow(),GmCXt.playerI.currentStepId=t;var n=GmCXt.getStepFromPlayerI(t);if(GmCXt.isAutomationStep(n)||void 0===n.step_type)xp.ready=!0,GmCXt.playStep(a);else if(!0!==(s=GmCXt.getCurrentStep(GmCXt.playerI.currentStepId)).step_settings.displayPreview||GmCXt.playerI.linkGuidePlayMode&&"Show Me"===GmCXt.playerI.linkGuidePlayMode&&GmCXt.playerI.linkedGuides&&GmCXt.playerI.linkedGuides.includes(s.tour_id)||"live"!==GmCXt.playerI.mode)if((n=GmCXt.getStepFromPlayerI(t)).step_type===GmCXt.STEP_TYPE_SURVEY||n.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||n.step_type===GmCXt.STEP_TYPE_TRANSPORT)xp.ready=!0,GmCXt.isLastStep(n.step_id,GmCXt.playerI.playStructure)?GmCXt.setPrevNextButtonsShowMe(n):GmCXt.playStep(a);else{if(n.step_type===GmCXt.STEP_TYPE_GUIDE?(xp.ready=!0,s={tour_id:n.step_settings.tour_id},GmCXt.enableTranslation&&GmCXt.language&&(GmCXt.checkDefaultLangForTour(GmCXt.playerI.tour,GmCXt.language)||(s.language=GmCXt.language)),mg$("#mgPlayerJSProd_spinner").addClass("show"),GmCXt.disableSelector(".mgPlayerJSProd_slideshow-prev-button"),GmCXt.disableSelector(".mgPlayerJSProd_control-thumbnail-prev"),GmCXt.disableSelector(".mgPlayerJSProd_slideshow-next-button"),GmCXt.disableSelector(".mgPlayerJSProd_control-thumbnail-next"),GmCXt.getSteps(s).then(function(e){!!e?(Lp.splice(Lp.indexOf(n.step_id),1),GmCXt.playSlideshowStep()):(GmCXt.removeSlideThum(n.step_id),Lp.push(n.step_id),GmCXt.isLastStep(n.step_id,GmCXt.playerI.playStructure)?GmCXt.setPrevNextButtonsShowMe(n):GmCXt.playStep(a),mg$("#mgPlayerJSProd_spinner").removeClass("show"))})):GmCXt.playSlideshowStep(),GmCXt.containBranchStep(GmCXt.playerI.tour)){var s=GmCXt.findCurrentStepIndex();"next"===a&&GmCXt.imgThumLength!==parseInt(GmCXt.playerI.tour.step_count)&&i[s]&&d(i[s])&&(e===GmCXt.imgThumLength||0===e&&GmCXt.getPreviousStepId(parseInt(i[s].step_id))===GmCXt.playerI.mergingFromId)&&(GmCXt.createSlideThum(i[s]),GmCXt.imgThumLength+=1)}else if(e>=GmCXt.imgThumLength-4&&"next"===a){for(let e=GmCXt.imgThumLength;e<GmCXt.imgThumLength+4&&e<i.length;e++){var l=i[e];if(d(l)&&(GmCXt.createSlideThum(l),r++),4<=r)break}GmCXt.imgThumLength+=r}GmCXt.activeSlideshowThumbnail(),"previous"===a&&n.step_type!==GmCXt.STEP_TYPE_BRANCH&&e<=GmCXt.imgThumLength-2?mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft(mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft()-mg$(".mgPlayerJSProd_thumbnail-preview").outerWidth(!0)):"next"===a&&3<=e&&mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft(mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft()+mg$(".mgPlayerJSProd_thumbnail-preview").outerWidth(!0))}else GmCXt.closeSlideshowActivities(),GmCXt.playerI.type="live",GmCXt.requestHandler.playGuide(GmCXt.playerI)}else Mp()}function d(e){return e&&e.step_type!==GmCXt.STEP_TYPE_SURVEY&&e.step_type!==GmCXt.STEP_TYPE_TRANSPORT&&e.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER}}},GmCXt.playSlideshowStep=function(){ce.processSlideImageTimeout&&clearTimeout(ce.processSlideImageTimeout),GmCXt.playerI.type=GmCXt.TOUR_PLAYER_SLIDESHOW,GmCXt.enableSlideShowTab(),mg$("#mgPlayerJSProd_tooltipPopup").hide();var e=GmCXt.playerI.tour.steps;function r(t,r){GmCXt.isEmpty(t)&&(GmCXt.removeSlideThum(r),Lp.push(a.step_id));r=t;if(r.length){GmCXt.branchStepExistInPS()&&(t="#mgPlayerJSProd_slideshow-thumb-"+GmCXt.playerI.currentStepId,mg$(t).nextAll(".slideshow-thumbnail-img").remove(),GmCXt.removeSlideThum(GmCXt.playerI.currentStepId)),GmCXt.concatLinkGuideSteps(r),GmCXt.playerI.currentStepId=GmCXt.playerI.linkGuideFS,GmCXt.playerI.tour.step_count;let e=GmCXt.playerI.tour.steps;GmCXt.containBranchStep(GmCXt.playerI.tour)&&(GmCXt.playerI.tour.tour_settings.play_structure=GmCXt.playerI.playStructure),e=GmCXt.branchStepExist(GmCXt.playerI.tour)?GmCXt.getStepSortedByPS(GmCXt.playerI.playStructure,GmCXt.playerI.currentStepId):GmCXt.playerI.tour.steps,GmCXt.addSlidePlayerThumbnail(void 0,e),GmCXt.activeSlideshowThumbnail(),GmCXt.playSlideStep()}else GmCXt.removeSlideThum(GmCXt.playerI.currentStepId),xp.ready=!0,GmCXt.playStep("next");mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft(mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft()+mg$(".mgPlayerJSProd_thumbnail-preview").outerWidth(!0))}var a=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId);parseInt(a.step_order)===e.length&&(GmCXt.isLastStepPlayedOnShowme=!0),"guide"===a.step_type?(e={tour_id:a.step_settings.tour_id},GmCXt.enableTranslation&&GmCXt.language&&(GmCXt.checkDefaultLangForTour(GmCXt.playerI.tour,GmCXt.language)||(e.language=GmCXt.language)),GmCXt.apiPlayer&&(e.forceJSONApi=!0),GmCXt.getSteps(e).then(function(t){t?GmCXt.checkGuidesBasedOnSegment([t],function(e){GmCXt.isEmpty(e)?t.steps=[]:(t.steps=GmCXt.filterOutAutomationSteps(t.steps),GmCXt.updatePlayStructureLinkGuide(t)),r(t.steps,a.step_id)}):r([],a.step_id)})):GmCXt.playSlideStep()},GmCXt.playSlideVideo=function(e){let t=e.step_video_url+GmCXt.getCdnSign();GmCXt.checkAssetUrl(t,t,function(e){e&&(t=e);e=GmCXt.getVideoPopUpIFrameHTML(t);mg$(".mgPlayerJSProd_iframe-wrapper-div").html(e),mg$(".mgPlayerJSProd_focus-controls-wrapper").addClass("mgPlayerJSProd_display-none")})},GmCXt.playSlideBranch=function(e){mg$(".mgPlayerJSProd_slideshow-thumb-"+e.step_id).nextAll(".slideshow-thumbnail-img").remove(),mg$("#mgPlayerJSProd_spinner").removeClass("show"),GmCXt.hideSelector(".mgPlayerJSProd_slideshow-next-button"),GmCXt.showSelector(".mgPlayerJSProd_slideshow-branch-content"),mg$(".mgPlayerJSProd_focus-controls-wrapper").addClass("mgPlayerJSProd_display-none");let t="";var r=e.step_settings.branch,a=((t,r)=>{for(let e=0;e<t.length;e++)if(t[e].id===r)return t[e]})(GmCXt.playerI.playStructure,e.step_id);mg$(".mgPlayerJSProd_slideshow-branch-heading-label").html(e.step_title);for(let e=0;e<r.length;e++){var i=r[e].branchName,o=a.branch[e].tail;t=t+"<wmgPlayerJSProd_ class='mgPlayerJSProd_slideshow-branch-btn mgPlayerJSProd_btn-default' tail="+o+"><wmgPlayerJSProd_ class='mgPlayerJSProd_slideshow-branch-icon'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_slideshow-branch-label mgPlayerJSProd_line-clamp mgPlayerJSProd_line-clamp-1'>"+i+"</wmgPlayerJSProd_></wmgPlayerJSProd_>"}mg$(".mgPlayerJSProd_slideshow-button-container").append(t),r.length<=1?mg$(".mgPlayerJSProd_slideshow-button-container").addClass("mgPlayerJSProd_text-align-center"):mg$(".mgPlayerJSProd_slideshow-button-container").removeClass("mgPlayerJSProd_text-align-center"),GmCXt.disableSelector(".mgPlayerJSProd_control-thumbnail-next"),mg$(".mgPlayerJSProd_slideshow-branch-icon").html(GmCXt.svgs.branch_slideshow),GmCXt.addBranchButtonsListener(),ge.slideState.set({step:e,isImageUpdated:!1})},GmCXt.playSlideImage=function(e){mg$("#mgPlayerJSProd_spinner").addClass("show"),mg$(".mgPlayerJSProd_slideshow-step-img").off("load").on("load",function(){mg$("#mgPlayerJSProd_spinner").removeClass("show")});let t=void 0,r=(e.step_type===GmCXt.STEP_TYPE_INLINE&&(t=GmCXt.STEP_TYPE_INLINE),GmCXt.getImgURLShowMe(e,!1,t));0===GmCXt.playerI.tour.tour_id&&GmCXt.isHowToGuide(GmCXt.playerI.tour)&&(r=e.preview_image),mg$(".mgPlayerJSProd_slideshow-step-img").addClass(GmCXt.getCustomImgName()),mg$(".mgPlayerJSProd_slideshow-step-img").attr("alt",GmCXt.concatHTMLStringWithSpace(e.step_title)),ge.slideState.set({step:e,isImageUpdated:!0,slideImgURL:r})},GmCXt.setPrevNextButtonsShowMe=function(e){GmCXt.resetSelector(".mgPlayerJSProd_slideshow-prev-button"),GmCXt.resetSelector(".mgPlayerJSProd_slideshow-next-button"),GmCXt.resetSelector(".mgPlayerJSProd_control-thumbnail-prev"),GmCXt.resetSelector(".mgPlayerJSProd_control-thumbnail-next"),e.step_type===GmCXt.STEP_TYPE_BRANCH&&GmCXt.disableSelector(".mgPlayerJSProd_control-thumbnail-next");var t=GmCXt.getPreviousStepId(parseInt(GmCXt.playerI.currentStepId)),t=GmCXt.getStepFromPlayerI(t),t=((GmCXt.isFirstNonAutomationStep()||t&&(t.step_type===GmCXt.STEP_TYPE_SURVEY||t.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||t.step_type===GmCXt.STEP_TYPE_TRANSPORT)&&GmCXt.isFirstNonAutomationStep(t.step_id))&&(GmCXt.disableSelector(".mgPlayerJSProd_slideshow-prev-button"),GmCXt.disableSelector(".mgPlayerJSProd_control-thumbnail-prev")),GmCXt.getTail(e.step_id,GmCXt.playerI.playStructure)),t=GmCXt.getStepFromPlayerI(t);(GmCXt.isLastStep(e.step_id,GmCXt.playerI.playStructure)||t&&(t.step_type===GmCXt.STEP_TYPE_SURVEY||t.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||t.step_type===GmCXt.STEP_TYPE_TRANSPORT)&&GmCXt.isLastStep(t.step_id,GmCXt.playerI.playStructure))&&(GmCXt.disableSelector(".mgPlayerJSProd_slideshow-next-button"),GmCXt.disableSelector(".mgPlayerJSProd_control-thumbnail-next"),GmCXt.isFirstNonAutomationStep())&&(GmCXt.disableSelector(".mgPlayerJSProd_slideshow-prev-button"),GmCXt.disableSelector(".mgPlayerJSProd_control-thumbnail-prev"))},GmCXt.playStepFromStepIdInShowMe=function(e){clearTimeout(Ep),Ep=GmCXt.timeout(function(){!0===xp.autoPlayNextStep&&GmCXt.playerI.currentStepId!==e&&GmCXt.playStep("next")},5e3)},GmCXt.playAudioAndGoNext=function(a,i){GmCXt.storage().get(["stepAudioRunningStatus"]).then(function(e){GmCXt.audioObject&&GmCXt.audioObject.pause(),GmCXt.playerI||(GmCXt.playerI=i);let t=GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure),r="";GmCXt.isDefined(a.step_audio)&&GmCXt.getAudioPreference(e.stepAudioRunningStatus)?(e={audioTrack:a.step_audio},r=e.audioTrack,!GmCXt.isMyguideLibrary&&r&&-1===r.indexOf(GmCXt.user.cdn_signature.split("=")[0])&&(r+=GmCXt.getCdnSign()),GmCXt.checkAssetUrl(r,r,function(e){fetch(e).then(e=>{if(e.ok)return e.blob();throw new Error("HTTP error! Status: "+e.status)}).then(e=>{e=URL.createObjectURL(e);GmCXt.audioObject=new Audio(e),GmCXt.audioObject.onended=function(){GmCXt.playerI&&!GmCXt.isLastStep(a.step_id,GmCXt.playerI.playStructure)&&GmCXt.playStepFromStepIdInShowMe(t)},GmCXt.playAudioObjectShowMe(),GmCXt.stepAudioRunningStatus=!0,GmCXt.showSelector(".mgPlayerJSProd_btn-audio-unmute"),GmCXt.hideSelector(".mgPlayerJSProd_btn-audio-mute"),mg$(".mgPlayerJSProd_player-audio-controls").addClass("playing-audio")})})):(GmCXt.playStepFromStepIdInShowMe(t),GmCXt.stepAudioRunningStatus=!1,GmCXt.hideSelector(".mgPlayerJSProd_btn-audio-unmute"),GmCXt.showSelector(".mgPlayerJSProd_btn-audio-mute"),mg$(".mgPlayerJSProd_player-audio-controls").removeClass("playing-audio"))})},GmCXt.playSlideStep=function(){GmCXt.hideSelector(".mgPlayerJSProd_slideshow-branch-content"),mg$(".mgPlayerJSProd_slideshow-button-container").empty(),GmCXt.enableSlideShowTab(),mg$(".mgPlayerJSProd_focus-controls-wrapper").hasClass("mgPlayerJSProd_display-none")&&mg$(".mgPlayerJSProd_focus-controls-wrapper").removeClass("mgPlayerJSProd_display-none");var e=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId),t=((e.is_first_step||e.is_last_step)&&(GmCXt.hideSelector(".mgPlayerJSProd_showMe-play-ctrl-audio"),mg$(".mgPlayerJSProd_focus-controls-wrapper").addClass("mgPlayerJSProd_display-none")),GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure));if(void 0!==e){var r=e.step_type;if(r===GmCXt.STEP_TYPE_VIDEO)GmCXt.playSlideVideo(e);else if(r===GmCXt.STEP_TYPE_BRANCH||GmCXt.isTrue(e.step_settings.inlineBranch))GmCXt.playSlideBranch(e);else{if(r===GmCXt.STEP_TYPE_SURVEY||r===GmCXt.STEP_TYPE_ERROR_HANDLER||r===GmCXt.STEP_TYPE_TRANSPORT)return void(t&&(GmCXt.playerI.currentStepId=t,GmCXt.playSlideStep()));GmCXt.playSlideImage(e)}mg$(".mgPlayerJSProd_slideshow-step-title").text(e.step_title),"howto_tour"!==GmCXt.playerI.tour.tour_type&&e.step_type!==GmCXt.STEP_TYPE_VIDEO&&e.step_type!==GmCXt.STEP_TYPE_TRANSPORT&&GmCXt.step_type!==GmCXt.STEP_TYPE_SURVEY&&(e.step_description=GmCXt.updateOrgAndAddSignature(GmCXt.restoreAssetSrc(e.step_description))),mg$(".mgPlayerJSProd_slideshow-step-desc").html(e.step_description),GmCXt.activeSlideshowThumbnail(),r!==GmCXt.STEP_TYPE_VIDEO&&GmCXt.playAudioAndGoNext(e,GmCXt.playerI),GmCXt.trackStepEvent(e,""),GmCXt.setPrevNextButtonsShowMe(e),GmCXt.playerI.lastStepStatus="success",xp.ready=!0}},GmCXt.getImgURLShowMe=function(e,t,r){if(r===GmCXt.STEP_TYPE_BRANCH)return GmCXt.conf.staticContentPath+"default_branch.png";let a="",i;switch(r){case GmCXt.STEP_TYPE_VIDEO:i=e.image_url;break;case GmCXt.STEP_TYPE_INLINE:i=e.thumbnail_url;break;case GmCXt.STEP_TYPE_MESSAGE:i=e.thumbnail_url.includes("default_icon")?e.thumbnail_url:e.screen_url;default:e.screen_url?i=e.screen_url:e.step_screen_temp&&(a=e.step_screen_temp)}if(!a){var r=i.substring(i.lastIndexOf("/")+1),o=r.split(".");let e="";1<o.length&&(e=o[1].split("?")),a=t&&-1===r.indexOf("default_icon")?(t=o[0]+"."+e[0],i.replace(r,t)):(t=o[0]+"."+e[0],i.replace(r,t)),a+=GmCXt.getCdnSign()}return a},GmCXt.SlideshowAudioIconClickEvent=function(){GmCXt.stopAudio();var t=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId);if(!t.is_first_step&&!t.is_last_step){let e="";e=GmCXt.isMyguideLibrary?t.step_audio:GmCXt.updateOrgAndAddSignature(GmCXt.restoreAssetSrc(t.step_audio)),fetch(e).then(e=>{if(e.ok)return e.blob();throw new Error("HTTP error! Status: "+e.status)}).then(e=>{e=URL.createObjectURL(e);GmCXt.audioObject=new Audio(e),mg$(".mgPlayerJSProd_player-audio-controls").hasClass("playing-audio")?(GmCXt.audioObject.pause(),mg$(".mgPlayerJSProd_player-audio-controls").removeClass("playing-audio"),GmCXt.storage().set({stepAudioRunningStatus:!1}),GmCXt.stepAudioRunningStatus=!1,GmCXt.hideSelector(".mgPlayerJSProd_btn-audio-unmute"),GmCXt.showSelector(".mgPlayerJSProd_btn-audio-mute")):(GmCXt.playAudioObjectShowMe(),mg$(".mgPlayerJSProd_player-audio-controls").addClass("playing-audio"),GmCXt.storage().set({stepAudioRunningStatus:!0}),GmCXt.stepAudioRunningStatus=!0,GmCXt.showSelector(".mgPlayerJSProd_btn-audio-unmute"),GmCXt.hideSelector(".mgPlayerJSProd_btn-audio-mute"))})}},GmCXt.closeStepInSlideShow=function(){GmCXt.stopAudio(),GmCXt.removeVideoShowMe()},GmCXt.setShowMeOptions=function(){xp.settings.showMeSetting&&!GmCXt.containBranchStep(GmCXt.playerI.tour)?(mg$(".mgPlayerJSProd_mode-video").css("display","inline-flex"),xp.settings.giphy||GmCXt.hideSelector(".mgPlayerJSProd_mode-giphy"),xp.settings.video||GmCXt.hideSelector(".mgPlayerJSProd_mode-video")):(GmCXt.hideSelector(".mgPlayerJSProd_mode-giphy"),GmCXt.hideSelector(".mgPlayerJSProd_mode-video"))},GmCXt.playAudioObjectShowMe=function(){var e=GmCXt.audioObject.play();void 0!==e&&e.then(function(){}).catch(function(){})},GmCXt.addBranchButtonsListener=function(){mg$(".mgPlayerJSProd_slideshow-branch-btn").on("click",function(e){var t,r=e.currentTarget.getAttribute("tail");GmCXt.convertType(r)&&(GmCXt.playerI.currentStepId=r,GmCXt.playerI.tour.steps,t=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId),GmCXt.isLastStep(t.step_id,GmCXt.playerI.playStructure)&&t.step_type===GmCXt.STEP_TYPE_SURVEY?e.preventDefault():(mg$(".mgPlayerJSProd_slideshow-button-container").empty(),GmCXt.hideSelector(".mgPlayerJSProd_slideshow-branch-content"),mg$(".mgPlayerJSProd_slideshow-branch-btn").off("click"),xp.ready=!1,GmCXt.closeStepInSlideShow(),t.step_type!==GmCXt.STEP_TYPE_GUIDE&&(GmCXt.findCurrentStepIndex(),GmCXt.addSlidePlayerThumbnail(r),mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft(mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft()+mg$(".mgPlayerJSProd_thumbnail-preview").outerWidth(!0))),"live"===GmCXt.playerI.mode?GmCXt.requestHandler.playGuide(GmCXt.playerI):GmCXt.playSlideshowStep()))})},GmCXt.createSlideThum=function(t){var r="#mgPlayerJSProd_slideshow-thumb-"+t.step_id;if(!(t.step_type===GmCXt.STEP_TYPE_SURVEY||0!==mg$(r).length||t.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||t.step_type===GmCXt.STEP_TYPE_TRANSPORT||mg$("#mgPlayerJSProd_slideshow-thumb-"+t.step_id)&&mg$("#mgPlayerJSProd_slideshow-thumb-"+t.step_id).length)){let e=GmCXt.getImgURLShowMe(t,t.is_screen_url_processed,t.step_type);0===GmCXt.playerI.tour.tour_id&&GmCXt.isHowToGuide(GmCXt.playerI.tour)&&(e=t.preview_image);r="<button id='mgPlayerJSProd_slideshow-thumb-"+t.step_id+"' class='mgPlayerJSProd_thumbnail-preview mgPlayerJSProd_inline-block-vm mgPlayerJSProd_cursor-pointer slideshow-thumbnail-img mgPlayerJSProd_position-relative mgPlayerJSProd_slideshow-thumb-"+t.step_id+" mgPlayerJSProd_lbl-btn' stepId='"+t.step_id+"'><img class='"+GmCXt.getCustomImgName()+" slideshow-thumbnail img-thumbnail-"+t.step_id+"' src="+e+" err-src='"+GmCXt.conf.staticContentPath+"technology.jpg'></button>";mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").append(r)}},GmCXt.removeSlideThum=function(e){e="#mgPlayerJSProd_slideshow-thumb-"+e,mg$(e).remove()},GmCXt.createThumbnail=function(e,t,r){void 0===e&&mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").empty();e="<wmgPlayerJSProd_ class='mgPlayerJSProd_step-count-wrapper'><wmgPlayerJSProd_ class='mgPlayerJSProd_step-count'>Step "+(GmCXt.findCurrentStepIndex()+1)+" of "+parseInt(GmCXt.playerI.tour.step_count)+"</wmgPlayerJSProd_></wmgPlayerJSProd_>";mg$(".mgPlayerJSProd_thumbnail-preview-wrapper").append(e);for(let e=0;e<t;e++)r[e]&&-1===Lp.indexOf(r[e].step_id)&&GmCXt.createSlideThum(r[e]),r[e]&&(r[e].step_type===GmCXt.STEP_TYPE_SURVEY||r[e].step_type===GmCXt.STEP_TYPE_TRANSPORT||r[e].step_type===GmCXt.STEP_TYPE_ERROR_HANDLER)&&t<r.length&&(t+=1)},GmCXt.findCurrentStepIndex=function(){let r=-1;return GmCXt.playerI.tour.steps.forEach(function(e,t){e.step_id===GmCXt.playerI.currentStepId&&(r=t)}),r},GmCXt.removeDuplicateGuides=function(e){let t=[];return e=e.filter(function(e){if(-1===t.indexOf(e.tour_id))return t.push(e.tour_id),e})},GmCXt.removeDuplicateCategories=function(e){let t=[];return e=e.filter(function(e){if(-1===t.indexOf(e.category_id))return t.push(e.category_id),e})},GmCXt.migrateTour=function(e){if(e){var t=e.tour_settings;if(t.smartTip){t.tour_url=t.smartTip.url;let e="matchUrl";t.smartTip.matchDomain&&(e="matchDomain"),t.smartTipTriggerEvent=e,delete t.smartTip}e.tour_settings=t}return e},GmCXt.checkAndCorrectPS=function(e){var t,r;return!GmCXt.containBranchStep(e)&&(t=GmCXt.parseJSON(e.tour_settings),!(r=t.play_structure)||Array.isArray(r)&&(!r.length||r.length<e.steps.length)||(r=r).length&&1<r.filter(function(e){return null===e.tail}).length)&&(t.play_structure=GmCXt.buildGuidePlayStructure(e),e.tour_settings=t),e},GmCXt.makeSlideshowFullScreen=function(e){(GmCXt.playerI&&GmCXt.inArrayString(GmCXt.playerI.type,["slideshow","video","giphy"])||e.isPowerform)&&("full"===e.size?(mg$(".mgPlayerJSProd_slideshow-panel").css({width:"100%",height:"100%",top:"0px",transform:"translate(0,0)"}),mg$(".mgPlayerJSProd_slideshow-panel").addClass("mgPlayerJSProd_slideshow-panel-left")):(mg$(".mgPlayerJSProd_slideshow-panel").css({width:"85%",height:"90%",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}),mg$(".mgPlayerJSProd_slideshow-panel").removeClass("mgPlayerJSProd_slideshow-panel-left")),mg$(".mgPlayerJSProd_slideshow-step-img").css({top:"50%",transform:"translate(-50%,-50%)"}))},GmCXt.getPopUpHTML=function(e,t,r,a,i){function o(e){return e?String(e).replace(/<[^>]+>/gm,""):""}let n="<wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-container'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_video-panel' ><wmgPlayerJSProd_ class='mgPlayerJSProd_video-panel-header'><wmgPlayerJSProd_ class='mgPlayerJSProd_video-panel-header-labels'><wmgPlayerJSProd_ class='mgPlayerJSProd_video-panel-header-title'>"+o(r)+"<wmgPlayerJSProd_ class='mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-right mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y'><wmgPlayerJSProd_ class='mgPlayerJSProd_tooltip-title'>"+o(r)+"</wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_video-panel-header-desc'>"+o(a)+"<wmgPlayerJSProd_ class='mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-right mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y'><wmgPlayerJSProd_ class='mgPlayerJSProd_tooltip-title'>"+o(a)+"</wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_video-panel-controls'>";return i||(n+="<wmgPlayerJSProd_ class='mgPlayerJSProd_video-panel-header-maximize'><button class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_audio-button-image mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_inline-block-vm' aria-label='maximize image' ><wmgPlayerJSProd_ class='mgPlayerJSProd_span'></wmgPlayerJSProd_></button></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_video-panel-header-maximize'><button class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_max-button-image mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_inline-block-vm' aria-label='maximize image' ><wmgPlayerJSProd_ class='mgPlayerJSProd_span'></wmgPlayerJSProd_></button></wmgPlayerJSProd_>"),n+="<wmgPlayerJSProd_ class='mgPlayerJSProd_video-panel-header-close'><button class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_close-button-video mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_inline-block-vm' aria-label='close video player' ><wmgPlayerJSProd_ class='mgPlayerJSProd_span'></wmgPlayerJSProd_></button></wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_>",i?n=(n+="<wmgPlayerJSProd_ class='mgPlayerJSProd_video-panel-iframe-wrapper'>")+GmCXt.getVideoPopUpIFrameHTML(e,t)+"</wmgPlayerJSProd_>":n+=GmCXt.getImagePopUpIFrameHTML(e,t),n+=GmCXt.getPopUpFooterHTML()+" </wmgPlayerJSProd_>"},GmCXt.addVideoPanelEvents=function(e,t,r){var a=GmCXt.getStepSettings().popupDesign;let i=!1;a&&("default"===a.type?(mg$("#mgPlayerJSProd_play_step_prev").removeClass("mgPlayerJSProd_popup-classic-design-navigation-prev"),mg$("#mgPlayerJSProd_play_step_prev").addClass("mgPlayerJSProd_play-step-prev"),mg$("#mgPlayerJSProd_play_step_next").removeClass("mgPlayerJSProd_popup-classic-navigation-next"),mg$("#mgPlayerJSProd_play_step_next").addClass("mgPlayerJSProd_play-step-next")):"classic"===a.type&&(mg$("#mgPlayerJSProd_play_step_prev").removeClass("mgPlayerJSProd_play-step-prev"),mg$("#mgPlayerJSProd_play_step_prev").addClass("mgPlayerJSProd_popup-classic-design-navigation-prev"),mg$("#mgPlayerJSProd_play_step_next").removeClass("mgPlayerJSProd_play-step-next"),mg$("#mgPlayerJSProd_play_step_next").addClass("mgPlayerJSProd_popup-classic-navigation-next"))),GmCXt.setElementStyle("#mgPlayerJSProd_play_step_prev",{"background-color":a.current.prevBtnBackground,color:a.current.prevBtnColor,"border-color":a.current.prevBtnColor},!0),GmCXt.setElementStyle("#mgPlayerJSProd_play_step_prev svg path",{fill:a.current.prevBtnColor},!0),GmCXt.setElementStyle("#mgPlayerJSProd_play_step_next",{"background-color":a.current.nextBtnBackground,color:a.current.nextBtnColor,"border-color":a.current.nextBtnColor},!0),GmCXt.setElementStyle("#mgPlayerJSProd_play_step_next svg path",{fill:a.current.nextBtnColor},!0),mg$(".mgPlayerJSProd_close-button-video").off("click").on("click",GmCXt.confirmTourClose),GmCXt.setElementStyle("#mgPlayerJSProd_play_step_prev",{display:"none"},!0),t?e.step_settings.showFullScreen&&(mg$(".mgPlayerJSProd_video-panel").css({height:"100%",width:"100%","justify-content":"center"}),mg$(".mgPlayerJSProd_video-panel-iframe-wrapper").css({height:"100%",width:"100%","margin-left":"0"})):(r={audioTrack:e.step_audio,step:e,playerInstance:GmCXt.playerI},GmCXt.playerI.playAudio&&GmCXt.FT.audio&&GmCXt.playStepAudio(r),mg$(".mgPlayerJSProd_max-button-image").off("click").on("click",function(){i?(mg$(".mgPlayerJSProd_video-panel").css({height:"650px",width:"850px"}),mg$(".mgPlayerJSProd_play-video-iframe").css({height:"100%",width:"99%"}),mg$(".mgPlayerJSProd_video-panel-iframe-wrapper").css({height:"70%",width:"92%","margin-left":"4%"}),mg$(".mgPlayerJSProd_play-video-iframe").removeClass("mgPlayerJSProd_position-center"),mg$(".mgPlayerJSProd_max-button-image .mgPlayerJSProd_span").html(GmCXt.svgs.fullscreen)):(mg$(".mgPlayerJSProd_video-panel").css({height:"100%",width:"100%"}),mg$(".mgPlayerJSProd_play-video-iframe").css({height:"auto",width:"auto"}),mg$(".mgPlayerJSProd_video-panel-iframe-wrapper").css({height:"100%",width:"100%","margin-left":"0"}),mg$(".mgPlayerJSProd_play-video-iframe").addClass("mgPlayerJSProd_position-center"),mg$(".mgPlayerJSProd_max-button-image .mgPlayerJSProd_span").html(GmCXt.svgs.smallscreen)),i=!i}),mg$(".mgPlayerJSProd_audio-button-image").off("click").on("click",function(){GmCXt.playerI.playAudio?(mg$(".mgPlayerJSProd_audio-button-image .mgPlayerJSProd_span").html(GmCXt.svgs.play_step_audio_off),GmCXt.stopAudio()):GmCXt.FT.audio&&(mg$(".mgPlayerJSProd_audio-button-image .mgPlayerJSProd_span").html(GmCXt.svgs.play_step_audio_on),GmCXt.playStepAudio(r)),GmCXt.playerI.playAudio=!GmCXt.playerI.playAudio})),null!==GmCXt.getPreviousStepId(parseInt(GmCXt.playerI.currentStepId))&&r.prev_btn&&(GmCXt.setElementStyle("#mgPlayerJSProd_play_step_prev",{display:"flex"},!0),mg$("#mgPlayerJSProd_play_step_prev").off("click").on("click",function(){GmCXt.requestHandler.playTourPrevStep(),GmCXt.increaseSidePanelWidth()})),GmCXt.isLastStep(e.step_id,GmCXt.playerI.playStructure)?(mg$("#mgPlayerJSProd_play_step_next").html(GmCXt.label.close),mg$("#mgPlayerJSProd_play_step_next").off("click").on("click",GmCXt.confirmTourClose)):mg$("#mgPlayerJSProd_play_step_next").off("click").on("click",function(){GmCXt.requestHandler.playTourNextStep(),GmCXt.increaseSidePanelWidth()})},GmCXt.getVideoPopUpIFrameHTML=function(e){return"<iframe allowfullscreen='true' id='mgPlayerJSProd_play-step-video-iframe' class='mgPlayerJSProd_width-height-100' title='Guideme step video iframe' src='"+GmCXt.getBasePath("common/video/video.html?videoUrl="+GmCXt.encodeStringToBase64(e))+"' ></iframe>"},GmCXt.getImagePopUpIFrameHTML=function(e){var t="<wmgPlayerJSProd_ class='mgPlayerJSProd_video-panel-iframe-wrapper'>";return t+("<img id='mgPlayerJSProd_step-image-container' width='100%'  class='mgPlayerJSProd_play-video-iframe'  src='"+e+"'></img> ")+"</wmgPlayerJSProd_>"},GmCXt.getPopUpFooterHTML=function(){var e,t,r=GmCXt.getStepSettings().popupDesign,a="classic"===r.type?GmCXt.label.btnPrevious:GmCXt.label.btnPrev,i="classic"===r.type?GmCXt.svgs.iconClassicNavPrev:"",r="classic"===r.type?GmCXt.svgs.iconClassicNavNext:"",o=GmCXt.getAppSetting();GmCXt.organization&&o&&(e=GmCXt.getAppSetting("userLabels").next,t=GmCXt.getAppSetting("userLabels").btnPrev);let n="<wmgPlayerJSProd_ class='mgPlayerJSProd_video-step-popup-footer mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-flex-end'><wmgPlayerJSProd_ class='mgPlayerJSProd_play-video-step-navigation mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-flex-end'>";return GmCXt.playerI&&GmCXt.playerI.tour&&!GmCXt.playerI.tour.tour_settings.step_settings.hidePrevBtn&&(n+="<wmgPlayerJSProd_ class='mgPlayerJSProd_play-step-prev mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center' id='mgPlayerJSProd_play_step_prev' tabindex='0' aria-label='"+(t||a)+"' ><wmgPlayerJSProd_ class='mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center'>"+i+"</wmgPlayerJSProd_>"+(t||a)+"</wmgPlayerJSProd_>"),n+="<wmgPlayerJSProd_ class='mgPlayerJSProd_play-step-next mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center' id='mgPlayerJSProd_play_step_next' tabindex='0' aria-label='"+(e||GmCXt.label.next)+"' >"+(e||GmCXt.label.next)+"<wmgPlayerJSProd_ class='mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center'>"+r+"</wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_>"},GmCXt.playStepInMyShowShell=function(r,a){if(mg$(window).focus(),!GmCXt.isEmpty(GmCXt.playerI)){let t=GmCXt.getCurrentStep(GmCXt.playerI.currentStepId);var i;i=r?GmCXt.restoreAssetSrc(t.step_video_url):GmCXt.restoreAssetSrc(t.screen_url),GmCXt.checkAssetUrl(i,i,function(e){GmCXt.isEmpty(GmCXt.playerI)||(e&&(i=e),e=GmCXt.getPopUpHTML(i,!0,t.step_title,t.step_description,r),mg$("html").append(e),mg$(".mgPlayerJSProd_close-button-video .mgPlayerJSProd_span").html(GmCXt.svgs.popup_close),mg$(".mgPlayerJSProd_max-button-image .mgPlayerJSProd_span").html(GmCXt.svgs.fullscreen),GmCXt.playerI.playAudio?mg$(".mgPlayerJSProd_audio-button-image .mgPlayerJSProd_span").html(GmCXt.svgs.play_step_audio_on):mg$(".mgPlayerJSProd_audio-button-image .mgPlayerJSProd_span").html(GmCXt.svgs.play_step_audio_off),GmCXt.addVideoPanelEvents(t,r,a),GmCXt.showNotificationHtml(!1,!0),GmCXt.timeout(function(){mg$(".mgPlayerJSProd_close-button-video").focus(),GmCXt.accessibility&&(mg$(".mgPlayerJSProd_play-video-step-navigation").addClass("mgPlayerJSProd_accessibility-theme"),mg$("#mgPlayerJSProd_play_step_prev").addClass("mgPlayerJSProd_ass-default-btn"),mg$("#mgPlayerJSProd_play_step_next").addClass("mgPlayerJSProd_ass-default-btn"))},500))})}},GmCXt.getPDFMediaPlayerIcons=function(){mg$(".mgPlayerJSProd_icon-popout-media-player").html(GmCXt.svgs.external_link_white),mg$(".mgPlayerJSProd_icon-close-media-player").html(GmCXt.svgs.close_media_popup),mg$(".mgPlayerJSProd_icon-print-media-player").html(GmCXt.svgs.print_icon),mg$(".mgPlayerJSProd_icon-min-media-player").html(GmCXt.svgs.min_pdf_icon),mg$(".mgPlayerJSProd_icon-max-media-player").html(GmCXt.svgs.max_pdf_icon),mg$(".mgPlayerJSProd_icon-page-down-media-player").html(GmCXt.svgs.page_down_icon),mg$(".mgPlayerJSProd_icon-page-up-media-player").html(GmCXt.svgs.page_up_icon),mg$(".mgPlayerJSProd_icon-pdf-download").html(GmCXt.svgs.pdf_download_icon)},GmCXt.showSurveyForTutorial=function(e){GmCXt.isPlayer()&&e&&-1!==e.tour_type.indexOf("onboarding_tour")&&e.tour_settings.sentiment&&!GmCXt.isEmpty(e.tour_settings.sentiment.sentimentCode)&&(e={tour:e,guideNotCompleted:!1},GmCXt.handleCloseApp(),GmCXt.getSurveyScreen(e,e.guideNotCompleted))},GmCXt.closeMediaPlayer=function(e,t,r){var a=0<mg$(".mgPlayerJSProd_play-from-task-player").length,i=mg$(".mgPlayerJSProd_media-player-panel").html();mg$(".mgPlayerJSProd_media-player-panel").html(""),mg$(".mgPlayerJSProd_media-player-panel").html(i),GmCXt.isDefined(GmCXt.trackerEnable)&&(GmCXt.trackerUtil=GmCXt.trackerEnable);let o="showme",n=null;a&&(mg$(".mgPlayerJSProd_media-player-panel").removeClass("mgPlayerJSProd_play-from-task-player"),o="task_list",r)&&r.taskId&&(n=r.taskId),mg$(".mgPlayerJSProd_media-player-panel").hide(),mg$("#mgPlayerJSProd_media-iframe").remove(),mg$("#mgPlayerJSProd_media-video").remove(),GmCXt.isMediaPlayerOn=!1,mg$(".mgPlayerJSProd_preview-step-popup-container").removeClass("mgPlayerJSProd_preview-step-popup-container-mp"),e&&e.terminate||GmCXt.isEmpty(GmCXt.playerI)||"PDF"!==GmCXt.playerI.linkGuidePlayMode?(GmCXt.showSurveyForTutorial(t),GmCXt.isTutorialLink?(mg$(".mgPlayerJSProd_overlay-tours-popup").show(),mg$(".mgPlayerJSProd_overlay-container").show()):(GmCXt.reduceSidePanelWidth(),mg$(".mgPlayerJSProd_ege-panel").css({width:"500px",right:"0px","max-width":"500px",transition:"0s"})),GmCXt.pdfPlayedOnUploadTut&&GmCXt.trackerV1.trackTutGuide(t,"upload_tutorial_guide_same_tab",o,n)):(xp.ready=!0,delete GmCXt.playerI.linkGuidePlayMode,GmCXt.playStep("next")),a&&GmCXt.handleCloseApp(),GmCXt.isTutorialLink=!1},GmCXt.addMediaPlayerEvent=function(){mg$("#mgPlayerJSProd_media-player-close").off("click").on("click",GmCXt.closeMediaPlayer)},GmCXt.hidePdfControls=function(){mg$(".mgPlayerJSProd_options-left").hide(),mg$("#mgPlayerJSProd_pdf-canvas").hide(),mg$("#mgPlayerJSProd_media-player-print").hide(),mg$("#mgPlayerJSProd_media-player-popout").hide(),mg$("#mgPlayerJSProd_icon-pdf-download").hide()},GmCXt.showPdfControls=function(){mg$(".mgPlayerJSProd_options-left").show(),mg$("#mgPlayerJSProd_pdf-canvas").hide(),mg$("#mgPlayerJSProd_media-player-print").show(),mg$("#mgPlayerJSProd_media-player-popout").show(),mg$("#mgPlayerJSProd_icon-pdf-download").show()},GmCXt.openPdfLinkStep=function(t){tempUrl=GmCXt.getUrlWithLang(t),t+=GmCXt.getCdnSign(),GmCXt.checkAssetUrl(tempUrl,t,function(e){e&&(t=e),GmCXt.openPdf(t)})},GmCXt.openPdf=function(a,i,t){GmCXt.trackerEnable=GmCXt.trackerUtil,mg$(".mgPlayerJSProd_preview-step-popup-container").addClass("mgPlayerJSProd_preview-step-popup-container-mp"),GmCXt.isMediaPlayerOn=!0,GmCXt.increaseSidePanelWidth(),mg$(".mgPlayerJSProd_media-player-panel").show(),mg$("#mgPlayerJSProd_media-iframe").remove(),mg$("#mgPlayerJSProd_media-video").remove(),mg$("#mgPlayerJSProd_pdf-container").css({background:"#FFFFFF"}),mg$(".mgPlayerJSProd_pdf-image-spinner").show(),mg$(".mgPlayerJSProd_pdf-image-spinner img").attr("src",GmCXt.loader()),GmCXt.hidePdfControls();let r=1,o=1,n,e=a;function s(e){var t=o,t=e.getViewport({scale:t}),r=document.getElementById("mgPlayerJSProd_pdf-canvas"),a=r.getContext("2d"),a=(r.height=t.height,r.width=t.width,{canvasContext:a,viewport:t});e.render(a),mg$(".mgPlayerJSProd_pdf-image-spinner").attr("style","display: none;"),GmCXt.showPdfControls(),r.style.display="block",mg$(".mgPlayerJSProd_media-player-page-cnt-text")[0].innerHTML=e.pageNumber;{let e=i;e||GmCXt.playerI&&GmCXt.playerI.tour&&(e=GmCXt.playerI.tour),e&&(t=GmCXt.organization.admin_settings,a=document.getElementById("mgPlayerJSProd_icon-pdf-download"),r=document.getElementById("mgPlayerJSProd_media-player-print"),!t||!t.mediafile_creation||e.tour_settings&&e.tour_settings.downloadGuideFiles&&!e.tour_settings.downloadGuideFiles.pdf_file)&&(a.style.display="none",r.style.display="none")}}async function l(){await kp({url:e}).promise.then(function(e){mg$(".mgPlayerJSProd_media-player-page-cnt-text-total")[0].innerHTML="of "+e._pdfInfo.numPages,mg$(".mgPlayerJSProd_media-player-zoom-text")[0].innerText="100%",e.total_pages=e._pdfInfo.numPages,d(e,1),n=e}).catch(function(e){GmCXt.toastMsg(GmCXt.label.mediaFileNotFound).show(),GmCXt.timeout(function(){GmCXt.closeMediaPlayer()},1e3)})}function d(e,t){parseInt(t)===parseInt(e._pdfInfo.numPages)&&(GmCXt.fullPdfPlayedOnUploadTutGuide=!0);try{e.getPage(t).then(function(e){s(e)})}catch(e){r=1,l()}}l(),document.getElementById("mgPlayerJSProd_media-player-pd").onclick=function(){r>=n.total_pages||(r++,d(n,r))},document.getElementById("mgPlayerJSProd_media-player-pu").onclick=function(){r<=1||(r--,d(n,r))},document.getElementById("mgPlayerJSProd_max-media-player").onclick=function(){o+=.25,mg$(".mgPlayerJSProd_media-player-zoom-text")[0].innerText=100*parseFloat(o)+"%",d(n,r)},document.getElementById("mgPlayerJSProd_min-media-player").onclick=function(){o<=.25||(o-=.25,mg$(".mgPlayerJSProd_media-player-zoom-text")[0].innerText=100*parseFloat(o)+"%",d(n,r))},document.getElementById("mgPlayerJSProd_icon-pdf-download").onclick=function(){var e,t,r;e=a,t="myPdf.pdf",window.ActiveXObject?(window.ActiveXObject,document.execCommand&&((r=window.open(e,"_blank")).document.close(),r.document.execCommand("SaveAs",!0,t),r.close())):((r=document.createElement("a")).href=e,r.target="_blank",r.download=t,e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),r.dispatchEvent(e),(window.URL||window.webkitURL).revokeObjectURL(r.href))},document.getElementById("mgPlayerJSProd_media-player-print").onclick=function(){printJS(a)},document.getElementById("mgPlayerJSProd_media-player-popout").onclick=function(){var e=document.createElement("a");e.href=a,e.target="_blank",e.click(),e.remove()},GmCXt.getPDFMediaPlayerIcons(),mg$("#mgPlayerJSProd_media-player-close").off("click").one("click",function(){GmCXt.closeMediaPlayer(void 0,i,t)}),mg$(document).keyup(function(e){"Escape"===e.key&&GmCXt.closeMediaPlayer(void 0,i,t)})},GmCXt.openVideoPlayer=function(e){mg$(".mgPlayerJSProd_preview-step-popup-container").addClass("mgPlayerJSProd_preview-step-popup-container-mp"),GmCXt.isMediaPlayerOn=!0,GmCXt.increaseSidePanelWidth(),mg$(".mgPlayerJSProd_ege-panel").css({width:"500px",right:"-9550px",transition:"0s"}),mg$("#mgPlayerJSProd_pdf-container").removeAttr("style"),mg$(".mgPlayerJSProd_media-player-panel").show(),mg$(".mgPlayerJSProd_icon-close-media-player").html(GmCXt.svgs.close_media_popup),mg$("#mgPlayerJSProd_media-player-close").off("click").on("click",GmCXt.closeMediaPlayer),mg$(".mgPlayerJSProd_pdf-image-spinner").show(),mg$(".mgPlayerJSProd_pdf-image-spinner img").attr("src",GmCXt.loader()),GmCXt.hidePdfControls(),mg$("#mgPlayerJSProd_media-iframe").remove(),mg$("#mgPlayerJSProd_media-video").remove(),new URL(e);mg$("#mgPlayerJSProd_pdf-container").append("<video id='mgPlayerJSProd_media-video' width='99%' height='99%' frameborder='0' disablePictureInPicture controls autoplay > </video> "),mg$("#mgPlayerJSProd_media-video")[0].addEventListener("error",function(){GmCXt.toastMsg(GmCXt.label.mediaFileNotFound).show(),GmCXt.timeout(function(){GmCXt.closeMediaPlayer()},1e3)}),mg$("#mgPlayerJSProd_media-video").attr("src",e),mg$("#mgPlayerJSProd_media-video")[0].load(),GmCXt.timeout(function(){mg$(".mgPlayerJSProd_pdf-image-spinner").hide()},1e3)},GmCXt.closePowerFormSp=function(){mg$(".mgPlayerJSProd_form-injector-wrapper").remove(),GmCXt.stopSlideshow(),mg$(".mgPlayerJSProd_ege-panel").css({width:"500px","max-width":"500px",transition:"width 0s"}),GmCXt.handleCloseApp(!0)},GmCXt.showPowerForm=function(e){GmCXt.showSlideShowPlayer(),GmCXt.hideSlideShowPlayer(),GmCXt.openPowerForm(e)},GmCXt.removePowerForm=function(){mg$(".mgPlayerJSProd_form-injector-wrapper_"+message.data.step_id).length&&(mg$(".mgPlayerJSProd_form-injector-wrapper_"+message.data.step_id).remove(),GmCXt.closePowerFormSp())},GmCXt.removeVideoPlayer=function(){mg$(".mgPlayerJSProd_overlay-container").remove(),mg$(".mgPlayerJSProd_video-panel").remove(),GmCXt.openSidePanelNotificaton()};let Bp=1,Vp=4,zp=1,Up=2;function jp(e,D,p){let r=0,u,h,P,y,_=Bp,a=void 0,i=void 0,o=void 0,n=zp,s=Up,t=!1,l=!1,S,d=!1,f="center",C=!0,b=!0,v=GmCXt.getAppSetting(),w=(v?.popupDesign?.type,v.stepPopupWidth),J=v?.popupDesign?.current,G="",A="",T="",X="",k="",c="",g=!1,m=!1,x=!1;function L(){var e=document.querySelector("#mgPlayerJSProd_image_scroll"),e=(i=e.clientWidth,o=e.clientHeight,document.querySelector("#mgPlayerJSProd_slide-img")),t=e.clientWidth,e=e.clientHeight,t=i/t,e=o/e;if(p(7,n=e<t?e:t),s=(e<t?t:e)*Vp,p(0,_=n),u&&h)for(a?p(0,_=a):p(0,_=n*Bp);i<y*_||o<P*_;)p(0,_-=.2)}function E(){var e,t,r,a,i,o,n,s,l=S;p(3,u=0),p(4,h=0),p(6,y=0),p(5,P=0),null==l||!l.hasOwnProperty("step_settings")||S.step_type===GmCXt.STEP_TYPE_MESSAGE&&S.step_type===GmCXt.STEP_TYPE_IMAGE?(p(3,u=0),p(4,h=0)):(l="string"==typeof l.step_settings?JSON.parse(l.step_settings):l.step_settings).hasOwnProperty("coordinates")?(p(3,u="string"==typeof l.coordinates?JSON.parse(l.coordinates).x:l.coordinates?.x),p(4,h="string"==typeof l.coordinates?JSON.parse(l.coordinates).y:l.coordinates?.y)):l.elementBounds&&0<Object.keys(l.elementBounds).length?(p(3,u=l.elementBounds.cx*l.dpr||1),p(4,h=l.elementBounds.cy*l.dpr||1),p(6,y=l.elementBounds.cw*l.dpr||1),p(5,P=l.elementBounds.ch*l.dpr||1)):l.hasOwnProperty("highlightedArea")&&l.highlightedArea&&0<l.highlightedArea.length&&(s=(e=document.querySelector("#mgPlayerJSProd_slide-img")).clientWidth*_,e=e.clientHeight*_,{windowWidth:l,windowHeight:t,origTop:r,top:a,left:i,width:o,height:n}=l.highlightedArea[0],s=s/l,l=e/t,p(3,u=i*s),p(4,h=t<r||!r?a*l:r*l),p(6,y=o*s),p(5,P=n*l)),L()}function M(){var e,i;if(!S.is_first_step&&!S.is_last_step&&(!GmCXt.isEmpty(S.step_title.trim())||!GmCXt.isEmpty(S.step_description.trim())))if(v=GmCXt.getAppSetting(),J=(GmCXt.isMyguideLibrary?((e=GmCXt.validateDataModel({org_id:"123"},GmCXt.model.organization).settings)?.popupDesign?.type,w=e.stepPopupWidth,e):(v?.popupDesign?.type,w=v.stepPopupWidth,v))?.popupDesign?.current,p(13,G=`color:${J.stepTitleColor}; font-size: ${J.stepTitleFontSize}; font-weight:${J.stepTitleFontWeight}; font-family:${J.stepTitleFontFamily}; transform: scale(0.8); transform-origin: left top; min-width: 125%; `),p(14,A=`color:${J.stepDescColor}; font-size: ${J.stepDesFontSize}; font-family:${J.stepDesFontFamily}; transform: scale(0.75); transform-origin: left top; min-width: 135%; padding: 0 10px;`),p(15,T=`background-color:${J.bgColor}; width:${.8*w}px;  border:${J.borderWidth}px solid ${J.borderColor}; border-radius: ${J.borderRadius}px`),p(16,X=`background-color:${J.nextBtnBackground+" !important"}; color:`+J.nextBtnColor+" !important"),p(17,k=`background-color:${J.prevBtnBackground+" !important"}; color:${J.prevBtnColor+" !important"};`),e=S,GmCXt.playerI&&(p(12,b=!0),p(11,C=!0),e.step_type===GmCXt.STEP_TYPE_BRANCH&&p(12,b=!1),i=GmCXt.getPreviousStepId(parseInt(GmCXt.playerI.currentStepId)),i=GmCXt.getStepFromPlayerI(i),(GmCXt.isFirstNonAutomationStep()||i&&(i.step_type===GmCXt.STEP_TYPE_SURVEY||i.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER)&&GmCXt.isFirstNonAutomationStep(i.step_id))&&p(11,C=!1),i=GmCXt.getTail(e.step_id,GmCXt.playerI.playStructure),i=GmCXt.getStepFromPlayerI(i),GmCXt.isLastStep(e.step_id,GmCXt.playerI.playStructure)||i&&i.step_type===GmCXt.STEP_TYPE_SURVEY&&i.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER&&GmCXt.isLastStep(i.step_id,GmCXt.playerI.playStructure))&&(p(12,b=!1),GmCXt.isFirstNonAutomationStep())&&p(11,C=!1),S.step_type===GmCXt.STEP_TYPE_MESSAGE||S.step_type===GmCXt.STEP_TYPE_IMAGE||null==u&&null==h){let e,t,r,a=document.getElementById("mgPlayerJSProd_image_scroll");a&&(i={width:a.clientWidth,height:a.clientHeight},o=(e="string"==typeof S.step_settings?JSON.parse(S.step_settings):S.step_settings).hasOwnProperty("alignment")?e.alignment:"center",p(10,f="none"),{left:r,top:t}=((e,t,r,a)=>{var i=(e=mg$(e)).width(),o=e.height(),n=t.width,s=t.height;let l=(n-i)/2,d=0;var c=a.elementTop,g=a.elementLeft;if(i&&o){switch(r){case"top":d=20,l=(n-i)/2;break;case"center":d=(s-o)/2,l=(n-i)/2;break;case"bottom":d=s-o-40,l=(n-i)/2;break;case"left-top":d=20,l=20;break;case"left-center":d=(s-o)/2,l=20;break;case"left-bottom":d=s-o-40,l=20;break;case"right-top":d=20,l=n-i-45;break;case"right-center":d=(s-o)/2,l=n-i-45;break;case"right-bottom":d=s-o-40,l=n-i-45;break;case"custom":d=c*s/100,l=g*n/100}return e.css({left:l,top:d}),{left:l,top:d}}})("#mgPlayerJSProd_tooltipPopup",i,o,e),(i=document.getElementById("mgPlayerJSProd_tooltipPopup"))&&r&&0<r&&t&&0<t&&(i.style.left=r+"px",i.style.top=t+"px",p(15,T+=` ;top:${t}px; left:${r}px;`)),GmCXt.timeout(function(){mg$("#mgPlayerJSProd_tooltipPopup").show()},10))}else{let e=u,t=h,r=0,a=0;y&&P?(a=P,r=y):(o=document.getElementById("mgPlayerJSProd_howto-circle"))&&(e-=o.clientWidth/2,t-=o.clientHeight/2,a=o.clientHeight,r=o.clientWidth);var o,n={cx:e,cy:t,cw:r,ch:a},s=document.getElementById("mgPlayerJSProd_image_scroll"),l=document.getElementById("mgPlayerJSProd_slide-img"),d=l.clientHeight*_,l=l.clientWidth*_;if(s){var c=s.clientWidth,g=s.clientHeight,m=S.step_settings.alignment,m=h+120>d?m:"bottom-middle",n={elementBounds:n,dimensions:{width:c,height:g},stepType:S&&S.step_type||"inline",popup:mg$("#mgPlayerJSProd_tooltipPopup"),doNotApplyArrow:!0,alignment:m,dynamicPopupHeight:!0};let t,r,a,e=vc(n),i=({top:t,left:r,alignmentResult:a}=e.start(),e.getAvailablePositions());if(i[m])n.alignment=m;else{n.alignment=Object.keys(i).find(e=>!0===i[e]);let e=vc(n);({top:t,left:r,alignmentResult:a}=e.start())}c=s.offsetWidth,g=s.offsetHeight,m=l<c&&(c-l)/2||0,s=d<g&&(g-d)/2||0;p(20,x=c<l);let o=document.getElementById("mgPlayerJSProd_tooltipPopup");o&&r&&0<r&&t&&0<t&&(o.style.left=r+m+"px",o.style.top=t+s+"px",p(15,T+=` ;top:${t+s}px; left:${r+m}px;`)),document.getElementById("mgPlayerJSProd_howto-circle")&&(document.getElementById("mgPlayerJSProd_howto-circle").style.display="block"),p(10,f=n.alignment),GmCXt.timeout(function(){mg$("#mgPlayerJSProd_tooltipPopup").show(),o.style.setProperty("--tooltip-border-right-color",J.bgColor)},10)}}}function I(){setTimeout(()=>{var e=document.querySelector("#mgPlayerJSProd_howto-circle");e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},100);var e,t=document.querySelector("#mgPlayerJSProd_thumbnail-preview-wrapper");t&&(e=Ip(),r=190*e,t.scrollTo(r,0))}return ge.slideState.subscribe(e=>{e.isImageUpdated?(p(8,S=e.step),S.step_type===GmCXt.STEP_TYPE_IMAGE||S.step_type===GmCXt.STEP_TYPE_MESSAGE&&S.thumbnail_url.includes("default_icon")?p(19,g=!0):p(19,g=!1),p(9,d=S?.step_type&&(S?.step_type===GmCXt.STEP_TYPE_WEB_INLINE||S?.step_type===GmCXt.STEP_TYPE_INLINE)),p(18,c=e.slideImgURL)):p(18,c="")}),e.$$.update=()=>{6&e.$$.dirty[0]&&(t||l)&&setTimeout(()=>{p(1,t=!1),p(2,l=!1)},5e3),67108865&e.$$.dirty[0]&&m&&_&&(E(),M())},[_,t,l,u,h,P,y,n,S,d,f,C,b,G,A,T,X,k,c,g,x,function(){mg$("#mgPlayerJSProd_spinner").removeClass("show"),(S.step_settings.inlineBranch||S.step_type!==GmCXt.STEP_TYPE_INLINE)&&(S.step_type!==GmCXt.STEP_TYPE_MESSAGE&&S.step_type!==GmCXt.STEP_TYPE_IMAGE||S.thumbnail_url.includes("default_icon"))||(p(26,m=!0),p(20,x=!1),a=void 0,L(),ce.processSlideImageTimeout=GmCXt.timeout(function(){E(),M()},500))},function(){!1===b&&Mp()},function(){var e;p(1,t=!1),p(2,l=!1),_+.2>s?p(1,t=!0):(p(0,_+=.2),a=_,M(),I(),(e=mg$("#mgPlayerJSProd_autoplay-slider-checkbox")).prop("checked")&&e.prop("checked",!1).trigger("change"))},function(){p(1,t=!1),_-.2<n?p(2,l=!0):(p(0,_-=.2),a=_,M(),I())},function(){p(2,l=!1),p(1,t=!1)},m]}class Wp extends e{constructor(e){super(),t(this,e,jp,Np,d,{},Dp,[-1,-1])}}let Zp={},qp=(Zp.updateTour=function(t,r,e,a){let i={tour_id:t.tour_id,category_id:t.category_id};function o(e){GmCXt.inPlayer&&(r?ce.updateTourToStorage(!0,e,!1,r):ce.playerSyncCount--,delete ce.toursModifiedTime[t.tour_id],GmCXt.saveToStorage("toursModifiedTime",ce.toursModifiedTime)),GmCXt.FT.creatorApp&&Zp.updateTourInTourList(e)}e?o(e):(e=GmCXt.getLXPLang()?GmCXt.getLXPLang():ce.language,GmCXt.checkDefaultLangForTour(t,e)||(i.language=e),GmCXt.api.getTour(i,o,function(){ce.toursModifiedTime[t.tour_id]=t,GmCXt.saveToStorage("toursModifiedTime",ce.toursModifiedTime),ce.removeTour(i.category_id,t.tour_id,r)},a))},Zp.updateTourInTourList=function(t){let e=de(ge.categoryTours);e=e.map(function(e){return e.tour_id===t.tour_id?t:e}),ge.categoryTours.set(e)},Zp.updateCat=function(a,i){return new Promise(function(t,e){var r=!!GmCXt.inPlayer;ce.getCategoryApi(a.category_id,function(e){t(e)},r,i)})},Zp.categoryUpdateCb=function(e){delete ce.subCategoryStore["cat_"+e.category_id],delete ce.allTourList["cat_"+e.category_id]},{});function Yp(r,t,a){t=t||ce.publishedTours;for(let e=0;e<t.length;e++){var i=t[e],o=!!i&&(t=>r.filter(function(e){return e.tour_id===parseInt(t.tour_id)}))(i);GmCXt.isEmpty(o)&&(ce.playerSyncCount++,ce.removeTour(i.category_id,i.tour_id,a))}}function Kp(r){for(let t=0;t<r.length;t++){var a=r[t];let e=!!ce.allTourList["cat_"+a.category_id]&&ce.allTourList["cat_"+a.category_id]["tour_"+a.tour_id];e=e||ce.toursModifiedTime[a.tour_id]||!1,(r=>{let e=!1;if(ce.guideSegmentation&&r.tour_segment&&r.tour_segment.length){var a=[];for(let t=0;t<r.tour_segment.length;t++)for(let e=0;e<r.tour_segment[t].length;e++)a.push(r.tour_segment[t][e]);GmCXt.areUserSegmentsValid(a)&&(e=!0)}else e=!0;return e})(a)&&(e?0<parseInt(a.modification_date)-parseInt(e.modification_date)?(ce.playerSyncCount++,Zp.updateTour(a,"","",!0)):parseInt(a.tour_order)!==parseInt(e.tour_order)&&(ce.playerSyncCount++,e.tour_order=a.tour_order,Zp.updateTour(a,"",e)):(ce.playerSyncCount++,Zp.updateTour(a)))}Yp(r)}function Qp(t,r){GmCXt.log(70,"CATEGORY UPDATES for CURRENT APP");function a(e){e&&e.length&&e.forEach(function(e){ce.playerSyncCount++,ce.updateTourToStorage(!0,e)})}function i(e){ce.updateCategoryInStorage(e,!1,r),e.has_tour&&(GmCXt.log(70,"FETCH TOURS FOR: "+GmCXt.categoryLog(e)),ce.fetchToursForCategory(e.category_id,a,!0))}function o(e){ce.updateCategoryInStorage(e,!1,r)}var n,s,l;for(let e=0;e<t.length;e++){var d=t[e],c=ce.getCategory(d.category_id,!0);c?0<parseInt(d.modification_date)-parseInt(c.modification_date)?(ce.playerSyncCount++,GmCXt.log(70,"UPDATE: "+GmCXt.categoryLog(c)),Zp.updateCat(d).then(o)):parseInt(d.category_order)!==parseInt(c.category_order)&&(ce.playerSyncCount++,c.category_order=d.category_order,o(c)):(ce.playerSyncCount++,GmCXt.log(70,"ADD: "+GmCXt.categoryLog(c)),Zp.updateCat(d).then(i))}n=t,GmCXt.log(70,"CHECK CATEGORY DELETE"),s=s||ce.allCategories,Object.keys(s).forEach(function(e){let t=s[e];e=n.filter(function(e){return parseInt(e.category_id)===parseInt(t.category_id)});GmCXt.isEmpty(e)&&(ce.playerSyncCount++,GmCXt.log(70,"Category update not found. Delete "+GmCXt.categoryLog(t)),GmCXt.log(70,"REMOVE CAT from GLOBLE"+GmCXt.categoryLog(t)),ce.removeCategory(t),ce.updateCategoryInStorage(t,!0,l))})}function eu(e,t){var r;ce.playerSyncCount<=0?(r=GmCXt.appList["app:"+GmCXt.activeAppId],ce.processAppDataActiveApp(r),GmCXt.getContextGuides("Process Guides"),ce.refreshTime=e.last_updated_time,GmCXt.saveToStorage("refreshTime_"+GmCXt.activeAppId,ce.refreshTime)):t?GmCXt.timeout(function(){eu(e)},5e3):GmCXt.log(70,"Process Update Failed"+ce.playerSyncCount)}qp.processUpdates=function(a){ce.playerSyncCount=0;var e=a.modification_date,t=GmCXt.organization;if(parseInt(e)-parseInt(t.modification_date)&&(GmCXt.log(70,"GET ORG"),GmCXt.api.getOrgJson(function(e){GmCXt.saveToStorage("organization",e),GmCXt.updateGlobalOrg(e),GmCXt.organization=e})),a.applications){var i=[];for(let e=0;e<GmCXt.user.app_access.length;e++){var o=GmCXt.user.app_access[e];GmCXt.isEmpty(a.applications[o])||GmCXt.inArray(o,i)||i.push(o)}if(GmCXt.user.app_access=i,GmCXt.user&&GmCXt.user.app_access.length&&GmCXt.user.app_access.length!==Object.keys(GmCXt.appList).length)return void ce.refreshAllData();let r;if(Object.keys(a.applications).forEach(function(e){var e=a.applications[e],t=GmCXt.appList["app:"+e.application_id];t&&(e&&0<parseInt(e.modification_date)-parseInt(t.modification_date)&&(ce.playerSyncCount++,GmCXt.api.getAppJson(t.application_id,function(e){e=GmCXt.validateDataModel(e,GmCXt.model.application);var t=GmCXt.createDeepCopy(GmCXt.appList["app:"+e.application_id].categories);e.categories=t,GmCXt.appList["app:"+e.application_id]=e,ce.syncApps(GmCXt.appList),GmCXt.saveToDapStorage("appData",GmCXt.appList),ce.playerSyncCount--})),t.application_id===GmCXt.activeAppId)&&(r={application_id:GmCXt.activeAppId,categories:e.categories,tours:e.tours})}),GmCXt.isEmpty(ce.allCategories))return void eu(a,!0);if(r&&r.categories)Qp(r.categories,r.application_id),r.tours.length&&Kp(r.tours);else if(r){var n=r.application_id;for(let e=0;e<ce.allCategories.length;e++)ce.playerSyncCount++,ce.removeCategory(ce.allCategories[e],!0),GmCXt.appList["app:"+n].categories=[]}}else ce.refreshAllData();eu(a,!0)};Jc={main:()=>{window.addEventListener("message",ce.winListener)}};ce.winListener=function(e){let t=GmCXt.parseMsg(e);t&&t.action&&0===t.action.indexOf("mgPlayerJSProd_action:")&&((t=GmCXt.convertMgdata(t)).data&&t.data.config&&(GmCXt.conf=t.data.config),GmCXt.sidePanelMsgAction(t))};let tu={"mgPlayerJSProd_action:maintenance":e=>{ce.goToMaintenance()},"mgPlayerJSProd_action:update_access_token":e=>{updateUser(e.data)},"mgPlayerJSProd_action:update_timestamp_sync_time":e=>{ce.lastTimeStampSync=GmCXt.getCurrentTimeInSec(),GmCXt.saveToStorage("lastTimeStampSync_"+GmCXt.activeAppId,ce.lastTimeStampSync)},"mgPlayerJSProd_action:get_cdn_signature_from_app":()=>{ce.getNewCdnSignature()},"mgPlayerJSProd_action:logout_user":()=>{ce.clearSession()},"mgPlayerJSProd_action:signin_from_console":e=>{ce.loginFromConsole(e.data)},"mgPlayerJSProd_action:update_registration_secret":()=>{ce.trackerSecrets={},ce.registerClientInsights()}},ru=(GmCXt.sidePanelMsgAction=function(e){var t=tu[e.action];t?t(e):GmCXt.playerAppMsgHandler(e)},GmCXt.onUserSignin=function(e){var t=e.data.user,e=e.forceLogin;GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)||e?e&&ce.onUserSignin(t,!0):ce.onUserSignin(t,!1)},{});ru.logout=function(t){function e(e){ru.clearSession(t),GmCXt.showWidget(),GmCXt.removeChatIcon(),ce.hideCurrentPageGuidesIndicator(),ce.hideLoading()}ce.showLoading(),t=t||"user",GmCXt.log(1,"User logged out: "+t),ce.videoUploadMessage=!1,ce.uploadProgressBar=!1,ge.statusBar.set("logoutServ"),ce.uploadInProgress=!1,ce.closeAppPopup(),ce.isElectron?GmCXt.stopVideoStep_():GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:stop_video_upload_in_background"}),"logout_button_click"===t?GmCXt.api.userSignOut(e):e()},ru.clearSession=function(e){let t=!1;var r=GmCXt.user,r=(r&&!GmCXt.isEmpty(r)&&(ce.showPlayer=!1,ce.initPlayerMode(!0),GmCXt.clearIndexedDb(GmCXt.conf.appName+GmCXt.conf.env+"DB"),"user"!==e)&&(t=!0),GmCXt.getAllFromStorage(["dual_auth_token","lastSsoRedirectTime","triggerSsoAfterFiveMins"]).then(function(e){GmCXt.resetStorage(),e.dualAuthToken&&GmCXt.saveToStorage("dual_auth_token",ce.thirtyDaysInSeconds),e.lastSsoTime&&GmCXt.saveToStorage("lastSsoRedirectTime",e.lastSsoTime),e.triggerSsoAfterFiveMins&&GmCXt.saveToStorage("triggerSsoAfterFiveMins",e.triggerSsoAfterFiveMins)}),ce.setCurrentPage(""),ce.browserLang?(GmCXt.mgActiveLang=ce.browserLang,GmCXt.saveToStorage("activeLang",ce.browserLang)):GmCXt.mgActiveLang=!1,GmCXt.removeFromStorage("activeLang"),ce.language=!1,GmCXt.language=!1,GmCXt.activeAppId=!1,GmCXt.removeFromStorage("confirmLinkGuidePub"),ce.taskList=[],GmCXt.removeFromDapStorage("taskList"),ce.updateLabels(),ce.copiedStep=!1,ce.copiedTour=!1,ce.edLogin=!1,ce.hideLoading(),ge.miniPlayer.set(!1),ce.chatBot=!1,ce.chatBotMin=!1,ce.user=!1,GmCXt.organization=!1,ce.enableTranslation=!1,ce.activeSortFilter="",ce.descOrder=!1,ce.contextTours={},ce.uploadStepProgressBar=!1,ce.pendingStepCount=-1,GmCXt.enableTranslation=!1,ce.publishedTours=[],ce.resetCreatorData(),GmCXt.edCandidates=null,ce.uploadProgressBar=!1,ge.statusBar.set("logout"),ce.videoUploadMessage=!1,GmCXt.user={},GmCXt.organization={},GmCXt.showWidget(),ce.resetAppData(),ce.showGuidesFromDesktopApp=!1,GmCXt.removeFromStorage("showGuidesFromDesktopApp"),{startInterval:t});GmCXt.clearDataOnLogout(r),GmCXt.sendMessageToAllWindows("mgPlayerJSProd_action:empty_user_on_logout_in_iframes",{}),ce.navBarVisible=!1,ce.hidePanelOverlay();GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:stop_sync_interval"}),GmCXt.isExtension()&&GmCXt.storage().set({login_state:!1}),GmCXt.storage().remove(["user","userList","organization","activeAppId","playerMode","currentPage","segmentGroupData","taskList","currentPage","breadCrumb"]).then(function(){ce.setCurrentPage(""),ce.setActivePage("signin"),GmCXt.activeAppId=!1,GmCXt.appList={},GmCXt.user={},GmCXt.updateGlobalUser({}),ce.taskList=[],ce.userList={},ce.oldCurrentPageLang="",GmCXt.updateGlobalOrg({});var e=GmCXt.organization;GmCXt.organization=e,ge.user.set({}),ge.accessToken.set(""),ge.organization.set({}),ge.tours.set([]),ge.appOnDomain.set({}),ge.loggedIn.set(!1),ge.appData.set([]),ge.allGuides.set([]),ge.activeAppData.set({}),ge.activeAppId.set(""),ge.allCategories.set([]),ge.subCategories.set({}),ge.breadCrumb.set([]),ge.breadcrumbCategories.set([]),ge.validatedSegments.set({}),ge.isPageReloaded.set(!1),ge.guidePlayTracker.set({}),ge.showPlayer.set(!1),ge.accessibility.set(!1),ge.isMediaPlayerOn.set(!1),ge.appList.set([]),ge.currentTour.set({}),ge.dialogBox.set({}),ge.showModal.set({}),ge.publishedTours.set({}),ge.CurrentPageTours.set([]),ge.MyGuidePageTours.set([]),ge.parent.set(),ge.categoryTours.set([]),ge.childCategories.set(),ge.isNotificationReqd.set(!0),ge.dShowAgain.set(!1),ge.wLater.set(!1),ce.hideLoading(),ge.activeSortFilterStore.set(),ge.searchTours.set([]),ge.selectedBranch.set(!1),ge.lanDropDownVisible.set(!1),ge.miniPlayer.set(!1),ge.showNoTour.set(!1),ge.isTaskListVisible.set(!1),ge.params.set({}),ge.routeAction.set({}),ge.filters.set({}),ge.statusBar.set(""),ge.labels.set(ce.labels),ge.slideState.set({}),ge.slideshowInstance.set({}),ge.isTourListRefresh.set(!1),ge.allTaskList.set([]),ge.taskListCount.set(0),ge.searchTerm.set(""),ge.stepEditMode.set(""),ge.stepOperationMode.set(GmCXt.STEP_VIEW_OPERATION)}),GmCXt.removeFromDapStorage("appData"),t&&(ce.appConfig.login.SSO||GmCXt.isMyGuide())&&GmCXt.isPlayer()&&ce.isAllowedDomain()&&GmCXt.urlParts&&ce.signInWithSso()};let au={};function iu(e){var t=de(ge.parent).category_id;t&&(ce.isUpdateNeeded(t,"category")?Zp.updateCat({category_id:t}).then(function(e){Zp.categoryUpdateCb(e),ce.setCurrentPage("allguides")}):e&&(ce.catUpdatePending=!0),-1!==ce.serverDeletes.categories.indexOf(t))&&ce.goBack()}function ou(e){let t=!1;e.forEach(function(e){ce.isUpdateNeeded(e.category_id,"category")&&(t=!0,Zp.updateCat(e).then(function(e){ce.setCurrentPage("allguides")}))}),t}au.updateTour=Zp.updateTour,au.updateCat=Zp.updateCat,au.setTour=function(e,t,r){var a="cat_"+e.category_id,i="tour_"+e.tour_id;ce.allTourList[a]||r||(ce.allTourList[a]={}),GmCXt.FT.creatorApp&&(e.modification_date=GmCXt.getCurrentTimeInSec(),t||au.updateServerUpdateList(e.tour_id,"tour")),r||(ce.allTourList[a][i]=e),GmCXt.inPlayer||GmCXt.saveToDapStorage("allTourList",ce.allTourList)},au.deleteTourServerUpdate=function(e){for(var t in ce.allTourList){var r,a;for(r in ce.allTourList[t])"tour_"+e===r&&(a=t.split("_")[1],ce.removeTour(a,e))}},au.checkCurrentViewForUpdate=function(e){var t;GmCXt.isPlayer()||((t=de(ge.CurrentPage))&&("stepview"===t?(ce.catUpdatePending=!0,ce.isUpdateNeeded(de(ge.currentTour).tour_id,"tour")&&ce.routeToStepContainer("refreshView",!0),0<=ce.serverDeletes.tours.indexOf(de(ge.currentTour).tour_id)&&ce.backHandler()):"allguides"!==t||GmCXt.isEmpty(de(ge.categoryTours))?"allguides"!==t||GmCXt.isEmpty(de(ge.childCategories))?"allguides"===t&&(t=de(ge.allCategories),ce.catUpdatePending=!0,ou(t)):(t=de(ge.childCategories),de(ge.parent).category_id,ce.catUpdatePending=!0,ou(t),iu(e)):(de(ge.categoryTours).forEach(function(e){ce.isUpdateNeeded(e.tour_id,"tour")&&Zp.updateTour(e)}),iu(e))),ce.isUpdateNeeded(GmCXt.organization.organization_id,"organization")&&ce.fetchOrgFromAPI(),ce.isUpdateNeeded(GmCXt.activeAppId,"application")&&ce.fetchApps())};au.isUpdateNeeded=function(e,t){if(GmCXt.isEmpty(ce.serverUpdates))return!1;var r=((e,t)=>{let r={};return"category"===e?r=ce.getCategory(t):"tour"===e?r=ce.getTourFromId(t):"organization"===e?r=GmCXt.organization:"application"===e&&(r=GmCXt.appList["app:"+t]),r})(t,e);if(GmCXt.isEmpty(r))return!1;r=parseInt(r.modification_date)||0;let a=!1;r=(ce.serverUpdates[t+"_"+e]||0)-r,t="isUpdateNeeded: "+t+"_"+e+" .....?"+(a=2<r?!0:a)+"...time difference..."+r;return GmCXt.log(61,t),a},au.deleteCategoryServerUpdate=function(e){var t=ce.getCategory(e).parent_id;ce.removeCategory({category_id:e}),ce.refreshAllGuides=!1,"0"===t&&(ce.refreshAllGuides=!0)},au.updateServerUpdateList=function(e,t){delete ce.serverUpdates[t+"_"+e],GmCXt.saveToDapStorage("serverUpdates",ce.serverUpdates)},au.updateTourProperty=function(e,t,r){GmCXt.isEmpty(e)||(ce.allTourList["cat_"+e.category_id]&&ce.allTourList["cat_"+e.category_id]["tour_"+e.tour_id]&&(ce.allTourList["cat_"+e.category_id]["tour_"+e.tour_id][r]=t),GmCXt.saveToDapStorage("allTourList",ce.allTourList))};let nu=GmCXt.storage(),su=["appData","categories","pinnedToursList","currentTour","allTourList","languageList","serverUpdates","serverDeletes","taskList","mgPlayerJSProd_GM_PLAYER_STORAGE_KEY"],lu=(GmCXt.getFromStorage=function(a,i){return new Promise(function(r,t){try{nu.get([a,a+"_time"]).then(function(e){var t=e[a];i||((e=e[a+"_time"])&&void 0!==e?e<Date.now()&&(GmCXt.removeFromStorage(a),r(!1)):r(!1)),t&&void 0!==t?(t=GmCXt.parseJSON(t),GmCXt.isDefined(t)&&r(t)):r(!1)})}catch(e){GmCXt.showCookieDisabledPopup(),t(!1)}})},GmCXt.getFromDapStorage=function(r){return new Promise(function(t,e){GmCXt.isClientJs()?GmCXt.dapStore.getItem(r).then(function(e){t(e)}):GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:get_from_dap_storage",data:r},function(e){t(e)})})},GmCXt.getAllFromStorage=function(a,i){let o={};return new Promise(function(t,e){var r=a.map(function(e){return-1!==su.indexOf(e)?GmCXt.getFromDapStorage(e):GmCXt.getFromStorage(e,i)});Promise.all(r).then(function(e){e.forEach(function(e,t){o[a[t]]=e}),t(o)})})},GmCXt.saveGuideUser=function(e){var t={action:"mgPlayerJSProd_action:save_user_info",data:e};GmCXt.updateGlobalUser(e),GmCXt.sendMessageToBackgroundService(t)},GmCXt.saveGuideOrgDetails=function(e){var t={action:"mgPlayerJSProd_action:save_org",data:e};GmCXt.updateGlobalOrg(e),GmCXt.sendMessageToBackgroundService(t)},GmCXt.saveToStorage=function(a,i,o){return new Promise(function(e,t){"user"===a?GmCXt.saveGuideUser(i):"organization"===a&&GmCXt.saveGuideOrgDetails(i),i=JSON.stringify(i);var r={};r[a]=i,r[a+"_time"]=(e=>{let t;return t=e&&GmCXt.isDefined(e)&&!isNaN(e)?Date.now()+1e3*e:Date.now()+864e6})(o),nu.set(r).then(function(){e(!0)}).catch(function(e){t(e)})})},GmCXt.saveToDapStorage=function(r,a){return new Promise(function(e,t){GmCXt.isClientJs()?GmCXt.dapStore.setItem(r,a).then(function(){e(!0)}):GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:save_to_dap_storage",data:{key:r,data:a}},function(){e(!0)})})},GmCXt.removeFromStorage=function(r){return new Promise(function(e,t){"user"===r?GmCXt.saveGuideUser(!1):"organization"===r&&GmCXt.saveGuideOrgDetails(!1),nu.remove([r,r+"_time"]).then(function(){e(!0)}).catch(function(e){t(e)})})},GmCXt.removeFromDapStorage=function(r){return new Promise(function(e,t){GmCXt.isClientJs()?GmCXt.dapStore.removeItem(r).then(function(){e(!0)}):GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:remove_from_dap_storage",data:r},function(){e(!0)})})},GmCXt.resetStorage=function(){return GmCXt.clearIndexedDb(),new Promise(function(e,t){GmCXt.saveGuideUser(!1),GmCXt.saveGuideOrgDetails(!1),e(!0)})},GmCXt.conf.appName,GmCXt.conf.env,GmCXt.isLXP()&&document.referrer&&GmCXt.filterUrlScheme(document.referrer).replaceAll(".",""),GmCXt.clearIndexedDb=function(t){try{GmCXt.isClientJs()?GmCXt.dapStore.clear():GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:clear_dap_storage"})}catch(e){GmCXt.log(1,"ERROR: IndexedDb not cleared, "+t)}},ce.refreshPlayer=function(e){var t;ce.maintenance=e.maintenance_mode,ce.lastTimeStampSync=GmCXt.getCurrentTimeInSec(),GmCXt.saveToStorage("lastTimeStampSync_"+GmCXt.activeAppId,ce.lastTimeStampSync),e.maintenance_mode?ce.goToMaintenance():qp.processUpdates(e),(GmCXt.inPlayer||GmCXt.onPrem())&&(t={action:"mgPlayerJSProd_action:update_player_sync_time",data:{refreshTime:e.last_updated_time,lastTimeStampSync:GmCXt.getCurrentTimeInSec()}},GmCXt.isClientJs()?(GmCXt.refreshTime=e.last_updated_time,GmCXt.lastTimeStampSync=GmCXt.getCurrentTimeInSec()):GmCXt.sendMessageToBackgroundService(t))},ce.updateUser=function(e){var t;e.accesstoken&&(t=GmCXt.user)&&(t.accesstoken=e.accesstoken,t.refreshtoken=e.refreshtoken,GmCXt.isDefined(e.profile)&&(t.profile=e.profile),GmCXt.isDefined(e.app_access)&&(t.app_access=e.app_access),ce.saveUser(t))},GmCXt.playerAppMsgHandler=function(e){var t={"mgPlayerJSProd_action:get_cdn_signature_from_app":()=>{ce.getNewCdnSignature()},"mgPlayerJSProd_action:update_access_token":()=>{ce.updateUser(e.data)},"mgPlayerJSProd_action:refresh_player":()=>{ce.refreshPlayer(e.data)},"mgPlayerJSProd_action:update_timestamp_sync_time":()=>{ce.lastTimeStampSync=GmCXt.getCurrentTimeInSec(),GmCXt.saveToStorage("lastTimeStampSync_"+GmCXt.activeAppId,ce.lastTimeStampSync)},"mgPlayerJSProd_action:fetch_user":()=>{var e=GmCXt.user;GmCXt.isEmpty(e)?ce.clearSession():ce.syncUser()},"mgPlayerJSProd_action:update_registration_secret":()=>{ce.trackerSecrets={},ce.registerClientInsights()},"mgPlayerJSProd_action:logout_user":()=>{ce.clearSession()},"mgPlayerJSProd_action:trackApiCalls":()=>{GmCXt.trackApiCalls(!0)},"mgPlayerJSProd_action:get_data_from_panel":()=>{GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:get_data_from_panel_response",data:{user:GmCXt.user,organization:GmCXt.organization}})},"mgPlayerJSProd_action:save_image_done":()=>{ge.routeAction.set({action:"save_image_done",data:e.data})},"mgPlayerJSProd_action:video_ended":()=>{var e,t;GmCXt.playerI&&(e=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId),t=GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure),GmCXt.isLastStep(e.step_id,GmCXt.playerI.playStructure)||GmCXt.playStepFromStepIdInShowMe(t))}}[e.action];t?t():GmCXt.creatorAppMsgHandler&&GmCXt.creatorAppMsgHandler(e)},GmCXt.api.getHeaders=function(e){let t="";var r={"Content-Type":"application/json","x-mg-host":t=GmCXt.isEmpty(GmCXt.urlParts)?t:GmCXt.urlParts.host,"x-mg-source":GmCXt.conf.appName,"x-mg-orgId":""};let a="",i="";var o=GmCXt.user;return o&&o.accesstoken&&(a=o.accesstoken),o&&o.refreshtoken&&(i=o.refreshtoken),!e.serviceName||-1===e.serviceName.indexOf("user/signout")&&-1===e.serviceName.indexOf("user/token")?e.serviceName&&-1!==e.serviceName.indexOf("user/sso/login")||"user/sso/autologin"===e.serviceName?(r.Authorization=e.data.myGuideOrgKey,delete e.data.myGuideOrgKey):"user/signin/edcast"===e.serviceName?(r.EdcastToken=e.data.EdcastToken,delete e.data.EdcastToken):r.AccessToken=a:r.RefreshToken=i,r.appType=GmCXt.conf.appType,o&&(r.userId=o.user_id,r.orgId=o.organization_id,r["x-mg-orgId"]=o.organization_id),r},GmCXt.api.fetch=function(e){return new Promise(function(t,r){GmCXt.trackApiCalls(),fetch(e.url,{method:e.method,headers:e.headers,body:JSON.stringify(e.data)}).then(e=>{GmCXt.activeApiCallCount--,ce.hideLoading(),t(e.json())}).catch(function(e){GmCXt.activeApiCallCount--,ce.hideLoading(),e.stack&&(e.data=GmCXt.getCodeError()),r(e.data)})})},GmCXt.api.xhrDesktopApp=function(e){return new Promise(function(t,r){mg$.ajax({url:e.url,data:e.data,method:e.method,success:function(e){e&&t(e)},error:function(e){r(e)}})})},GmCXt.processApi=function(e,t){let r=e?.url?.replace(GmCXt.conf.webServiceUrl,"");var a={serviceName:r=-1!==r.indexOf("?")?r.split("?")[0]:r,method:e.method_type,data:e.params,onSuccess:t};"GET"===e.method_type?GmCXt.api.get_(a).then(e=>{t&&t(e)}):(t&&(a.onSuccess=t),GmCXt.api.post_(a))},GmCXt.api.get_=function(i){let o={url:GmCXt.conf.webServiceUrl+i.serviceName,method:i.method,headers:GmCXt.api.getHeaders(i),params:i.data};function r(e){GmCXt.processApi(e,i.cb)}function n(e){var t;e=e||GmCXt.getDefaultError(),(t=e).url=o.url,t.params=o.params,t.method_type=o.method,i.onSuccess&&(t.successCb=i.onSuccess),e=t,ce.hideLoading(),1007===e.code?ir.on(e,r):2036===e.code&&e?.data?.remove_cookie&&GmCXt.user?.ssoSignInTrue?ce.removeCookieWithSSO().then(function(){ir.on(e)}):3033!==e.code&&ir.on(e)}return new Promise(function(r,a){o.url=GmCXt.getSearchURL(o.url,i.data),GmCXt.api.fetch(o).then(function(e){ce.isAppJsonCalling||ce.hideLoading();var t=e;t&&(t.error?(n(t),a(t)):(GmCXt.validateDataModel(t,GmCXt.model.api),i.onSuccess?r(i.onSuccess(e)):r(e)))}).catch(function(e){e&&e.stack?(e.data=GmCXt.getCodeError(),n(e.data)):n()})})},GmCXt.api.get=function(e){return e.data.isDeskReq?(delete e.data.isDeskReq,GmCXt.api.get_(e)):(ce.isFetchingCdn=!1,ce.checkCdnSignature().then(function(){return GmCXt.api.get_(e)}))},GmCXt.api.getCDN=function(e){return ce.checkCdnSignature().then(function(){return GmCXt.onPrem()||(e=ce.addCdnUrl(e)),new Promise(function(t,r){GmCXt.trackApiCalls(),fetch(e).then(e=>{if(GmCXt.activeApiCallCount--,ce.hideLoading(),e.ok)return e.json();throw new Error("Network response was not ok")}).then(e=>{t(e)}).catch(e=>{GmCXt.activeApiCallCount--,ce.hideLoading(),r(e)})})})},GmCXt.api.post_=function(r){let a={url:GmCXt.conf.webServiceUrl+r.serviceName,method:r.method,headers:GmCXt.api.getHeaders(r),data:r.data};function i(e){GmCXt.processApi(e,r.onSuccess)}function o(e){var t;e=e||GmCXt.getDefaultError(),(t=e).url=a.url,t.params=a.data,t.method_type=a.method,1007===(e=t).code?ir.on(e,i):3033!==e.code&&ir.on(e),r.onFail&&r.onFail(e)}GmCXt.api.fetch(a).then(function(e){ce.hideLoading(),ce.uploadInProgress=!1;var t=e;t.error?o(t):r.onSuccess&&(!0===r.signIn&&(e=e.data.token?GmCXt.validateDataModel(e.data.token,GmCXt.model.token):e.data.orgs?e.data:GmCXt.validateDataModel(e.data.user,GmCXt.model.user)),r.onSuccess(e))}).catch(function(e){e?(e.stack&&(e.data=GmCXt.getCodeError()),o(e.data)):console.error("Error in GmCXt.api.post")})},GmCXt.api.post=function(e){ce.checkCdnSignature().then(function(){GmCXt.api.post_(e)})},GmCXt.api.userSignIn=function(e,t,r){GmCXt.api.post({serviceName:"user/signin",method:"POST",data:e,onSuccess:t,onFail:r,signIn:!0})},GmCXt.api.userSignOut=function(e){var t="user/signout?mg_source_name="+GmCXt.conf.appConfig.customer;GmCXt.api.post({serviceName:t,method:"POST",serviceType:"",data:{},onSuccess:e})},GmCXt.api.verifyUser=function(e,t,r){GmCXt.api.post({serviceName:"user/verify",method:"POST",data:e,onSuccess:t,onFail:r,signIn:!0})},GmCXt.api.forgetPassword=function(e,t,r){GmCXt.api.get({serviceName:"user/password/reset",method:"GET",data:e,cb:t}).then(t)},GmCXt.api.changePassword=function(e,t){GmCXt.api.post({serviceName:"user/password",method:"PUT",data:e,onSuccess:t})},GmCXt.api.resetPassword=function(e,t){GmCXt.api.post({serviceName:"user/resetpassword",method:"POST",data:e,onSuccess:t})},GmCXt.api.resendOTP=function(e,t){return GmCXt.api.post_({serviceName:"user/otp/resend",method:"POST",data:e,serviceType:"",onSuccess:t,signIn:!0})},GmCXt.api.getAccessToken=function(r){var e={serviceName:GmCXt.getCustomerSpecificURL("user/token"),method:"GET",serviceType:"",data:{force_update:!0,mg_source_name:GmCXt.conf.appConfig.customer}};function t(e){let t={};t=e.data.data||e.data;e=GmCXt.validateDataModel(t,GmCXt.model.userToken);r(e)}e.cb=t,GmCXt.api.get_(e).then(t)},GmCXt.api.callGetCdnSignature=function(e,t){GmCXt.api.get_({serviceName:"organization/signature",method:"GET",serviceType:"",data:e,cb:t}).then(t)},GmCXt.api.getUserList=function(e,t){e.organization_id=GmCXt.user.organization_id;e={serviceName:"user/list",method:"GET",data:e,serviceType:"",cb:t};ce.showLoading(),GmCXt.api.get_(e).then(t)},GmCXt.api.getOrganization=function(t){let r={serviceName:"organization",method:"GET",data:{organization_id:GmCXt.user.organization_id},serviceType:""};function e(e){GmCXt.validateApiResp(t,r.serviceName,e.data.organization,GmCXt.model.organization)}ce.showLoading(),r.cb=e,GmCXt.api.get_(r).then(e)},GmCXt.api.getDomains=function(e){var t={serviceName:"organization/domain",method:"GET",data:{organization_id:GmCXt.user.organization_id},serviceType:"",cb:e};GmCXt.api.get_(t).then(e)},GmCXt.api.sendMsgToMyBot=function(e){var t={url:"http://localhost:11311/"+e.url,data:"",method:"GET"};return e.method&&(t.method=e.method),e.info&&(t.data={info:JSON.stringify(e.info)}),GmCXt.api.xhrDesktopApp(t).catch(function(e){GmCXt.log(1,"ERROR: failed to connect Desktop app",e)})},GmCXt.api.postUserProfile=function(e,t){e.organization_id=GmCXt.user.organization_id,GmCXt.api.post({serviceName:"user",method:"PUT",serviceType:"",data:e,onSuccess:t})},ce.addCdnUrl=function(e){var e=GmCXt.conf.jsonStorageUrl+GmCXt.orgBucket+"/"+e,t=GmCXt.user;return t?e+t.cdn_signature+"&v="+Date():e},GmCXt.api.getTourCDN=function(e,t,r){GmCXt.api.getCDN("tours/tour-"+e+".json").then(function(e){e&&(e=GmCXt.validateDataModel(e,GmCXt.model.guide),e=GmCXt.migrateTour(e),ce.updateTourToStorage(!1,e),t)&&t(e)}).catch(function(e){r&&r()})},GmCXt.api.getCategoryListStorage=function(a,e){new Promise(function(t,e){function r(e){(e=!GmCXt.inPlayer&&a.is_publish?ce.filterPublished(e):e)&&e.length&&(e=(e=e.sort(function(e,t){return e.category_order-t.category_order})).slice(a.offset,a.limit+a.offset)),t(e)}if(a.parent_id){let e=[];r(e=GmCXt.isEmpty(ce.subCategoryStore)?e:ce.subCategoryStore["cat_"+a.parent_id])}else r(ce.categoryStore)}).then(e)},GmCXt.api.getCategoryDetails=function(e,t,r){function a(e){GmCXt.log(70,"ADD CATEGORY TO GLOBLE: "+GmCXt.categoryLog(e)),ce.addCategory(e),ce.updateCategoryInStorage(e),t(e)}function i(e){GmCXt.validateApiResp(a,n.serviceName,e,GmCXt.model.category)}function o(){GmCXt.api.get(n).then(function(e){i(e.data.category)})}let n={serviceName:"category",method:"GET",serviceType:"",data:e};if(GmCXt.inPlayer)return e="json/categories/"+e.category_id+".json",GmCXt.api.getJSONFromCDN(e).then(function(e){e?i(e):o()});o()},GmCXt.api.getCategoryDetailsStorage=function(a,e,t,r){t?GmCXt.api.getCategoryDetails(a,e,r,t):new Promise(function(e,t){var r=ce.categoryStore.filter(function(e){return parseInt(e.category_id)===parseInt(a.category_id)});if(r.length)e(r[0]);else{let t=[];ce.subCategoryStore.forEach(function(e){e.forEach(function(e){parseInt(e.category_id)===parseInt(a.category_id)&&t.push(e)})}),e(t[0])}}).then(e)},GmCXt.getTourList=function(r,a,i){r.application_id=i||GmCXt.activeAppId,GmCXt.isMirrorApp()&&(r.application_id=GmCXt.getBaseAppId()),r.organization_id=GmCXt.user.organization_id,ce.notDefaultLang()&&(r.language=ce.language),GmCXt.getLXPLang()&&(r.language=GmCXt.getLXPLang());let t={serviceName:"tour/list",method:"GET",serviceType:"",data:r};function o(e,t){i||(e=ce.filterGuideByEnv(e),GmCXt.log(70,"ADD TOURS TO VARIABLE: ",e),ce.addTourList(r.category_id,e),ce.updateToursInCategoryStorage(category_id,e)),a(e,t)}function e(e){e.data&&GmCXt.validateApiResp(o,t.serviceName,e.data.tours,GmCXt.model.guides,e.data.pin_tours)}t.cb=e,GmCXt.api.get(t).then(e).catch(function(){})},GmCXt.api.getTourListStorage=function(s,e,t,r){t?GmCXt.getTourList(s,e,r):new Promise(function(t,e){function r(e){e=e&&(e=e.sort(function(e,t){return e.tour_order-t.tour_order})).slice(s.offset,s.limit+s.offset),t(e)}var a=[];if(s.category_id){var i,o=ce.allTourList["cat_"+s.category_id];for(i in o)a.push(o[i])}var n=a;if(GmCXt.inPlayer?n=ce.filterGuideByEnv(n):"1"===s.published_guides?n=ce.filterPublished(n):"0"===s.published_guides&&(n=ce.filterUnpublished(n)),s.search_text){let a=s.search_text.toLowerCase();n=ce.publishedTours.filter(function(r){if(r.application_id===s.app_id){let e=r.tour_title,t=r.tour_description;return r.language_data&&r.language_data[ce.language]&&ce.notDefaultLang()&&(e=r.language_data[ce.language].tour_title,t=r.language_data[ce.language].tour_description),ce.filterGuide(e,a,r.tour_id,t)}})}r(n)}).then(e)},GmCXt.api.getContextualTourStorage=function(e,t){return new Promise(function(e,t){setTimeout(function(){e(ce.validateAllRulesExceptSelectEl(ce.publishedTours).tours)},10)}).then(t)},GmCXt.api.getContextualTour=function(t,r){function a(e){GmCXt.FT.isPlayer&&(e=ce.filterGuideByEnv(e)),ce.addTourList(!1,e),GmCXt.contextualApiParams={},r(e)}function i(e){GmCXt.validateApiResp(a,"tour/contextual",e.data.tours,GmCXt.model.guides)}GmCXt.getLXPLang()?t.language=GmCXt.getLXPLang():ce.language&&-1===ce.language.indexOf("en-")&&!GmCXt.isFalse(ce.language)&&(t.language=ce.language),t.organization_id=GmCXt.user.organization_id,t.application_id=GmCXt.activeAppId,GmCXt.isMirrorApp()&&(t.application_id=GmCXt.getBaseAppId()),GmCXt.api.getContextualTourStorage(t,function(e){e&&e.length||GmCXt.inPlayer?r(e):!GmCXt.isEmpty(GmCXt.contextualApiParams)&&Object.values(t).toString()===Object.values(GmCXt.contextualApiParams).toString()||(e={serviceName:"tour/contextual",method:"POST",serviceType:"",data:t,onSuccess:i},GmCXt.api.post_(e),GmCXt.contextualApiParams=t)})},GmCXt.api.getJSONFromCDN=function(e,t){return GmCXt.api.getCDN(e).catch(function(e){ce.hideLoading(),404===e.status?ce.cdn404=!0:403===e.status&&(ce.cdn403=!0),t&&t()})},GmCXt.api.getTours=function(e,t){e.organization_id=GmCXt.user.organization_id;let r={serviceName:"tours",method:"GET",serviceType:"",data:e};function a(e){GmCXt.FT.isPlayer&&(e=ce.filterGuideByEnv(e)),t(e)}function i(e){e&&e.data&&GmCXt.validateApiResp(a,r.serviceName,e.data.tours,GmCXt.model.guides)}r.cb=i,GmCXt.api.get(r).then(i)},GmCXt.api.getTaskList=function(){ce.taskListApiCalled=!0;let a={application_id:GmCXt.activeAppId,organization_id:GmCXt.user.organization_id,limit:10,offset:0,search:""},i={serviceName:"task_list/json",method:"GET",data:a};return new Promise(function(t,e){var r;GmCXt.inPlayer?(r="json/task_list/app-"+a.application_id+".json",GmCXt.api.getJSONFromCDN(r).then(function(e){e?t(e):GmCXt.api.get(i).then(function(e){t(e.data)})}).catch(function(){GmCXt.api.get(i).then(function(e){t(e.data)})})):GmCXt.api.get(i).then(function(e){t(e.data)})})},GmCXt.api.getTaskDetails=function(e){return GmCXt.api.get({serviceName:"task_list/user/stats",method:"GET",data:{id:e}})},GmCXt.api.getTaskListDetails=function(){var e={application_id:GmCXt.activeAppId,organization_id:GmCXt.user.organization_id};return GmCXt.api.get({serviceName:"task_list/user/stats/list",method:"GET",data:e})},GmCXt.api.getTaskFolderDetails=function(e){return GmCXt.api.get({serviceName:"task_list/content",method:"GET",data:{folder_id:e}})},GmCXt.api.markTaskGuideComplete=function(e,t){e={task_list_id:e.task_id,user_id:GmCXt.user.user_id,guide_id:e.guide_id};return GmCXt.api.post({serviceName:"task_list/task/complete",method:"POST",serviceType:"",data:e,onSuccess:t})},GmCXt.api.getAllLanguages=function(){let e=GmCXt.conf.staticContentPath+"json/languages.json";return new Promise(function(t,r){GmCXt.trackApiCalls(),fetch(e).then(e=>{if(GmCXt.activeApiCallCount--,ce.hideLoading(),e.ok)return e.json();throw new Error("Network response was not ok")}).then(e=>{t(e)}).catch(e=>{GmCXt.activeApiCallCount--,ce.hideLoading(),r(e)})})},GmCXt.api.getAppDetails=function(e,t){let r={serviceName:"application",method:"GET",data:{application_id:e}};function a(e){GmCXt.validateApiResp(t,r.serviceName,e.data.application,GmCXt.model.application)}r.cb=a,GmCXt.api.get(r).then(a)},GmCXt.api.getOrgJson=function(e){var t;return ce.showLoading(),(GmCXt.inPlayer?GmCXt.api.getJSONFromCDN("json/org_info.json"):(t={serviceName:"organization/info/json",method:"GET",data:{organization_id:GmCXt.user.organization_id},serviceType:"",cb:e},GmCXt.api.get_(t))).then(e)},GmCXt.api.getAppJson=function(e,t){return ce.showLoading(),(GmCXt.inPlayer?GmCXt.api.getJSONFromCDN("json/app-"+e+".json"):GmCXt.api.get_({serviceName:"application/json",method:"GET",data:{application_id:e},serviceType:"",cb:t})).then(t)},GmCXt.api.getSearchTourList=function(n,e,t){new Promise(function(e,t){var r=n.search_text,a=[],i=n.category_id;for(let e=0;e<ce.publishedTours.length;e++){var o=ce.publishedTours[e];void 0!==i&&i!==o.category_id||!(o.tour_title&&o.tour_title.toLowerCase().includes(r.toLowerCase())||o.keywords&&-1<o.keywords.toLowerCase().indexOf(r.toLowerCase()))||a.push(o)}a.sort(function(e,t){return e.tour_title.localeCompare(t.tour_title)}),e(a)}).then(e).catch(function(){ce.goBack()})},GmCXt.api.getCategoryList=GmCXt.api.getCategoryListStorage,GmCXt.api.getTourList=GmCXt.api.getTourListStorage,GmCXt.api.getTourFromCDNorJSON=function(t,r,a){t&&t.tour_id&&"undefined"!==t.tour_id&&GmCXt.api.getTourCDN(t.tour_id,function(e){GmCXt.isEmpty(e)?GmCXt.api.getTourJson(t.tour_id,r,a):r(e)},function(){GmCXt.api.getTourJson(t.tour_id,r,a)})},GmCXt.api.getTour=function(e,t,r,a){var i=ce.getTourFromId(e.tour_id,e.category_id);a||!i||GmCXt.isEmpty(i.steps)?GmCXt.inPlayer&&GmCXt.api.getTourFromCDNorJSON(e,t,r):t(i)},GmCXt.api.getTourJson=function(t,r,a){var e={serviceName:"tour/json",method:"GET",data:{tour_id:t},serviceType:"",onSuccess:function(e){e.data?(e=GmCXt.validateDataModel(e.data,GmCXt.model.guide),ce.updateTourToStorage(!1,e),r(e)):a&&a()},onFail:function(e){GmCXt.log(1,"Tour not found"+t),a()}};ce.showLoading(),GmCXt.api.get(e)},GmCXt.api.getTourCDN=function(e,t,r){GmCXt.api.getCDN("tours/tour-"+e+".json").then(function(e){e&&(e=GmCXt.validateDataModel(e,GmCXt.model.guide),e=GmCXt.migrateTour(e),ce.updateTourToStorage(!1,e),t)&&t(e)}).catch(function(e){r&&r()})},GmCXt.api.updateUser=function(e,t){var r=GmCXt.organization,r=(e.organization_id=r.organization_id,e),e=("string"!=typeof r.settings&&(r.settings=JSON.stringify(e.settings)),{serviceName:"user",method:"PUT",serviceType:"",data:r,onSuccess:t});GmCXt.api.post(e)},GmCXt.stopCapture=function(e){e=e||zt;var e=JSON.stringify(e,null,2),e=new Blob([e],{type:"text/plain"}),e=URL.createObjectURL(e),t=document.createElement("a");t.href=e,t.download="console_logs.txt",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e)},window.GmRootScope=ce,Jc.main(),GmCXt.logAll=zt,GmCXt.logLog=function(){console.log(JSON.stringify(zt))},ce.playVideoTour="video",ce.playSlideshow="slideshow",ce.playGiphy="giphy",ce.playVLab="vLab",ce.playAuto="doitforme",ce.playGuideMe="guideMe",ce.playTestMe="testMe",ce.isClientJs=!1,ce.contextTours=[],ce.manualAppSwitch=!1,ce.showCaptchaError=!1,ce.config=GmCXt.conf,ce.staticContentPath=GmCXt.conf.staticContentPath,ce.webPortalUrl=GmCXt.conf.webPortalUrl,ce.analyticsPortalUrl=GmCXt.conf.analyticsPortalUrl,ce.appConfig=GmCXt.conf.appConfig,ce.appName=GmCXt.conf.appName,ce.appType=GmCXt.conf.appType,ce.brandName="Cornerstone Guide",ce.appVersion=GmCXt.conf.version,ce.ssoRedirectionUrl=GmCXt.conf.ssoRedirectionUrl,ce.ssoApiUrl=GmCXt.conf.ssoApiUrl,ce.ssoConfigUrl=GmCXt.conf.ssoConfigUrl,ce.ssoId="",ce.isLXP=GmCXt.isLXP(),ce.isWestpac=GmCXt.isWestpac(),ce.isMyGuide=GmCXt.isMyGuide(),ce.onPrem=GmCXt.onPrem(),ce.isMicroPlayer=GmCXt.isMicroPlayer(),ce.isClientJs=GmCXt.isClientJs(),ce.isElectron=GmCXt.isElectron(),ce.checkInsightEnabled=GmCXt.checkInsightEnabled,ce.isScreenRecorderClose=!1,ce.taskListApiCalled=!1,ce.countLimit=99,ce.playerSyncCount=0,ce.languages=[],ce.selectedLanguage="",ce.tourVideoInProgressArr=[],ce.ssoHitCount=0,ce.thirtyMinutesInSeconds=1800,ce.thirtyDaysInSeconds=2592e3,ce.thirtyDaysInMSeconds=2592e6,ce.lastCheckBrandLogo=0,ce.browserApp=GmCXt.browserApp,ce.allowedImageExtensions=["image/png","image/jpeg","image/jpg"],ce.appDomainLimit=500,ce.showPlayer=!1,ce.playerMode=!1,ce.isPlayer=GmCXt.isPlayer,ce.browserLang=GmCXt.browserLang,ce.defaultLang={},ce.oldCurrentPageLang="",ce.maintenance=!1,ce.appEnvs=[],ce.categoryDataForAutomation=[],ce.jsonEditor=!1,ce.searchFilterDropDownVisible=!1,ce.isRefresh=!1,ce.isStepViewRefresh=!1,ce.isApiCallOn=!1,ce.isTaskListActive=!1,ce.isAppJsonCalling=!1,ce.pendingStepCount=-1,ce.botTourPlayList=[],ce.labels=GmCXt.getAllLabels(GmCXt.mgActiveLang),ce.allCategories=[],ce.allCategoriesNoFilter=[],ce.chatLabels={},ce.toursModifiedTime=0,ce.refreshTime=0,ce.isTaskListVisible=!1,ce.taskListCount=0,ce.languageList=[],ce.languages=[],ce.language=!1,ce.svgs={iconBack:'<svg class="mgPlayerJSProd_position-center" width="8" height="14" viewBox="0 0 8 14" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.233044 7.05301C0.233044 7.03801 0.236044 7.02501 0.237044 7.01001C0.245778 6.81309 0.327814 6.62654 0.467044 6.48701L0.469044 6.48401L6.11604 0.837007C6.19033 0.762217 6.27864 0.702806 6.37591 0.662173C6.47318 0.62154 6.57751 0.600484 6.68292 0.600205C6.78834 0.599927 6.89277 0.620432 6.99026 0.66055C7.08774 0.700668 7.17636 0.75961 7.25104 0.834006L7.53304 1.11701C7.68312 1.26767 7.76722 1.47177 7.76684 1.68442C7.76647 1.89708 7.68165 2.10088 7.53104 2.25101L2.72904 7.05201L7.52904 11.853C7.6039 11.9272 7.66339 12.0155 7.70411 12.1127C7.74482 12.21 7.76598 12.3143 7.76635 12.4197C7.76672 12.5251 7.7463 12.6295 7.70627 12.7271C7.66624 12.8246 7.60737 12.9133 7.53304 12.988L7.25004 13.271C7.09912 13.4208 6.89487 13.5046 6.68222 13.5038C6.46956 13.5031 6.26591 13.4179 6.11604 13.267L0.749043 7.90101L0.466043 7.61801C0.316043 7.46801 0.240044 7.27301 0.235044 7.07501L0.233044 7.05301Z" fill="#555555"/></svg>',iconSearchClose:'<svg version="1.1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M46,4C44.9,3,43.2,3,42.1,4L25,21.2L7.9,4C6.8,3,5.1,3,4,4S3,6.8,4,7.9L21.2,25L4,42.1C3,43.2,3,44.9,4,46c0.5,0.5,1.2,0.8,1.9,0.8s1.4-0.3,1.9-0.8L25,28.8L42.1,46c0.5,0.5,1.2,0.8,1.9,0.8c0.7,0,1.4-0.3,1.9-0.8c1.1-1.1,1.1-2.8,0-3.8L28.8,25L46,7.9C47,6.8,47,5.1,46,4z"/></g></g></svg>',no_guides_image:'<svg viewBox="0 0 101 124" fill="none"><path d="M98.809 22.612L78.174 1.824C77.024 0.664999 75.428 0 73.795 0H6.57C3.169 0 0.401001 2.768 0.401001 6.169V117.83C0.401001 121.232 3.169 124 6.57 124H94.429C97.831 124 100.599 121.232 100.599 117.83V26.958C100.599 25.319 99.963 23.776 98.809 22.612ZM76.754 3.232L97.389 24.02C97.928 24.563 98.286 25.233 98.464 25.958H77.727C76.618 25.958 75.574 25.527 74.787 24.744C73.995 23.955 73.558 22.905 73.558 21.788V2H73.795C74.915 2 75.966 2.438 76.754 3.232ZM94.429 122H6.57C4.271 122 2.401 120.129 2.401 117.83V6.169C2.401 3.87 4.271 2 6.57 2H71.558V21.788C71.558 23.441 72.204 24.995 73.375 26.161C74.54 27.32 76.084 27.958 77.722 27.958H98.599V117.83C98.599 120.129 96.728 122 94.429 122Z" fill="#8D8D8D"/></svg>',folder:'<svg  width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#f8f8fb" stroke="#acadc1" stroke-width="1.4"/><path d="M28.2 15.6733V18.4667H11.8V13.0067C11.8 12.9091 11.8669 12.8667 11.906 12.8667H18.5C18.539 12.8667 18.606 12.9092 18.606 13.0067V15.3333V15.5333H18.806H28.094C28.1331 15.5333 28.2 15.5758 28.2 15.6733ZM28.094 14.4667H19.606V13.0067C19.606 12.3616 19.1296 11.8 18.5 11.8H11.906C11.2764 11.8 10.8 12.3612 10.8 13.0067V18.6667V19.3333V27.66C10.8 28.3051 11.2764 28.8667 11.906 28.8667H28.094C28.7232 28.8667 29.2 28.3055 29.2 27.66V19.3333V18.6667V15.6733C29.2 15.0279 28.7236 14.4667 28.094 14.4667ZM28.2 27.66C28.2 27.7576 28.1331 27.8 28.094 27.8H11.906C11.8669 27.8 11.8 27.7576 11.8 27.66V19.5333H28.2V27.66Z" fill="#acadc1" stroke="#acadc1" stroke-width="0.4"/></svg>',guide_category_title:'<svg width="28" height="22" viewBox="0 0 28 22" fill="none" ><path d="M0.305981 9.84855L2.80027 19.8175C2.81263 20.5627 3.36591 21.2 4.08726 21.2H23.5129C24.2341 21.2 24.788 20.5626 24.7999 19.8165L27.1945 9.84671L27.2373 9.66829L27.0632 9.61026L24.8001 8.85585V5.408C24.8001 4.65149 24.2424 4 23.5129 4H13.2873V2.208C13.2873 1.45193 12.7296 0.8 12.0001 0.8H4.08726C3.35774 0.8 2.80006 1.45149 2.80006 2.208V8.85401L0.439046 9.60952L0.260472 9.66666L0.305981 9.84855ZM3.91408 19.7435L1.47621 10H26.0263L23.6856 19.7453L23.6801 19.7683V19.792C23.6801 19.9271 23.5858 20 23.5129 20H4.08726C4.01434 20 3.92006 19.9271 3.92006 19.792V19.7674L3.91408 19.7435ZM23.6801 5.408V8.8H3.92006V2.208C3.92006 2.07291 4.01434 2 4.08726 2H12.0001C12.0727 2 12.1673 2.07305 12.1673 2.208V5V5.2H12.3673H23.5129C23.5858 5.2 23.6801 5.27291 23.6801 5.408Z" fill="#b2b2b2" stroke="#b2b2b2" stroke-width="0.6" /></svg>',iconBreadcrumArrow:'<svg width="6px" height="14px" viewBox="0 0 6 14" version="1.1"  ><defs></defs><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0.555338542"><g transform="translate(-1139.000000, -186.000000)" fill-rule="nonzero" fill="#757575"><g transform="translate(1139.000000, 186.000000)"><polygon class="mgPlayerJSProd_shape" points="0.257105882 0 0.0240470588 0.313588202 4.68407059 6.58823529 0.0240470588 12.8628824 0.257105882 13.1764706 5.15002353 6.58823529"></polygon><polygon points="0.257105882 0 0.0240470588 0.313588202 4.68407059 6.58823529 0.0240470588 12.8628824 0.257105882 13.1764706 5.15002353 6.58823529"></polygon></g></g></g></svg>',popupInfo:'<svg width="44" height="44" viewBox="0 0 44 44" fill="none"><path d="M22 43.3333C16.342 43.3333 10.9158 41.0857 6.91502 37.085C2.91424 33.0842 0.666626 27.658 0.666626 22C0.666626 16.3421 2.91424 10.9158 6.91502 6.91506C10.9158 2.91428 16.342 0.666672 22 0.666672C27.6579 0.666672 33.0841 2.91428 37.0849 6.91506C41.0857 10.9158 43.3333 16.3421 43.3333 22C43.3333 27.658 41.0857 33.0842 37.0849 37.085C33.0841 41.0857 27.6579 43.3333 22 43.3333ZM22 11.3333C21.4342 11.3333 20.8915 11.5581 20.4915 11.9582C20.0914 12.3583 19.8666 12.9009 19.8666 13.4667C19.8666 14.0325 20.0914 14.5751 20.4915 14.9752C20.8915 15.3752 21.4342 15.6 22 15.6C22.5658 15.6 23.1084 15.3752 23.5085 14.9752C23.9085 14.5751 24.1333 14.0325 24.1333 13.4667C24.1333 12.9009 23.9085 12.3583 23.5085 11.9582C23.1084 11.5581 22.5658 11.3333 22 11.3333ZM24.1333 19.8667C24.1333 19.3009 23.9085 18.7583 23.5085 18.3582C23.1084 17.9581 22.5658 17.7333 22 17.7333C21.4342 17.7333 20.8915 17.9581 20.4915 18.3582C20.0914 18.7583 19.8666 19.3009 19.8666 19.8667V30.5333C19.8666 31.0991 20.0914 31.6418 20.4915 32.0418C20.8915 32.4419 21.4342 32.6667 22 32.6667C22.5658 32.6667 23.1084 32.4419 23.5085 32.0418C23.9085 31.6418 24.1333 31.0991 24.1333 30.5333V19.8667Z" fill="#005BF0"/></svg>',popupClose:'<svg  width="14" height="14" viewBox="0 0 14 14" fill="none"><path opacity="0.7" d="M13.8586 1.41L8.33929 6.92929L8.26858 7L8.33929 7.07071L13.8586 12.59L12.59 13.8586L7.07071 8.33929L7 8.26858L6.92929 8.33929L1.41 13.8586L0.141422 12.59L5.66071 7.07071L5.73142 7L5.66071 6.92929L0.141421 1.41L1.41 0.141421L6.92929 5.66071L7 5.73142L7.07071 5.66071L12.59 0.141422L13.8586 1.41Z" fill="black" stroke="black" stroke-width="0.2"/></svg>',popupWarning:'<svg width="44" height="40" viewBox="0 0 44 40" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M37.9337 38.9261L5.9348 39.0691C1.22227 39.0904 -0.681735 35.8019 1.682 31.7251L17.8431 3.85201C20.2068 -0.224788 24.0244 -0.216255 26.3711 3.87121L42.2196 31.4872C44.5652 35.5747 42.6463 38.9048 37.9337 38.9261ZM21.9071 28.4408C20.7284 28.4408 19.7737 29.3965 19.7737 30.5741C19.7737 31.7517 20.7295 32.7075 21.9071 32.7075C23.0847 32.7075 24.0404 31.7517 24.0404 30.5741C24.0404 29.3965 23.0847 28.4408 21.9071 28.4408ZM21.9071 26.3075C23.0847 26.3075 24.0404 25.3517 24.0404 24.1741V15.6408C24.0404 14.4632 23.0847 13.5075 21.9071 13.5075C20.7295 13.5075 19.7737 14.4632 19.7737 15.6408V24.1741C19.7737 25.3528 20.7295 26.3075 21.9071 26.3075Z" fill="#FFAB00"/></svg>',popupError:'<svg width="44" height="40" viewBox="0 0 44 40" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M37.9337 38.9261L5.93477 39.0691C1.22223 39.0904 -0.681765 35.8019 1.68197 31.7251L17.843 3.85201C20.2068 -0.224788 24.0244 -0.216255 26.371 3.87121L42.2196 31.4872C44.5652 35.5747 42.6462 38.9048 37.9337 38.9261ZM21.907 28.4408C20.7284 28.4408 19.7737 29.3965 19.7737 30.5741C19.7737 31.7517 20.7294 32.7075 21.907 32.7075C23.0846 32.7075 24.0404 31.7517 24.0404 30.5741C24.0404 29.3965 23.0846 28.4408 21.907 28.4408ZM21.907 26.3075C23.0846 26.3075 24.0404 25.3517 24.0404 24.1741V15.6408C24.0404 14.4632 23.0846 13.5075 21.907 13.5075C20.7294 13.5075 19.7737 14.4632 19.7737 15.6408V24.1741C19.7737 25.3528 20.7294 26.3075 21.907 26.3075Z" fill="#DE350B"/></svg>',popupSuccess:'<svg width="44" height="43" viewBox="0 0 44 43" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M22.3387 42.68C19.5162 42.7116 16.7155 42.1829 14.0987 41.1246C11.482 40.0663 9.10113 38.4995 7.09409 36.5147C5.08704 34.53 3.49365 32.1668 2.40619 29.562C1.31872 26.9573 0.758774 24.1627 0.758774 21.34C0.758774 18.5173 1.31872 15.7227 2.40619 13.118C3.49365 10.5132 5.08704 8.15003 7.09409 6.1653C9.10113 4.18056 11.482 2.61369 14.0987 1.55541C16.7155 0.497126 19.5162 -0.0315459 22.3387 5.92438e-06C27.9571 0.0628127 33.324 2.33878 37.2748 6.33398C41.2256 10.3292 43.4414 15.7213 43.4414 21.34C43.4414 26.9588 41.2256 32.3508 37.2748 36.346C33.324 40.3412 27.9571 42.6172 22.3387 42.68ZM19.2027 26.4267L13.6347 21.552L11 24.5653L19.6533 32.1333L34.2987 14.56L31.224 12L19.2027 26.4267Z" fill="#14B872"/></svg>',refresh:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 31 25" fill="none" ><path fill-rule="evenodd" clip-rule="evenodd" d="M15.4902 22.7C21.1235 22.7 25.6902 18.1333 25.6902 12.5C25.6902 12.1626 25.6739 11.829 25.6418 11.5H27.9508C27.9769 11.8299 27.9902 12.1634 27.9902 12.5C27.9902 19.4036 22.3938 25 15.4902 25C12.548 25 9.84315 23.9835 7.70781 22.2824L9.34699 20.6432C11.0557 21.9343 13.1836 22.7 15.4902 22.7ZM5.33863 13.5C5.30662 13.171 5.29023 12.8374 5.29023 12.5C5.29023 6.8667 9.85693 2.3 15.4902 2.3C17.9291 2.3 20.1681 3.15598 21.9231 4.5839L21.9902 4.5L23.5474 2.94285C21.3716 1.10668 18.5602 0 15.4902 0C8.58668 0 2.99023 5.59644 2.99023 12.5C2.99023 12.8366 3.00354 13.1701 3.02965 13.5H5.33863Z" fill="#454560" /><path d="M26.8099 7.97679L23.1062 11.9319C23.0671 11.9829 23.0637 12.0485 23.0965 12.1021C23.1298 12.1559 23.1941 12.189 23.2641 12.1881L30.7904 12.0969C30.8604 12.096 30.9241 12.0613 30.956 12.0068C30.97 11.9826 30.9768 11.9561 30.9765 11.93C30.9761 11.8972 30.9644 11.8648 30.9421 11.8369L27.1196 7.97303C27.0838 7.92885 27.0258 7.90305 26.9639 7.9038C26.902 7.90455 26.8445 7.93192 26.8099 7.97679Z" fill="#454560" /><path d="M4.16431 17.1151L7.8721 13.1638C7.91124 13.1128 7.91465 13.0472 7.88187 12.9936C7.84872 12.9398 7.78437 12.9066 7.71438 12.9074L0.188057 12.9909C0.118062 12.9917 0.0542772 13.0263 0.0223269 13.0808C0.00829369 13.105 0.00143566 13.1314 0.00172616 13.1576C0.00208975 13.1904 0.0137412 13.2228 0.0360681 13.2507L3.8546 17.1185C3.89028 17.1627 3.94834 17.1886 4.01025 17.1879C4.07215 17.1872 4.12962 17.1599 4.16431 17.1151Z" fill="#454560" /></svg>',close_panel:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 18 18" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.7133 8.54133L17.3653 15.1933C17.5729 15.4009 17.6895 15.6824 17.6895 15.976C17.6895 16.2696 17.5729 16.5511 17.3653 16.7587C17.1577 16.9662 16.8762 17.0829 16.5826 17.0829C16.2891 17.0829 16.0076 16.9662 15.8 16.7587L9.14798 10.1053L2.49731 16.7573C2.39453 16.8601 2.27251 16.9416 2.13822 16.9973C2.00393 17.0529 1.86 17.0815 1.71465 17.0815C1.56929 17.0815 1.42536 17.0529 1.29107 16.9973C1.15678 16.9416 1.03476 16.8601 0.931979 16.7573C0.829198 16.6546 0.747667 16.5325 0.692043 16.3982C0.636418 16.2639 0.607788 16.12 0.607788 15.9747C0.607788 15.8293 0.636418 15.6854 0.692043 15.5511C0.747667 15.4168 0.829198 15.2948 0.931979 15.192L7.58265 8.54133L0.931979 1.88933C0.724403 1.68176 0.607788 1.40022 0.607788 1.10667C0.607788 0.81311 0.724403 0.531577 0.931979 0.324001C1.13956 0.116425 1.42109 -0.000190733 1.71465 -0.000190735C2.0082 -0.000190737 2.28974 0.116425 2.49731 0.324001L9.14798 6.97733L15.8 0.324001C16.0076 0.116425 16.2891 -0.000190735 16.5826 -0.000190735C16.8762 -0.000190735 17.1577 0.116425 17.3653 0.324001C17.5729 0.531577 17.6895 0.81311 17.6895 1.10667C17.6895 1.40022 17.5729 1.68176 17.3653 1.88933L10.7133 8.54133Z" fill="#555555"/></svg>',subfolder:'<svg  width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"/><path d="M28.2 15.6733V18.4667H11.8V13.0067C11.8 12.9091 11.8669 12.8667 11.906 12.8667H18.5C18.539 12.8667 18.606 12.9092 18.606 13.0067V15.3333V15.5333H18.806H28.094C28.1331 15.5333 28.2 15.5758 28.2 15.6733ZM28.094 14.4667H19.606V13.0067C19.606 12.3616 19.1296 11.8 18.5 11.8H11.906C11.2764 11.8 10.8 12.3612 10.8 13.0067V18.6667V19.3333V27.66C10.8 28.3051 11.2764 28.8667 11.906 28.8667H28.094C28.7232 28.8667 29.2 28.3055 29.2 27.66V19.3333V18.6667V15.6733C29.2 15.0279 28.7236 14.4667 28.094 14.4667ZM28.2 27.66C28.2 27.7576 28.1331 27.8 28.094 27.8H11.906C11.8669 27.8 11.8 27.7576 11.8 27.66V19.5333H28.2V27.66Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.4"/><path d="M19.5667 24.36V24.2H30.433C30.4332 24.2011 30.4333 24.2025 30.4333 24.204V24.36H19.5667ZM30.4463 23.4H24.337V22.604C24.337 22.1773 24.0153 21.8 23.5833 21.8H19.5537C19.1218 21.8 18.8 22.1771 18.8 22.604V26V26.4V31.396C18.8 31.8227 19.1217 32.2 19.5537 32.2H30.4463C30.878 32.2 31.2 31.823 31.2 31.396V26.4V26V24.204C31.2 23.7771 30.8783 23.4 30.4463 23.4Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.4"/></svg>',search:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 18 19" fill="none" ><path d="M12.8812 11.6585L12.5653 12.0625H13.0781H13.6512C13.8108 12.0625 13.9614 12.1247 14.072 12.2354L17.5762 15.7395C17.5763 15.7397 17.5765 15.7398 17.5767 15.74C17.8066 15.9729 17.8064 16.3494 17.5736 16.5822L16.5787 17.5771L16.5777 17.5781C16.3492 17.8091 15.9738 17.8105 15.7404 17.5771L12.2354 14.0721C12.1247 13.9614 12.0625 13.8108 12.0625 13.6512V13.0781V12.5653L11.6585 12.8812C10.46 13.8182 8.95292 14.375 7.3125 14.375C3.41112 14.375 0.25 11.2139 0.25 7.3125C0.25 3.41112 3.41112 0.25 7.3125 0.25C11.2139 0.25 14.375 3.41112 14.375 7.3125C14.375 8.95292 13.8182 10.46 12.8812 11.6585ZM2.5625 7.3125C2.5625 9.93976 4.68901 12.0625 7.3125 12.0625C9.93976 12.0625 12.0625 9.93599 12.0625 7.3125C12.0625 4.68524 9.93599 2.5625 7.3125 2.5625C4.68524 2.5625 2.5625 4.68901 2.5625 7.3125Z" fill="#6f708b" stroke="#acadc1" stroke-width="0.5"/></svg>',search_close:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 14 14" fill="none" ><path d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z" fill="black" fill-opacity="0.7" /><path d="M8.37464 7.03536L13.9293 12.59L12.59 13.9293L7.03536 8.37464L7 8.33929L6.96464 8.37464L1.41 13.9293L0.0707109 12.59L5.62536 7.03536L5.66071 7L5.62536 6.96464L0.0707107 1.41L1.41 0.0707107L6.96464 5.62536L7 5.66071L7.03536 5.62536L12.59 0.0707109L13.9293 1.41L8.37464 6.96464L8.33929 7L8.37464 7.03536Z" stroke="black" stroke-opacity="0.7" stroke-width="0.1" /></svg>',unpublish:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" ><rect x="1" y="4" width="16" height="1.5" fill="#FFFFFF"/><path d="M13.0699 13.1582L13.143 13.0868L13.0699 13.0153L12.3342 12.2955L12.2643 12.2271L12.1944 12.2955L9.62021 14.8139V8V7.9H9.52021L8.47979 7.9H8.37979V8V14.8139L5.80564 12.2955L5.73571 12.2271L5.66577 12.2955L4.93007 13.0153L4.857 13.0868L4.93007 13.1582L8.93007 17.0715L9 17.1399L9.06993 17.0715L13.0699 13.1582Z" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="0.2"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2 1.5H16C16.2761 1.5 16.5 1.72386 16.5 2V14C16.5 14.2761 16.2761 14.5 16 14.5H14V16H16C17.1046 16 18 15.1046 18 14V2C18 0.895431 17.1046 0 16 0H2C0.895431 0 0 0.895431 0 2V14C0 15.1046 0.89543 16 2 16H4V14.5H2C1.72386 14.5 1.5 14.2761 1.5 14V2C1.5 1.72386 1.72386 1.5 2 1.5Z" fill="#FFFFFF"/></svg>',publish:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" ><path d="M4.93007 11.8418L4.857 11.9132L4.93007 11.9847L5.66577 12.7045L5.73571 12.7729L5.80564 12.7045L8.37979 10.1861V17V17.1H8.47979H9.52021H9.62021V17V10.1861L12.1944 12.7045L12.2643 12.7729L12.3342 12.7045L13.0699 11.9847L13.143 11.9132L13.0699 11.8418L9.06993 7.92852L9 7.8601L8.93007 7.92852L4.93007 11.8418Z" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="0.2"/><rect x="1" y="4" width="16" height="1.5" fill="#FFFFFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2 1.5H16C16.2761 1.5 16.5 1.72386 16.5 2V14C16.5 14.2761 16.2761 14.5 16 14.5H14V16H16C17.1046 16 18 15.1046 18 14V2C18 0.895431 17.1046 0 16 0H2C0.895431 0 0 0.895431 0 2V14C0 15.1046 0.89543 16 2 16H4V14.5H2C1.72386 14.5 1.5 14.2761 1.5 14V2C1.5 1.72386 1.72386 1.5 2 1.5Z" fill="#FFFFFF"/></svg>',help_center:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" overflow="visible" preserveAspectRatio="none" viewBox="0 0 514 514"><g transform="translate(1, 1)"><path d="M256 340c-15.464 0-28 12.536-28 28s12.536 28 28 28 28-12.536 28-28-12.536-28-28-28zm7.67-24h-16c-6.627 0-12-5.373-12-12v-.381c0-70.343 77.44-63.619 77.44-107.408 0-20.016-17.761-40.211-57.44-40.211-29.144 0-44.265 9.649-59.211 28.692-3.908 4.98-11.054 5.995-16.248 2.376l-13.134-9.15c-5.625-3.919-6.86-11.771-2.645-17.177C185.658 133.514 210.842 116 255.67 116c52.32 0 97.44 29.751 97.44 80.211 0 67.414-77.44 63.849-77.44 107.408V304c0 6.627-5.373 12-12 12zM256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8z" vector-effect="non-scaling-stroke" fill="#454560" /></g></svg>',navbar:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100"  width="23" height="17" viewBox="0 0 23 17" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 2.5C0.559644 2.5 0 1.94036 0 1.25C0 0.559644 0.559645 0 1.25 0H21.25C21.9404 0 22.5 0.559644 22.5 1.25C22.5 1.94036 21.9404 2.5 21.25 2.5H1.25ZM0 8.5C0 9.19036 0.559645 9.75 1.25 9.75H21.25C21.9404 9.75 22.5 9.19036 22.5 8.5C22.5 7.80964 21.9404 7.25 21.25 7.25H1.25C0.559644 7.25 0 7.80964 0 8.5ZM0 15.75C0 16.4404 0.559645 17 1.25 17H21.25C21.9404 17 22.5 16.4404 22.5 15.75C22.5 15.0596 21.9404 14.5 21.25 14.5H1.25C0.559644 14.5 0 15.0596 0 15.75Z" fill="#454560"></path></svg>',filter_mplayer:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" width="32" height="32" viewBox="0 0 32 32" fill="none"><rect class="mgPlayerJSProd_icon-bg" width="32" height="32" rx="4" /><path d="M6.57328 10.28H7.99995C8.20163 10.8289 8.61116 11.2764 9.14005 11.5259C9.66895 11.7753 10.2748 11.8068 10.8266 11.6133C11.1338 11.5038 11.4128 11.3273 11.6434 11.0967C11.874 10.8661 12.0504 10.5871 12.1599 10.28H25.3733C25.5726 10.28 25.7639 10.2018 25.906 10.0621C26.0482 9.92244 26.1298 9.73254 26.1333 9.53329C26.1299 9.3328 26.0487 9.14148 25.9069 8.99968C25.7651 8.85789 25.5738 8.77672 25.3733 8.77329H12.2266C12.131 8.48997 11.9796 8.22867 11.7813 8.0048C11.5831 7.78092 11.3421 7.599 11.0724 7.46976C10.8027 7.34053 10.5099 7.26659 10.2112 7.25231C9.91256 7.23803 9.61404 7.2837 9.33328 7.38663C9.02836 7.50015 8.75146 7.678 8.52139 7.90807C8.29132 8.13814 8.11347 8.41504 7.99995 8.71996H6.57328C6.37404 8.72346 6.18414 8.80507 6.04448 8.94722C5.90482 9.08937 5.82658 9.28068 5.82661 9.47996C5.81928 9.58241 5.83316 9.68526 5.86738 9.7821C5.9016 9.87894 5.95544 9.96768 6.02552 10.0428C6.0956 10.1178 6.18042 10.1777 6.27467 10.2185C6.36892 10.2593 6.47057 10.2802 6.57328 10.28ZM10.1066 8.77329C10.3071 8.77672 10.4984 8.85789 10.6402 8.99968C10.782 9.14148 10.8632 9.3328 10.8666 9.53329C10.8631 9.73254 10.7815 9.92244 10.6394 10.0621C10.4972 10.2018 10.3059 10.28 10.1066 10.28C10.0063 10.2835 9.90637 10.2669 9.81268 10.231C9.71899 10.195 9.6335 10.1406 9.56132 10.0709C9.48913 10.0012 9.43174 9.9177 9.39256 9.82533C9.35338 9.73295 9.33322 9.63363 9.33328 9.53329C9.33327 9.43236 9.35336 9.33243 9.39238 9.23934C9.43141 9.14625 9.48858 9.06187 9.56057 8.99112C9.63256 8.92037 9.71793 8.86467 9.81168 8.82727C9.90543 8.78987 10.0057 8.77152 10.1066 8.77329ZM25.4266 15.2533H23.9999C23.8012 14.7022 23.392 14.2524 22.8622 14.0025C22.3323 13.7525 21.725 13.7229 21.1733 13.92C20.8652 14.0278 20.5853 14.2037 20.3545 14.4345C20.1237 14.6653 19.9478 14.9452 19.8399 15.2533H6.57328C6.37525 15.2533 6.18534 15.332 6.04531 15.472C5.90528 15.612 5.82661 15.8019 5.82661 16C5.82661 16.198 5.90528 16.3879 6.04531 16.5279C6.18534 16.668 6.37525 16.7466 6.57328 16.7466H19.7866C19.937 17.1859 20.2209 17.5672 20.5986 17.8371C20.9763 18.1071 21.429 18.2522 21.8933 18.2522C22.3576 18.2522 22.8102 18.1071 23.188 17.8371C23.5657 17.5672 23.8496 17.1859 23.9999 16.7466H25.4266C25.6246 16.7466 25.8146 16.668 25.9546 16.5279C26.0946 16.3879 26.1733 16.198 26.1733 16C26.1733 15.8019 26.0946 15.612 25.9546 15.472C25.8146 15.332 25.6246 15.2533 25.4266 15.2533ZM21.8933 16.7466C21.6953 16.7466 21.5053 16.668 21.3653 16.5279C21.2253 16.3879 21.1466 16.198 21.1466 16C21.1466 15.8019 21.2253 15.612 21.3653 15.472C21.5053 15.332 21.6953 15.2533 21.8933 15.2533C22.0913 15.2533 22.2812 15.332 22.4213 15.472C22.5613 15.612 22.6399 15.8019 22.6399 16C22.6399 16.198 22.5613 16.3879 22.4213 16.5279C22.2812 16.668 22.0913 16.7466 21.8933 16.7466ZM25.4266 21.72H15.2266C15.0728 21.2822 14.7869 20.9031 14.4083 20.6348C14.0298 20.3666 13.5772 20.2225 13.1133 20.2225C12.6493 20.2225 12.1968 20.3666 11.8182 20.6348C11.4397 20.9031 11.1538 21.2822 10.9999 21.72H6.57328C6.37525 21.72 6.18534 21.7986 6.04531 21.9387C5.90528 22.0787 5.82661 22.2686 5.82661 22.4666C5.82661 22.6647 5.90528 22.8546 6.04531 22.9946C6.18534 23.1346 6.37525 23.2133 6.57328 23.2133H10.9999C11.1436 23.6591 11.4249 24.0478 11.8035 24.3235C12.182 24.5992 12.6383 24.7478 13.1066 24.7478C13.5749 24.7478 14.0312 24.5992 14.4098 24.3235C14.7883 24.0478 15.0696 23.6591 15.2133 23.2133H25.4266C25.6246 23.2133 25.8146 23.1346 25.9546 22.9946C26.0946 22.8546 26.1733 22.6647 26.1733 22.4666C26.1733 22.2686 26.0946 22.0787 25.9546 21.9387C25.8146 21.7986 25.6246 21.72 25.4266 21.72ZM13.1066 23.2133C12.9086 23.2133 12.7187 23.1346 12.5786 22.9946C12.4386 22.8546 12.3599 22.6647 12.3599 22.4666C12.3599 22.2686 12.4386 22.0787 12.5786 21.9387C12.7187 21.7986 12.9086 21.72 13.1066 21.72C13.3059 21.7199 13.4972 21.7982 13.6394 21.9378C13.7815 22.0775 13.8631 22.2674 13.8666 22.4666C13.8631 22.6659 13.7815 22.8558 13.6394 22.9954C13.4972 23.1351 13.3059 23.2133 13.1066 23.2133Z" fill="#555555"/></svg>',replay_guide:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 423.73 390"><g data-name="Layer 2"><g><path d="M228.73,0C126.33,0,42.11,79.35,34.32,179.79H8.4a8.38,8.38,0,0,0-7,13l37.91,56.86a8.38,8.38,0,0,0,14,0l37.91-56.86a8.38,8.38,0,0,0-7-13H54.4C62.14,90.39,137.37,20,228.73,20c96.5,0,175,78.5,175,175s-78.5,175-175,175a174.75,174.75,0,0,1-133.9-62.32,10,10,0,1,0-15.3,12.88A194.71,194.71,0,0,0,228.73,390c107.53,0,195-87.48,195-195S336.26,0,228.73,0Z" /><path d="M205.82,259.06,292,201.58a8.38,8.38,0,0,0,0-14l-86.22-57.48a8.38,8.38,0,0,0-13,7v115A8.38,8.38,0,0,0,205.82,259.06Z" /></g></g></svg>',resume_guide:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" overflow="visible" preserveAspectRatio="none" viewBox="0 0 9.890675 10.000010000000001" width="9.890675" height="10.000010000000001"><g transform="translate(0, 0)"><g transform="translate(0, 0) rotate(0)"><path d="M0.81549,0c-0.45038,0 -0.81549,0.36511 -0.81549,0.81549v8.36903c0,0.45038 0.36511,0.81549 0.81549,0.81549v0c0.45038,0 0.81549,-0.36511 0.81549,-0.81549v-8.36903c0,-0.45038 -0.36511,-0.81549 -0.81549,-0.81549zM4.82496,1.06482c-0.86323,-0.58808 -1.56302,-0.21807 -1.56302,0.82644v6.21747c0,1.04452 0.69979,1.41453 1.56302,0.82644l4.56323,-3.10874c0.66998,-0.45643 0.66998,-1.19645 0,-1.65289z" vector-effect="non-scaling-stroke" /></g><defs><path d="M0.81549,0c-0.45038,0 -0.81549,0.36511 -0.81549,0.81549v8.36903c0,0.45038 0.36511,0.81549 0.81549,0.81549v0c0.45038,0 0.81549,-0.36511 0.81549,-0.81549v-8.36903c0,-0.45038 -0.36511,-0.81549 -0.81549,-0.81549zM4.82496,1.06482c-0.86323,-0.58808 -1.56302,-0.21807 -1.56302,0.82644v6.21747c0,1.04452 0.69979,1.41453 1.56302,0.82644l4.56323,-3.10874c0.66998,-0.45643 0.66998,-1.19645 0,-1.65289z" vector-effect="non-scaling-stroke" /></defs></g></svg>',branch_head_icon:'<svg width="26px" height="19px" viewBox="0 0 26 19" version="1.1" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.5"><g transform="translate(-708.000000, -287.000000)" fill="#FFFFFF" fill-rule="nonzero"><g transform="translate(721.000000, 296.375000) scale(1, -1) rotate(90.000000) translate(-721.000000, -296.375000) translate(712.000000, 284.000000)"><path d="M17.9743355,3.54499151 C17.9743355,5.50285655 16.387209,7.08998302 14.429344,7.08998302 C12.4714789,7.08998302 10.8843525,5.50285655 10.8843525,3.54499151 C10.8843525,1.58714746 12.4714885,-1.50990331e-14 14.429344,-1.50990331e-14 C16.3871994,-1.50990331e-14 17.9743355,1.58714746 17.9743355,3.54499151 Z M16.7519246,3.54499151 C16.7519246,2.26226437 15.7120786,1.22241087 14.429344,1.22241087 C13.1466093,1.22241087 12.1067633,2.26226437 12.1067633,3.54499151 C12.1067633,4.82773767 13.1465978,5.86757216 14.429344,5.86757216 C15.7120901,5.86757216 16.7519246,4.82773767 16.7519246,3.54499151 Z"></path><polygon points="2.93378608 6.47877759 4.15619694 6.47877759 4.15619694 18.2444822 2.93378608 18.2444822"></polygon><path d="M7.08998302,3.54499151 C7.08998302,5.50285655 5.50285655,7.08998302 3.54499151,7.08998302 C1.58712647,7.08998302 -1.03828057e-12,5.50285655 -1.03828057e-12,3.54499151 C-1.03828057e-12,1.58714746 1.58713604,-1.50990331e-14 3.54499151,-1.50990331e-14 C5.50284698,-1.50990331e-14 7.08998302,1.58714746 7.08998302,3.54499151 Z M5.86757216,3.54499151 C5.86757216,2.26226437 4.82772614,1.22241087 3.54499151,1.22241087 C2.26225689,1.22241087 1.22241087,2.26226437 1.22241087,3.54499151 C1.22241087,4.82773767 2.26224535,5.86757216 3.54499151,5.86757216 C4.82773767,5.86757216 5.86757216,4.82773767 5.86757216,3.54499151 Z"></path><path d="M7.08998302,21.1782835 C7.08998302,23.1361276 5.50284698,24.723275 3.54499151,24.723275 C1.58713604,24.723275 -1.03828057e-12,23.1361276 -1.03828057e-12,21.1782835 C-1.03828057e-12,19.2204185 1.58712647,17.633292 3.54499151,17.633292 C5.50285655,17.633292 7.08998302,19.2204185 7.08998302,21.1782835 Z M5.86757216,21.1782835 C5.86757216,19.8955374 4.82773767,18.8557029 3.54499151,18.8557029 C2.26224535,18.8557029 1.22241087,19.8955374 1.22241087,21.1782835 C1.22241087,22.4610107 2.26225689,23.5008642 3.54499151,23.5008642 C4.82772614,23.5008642 5.86757216,22.4610107 5.86757216,21.1782835 Z"></path><path d="M13.8181385,8.63838031 L13.8181385,6.47877759 L15.0405494,6.47877759 L15.0405494,8.63838031 C15.0405494,10.5962244 13.4534134,12.1833718 11.4955579,12.1833718 L6.4787837,12.1833718 L6.4787837,10.960961 L11.4955579,10.960961 C12.7782925,10.960961 13.8181385,9.92110745 13.8181385,8.63838031 Z M6.47877759,10.960961 L6.47877759,12.1833718 C5.19603143,12.1833718 4.15619694,13.2232063 4.15619694,14.5059525 L2.93378608,14.5059525 C2.93378608,12.5480874 4.52091255,10.960961 6.47877759,10.960961 Z"></path></g></g></g></svg>',down_arrow_icon:'<svg width="10px" height="10px" version="1.1" class="mgPlayerJSProd_Layer_1" x="0px" y="0px" viewBox="0 0 386.257 386.257" style="enable-background:new 0 0 386.257 386.257;" xml:space="preserve"><polygon points="0,96.879 193.129,289.379 386.257,96.879 "></polygon></svg>',captureEvents:'<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 514 514" width="14" height="14"><g transform="translate(1, 1)"><path d="M432 352H320c-26.5 0-48-21.5-48-48s21.5-48 48-48h96s96-107 96-160-43-96-96-96-96 43-96 96c0 34.6 40.9 92.2 69.3 128H320c-44.1 0-80 35.9-80 80s35.9 80 80 80h112c26.5 0 48 21.5 48 48s-21.5 48-48 48H122.7c28.4-35.8 69.3-93.4 69.3-128 0-53-43-96-96-96S0 299 0 352s96 160 96 160h336c44.1 0 80-35.9 80-80s-35.9-80-80-80zM352 96c0-35.3 28.7-64 64-64s64 28.7 64 64c0 20.4-30.1 68-64 110.4-34-42.6-64-90.6-64-110.4zM32 352c0-35.3 28.7-64 64-64s64 28.7 64 64c0 20.4-30.1 68-64 110.4-34-42.6-64-90.6-64-110.4zm64-16c-21.2 0-21.1 32 0 32 21.2 0 21.1-32 0-32zM416 80c-21.2 0-21.1 32 0 32 21.2 0 21.1-32 0-32z" vector-effect="non-scaling-stroke" /></g></svg>',guide_bot_icon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M18.034 24.483H17.9981L17.9704 24.5059L16.2745 25.9068V24.583V24.483H16.1745H14.234C13.3191 24.483 12.5553 23.7192 12.5553 22.8043V14.234C12.5553 13.3133 13.3247 12.4745 14.234 12.4745H22.7234C23.6355 12.4745 24.4021 13.2353 24.4021 14.234V15.8511V15.9511H24.5021H25.8766H25.9766V15.8511V14.234C25.9766 12.4001 24.4765 10.9 22.6426 10.9H14.234C12.4001 10.9 10.9 12.4001 10.9 14.234V22.7234C10.9 24.5557 12.399 26.0588 14.2363 25.9766H14.7V28.8681V29.0733L14.8616 28.9468L16.7212 27.4915L18.5536 26.0574H19.2468H19.3945L19.3397 25.9203C19.1823 25.5269 19.1043 25.1353 19.1043 24.7447V24.583V24.483H19.0043H18.9234H18.034Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.2"/><path d="M27.8168 16.7404H21.9955C20.7827 16.7404 19.8125 17.7106 19.8125 18.9234V24.7447C19.8125 25.9574 20.7827 26.9277 21.9955 26.9277H24.9061L26.1189 27.8979L27.4125 28.9489V26.9277H27.8168C29.0295 26.9277 29.9997 25.9574 29.9997 24.7447V18.9234C29.9189 17.7106 28.9487 16.7404 27.8168 16.7404Z" fill="#ACADC1"/></svg>',guide_onboarding:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4" /><path d="M28.1938 12.9166C27.8336 12.7648 26.0037 11.9831 24.0812 12.0003C21.9125 12.0453 20.4312 12.8737 20 13.1451C19.5688 12.8737 18.0875 12.0453 15.9187 12.0024C14.0544 11.9684 12.1531 12.7723 11.8063 12.9187C11.325 13.1237 11 13.6593 11 14.2592V25.9072C11 26.6535 11.6312 27.2241 12.2887 26.9942C13.3156 26.6306 14.2787 26.4916 15.1519 26.4916C17.9612 26.4916 19.8331 27.9306 19.8575 27.9492C19.9461 28.0177 20.0557 28.0162 20.1417 27.9492C20.1662 27.9301 22.0379 26.4916 24.8473 26.4916C25.7204 26.4916 26.6836 26.6306 27.7104 26.9942C28.3188 27.2284 29 26.6499 29 25.9072V14.2592C29 13.6593 28.675 13.1237 28.1938 12.9166ZM19.5 26.4428C18.5981 25.9605 17.0963 25.348 15.1525 25.348C14.0938 25.348 13.0306 25.5343 12 25.9063V14.2592C12 14.1386 12.0629 14.0281 12.1538 13.9899C13.4688 13.4379 14.75 13.1451 15.9062 13.1451C17.825 13.1808 19.1313 13.9021 19.5 14.1378V26.4428ZM28 25.9072C26.9694 25.5352 25.9069 25.3489 24.8475 25.3489C22.9031 25.3489 21.4012 25.9613 20.5 26.4437V14.1378C20.8687 13.9021 22.175 13.1808 24.0938 13.1451C25.2463 13.1451 26.5325 13.4375 27.8444 13.9907C27.8813 14.0306 28 14.1378 28 14.2592V25.9072Z" fill="#ACADC1" stroke-width="0.2" /></svg>',guide_beacon:'<svg width="12px" height="12px" viewBox="0 0 12 12" version="1.1"  ><g class="mgPlayerJSProd_Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="mgPlayerJSProd_02-Guide-list-along-with-beacon_sample-2" transform="translate(-407.000000, -242.000000)"><g class="mgPlayerJSProd_Group" transform="translate(408.000000, 243.000000)"><circle class="mgPlayerJSProd_combined-shape" fill="#9476c9" cx="5" cy="5" r="4.375"></circle><circle class="mgPlayerJSProd_Oval" stroke="#FFFFFF" stroke-width="2" cx="5" cy="5" r="5"></circle></g></g></g></svg>',play_teachme:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 17 17" version="1.1"><g fill="#005BF0"><path d="M2 3C2 3.39556 2.1173 3.78224 2.33706 4.11114C2.55683 4.44004 2.86918 4.69638 3.23463 4.84776C3.60009 4.99914 4.00222 5.03874 4.39018 4.96157C4.77814 4.8844 5.13451 4.69392 5.41421 4.41421C5.69392 4.13451 5.8844 3.77814 5.96157 3.39018C6.03874 3.00222 5.99914 2.60009 5.84776 2.23463C5.69638 1.86918 5.44004 1.55683 5.11114 1.33706C4.78225 1.1173 4.39556 1 4 1C3.46971 1.00045 2.96126 1.2113 2.58628 1.58628C2.21131 1.96125 2.00045 2.46971 2 3ZM5.15541 3C5.15541 3.22852 5.08764 3.4519 4.96069 3.64191C4.83373 3.83191 4.65328 3.98001 4.44216 4.06746C4.23103 4.15491 3.99872 4.17778 3.77459 4.13321C3.55046 4.08863 3.34459 3.97858 3.18301 3.817C3.02142 3.65541 2.91138 3.44954 2.8668 3.22541C2.82222 3.00128 2.8451 2.76897 2.93255 2.55785C3.02 2.34672 3.16809 2.16627 3.35809 2.03931C3.5481 1.91236 3.77148 1.84459 4 1.84459C4.30629 1.84504 4.59992 1.96692 4.8165 2.1835C5.03308 2.40008 5.15496 2.69371 5.15541 3Z" fill="#005BF0" /><path d="M2 3C2 3.39556 2.1173 3.78224 2.33706 4.11114C2.55683 4.44004 2.86918 4.69638 3.23463 4.84776C3.60009 4.99914 4.00222 5.03874 4.39018 4.96157C4.77814 4.8844 5.13451 4.69392 5.41421 4.41421C5.69392 4.13451 5.8844 3.77814 5.96157 3.39018C6.03874 3.00222 5.99914 2.60009 5.84776 2.23463C5.69638 1.86918 5.44004 1.55683 5.11114 1.33706C4.78225 1.1173 4.39556 1 4 1C3.46971 1.00045 2.96126 1.2113 2.58628 1.58628C2.21131 1.96125 2.00045 2.46971 2 3ZM5.15541 3C5.15541 3.22852 5.08764 3.4519 4.96069 3.64191C4.83373 3.83191 4.65328 3.98001 4.44216 4.06746C4.23103 4.15491 3.99872 4.17778 3.77459 4.13321C3.55046 4.08863 3.34459 3.97858 3.18301 3.817C3.02142 3.65541 2.91138 3.44954 2.8668 3.22541C2.82222 3.00128 2.8451 2.76897 2.93255 2.55785C3.02 2.34672 3.16809 2.16627 3.35809 2.03931C3.5481 1.91236 3.77148 1.84459 4 1.84459C4.30629 1.84504 4.59992 1.96692 4.8165 2.1835C5.03308 2.40008 5.15496 2.69371 5.15541 3Z" stroke="#005BF0" stroke-width="0.2" /><path d="M1.35428 9.68552C1.37787 9.91784 1.45201 10.1407 1.57056 10.3356C1.6891 10.5306 1.84865 10.692 2.03598 10.8066L2.58986 15.214C2.61253 15.4302 2.70756 15.6298 2.85684 15.7748C3.00613 15.9197 3.19924 15.9999 3.39938 16H4.31968C4.52004 15.9998 4.71333 15.9195 4.86265 15.7742C5.01196 15.6289 5.10686 15.4289 5.12919 15.2124L5.40187 12.5115L5.94439 8.00227L6.55222 8.5474C6.72459 8.70216 6.94046 8.78807 7.16396 8.79087C7.38746 8.79368 7.60512 8.7132 7.7807 8.56284L9.61277 6.99232C9.80497 6.83121 9.93637 6.59922 9.98213 6.3401C10.0279 6.08096 9.98497 5.81257 9.8613 5.5855C9.78924 5.45726 9.69293 5.34708 9.57884 5.26224C9.46475 5.17739 9.33541 5.11979 9.19933 5.09324C9.06331 5.06668 8.9236 5.07178 8.78947 5.10818C8.65534 5.14458 8.52983 5.21147 8.42121 5.30444L7.18847 6.36072L5.94439 5.24421C5.7693 5.08697 5.54943 5.00072 5.32234 5.00022H4.75426C4.69118 4.99808 4.62849 5.01156 4.57091 5.03966C4.51334 5.06775 4.46239 5.10971 4.42193 5.16237L3.85385 5.92523L3.29997 5.17009C3.26139 5.11692 3.21218 5.07399 3.15608 5.04455C3.09998 5.01512 3.03845 4.99996 2.97616 5.00022H2.54016C2.32264 5.00034 2.10761 5.05053 1.90922 5.14749C1.71082 5.24445 1.53355 5.38598 1.38907 5.56278C1.24458 5.73958 1.13616 5.94763 1.07093 6.17326C1.00569 6.39889 0.985132 6.63697 1.01059 6.87187L1.35428 9.68552ZM1.92237 6.07503C1.99938 5.97815 2.09467 5.90043 2.20176 5.84714C2.30885 5.79385 2.42523 5.76623 2.543 5.76617H2.83556L3.47181 6.62942C3.5185 6.69314 3.5778 6.74456 3.64529 6.7799C3.71279 6.81531 3.78674 6.83367 3.86166 6.83367C3.93658 6.83367 4.01053 6.81531 4.07803 6.7799C4.14552 6.74456 4.20481 6.69314 4.25151 6.62942L4.88918 5.76463H5.32376C5.38599 5.76425 5.44635 5.78777 5.49419 5.83103L6.96408 7.15447C7.02725 7.20989 7.10594 7.24009 7.18705 7.24009C7.26822 7.24009 7.34691 7.20989 7.41003 7.15447L8.86858 5.90516C8.91592 5.86468 8.97452 5.8429 9.03474 5.84339C9.08098 5.84343 9.12637 5.85638 9.16667 5.88099C9.20696 5.90559 9.24078 5.94103 9.26482 5.98392C9.29753 6.04987 9.307 6.12649 9.29159 6.19949C9.27618 6.27251 9.23689 6.33694 9.18103 6.38079L7.34044 7.95594C7.29236 7.99661 7.23313 8.01874 7.17217 8.01874C7.1112 8.01874 7.05198 7.99661 7.00385 7.95594L5.90179 6.96607C5.85291 6.9222 5.79413 6.89332 5.73154 6.88251C5.66895 6.8717 5.60483 6.87925 5.54585 6.90447C5.48686 6.9297 5.43516 6.97162 5.39611 7.0259C5.35705 7.08018 5.33207 7.14481 5.32376 7.21315L4.69177 12.4204L4.42477 15.1275C4.42198 15.1553 4.40989 15.1811 4.39077 15.1999C4.37166 15.2187 4.34686 15.2292 4.3211 15.2294H3.39938C3.37244 15.2287 3.34671 15.2171 3.32726 15.1968C3.30782 15.1765 3.29605 15.149 3.29429 15.1198L2.71342 10.4947C2.70455 10.4256 2.67861 10.3603 2.63835 10.3059C2.59808 10.2515 2.545 10.21 2.48477 10.1859C2.36972 10.1404 2.26874 10.0608 2.19339 9.95593C2.11804 9.85104 2.07137 9.72521 2.05871 9.59286L1.70934 6.77767C1.69619 6.65064 1.70827 6.52206 1.74478 6.40057C1.78129 6.27909 1.84136 6.16755 1.92095 6.07348L1.92237 6.07503Z" fill="#005BF0" /><path d="M1.35428 9.68552C1.37787 9.91784 1.45201 10.1407 1.57056 10.3356C1.6891 10.5306 1.84865 10.692 2.03598 10.8066L2.58986 15.214C2.61253 15.4302 2.70756 15.6298 2.85684 15.7748C3.00613 15.9197 3.19924 15.9999 3.39938 16H4.31968C4.52004 15.9998 4.71333 15.9195 4.86265 15.7742C5.01196 15.6289 5.10686 15.4289 5.12919 15.2124L5.40187 12.5115L5.94439 8.00227L6.55222 8.5474C6.72459 8.70216 6.94046 8.78807 7.16396 8.79087C7.38746 8.79368 7.60512 8.7132 7.7807 8.56284L9.61277 6.99232C9.80497 6.83121 9.93637 6.59922 9.98213 6.3401C10.0279 6.08096 9.98497 5.81257 9.8613 5.5855C9.78924 5.45726 9.69293 5.34708 9.57884 5.26224C9.46475 5.17739 9.33541 5.11979 9.19933 5.09324C9.06331 5.06668 8.9236 5.07178 8.78947 5.10818C8.65534 5.14458 8.52983 5.21147 8.42121 5.30444L7.18847 6.36072L5.94439 5.24421C5.7693 5.08697 5.54943 5.00072 5.32234 5.00022H4.75426C4.69118 4.99808 4.62849 5.01156 4.57091 5.03966C4.51334 5.06775 4.46239 5.10971 4.42193 5.16237L3.85385 5.92523L3.29997 5.17009C3.26139 5.11692 3.21218 5.07399 3.15608 5.04455C3.09998 5.01512 3.03845 4.99996 2.97616 5.00022H2.54016C2.32264 5.00034 2.10761 5.05053 1.90922 5.14749C1.71082 5.24445 1.53355 5.38598 1.38907 5.56278C1.24458 5.73958 1.13616 5.94763 1.07093 6.17326C1.00569 6.39889 0.985132 6.63697 1.01059 6.87187L1.35428 9.68552ZM1.92237 6.07503C1.99938 5.97815 2.09467 5.90043 2.20176 5.84714C2.30885 5.79385 2.42523 5.76623 2.543 5.76617H2.83556L3.47181 6.62942C3.5185 6.69314 3.5778 6.74456 3.64529 6.7799C3.71279 6.81531 3.78674 6.83367 3.86166 6.83367C3.93658 6.83367 4.01053 6.81531 4.07803 6.7799C4.14552 6.74456 4.20481 6.69314 4.25151 6.62942L4.88918 5.76463H5.32376C5.38599 5.76425 5.44635 5.78777 5.49419 5.83103L6.96408 7.15447C7.02725 7.20989 7.10594 7.24009 7.18705 7.24009C7.26822 7.24009 7.34691 7.20989 7.41003 7.15447L8.86858 5.90516C8.91592 5.86468 8.97452 5.8429 9.03474 5.84339C9.08098 5.84343 9.12637 5.85638 9.16667 5.88099C9.20696 5.90559 9.24078 5.94103 9.26482 5.98392C9.29753 6.04987 9.307 6.12649 9.29159 6.19949C9.27618 6.27251 9.23689 6.33694 9.18103 6.38079L7.34044 7.95594C7.29236 7.99661 7.23313 8.01874 7.17217 8.01874C7.1112 8.01874 7.05198 7.99661 7.00385 7.95594L5.90179 6.96607C5.85291 6.9222 5.79413 6.89332 5.73154 6.88251C5.66895 6.8717 5.60483 6.87925 5.54585 6.90447C5.48686 6.9297 5.43516 6.97162 5.39611 7.0259C5.35705 7.08018 5.33207 7.14481 5.32376 7.21315L4.69177 12.4204L4.42477 15.1275C4.42198 15.1553 4.40989 15.1811 4.39077 15.1999C4.37166 15.2187 4.34686 15.2292 4.3211 15.2294H3.39938C3.37244 15.2287 3.34671 15.2171 3.32726 15.1968C3.30782 15.1765 3.29605 15.149 3.29429 15.1198L2.71342 10.4947C2.70455 10.4256 2.67861 10.3603 2.63835 10.3059C2.59808 10.2515 2.545 10.21 2.48477 10.1859C2.36972 10.1404 2.26874 10.0608 2.19339 9.95593C2.11804 9.85104 2.07137 9.72521 2.05871 9.59286L1.70934 6.77767C1.69619 6.65064 1.70827 6.52206 1.74478 6.40057C1.78129 6.27909 1.84136 6.16755 1.92095 6.07348L1.92237 6.07503Z" stroke="#005BF0" stroke-width="0.2" /><path d="M7 2.35418V4.9043C7 4.99823 7.03947 5.08832 7.10976 5.15474C7.18005 5.22116 7.27537 5.25848 7.37475 5.25848C7.47413 5.25848 7.56945 5.22116 7.63974 5.15474C7.71003 5.08832 7.7495 4.99823 7.7495 4.9043V2.70695H15.2565V9.6617H7.37475C7.27537 9.6617 7.18005 9.699 7.10976 9.76543C7.03947 9.83186 7 9.9219 7 10.0159C7 10.1098 7.03947 10.1999 7.10976 10.2663C7.18005 10.3328 7.27537 10.3701 7.37475 10.3701H11.1223V12.7275H8.78081C8.68116 12.7275 8.58339 12.7532 8.49806 12.8019C8.41272 12.8506 8.34305 12.9204 8.29664 13.0038L7.46169 14.48C7.43865 14.5211 7.42444 14.5661 7.41978 14.6124C7.41517 14.6587 7.42022 14.7055 7.43471 14.7499C7.4492 14.7944 7.4728 14.8357 7.50416 14.8716C7.53553 14.9074 7.57412 14.9371 7.61759 14.9589C7.66111 14.9806 7.70869 14.9941 7.75772 14.9984C7.80674 15.0028 7.85615 14.998 7.90323 14.9844C7.95026 14.9707 7.994 14.9484 8.03192 14.9187C8.06984 14.889 8.10121 14.8526 8.12425 14.8115L8.89474 13.4373H14.1038L14.8742 14.8115C14.8973 14.8526 14.9287 14.889 14.9666 14.9187C15.0045 14.9484 15.0482 14.9707 15.0953 14.9844C15.1423 14.998 15.1918 15.0028 15.2408 14.9984C15.2898 14.9941 15.3374 14.9806 15.3809 14.9589C15.4244 14.9371 15.463 14.9074 15.4943 14.8716C15.5257 14.8357 15.5493 14.7944 15.5638 14.7499C15.5783 14.7055 15.5833 14.6587 15.5787 14.6124C15.5741 14.5661 15.5598 14.5211 15.5368 14.48L14.7094 13.0038C14.6629 12.9204 14.5933 12.8506 14.508 12.8019C14.4227 12.7532 14.3248 12.7275 14.2252 12.7275H11.8777V10.3701H15.6252C15.7246 10.3701 15.82 10.3328 15.8902 10.2663C15.9605 10.1999 16 10.1098 16 10.0159V2.35418C16 2.26025 15.9605 2.17016 15.8902 2.10374C15.82 2.03732 15.7246 2 15.6252 2H7.37475C7.27537 2 7.18005 2.03732 7.10976 2.10374C7.03947 2.17016 7 2.26025 7 2.35418Z" fill="#005BF0" /><path d="M7 2.35418V4.9043C7 4.99823 7.03947 5.08832 7.10976 5.15474C7.18005 5.22116 7.27537 5.25848 7.37475 5.25848C7.47413 5.25848 7.56945 5.22116 7.63974 5.15474C7.71003 5.08832 7.7495 4.99823 7.7495 4.9043V2.70695H15.2565V9.6617H7.37475C7.27537 9.6617 7.18005 9.699 7.10976 9.76543C7.03947 9.83186 7 9.9219 7 10.0159C7 10.1098 7.03947 10.1999 7.10976 10.2663C7.18005 10.3328 7.27537 10.3701 7.37475 10.3701H11.1223V12.7275H8.78081C8.68116 12.7275 8.58339 12.7532 8.49806 12.8019C8.41272 12.8506 8.34305 12.9204 8.29664 13.0038L7.46169 14.48C7.43865 14.5211 7.42444 14.5661 7.41978 14.6124C7.41517 14.6587 7.42022 14.7055 7.43471 14.7499C7.4492 14.7944 7.4728 14.8357 7.50416 14.8716C7.53553 14.9074 7.57412 14.9371 7.61759 14.9589C7.66111 14.9806 7.70869 14.9941 7.75772 14.9984C7.80674 15.0028 7.85615 14.998 7.90323 14.9844C7.95026 14.9707 7.994 14.9484 8.03192 14.9187C8.06984 14.889 8.10121 14.8526 8.12425 14.8115L8.89474 13.4373H14.1038L14.8742 14.8115C14.8973 14.8526 14.9287 14.889 14.9666 14.9187C15.0045 14.9484 15.0482 14.9707 15.0953 14.9844C15.1423 14.998 15.1918 15.0028 15.2408 14.9984C15.2898 14.9941 15.3374 14.9806 15.3809 14.9589C15.4244 14.9371 15.463 14.9074 15.4943 14.8716C15.5257 14.8357 15.5493 14.7944 15.5638 14.7499C15.5783 14.7055 15.5833 14.6587 15.5787 14.6124C15.5741 14.5661 15.5598 14.5211 15.5368 14.48L14.7094 13.0038C14.6629 12.9204 14.5933 12.8506 14.508 12.8019C14.4227 12.7532 14.3248 12.7275 14.2252 12.7275H11.8777V10.3701H15.6252C15.7246 10.3701 15.82 10.3328 15.8902 10.2663C15.9605 10.1999 16 10.1098 16 10.0159V2.35418C16 2.26025 15.9605 2.17016 15.8902 2.10374C15.82 2.03732 15.7246 2 15.6252 2H7.37475C7.27537 2 7.18005 2.03732 7.10976 2.10374C7.03947 2.17016 7 2.26025 7 2.35418Z" stroke="#005BF0" stroke-width="0.2" /></g></svg>',play_testme:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 20 26" fill="none"><path d="M1.54651 21.1221V5.72034H3.75581V6.61319C3.75581 7.05962 4.08721 7.39444 4.52907 7.39444H12.0407C12.4826 7.39444 12.814 7.05962 12.814 6.61319V5.72034H15.0233V12.0819V14.3141H16.5698V12.64V5.05069C16.5698 4.60426 16.2384 4.26944 15.7965 4.26944H12.814V3.37659C12.814 2.93016 12.4826 2.59534 12.0407 2.59534H11.157C10.936 0.921228 9.5 -0.194843 7.84302 0.0283712C6.51744 0.139978 5.52326 1.25605 5.30232 2.59534H4.52907C4.08721 2.59534 3.75581 2.93016 3.75581 3.37659V4.26944H0.773256C0.331395 4.26944 0 4.60426 0 5.05069V21.9034C0 22.3498 0.331395 22.6846 0.773256 22.6846H9.38953V21.1221H6.73837H1.54651ZM8.28488 1.47926C8.94767 1.47926 9.5 1.92569 9.72093 2.59534H6.84884C6.9593 1.92569 7.62209 1.47926 8.28488 1.47926ZM5.19186 4.15784H11.2674V5.83194H5.19186V4.15784Z" fill="#005BF0" /><circle cx="12.5" cy="18.5" r="6.7" fill="white" stroke="#005BF0" stroke-width="1.6" /><path d="M11.6804 20.9037C11.6136 20.9655 11.5224 21 11.4277 21C11.333 21 11.2419 20.9655 11.1751 20.9037L9.15707 19.047C8.94764 18.8544 8.94764 18.542 9.15707 18.3497L9.40975 18.1172C9.61924 17.9246 9.95844 17.9246 10.1679 18.1172L11.4277 19.2762L14.8321 16.1445C15.0416 15.9518 15.3812 15.9518 15.5902 16.1445L15.8429 16.377C16.0524 16.5696 16.0524 16.882 15.8429 17.0743L11.6804 20.9037Z" fill="#005BF0" /></svg>',play_showme:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100"  viewBox="0 0 20 20"><path class="mgPlayerJSProd_showme-path" fill="#005BF0" fill-rule="nonzero" d="M4.305 7.133a3.81 3.81 0 1 1 .095 7.619 3.81 3.81 0 0 1-.095-7.619zm0 6.667v.029a2.857 2.857 0 0 0 2.857-2.886A2.857 2.857 0 1 0 4.305 13.8zm11.39-6.667a3.857 3.857 0 0 1 3.81 3.81 3.81 3.81 0 1 1-3.81-3.81zm0 6.667v.029a2.857 2.857 0 0 0 2.857-2.886 2.857 2.857 0 1 0-2.857 2.857zM10 8.638a.838.838 0 1 1 0-1.676.838.838 0 0 1 0 1.676zm3.429-1.152A4.162 4.162 0 0 0 11.505 11c0 .512.098 1.02.285 1.495a2.181 2.181 0 0 0-3.58 0 4.143 4.143 0 0 0-1.639-5.01h1.277a2.181 2.181 0 0 1 4.304 0h1.277zM10 8.97c.61-.05 1.078-.56 1.076-1.171v-.095a.162.162 0 0 1 0-.067v-.076-.076a1.171 1.171 0 0 0-2.247 0v.152a.162.162 0 0 1 0 .067V7.8c0 .647.524 1.171 1.171 1.171z"/></svg>',default_guide:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M12 27.555C12 27.555 20.838 24.372 22.606 22.606C24.374 20.838 27.555 12 27.555 12C27.555 12 18.717 15.183 16.95 16.95C15.183 18.717 12 27.555 12 27.555ZM18.364 18.364L21.192 21.192C21.899 21.899 14.829 24.727 14.829 24.727C14.829 24.727 17.657 17.657 18.364 18.364Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0" /></svg>',bell:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" width="18" height="21" viewBox="0 0 18 21" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.868 17.08H3.34796V8.44001C3.34796 6.91236 3.95481 5.44728 5.03502 4.36707C6.11523 3.28686 7.58031 2.68001 9.10796 2.68001C10.6356 2.68001 12.1007 3.28686 13.1809 4.36707C14.2611 5.44728 14.868 6.91236 14.868 8.44001V17.08ZM16.788 17.08V8.44001C16.788 6.40315 15.9788 4.44971 14.5385 3.00943C13.0983 1.56915 11.1448 0.76001 9.10796 0.76001C7.07109 0.76001 5.11766 1.56915 3.67738 3.00943C2.2371 4.44971 1.42796 6.40315 1.42796 8.44001V17.08C1.17335 17.08 0.929169 17.1812 0.749134 17.3612C0.569099 17.5412 0.467957 17.7854 0.467957 18.04C0.467957 18.2946 0.569099 18.5388 0.749134 18.7188C0.929169 18.8989 1.17335 19 1.42796 19H7.18796C7.18796 19.2521 7.23762 19.5018 7.33411 19.7348C7.4306 19.9677 7.57202 20.1794 7.75031 20.3577C7.9286 20.5359 8.14026 20.6774 8.3732 20.7739C8.60615 20.8703 8.85582 20.92 9.10796 20.92C9.3601 20.92 9.60976 20.8703 9.84271 20.7739C10.0757 20.6774 10.2873 20.5359 10.4656 20.3577C10.6439 20.1794 10.7853 19.9677 10.8818 19.7348C10.9783 19.5018 11.028 19.2521 11.028 19H16.788C17.0426 19 17.2867 18.8989 17.4668 18.7188C17.6468 18.5388 17.748 18.2946 17.748 18.04C17.748 17.7854 17.6468 17.5412 17.4668 17.3612C17.2867 17.1812 17.0426 17.08 16.788 17.08Z" fill="#555555"/></svg>',close_push:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100"  viewBox="0 0 15 15" fill="none"><path d="M15 1.51071L13.4893 0L7.5 5.98929L1.51071 0L0 1.51071L5.98929 7.5L0 13.4893L1.51071 15L7.5 9.01071L13.4893 15L15 13.4893L9.01071 7.5L15 1.51071Z" fill="#757575" /></svg>',iconTaskList:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" width="33" height="32" viewBox="0 0 33 32" fill="none"><rect x="0.5" width="32" height="32" rx="4" fill="#005BF0"/><path d="M10.6813 24.3808V10.6864H12.6546V11.4803C12.6546 11.8772 12.9506 12.1749 13.3453 12.1749H20.0546C20.4493 12.1749 20.7453 11.8772 20.7453 11.4803V10.6864H22.7187V16.3427V25.6832H23.7558C23.9459 25.6832 24.1 25.5291 24.1 25.339V16.839V10.0909C24.1 9.69401 23.804 9.39629 23.4093 9.39629H20.7453V8.60239C20.7453 8.20547 20.4493 7.90775 20.0546 7.90775H19.2653C19.0679 6.41922 17.7853 5.42688 16.3053 5.62532C15.1213 5.72458 14.2333 6.71694 14.036 7.90775H13.3453C12.9506 7.90775 12.6546 8.20547 12.6546 8.60239V9.39629H9.99063C9.59599 9.39629 9.29999 9.69401 9.29999 10.0909V25.0755C9.29999 25.4725 9.59599 25.7701 9.99063 25.7701H23.6473C23.8374 25.7701 23.9915 25.6161 23.9915 25.4259V24.3808H15.3186H10.6813ZM16.7 6.91539C17.292 6.91539 17.7853 7.31238 17.9826 7.90775H15.4173C15.516 7.31238 16.108 6.91539 16.7 6.91539ZM13.9373 9.29709H19.3639V10.7856H13.9373V9.29709Z" fill="white"/><path d="M12.4525 14.6216H20.8589V15.3904H12.4525V14.6216Z" fill="white" stroke="white" stroke-width="0.5"/><path d="M12.4525 17.7742H20.8589V18.5431H12.4525V17.7742Z" fill="white" stroke="white" stroke-width="0.5"/><path d="M12.4525 20.9265H20.8589V21.6954H12.4525V20.9265Z" fill="white" stroke="white" stroke-width="0.5"/></svg>',accessibility:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 27 26" fill="none"><path d="M1.85718 13C1.85718 14.5759 2.16757 16.1363 2.77062 17.5922C3.37368 19.0481 4.25759 20.371 5.3719 21.4853C6.4862 22.5996 7.80907 23.4835 9.26498 24.0866C10.7209 24.6896 12.2813 25 13.8572 25C15.433 25 16.9935 24.6896 18.4494 24.0866C19.9053 23.4835 21.2282 22.5996 22.3425 21.4853C23.4568 20.371 24.3407 19.0481 24.9437 17.5922C25.5468 16.1363 25.8572 14.5759 25.8572 13C25.8572 11.4241 25.5468 9.86371 24.9437 8.4078C24.3407 6.95189 23.4568 5.62902 22.3425 4.51472C21.2282 3.40042 19.9053 2.5165 18.4494 1.91345C16.9935 1.31039 15.433 1 13.8572 1C12.2813 1 10.7209 1.31039 9.26498 1.91345C7.80907 2.5165 6.4862 3.40042 5.3719 4.51472C4.25759 5.62902 3.37368 6.95189 2.77062 8.4078C2.16757 9.86371 1.85718 11.4241 1.85718 13Z" stroke="#555555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M11.1905 19L13.8572 15M13.8572 15L16.5238 19M13.8572 15V12.3333M13.8572 12.3333L17.8572 11M13.8572 12.3333L9.85718 11" stroke="#555555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M13.8572 7.66658C14.2254 7.66658 14.5239 7.36811 14.5239 6.99992C14.5239 6.63173 14.2254 6.33325 13.8572 6.33325C13.489 6.33325 13.1906 6.63173 13.1906 6.99992C13.1906 7.36811 13.489 7.66658 13.8572 7.66658Z" fill="#555555" stroke="#555555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',iconDownArrow:'<svg width="16" height="10" viewBox="0 0 16 10" fill="none" ><path d="M7.77408 4.13342L7.63281 3.99247L7.49155 4.13342L1.89547 9.71731L0.415655 8.2375L7.63281 1.02034L14.85 8.2375L13.3702 9.71731L7.77408 4.13342Z" fill="black" stroke="white" stroke-width="0.4"/></svg>',iconUpArrow:'<svg width="16" height="10" viewBox="0 0 16 10" fill="none" ><path d="M7.49155 6.60486L7.63281 6.74582L7.77408 6.60486L13.3702 1.02097L14.85 2.50078L7.63281 9.71794L0.415655 2.50078L1.89547 1.02097L7.49155 6.60486Z" fill="black" fill-opacity="0.7" stroke="white" stroke-width="0.4"/></svg>',tasklist:' <svg width="40" height="40" viewBox="0 0 58 58" fill="none" ><g filter="url(#mgPlayerJSProd_filter0_d_task_list_guide)"><circle cx="29" cy="25" r="25" fill="#005BF0"/></g><path d="M20.0067 37.2828V17.3888H22.8733V18.5421C22.8733 19.1187 23.3033 19.5512 23.8767 19.5512H33.6233C34.1967 19.5512 34.6267 19.1187 34.6267 18.5421V17.3888H37.4934V25.6058V39.1747H39C39.2761 39.1747 39.5 38.9509 39.5 38.6747V26.3267V16.5238C39.5 15.9472 39.07 15.5147 38.4966 15.5147H34.6267V14.3614C34.6267 13.7848 34.1967 13.3523 33.6233 13.3523H32.4767C32.1899 11.1899 30.3266 9.74833 28.1766 10.0366C26.4566 10.1808 25.1667 11.6224 24.88 13.3523H23.8767C23.3033 13.3523 22.8733 13.7848 22.8733 14.3614V15.5147H19.0033C18.43 15.5147 18 15.9472 18 16.5238V38.292C18 38.8686 18.43 39.301 19.0033 39.301H38.8424C39.1186 39.301 39.3424 39.0772 39.3424 38.801V37.2828H26.7433H20.0067ZM28.75 11.9107C29.61 11.9107 30.3266 12.4874 30.6133 13.3523H26.8867C27.03 12.4874 27.89 11.9107 28.75 11.9107ZM24.7367 15.3706H32.6199V17.5329H24.7367V15.3706Z" fill="white"/><path d="M22.5796 23.1057H34.7917V24.2226H22.5796V23.1057Z" fill="white" stroke="white" stroke-width="0.5"/><path d="M22.5796 27.6852H34.7917V28.8022H22.5796V27.6852Z" fill="white" stroke="white" stroke-width="0.5"/><path d="M22.5796 32.2648H34.7917V33.3817H22.5796V32.2648Z" fill="white" stroke="white" stroke-width="0.5"/><defs><filter id="mgPlayerJSProd_filter0_d_task_list_guide" x="0" y="0" width="58" height="58" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset dy="4"/><feGaussianBlur stdDeviation="2"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/></filter></defs></svg>',guideShowMe:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M25.1375 15.9427H23.1482C22.5161 15.359 21.3251 15 19.9999 15C18.6747 15 17.4837 15.359 16.8516 15.9427H14.8623C12.1812 15.9427 10 18.1985 10 20.9713C10 23.7441 12.1812 26 14.8623 26C17.5434 26 19.7246 23.7441 19.7246 20.9713C19.7246 20.9346 19.7242 20.8979 19.7235 20.8611H20.2764C20.2756 20.8979 20.2753 20.9346 20.2753 20.9713C20.2753 23.7441 22.4566 26 25.1377 26C27.8188 26 30 23.7441 30 20.9713C29.9999 18.1985 27.8186 15.9427 25.1375 15.9427ZM14.8623 23.9552C13.2715 23.9552 11.9772 22.6166 11.9772 20.9713C11.9772 19.3261 13.2715 17.9875 14.8623 17.9875C16.4532 17.9875 17.7475 19.3261 17.7475 20.9713C17.7475 22.6166 16.4532 23.9552 14.8623 23.9552ZM21.3065 17.89H18.6926C18.3824 17.89 18.1303 17.6286 18.1303 17.3077C18.1303 16.9869 18.3824 16.7254 18.6926 16.7254H21.3065C21.6173 16.7254 21.8695 16.9869 21.8695 17.3077C21.8695 17.6285 21.6173 17.89 21.3065 17.89ZM25.1375 23.9552C23.5466 23.9552 22.2523 22.6166 22.2523 20.9713C22.2523 19.3261 23.5466 17.9875 25.1375 17.9875C26.7282 17.9875 28.0226 19.3261 28.0226 20.9713C28.0226 22.6166 26.7283 23.9552 25.1375 23.9552Z" fill="#ACADC1" stroke-width="0" /></svg>',guideDoItForMe:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M15.8441 24.4972C14.4834 24.4972 13.3803 25.652 13.3803 27.0765V29H14.6452V27.6678C14.6452 26.5993 15.4726 25.7332 16.4931 25.7332H23.5081C24.5287 25.7332 25.356 26.5993 25.356 27.6678V29H26.6211V27.0765C26.6211 25.652 25.518 24.4972 24.1573 24.4972H15.8441Z" fill="#ACADC1" stroke-width="0" /><path d="M12 18.8136C12 18.1065 12.5475 17.5333 13.2229 17.5333H13.6867V20.0938H13.2229C12.5475 20.0938 12 19.5206 12 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M28 18.8136C28 18.1065 27.4525 17.5333 26.7771 17.5333H26.3133V20.0938H26.7771C27.4525 20.0938 28 19.5206 28 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.7887 18.8136C19.7887 19.5206 19.2412 20.0938 18.5659 20.0938C17.8905 20.0938 17.343 19.5206 17.343 18.8136C17.343 18.1065 17.8905 17.5333 18.5659 17.5333C19.2412 17.5333 19.7887 18.1065 19.7887 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M22.7414 18.8136C22.7414 19.5206 22.1939 20.0938 21.5186 20.0938C20.8432 20.0938 20.2957 19.5206 20.2957 18.8136C20.2957 18.1065 20.8432 17.5333 21.5186 17.5333C22.1939 17.5333 22.7414 18.1065 22.7414 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.494 13.1606C19.494 13.0894 19.5492 13.0317 19.6172 13.0317H20.7202C20.7882 13.0317 20.8434 13.0894 20.8434 13.1606V15.6804H19.494V13.1606Z" fill="#ACADC1" stroke-width="0" /><path d="M18.4948 14.6198H17.279C15.9182 14.6198 14.8151 15.7746 14.8151 17.1992V20.5163C14.8151 21.9409 15.9182 23.0957 17.279 23.0957H22.7247C24.0855 23.0957 25.1886 21.9409 25.1886 20.5163V17.1992C25.1886 15.7746 24.0855 14.6198 22.7247 14.6198H21.8448V15.592H22.2026C23.2232 15.592 24.0505 16.4581 24.0505 17.5265V20.191C24.0505 21.2594 23.2232 22.1255 22.2026 22.1255H17.802C16.7815 22.1255 15.9541 21.2594 15.9541 20.191V17.5265C15.9541 16.4581 16.7815 15.592 17.802 15.592H18.4948V14.6198Z" fill="#ACADC1" stroke-width="0" /><path d="M20.8434 11.7063C20.8434 12.0964 20.5413 12.4127 20.1687 12.4127C19.7961 12.4127 19.494 12.0964 19.494 11.7063C19.494 11.3162 19.7961 11 20.1687 11C20.5413 11 20.8434 11.3162 20.8434 11.7063Z" fill="#ACADC1" stroke-width="0" /></svg>',guideTeachMe:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M13 15C13 15.3956 13.1173 15.7822 13.3371 16.1111C13.5568 16.44 13.8692 16.6964 14.2346 16.8478C14.6001 16.9991 15.0022 17.0387 15.3902 16.9616C15.7781 16.8844 16.1345 16.6939 16.4142 16.4142C16.6939 16.1345 16.8844 15.7781 16.9616 15.3902C17.0387 15.0022 16.9991 14.6001 16.8478 14.2346C16.6964 13.8692 16.44 13.5568 16.1111 13.3371C15.7822 13.1173 15.3956 13 15 13C14.4697 13.0004 13.9613 13.2113 13.5863 13.5863C13.2113 13.9613 13.0005 14.4697 13 15ZM16.1554 15C16.1554 15.2285 16.0876 15.4519 15.9607 15.6419C15.8337 15.8319 15.6533 15.98 15.4422 16.0675C15.231 16.1549 14.9987 16.1778 14.7746 16.1332C14.5505 16.0886 14.3446 15.9786 14.183 15.817C14.0214 15.6554 13.9114 15.4495 13.8668 15.2254C13.8222 15.0013 13.8451 14.769 13.9325 14.5578C14.02 14.3467 14.1681 14.1663 14.3581 14.0393C14.5481 13.9124 14.7715 13.8446 15 13.8446C15.3063 13.845 15.5999 13.9669 15.8165 14.1835C16.0331 14.4001 16.155 14.6937 16.1554 15Z" fill="#ACADC1" stroke-width="0.2" /><path d="M13 15C13 15.3956 13.1173 15.7822 13.3371 16.1111C13.5568 16.44 13.8692 16.6964 14.2346 16.8478C14.6001 16.9991 15.0022 17.0387 15.3902 16.9616C15.7781 16.8844 16.1345 16.6939 16.4142 16.4142C16.6939 16.1345 16.8844 15.7781 16.9616 15.3902C17.0387 15.0022 16.9991 14.6001 16.8478 14.2346C16.6964 13.8692 16.44 13.5568 16.1111 13.3371C15.7822 13.1173 15.3956 13 15 13C14.4697 13.0004 13.9613 13.2113 13.5863 13.5863C13.2113 13.9613 13.0005 14.4697 13 15ZM16.1554 15C16.1554 15.2285 16.0876 15.4519 15.9607 15.6419C15.8337 15.8319 15.6533 15.98 15.4422 16.0675C15.231 16.1549 14.9987 16.1778 14.7746 16.1332C14.5505 16.0886 14.3446 15.9786 14.183 15.817C14.0214 15.6554 13.9114 15.4495 13.8668 15.2254C13.8222 15.0013 13.8451 14.769 13.9325 14.5578C14.02 14.3467 14.1681 14.1663 14.3581 14.0393C14.5481 13.9124 14.7715 13.8446 15 13.8446C15.3063 13.845 15.5999 13.9669 15.8165 14.1835C16.0331 14.4001 16.155 14.6937 16.1554 15Z" stroke="#ACADC1" stroke-width="0.2" /><path d="M12.3543 21.6855C12.3779 21.9178 12.452 22.1407 12.5706 22.3356C12.6891 22.5306 12.8486 22.692 13.036 22.8066L13.5899 27.214C13.6125 27.4302 13.7076 27.6298 13.8568 27.7748C14.0061 27.9197 14.1992 27.9999 14.3994 28H15.3197C15.52 27.9998 15.7133 27.9195 15.8626 27.7742C16.012 27.6289 16.1069 27.4289 16.1292 27.2124L16.4019 24.5115L16.9444 20.0023L17.5522 20.5474C17.7246 20.7022 17.9405 20.7881 18.164 20.7909C18.3875 20.7937 18.6051 20.7132 18.7807 20.5628L20.6128 18.9923C20.805 18.8312 20.9364 18.5992 20.9821 18.3401C21.0279 18.081 20.985 17.8126 20.8613 17.5855C20.7892 17.4573 20.6929 17.3471 20.5788 17.2622C20.4648 17.1774 20.3354 17.1198 20.1993 17.0932C20.0633 17.0667 19.9236 17.0718 19.7895 17.1082C19.6553 17.1446 19.5298 17.2115 19.4212 17.3044L18.1885 18.3607L16.9444 17.2442C16.7693 17.087 16.5494 17.0007 16.3223 17.0002H15.7543C15.6912 16.9981 15.6285 17.0116 15.5709 17.0397C15.5133 17.0677 15.4624 17.1097 15.4219 17.1624L14.8538 17.9252L14.3 17.1701C14.2614 17.1169 14.2122 17.074 14.1561 17.0446C14.1 17.0151 14.0384 17 13.9762 17.0002H13.5402C13.3226 17.0003 13.1076 17.0505 12.9092 17.1475C12.7108 17.2444 12.5336 17.386 12.3891 17.5628C12.2446 17.7396 12.1362 17.9476 12.0709 18.1733C12.0057 18.3989 11.9851 18.637 12.0106 18.8719L12.3543 21.6855ZM12.9224 18.075C12.9994 17.9782 13.0947 17.9004 13.2018 17.8471C13.3088 17.7938 13.4252 17.7662 13.543 17.7662H13.8356L14.4718 18.6294C14.5185 18.6931 14.5778 18.7446 14.6453 18.7799C14.7128 18.8153 14.7867 18.8337 14.8617 18.8337C14.9366 18.8337 15.0105 18.8153 15.078 18.7799C15.1455 18.7446 15.2048 18.6931 15.2515 18.6294L15.8892 17.7646H16.3238C16.386 17.7642 16.4463 17.7878 16.4942 17.831L17.9641 19.1545C18.0273 19.2099 18.1059 19.2401 18.1871 19.2401C18.2682 19.2401 18.3469 19.2099 18.41 19.1545L19.8686 17.9052C19.9159 17.8647 19.9745 17.8429 20.0347 17.8434C20.081 17.8434 20.1264 17.8564 20.1667 17.881C20.207 17.9056 20.2408 17.941 20.2648 17.9839C20.2975 18.0499 20.307 18.1265 20.2916 18.1995C20.2762 18.2725 20.2369 18.3369 20.181 18.3808L18.3404 19.9559C18.2924 19.9966 18.2331 20.0187 18.1722 20.0187C18.1112 20.0187 18.052 19.9966 18.0038 19.9559L16.9018 18.9661C16.8529 18.9222 16.7941 18.8933 16.7315 18.8825C16.6689 18.8717 16.6048 18.8792 16.5458 18.9045C16.4869 18.9297 16.4352 18.9716 16.3961 19.0259C16.3571 19.0802 16.3321 19.1448 16.3238 19.2132L15.6918 24.4204L15.4248 27.1275C15.422 27.1553 15.4099 27.1811 15.3908 27.1999C15.3717 27.2187 15.3469 27.2292 15.3211 27.2294H14.3994C14.3724 27.2287 14.3467 27.2171 14.3273 27.1968C14.3078 27.1765 14.296 27.149 14.2943 27.1198L13.7134 22.4947C13.7046 22.4256 13.6786 22.3603 13.6383 22.3059C13.5981 22.2515 13.545 22.21 13.4848 22.1859C13.3697 22.1404 13.2687 22.0608 13.1934 21.9559C13.118 21.851 13.0714 21.7252 13.0587 21.5929L12.7093 18.7777C12.6962 18.6506 12.7083 18.5221 12.7448 18.4006C12.7813 18.2791 12.8414 18.1675 12.9209 18.0735L12.9224 18.075Z" fill="#ACADC1" stroke-width="0.2" /><path d="M12.3543 21.6855C12.3779 21.9178 12.452 22.1407 12.5706 22.3356C12.6891 22.5306 12.8486 22.692 13.036 22.8066L13.5899 27.214C13.6125 27.4302 13.7076 27.6298 13.8568 27.7748C14.0061 27.9197 14.1992 27.9999 14.3994 28H15.3197C15.52 27.9998 15.7133 27.9195 15.8626 27.7742C16.012 27.6289 16.1069 27.4289 16.1292 27.2124L16.4019 24.5115L16.9444 20.0023L17.5522 20.5474C17.7246 20.7022 17.9405 20.7881 18.164 20.7909C18.3875 20.7937 18.6051 20.7132 18.7807 20.5628L20.6128 18.9923C20.805 18.8312 20.9364 18.5992 20.9821 18.3401C21.0279 18.081 20.985 17.8126 20.8613 17.5855C20.7892 17.4573 20.6929 17.3471 20.5788 17.2622C20.4648 17.1774 20.3354 17.1198 20.1993 17.0932C20.0633 17.0667 19.9236 17.0718 19.7895 17.1082C19.6553 17.1446 19.5298 17.2115 19.4212 17.3044L18.1885 18.3607L16.9444 17.2442C16.7693 17.087 16.5494 17.0007 16.3223 17.0002H15.7543C15.6912 16.9981 15.6285 17.0116 15.5709 17.0397C15.5133 17.0677 15.4624 17.1097 15.4219 17.1624L14.8538 17.9252L14.3 17.1701C14.2614 17.1169 14.2122 17.074 14.1561 17.0446C14.1 17.0151 14.0384 17 13.9762 17.0002H13.5402C13.3226 17.0003 13.1076 17.0505 12.9092 17.1475C12.7108 17.2444 12.5336 17.386 12.3891 17.5628C12.2446 17.7396 12.1362 17.9476 12.0709 18.1733C12.0057 18.3989 11.9851 18.637 12.0106 18.8719L12.3543 21.6855ZM12.9224 18.075C12.9994 17.9782 13.0947 17.9004 13.2018 17.8471C13.3088 17.7938 13.4252 17.7662 13.543 17.7662H13.8356L14.4718 18.6294C14.5185 18.6931 14.5778 18.7446 14.6453 18.7799C14.7128 18.8153 14.7867 18.8337 14.8617 18.8337C14.9366 18.8337 15.0105 18.8153 15.078 18.7799C15.1455 18.7446 15.2048 18.6931 15.2515 18.6294L15.8892 17.7646H16.3238C16.386 17.7642 16.4463 17.7878 16.4942 17.831L17.9641 19.1545C18.0273 19.2099 18.1059 19.2401 18.1871 19.2401C18.2682 19.2401 18.3469 19.2099 18.41 19.1545L19.8686 17.9052C19.9159 17.8647 19.9745 17.8429 20.0347 17.8434C20.081 17.8434 20.1264 17.8564 20.1667 17.881C20.207 17.9056 20.2408 17.941 20.2648 17.9839C20.2975 18.0499 20.307 18.1265 20.2916 18.1995C20.2762 18.2725 20.2369 18.3369 20.181 18.3808L18.3404 19.9559C18.2924 19.9966 18.2331 20.0187 18.1722 20.0187C18.1112 20.0187 18.052 19.9966 18.0038 19.9559L16.9018 18.9661C16.8529 18.9222 16.7941 18.8933 16.7315 18.8825C16.6689 18.8717 16.6048 18.8792 16.5458 18.9045C16.4869 18.9297 16.4352 18.9716 16.3961 19.0259C16.3571 19.0802 16.3321 19.1448 16.3238 19.2132L15.6918 24.4204L15.4248 27.1275C15.422 27.1553 15.4099 27.1811 15.3908 27.1999C15.3717 27.2187 15.3469 27.2292 15.3211 27.2294H14.3994C14.3724 27.2287 14.3467 27.2171 14.3273 27.1968C14.3078 27.1765 14.296 27.149 14.2943 27.1198L13.7134 22.4947C13.7046 22.4256 13.6786 22.3603 13.6383 22.3059C13.5981 22.2515 13.545 22.21 13.4848 22.1859C13.3697 22.1404 13.2687 22.0608 13.1934 21.9559C13.118 21.851 13.0714 21.7252 13.0587 21.5929L12.7093 18.7777C12.6962 18.6506 12.7083 18.5221 12.7448 18.4006C12.7813 18.2791 12.8414 18.1675 12.9209 18.0735L12.9224 18.075Z" stroke="#ACADC1" stroke-width="0.2" /><path d="M18 14.3542V16.9043C18 16.9982 18.0395 17.0883 18.1098 17.1547C18.18 17.2212 18.2754 17.2585 18.3747 17.2585C18.4741 17.2585 18.5695 17.2212 18.6397 17.1547C18.71 17.0883 18.7495 16.9982 18.7495 16.9043V14.707H26.2565V21.6617H18.3747C18.2754 21.6617 18.18 21.699 18.1098 21.7654C18.0395 21.8319 18 21.9219 18 22.0159C18 22.1098 18.0395 22.1999 18.1098 22.2663C18.18 22.3328 18.2754 22.3701 18.3747 22.3701H22.1223V24.7275H19.7808C19.6812 24.7275 19.5834 24.7532 19.4981 24.8019C19.4127 24.8506 19.343 24.9204 19.2966 25.0038L18.4617 26.48C18.4387 26.5211 18.4244 26.5661 18.4198 26.6124C18.4152 26.6587 18.4202 26.7055 18.4347 26.7499C18.4492 26.7944 18.4728 26.8357 18.5042 26.8716C18.5355 26.9074 18.5741 26.9371 18.6176 26.9589C18.6611 26.9806 18.7087 26.9941 18.7577 26.9984C18.8067 27.0028 18.8562 26.998 18.9032 26.9844C18.9503 26.9707 18.994 26.9484 19.0319 26.9187C19.0698 26.889 19.1012 26.8526 19.1243 26.8115L19.8947 25.4373H25.1038L25.8742 26.8115C25.8973 26.8526 25.9287 26.889 25.9666 26.9187C26.0045 26.9484 26.0482 26.9707 26.0953 26.9844C26.1423 26.998 26.1918 27.0028 26.2408 26.9984C26.2898 26.9941 26.3374 26.9806 26.3809 26.9589C26.4244 26.9371 26.463 26.9074 26.4943 26.8716C26.5257 26.8357 26.5493 26.7944 26.5638 26.7499C26.5783 26.7055 26.5833 26.6587 26.5787 26.6124C26.5741 26.5661 26.5598 26.5211 26.5368 26.48L25.7094 25.0038C25.6629 24.9204 25.5933 24.8506 25.508 24.8019C25.4227 24.7532 25.3248 24.7275 25.2252 24.7275H22.8777V22.3701H26.6252C26.7246 22.3701 26.82 22.3328 26.8902 22.2663C26.9605 22.1999 27 22.1098 27 22.0159V14.3542C27 14.2602 26.9605 14.1702 26.8902 14.1037C26.82 14.0373 26.7246 14 26.6252 14H18.3747C18.2754 14 18.18 14.0373 18.1098 14.1037C18.0395 14.1702 18 14.2602 18 14.3542Z" fill="#ACADC1" stroke-width="0.2" /><path d="M18 14.3542V16.9043C18 16.9982 18.0395 17.0883 18.1098 17.1547C18.18 17.2212 18.2754 17.2585 18.3747 17.2585C18.4741 17.2585 18.5695 17.2212 18.6397 17.1547C18.71 17.0883 18.7495 16.9982 18.7495 16.9043V14.707H26.2565V21.6617H18.3747C18.2754 21.6617 18.18 21.699 18.1098 21.7654C18.0395 21.8319 18 21.9219 18 22.0159C18 22.1098 18.0395 22.1999 18.1098 22.2663C18.18 22.3328 18.2754 22.3701 18.3747 22.3701H22.1223V24.7275H19.7808C19.6812 24.7275 19.5834 24.7532 19.4981 24.8019C19.4127 24.8506 19.343 24.9204 19.2966 25.0038L18.4617 26.48C18.4387 26.5211 18.4244 26.5661 18.4198 26.6124C18.4152 26.6587 18.4202 26.7055 18.4347 26.7499C18.4492 26.7944 18.4728 26.8357 18.5042 26.8716C18.5355 26.9074 18.5741 26.9371 18.6176 26.9589C18.6611 26.9806 18.7087 26.9941 18.7577 26.9984C18.8067 27.0028 18.8562 26.998 18.9032 26.9844C18.9503 26.9707 18.994 26.9484 19.0319 26.9187C19.0698 26.889 19.1012 26.8526 19.1243 26.8115L19.8947 25.4373H25.1038L25.8742 26.8115C25.8973 26.8526 25.9287 26.889 25.9666 26.9187C26.0045 26.9484 26.0482 26.9707 26.0953 26.9844C26.1423 26.998 26.1918 27.0028 26.2408 26.9984C26.2898 26.9941 26.3374 26.9806 26.3809 26.9589C26.4244 26.9371 26.463 26.9074 26.4943 26.8716C26.5257 26.8357 26.5493 26.7944 26.5638 26.7499C26.5783 26.7055 26.5833 26.6587 26.5787 26.6124C26.5741 26.5661 26.5598 26.5211 26.5368 26.48L25.7094 25.0038C25.6629 24.9204 25.5933 24.8506 25.508 24.8019C25.4227 24.7532 25.3248 24.7275 25.2252 24.7275H22.8777V22.3701H26.6252C26.7246 22.3701 26.82 22.3328 26.8902 22.2663C26.9605 22.1999 27 22.1098 27 22.0159V14.3542C27 14.2602 26.9605 14.1702 26.8902 14.1037C26.82 14.0373 26.7246 14 26.6252 14H18.3747C18.2754 14 18.18 14.0373 18.1098 14.1037C18.0395 14.1702 18 14.2602 18 14.3542Z" stroke="#ACADC1" stroke-width="0.2" /></svg>',btnBackBreadcrumb:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" version="1.1" class="mgPlayerJSProd_Capa_1" x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><path class="mgPlayerJSProd_st0" d="M23,3.1c0.9-0.9,2.3-0.9,3.2,0c0.9,0.9,0.9,2.3,0,3.2L9.8,22.7h35.9c1.3,0,2.3,1,2.3,2.3s-1,2.3-2.3,2.3H9.8l16.4,16.4c0.9,0.9,0.9,2.4,0,3.2c-0.9,0.9-2.3,0.9-3.2,0L2.7,26.6c-0.9-0.9-0.9-2.3,0-3.2L23,3.1z"></path></svg>',guideViewDownload:'<svg  height="512pt" viewBox="0 0 512 512" width="512pt"><path d="m448 512h-384c-35.285156 0-64-28.714844-64-64v-85.332031c0-11.777344 9.558594-21.335938 21.332031-21.335938 11.777344 0 21.335938 9.558594 21.335938 21.335938v85.332031c0 11.753906 9.578125 21.332031 21.332031 21.332031h384c11.753906 0 21.332031-9.578125 21.332031-21.332031v-85.332031c0-11.777344 9.558594-21.335938 21.335938-21.335938 11.773437 0 21.332031 9.558594 21.332031 21.335938v85.332031c0 35.285156-28.714844 64-64 64zm0 0"/><path d="m356.414062 271.082031-85.332031 85.332031c-8.339843 8.34375-21.824219 8.34375-30.164062 0l-85.332031-85.332031c-6.101563-6.101562-7.9375-15.273437-4.632813-23.253906 3.308594-7.957031 11.09375-13.160156 19.714844-13.160156h64v-213.335938c0-11.773437 9.554687-21.332031 21.332031-21.332031s21.332031 9.558594 21.332031 21.332031v213.335938h64c8.621094 0 16.40625 5.203125 19.714844 13.160156 3.304687 7.980469 1.46875 17.152344-4.632813 23.253906zm0 0"/></svg>',csvDownload:'<svg  height="12pt" viewBox="0 0 512 512" width="12pt"><path d="m448 512h-384c-35.285156 0-64-28.714844-64-64v-85.332031c0-11.777344 9.558594-21.335938 21.332031-21.335938 11.777344 0 21.335938 9.558594 21.335938 21.335938v85.332031c0 11.753906 9.578125 21.332031 21.332031 21.332031h384c11.753906 0 21.332031-9.578125 21.332031-21.332031v-85.332031c0-11.777344 9.558594-21.335938 21.335938-21.335938 11.773437 0 21.332031 9.558594 21.332031 21.335938v85.332031c0 35.285156-28.714844 64-64 64zm0 0"/><path d="m356.414062 271.082031-85.332031 85.332031c-8.339843 8.34375-21.824219 8.34375-30.164062 0l-85.332031-85.332031c-6.101563-6.101562-7.9375-15.273437-4.632813-23.253906 3.308594-7.957031 11.09375-13.160156 19.714844-13.160156h64v-213.335938c0-11.773437 9.554687-21.332031 21.332031-21.332031s21.332031 9.558594 21.332031 21.332031v213.335938h64c8.621094 0 16.40625 5.203125 19.714844 13.160156 3.304687 7.980469 1.46875 17.152344-4.632813 23.253906zm0 0"/></svg>',noStep:'<svg width="349" height="264" viewBox="0 0 349 264" fill="none"><path d="M236 84.4294C236 99.0289 224.123 110.906 209.523 110.906H154.078C142.455 110.906 133 101.451 133 89.8286C133 78.4008 142.141 69.0679 153.496 68.7589C151.915 54.2263 163.814 40.0938 179.828 40.0938C191.412 40.0938 201.5 47.5847 205 58.338C221.283 55.5334 236 68.1293 236 84.4294Z" fill="#F5FAFD"/><g clip-path="url(#clip0)"><path d="M138 31.7742C138 36.3099 134.31 40 129.774 40H112.548C108.938 40 106 37.0625 106 33.4516C106 29.9012 108.84 27.0017 112.368 26.9057C111.876 22.3907 115.573 18 120.548 18C124.147 18 127.281 20.3273 128.369 23.6681C133.428 22.7968 138 26.7101 138 31.7742Z" fill="#F5FAFD"/></g><g clip-path="url(#clip1)"><path d="M258 12.9073C258 16.0256 255.463 18.5625 252.345 18.5625H240.502C238.02 18.5625 236 16.5429 236 14.0605C236 11.6196 237.953 9.62615 240.378 9.56015C240.04 6.45611 242.582 3.4375 246.002 3.4375C248.476 3.4375 250.631 5.03751 251.379 7.33434C254.857 6.73528 258 9.42567 258 12.9073Z" fill="#F5FAFD"/></g><path opacity="0.2" d="M301.093 261.757C300.945 262.037 300.772 262.304 300.576 262.554C298.855 261.342 297.104 260.156 295.324 258.994C295.36 258.919 295.399 258.842 295.441 258.764C295.853 257.968 296.473 257.297 297.234 256.822C298.218 256.225 299.327 256.082 300.224 256.565C301.12 257.048 301.646 258.036 301.7 259.182C301.732 260.079 301.522 260.968 301.093 261.757V261.757Z" fill="#3F3D56"/><path opacity="0.2" d="M303.5 257.26C304.583 255.219 304.195 252.896 302.634 252.071C301.073 251.246 298.93 252.231 297.847 254.271C296.764 256.311 297.152 258.634 298.713 259.459C300.274 260.285 302.417 259.3 303.5 257.26Z" fill="#3F3D56"/><path opacity="0.2" d="M305.896 252.745C306.979 250.705 306.591 248.382 305.03 247.556C303.469 246.731 301.326 247.716 300.243 249.756C299.161 251.796 299.549 254.119 301.11 254.945C302.671 255.77 304.814 254.785 305.896 252.745Z" fill="#3F3D56"/><path opacity="0.2" d="M308.293 248.226C309.376 246.186 308.988 243.863 307.427 243.038C305.866 242.212 303.723 243.197 302.64 245.238C301.557 247.278 301.945 249.601 303.506 250.426C305.067 251.251 307.21 250.267 308.293 248.226Z" fill="#3F3D56"/><path opacity="0.2" d="M310.689 243.709C311.772 241.669 311.384 239.346 309.823 238.52C308.262 237.695 306.119 238.68 305.036 240.72C303.954 242.76 304.342 245.083 305.903 245.909C307.464 246.734 309.607 245.749 310.689 243.709Z" fill="#3F3D56"/><path d="M313.663 205.69C313.538 205 313.46 204.302 313.429 203.601L321.5 206.31L313.429 202.133C313.547 200.045 314.091 198.003 315.028 196.133C315.965 194.262 317.276 192.603 318.879 191.257L326.699 202.539L320.628 189.986C322.411 188.873 324.406 188.14 326.486 187.83C328.566 187.52 330.688 187.641 332.72 188.185C334.751 188.728 336.649 189.684 338.294 190.991C339.94 192.299 341.299 193.93 342.285 195.784C343.272 197.639 343.866 199.676 344.03 201.769C344.195 203.862 343.925 205.966 343.24 207.951C342.554 209.936 341.467 211.759 340.045 213.306C338.623 214.853 336.898 216.092 334.976 216.945C335.174 218.027 335.254 219.128 335.215 220.227L322.914 220.129L335.027 222.119C334.618 224.632 333.589 227.003 332.031 229.019C330.474 231.034 328.438 232.631 326.107 233.663C326.62 236.489 326.327 239.402 325.26 242.068C324.193 244.735 322.396 247.049 320.075 248.744C317.753 250.44 315 251.449 312.13 251.656C309.261 251.863 306.391 251.26 303.849 249.916C301.307 248.572 299.195 246.541 297.755 244.055C296.314 241.569 295.604 238.729 295.705 235.859C295.805 232.989 296.713 230.206 298.324 227.826C299.935 225.447 302.184 223.569 304.814 222.405C304.203 219.031 304.745 215.549 306.354 212.519C307.962 209.489 310.543 207.086 313.684 205.696L313.663 205.69Z" fill="#F5FAFD"/><path d="M333.42 226.839C331.814 229.873 329.231 232.278 326.087 233.666C326.601 236.492 326.307 239.404 325.241 242.071C324.174 244.738 322.377 247.052 320.055 248.747C317.733 250.443 314.98 251.452 312.111 251.659C309.242 251.866 306.372 251.263 303.829 249.919C301.287 248.575 299.175 246.544 297.735 244.058C296.295 241.572 295.584 238.732 295.685 235.862C295.786 232.992 296.694 230.208 298.305 227.829C299.916 225.45 302.165 223.571 304.795 222.408C304.2 219.15 334.227 225.32 333.42 226.839Z" fill="#F5FAFD"/><path opacity="0.2" d="M291.489 171.503C291.303 171.981 291.078 172.443 290.816 172.885C287.803 171.283 284.753 169.726 281.666 168.212C281.708 168.084 281.756 167.952 281.807 167.821C282.309 166.462 283.166 165.261 284.288 164.342C285.743 163.178 287.498 162.74 289.07 163.333C290.643 163.927 291.647 165.422 291.961 167.248C292.188 168.683 292.025 170.152 291.489 171.503Z" fill="#3F3D56"/><path opacity="0.2" d="M294.445 163.778C295.778 160.283 294.691 156.627 292.017 155.611C289.343 154.595 286.095 156.604 284.763 160.098C283.43 163.593 284.517 167.249 287.191 168.265C289.865 169.281 293.113 167.272 294.445 163.778Z" fill="#3F3D56"/><path opacity="0.2" d="M297.395 156.045C298.727 152.551 297.64 148.894 294.966 147.878C292.292 146.862 289.044 148.871 287.712 152.366C286.379 155.86 287.466 159.517 290.14 160.533C292.814 161.549 296.062 159.54 297.395 156.045Z" fill="#3F3D56"/><path opacity="0.2" d="M300.344 148.31C301.677 144.815 300.589 141.159 297.915 140.143C295.242 139.127 291.994 141.136 290.661 144.631C289.328 148.125 290.416 151.782 293.09 152.798C295.763 153.814 299.011 151.804 300.344 148.31Z" fill="#3F3D56"/><path opacity="0.2" d="M303.291 140.577C304.624 137.083 303.537 133.426 300.863 132.41C298.189 131.394 294.941 133.404 293.608 136.898C292.276 140.393 293.363 144.049 296.037 145.065C298.711 146.081 301.959 144.072 303.291 140.577Z" fill="#3F3D56"/><path d="M300.494 78.9265C300.153 77.835 299.889 76.7214 299.702 75.5935L313.219 78.3417L299.421 73.2154C299.194 69.8492 299.658 66.4724 300.785 63.2914C301.911 60.1104 303.675 57.1923 305.97 54.7156L320.785 71.267L308.529 52.3076C311.174 50.1753 314.23 48.6084 317.507 47.7041C320.783 46.7997 324.212 46.5773 327.578 47.0506C330.945 47.524 334.178 48.6829 337.077 50.4555C339.976 52.2281 342.48 54.5766 344.432 57.3551C346.384 60.1337 347.743 63.2831 348.424 66.6078C349.106 69.9326 349.096 73.3617 348.395 76.6825C347.694 80.0032 346.316 83.1446 344.348 85.9118C342.38 88.679 339.863 91.0128 336.954 92.7686C337.485 94.4692 337.831 96.2218 337.988 97.9963L318.208 100.285L338.066 101.076C337.911 105.194 336.73 109.209 334.63 112.756C332.53 116.304 329.576 119.274 326.037 121.396C327.423 125.831 327.531 130.567 326.349 135.061C325.166 139.555 322.741 143.627 319.35 146.81C315.96 149.994 311.74 152.161 307.174 153.064C302.608 153.967 297.879 153.57 293.529 151.917C289.178 150.265 285.381 147.424 282.571 143.719C279.761 140.015 278.052 135.596 277.639 130.968C277.226 126.34 278.125 121.689 280.235 117.547C282.344 113.405 285.579 109.939 289.568 107.545C287.908 102.242 288.081 96.5364 290.061 91.3443C292.041 86.1523 295.712 81.7755 300.485 78.9175L300.494 78.9265Z" fill="#F5FAFD"/><path opacity="0.1" d="M336.454 108.977C334.48 114.17 330.809 118.546 326.033 121.396C327.419 125.831 327.527 130.567 326.345 135.061C325.162 139.555 322.737 143.627 319.346 146.81C315.956 149.994 311.736 152.161 307.17 153.064C302.604 153.967 297.875 153.57 293.525 151.917C289.174 150.265 285.377 147.424 282.567 143.72C279.757 140.015 278.048 135.596 277.635 130.968C277.222 126.34 278.122 121.689 280.231 117.547C282.341 113.405 285.575 109.939 289.564 107.545C287.971 102.433 337.446 106.378 336.454 108.977Z" fill="#F5FAFD"/><g opacity="0.2"><path opacity="0.2" d="M53.3216 197.226C53.4734 197.819 53.6733 198.397 53.9194 198.957C57.7058 197.507 61.535 196.114 65.4071 194.78C65.3742 194.622 65.3413 194.46 65.2995 194.296C64.9089 192.617 64.0761 191.071 62.8872 189.821C61.3387 188.233 59.333 187.457 57.4049 187.929C55.4768 188.4 54.0569 190.017 53.4143 192.121C52.9267 193.784 52.8947 195.547 53.3216 197.226V197.226Z" fill="#3F3D56"/><path opacity="0.2" d="M58.8947 194.022C62.2001 193.216 64.0233 189.062 62.9669 184.742C61.9105 180.423 58.3745 177.575 55.069 178.38C51.7636 179.186 49.9404 183.34 50.9968 187.66C52.0532 191.979 55.5892 194.827 58.8947 194.022Z" fill="#3F3D56"/><path opacity="0.2" d="M56.5548 184.461C59.8603 183.656 61.6835 179.501 60.627 175.182C59.5706 170.863 56.0346 168.014 52.7292 168.82C49.4237 169.625 47.6005 173.78 48.657 178.099C49.7134 182.418 53.2494 185.267 56.5548 184.461Z" fill="#3F3D56"/><path opacity="0.2" d="M54.2228 174.904C57.5283 174.098 59.3514 169.944 58.295 165.624C57.2386 161.305 53.7026 158.457 50.3971 159.262C47.0917 160.068 45.2685 164.222 46.3249 168.541C47.3814 172.861 50.9174 175.709 54.2228 174.904Z" fill="#3F3D56"/><path opacity="0.2" d="M51.8849 165.346C55.1904 164.54 57.0136 160.386 55.9571 156.067C54.9007 151.747 51.3647 148.899 48.0593 149.705C44.7538 150.51 42.9306 154.665 43.987 158.984C45.0435 163.303 48.5795 166.151 51.8849 165.346Z" fill="#3F3D56"/><path opacity="0.2" d="M56.371 86.6637C56.9363 85.4266 57.4138 84.1513 57.7998 82.8473L41.4457 84.0975L58.4844 80.0783C59.2509 76.1378 59.2033 72.0825 58.3444 68.161C57.4855 64.2396 55.8334 60.5344 53.4894 57.2728L33.5571 74.6507L50.8259 54.083C48.0216 51.168 44.6464 48.8602 40.9102 47.3032C37.1741 45.7462 33.1569 44.9732 29.1086 45.0325C25.0603 45.0917 21.0675 45.9818 17.3787 47.6475C13.6898 49.3131 10.3838 51.7187 7.66629 54.7144C4.94877 57.7102 2.87789 61.2321 1.58249 65.0611C0.287087 68.8901 -0.205124 72.9442 0.136476 76.9712C0.478076 80.9982 1.64618 84.9119 3.56812 88.4689C5.49005 92.026 8.12471 95.1502 11.3082 97.6472C10.4296 99.5742 9.76118 101.59 9.31435 103.66L32.3166 109.275L8.76731 107.282C8.34053 112.164 9.14014 117.076 11.0938 121.572C13.0474 126.068 16.0934 130.007 19.956 133.033C17.6617 138.064 16.832 143.638 17.5618 149.118C18.2916 154.598 20.5514 159.762 24.083 164.02C27.6145 168.278 32.2752 171.459 37.5321 173.198C42.789 174.936 48.4301 175.164 53.8102 173.853C59.1904 172.542 64.0925 169.747 67.9561 165.787C71.8197 161.826 74.4889 156.86 75.6585 151.457C76.828 146.054 76.4507 140.431 74.5698 135.231C72.6888 130.032 69.3801 125.466 65.0219 122.055C67.7611 116.041 68.3957 109.282 66.8235 102.865C65.2513 96.447 61.5637 90.7433 56.3531 86.6696L56.371 86.6637Z" fill="#0078D4"/><path opacity="0.1" d="M9.494 116.83C11.0532 123.253 14.7398 128.962 19.9563 133.032C17.662 138.064 16.8323 143.638 17.5621 149.118C18.2919 154.597 20.5517 159.762 24.0833 164.02C27.6148 168.278 32.2755 171.458 37.5324 173.197C42.7893 174.936 48.4304 175.163 53.8105 173.853C59.1907 172.542 64.0928 169.747 67.9564 165.786C71.82 161.826 74.4892 156.86 75.6588 151.457C76.8283 146.053 76.451 140.43 74.5701 135.231C72.6891 130.032 69.3804 125.466 65.0222 122.055C67.6766 116.242 8.71381 113.616 9.494 116.83Z" fill="#F5FAFD"/></g><path d="M315.753 78.9326H26.1735C25.8343 78.933 25.4985 79.0001 25.1853 79.13C24.8721 79.2599 24.5877 79.4501 24.3481 79.6898C24.1086 79.9295 23.9186 80.2139 23.7892 80.5268C23.6598 80.8398 23.5934 81.1751 23.5938 81.5136V258.423C23.5926 259.106 23.7262 259.782 23.9869 260.414C24.2477 261.045 24.6305 261.619 25.1135 262.103C25.5964 262.587 26.1702 262.971 26.8018 263.233C27.4335 263.496 28.1108 263.632 28.795 263.633H313.132C313.816 263.632 314.493 263.496 315.125 263.233C315.757 262.971 316.33 262.587 316.813 262.103C317.296 261.619 317.679 261.045 317.94 260.414C318.201 259.782 318.334 259.106 318.333 258.423V81.5136C318.333 81.1751 318.267 80.8398 318.138 80.5268C318.008 80.2139 317.818 79.9295 317.579 79.6898C317.339 79.4501 317.055 79.2599 316.741 79.13C316.428 79.0001 316.092 78.933 315.753 78.9326V78.9326Z" fill="url(#paint0_linear)"/><path d="M317.162 89.916V257.381C317.162 258.747 316.619 260.056 315.652 261.022C314.685 261.988 313.374 262.531 312.006 262.532H29.9739C28.6055 262.532 27.2932 261.989 26.3256 261.023C25.358 260.057 24.8145 258.747 24.8145 257.381V89.916H317.162Z" fill="white"/><path d="M259 88V263H310.835C312.47 263 314.038 262.456 315.194 261.489C316.35 260.521 317 259.208 317 257.839V88.015L259 88Z" fill="#F0F0F5"/><path d="M317.162 82.4741V89.9158H24.8145V82.4741C24.8145 81.7967 25.084 81.147 25.5639 80.668C26.0438 80.189 26.6946 79.9199 27.3732 79.9199H314.604C315.282 79.9199 315.933 80.189 316.413 80.668C316.893 81.147 317.162 81.7967 317.162 82.4741Z" fill="#EDEDF4"/><path opacity="0.8" d="M29.4476 86.0336C30.108 86.0336 30.6433 85.4992 30.6433 84.84C30.6433 84.1809 30.108 83.6465 29.4476 83.6465C28.7873 83.6465 28.252 84.1809 28.252 84.84C28.252 85.4992 28.7873 86.0336 29.4476 86.0336Z" fill="#FA5959"/><path opacity="0.8" d="M32.7348 86.0336C33.3951 86.0336 33.9305 85.4992 33.9305 84.84C33.9305 84.1809 33.3951 83.6465 32.7348 83.6465C32.0744 83.6465 31.5391 84.1809 31.5391 84.84C31.5391 85.4992 32.0744 86.0336 32.7348 86.0336Z" fill="#FED253"/><path opacity="0.8" d="M36.0238 86.0336C36.6842 86.0336 37.2195 85.4992 37.2195 84.84C37.2195 84.1809 36.6842 83.6465 36.0238 83.6465C35.3635 83.6465 34.8281 84.1809 34.8281 84.84C34.8281 85.4992 35.3635 86.0336 36.0238 86.0336Z" fill="#8CCF4D"/><path d="M268 105H312V114H268V105Z" fill="white"/><path d="M268 124H312V133H268V124Z" fill="white"/><path d="M268 143H312V153H268V143Z" fill="white"/><path d="M268 163H312V172H268V163Z" fill="white"/><path d="M268 182H312V191H268V182Z" fill="white"/><path d="M188 75.6506V74.457H186.206V75.6506H188Z" fill="url(#paint1_linear)"/><path opacity="0.1" d="M67.0273 210.016C67.1284 209.995 67.2329 209.996 67.3333 210.02C67.4337 210.045 67.5274 210.091 67.6073 210.156C67.7839 210.338 67.9132 210.561 67.9839 210.804C68.2904 211.564 68.7445 212.255 69.3201 212.839" fill="black"/><path d="M82 118H239V130H82V118Z" fill="#F0F0F5"/><path d="M82 155H239V167H82V155Z" fill="#F0F0F5"/><rect x="38" y="239" width="221" height="5" fill="#F0F0F5"/><path fill-rule="evenodd" clip-rule="evenodd" d="M184.678 192C184.678 190.343 183.335 189 181.678 189H116C114.343 189 113 190.343 113 192V226.959C113 228.616 114.343 229.959 116 229.959H142.581C143.377 229.959 144.14 230.275 144.702 230.838L147.744 233.879C148.915 235.051 150.815 235.051 151.986 233.879L155.028 230.838C155.591 230.275 156.354 229.959 157.149 229.959H181.678C183.335 229.959 184.678 228.616 184.678 226.959V192Z" fill="#F0F0F5"/><rect x="45.7" y="110.7" width="25.6" height="25.6" rx="12.8" stroke="#F0F0F5" stroke-width="1.4"/><path d="M53 129C53 129 59.25 126.749 60.5002 125.5C61.7505 124.25 64 118 64 118C64 118 57.75 120.251 56.5005 121.5C55.2509 122.75 53 129 53 129ZM57.5004 122.5L59.5003 124.5C60.0003 125 55.0006 127 55.0006 127C55.0006 127 57.0005 122 57.5004 122.5Z" fill="#F0F0F5"/><path d="M53 166C53 166 59.25 163.749 60.5002 162.5C61.7505 161.25 64 155 64 155C64 155 57.75 157.251 56.5005 158.5C55.2509 159.75 53 166 53 166ZM57.5004 159.5L59.5003 161.5C60.0003 162 55.0006 164 55.0006 164C55.0006 164 57.0005 159 57.5004 159.5Z" fill="#F0F0F5"/><path d="M143 215C143 215 149.25 212.749 150.5 211.5C151.75 210.25 154 204 154 204C154 204 147.75 206.251 146.5 207.5C145.251 208.75 143 215 143 215ZM147.5 208.5L149.5 210.5C150 211 145.001 213 145.001 213C145.001 213 147 208 147.5 208.5Z" fill="white"/><rect x="45.7" y="147.7" width="25.6" height="25.6" rx="12.8" stroke="#F0F0F5" stroke-width="1.4"/><rect x="135.7" y="196.7" width="25.6" height="25.6" rx="12.8" stroke="white" stroke-width="1.4"/><defs><linearGradient class="mgPlayerJSProd_paint0_linear" x1="170.963" y1="263.633" x2="170.963" y2="78.9326" gradientUnits="userSpaceOnUse"><stop stop-color="#808080" stop-opacity="0.25"/><stop offset="0.54" stop-color="#808080" stop-opacity="0.12"/><stop offset="1" stop-color="#808080" stop-opacity="0.1"/></linearGradient><linearGradient class="mgPlayerJSProd_paint1_linear" x1="-1628.22" y1="775.14" x2="-1617.45" y2="775.14" gradientUnits="userSpaceOnUse"><stop stop-color="#808080" stop-opacity="0.25"/><stop offset="0.54" stop-color="#808080" stop-opacity="0.12"/><stop offset="1" stop-color="#808080" stop-opacity="0.1"/></linearGradient><clipPath class="mgPlayerJSProd_clip0"><rect x="106" y="13" width="32" height="32" fill="white"/></clipPath><clipPath class="mgPlayerJSProd_clip1"><rect x="236" width="22" height="22" fill="white"/></clipPath></defs></svg>',fullscreen:'<svg version="1.1" class="mgPlayerJSProd_Capa_1" x="0px" y="0px" viewBox="0 0 28.361 28.361" style="enable-background:new 0 0 28.361 28.361;" xml:space="preserve"><g><g class="mgPlayerJSProd_c115_arrows"><path d="M28.36,19.595c0-0.868-0.665-1.57-1.491-1.57c-0.819,0.002-1.492,0.702-1.492,1.57v3.25l-6.018-6.021c-0.582-0.583-1.524-0.583-2.106,0c-0.582,0.582-0.582,1.527,0,2.109l5.989,5.987h-3.235c-0.881,0.002-1.591,0.669-1.591,1.491c0,0.824,0.71,1.49,1.591,1.49h6.761c0.881,0,1.59-0.665,1.593-1.49c-0.003-0.022-0.006-0.039-0.009-0.061c0.003-0.028,0.009-0.058,0.009-0.087v-6.668H28.36z"/><path d="M9,16.824l-6.015,6.021v-3.25c0-0.868-0.672-1.568-1.493-1.57c-0.824,0-1.49,0.702-1.49,1.57L0,26.264c0,0.029,0.008,0.059,0.01,0.087c-0.002,0.021-0.006,0.038-0.008,0.061c0.002,0.825,0.712,1.49,1.592,1.49h6.762c0.879,0,1.59-0.666,1.59-1.49c0-0.822-0.711-1.489-1.59-1.491H5.121l5.989-5.987c0.58-0.582,0.58-1.527,0-2.109C10.527,16.241,9.584,16.241,9,16.824z"/><path d="M19.359,11.535l6.018-6.017v3.25c0,0.865,0.673,1.565,1.492,1.568c0.826,0,1.491-0.703,1.491-1.568V2.097c0-0.029-0.006-0.059-0.009-0.085c0.003-0.021,0.006-0.041,0.009-0.062c-0.003-0.826-0.712-1.491-1.592-1.491h-6.761c-0.881,0-1.591,0.665-1.591,1.491c0,0.821,0.71,1.49,1.591,1.492h3.235l-5.989,5.987c-0.582,0.581-0.582,1.524,0,2.105C17.835,12.12,18.777,12.12,19.359,11.535z"/><path d="M5.121,3.442h3.234c0.879-0.002,1.59-0.671,1.59-1.492c0-0.826-0.711-1.491-1.59-1.491H1.594c-0.88,0-1.59,0.665-1.592,1.491C0.004,1.971,0.008,1.991,0.01,2.012C0.008,2.038,0,2.067,0,2.097l0.002,6.672c0,0.865,0.666,1.568,1.49,1.568c0.821-0.003,1.493-0.703,1.493-1.568v-3.25L9,11.535c0.584,0.585,1.527,0.585,2.11,0c0.58-0.581,0.58-1.524,0-2.105L5.121,3.442z"/></g><g class="mgPlayerJSProd_Capa_1_253_"></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',smallscreenIcon:'<svg version="1.1" class="mgPlayerJSProd_Capa_1" x="0px" y="0px" viewBox="0 0 28.359 28.359" style="enable-background:new 0 0 28.359 28.359;" xml:space="preserve"><g><g class="mgPlayerJSProd_c116_arrows"><path d="M21.935,19.368h3.235c0.878-0.003,1.589-0.67,1.589-1.492c0-0.824-0.711-1.492-1.589-1.492h-6.764c-0.879,0-1.59,0.668-1.591,1.492c0.001,0.019,0.007,0.041,0.007,0.061c0,0.027-0.007,0.057-0.007,0.086v6.673c0,0.864,0.666,1.566,1.49,1.566c0.822-0.002,1.492-0.702,1.492-1.566v-3.252l6.018,6.02c0.582,0.583,1.525,0.583,2.108,0c0.58-0.582,0.58-1.526,0-2.108L21.935,19.368z"/><path d="M11.543,17.876c-0.002-0.824-0.712-1.492-1.592-1.492H3.189c-0.877,0-1.593,0.668-1.593,1.492c0,0.822,0.716,1.489,1.593,1.492h3.235l-5.991,5.986c-0.577,0.582-0.577,1.526,0,2.108c0.584,0.583,1.527,0.583,2.108,0l6.019-6.02v3.252c0,0.864,0.67,1.564,1.491,1.566c0.826,0,1.491-0.702,1.491-1.566v-6.673c0-0.029-0.008-0.059-0.008-0.086C11.535,17.917,11.541,17.895,11.543,17.876z"/><path d="M16.815,10.479c0.001,0.824,0.712,1.491,1.591,1.491h6.764c0.878,0,1.589-0.667,1.589-1.491c0-0.822-0.711-1.487-1.589-1.489h-3.235l5.989-5.987c0.58-0.584,0.58-1.528,0-2.109c-0.583-0.582-1.526-0.582-2.108,0l-6.018,6.02V3.662c0-0.867-0.67-1.568-1.492-1.568c-0.824,0-1.49,0.701-1.49,1.568v6.671c0,0.03,0.007,0.057,0.007,0.087C16.822,10.44,16.816,10.456,16.815,10.479z"/><path d="M10.052,2.094c-0.821,0-1.491,0.701-1.491,1.568v3.251l-6.019-6.02c-0.581-0.582-1.524-0.582-2.108,0c-0.577,0.581-0.577,1.525,0,2.109l5.991,5.987H3.189c-0.876,0.003-1.592,0.668-1.592,1.49c0,0.824,0.716,1.491,1.593,1.491h6.761c0.88,0,1.59-0.667,1.592-1.491c-0.002-0.023-0.008-0.039-0.008-0.06c0-0.03,0.008-0.057,0.008-0.087v-6.67C11.543,2.795,10.878,2.094,10.052,2.094z"/></g><g class="mgPlayerJSProd_Capa_1_156_"></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',myGuide:'<svg  width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M0 15.555C0 15.555 8.838 12.372 10.606 10.606C12.374 8.838 15.555 0 15.555 0C15.555 0 6.717 3.183 4.95 4.95C3.183 6.717 0 15.555 0 15.555ZM6.364 6.364L9.192 9.192C9.899 9.899 2.829 12.727 2.829 12.727C2.829 12.727 5.657 5.657 6.364 6.364Z" fill="#6f708b" /></svg>',myShow:'<svg  width="20" height="11" viewBox="0 0 20 11" fill="none"><path d="M13.0465 1.05294L13.0896 1.09273H13.1482H15.1375C17.731 1.09273 19.8499 3.27659 19.85 5.97134C19.85 8.66605 17.7312 10.85 15.1377 10.85C12.5442 10.85 10.4253 8.66604 10.4253 5.97134C10.4253 5.93554 10.4256 5.89996 10.4264 5.86449L10.4299 5.71111H10.2764H9.72347H9.57026L9.5735 5.86429C9.57426 5.90007 9.57464 5.93568 9.57464 5.97134C9.57464 8.66605 7.45583 10.85 4.86234 10.85C2.26881 10.85 0.15 8.66605 0.15 5.97134C0.15 3.27659 2.2688 1.09273 4.86234 1.09273H6.85159H6.91026L6.95335 1.05293C7.5463 0.50539 8.69319 0.15 9.9999 0.15C11.3066 0.15 12.4535 0.505438 13.0465 1.05294ZM1.82725 5.97134C1.82725 7.69467 3.18397 9.10517 4.86234 9.10517C6.54076 9.10517 7.89749 7.69467 7.89749 5.97134C7.89749 4.24802 6.54077 2.83746 4.86234 2.83746C3.18392 2.83746 1.82725 4.24802 1.82725 5.97134ZM8.69265 3.04H11.3065C11.705 3.04 12.0195 2.70646 12.0195 2.30772C12.0195 1.90897 11.705 1.57544 11.3065 1.57544H8.69265C8.29462 1.57544 7.98026 1.9091 7.98026 2.30772C7.98026 2.70639 8.29463 3.04 8.69265 3.04ZM12.1023 5.97134C12.1023 7.69467 13.459 9.10517 15.1375 9.10517C16.8159 9.10517 18.1726 7.69466 18.1726 5.97134C18.1726 4.24802 16.8157 2.83746 15.1375 2.83746C13.459 2.83746 12.1023 4.24802 12.1023 5.97134Z" fill="#6f708b" stroke="#cfd0dd" stroke-width="0.3" /></svg>',myBot:'<svg  width="22" height="23" viewBox="0 0 22 23" fill="none"><path d="M5.14433 17.2464C3.32333 17.2464 1.84711 18.722 1.84711 20.5422V23H3.53993V21.2977C3.53993 19.9325 4.6471 18.8258 6.01285 18.8258H15.4006C16.7663 18.8258 17.8735 19.9325 17.8735 21.2977V23H19.5665V20.5422C19.5665 18.722 18.0903 17.2464 16.2693 17.2464H5.14433Z" fill="#6f708b" /><path d="M0 9.98398C0 9.08054 0.73269 8.34815 1.63651 8.34815H2.25725V11.6198H1.63651C0.732691 11.6198 0 10.8874 0 9.98398Z" fill="#6f708b" /><path d="M21.4118 9.98398C21.4118 9.08054 20.6791 8.34815 19.7753 8.34815H19.1545V11.6198H19.7753C20.6791 11.6198 21.4118 10.8874 21.4118 9.98398Z" fill="#6f708b" /><path d="M10.4232 9.98398C10.4232 10.8874 9.69048 11.6198 8.78666 11.6198C7.88285 11.6198 7.15016 10.8874 7.15016 9.98398C7.15016 9.08054 7.88285 8.34815 8.78666 8.34815C9.69048 8.34815 10.4232 9.08054 10.4232 9.98398Z" fill="#6f708b" /><path d="M14.3746 9.98398C14.3746 10.8874 13.6419 11.6198 12.7381 11.6198C11.8342 11.6198 11.1016 10.8874 11.1016 9.98398C11.1016 9.08054 11.8342 8.34815 12.7381 8.34815C13.6419 8.34815 14.3746 9.08054 14.3746 9.98398Z" fill="#6f708b" /><path d="M10.0287 2.76082C10.0287 2.6698 10.1025 2.59602 10.1936 2.59602H11.6697C11.7607 2.59602 11.8345 2.6698 11.8345 2.76082V5.98051H10.0287V2.76082Z" fill="#6f708b" /><path d="M8.69162 4.62529H7.06454C5.24354 4.62529 3.76732 6.1009 3.76732 7.92116V12.1598C3.76732 13.98 5.24354 15.4557 7.06455 15.4557H14.3522C16.1732 15.4557 17.6494 13.98 17.6494 12.1598V7.92116C17.6494 6.1009 16.1732 4.62529 14.3522 4.62529H13.1746V5.86756H13.6535C15.0192 5.86756 16.1264 6.97427 16.1264 8.33946V11.7441C16.1264 13.1093 15.0192 14.216 13.6535 14.216H7.7645C6.39874 14.216 5.29158 13.1093 5.29158 11.7441V8.33946C5.29158 6.97426 6.39874 5.86756 7.7645 5.86756H8.69162V4.62529Z" fill="#6f708b" /><path d="M11.8345 0.90253C11.8345 1.40098 11.4303 1.80506 10.9316 1.80506C10.433 1.80506 10.0287 1.40098 10.0287 0.90253C10.0287 0.404077 10.433 0 10.9316 0C11.4303 0 11.8345 0.404077 11.8345 0.90253Z" fill="#6f708b" /></svg>',myTest:'<svg  width="20" height="26" viewBox="0 0 20 26" fill="none"><path d="M1.54651 21.1221V5.72034H3.75581V6.61319C3.75581 7.05962 4.08721 7.39444 4.52907 7.39444H12.0407C12.4826 7.39444 12.814 7.05962 12.814 6.61319V5.72034H15.0233V12.0819V14.3141H16.5698V12.64V5.05069C16.5698 4.60426 16.2384 4.26944 15.7965 4.26944H12.814V3.37659C12.814 2.93016 12.4826 2.59534 12.0407 2.59534H11.157C10.936 0.921228 9.5 -0.194843 7.84302 0.0283712C6.51744 0.139978 5.52326 1.25605 5.30232 2.59534H4.52907C4.08721 2.59534 3.75581 2.93016 3.75581 3.37659V4.26944H0.773256C0.331395 4.26944 0 4.60426 0 5.05069V21.9034C0 22.3498 0.331395 22.6846 0.773256 22.6846H9.38953V21.1221H6.73837H1.54651ZM8.28488 1.47926C8.94767 1.47926 9.5 1.92569 9.72093 2.59534H6.84884C6.9593 1.92569 7.62209 1.47926 8.28488 1.47926ZM5.19186 4.15784H11.2674V5.83194H5.19186V4.15784Z" fill="#6f708b" /><circle cx="12.5" cy="18.5" r="6.7" fill="white" stroke="#6f708b" stroke-width="1.6" /><path d="M11.6804 20.9037C11.6136 20.9655 11.5224 21 11.4277 21C11.333 21 11.2419 20.9655 11.1751 20.9037L9.15707 19.047C8.94764 18.8544 8.94764 18.542 9.15707 18.3497L9.40975 18.1172C9.61924 17.9246 9.95844 17.9246 10.1679 18.1172L11.4277 19.2762L14.8321 16.1445C15.0416 15.9518 15.3812 15.9518 15.5902 16.1445L15.8429 16.377C16.0524 16.5696 16.0524 16.882 15.8429 17.0743L11.6804 20.9037Z" fill="#6f708b" /></svg>',copyGuideIcon:'<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 450 514" width="14" height="16"><g transform="translate(1, 1)"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z" vector-effect="non-scaling-stroke" /></g></svg>',historyIcon:'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1"  ><g class="mgPlayerJSProd_3.-Style" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="mgPlayerJSProd_UI-Icons" transform="translate(-571.000000, -535.000000)" fill="#4D4D4D"><g class="mgPlayerJSProd_Group" transform="translate(571.000000, 535.000000)"><path d="M7.66676667,0 C4.76476667,0 2.06576667,1.60966667 0.666766667,4.13233333 L0.666766667,0.666666667 C0.666766667,0.482333333 0.517766667,0.333333333 0.333433333,0.333333333 C0.1491,0.333333333 0.0001,0.482333333 0.0001,0.666666667 L0.0001,5 C0.0001,5.18433333 0.1491,5.33333333 0.333433333,5.33333333 L4.66676667,5.33333333 C4.8511,5.33333333 5.0001,5.18433333 5.0001,5 C5.0001,4.81566667 4.8511,4.66666667 4.66676667,4.66666667 L1.1381,4.66666667 C2.3841,2.23266667 4.92643333,0.666666667 7.66676667,0.666666667 C11.7104333,0.666666667 15.0001,3.95633333 15.0001,8 C15.0001,12.0436667 11.7104333,15.3333333 7.66676667,15.3333333 C4.57776667,15.3333333 1.6281,13.009 0.652433333,9.80666667 C0.598766667,9.63066667 0.4131,9.53133333 0.236433333,9.58466667 C0.0604333333,9.63833333 -0.0389,9.82466667 0.0144333333,10.0006667 C1.07376667,13.477 4.29176667,16 7.66676667,16 C12.0777667,16 15.6667667,12.411 15.6667667,8 C15.6667667,3.589 12.0777667,0 7.66676667,0" class="mgPlayerJSProd_Fill-6"></path><path d="M7.64922281,2.33333333 C7.47459123,2.33333333 7.33343333,2.47449123 7.33343333,2.64912281 L7.33343333,8.01754386 C7.33343333,8.19217544 7.47459123,8.33333333 7.64922281,8.33333333 L11.4386965,8.33333333 C11.6133281,8.33333333 11.754486,8.19217544 11.754486,8.01754386 C11.754486,7.84291228 11.6133281,7.70175439 11.4386965,7.70175439 L7.96501228,7.70175439 L7.96501228,2.64912281 C7.96501228,2.47449123 7.82385439,2.33333333 7.64922281,2.33333333" class="mgPlayerJSProd_Fill-8"></path></g></g></g></svg>',pdfIcon:'<svg class="mgPlayerJSProd_Layer_1" data-name="Layer 1"  viewBox="0 0 200 200"><defs><style>.mgPlayerJSProd_cls-1,.mgPlayerJSProd_cls-3,.mgPlayerJSProd_cls-4{fill:#005BF0;}.mgPlayerJSProd_cls-1{opacity:0.3;}.mgPlayerJSProd_cls-2{fill:#218e79;}.mgPlayerJSProd_cls-4{font-size:31.1px;font-family:NotoSerif-Bold, Noto Serif;font-weight:700;}</style></defs><path class="mgPlayerJSProd_cls-1" d="M44.73,184.74H155.27a7.37,7.37,0,0,0,7.37-7.37V52.1L125.79,15.26H44.73a7.37,7.37,0,0,0-7.37,7.37V177.37A7.37,7.37,0,0,0,44.73,184.74Z"/><path class="mgPlayerJSProd_cls-2" d="M125.79,15.26V44.73a7.37,7.37,0,0,0,7.37,7.37h29.48Z"/><path class="mgPlayerJSProd_cls-3" d="M163.51,52.05a.85.85,0,0,0,0-.23l0-.09a.87.87,0,0,0-.18-.26L126.42,14.63a.83.83,0,0,0-.26-.17l-.08,0a1,1,0,0,0-.23,0H44.73a8.26,8.26,0,0,0-8.25,8.26V177.37a8.26,8.26,0,0,0,8.25,8.26H155.27a8.26,8.26,0,0,0,8.25-8.26V52.1A.09.09,0,0,0,163.51,52.05ZM126.68,17.4l33.81,33.81H133.16a6.48,6.48,0,0,1-6.48-6.48Zm-82-1.25H124.9V44.73A8.27,8.27,0,0,0,133.16,53h28.59V161.73a.87.87,0,0,0-.39-.1H38.25v-139A6.48,6.48,0,0,1,44.73,16.15Zm110.54,167.7H44.73a6.48,6.48,0,0,1-6.48-6.48v-14H161.36a.87.87,0,0,0,.39-.1v14.07A6.48,6.48,0,0,1,155.27,183.85Z"/><text class="mgPlayerJSProd_cls-4" transform="translate(69.78 109.96)">PDF</text></svg>',guidePlayIconShowme:'<svg  width="9" height="13" viewBox="0 0 9 13" fill="none"><path opacity="0.3" d="M0 0L9 6.5L0 13V0Z" fill="black" /></svg>',dragStep:'<svg class="mgPlayerJSProd_width-height-100" width="32" height="32" viewBox="0 0 32 32" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.91309 22.0492C9.91309 20.9442 10.8221 20.0492 11.9421 20.0492C13.0631 20.0492 13.9711 20.9442 13.9711 22.0492C13.9711 23.1532 13.0631 24.0492 11.9421 24.0492C10.8221 24.0492 9.91309 23.1532 9.91309 22.0492ZM9.91309 15.9992C9.91309 14.8942 10.8221 13.9992 11.9421 13.9992C13.0631 13.9992 13.9711 14.8942 13.9711 15.9992C13.9711 17.1032 13.0631 17.9992 11.9421 17.9992C10.8221 17.9992 9.91309 17.1032 9.91309 15.9992ZM20.0581 20.0492C21.1791 20.0492 22.0871 20.9442 22.0871 22.0492C22.0871 23.1532 21.1791 24.0492 20.0581 24.0492C18.9381 24.0492 18.0291 23.1532 18.0291 22.0492C18.0291 20.9442 18.9381 20.0492 20.0581 20.0492ZM20.0581 13.9992C21.1791 13.9992 22.0871 14.8942 22.0871 15.9992C22.0871 17.1032 21.1791 17.9992 20.0581 17.9992C18.9381 17.9992 18.0291 17.1032 18.0291 15.9992C18.0291 14.8942 18.9381 13.9992 20.0581 13.9992ZM11.9421 7.94922C13.0631 7.94922 13.9711 8.84422 13.9711 9.94922C13.9711 11.0532 13.0631 11.9492 11.9421 11.9492C10.8221 11.9492 9.91309 11.0532 9.91309 9.94922C9.91309 8.84422 10.8221 7.94922 11.9421 7.94922ZM20.0581 7.94922C21.1791 7.94922 22.0871 8.84422 22.0871 9.94922C22.0871 11.0532 21.1791 11.9492 20.0581 11.9492C18.9381 11.9492 18.0291 11.0532 18.0291 9.94922C18.0291 8.84422 18.9381 7.94922 20.0581 7.94922Z" fill="#555555"/></svg>',startPoint:'<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 16.00001480672206 30.000002376293313" width="16.00001480672206" height="20.000002376293313" style="padding-right:5px;"><g transform="translate(0, 0)"><g transform="translate(0.000007403361028701504, 0.000002376293311883793) rotate(0)"><path d="M8,18.21576c-0.67536,0 -1.33571,-0.08038 -1.99605,-0.25723v10.96433c0.01501,0.59484 0.45024,1.06106 1.00553,1.07714h1.99605c0.55529,-0.01608 0.99052,-0.4823 1.00553,-1.07714v-10.96433c-0.66035,0.17684 -1.33571,0.25723 -2.01106,0.25723zM8,0.00083c-2.13113,-0.03215 -4.1722,0.86814 -5.65799,2.50797c-1.53081,1.5916 -2.37125,3.77803 -2.34124,6.06093c-0.03002,2.28289 0.81043,4.46933 2.34124,6.06093c1.48578,1.63983 3.52686,2.54012 5.65799,2.50797c2.13113,0.03215 4.1722,-0.86814 5.65799,-2.50797c1.53081,-1.5916 2.37125,-3.77803 2.34124,-6.06093c0.03002,-2.28289 -0.81043,-4.46933 -2.34124,-6.06093c-1.48578,-1.63983 -3.52686,-2.54012 -5.65799,-2.50797zM8,3.74671c-2.49132,0 -4.50238,2.15428 -4.50238,4.82302c0,0.30546 -0.22512,0.54661 -0.51027,0.54661c-0.28515,0 -0.49526,-0.24115 -0.49526,-0.54661c0,-3.2475 2.4613,-5.88408 5.4929,-5.88408h0.01501c0.27014,0 0.49526,0.24115 0.49526,0.53053c0,0.28938 -0.22512,0.53053 -0.49526,0.53053z" style="stroke-width: 0; stroke-linecap: butt; stroke-linejoin: miter; fill: rgb(122, 98, 171);" vector-effect="non-scaling-stroke"/></g><defs><path class="mgPlayerJSProd_path-1636604223336103" d="M8,18.21576c-0.67536,0 -1.33571,-0.08038 -1.99605,-0.25723v10.96433c0.01501,0.59484 0.45024,1.06106 1.00553,1.07714h1.99605c0.55529,-0.01608 0.99052,-0.4823 1.00553,-1.07714v-10.96433c-0.66035,0.17684 -1.33571,0.25723 -2.01106,0.25723zM8,0.00083c-2.13113,-0.03215 -4.1722,0.86814 -5.65799,2.50797c-1.53081,1.5916 -2.37125,3.77803 -2.34124,6.06093c-0.03002,2.28289 0.81043,4.46933 2.34124,6.06093c1.48578,1.63983 3.52686,2.54012 5.65799,2.50797c2.13113,0.03215 4.1722,-0.86814 5.65799,-2.50797c1.53081,-1.5916 2.37125,-3.77803 2.34124,-6.06093c0.03002,-2.28289 -0.81043,-4.46933 -2.34124,-6.06093c-1.48578,-1.63983 -3.52686,-2.54012 -5.65799,-2.50797zM8,3.74671c-2.49132,0 -4.50238,2.15428 -4.50238,4.82302c0,0.30546 -0.22512,0.54661 -0.51027,0.54661c-0.28515,0 -0.49526,-0.24115 -0.49526,-0.54661c0,-3.2475 2.4613,-5.88408 5.4929,-5.88408h0.01501c0.27014,0 0.49526,0.24115 0.49526,0.53053c0,0.28938 -0.22512,0.53053 -0.49526,0.53053z" vector-effect="non-scaling-stroke"/></defs></g></svg>',guide:'<svg class="mgPlayerJSProd_guide-icon-{{tour.tour_id}}" width="40" height="40" viewBox="0 0 40 40" fill="none" ></svg>',mobileGuide:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" ><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"/><rect x="13.8" y="10.8" width="12.4" height="20.4" rx="1.2" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.6"/><rect x="14" y="25" width="12" height="0.5" fill="#ACADC1" stroke="#ACADC1"/><circle class="mgPlayerJSProd_mobile-circle" cx="20" cy="28.5" r="1" fill="#ACADC1"/></svg>',insight:'<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><defs><style>.mgPlayerJSProd_cls-1 { fill: #ffffff; stroke: #ACADC1; stroke-miterlimit: 10; stroke-width: 1.4 !important;cx: 24 !important;cy: 24 !important;r: 22.75 !important;}.mgPlayerJSProd_cls-2 { fill: #8e8fa6; stroke-width: 0; } </style></defs><circle class="mgPlayerJSProd_cls-1" cx="24" cy="24" r="22.75" /><path class="mgPlayerJSProd_cls-2" d="M31.15,14.74a9.73,9.73,0,0,1,1.35,5.18c0,2.13-.82,3.72-2.65,5.95-.16.19-.32.37-.54.59l-.47.48a3.21,3.21,0,0,0-.5.62,6.39,6.39,0,0,0-.41.91,10.62,10.62,0,0,0-.41,1.62c0-.08-.16,1-.21,1.11a.62.62,0,0,1-.1.22.67.67,0,0,1-.6.33h-5a.68.68,0,0,1-.66-.5h0v0l0-.11-.11-.38c-.13-.41-.26-.83-.39-1.23a12,12,0,0,0-.81-2.09,13,13,0,0,0-1.46-1.77l-.38-.43c-.2-.23-.37-.44-.54-.66a7.67,7.67,0,0,1-1.68-5.61,9,9,0,0,1,2.19-5.24A7.8,7.8,0,0,1,23.77,11a9,9,0,0,1,5.62,1.76l-1.05,1a7.77,7.77,0,0,0-4.57-1.31,6.43,6.43,0,0,0-5,2.22A7.57,7.57,0,0,0,16.91,19a6.29,6.29,0,0,0,1.39,4.64c.15.2.3.38.48.59l.36.4a14.73,14.73,0,0,1,1.58,1.92,11.66,11.66,0,0,1,1,2.46c.14.41.27.84.4,1.25v.05h3.95l.09-.51A12.19,12.19,0,0,1,26.63,28a9,9,0,0,1,.51-1.13,5.24,5.24,0,0,1,.71-.9l.49-.5a6,6,0,0,0,.45-.49c1.64-2,2.33-3.33,2.33-5a8.5,8.5,0,0,0-1-4.22Zm-7.89-1.62.26.93a5.64,5.64,0,0,0-2.14.61l-.63-.72A6.4,6.4,0,0,1,23.26,13.12Zm.95,0a7.39,7.39,0,0,1,2.64.59l-.36.87a6.74,6.74,0,0,0-2-.5ZM20,14.47l.62.7-.35.29a5.82,5.82,0,0,0-1.48,2l-.86-.32a6.46,6.46,0,0,1,1.73-2.41C19.74,14.66,19.85,14.56,20,14.47Zm-2.36,3.6.87.32A6.13,6.13,0,0,0,18.36,20l-.92,0a6.81,6.81,0,0,1,.17-2Zm3.5,15h6a.79.79,0,0,1,0,1.57h-6a.79.79,0,0,1,0-1.57Zm.47,2.36H26.8v.31A1.24,1.24,0,0,1,25.57,37H22.81a1.24,1.24,0,0,1-1.23-1.26ZM24.29,18.6h.07q.41,0,7.23-6.88l-6.37,7.74a1.12,1.12,0,0,1,0,.32,1.15,1.15,0,1,1-1.15-1.18Z" /></svg>',tooltipIcon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" ><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4" /><path d="M21.625 30.75C21.625 31.6475 20.8975 32.375 20 32.375C19.1025 32.375 18.375 31.6475 18.375 30.75C18.375 29.8525 19.1025 29.125 20 29.125C20.8975 29.125 21.625 29.8525 21.625 30.75Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.5" /><path d="M21.4375 23.5681L21.25 23.6165V23.8102V26.25C21.25 26.9404 20.6904 27.5 20 27.5C19.3096 27.5 18.75 26.9404 18.75 26.25V22.5C18.75 21.8096 19.3096 21.25 20 21.25C21.7923 21.25 23.25 19.7923 23.25 18C23.25 16.2077 21.7923 14.75 20 14.75C18.2077 14.75 16.75 16.2077 16.75 18C16.75 18.6904 16.1904 19.25 15.5 19.25C14.8096 19.25 14.25 18.6904 14.25 18C14.25 14.8297 16.8297 12.25 20 12.25C23.1703 12.25 25.75 14.8297 25.75 18C25.75 20.6737 23.915 22.9281 21.4375 23.5681Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.5" /></svg>',guidePlayIcon:'<svg class="mgPlayerJSProd_position-center" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M0 15.555C0 15.555 8.838 12.372 10.606 10.606C12.374 8.838 15.555 0 15.555 0C15.555 0 6.717 3.183 4.95 4.95C3.183 6.717 0 15.555 0 15.555ZM6.364 6.364L9.192 9.192C9.899 9.899 2.829 12.727 2.829 12.727C2.829 12.727 5.657 5.657 6.364 6.364Z" fill="#6f708b"/></svg>',doItForMeIcon:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 16 18"><path d="M3.84412 13.4972C2.48336 13.4972 1.38026 14.652 1.38026 16.0765V18H2.64522V16.6678C2.64522 15.5993 3.47256 14.7332 4.49312 14.7332H11.5081C12.5287 14.7332 13.356 15.5993 13.356 16.6678V18H14.6211V16.0765C14.6211 14.652 13.518 13.4972 12.1573 13.4972H3.84412Z" fill="#005BF0" /><path d="M0 7.81355C0 7.10651 0.547505 6.53333 1.22289 6.53333H1.68674V9.09377H1.22289C0.547505 9.09377 0 8.5206 0 7.81355Z" fill="#005BF0" /><path d="M16 7.81355C16 7.10651 15.4525 6.53333 14.7771 6.53333H14.3133V9.09377H14.7771C15.4525 9.09377 16 8.5206 16 7.81355Z" fill="#005BF0" /><path d="M7.78874 7.81355C7.78874 8.5206 7.24124 9.09377 6.56586 9.09377C5.89048 9.09377 5.34297 8.5206 5.34297 7.81355C5.34297 7.10651 5.89048 6.53333 6.56586 6.53333C7.24124 6.53333 7.78874 7.10651 7.78874 7.81355Z" fill="#005BF0" /><path d="M10.7414 7.81355C10.7414 8.5206 10.1939 9.09377 9.51855 9.09377C8.84317 9.09377 8.29567 8.5206 8.29567 7.81355C8.29567 7.10651 8.84317 6.53333 9.51855 6.53333C10.1939 6.53333 10.7414 7.10651 10.7414 7.81355Z" fill="#005BF0" /><path d="M7.494 2.16064C7.494 2.08941 7.54915 2.03167 7.61719 2.03167H8.72019C8.78823 2.03167 8.84339 2.08941 8.84339 2.16064V4.6804H7.494V2.16064Z" fill="#005BF0" /><path d="M6.49483 3.61979H5.279C3.91825 3.61979 2.81514 4.77462 2.81514 6.19917V9.51635C2.81514 10.9409 3.91825 12.0957 5.279 12.0957H10.7247C12.0855 12.0957 13.1886 10.9409 13.1886 9.51635V6.19917C13.1886 4.77462 12.0855 3.61979 10.7247 3.61979H9.84475V4.592H10.2026C11.2232 4.592 12.0505 5.45812 12.0505 6.52654V9.191C12.0505 10.2594 11.2232 11.1255 10.2026 11.1255H5.80204C4.78148 11.1255 3.95415 10.2594 3.95415 9.191V6.52653C3.95415 5.45812 4.78148 4.592 5.80204 4.592H6.49483V3.61979Z" fill="#005BF0" /><path d="M8.84339 0.706328C8.84339 1.09642 8.54131 1.41266 8.16869 1.41266C7.79607 1.41266 7.494 1.09642 7.494 0.706328C7.494 0.316234 7.79607 0 8.16869 0C8.54131 0 8.84339 0.316234 8.84339 0.706328Z" fill="#005BF0" /></svg>',navBar:'<svg width="24" height="16" viewBox="0 0 24 16" fill="none"><path d="M22.935 13.717H10.452C10.1868 13.717 9.9324 13.8223 9.74487 14.0099C9.55733 14.1974 9.45197 14.4517 9.45197 14.717C9.45197 14.9822 9.55733 15.2365 9.74487 15.4241C9.9324 15.6116 10.1868 15.717 10.452 15.717H22.935C23.2002 15.717 23.4545 15.6116 23.6421 15.4241C23.8296 15.2365 23.935 14.9822 23.935 14.717C23.935 14.4517 23.8296 14.1974 23.6421 14.0099C23.4545 13.8223 23.2002 13.717 22.935 13.717ZM22.935 7.24996H10.452C10.1868 7.24996 9.9324 7.35532 9.74487 7.54285C9.55733 7.73039 9.45197 7.98474 9.45197 8.24996C9.45197 8.51518 9.55733 8.76953 9.74487 8.95707C9.9324 9.1446 10.1868 9.24996 10.452 9.24996H22.935C23.2002 9.24996 23.4545 9.1446 23.6421 8.95707C23.8296 8.76953 23.935 8.51518 23.935 8.24996C23.935 7.98474 23.8296 7.73039 23.6421 7.54285C23.4545 7.35532 23.2002 7.24996 22.935 7.24996ZM10.452 2.78296H22.935C23.2002 2.78296 23.4545 2.6776 23.6421 2.49007C23.8296 2.30253 23.935 2.04818 23.935 1.78296C23.935 1.51774 23.8296 1.26339 23.6421 1.07585C23.4545 0.888316 23.2002 0.782959 22.935 0.782959H10.452C10.1868 0.782959 9.9324 0.888316 9.74487 1.07585C9.55733 1.26339 9.45197 1.51774 9.45197 1.78296C9.45197 2.04818 9.55733 2.30253 9.74487 2.49007C9.9324 2.6776 10.1868 2.78296 10.452 2.78296ZM5.73897 3.57496C5.55144 3.38749 5.29714 3.28217 5.03197 3.28217C4.76681 3.28217 4.5125 3.38749 4.32497 3.57496L0.357972 7.54296C0.170501 7.73049 0.0651855 7.98479 0.0651855 8.24996C0.0651855 8.51512 0.170501 8.76943 0.357972 8.95696L4.32497 12.925C4.51357 13.1071 4.76618 13.2079 5.02837 13.2056C5.29057 13.2034 5.54138 13.0982 5.72679 12.9128C5.9122 12.7274 6.01737 12.4766 6.01965 12.2144C6.02192 11.9522 5.92113 11.6996 5.73897 11.511L2.47897 8.24996L5.73897 4.98896C5.92644 4.80143 6.03176 4.54712 6.03176 4.28196C6.03176 4.01679 5.92644 3.76249 5.73897 3.57496Z" fill="#555555"/></svg>',settings:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="4 3 20 20" fill="none"><g clip-path="url(#clip0_3195_94)"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.608 14.08C18.4413 14.7777 18.1645 15.4444 17.788 16.055C18.0254 16.3613 18.1432 16.7437 18.1192 17.1305C18.0953 17.5173 17.9314 17.8822 17.658 18.157C17.3834 18.4305 17.0185 18.5947 16.6317 18.6188C16.2449 18.6429 15.8625 18.5253 15.556 18.288C14.9449 18.6649 14.2775 18.9417 13.579 19.108C13.5297 19.4922 13.3423 19.8453 13.0517 20.1015C12.7612 20.3576 12.3873 20.4993 12 20.5C11.6125 20.4995 11.2384 20.358 10.9476 20.1018C10.6569 19.8456 10.4693 19.4924 10.42 19.108C9.72228 18.9413 9.05558 18.6645 8.445 18.288C8.13865 18.5254 7.75633 18.6432 7.36949 18.6192C6.98265 18.5953 6.61776 18.4314 6.343 18.158C6.06949 17.8834 5.90535 17.5185 5.88124 17.1317C5.85713 16.7449 5.97471 16.3625 6.212 16.056C5.83522 15.4448 5.5584 14.7774 5.392 14.079C5.00781 14.0297 4.65469 13.8423 4.39854 13.5517C4.1424 13.2612 4.00074 12.8873 4 12.5C4 11.688 4.608 11.024 5.392 10.92C5.55866 10.222 5.83547 9.55494 6.212 8.944C5.97513 8.6378 5.85771 8.25591 5.88163 7.86952C5.90555 7.48314 6.06918 7.11865 6.342 6.844C6.61651 6.57035 6.98127 6.40602 7.36811 6.38172C7.75496 6.35743 8.13742 6.47484 8.444 6.712C9.05481 6.33521 9.72188 6.05839 10.42 5.892C10.4695 5.50773 10.6571 5.15459 10.9479 4.89846C11.2386 4.64233 11.6125 4.50071 12 4.5C12.812 4.5 13.476 5.108 13.579 5.892C14.288 6.061 14.952 6.34 15.555 6.712C15.8615 6.47471 16.2439 6.35713 16.6307 6.38124C17.0175 6.40535 17.3824 6.56949 17.657 6.843C18.232 7.418 18.271 8.318 17.788 8.945C18.16 9.548 18.439 10.212 18.608 10.921C18.9922 10.9703 19.3453 11.1577 19.6015 11.4483C19.8576 11.7388 19.9993 12.1127 20 12.5C20 13.312 19.392 13.976 18.608 14.08ZM17.6 11.7H17.134C17.0068 10.8809 16.6844 10.1043 16.194 9.436L16.525 9.106C16.6024 9.03245 16.6643 8.94415 16.7071 8.8463C16.7498 8.74845 16.7725 8.64303 16.7739 8.53626C16.7753 8.42949 16.7553 8.32352 16.715 8.22461C16.6748 8.1257 16.6152 8.03584 16.5397 7.96033C16.4642 7.88483 16.3743 7.8252 16.2754 7.78497C16.1765 7.74474 16.0705 7.72472 15.9637 7.72608C15.857 7.72745 15.7515 7.75018 15.6537 7.79293C15.5559 7.83568 15.4675 7.89759 15.394 7.975L15.064 8.305C14.3952 7.8159 13.6188 7.49456 12.8 7.368V6.9C12.8 6.68783 12.7157 6.48434 12.5657 6.33431C12.4157 6.18429 12.2122 6.1 12 6.1C11.7878 6.1 11.5843 6.18429 11.4343 6.33431C11.2843 6.48434 11.2 6.68783 11.2 6.9V7.368C10.3812 7.49441 9.60468 7.81576 8.936 8.305L8.606 7.975C8.45488 7.83117 8.25355 7.75206 8.04493 7.75454C7.83632 7.75703 7.63693 7.84091 7.48928 7.9883C7.34162 8.13569 7.25739 8.33493 7.25454 8.54354C7.25168 8.75215 7.33043 8.95362 7.474 9.105L7.804 9.436C7.31458 10.1047 6.99289 10.8811 6.866 11.7H6.4C6.18783 11.7 5.98434 11.7843 5.83431 11.9343C5.68429 12.0843 5.6 12.2878 5.6 12.5C5.6 12.7122 5.68429 12.9157 5.83431 13.0657C5.98434 13.2157 6.18783 13.3 6.4 13.3H6.866C6.996 14.138 7.326 14.909 7.805 15.564L7.475 15.894C7.39759 15.9675 7.33568 16.0559 7.29293 16.1537C7.25018 16.2515 7.22745 16.357 7.22608 16.4637C7.22472 16.5705 7.24474 16.6765 7.28497 16.7754C7.3252 16.8743 7.38483 16.9642 7.46033 17.0397C7.53584 17.1152 7.6257 17.1748 7.72461 17.215C7.82352 17.2553 7.92949 17.2753 8.03626 17.2739C8.14303 17.2725 8.24845 17.2498 8.3463 17.2071C8.44415 17.1643 8.53245 17.1024 8.606 17.025L8.936 16.695C9.60474 17.1841 10.3812 17.5055 11.2 17.632V18.1C11.2 18.3122 11.2843 18.5157 11.4343 18.6657C11.5843 18.8157 11.7878 18.9 12 18.9C12.2122 18.9 12.4157 18.8157 12.5657 18.6657C12.7157 18.5157 12.8 18.3122 12.8 18.1V17.632C13.6189 17.5056 14.3953 17.1843 15.064 16.695L15.394 17.025C15.4675 17.1025 15.5557 17.1645 15.6535 17.2073C15.7514 17.2501 15.8567 17.273 15.9635 17.2744C16.0703 17.2759 16.1763 17.2559 16.2752 17.2158C16.3742 17.1757 16.4641 17.1161 16.5396 17.0407C16.6152 16.9652 16.6749 16.8754 16.7152 16.7766C16.7556 16.6777 16.7757 16.5717 16.7744 16.465C16.7731 16.3582 16.7505 16.2527 16.7078 16.1549C16.6652 16.057 16.6033 15.9686 16.526 15.895L16.196 15.564C16.674 14.909 17.004 14.138 17.134 13.3H17.6C17.8122 13.3 18.0157 13.2157 18.1657 13.0657C18.3157 12.9157 18.4 12.7122 18.4 12.5C18.4 12.2878 18.3157 12.0843 18.1657 11.9343C18.0157 11.7843 17.8122 11.7 17.6 11.7ZM12 15.7C11.1513 15.7 10.3374 15.3629 9.73726 14.7627C9.13714 14.1626 8.8 13.3487 8.8 12.5C8.8 11.6513 9.13714 10.8374 9.73726 10.2373C10.3374 9.63714 11.1513 9.3 12 9.3C12.8487 9.3 13.6626 9.63714 14.2627 10.2373C14.8629 10.8374 15.2 11.6513 15.2 12.5C15.2 13.3487 14.8629 14.1626 14.2627 14.7627C13.6626 15.3629 12.8487 15.7 12 15.7ZM12 10.9C11.7899 10.9 11.5818 10.9414 11.3877 11.0218C11.1936 11.1022 11.0172 11.2201 10.8686 11.3686C10.7201 11.5172 10.6022 11.6936 10.5218 11.8877C10.4414 12.0818 10.4 12.2899 10.4 12.5C10.4 12.7101 10.4414 12.9182 10.5218 13.1123C10.6022 13.3064 10.7201 13.4828 10.8686 13.6314C11.0172 13.7799 11.1936 13.8978 11.3877 13.9782C11.5818 14.0586 11.7899 14.1 12 14.1C12.4243 14.1 12.8313 13.9314 13.1314 13.6314C13.4314 13.3313 13.6 12.9243 13.6 12.5C13.6 12.0757 13.4314 11.6687 13.1314 11.3686C12.8313 11.0686 12.4243 10.9 12 10.9Z" stroke-width=".01" fill="#555555"/></g><defs><clipPath><rect width="24" height="24" fill="white" transform="translate(0 0.5)"/></clipPath></defs></svg>',edit:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><g><path d="M43.1,29c-1.1,0-2,0.9-2,2v12.1c0,1.4-1.1,2.5-2.5,2.5H6.9c-1.4,0-2.5-1.1-2.5-2.5V11.5c0-1.4,1.1-2.5,2.5-2.5H19c1.1,0,2-0.9,2-2s-0.9-2-2-2H6.9c-3.6,0-6.5,2.9-6.5,6.5v31.6c0,3.6,2.9,6.5,6.5,6.5h31.6c3.6,0,6.5-2.9,6.5-6.5V31C45.1,29.9,44.2,29,43.1,29z"/></g></g><g><g><path d="M49,10l-9-9c-0.8-0.8-2-0.8-2.8,0L14.6,23.6C14.2,24,14,24.5,14,25v9c0,1.1,0.9,2,2,2h9c0.5,0,1-0.2,1.4-0.6L49,12.9c0.4-0.4,0.6-0.9,0.6-1.4C49.6,10.9,49.4,10.4,49,10z M24.2,32H18v-6.2L38.5,5.2l6.2,6.2L24.2,32z"/></g></g></g></svg>',playStore:'<svg width="30" height="30" viewBox="0 0 30 30" fill="none" ><path opacity="0.802967" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#666666"/><path d="M11.874 7.19116C11.4876 6.95854 11.0271 6.93774 10.6254 7.1314L17.3599 13.8803L19.5619 11.6681L11.874 7.19116ZM10.0066 7.75601C9.92168 7.9359 9.87598 8.136 9.87598 8.34196V20.6872C9.87598 20.894 9.92197 21.0912 10.0078 21.2673L16.7397 14.5034L10.0066 7.75601ZM17.3608 15.1257L10.6371 21.8813C10.8156 21.964 11.0054 22 11.195 22C11.429 22 11.6625 21.944 11.8741 21.8169L19.5634 17.3333L17.3608 15.1257ZM22.4899 13.3732C22.4873 13.3714 22.4843 13.3696 22.4817 13.3682L20.3471 12.1251L17.9808 14.5026L20.3486 16.8753C20.3486 16.8753 22.4873 15.6285 22.4899 15.627C22.8869 15.3859 23.1239 14.9646 23.1239 14.4999C23.1239 14.0353 22.8869 13.614 22.4899 13.3732Z" fill="white"/></svg>',desktop:'<svg width="30" height="30" viewBox="0 0 30 30" fill="none" ><path opacity="0.802967" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#666666"/><path d="M20.239 9.30719C20.0343 9.10247 19.7883 9 19.5007 9H9.04552C8.75801 9 8.51195 9.10247 8.30708 9.30719C8.10233 9.51199 8 9.75803 8 10.0456V18.2816C8 18.5692 8.10233 18.8153 8.30708 19.0201C8.51195 19.2248 8.75801 19.3271 9.04552 19.3271H12.6003C12.6003 19.4926 12.5655 19.6627 12.4958 19.8368C12.4261 20.0111 12.3564 20.1635 12.2867 20.2941C12.217 20.4249 12.1822 20.5206 12.1822 20.5816C12.1822 20.6948 12.2235 20.7931 12.3063 20.8756C12.3891 20.9585 12.4871 21 12.6003 21H15.946C16.0593 21 16.1573 20.9585 16.2401 20.8756C16.3229 20.7931 16.3643 20.6948 16.3643 20.5816C16.3643 20.5251 16.3293 20.4303 16.2597 20.2974C16.1899 20.1647 16.1202 20.0098 16.0506 19.8336C15.9809 19.6571 15.946 19.4883 15.946 19.3271H19.5009C19.7883 19.3271 20.0343 19.2248 20.2391 19.0201C20.4439 18.8153 20.5463 18.5693 20.5463 18.2816V10.0456C20.5463 9.75803 20.4439 9.51199 20.239 9.30719ZM19.7098 16.6088C19.7098 16.6654 19.6892 16.7144 19.6478 16.7558C19.6063 16.7971 19.5573 16.8178 19.5007 16.8178H9.04552C8.98892 16.8178 8.93989 16.7971 8.89851 16.7558C8.85716 16.7142 8.83644 16.6654 8.83644 16.6088V10.0456C8.83644 9.98892 8.85709 9.93994 8.89851 9.89856C8.93992 9.85725 8.98894 9.83649 9.04552 9.83649H19.5008C19.5574 9.83649 19.6065 9.85718 19.6478 9.89856C19.6892 9.93996 19.7098 9.98894 19.7098 10.0456V16.6088Z" fill="white" stroke="white" stroke-width="0.5"/></svg>',apple:'<svg width="30" height="30" viewBox="0 0 30 30" fill="none" ><path opacity="0.802967" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#666666"/><path fill-rule="evenodd" clip-rule="evenodd" d="M20.9686 17.6609C20.8849 17.9033 20.7972 18.1347 20.7041 18.3566C20.4766 18.881 20.2081 19.3635 19.897 19.8065C19.4737 20.4114 19.1263 20.8299 18.8585 21.0621C18.444 21.4435 17.9994 21.6394 17.5232 21.6496C17.1812 21.6496 16.7698 21.5525 16.2897 21.3559C15.8087 21.1592 15.3665 21.0621 14.9622 21.0621C14.5381 21.0621 14.0833 21.1592 13.5968 21.3559C13.1096 21.5525 12.7171 21.6559 12.417 21.6654C11.9606 21.6852 11.5057 21.4846 11.0516 21.0621C10.7618 20.8094 10.3993 20.3758 9.96501 19.7623C9.49909 19.1068 9.11608 18.3463 8.816 17.4792C8.49459 16.5435 8.3335 15.6369 8.3335 14.7595C8.3335 13.7543 8.55066 12.8872 8.98578 12.1607C9.32772 11.5771 9.78259 11.1167 10.352 10.7787C10.9213 10.4407 11.5365 10.2685 12.1991 10.2575C12.5615 10.2575 13.0369 10.3696 13.6276 10.59C14.2167 10.8111 14.595 10.9232 14.7608 10.9232C14.8848 10.9232 15.3049 10.7921 16.0172 10.5307C16.6908 10.2883 17.2594 10.188 17.7253 10.2275C18.9873 10.3294 19.9349 10.8269 20.5659 11.7232C19.4374 12.407 18.8791 13.3649 18.8901 14.5937C18.9004 15.5508 19.2471 16.3476 19.9294 16.9802C20.2389 17.2731 20.5848 17.4998 20.9686 17.6609ZM17.794 6.66675C17.8043 6.76704 17.809 6.86733 17.809 6.96683C17.809 7.71704 17.535 8.4175 16.9893 9.06584C16.3299 9.83658 15.5324 10.282 14.6676 10.2117C14.6566 10.1217 14.6503 10.0269 14.6503 9.9274C14.6503 9.2072 14.9638 8.43645 15.5205 7.80628C15.7985 7.48724 16.1523 7.2219 16.5803 7.01027C17.0083 6.80179 17.4134 6.68649 17.794 6.66675Z" fill="white"/></svg>',langExpand:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 15 10" fill="none" ><path d="M0.557617 2.5576L2.20262 0.912598L7.55762 6.25593L12.9126 0.912598L14.5576 2.5576L7.55762 9.5576L0.557617 2.5576Z" fill="black" fill-opacity="0.7"/></svg>',langSelect:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 16 12" fill="none" ><path d="M5.45455 9.36111L2.14899 6.05555L2.11364 6.0202L2.07828 6.05555L0.964645 7.16919L0.929289 7.20455L0.964645 7.2399L5.41919 11.6944L5.45455 11.7298L5.4899 11.6944L15.0354 2.14899L15.0707 2.11364L15.0354 2.07828L13.9217 0.964645L13.8864 0.929289L13.851 0.964645L5.45455 9.36111Z" fill="#005BF0" stroke="#005BF0" stroke-width="0.1"/></svg>',manageAccount:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 24 20" fill="none" ><path fill-rule="evenodd" clip-rule="evenodd" d="M14.8939 9.14809C14.8939 9.14809 15.9901 7.67638 15.9901 6.06451C15.9901 4.97077 15.9901 3.60968 15.378 2.39577C14.8261 1.3025 13.5928 0 10.8519 0C8.11032 0 6.87704 1.3025 6.3258 2.39562C5.71283 3.60968 5.71283 4.97061 5.71283 6.06436C5.71283 7.67685 6.48205 9.51778 7.80923 11.1479C7.49173 11.4476 6.18533 12.1007 5.40033 12.4925C3.84362 13.2712 2.85581 13.7864 2.26503 14.3767C0.957376 15.6853 0.858471 17.8807 0.851752 18.3079C0.845033 18.7535 1.01722 19.1843 1.33097 19.5029C1.64347 19.8202 2.07206 19.9998 2.51768 19.9998H14.1847V18.7499H2.51768C2.40722 18.7499 2.29925 18.7048 2.22159 18.6254C2.14409 18.5467 2.10019 18.4381 2.10128 18.327C2.10487 18.1176 2.16237 16.2481 3.14893 15.2612C3.6044 14.8059 4.55783 14.3121 5.95955 13.6107C7.45579 12.8631 8.28548 12.4175 8.66766 12.0562L9.51125 11.2586L8.77876 10.3589C7.62501 8.94169 6.96267 7.37607 6.96267 6.06451C6.96267 5.05311 6.96267 3.90749 7.44126 2.95905C8.01438 1.82499 9.16079 1.25 10.8519 1.25C12.5416 1.25 13.6892 1.82499 14.2619 2.95843C14.7405 3.90749 14.7405 5.05311 14.7405 6.06451C14.6742 6.4601 14.6529 6.7087 14.6374 6.88973C14.5966 7.36559 14.5958 7.37448 13.9236 8.35887L13.1911 9.25918L14.0348 10.0564C14.8939 9.5 14.8939 9.14809 14.8939 9.14809ZM22.5496 13.8889H23.4852C23.7691 13.8889 24 14.1198 24 14.4037V15.5961C24 15.88 23.7691 16.1111 23.4852 16.1111H22.5496C22.3993 16.1111 22.2752 16.1939 22.2178 16.3328C22.1604 16.4717 22.1894 16.618 22.2956 16.7243L22.957 17.3856C23.0543 17.483 23.1078 17.6122 23.1078 17.7496C23.1078 17.8872 23.0543 18.0167 22.957 18.1139L22.1139 18.957C21.9194 19.1515 21.5804 19.1519 21.3856 18.957L20.7243 18.2957C20.6363 18.208 20.5394 18.1894 20.4739 18.1894C20.2956 18.1894 20.1109 18.3241 20.1109 18.5496V19.485C20.1109 19.7689 19.88 20 19.5961 20H18.4037C18.1198 20 17.8889 19.7689 17.8891 19.485V18.5496C17.8891 18.3243 17.7044 18.1894 17.5261 18.1894C17.4604 18.1894 17.3637 18.2078 17.2757 18.2957L16.6144 18.957C16.4196 19.152 16.0807 19.1517 15.8861 18.957L15.043 18.1139C14.9457 18.0165 14.8922 17.8872 14.8922 17.7496C14.8922 17.6122 14.9457 17.4828 15.043 17.3856L15.7044 16.7243C15.8106 16.618 15.8398 16.4717 15.7822 16.3328C15.7246 16.1939 15.6007 16.1111 15.4504 16.1111H14.5148C14.2309 16.1111 14 15.88 14 15.5959V14.4037C14 14.1198 14.2309 13.8889 14.5148 13.8889H15.4504C15.6007 13.8889 15.7246 13.8061 15.782 13.6672C15.8394 13.5283 15.8104 13.382 15.7043 13.2757L15.0428 12.6144C14.9456 12.517 14.892 12.3878 14.892 12.2504C14.892 12.1128 14.9456 11.9833 15.0428 11.8861L15.8859 11.043C16.0804 10.8485 16.4194 10.8481 16.6143 11.043L17.2756 11.7043C17.3635 11.792 17.4602 11.8106 17.5257 11.8106C17.7043 11.8106 17.8889 11.6759 17.8889 11.4504V10.5148C17.8889 10.2309 18.1198 10 18.4037 10H19.5963C19.8802 10 20.1111 10.2309 20.1111 10.5148V11.4504C20.1111 11.5804 20.1711 11.6637 20.2213 11.7107C20.2893 11.7743 20.3813 11.8106 20.4739 11.8106C20.5396 11.8106 20.6363 11.7922 20.7243 11.7043L21.3856 11.043C21.5804 10.8481 21.9194 10.8485 22.1139 11.043L22.957 11.8861C23.0543 11.9835 23.1078 12.1128 23.1078 12.2504C23.1078 12.3878 23.0543 12.5172 22.957 12.6144L22.2956 13.2757C22.1894 13.382 22.1602 13.5283 22.2178 13.6672C22.2754 13.8061 22.3993 13.8889 22.5496 13.8889ZM19 16.2963C19.7146 16.2963 20.2963 15.7146 20.2963 15C20.2963 14.2854 19.7146 13.7037 19 13.7037C18.2854 13.7037 17.7037 14.2854 17.7037 15C17.7037 15.7146 18.2854 16.2963 19 16.2963Z" fill="#666666" /></svg>',externalLink:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 24 25" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.3521 5.68455C19.3891 5.77155 19.4091 5.91455 19.4091 5.91455H19.3901V10.8506C19.3901 11.2506 19.0761 11.4736 18.6751 11.4736H18.6851C18.2841 11.4736 17.9411 11.2506 17.9411 10.8506V7.76755L11.6751 14.0686C11.3921 14.3526 10.9331 14.3456 10.6921 14.0626V14.0496C10.4501 13.7666 10.3851 13.2816 10.6691 12.9996L16.9531 6.63955H13.8701C13.4701 6.63955 13.1081 6.34155 13.1081 5.94055V5.96655C13.1081 5.56655 13.4701 5.19055 13.8701 5.19055H18.7021H18.6661V5.24055C18.9071 5.24055 19.2421 5.42355 19.3521 5.68455ZM16.1901 12.3766L17.6401 13.8266V18.3996C17.6401 19.1996 17.0101 19.8096 16.2101 19.8096H6.05906C5.25906 19.8096 4.59106 19.1996 4.59106 18.3996V8.25055C4.59106 7.45055 5.25906 6.76055 6.06006 6.76055H10.6321L12.0821 8.21055H6.04206V18.3605H16.1901V12.3766Z" fill="#555555"/></svg>',iconMore:'<svg width="25" height="18" viewBox="0 0 25 18" fill="none" ><path d="M17.3473 0.85H2.41024C1.77929 0.85 1.26862 1.36067 1.26862 1.99162V15.9328C1.26862 16.5638 1.77929 17.0744 2.41024 17.0744H17.2825C17.6663 17.0744 18.0181 16.8742 18.2305 16.5634L23.2966 8.95722L18.2305 1.35106C18.0048 1.02022 17.7088 0.85 17.3473 0.85Z" stroke="#666666" stroke-width="1.7"/><circle cx="8" cy="9" r="2" fill="#666666"/><circle cx="14" cy="9" r="2" fill="#666666"/></svg>',urlSetting:'<svg class="mgPlayerJSProd_matching-algorithm-icon" overflow="visible" preserveAspectRatio="none" viewBox="0 0 21 18" width="21" height="21"><g class="mgPlayerJSProd_rule-engine-variable" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="mgPlayerJSProd_matching-algorithm-svg" transform="translate(0, 0) rotate(0)" fill="#7A7A7A" stroke="#7A7A7A"><path d="M13.01895,14.39189c-0.01254,-0.12894 -0.01895,-0.25966 -0.01895,-0.39189c0,-2.20914 1.79086,-4 4,-4c0.11772,0 0.23426,0.00509 0.3494,0.01505v-6.77181h-16.6988v10.13514c0,0.55975 0.48547,1.01351 1.08434,1.01351zM13.01895,14.39189c0.0202,0.20777 0.0563,0.41088 0.10706,0.60811zM18.00006,10.12603c1.7252,0.44406 2.99994,2.01015 2.99994,3.87397c0,2.20914 -1.79086,4 -4,4c-1.86382,0 -3.42991,-1.27475 -3.87397,-2.99995l-11.39109,-0.00005c-0.95818,0 -1.73494,-0.72602 -1.73494,-1.62162v-11.75676c0,-0.8956 0.77676,-1.62162 1.73494,-1.62162h14.53012c0.95818,0 1.73494,0.72602 1.73494,1.62162v8.5044zM0.6506,2.43243h16.6988v-0.81081c0,-0.55975 -0.48547,-1.01351 -1.08434,-1.01351h-14.53012c-0.59886,0 -1.08434,0.45377 -1.08434,1.01351zM9.08352,6.79157c0.67617,0.2842 1.54621,1.0281 2.66291,2.24836c0.82275,0.73575 1.25358,1.44229 1.25358,2.13334c0,1.03887 -0.96457,1.82674 -2.0587,1.82674c-0.64928,0 -1.43267,-0.35416 -2.40568,-1.04146c-0.22538,-0.1592 -0.26271,-0.45046 -0.08337,-0.65054c0.17934,-0.20008 0.50743,-0.23321 0.73282,-0.07401c0.80277,0.56705 1.40668,0.84007 1.75623,0.84007c0.53657,0 1.01566,-0.39132 1.01566,-0.9008c0,-0.40792 -0.30927,-0.91127 -0.96761,-1.49602l-0.01914,-0.017l-0.01705,-0.01866c-1.03076,-1.12826 -1.82061,-1.80494 -2.31598,-2.01315c-0.39136,-0.16449 -0.86744,-0.07696 -1.48189,0.32473c-0.23193,0.15162 -0.5584,0.10762 -0.72919,-0.09826c-0.17079,-0.20589 -0.12124,-0.4957 0.11069,-0.64732c0.89637,-0.58598 1.76316,-0.74536 2.54673,-0.41602zM6.84152,10.30997c-0.67197,-0.29927 -1.52993,-1.06688 -2.62644,-2.32062c-0.81076,-0.75854 -1.22963,-1.4807 -1.21743,-2.17966c0.01834,-1.05076 0.99799,-1.83078 2.09345,-1.81166c0.65007,0.01135 1.42816,0.38325 2.39021,1.09542c0.22285,0.16496 0.25508,0.46021 0.07199,0.65944c-0.18309,0.19923 -0.51217,0.22701 -0.73501,0.06205c-0.79374,-0.58757 -1.39356,-0.87427 -1.74353,-0.88038c-0.53722,-0.00938 -1.0238,0.37804 -1.03279,0.89335c-0.0072,0.41259 0.29355,0.92711 0.94238,1.53004l0.01886,0.01752l0.01674,0.01917c1.01209,1.15918 1.79096,1.85741 2.28325,2.07665c0.38893,0.17321 0.86713,0.093 1.48942,-0.30255c0.23489,-0.1493 0.56097,-0.0991 0.72834,0.11213c0.16737,0.21123 0.11263,0.50349 -0.12225,0.65279c-0.9078,0.57702 -1.77846,0.72307 -2.55717,0.37627zM17,17.31429c1.83043,0 3.31429,-1.48386 3.31429,-3.31429c0,-1.83043 -1.48386,-3.31429 -3.31429,-3.31429c-1.83043,0 -3.31429,1.48386 -3.31429,3.31429c0,1.83043 1.48386,3.31429 3.31429,3.31429zM16.81064,14.86317c-0.18135,0.18244 -0.47561,0.18244 -0.65688,0l-1.01775,-1.02383c-0.18135,-0.18235 -0.18135,-0.47837 0,-0.66072c0.18127,-0.18244 0.47553,-0.18244 0.65688,0l0.60638,0.60991c0.04578,0.04596 0.12008,0.04596 0.16595,0l1.64189,-1.65171c0.18127,-0.18244 0.47553,-0.18244 0.65688,0c0.08709,0.08761 0.13601,0.20647 0.13601,0.33036c0,0.12388 -0.04893,0.24275 -0.13601,0.33036z" style="stroke-width: 0; stroke-linecap: butt; stroke-linejoin: miter; fill: rgb(115, 115, 148);" vector-effect="non-scaling-stroke" /></g></g></svg>',iconCookiePolicy:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100"  width="42" height="42" viewBox="0 0 42 42" fill="none"><path d="M41.1625 19.3827C38.4609 18.4126 36.7993 15.6633 37.0081 13.4923C37.0081 13.1354 36.7942 12.8037 36.5238 12.5695C36.2535 12.3363 35.8341 12.2354 35.4832 12.2919C31.3664 12.8959 27.5967 9.88409 27.2232 5.65046C27.1896 5.26835 26.9805 4.92464 26.6561 4.71915C26.3329 4.5149 25.9302 4.47044 25.5734 4.60382C22.2365 5.82584 19.0834 3.61624 17.8253 0.737111C17.5898 0.19874 17.0058 -0.098049 16.4302 0.0293456C6.95781 2.14304 0 11.2922 0 21.0001C0 32.5346 9.46559 42.0001 21 42.0001C32.5344 42.0001 42 32.5346 42 21.0001C41.9658 20.2673 41.9607 19.6687 41.1625 19.3827ZM8.63379 22.3232C7.95424 22.3232 7.40332 21.7723 7.40332 21.0928C7.40332 20.413 7.95424 19.8623 8.63379 19.8623C9.31334 19.8623 9.86426 20.413 9.86426 21.0928C9.86426 21.7723 9.31325 22.3232 8.63379 22.3232ZM13.6172 32.0744C11.5817 32.0744 9.92578 30.4185 9.92578 28.383C9.92578 26.3474 11.5817 24.6916 13.6172 24.6916C15.6527 24.6916 17.3086 26.3474 17.3086 28.383C17.3086 30.4185 15.6528 32.0744 13.6172 32.0744ZM14.8477 17.3087C13.491 17.3087 12.3867 16.2044 12.3867 14.8478C12.3867 13.4912 13.491 12.3869 14.8477 12.3869C16.2043 12.3869 17.3086 13.4912 17.3086 14.8478C17.3086 16.2044 16.2043 17.3087 14.8477 17.3087ZM24.6914 34.5353C23.3348 34.5353 22.2305 33.431 22.2305 32.0744C22.2305 30.7177 23.3348 29.6134 24.6914 29.6134C26.048 29.6134 27.1523 30.7177 27.1523 32.0744C27.1523 33.431 26.048 34.5353 24.6914 34.5353ZM25.9219 24.6916C23.8864 24.6916 22.2305 23.0357 22.2305 21.0001C22.2305 18.9646 23.8864 17.3087 25.9219 17.3087C27.9574 17.3087 29.6133 18.9646 29.6133 21.0001C29.6133 23.0357 27.9575 24.6916 25.9219 24.6916ZM33.2432 27.2451C32.5636 27.2451 32.0127 26.6942 32.0127 26.0146C32.0127 25.3349 32.5636 24.7842 33.2432 24.7842C33.9227 24.7842 34.4736 25.3349 34.4736 26.0146C34.4736 26.6942 33.9226 27.2451 33.2432 27.2451Z" fill="#454560" /></svg>',app_selected:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100"  viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="12" fill="#005BF0" /><path d="M18.68 7.33624C19.1067 7.78479 19.1067 8.51188 18.68 8.9602L11.3527 16.6638C10.9261 17.1121 10.2347 17.1121 9.80806 16.6638L6.31999 12.9964C5.89334 12.5481 5.89334 11.821 6.31999 11.3727C6.74642 10.9242 7.43802 10.9242 7.86446 11.3727L10.5803 14.2279L17.1353 7.33624C17.562 6.88792 18.2536 6.88792 18.68 7.33624Z" fill="white" /></svg>',select_application:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" class="mgPlayerJSProd_ng-scope"><g filter="url(#mgPlayerJSProd_filter0_d)"><path d="M3.07775 4.15381C4.22479 4.15381 5.15465 3.22395 5.15465 2.07691C5.15465 0.929863 4.22479 0 3.07775 0C1.9307 0 1.00084 0.929863 1.00084 2.07691C1.00084 3.22395 1.9307 4.15381 3.07775 4.15381Z" fill="#ACADC1"></path><path d="M10.0008 4.15381C11.1479 4.15381 12.0777 3.22395 12.0777 2.07691C12.0777 0.929863 11.1479 0 10.0008 0C8.8538 0 7.92393 0.929863 7.92393 2.07691C7.92393 3.22395 8.8538 4.15381 10.0008 4.15381Z" fill="#ACADC1"></path><path d="M16.923 4.15381C18.0701 4.15381 18.9999 3.22395 18.9999 2.07691C18.9999 0.929863 18.0701 0 16.923 0C15.776 0 14.8461 0.929863 14.8461 2.07691C14.8461 3.22395 15.776 4.15381 16.923 4.15381Z" fill="#ACADC1"></path><path class="mgPlayerJSProd_app-icon-dot" d="M3.07691 11.0769C4.22395 11.0769 5.15381 10.147 5.15381 9C5.15381 7.85296 4.22395 6.9231 3.07691 6.9231C1.92986 6.9231 1 7.85296 1 9C1 10.147 1.92986 11.0769 3.07691 11.0769Z" fill="#005BF0"></path><path class="mgPlayerJSProd_app-icon-dot" d="M10.0008 11.0769C11.1479 11.0769 12.0777 10.147 12.0777 9C12.0777 7.85296 11.1479 6.9231 10.0008 6.9231C8.8538 6.9231 7.92393 7.85296 7.92393 9C7.92393 10.147 8.8538 11.0769 10.0008 11.0769Z" fill="#005BF0"></path><path d="M16.923 11.0769C18.0701 11.0769 18.9999 10.147 18.9999 9C18.9999 7.85296 18.0701 6.9231 16.923 6.9231C15.776 6.9231 14.8461 7.85296 14.8461 9C14.8461 10.147 15.776 11.0769 16.923 11.0769Z" fill="#F8F8FB"></path><path class="mgPlayerJSProd_app-icon-dot" d="M3.07691 17.9996C4.22395 17.9996 5.15381 17.0698 5.15381 15.9227C5.15381 14.7757 4.22395 13.8458 3.07691 13.8458C1.92986 13.8458 1 14.7757 1 15.9227C1 17.0698 1.92986 17.9996 3.07691 17.9996Z" fill="#005BF0"></path><path d="M10.0008 17.9996C11.1479 17.9996 12.0777 17.0698 12.0777 15.9227C12.0777 14.7757 11.1479 13.8458 10.0008 13.8458C8.8538 13.8458 7.92393 14.7757 7.92393 15.9227C7.92393 17.0698 8.8538 17.9996 10.0008 17.9996Z" fill="#F8F8FB"></path><path d="M16.923 17.9996C18.0701 17.9996 18.9999 17.0698 18.9999 15.9227C18.9999 14.7757 18.0701 13.8458 16.923 13.8458C15.776 13.8458 14.8461 14.7757 14.8461 15.9227C14.8461 17.0698 15.776 17.9996 16.923 17.9996Z" fill="#F8F8FB"></path></g><defs><filter id="mgPlayerJSProd_filter0_d" x="0" y="0" width="19.9999" height="19.9996" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset dy="1"></feOffset><feGaussianBlur stdDeviation="0.5"></feGaussianBlur><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.187664 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"></feBlend></filter></defs></svg>',maintenance_icon:'<svg  viewBox="0 0 278 236.4"><defs><style>.cls-1{isolation:isolate;}.cls-2{fill:none;stroke:#cde7f5;stroke-miterlimit:10;}.cls-3{fill:#ced1da;}.cls-4{fill:#e7e9f0;}.cls-5{fill:#c9cbd6;}.cls-6{opacity:0.5;}.cls-7{fill:#c9cbd6;}.cls-8{fill:#468bca;}.cls-9{fill:#6fb3e3;}.cls-10{fill:#cde7f5;}.cls-11{fill:#fecc91;}.cls-12{fill:#8cc752;}.cls-13{fill:#b4e4fa;}.cls-14{fill:#fcb149;}.cls-15{fill:#f68740;}.cls-16,.cls-17{fill:#fbc4a9;}.cls-17,.cls-20,.cls-26{opacity:0.2;}.cls-17,.cls-20,.cls-25,.cls-26{mix-blend-mode:multiply;}.cls-18{fill:#55bdec;}.cls-19{fill:#2aaae2;}.cls-20{fill:#185771;}.cls-21{fill:#efb184;}.cls-22{fill:#60b9e7;}.cls-23{fill:#181817;}.cls-24{fill:#e16ca9;}.cls-25{fill:#13405e;opacity:0.3;}.cls-26{fill:#194c6d;}.cls-27{fill:#b5b9bc;}.cls-28{fill:#7e8283;}.cls-29{fill:#e3e5e5;}.cls-30{fill:#bdbbbb;}.cls-31{fill:#d3d1d0;}.cls-32{fill:#d6dfe6;}.cls-33{fill:#eaf0f4;}.cls-34{fill:#7fcff4;}.cls-35{fill:#301b0f;}.cls-36{fill:#e8a477;}.cls-37{fill:#dc976a;}.cls-38{fill:#f1b387;}.cls-39{fill:#25170d;}.cls-40{fill:#93d9f8;}</style></defs><title>Graphics for switch off</title><g class="cls-1"><g class="Layer_2" data-name="Layer 2"><path class="cls-2" d="M88.24,184.61a4,4,0,0,1,4-4H217.94a4,4,0,0,1,4,4" transform="translate(-11 -6.8)"/><path class="cls-3" d="M222.12,150.94H221a3.43,3.43,0,0,0-3.42-3.43H91.87a3.44,3.44,0,0,0-3.43,3.43H87.32a4.55,4.55,0,0,1,4.55-4.55H217.58A4.55,4.55,0,0,1,222.12,150.94Z" transform="translate(-11 -6.8)"/><path class="cls-2" d="M87.57,116.76a4,4,0,0,1,4-4H217.27a4,4,0,0,1,4,4" transform="translate(-11 -6.8)"/><rect class="cls-4" x="100.57" y="189.13" width="86.92" height="17.98"/><circle class="cls-5" cx="118.32" cy="198.51" r="1.88"/><circle class="cls-5" cx="124.41" cy="198.51" r="1.88"/><circle class="cls-5" cx="131.4" cy="198.51" r="1.88"/><circle class="cls-5" cx="137.5" cy="198.51" r="1.88"/><circle class="cls-5" cx="144.31" cy="198.51" r="1.88"/><circle class="cls-5" cx="150.4" cy="198.51" r="1.88"/><circle class="cls-5" cx="157.39" cy="198.51" r="1.88"/><circle class="cls-5" cx="163.49" cy="198.51" r="1.88"/><circle class="cls-5" cx="169.7" cy="198.51" r="1.88"/><rect class="cls-5" y="204.87" width="278" height="4.47"/><rect class="cls-4" x="100.43" y="49.71" width="86.83" height="13.74"/><g class="cls-6"><path class="cls-7" d="M121.28,70.81H34.41a1.76,1.76,0,0,0-1.75,1.75v23.9a1.75,1.75,0,0,0,1.75,1.74h86.87A1.75,1.75,0,0,0,123,96.46V72.56A1.76,1.76,0,0,0,121.28,70.81ZM42.52,89.37a1.54,1.54,0,1,1-3.07,0V78.49a1.54,1.54,0,0,1,3.07,0Zm5.18,0a1.54,1.54,0,1,1-3.07,0V78.49a1.54,1.54,0,0,1,3.07,0Zm5.19,0a1.54,1.54,0,1,1-3.08,0V78.49a1.54,1.54,0,0,1,3.08,0Zm43.56-1.53H63.85a3.59,3.59,0,0,1,0-7.17h32.6a3.59,3.59,0,0,1,0,7.17Zm13.82-.21a3.38,3.38,0,1,1,3.38-3.38A3.38,3.38,0,0,1,110.27,87.63Z" transform="translate(-11 -6.8)"/><path class="cls-7" d="M121.28,113.79H34.41a1.76,1.76,0,0,0-1.75,1.75v23.9a1.75,1.75,0,0,0,1.75,1.74h86.87a1.75,1.75,0,0,0,1.75-1.74v-23.9A1.76,1.76,0,0,0,121.28,113.79ZM42.52,132.35a1.54,1.54,0,1,1-3.07,0V121.47a1.54,1.54,0,0,1,3.07,0Zm5.18,0a1.54,1.54,0,1,1-3.07,0V121.47a1.54,1.54,0,0,1,3.07,0Zm5.19,0a1.54,1.54,0,0,1-3.08,0V121.47a1.54,1.54,0,0,1,3.08,0Zm43.56-1.54H63.85a3.58,3.58,0,0,1,0-7.16h32.6a3.58,3.58,0,0,1,0,7.16Zm13.82-.2a3.38,3.38,0,1,1,3.38-3.38A3.38,3.38,0,0,1,110.27,130.61Z" transform="translate(-11 -6.8)"/><path class="cls-7" d="M278.11,10.64H155.68a1.75,1.75,0,0,0-1.75,1.75V47.07a1.74,1.74,0,0,0,1.75,1.74H278.11a1.75,1.75,0,0,0,1.75-1.74V12.39A1.76,1.76,0,0,0,278.11,10.64ZM167.66,37A1.68,1.68,0,0,1,166,38.65h-.93A1.69,1.69,0,0,1,163.38,37V20.88a1.69,1.69,0,0,1,1.68-1.68H166a1.68,1.68,0,0,1,1.67,1.68Zm7.23,0a1.69,1.69,0,0,1-1.68,1.68h-.93A1.68,1.68,0,0,1,170.61,37V20.88a1.68,1.68,0,0,1,1.67-1.68h.93a1.69,1.69,0,0,1,1.68,1.68Zm7.22,0a1.68,1.68,0,0,1-1.68,1.68h-.92A1.68,1.68,0,0,1,177.83,37V20.88a1.68,1.68,0,0,1,1.68-1.68h.92a1.68,1.68,0,0,1,1.68,1.68Zm65.7-6.52a3.93,3.93,0,0,1-3.91,3.92H196.31a3.93,3.93,0,0,1-3.91-3.92V28.29a3.92,3.92,0,0,1,3.91-3.91H243.9a3.92,3.92,0,0,1,3.91,3.91Zm14.27,3.63a4.71,4.71,0,1,1,4.71-4.71A4.71,4.71,0,0,1,262.08,34.08Z" transform="translate(-11 -6.8)"/><path class="cls-7" d="M279.79,87.82H157.35a1.75,1.75,0,0,0-1.74,1.75v34.67a1.75,1.75,0,0,0,1.74,1.75H279.79a1.75,1.75,0,0,0,1.74-1.75V89.57A1.75,1.75,0,0,0,279.79,87.82ZM169.34,114.15a1.68,1.68,0,0,1-1.68,1.67h-.92a1.68,1.68,0,0,1-1.68-1.67V98.06a1.68,1.68,0,0,1,1.68-1.68h.92a1.69,1.69,0,0,1,1.68,1.68Zm7.22,0a1.67,1.67,0,0,1-1.67,1.67H174a1.68,1.68,0,0,1-1.68-1.67V98.06A1.69,1.69,0,0,1,174,96.38h.93a1.68,1.68,0,0,1,1.67,1.68Zm7.23,0a1.68,1.68,0,0,1-1.68,1.67h-.93a1.67,1.67,0,0,1-1.67-1.67V98.06a1.68,1.68,0,0,1,1.67-1.68h.93a1.69,1.69,0,0,1,1.68,1.68Zm65.7-6.52a3.93,3.93,0,0,1-3.92,3.91H198a3.92,3.92,0,0,1-3.92-3.91v-2.16a3.93,3.93,0,0,1,3.92-3.92h47.58a3.93,3.93,0,0,1,3.92,3.92Zm14.26,3.63a4.71,4.71,0,1,1,4.71-4.71A4.7,4.7,0,0,1,263.75,111.26Z" transform="translate(-11 -6.8)"/><g class="Settings"><path class="cls-7" d="M104.64,25.81a1.4,1.4,0,0,0-1.38-1A4.73,4.73,0,0,1,100,16.54a1.18,1.18,0,0,0,.13-1.61,20.65,20.65,0,0,0-3.38-3.42,1.18,1.18,0,0,0-1.63.13,4.92,4.92,0,0,1-5.33,1.19,4.75,4.75,0,0,1-2.89-4.64,1.19,1.19,0,0,0-1.05-1.25,21.49,21.49,0,0,0-4.81,0A1.19,1.19,0,0,0,80,8.15a4.76,4.76,0,0,1-2.93,4.57,5,5,0,0,1-5.29-1.21,1.18,1.18,0,0,0-1.61-.13,21.06,21.06,0,0,0-3.46,3.41,1.18,1.18,0,0,0,.13,1.63A4.76,4.76,0,0,1,68,21.76a5,5,0,0,1-4.65,2.89,1.16,1.16,0,0,0-1.24,1,22,22,0,0,0,0,4.87,1.42,1.42,0,0,0,1.41,1.05A4.68,4.68,0,0,1,68,34.54a4.78,4.78,0,0,1-1.2,5.29,1.18,1.18,0,0,0-.13,1.61A21.44,21.44,0,0,0,70,44.86a1.19,1.19,0,0,0,1.63-.13A4.93,4.93,0,0,1,77,43.53a4.72,4.72,0,0,1,2.89,4.64,1.2,1.2,0,0,0,1.05,1.25,21.5,21.5,0,0,0,4.81,0,1.18,1.18,0,0,0,1.06-1.22,4.77,4.77,0,0,1,2.93-4.56A4.93,4.93,0,0,1,95,44.85a1.2,1.2,0,0,0,1.62.14,21.12,21.12,0,0,0,3.46-3.42,1.21,1.21,0,0,0-.13-1.63,4.73,4.73,0,0,1-1.2-5.33,4.79,4.79,0,0,1,4.37-2.9h.27a1.19,1.19,0,0,0,1.25-1A21.35,21.35,0,0,0,104.64,25.81ZM83.43,35.36a7.13,7.13,0,1,1,7.13-7.13A7.14,7.14,0,0,1,83.43,35.36Z" transform="translate(-11 -6.8)"/></g><g class="Settings-2" data-name="Settings"><path class="cls-7" d="M67.54,158a.4.4,0,0,0-.4-.3,1.37,1.37,0,0,1-.93-2.39.33.33,0,0,0,0-.46,5.74,5.74,0,0,0-1-1,.34.34,0,0,0-.47,0,1.43,1.43,0,0,1-1.54.35,1.36,1.36,0,0,1-.84-1.34.34.34,0,0,0-.3-.37,6.55,6.55,0,0,0-1.4,0,.33.33,0,0,0-.3.35,1.4,1.4,0,0,1-.85,1.33,1.46,1.46,0,0,1-1.54-.35.33.33,0,0,0-.46,0,5.91,5.91,0,0,0-1,1,.35.35,0,0,0,0,.47,1.39,1.39,0,0,1,.35,1.55,1.46,1.46,0,0,1-1.35.83.34.34,0,0,0-.36.31,6.65,6.65,0,0,0,0,1.41.41.41,0,0,0,.4.3,1.37,1.37,0,0,1,.93,2.38.35.35,0,0,0,0,.47,5.8,5.8,0,0,0,1,1,.34.34,0,0,0,.47,0,1.41,1.41,0,0,1,1.54-.34,1.36,1.36,0,0,1,.84,1.34.34.34,0,0,0,.3.36,5.79,5.79,0,0,0,.72,0l.68,0a.34.34,0,0,0,.3-.36,1.38,1.38,0,0,1,.85-1.32,1.43,1.43,0,0,1,1.54.35.34.34,0,0,0,.46,0,6.75,6.75,0,0,0,1-1,.35.35,0,0,0,0-.47,1.37,1.37,0,0,1,.92-2.39h.08a.34.34,0,0,0,.36-.3A6.65,6.65,0,0,0,67.54,158Zm-6.15,2.77a2.07,2.07,0,1,1,2.07-2.07A2.07,2.07,0,0,1,61.39,160.79Z" transform="translate(-11 -6.8)"/></g></g><path class="cls-3" d="M222.48,211.92h-1.12V89a10.25,10.25,0,0,0-10.23-10.24H98.68A10.25,10.25,0,0,0,88.44,89V211.92H87.32V89A11.37,11.37,0,0,1,98.68,77.66H211.13A11.36,11.36,0,0,1,222.48,89Z" transform="translate(-11 -6.8)"/><rect class="cls-8" x="91.53" y="69.55" width="3.82" height="3.35"/><rect class="cls-8" x="191.59" y="69.55" width="3.82" height="3.35"/><rect class="cls-8" x="91.53" y="104.3" width="3.82" height="3.35"/><rect class="cls-8" x="191.59" y="104.3" width="3.82" height="3.35"/><rect class="cls-8" x="91.53" y="138.59" width="3.82" height="3.35"/><rect class="cls-8" x="191.59" y="138.59" width="3.82" height="3.35"/><rect class="cls-8" x="91.53" y="171.87" width="3.82" height="3.35"/><rect class="cls-8" x="191.59" y="171.87" width="3.82" height="3.35"/><rect class="cls-9" x="94.27" y="56.74" width="98.66" height="29.91" rx="1.56" ry="1.56"/><rect class="cls-10" x="101.68" y="63.45" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="107.34" y="63.45" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="113" y="63.45" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-8" x="124.41" y="67.5" width="43.41" height="7.83" rx="3.5" ry="3.5"/><circle class="cls-11" cx="179.01" cy="71.41" r="3.69"/><rect class="cls-9" x="94.27" y="90.09" width="98.66" height="29.91" rx="1.56" ry="1.56"/><rect class="cls-10" x="101.68" y="96.8" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="107.34" y="96.8" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="113" y="96.8" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-8" x="124.41" y="100.85" width="43.41" height="7.83" rx="3.5" ry="3.5"/><circle class="cls-12" cx="179.01" cy="104.77" r="3.69"/><rect class="cls-9" x="94.27" y="125.31" width="98.66" height="29.91" rx="1.56" ry="1.56"/><rect class="cls-10" x="101.68" y="132.02" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="107.34" y="132.02" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="113" y="132.02" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-8" x="124.41" y="136.07" width="43.41" height="7.83" rx="3.5" ry="3.5"/><circle class="cls-11" cx="179.01" cy="139.98" r="3.69"/><rect class="cls-9" x="94.27" y="159.22" width="98.66" height="29.91" rx="1.56" ry="1.56"/><rect class="cls-10" x="101.68" y="165.93" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="107.34" y="165.93" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-10" x="113" y="165.93" width="3.35" height="15.23" rx="1.5" ry="1.5"/><rect class="cls-8" x="124.41" y="169.98" width="43.41" height="7.83" rx="3.5" ry="3.5"/><circle class="cls-12" cx="179.01" cy="173.9" r="3.69"/><path class="cls-3" d="M56.24,202.38l-.3-1.07c27.85-8,34.8-42.45,34.86-42.8v-66l0-.07A13.83,13.83,0,0,1,105.33,82l-.12,1.11c-.43,0-10.54-1-13.3,9.53v66C91.83,159.08,84.75,194.18,56.24,202.38Z" transform="translate(-11 -6.8)"/><path class="cls-3" d="M60.68,202.39l-.24-1.09c.24-.06,24.23-5.59,27.25-27.11V162.8l0-.1c0-.11,4.59-11.47,17.63-9.66l-.15,1.11A15.17,15.17,0,0,0,88.8,163v11.26C85.67,196.64,60.93,202.34,60.68,202.39Z" transform="translate(-11 -6.8)"/><path class="cls-13" d="M227.5,209s-5.12.09-5.73,1.39c0,0-1.13,2.08,5.3,1.65,0,0,4.86.26,4.86-.26,0,0,.17-2.26-1-2.6A2.65,2.65,0,0,1,227.5,209Z" transform="translate(-11 -6.8)"/><path class="cls-13" d="M242.25,210.21s2.84,4.78-3.9,3.47c0,0-3.55.38-4.5-.23-.59-.38-1.14-2.2.94-2.63,0,0,4.08-.17,4.17-.61C239,210.21,239.91,211.77,242.25,210.21Z" transform="translate(-11 -6.8)"/><path class="cls-14" d="M239.48,177.73c1.53,5.72,2.77,32.63,2.77,32.63s-3.12,1.39-3.29,0l-4.62-25.46L231,209.15s-2.08,1.56-3.47-.18c0,0,1.74-31.24.7-32.28C228.2,176.69,238.74,175,239.48,177.73Z" transform="translate(-11 -6.8)"/><path class="cls-15" d="M235.08,184.9l4.62,25.46a.68.68,0,0,0,.6.59c-.67.09-1.27,0-1.34-.59l-4.2-23.13Z" transform="translate(-11 -6.8)"/><path class="cls-15" d="M228.2,176.69l.79.07c.94,2-.74,32.21-.74,32.21a2,2,0,0,0,1.26.79,2,2,0,0,1-2-.79S229.24,177.73,228.2,176.69Z" transform="translate(-11 -6.8)"/><path class="cls-16" d="M229.84,136.81s-2.31,6.2-1.47,8.07c.34.76,2.86,1.73,2.86,1.73s.26,2.69-.26,3.13,0,.35,0,.35h3.3l.17.34s-.86-5.38-.78-5.9l2.61-1.56-1.39-4.25Z" transform="translate(-11 -6.8)"/><path class="cls-17" d="M229.84,136.81l.61.23c-.53,1.54-2,6-1.29,7.54.35.76,2.87,1.74,2.87,1.74s.26,2.69-.26,3.12,0,.35,0,.35h2.57l.1.64-.17-.34H231s-.52.08,0-.35.26-3.13.26-3.13-2.52-1-2.86-1.73C227.53,143,229.84,136.81,229.84,136.81Z" transform="translate(-11 -6.8)"/><path class="cls-15" d="M231,141.23s-2.55-2.51-3-5.2c0,0,1-3.13,5.29-.52,0,0,10.12,3.4.49,11.12C233.8,146.63,229.36,143.83,231,141.23Z" transform="translate(-11 -6.8)"/><polygon class="cls-16" points="230.61 167.74 230.16 169.13 228.27 169.63 227.43 168.24 230.01 167.04 230.61 167.74"/><path class="cls-18" d="M238.73,151.31l7.16,12.53-4.18,11.35-1.37-1.28,2.61-8-5.72-8.05S236.3,152.7,238.73,151.31Z" transform="translate(-11 -6.8)"/><path class="cls-19" d="M234.45,149.72a4.19,4.19,0,0,1,5,3.88s2,22.4.06,24.13c0,0-10.24,2.26-11.81-1.91,0,0-1.21-16.83-1.91-18,0,0-2.08-9.2,5.21-8Z" transform="translate(-11 -6.8)"/><path class="cls-18" d="M231.32,153.61s-.52,6.42-4.34,4.86l-16.31-7.29.69-2.26L224,153.09s2.34-3.32,4.6-3.32C228.63,149.77,231.32,151.7,231.32,153.61Z" transform="translate(-11 -6.8)"/><path class="cls-16" d="M211.36,148.92,206.63,146s-.78.39.61,1.47l1.26,1.09s-1,.78-.4,1.43l2.57,1.22Z" transform="translate(-11 -6.8)"/><path class="cls-18" d="M236.76,158.62s1.49,10.45.6,11.94C237.36,170.56,236.07,160.41,236.76,158.62Z" transform="translate(-11 -6.8)"/><path class="cls-20" d="M225.76,157.77s2.6,16.1,1.91,18c0,0,1.3,2,2.9,2,0,0-2.19-1.1-2.19-2.29C228.38,175.49,226.54,158.56,225.76,157.77Z" transform="translate(-11 -6.8)"/><path class="cls-20" d="M240,160.86c.2.5,4.08,4.78,4.08,4.78l-3.76,8.27,2.61-8-3.23-4Z" transform="translate(-11 -6.8)"/><path class="cls-21" d="M55.66,191.63s2.55-.77,3.92,0,2.33.94,3.05,1.81.26,1.45-.63,1.53a10.08,10.08,0,0,1-4-.81,3.61,3.61,0,0,0-2.14-.41A1.19,1.19,0,0,1,55.66,191.63Z" transform="translate(-11 -6.8)"/><path class="cls-22" d="M39.36,173.64c1.25-.31,3.49.11,4.21,3.39s2.61,12.46,2.61,12.46,9.49,1.36,10.58,1.67a2,2,0,0,0-.75,2.72s-10.23,1.54-12.64-.57S34.21,174.89,39.36,173.64Z" transform="translate(-11 -6.8)"/><path class="cls-23" d="M52.69,234.23c.07-1.64.22-3.34.42-5.06l-5-.15c.3,1.08.6,2.16.85,3.16.18,2.54-1.72,3.23-.5,5.87a2.72,2.72,0,0,0,1.19,1.06A2.93,2.93,0,0,1,51.45,241a3.91,3.91,0,0,0,.85,1.29c1.46,1.32,4.88,1.2,5.61.06,1.05-1.61-3.68-5-5.12-7.88Z" transform="translate(-11 -6.8)"/><path class="cls-23" d="M66.22,222.92c.33-.19.34-.54.81-.94.32.61,1.28,1.23,1.59,1.81l.21.13c2.91,1.83,9,2.25,9,4.28,0,1.43-3,3.42-5.1,3.05a4.21,4.21,0,0,1-1.48-.7,3.17,3.17,0,0,0-2.64-.68,2.84,2.84,0,0,1-1.66-.29c-2.5-1.68-1.28-3.32-2.7-5.44C64.92,223.72,65.59,223.29,66.22,222.92Z" transform="translate(-11 -6.8)"/><path class="cls-24" d="M53.11,214.63a16.61,16.61,0,0,0-1.75-9.23c-1.93-3.66-10-7-10-7s-7,3.11-6.44,4.28c.3.66,10.79,11.11,11,11.6a3.3,3.3,0,0,1,.26,2.3c-.77,3.73.08,14.67,1.48,17.84,1,2.34,4.84,1.91,5.54.64.11-.23,0-17.92,0-20.44Z" transform="translate(-11 -6.8)"/><path class="cls-25" d="M53.76,214.83a1.21,1.21,0,0,1,0-.18C53.81,216.76,53.77,215.34,53.76,214.83Z" transform="translate(-11 -6.8)"/><path class="cls-25" d="M53.76,214.83c0-.11,0-.18,0-.18A1.21,1.21,0,0,0,53.76,214.83Z" transform="translate(-11 -6.8)"/><path class="cls-25" d="M40.49,198.15c.08,0,8.94,3.59,10.87,7.25,2.44,4.63,1.32,8.07,1.32,8.07h0c.49.62.48,3.84.52,5.88-2.52-2-2.59-8.21-6.17-6-.64.2-.18,13.42.95,18.57a18.8,18.8,0,0,0,1.36,3.86c-.58-.05-1.14-.24-1.72-1.31-.76-2.66-2.55-11.62-1.48-17.84a3.47,3.47,0,0,0-.26-2.3c-.21-.49-10.7-10.94-11-11.6C34.36,201.52,40.41,198.15,40.49,198.15Z" transform="translate(-11 -6.8)"/><path class="cls-24" d="M37.1,212.21C44,211.7,50,210.64,50,210.64c2.3,7.73,13.36,14.54,14.69,15.54.79-.1,2.8-2.22,3.42-3.17C66,219.56,56.19,206,53,203.88c-2-1.33-19.37-1.8-19.37-2.65,0-.35-4.15-.81-4.45-.82C25.73,200.4,25,213.09,37.1,212.21Z" transform="translate(-11 -6.8)"/><path class="cls-26" d="M29.18,200.41c.3,0,4.45.47,4.45.82s2.93.47,6.56.59a5,5,0,0,1-.74,1c-2.42,2.7-8.25.27-10.27,3.26-1.31,1.93,1.33,3.51,2.6,4,5.92,1.87,14,1.9,18.6-2,2,7.8,8.77,13.21,15.4,17.57a3.6,3.6,0,0,1-1.1.52c-1.33-1-12.39-7.81-14.69-15.54,0,0-6,1.06-12.89,1.57C25,213.09,25.73,200.4,29.18,200.41Z" transform="translate(-11 -6.8)"/><g class="cls-1"><polygon class="cls-27" points="27.68 196.08 27.63 196.62 35.44 202.19 35.49 201.65 27.68 196.08"/><polygon class="cls-28" points="35.49 201.65 35.44 202.19 50.02 195.48 50.07 194.95 35.49 201.65"/><polygon class="cls-29" points="27.68 196.08 35.49 201.65 50.07 194.95 42.27 189.38 27.68 196.08"/></g><g class="cls-1"><polygon class="cls-30" points="37.83 192.4 37.25 191.86 34.82 201.62 35.4 202.16 37.83 192.4"/><polygon class="cls-31" points="53.08 185.4 52.49 184.86 37.25 191.86 37.83 192.4 53.08 185.4"/><polygon class="cls-32" points="37.83 192.4 35.4 202.16 50.64 195.15 53.08 185.4 37.83 192.4"/><polygon class="cls-33" points="37.83 192.4 37.83 192.4 50.64 195.15 53.08 185.4 37.83 192.4"/></g><path class="cls-34" d="M26.41,179.8s3.06-5,14.69-6.28c0,0,1.88-.71,1.53,5.27A6.57,6.57,0,0,0,44,182c.58.81,2.1,3.85-1.53,7.34,0,0-1.52,5.31,0,8.81,1.36,3.13-6.35,5.92-12.81,5.1-.8-.1-2.56-.67-1.78-3.44s2.58-7.58,1.42-12.75S25.46,182.38,26.41,179.8Z" transform="translate(-11 -6.8)"/><path class="cls-22" d="M26.41,179.8c-.95,2.58,1.77,2,2.92,7.22s-.64,10-1.42,12.75,1,3.34,1.78,3.44a19.6,19.6,0,0,0,3.25.13c-2.12-5.05,1.05-14,1.34-19a8,8,0,0,0-4.42-7.49A10.31,10.31,0,0,0,26.41,179.8Z" transform="translate(-11 -6.8)"/><path class="cls-35" d="M39.3,164.16s-.92,6-1.45,11.67a1.9,1.9,0,0,0,2.29,1.94s4.53-6.64,1.26-13.46A6.45,6.45,0,0,0,31.88,162Z" transform="translate(-11 -6.8)"/><path class="cls-36" d="M40.31,172.05s-2.15,2.36-1.27,5c.24.72.8,3.69-3.61,2.33,0,0-4.56-2.49-3.12-3.84.95-.9,1.9-2.22.69-7Z" transform="translate(-11 -6.8)"/><path class="cls-37" d="M32.31,175.54a.69.69,0,0,0-.25.46,8.36,8.36,0,0,0,7.25-1.91L33.94,169h0l-.71.48C34.06,173.51,33.19,174.7,32.31,175.54Z" transform="translate(-11 -6.8)"/><path class="cls-38" d="M39.84,163.54s1.19.45,1.11,4c0,.39.6.93.74,1.91s.22,5-2.09,5.31a7.09,7.09,0,0,1-7-5C31.37,165.77,34.94,160.74,39.84,163.54Z" transform="translate(-11 -6.8)"/><path class="cls-39" d="M39.57,165s-10.31,3.42-3,16.79c0,0-5.34.35-7.57-4.3-1.06-2.23-.48-6.66,0-10.89,0,0,1.38-6.48,6.8-5.34C35.74,161.22,39.3,162.71,39.57,165Z" transform="translate(-11 -6.8)"/><path class="cls-35" d="M39.57,165s1.8-.28,2.56,3c0,0,0-9.28-8.86-6.75C33.27,161.24,38.49,161.66,39.57,165Z" transform="translate(-11 -6.8)"/><path class="cls-38" d="M34.63,170.54s-.57-2-1.72-1.42c-.36.18-.77.58-.26,1.61s1.61,2,2.5,1.9Z" transform="translate(-11 -6.8)"/><path class="cls-21" d="M41.2,196.82s2.54.16,3.4,1.28,2,2.28,2.29,3.31,0,1.37-.76,1.14a14.24,14.24,0,0,1-4-2.7,3.09,3.09,0,0,0-1.69-1.08C40.09,198.61,39.85,197.32,41.2,196.82Z" transform="translate(-11 -6.8)"/><path class="cls-37" d="M40.47,198.77a3.09,3.09,0,0,1,1.69,1.08,14.24,14.24,0,0,0,4,2.7,1.21,1.21,0,0,0,.31.06c-.62-.68-1.67-1.86-2.61-2.86a7.65,7.65,0,0,0-3.63-1.9A.86.86,0,0,0,40.47,198.77Z" transform="translate(-11 -6.8)"/><path class="cls-40" d="M27.75,178.74c1.21-.25,3.24.26,3.46,3.5s.78,12.33.78,12.33,8.61,1.71,9.57,2.06a1.76,1.76,0,0,0-1,2.32s-9.68,1.42-11.64-.75S22.82,179.77,27.75,178.74Z" transform="translate(-11 -6.8)"/><circle class="cls-11" cx="94.27" cy="146.6" r="1.53"/><circle class="cls-11" cx="94.27" cy="75.71" r="1.53"/></g></g></svg>'},ce.isForwardListenerAttached=!1,ce.isBackwardListenerAttached=!1,ce.userList={},ce.lastSearchTime=0,GmCXt.isSidePanelApp=!0,ce.showGuidesFromDesktopApp=!1,GmCXt.refreshBtnClickTime=0,ce.categoryStore=[],ce.publishedTours=[],ce.ssoDomain="",ce.selectedSegments=[],ce.howtoCaptureMode=!1,["user","userList","accessibility","organization","activeAppId","activeTourId","activeScreenCastTourId","activeTab","activeView","activeLang","activeVoice","userPrefLang","videosInProgress","currentTour","loginTime","trackerSecrets","allTourList","activeSortFilter","segmentGroupData","currentStep","appData","toursModifiedTime","currentPage","breadCrumb","showGuidesFromDesktopApp","howtoCaptureMode"]);function du(r,e,t){let a;e?(ce.subCategoryStore["cat_"+e]||(ce.subCategoryStore["cat_"+e]=[]),ce.subCategoryStore["cat_"+e].forEach(function(e,t){e.category_id===r.category_id&&(a=t)}),0<=a?t?ce.subCategoryStore["cat_"+e].splice(a,1):ce.subCategoryStore["cat_"+e].splice(a,1,r):t||ce.subCategoryStore["cat_"+e].push(r)):(ce.categoryStore.forEach(function(e,t){e.category_id===r.category_id&&(a=t)}),0<=a?t?ce.categoryStore.splice(a,1):ce.categoryStore.splice(a,1,r):t||ce.categoryStore.push(r))}function cu(e){Object.keys(e).forEach(function(e){parseInt(e)&&ce.notiTourIds.push(parseInt(e))})}function gu(r,a){if(ce.resetNotificationData(),r)for(let e=0,t=(r=GmCXt.sortToursByModifcationDate(r)).length;e<t;e++){var i=ce.notDefaultLang()?ce.getTranslatedTourAndSteps(r[e],ce.language):r[e];i&&!i.tour_settings.oneTimeNotification&&(a[i.tour_id]?ce.notifications.doNotShowTour.push({tour_id:i.tour_id,tour_title:i.tour_title}):GmCXt.inArray(i.tour_id,ce.notiTourIds)&&ce.notifications.snoozeTour.push({tour_id:i.tour_id,tour_title:i.tour_title}))}}function mu(){var e=GmCXt.organization;GmCXt.isEmpty(e)||(ce.updateCustomLabels(e.settings),ce.enableOrgFeatures(e))}function pu(r){var a=[];if(a.push(GmCXt.defaultLang),r.translations)for(let e=0,t=r.translations.length;e<t;e++)GmCXt.isEmpty(r.translations[e].language)||a.push(r.translations[e]);else for(let e=0,t=r.length;e<t;e++)GmCXt.isEmpty(r[e].language)||a.push(r[e]);return GmCXt.removeDuplicates(a)}function uu(e){ce.getLanguageList(),e?.settings?.enable_application_language_settings&&0<e?.settings?.app_languages?.length?ce.getAppOrgLanguage(e.settings.app_languages):ce.getAppOrgLanguage(),ce.updateLabels(),mg$("#mgPlayerJSProd_header-brand-logo").attr("src",GmCXt.brandLogo())}function hu(){ce.lms=!1,ce.chatBot=!1,ce._doitforme=!1,ce.maintenance=!1,ce.currentPageOnly=!1,ce.showAppSwitcher=!1,GmCXt.trackerUtil.enableTracking=!1,GmCXt.trackerUtil.trackPI=!1,GmCXt.FT.analytics=!1,ce.ruleCheck=!1,ce.displayAcceptCookiePopup=!0,ce.featureTracking=!1,ce.pageTracking=!1,ce.allGuideView=!1,ce.generateKeyword=!1,ce.currentPageBeacon=!1,ce.fqdn=!1,ce.guideSegmentation=!1,ce.mediafileCreation=!1,ce.createTooltipMediaFile=!1,GmCXt.trackerUtil.trackPI=!1,ce.enableGuidemeMode=!1}function Pu(e){return new Promise(function(t,r){ce.showLoading(),GmCXt.log(21,"FETCHED apps.",e),ce.getCurrentAppObj(e).then(function(e){GmCXt.isEmpty(e)||GmCXt.isExcludeDomain()?GmCXt.isExcludeDomain()&&($.open(ce.labels.badDomain,"warning",function(e){ce.goToNoApp()}),r()):GmCXt.FT.isPlayer||(ce.resetOffset=!0,ce.refreshPageView(!0)),ce.hideLoading(),t()})})}function yu(){GmCXt.removeFromDapStorage("allTourList")}function _u(a){let i=[];return ce.isOwner()&&GmCXt.isCreatorExt()?a:(mg$.each(GmCXt.user.app_access,function(e,t){var r=a.filter(function(e){return parseInt(e.application_id)===parseInt(t)});r.length&&i.push(r[0])}),i)}function Su(e){var t;ce.showPlayer?(t=GmCXt.getAppSetting("isMiniPlayer")?(ge.miniPlayer.set(!0),!0):(ge.miniPlayer.set(!1),!1),ce.isMicroPlayer=t,window.matchMedia("(max-width: 480px)").matches&&(ce.isMicroPlayer=!1),t&&GmCXt.hidePanelCloseBtn()):(ce.isMicroPlayer=!1,GmCXt.showPanelCloseBtn(),mg$(".mgPlayerJSProd_ege-panel")[0]?.style?.removeProperty("background")),GmCXt.initPlayerModeFeatures(ce.showPlayer,ce.isMicroPlayer,ce.playerMode),e||ce.enableOrgFeatures(GmCXt.organization),ce.updateLabels()}function fu(e){GmCXt.log(33,"RESUME tour play"+GmCXt.tourLog(ce.contTour.tour)),bu("",ce.contTour.step,ce.contTour.tour,ce.contTour.source,"","",e)}function Cu(i,o,n,s,l,d){if(n=GmCXt.checkAndCorrectPS(n),i===GmCXt.TOUR_PLAYER_SLIDESHOW){if(ce.isOnlySurveyGuide(n))return;n.steps=GmCXt.filterOutAutomationSteps(n.steps);var e,t,r=n.tour_settings.video_settings?.first_slide_img&&n.tour_settings.video_settings?.last_slide_img&&0!==n.tour_settings.video_settings?.first_slide_id&&0!==n.tour_settings.video_settings?.last_slide_id?n.tour_settings.video_settings:"";!GmCXt.isEmpty(r)&&n.tour_settings.show_slide&&({first_slide_id:e,last_slide_id:t}=r,n.steps=GmCXt.insertVideoThumbSteps(r,n.steps),n.tour_settings.play_structure=ce.updateSlideInShowme(n.tour_settings.play_structure,e,t))}if("doitforme"===i&&ce.checkStepsForDoItForMeMode(n)){let e=new Modal({target:document.body,props:{popupType:"warning",msg:labels.doitForMeWarning,onConfirm:()=>e.$destroy()}})}else n.tour_settings=GmCXt.parseJSON(n.tour_settings),n.tour_settings.play_structure=GmCXt.getGuidePlayStructure(n,i),n.tour_settings.valid_segments=GmCXt.getTourSegments(n),n=ce.isGuideInOriginalLang(n)?n:ce.getTranslatedTourAndSteps(n,ce.language),GmCXt.getFromDapStorage("appData").then(function(e){let a=e;GmCXt.appList=e,ce.syncApps(GmCXt.appList),GmCXt.getFromStorage("activeAppId").then(e=>{var r=e,e=(GmCXt.activeAppId=e,a["app:"+r]),r=(GmCXt.activeAppData=e).settings,e=(r&&r.domains?n.allDomains=r.domains:n.allDomains=!1,1<GmCXt.urlParts.pathname.length&&GmCXt.urlParts.pathname.toLowerCase(),n.tour_settings.rules);let t=!(ce.resumeFromStartPoint=!1);if(GmCXt.isEmpty(n.tour_settings.start_point_info)||(t=0<e.length?GmCXt.ruleEngine.evaluateRules(e):t)&&(ce.resumeFromStartPoint=!0),!o&&(ce.isResumeGuide||ce.resumeFromStartPoint)&&ce.isPlayer()&&("home"===s||"currentpage"===s||"allguides"===s||"tour-list"===s||"stepview"===s||"tour-view"===s&&ce.resumeFromStartPoint)&&(("Default"===(r=i)||""===r)&&GmCXt.getAppSetting("defaultPlayAction")===ce.playGuideMe||r===ce.playGuideMe)){let t;if(ce.resumeFromStartPoint&&!ce.isResumeGuide)for(let e=0;e<n.tour_settings.start_point_info.length;e++){t=GmCXt.getStepFromSteps(n.tour_settings.start_point_info[e].step_id,n.steps);break}else t=(e=n,r=GmCXt.tourActivity["t:"+e.tour_id],ce.getStepFromTour(r,e));if(ce.contTour={tour:n,step:t,source:s},t){GmCXt.log(33,"Tour was Played "+GmCXt.stepLog(t.step_id,t.tour_id)),ce.startPoints=[];for(let e=n.steps.length-1;-1<e;e--)n.steps[e].step_settings.startPoint&&(ce.resumeFromStartPoint=!0,ce.startPoints.push(n.steps[e]));return void(ce.startPoints.length&&!ce.isResumeGuide?("inline"===n.steps[0].step_type&&ce.startPoints.unshift(n.steps[0]),ce.searching_sp=0,GmCXt.startPointStepPlayed="",r={tour_id:n.tour_id,startPoint:ce.startPoints[0]},GmCXt.sendMessageToAllWindows("mgPlayerJSProd_action:started;task:search_start_point",r)):"inline"===t.step_type?(ce.stepFound=!1,e={tour_id:n.tour_id,requestId:t.step_id,settings:t.step_settings,windowHost:GmCXt.getPageDomain(),task:"findStep",findOnly:!0,noOutline:!0,timeout:Date.now()+1e3,log_stepInfo:GmCXt.getStepInfoLog(t)},GmCXt.sendMessageToAllWindows("mgPlayerJSProd_action:started;task:search_next_step",e),GmCXt.timeout(function(){var e;!ce.stepFound&&ce.isResumeGuide?fu(!0):ce.stepFound||(e=ce.contTour.step,GmCXt.log(33,"NOT FOUND next step "+GmCXt.stepLog(e.step_id,e.tour_id)),GmCXt.log(33,"RESTART tour play"+GmCXt.tourLog(ce.contTour.tour)),bu("",null,ce.contTour.tour,ce.contTour.source))},1e3)):fu())}}GmCXt.log(33,"PLAYING "+GmCXt.tourLog(n)),bu(i,o,n,s,l,d)})})}function bu(e,t,r,a,i,o,n){t||(s=r.tour_settings.play_structure[0].id,t=ce.getStepFromTour(s,r));var s=t.step_id,s=(GmCXt.log(33,"PLAY TOUR from "+GmCXt.stepLog(t.step_id,t.tour_id)),{tour:r,currentStepId:s,language:ce.getTourLangInfo(r),isDefaultLang:GmCXt.checkDefaultLangForTour(r,ce.language),source:a,automate:!1,taskObj:o,activeAppId:GmCXt.activeAppId,orgData:GmCXt.organization,user:GmCXt.user,isResume:n});i&&(s.tour.category_name=i),ce.startGuideAction(s,e,t,r)}function vu(){ce.getCurrentAppObj().then(function(e){GmCXt.isEmpty(e)||ce.switchApp(e)})}function wu(){if(!ce.showGuidesFromDesktopApp){let e=!0;var t=GmCXt.checkDomainInApps(GmCXt.urlParts.fullUrl);return(mu(),t.appId)?(t.appId!==GmCXt.activeAppId?(ce.resetCreatorData(!0),t.domainMatch?(GmCXt.log(21,"SWITCH app for the current domain: "+t.appName),GmCXt.saveToStorage("activeAppId",t.appId),GmCXt.activeAppId=t.appId,GmCXt.inPlayer&&Au(!0),ce.initAppDetails(GmCXt.appList["app:"+t.appId]),GmCXt.FT.isPlayer?ce.setCurrentPage("currentpage"):vu()):GmCXt.isPlayer()?(ce.goToNoApp(),e=!1):GmCXt.isPlayer()||vu()):e=!1,e):!1}}function Ju(){new Promise(function(t,e){ce.showGuidesFromDesktopApp?t():ce.checkAppList().then(function(){var e=GmCXt.urlParts;GmCXt.checkDomainInApps(e.fullUrl).domainMatch?(GmCXt.activeAppId&&GmCXt.activeAppId!==GmCXt.checkDomainInApps(e.fullUrl).appId&&Au(!0),GmCXt.FT.creatorApp&&wu(),GmCXt.activeAppId=GmCXt.checkDomainInApps(e.fullUrl).appId,(e=GmCXt.appList["app:"+GmCXt.activeAppId])&&ce.initAppDetails(e)):GmCXt.FT.creatorApp?((e=GmCXt.appList["app:"+GmCXt.activeAppId])&&ce.initAppDetails(e),GmCXt.timeout(function(){ce.setActivePage("home")})):GmCXt.activeAppId=!1,t()})}).then(function(){var e=wu();ce.syncUser(),e&&(ce.processedAppData=!0),ce.setMode(),ce.setNotifTours(),ce.initPlayerMode(),GmCXt.showWidget(),ce.sendUserInfo()})}function Gu(e,t){let r=e.find(function(e){return parseInt(e.category_id)===parseInt(t)});return r||e.forEach(function(e){e.sub_categories&&(r=Gu(e.sub_categories,t))}),r}function Au(e){ce.contextTours={},ce.applicationDropdown=!1,ce.automationDropdown=!1,GmCXt.FT.creatorApp&&(GmCXt.removeFromStorage("segmentData"),ce.segmentData=[]),e&&ge.breadCrumb.set([]),ce.resetCreatorData(!0),ce.allTourList={},GmCXt.saveToDapStorage("allTourList",ce.allTourList),ce.cancelAutomationSelection(),GmCXt.storage().remove(["insightPageRulesData"]),GmCXt.trackerUtil.pageTracking&&GmCXt.getInsightPageRules()}function Tu(){GmCXt.user&&GmCXt.organization.organization_id&&ce.fetchApps().then(function(){ce.sendSidePanelInitEvent(!0)})}function Xu(e){ce.saveOrganization(e),ce.refreshTime=GmCXt.getCurrentTimeInSec(),GmCXt.saveToStorage("refreshTime_"+GmCXt.activeAppId,ce.refreshTime),ce.guideSegmentation&&(ce.showLoading(),"westpac"!==GmCXt.conf.appConfig.customer)?ce.getAllSegments(!0).then(function(){Tu()}):Tu()}function ku(){GmCXt.inPlayer?ce.loadJsonPlayer().then(function(){ce.sendSidePanelInitEvent(!0)}):GmCXt.api.getOrganization(Xu)}function xu(e){GmCXt.log(21,"LOADED side panel. Initialising On Prem Player"),ce.getOnPremOrg(e).then(function(){ce.processActiveRequests()})}function Lu(e){return GmCXt.isEmpty(ce.myGuideOrgKey)&&(GmCXt.myGuideInternalCustomers()||GmCXt.isMcKesson())?e+""+ce.ssoId:e}function Eu(){ce.ssoTab&&ce.ssoTab.close()}function Mu(s,l={}){return new Promise((o,n)=>{try{let t="sso_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),r=l.requestType||"fetchSsoId",a,i=function(e){e.data&&"ssoResult"===e.data.action&&e.data.requestId===t?(window.removeEventListener("message",i),document.body.removeChild(a),e.data.success?o(e.data.data):n(new Error(e.data.error||"Failed to fetch data"))):e.data&&"iframeReady"===e.data.action&&a.contentWindow.postMessage({action:r,url:s,headers:l.headers||{},credentials:l.credentials||"omit",requestId:t},"*")};document.getElementById("mgPlayerJSProd_url-fetcher")?a.contentWindow.postMessage({action:r,url:s,headers:l.headers||{},credentials:l.credentials||"omit",requestId:t},"*"):((a=document.createElement("iframe")).src=GmCXt.getBasePath("common/url_fetcher/url.html"),a.style.display="none",a.id="mgPlayerJSProd_url-fetcher",document.body.appendChild(a),window.addEventListener("message",i)),setTimeout(()=>{window.removeEventListener("message",i),document.body.contains(a)&&document.body.removeChild(a),n(new Error("Timeout while fetching data"))},GmCXt.t_.sec15)}catch(e){GmCXt.log(1,"Error in iframe request:",e),n(e)}})}GmCXt.FT.creatorApp&&(lu.push("playerMode"),lu.push("showPlayer"),lu.push("serverUpdates"),lu.push("serverDeletes"),lu.push("category"),lu.push("testAuto"),lu.push("categories")),ce.navBarVisible=!1,ce.jsonEditor=!1,ce.botGuideCount=0,ce.orgSecrret=GmCXt.conf.orgSecrret,ce.myGuideOrgKey="",ce.taskListApiInProcess=!1,ce.isUserLoggedIn=function(){var e=GmCXt.user;return!(!e||!e.accesstoken)},ce.incrementPendingStepCount=function(){ce.pendingStepCount<0&&(ce.pendingStepCount=0),ce.pendingStepCount++,ge.statusBar.set("incrementPendingStepCount")},ce.decrementPendingStepCount=function(){ce.pendingStepCount--,ce.pendingStepCount=0<ce.pendingStepCount?ce.pendingStepCount:0,ge.statusBar.set("decrementPendingStepCount")},ce.setStepPendinCount=function(e){e?ce.incrementPendingStepCount():ce.decrementPendingStepCount()},ce.handleError=function(e){e&&e.name&&("PermissionDeniedError"===e.name||"NotAllowedError"===e.name?ce.showPopup(ce.labels.userDeniedMessage):"CameraNotFound"===e.name?(ce.cameraDisabled=!0,ce.showPopup(ce.labels.noCamera)):ir.on({code:2200,info:e}))},ce.reportInitialization=function(){GmCXt.log(21,"LOADING side panel, globals initialised"),GmCXt.handleAppInit()},ce.hideUserImageDropDown=function(){mg$(".mgPlayerJSProd_login-logout-wrapper").slideUp(200),mg$(".mgPlayerJSProd_user-image-wrapper").removeClass("active")},ce.hideStepViewActionDropdown=function(){mg$(".mgPlayerJSProd_detail-view-action-options-dropdownn").slideUp(200)},ce.hideStepActionDropdown=function(){mg$(".mgPlayerJSProd_stepaction-menu-options-dropdown-action-menu-options-dropdown").slideUp(200)},ce.hideStepDownloadActionDropdown=function(){mg$(".mgPlayerJSProd_detail-download-action-options-dropdown").slideUp(200),ce.isMediaFileDropdown=!1,mg$(".mgPlayerJSProd_tour-item").removeClass("mgPlayerJSProd_z-index mgPlayerJSProd_z-index-10"),mg$(".mgPlayerJSProd_header-detail-view-tour-download-wrapper").removeClass("mgPlayerJSProd_dropdown-active")},ce.hideLanguDropdown=function(e){e.stopPropagation(),ce.lanDropDownVisible=!1,ge.lanDropDownVisible.set(!1),mg$(".mgPlayerJSProd_lang-dropdown-wrapper").slideUp(100)},ce.onBodyClick=function(e){var t;GmCXt.startIdleActivityTimer(),GmCXt.failedStepId&&(t=mg$("#mgPlayerJSProd_step-"+GmCXt.failedStepId))&&t.hasClass("step-highlight")&&(t.removeClass("step-highlight"),mg$(".step-not-found").remove(),mg$(".guide-not-followed").remove(),GmCXt.failedStepId=0),mg$(e.target).hasClass("mgPlayerJSProd_ege-user-image")||mg$(e.target).hasClass("mgPlayerJSProd_user-image-wrapper")||ce.hideUserImageDropDown(),!mg$(".mgPlayerJSProd_category-action-dropdown").is(":visible")||mg$(e.target).hasClass("mgPlayerJSProd_category-action-dropdown")||mg$(e.target).hasClass("mgPlayerJSProd_category-pencil-icon")||ce.hideActionDropdown(),!mg$(".mgPlayerJSProd_tour-action-dropdown").is(":visible")||mg$(e.target).hasClass("mgPlayerJSProd_tour-action-dropdown")||mg$(e.target).hasClass("tour-pencil-icon")||ce.hideTourActionDropdown(),mg$(".mgPlayerJSProd_checkbox-dropdown-wrapper").is(":visible")&&!mg$(e.target).hasClass("mgPlayerJSProd_checkbox-dropdown-wrapper")&&mg$(".mgPlayerJSProd_checkbox-dropdown-wrapper").slideUp(200),mg$(".mgPlayerJSProd_questions-type-dropdown").is(":visible")&&mg$(".mgPlayerJSProd_questions-type-dropdown").slideUp(200),!mg$(".mgPlayerJSProd_ege-header-action-dropdown").is(":visible")||mg$(e.target).hasClass("mgPlayerJSProd_ege-header-action-dropdown")||mg$(e.target).hasClass("tour-pencil-icon")||ce.hideTourActionDropdown(),!mg$(".mgPlayerJSProd_stepaction-menu-options-dropdown-action-menu-options-dropdown").is(":visible")||mg$(e.target).hasClass("mgPlayerJSProd_stepaction-menu-options-dropdown-action-menu-options-dropdown")||mg$(e.target).hasClass("mgPlayerJSProd_step-pencil-icon")||mg$(e.target).parents(".mgPlayerJSProd_step-pencil-icon").length||ce.hideStepActionDropdown(),!mg$(".mgPlayerJSProd_detail-download-action-options-dropdown").is(":visible")||mg$(e.target).hasClass("mgPlayerJSProd_detail-download-action-options-dropdown")||mg$(e.target).hasClass("mgPlayerJSProd_header-detail-view-tour-download-wrapper")||ce.hideStepDownloadActionDropdown(),!mg$(".mgPlayerJSProd_detail-view-action-options-dropdownn").is(":visible")||mg$(e.target).hasClass("mgPlayerJSProd_detail-view-action-options-dropdownn")||mg$(e.target).hasClass("header-detail-view-tour-options-wrapper")||ce.hideStepViewActionDropdown(),mg$(".download-list").length&&mg$(".download-list").is(":visible")&&mg$(".download-list").slideToggle(),!ce.hideFiltersDropdown||mg$(e.target).hasClass("mgPlayerJSProd_all-guides-search-filters-dropdown-user")&&mg$(e.target).hasClass("mgPlayerJSProd_all-guides-search-filters-dropdown-published")&&mg$(e.target).hasClass("mgPlayerJSProd_all-guides-search-filters-dropdown-assignee")&&mg$(e.target).hasClass("mgPlayerJSProd_all-guides-search-filters-dropdown-sort")||mg$(e.target).hasClass("mgPlayerJSProd_all-guides-search-filters")||ce.hideFiltersDropdown(),!mg$(".filter-list").is(":visible")||mg$(e.target).hasClass("filter-list")||mg$(e.target).hasClass("filter-wrapper")||mg$(e.target).hasClass("selected-filter")||ce.hideFilterList(),!mg$(".mgPlayerJSProd_lang-dropdown-wrapper").is(":visible")||mg$(e.target).hasClass("mgPlayerJSProd_selected-lang-wrapper")||mg$(e.target).hasClass("mgPlayerJSProd_lang-dropdown-wrapper")||ce.hideLanguDropdown(e),mg$(".mgPlayerJSProd_setting-dropdown-userPref").is(":visible")&&!mg$(e.target).hasClass("mgPlayerJSProd_user-pref-scope")&&ce.hideUserPrefDropdown(e),mg$(".mgPlayerJSProd_app-filter-dropdown-wrapper").is(":visible")&&!mg$(e.target).hasClass("mgPlayerJSProd_lang-dropdown-wrapper")&&mg$(".mgPlayerJSProd_app-filter-dropdown-wrapper").slideToggle(),mg$(".mgPlayerJSProd_dropdown-list-wrapper").is(":visible")&&!mg$(e.target).hasClass("mgPlayerJSProd_filter-dropdown-wrapper")&&ce.hideFiltersDropdownList(),mg$(".mgPlayerJSProd_branch-dropdown-list-wrapper").is(":visible")&&!mg$(e.target).hasClass("mgPlayerJSProd_branch-dropdown-wrapper")&&mg$(".mgPlayerJSProd_branch-dropdown-list-wrapper").slideUp(200),!mg$(".mgPlayerJSProd_action-menu-options-dropdown").is(":visible")||mg$(e.target).hasClass("mgPlayerJSProd_select-automation-wrapper")||mg$(e.target).hasClass("mgPlayerJSProd_guide-automation-icon")||ce.hideAutomationDropDown()},ce.subscribeEvents=function(){mg$(document.body).off("click"),mg$(document.body).click(ce.onBodyClick),mg$(".mgPlayerJSProd_app").click(ce.onBodyClick),mg$(document.body).off("mousemove keydown mousedown touchstart").on("mousemove keydown mousedown touchstart",function(){GmCXt.startIdleActivityTimer()}),window.onkeyup=function(e){e&&e.keyCode&&27===e.keyCode&&(GmCXt.playerI&&"live"===GmCXt.playerI.mode&&GmCXt.playerI.linkGuidePlayMode&&"PDF"===GmCXt.playerI.linkGuidePlayMode||ce.closeAppPanel())}},ce.hideActionDropdown=function(){mg$(".mgPlayerJSProd_category-action-dropdown").slideUp(200)},ce.isRawChromeBlob=function(e){return 0===e.indexOf("blob:")},ce.saveUser=function(e){e.organization&&delete e.organization,GmCXt.user=e,GmCXt.updateGlobalUser(e),ce.user=e,GmCXt.saveToStorage("user",e),ce.syncUser()},ce.saveOrganization=function(e){GmCXt.log(21,"SAVE organization"),GmCXt.saveToStorage("organization",e),GmCXt.orgBucket=e.bucket,GmCXt.organization=e,ce.enableOrgFeatures(e),GmCXt.updateGlobalOrg(e)},ce.updateVideoInProgressList=function(a,i){GmCXt.getFromStorage("videosInProgress").then(function(e){let t=e;switch(a){case"add":t?t.push(i):t=[i];break;case"remove":var r=t.indexOf(i);t.splice(r,1)}ce.tourVideoInProgressArr=t,GmCXt.saveToStorage("videosInProgress",t)})},ce.setAccessibility=function(){GmCXt.accessibility=!GmCXt.accessibility,ge.accessibility.set(GmCXt.accessibility),GmCXt.saveToStorage("accessibility",GmCXt.accessibility)},ce.syncUser=function(){var e=GmCXt.user;GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:sync_user",data:{user:e}})},ce.hideTourActionDropdown=function(){var e=mg$(".mgPlayerJSProd_step-image-wrapper");mg$(e).removeClass("active"),mg$(".mgPlayerJSProd_tour-action-dropdown").slideUp(200),mg$(".mgPlayerJSProd_ege-header-action-dropdown").slideUp(200),mg$(".mgPlayerJSProd_tour-action-dropdown-embed-menu").slideUp(100),mg$(".mgPlayerJSProd_tour-action-dropdown-video-step-menu").slideUp(100),mg$(".mgPlayerJSProd_tour-action-dropdown-image-step-menu").slideUp(100),mg$(".tour-action-menu-active").removeClass("tour-action-menu-active"),mg$(".mgPlayerJSProd_tour-item").removeClass("mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max")},ce.updateLabels=function(e){e&&(ce.language=e);e=GmCXt.organization;!ce.language&&e?.admin_settings?.language_settings?.default&&(ce.language=e.admin_settings.language_settings.default.language,GmCXt.browserLang&&GmCXt.browserLang!==ce.language&&GmCXt.checkLangExist(e.admin_settings.language_settings.translations,GmCXt.browserLang)&&(ce.language=GmCXt.browserLang),GmCXt.language=ce.language,GmCXt.mgActiveLang=ce.language,GmCXt.saveToStorage("activeLang",ce.language)),ce.languages.filter(function(e){e.language===ce.language&&(ce.selectedLanguage=e.name)}),GmCXt.setLangPref(ce.language).then(function(){ce.labels=GmCXt.getAllLabels(ce.language),ge.selectedLang.set(ce.language)}),e&&e.settings&&ce.updateCustomLabels(e.settings)},ce.updateAppLang=function(t){let r="";ce.languages.filter(function(e){e.language===t&&(r=e)}),r=r||ce.defaultLang,GmCXt.isDefined(r)&&(ce.selectedLanguage=r.name,GmCXt.mgActiveLang=r.language,GmCXt.language=r.language,GmCXt.saveToStorage("activeLang",r.language),ce.updateLabels())},ce.processCategories=function(){for(var e in ce.allCategories){e=ce.allCategories[e];du(e,parseInt(e.parent_id))}},ce.syncSegmentData=function(){GmCXt.allSegments=ce.allSegments},ce.updatePageUrl=function(e){ce.pageUrl=e.url,ce.urlParts=e.urlParts,GmCXt.urlParts=e.urlParts,GmCXt.pageTitle=e.title,GmCXt.elAppName=e.elAppName,GmCXt.log(1,"Updated urls and page info in side panel")},ce.syncTaskList=function(e){var t=e.time+GmCXt.t_.hr24;return Date.now()<t?(ce.taskList=e.list,e):(ce.taskList=null,ce.taskList=[],GmCXt.removeFromDapStorage("taskList"),null)},ce.setMode=function(){GmCXt.isPlayer()?(ce.showPlayer=!0,GmCXt.showPlayer=!0):(ce.playerMode=!0,GmCXt.showPlayer=!1)},ce.showLangErrorPopup=function(e,t){e=e.name||e.language,e=ce.labels.stepWarningForLanguage.replaceAll("{GUIDE_LANG}",e);t?(ce.alertMessage=e,mg$(".mgPlayerJSProd_icon-play-popup").show()):$.open(e,"warning")},ce.parseTourNarrator=function(e,t){var r=e.narrator,e=e.narrator.split("-"),e=e[e.length-1];return t?e:r.replace("-"+e,"")},ce.getTourCreationLang=function(e){let t={};return t=GmCXt.isEmpty(e.narrator)?GmCXt.organization?.admin_settings?.language_settings?.default?GmCXt.organization.admin_settings.language_settings.default:{language:GmCXt.model.langOption.language._default,name:GmCXt.model.langOption.name._default,voice:GmCXt.model.langOption.voice._default}:{language:ce.parseTourNarrator(e),name:"",voice:ce.parseTourNarrator(e,!0)}},ce.prepSingCatLang=function(e,t){var r;if(!GmCXt.isEmpty(e))return(r=e.language_data)&&r[t]&&(r[t].category_title&&(e.category_title=r[t].category_title),r[t].category_description)&&(e.category_description=r[t].category_description),e},ce.prepCatLangJson=function(e,t){if(GmCXt.isEmpty(e))return[];let r=structuredClone(e),a=0;return r.forEach(e=>{e=ce.prepSingCatLang(e,t),r[a]=e,a++}),r},ce.isGuideInOriginalLang=function(e,t,r){e=ce.getTourCreationLang(e);return!(ce.language&&ce.enableTranslation&&e.language&&e.language!==ce.language)||-1!==e.language.indexOf("en-")&&e.language.substring(0,3)===ce.language.substring(0,3)||(t&&ce.showLangErrorPopup(e,r),!1)},ce.restrictCreation=function(t){if(ce.language&&ce.enableTranslation&&-1===ce.language.indexOf("en-")&&ce.notDefaultLang()){let e="";ce.languageList?.languages&&(e=ce.languageList.languages.find(e=>e.value===ce.defaultLang.language));var r=GmCXt.isEmpty(e)?ce.language:e.label,r=ce.labels.tourCreationWarningForLanguage.replaceAll("{GUIDE_LANG}",r).replaceAll("{ACTION_MODE}",t);return $.open(r,"warning"),!0}return!1},ce.notDefaultLang=function(){return!(!ce.language||!ce.defaultLang||ce.defaultLang.language===ce.language)},ce.getTranslatedTourAndSteps=function(e,r){let a={...e};var e=a.language_data;return!a.tour_settings.translationEnable&&GmCXt.isGuide(a)&&(r=ce.defaultLang),e&&e[r]&&!ce.isGuideInOriginalLang(a)&&((e=e[r]).tour_title&&(a.tour_title=e.tour_title,a.tour_description=e.tour_description),GmCXt.isEmpty(e.tour_settings)||(a.tour_settings.rules=e.tour_settings.rules,a.tour_settings.beacon=e.tour_settings.beacon),mg$.each(a.steps,function(e,t){var t=t.language_data;t&&t[r]&&(t[r].step_title||t[r].step_description)&&(t=t[r],a.steps[e].step_title=t.step_title,a.steps[e].step_description=t.step_description||"",a.steps[e].step_audio=t.step_audio,a.steps[e].step_audio_text=t.step_audio_text,t.step_settings=GmCXt.parseJSON(t.step_settings),a.steps[e].step_settings=GmCXt.validateDataModel(t.step_settings,GmCXt.model.stepSettings))})),a},ce.setNotifTours=function(){GmCXt.storage().get(["toursClosed","tourIdArray"]).then(function(e){ce.notiTourIds=[];var t=GmCXt.user;cu(GmCXt.parseJSON(e.toursClosed));let r={};r=GmCXt.isAnonymousUser()?e.tourIdArray||{}:t?.settings?.viewed_guide_notifications||{},GmCXt.isEmpty(r)||cu(r),ce.processNotificationTours(r)})},ce.notiTourIds=[],ce.resetNotificationData=function(){ce.notifications={snoozeTour:[],doNotShowTour:[]}},ce.processNotificationTours=function(t){if(0===ce.notiTourIds.length)return!1;var e={tour_ids:"["+ce.notiTourIds.toString()+"]"};GmCXt.inPlayer?gu(ce.publishedTours,t):GmCXt.api.getTours(e,function(e){gu(e,t)})},ce.checkAppList=function(){return new Promise(function(t,e){var r=GmCXt.appList;GmCXt.isEmpty(r)?GmCXt.getFromDapStorage("appData").then(function(e){GmCXt.appList=e,ce.syncApps(e),t()}):t()})},ce.selectLanguage=function(e){if(GmCXt.userPrefLang){if(ce.selectedLanguage===e)return!0}else if(!e)return!0},ce.getActiveOrgAppLangSetting=function(e){let t={};var r,a,i={default:{language:GmCXt.model.langOption.language._default,name:GmCXt.model.langOption.name._default,voice:GmCXt.model.langOption.voice._default},translations:[]};return"westpac"===GmCXt.conf.appConfig.customer&&e?{language:"en-AU",name:"",voice:"Catherine"}:(t=GmCXt.organization?.admin_settings?.language_settings&&!GmCXt.isEmpty(GmCXt.organization.admin_settings.language_settings.default)?{...GmCXt.organization.admin_settings.language_settings}:{...i},(i=GmCXt.getAppSetting())&&i?.narrator&&(a=i.narrator,r=(r=i.narrator.split("-"))[r.length-1],(a=a.replace("-"+r,""))===t.default.language&&(a={language:a,name:t?.default?.name||"",voice:r},t.default={...a}),!GmCXt.isEmpty(i.app_languages))&&i?.enable_application_language_settings&&(t.translations=[...i.app_languages]),e?t.default:t)},ce.getAppOrgLanguage=function(e){if(ce.enableTranslation&&GmCXt.organization){var r={...GmCXt.organization.admin_settings.language_settings},a=ce.getActiveOrgAppLangSetting(!0);ce.defaultLang=a,GmCXt.defaultLang=a;let t=ce.language;t=t||ce.defaultLang.language,GmCXt.isEmpty(e)?ce.languages=pu(r):ce.languages=pu(e),ce.languages.filter(function(e){e.language===t&&(ce.selectedLanguage=e.name)})}else ce.languages=[]},ce.initAppDetails=function(t,e){GmCXt.log(21,"INIT APP:  ["+t.title+", "+t.application_id+"]"),GmCXt.saveToStorage("activeAppId",t.application_id),GmCXt.activeAppId=t.application_id;let r=GmCXt.activeAppId;var a;if(GmCXt.externalAppId=GmCXt.appList["app:"+r].external_id,mu(),GmCXt.getAllFromStorage(["refreshTime_"+GmCXt.activeAppId,"lastTimeStampSync_"+GmCXt.activeAppId]).then(function(e){ce.lastTimeStampSync=e["lastTimeStampSync_"+GmCXt.activeAppId]?e["lastTimeStampSync_"+GmCXt.activeAppId]:0,ce.refreshTime=e["refreshTime_"+GmCXt.activeAppId]||0;e={action:"mgPlayerJSProd_action:app_info_to_background",data:{activeAppId:r,externalAppId:t.external_id,lastTimeStampSync:ce.lastTimeStampSync,refreshTime:ce.refreshTime}};GmCXt.sendMessageToBackgroundService(e)}),GmCXt.trackerUtil.pageTracking&&GmCXt.getInsightPageRules(),ce.appEnvs=[],GmCXt.isDefined(t.settings.app_env)){for(var i in t.settings.app_env)t.settings.app_env[i].checked&&(t.settings.app_env[i].key=i,ce.appEnvs.push(t.settings.app_env[i]));ce.appEnvs=ce.appEnvs.sort(function(e,t){return e.order<t.order?-1:t.order<e.order?1:0}).map(function(e){return e.key})}ce.highestEnv=ce.appEnvs[ce.appEnvs.length-1],GmCXt.inPlayer||GmCXt.onPrem()?(t.categories&&t.categories.length?ce.processAppDataActiveApp(t):(a=t.application_id,ce.isAppJsonCalling=!0,GmCXt.api.getAppJson(a,function(e){ce.isAppJsonCalling=!1,GmCXt.onPrem()||GmCXt.inPlayer?t.categories=e.categories:t.categories=e.data.categories,ce.processAppDataActiveApp(t)})),uu(t)):(uu(t),de(ge.stepOperationMode)===GmCXt.STEP_VIEW_OPERATION&&(GmCXt.log(21,"Setting home after app Init",t),ce.setActivePage("home")))},ce.getLanguageList=function(){try{let t=function(e){ce.languageList=e,GmCXt.isEmpty(e)||(ce.languageList=e,GmCXt.saveToDapStorage("languageList",ce.languageList))};GmCXt.getFromDapStorage("languageList").then(function(e){GmCXt.isEmpty(e)?GmCXt.api.getAllLanguages().then(t):ce.languageList=e})}catch(e){console.error(e)}},ce.isDesktopGuide=function(e){return!!(e&&e.tour_settings&&e.tour_settings.tour_type&&-1!==e.tour_settings.tour_type.indexOf("desktop"))},ce.isDefaultGuide=function(e){return!!(e&&e.tour_settings&&e.tour_settings.tour_type&&-1!==e.tour_settings.tour_type.indexOf("default"))},ce.isUploadTutorial=function(e){return!(!GmCXt.isOnboarding(e)||"upload"!==e.tour_settings.tutorial_tour_type)},ce.getCategory=function(e,t){e="cat_"+e;let r=ce.allCategories[e]||!1;return r=t&&!r?ce.allCategoriesNoFilter[e]||!1:r},ce.removeCategory=function(e,t){delete ce.allCategories["cat_"+e.category_id],du(e,parseInt(e.parent_id),!0),GmCXt.inPlayer||GmCXt.saveToDapStorage("categories",ce.allCategories),t&&ce.playerSyncCount--},ce.addCategory=function(e){var t;e.category_title&&(t="cat_"+e.category_id,du(ce.allCategories[t]=e,parseInt(e.parent_id)),GmCXt.inPlayer||GmCXt.saveToDapStorage("categories",ce.allCategories))},ce.addMultiCategory=function(e){mg$.each(e,function(e,t){var r="cat_"+(t=t[0]?t[0]:t).category_id;ce.allCategories[r]=t,GmCXt.inPlayer||du(t,parseInt(t.parent_id))}),GmCXt.inPlayer||GmCXt.saveToDapStorage("categories",ce.allCategories)},ce.addMultiCategoryNoFilter=function(e){mg$.each(e,function(e,t){var r="cat_"+(t=t[0]?t[0]:t).category_id;ce.allCategoriesNoFilter[r]=t})},ce.draftExists=function(t,r,a){var e=ce.allTourList["cat_"+r];if(e){for(var i in e)if(e[i].parent_tour_id===t)return e[i].tour_id}else if(a&&a.length)for(let e=0;e<a.length;e++)if(a[e].parent_tour_id===t&&a[e].category_id===r)return a[e].tour_id;return!1},ce.filterGuideByEnv=function(o){if(!GmCXt.isFQDN())return GmCXt.log(1,"SKIP filtering guides to this domain",o),o;let n=GmCXt.getAppEnvByDomain(),s=[];return(!ce.appEnvs.length||-1!==ce.appEnvs.indexOf(n))&&o&&0<o.length&&o.forEach(function(e){var t,r,a=e.tour_settings.app_publish_env;let i=!1;a&&(i=-1!==a.indexOf(n),ce.draftExists(e.tour_id,e.category_id,o)||i||a.length&&0===a[0].indexOf("env_")&&(t=ce.appEnvs.indexOf(n),t=t,r=a,ce.appEnvs.slice(t).some(function(e){return 0<=r.indexOf(e)}))&&(i=!0)),e.is_published&&(void 0===n||void 0===a||0===a.length||i)&&s.push(e)}),GmCXt.log(21,"FILTER GUIDES published to this domain env ["+n+"]. Filtered guides ",s),s},ce.getAllPublishedTours=function(e){let r=[];function t(e,t){r.push(t)}for(var a in e){var i=e[a];i.length||deleteEmpty(a),mg$.each(i,t)}var o=ce.filterGuideByEnv(r);ce.publishedTours=o,ce.getContextToursAfterLogin&&(GmCXt.getContextGuides("Process Guides"),ce.getContextToursAfterLogin=!1),ge.publishedTours.set(o),GmCXt.log(21,"ALL PUBLISHED guides",o)},ce.addTourList=function(r,e){e.forEach(function(e){var t="cat_"+(r||e.category_id);ce.allTourList[t]||(ce.allTourList[t]={}),ce.allTourList[t]["tour_"+e.tour_id]=e}),GmCXt.saveToDapStorage("allTourList",ce.allTourList)},ce.processAppDataActiveApp=function(e){function s(e,t,r){e=GmCXt.validateDataModel(e,GmCXt.model.category);let a=t||e.category_order;var i,o,n;e.sub_categories&&0<e.sub_categories.length?(d["cat_"+e.category_id]=e.sub_categories,mg$.each(e.sub_categories,function(e,t){s(t,a,t.category_order)})):e.tours&&0<e.tours.length&&(c["cat_"+e.category_id]=(t=e.tours,i=e.category_id,o=a,n=r,t.forEach(function(e){(e=GmCXt.validateDataModel(e,GmCXt.model.guide)).category_order=parseInt(o),n&&(e.subCategory_order=parseInt(n)),e.tour_order&&(e.tour_order=parseInt(e.tour_order))}),ce.addTourList(i,t),t)),e.is_published&&!GmCXt.convertType(e.parent_id)&&l.push(e),GmCXt.convertType(e.parent_id)}let l=[],d={},c={},a=(yu(),GmCXt.log(21,"PROCESS app data",e),e&&e.categories&&0<e.categories.length&&e.categories.forEach(function(e){e={...e};s(e)}),[]),t=[],i={},o=[];l.forEach(function(r){var e;o.push(r),r.tours?GmCXt.checkGuidesBasedOnSegment(r.tours,function(e){var t;GmCXt.isEmpty(e)||(t=e.tour_settings.app_publish_env,(ce.isDesktopGuide(e)||GmCXt.checkDomainInPublishedEnv(t))&&-1===mg$.inArray(r,a)&&a.push(r))}):r.sub_categories&&(e=t.length,function a(e,i,o,n,s){s=s||[];function l(e,t){let r=!1;return 0<e.length&&e.forEach(function(e){e.category_id===t.category_id&&(r=!0)}),r}e.forEach(function(r){function e(t){if(!GmCXt.isEmpty(t)){let e=t.tour_settings.app_publish_env;(GmCXt.checkDomainInPublishedEnv(e)||ce.isDesktopGuide(t))&&(o["cat_"+n.category_id]||(o["cat_"+n.category_id]=[]),l(o["cat_"+n.category_id],r)||(o["cat_"+n.category_id].push(r),i.push(r)))}}if(s.push(r),r.sub_categories){let e=i.length,t=(a(r.sub_categories,i,o,r,s),i.length);t>e&&!i.includes(r)&&(r.sub_categories=o["cat_"+r.category_id],i.push(r),o["cat_"+n.category_id]||(o["cat_"+n.category_id]=[]),o["cat_"+n.category_id].push(r))}else r.tours&&0<r.tours.length&&GmCXt.checkGuidesBasedOnSegment(r.tours,e)})}(r.sub_categories,t,i,r,o),e<t.length)&&!a.includes(r)&&(r.sub_categories=i["cat_"+r.category_id],a.push(r))}),ge.allCategories.set(a);var r=function t(e,r=[]){return e.forEach(e=>{e.sub_categories&&0<e.sub_categories.length&&t(e.sub_categories,r),r.push(e)}),r}(l);ce.categoryStore=l,ce.subCategoryStore=i,ge.subCategories.set(r),ce.addMultiCategory(ce.categoryStore),ce.addMultiCategory(r),ce.addMultiCategoryNoFilter(o),ce.getAllPublishedTours(c),ce.syncApps(GmCXt.appList),GmCXt.saveToDapStorage("appData",GmCXt.appList),GmCXt.log(21,"Setting home after app data processing",e),ce.setActivePage("home")},ce.enableOrgFeatures=function(e){var t,r;!GmCXt.isEmpty(e)&&GmCXt.isDefined(e)&&(t=e.admin_settings||{},r=e.settings||{},GmCXt.log(21,"ENABLE org features",e),hu(),GmCXt.isEmpty(e.bucket)||(GmCXt.orgBucket=e.bucket),t.lms&&(ce.lms=!0),"1"===t.auto_generate_keywords&&(ce.generateKeyword=!0),GmCXt.isChatEnable()&&(ce.chatBot=!0),GmCXt.getAppSetting("doitforme")&&(ce._doitforme=!0),GmCXt.getAppSetting("all_guide")&&GmCXt.isPlayer()&&(ce.currentPageOnly=!0),GmCXt.getAppSetting("defaultGuideView")&&!GmCXt.getAppSetting("all_guide")&&(ce.allGuideView=!0),GmCXt.getAppSetting("isMiniPlayer")&&GmCXt.isPlayer()&&(ce.isMicroPlayer=!0,ge.miniPlayer.set(!0)),t.app_switcher&&(ce.showAppSwitcher=t.app_switcher),t.display_accept_cookie_popup||(ce.displayAcceptCookiePopup=!1),t.maintenance_mode&&ce.goToMaintenance(),t.current_page_beacon&&(ce.currentPageBeacon=!0),t.guide_segmentation&&(ce.guideSegmentation=!0),t.mediafile_creation&&(ce.mediafileCreation=!0),t.create_tooltip_media_file&&(ce.createTooltipMediaFile=!0),r.fqdn&&(ce.fqdn=!0,ce.showAppSwitcher=!r.fqdn),t.language_settings&&t.language_settings.translations.length&&t.guide_translation?(ce.enableTranslation=!0,GmCXt.enableTranslation=!0):(ce.enableTranslation=!1,GmCXt.enableTranslation=!1,GmCXt.removeFromStorage("activeLang"),GmCXt.removeFromStorage("activeVoice"),ce.language=!1,GmCXt.language=!1,ce.languageVoice=!1,ce.isDefaultLang=!0),t.insights&&t.insights.enabled&&(t.insights.guide&&(GmCXt.FT.analytics=!0,GmCXt.trackerUtil.enableTracking=!0),t.insights.app)&&((e=t.insights.app[GmCXt.activeAppId])&&e.enable_feature_tracking&&(GmCXt.trackerUtil.featureTracking=!0,ce.featureTracking=!0),e)&&e.enable_page_tracking&&(GmCXt.trackerUtil.pageTracking=!0,ce.pageTracking=!0),t.isPITrackingEnabled&&(GmCXt.trackerUtil.trackPI=!0),ce.isGuideAutomationEnabled=t.myBotEnabled&&!ce.currentPageOnly,t.efficient_rule_mode&&(ce.ruleCheck=!0),GmCXt.isTrue(t.enable_guideme_as_secondary_option)&&(ce.enableGuidemeMode=!0),r={action:"mgPlayerJSProd_action:update_tracking_info",data:{enableTracking:GmCXt.trackerUtil.enableTracking,trackPI:GmCXt.trackerUtil.trackPI,featureTracking:GmCXt.trackerUtil.featureTracking,pageTracking:GmCXt.trackerUtil.pageTracking}},GmCXt.sendMessageToAllWindows("mgPlayerJSProd_action:update_tracking_info:frames",r.data),GmCXt.sendMessageToBackgroundService(r))},ce.displayChatIcon=function(){0===ce.botGuideCount?GmCXt.removeChatIcon():GmCXt.showChatIcon()},ce.getBotGuideCount=function(e){e=ce.filterBotGuides(e);e&&e.length?ce.botGuideCount=e.length:ce.botGuideCount=0,ce.displayChatIcon()},ce.refreshCurrentPage=function(t,e){if("page_click"!==t&&e&&"stepview"!==de(ge.CurrentPage)&&(GmCXt.validatedSegments={}),"currentpage"!==de(ge.CurrentPage)||t&&!GmCXt.APP_PANEL_OPEN){if(GmCXt.isDomainInActiveApp()){var e=GmCXt.getAppSetting("guide_count_on_widget"),r=GmCXt.getAppSetting("hide_widget_if_noguide");if(e&&!ce.isWestpac||r){GmCXt.log(30,"REFRESH CURRENT PAGE guide indicator. Event: "+t);let r=ce.readLocalCT(GmCXt.urlParts.fullUrl,GmCXt.pageTitle);if(r&&r.length)GmCXt.log(30,"FETCHED tours from CACHE"),a(r);else{let t={url:GmCXt.urlParts.fullUrl};GmCXt.log(30,"NOT FOUND IN CACHE. FETCHING tours from API"),GmCXt.api.getContextualTour(t,function(e){GmCXt.log(30,"FETCHED tours from API"),a(r=ce.processContextualGuide(e,t.url))})}}else GmCXt.showWidget()}}else GmCXt.log(30,"REFRESH CURRENT PAGE guides list. Event: ",t),"home"!==de(ge.activeView)&&ce.setActivePage("home"),ge.refreshCurrentPageView.set(!0);function a(e){var e=ce.filterCurrentPageTourTypes(e);ce.getBotGuideCount(e),GmCXt.isEmpty(e)?GmCXt.log(30,"NO GUIDES"):(e=ce.validateAllRulesExceptSelectEl(e,!0)).hasURLMatch||e.hasValidRule?(GmCXt.log(30,"URLMATCH: "+e.hasURLMatch+", ValidRule: "+e.hasValidRule),i()):ce.validateSelectElRules(e.tours,t).then(function(e){e&&i()})}function i(){GmCXt.showWidget()}},ce.showCurrentPageGuidesIndicator=function(e){(GmCXt.isPlayer()||GmCXt.playerMode)&&(GmCXt.ifGuidesOnCurrentPage=!0),GmCXt.isPlayer()&&(GmCXt.log(30,"SHOW current page indicator"),ce.msgSentCurrentPageCount=!0,e&&GmCXt.sendMessageToAllWindows("mgPlayerJSProd_action:clear_rule_jobs",{initiator:"currentPageIndicator",trigger:"guide_indicator"}),GmCXt.showWidget())},ce.hideCurrentPageGuidesIndicator=function(){GmCXt.isPlayer()&&(GmCXt.ifGuidesOnCurrentPage=!1,GmCXt.hideCurrentPageGuidesIndicator())},ce.validateAllRulesExceptSelectEl=function(a,i,e){var o={tours:[],hasURLMatch:!1,hasValidRule:!1};let n=GmCXt.urlParts;if(e&&(n=new URL(e)),a){let e="/"===n.pathname?"":n.pathname,r=(e&&0!==e.indexOf("/")&&(e="/"+e),GmCXt.getHostnameFromUrl(n.fullUrl)+e);r=r.toLowerCase();var s=[],l=[],d=[];for(let e=0;e<a.length;e++){var c=a[e],g=c.tour_settings,m=g.rules.length&&g.rules[0].condition;let t=!1;if(c.tour_url&&!m){var p=c.tour_url.toLowerCase(),u=n.href?n.href.toLowerCase():"";if((p===r||p===u)&&c.is_published&&(s.push(c),o.hasURLMatch=!0,i))return o}else if(m){if(GmCXt.ruleEngine.hasRuleType(g.rules,["Select Element","Select Table","Get Validity","Variables"]))t=!0;else{let e=!1;if(GmCXt.legacyWildChar(g.version)&&(e=!0),(t=GmCXt.ruleEngine.evaluateRules(g.rules,e,n))&&(c.ruleValidated=o.hasValidRule=!0,i))return o}t&&l.push(c)}var h=c.tour_settings.start_point_info;if(c.is_published&&h&&h.length)for(let e=0;e<h.length;e++)if(0<=h[e].step_url.toLowerCase().indexOf(r)){d.push(c);break}}o.tours=GmCXt.arrayMerge(d,GmCXt.arrayMerge(s,l))}return o},ce.validateSelectElRules=function(o,n){return new Promise(function(t,e){ce.msgSentCurrentPageCount=!1;let r=0;for(let e=0;e<o.length&&!ce.msgSentCurrentPageCount;e++){var a=o[e];ce.queueRuleForCP(a,e,i,n,"currentPageIndicator")}function i(e){ce.msgSentCurrentPageCount||(r++,e.valid?t(!0):r===o.length&&t(!1))}})},ce.queueRuleForCP=function(e,t,r,a,i){var o=e.tour_settings,o=o.rules&&o.rules.length?o.rules:[];"page_click"===a&&!ce.reEvalRules(e)||e.ruleValidated?(GmCXt.log(30,"SKIP RULE CHECK "+i+": "+e),GmCXt.log(30,"SKIP RULE CHECK "+i+": "+GmCXt.tourLog(e)),r({tour:e,valid:!0}),GmCXt.log(30,"RULE CHECK "+i+" :"+GmCXt.tourLog(e))):(GmCXt.log(30,"RULE CHECK "+i+" :"+e),a={tour:e,rules:o,cb:r,index:t,timeoutVal:GmCXt.t.ruleTimeOut15ms,timeout:GmCXt.t.ruleTimeOut15ms,isTour:!0,initiator:i},GmCXt.ruleEngine.queue(a))},ce.reEvalRules=function(e){return!ce.ruleCheck||!(!e.tour_settings.ruleCheckOnClick&&!GmCXt.isEmpty(ce.cTours)&&0<=ce.cTours.indexOf(e.tour_id))},ce.refreshPageView=function(t){if(de(ge.stepOperationMode)===GmCXt.STEP_VIEW_OPERATION){ce.refreshAllGuides=!0,ce.allGuideView=!0;var r=de(ge.CurrentPage);let e=!1;r&&!1!==r?(("stepview"===r&&mg$(".branching-popup-wrapper").is(":visible")||mg$(".mgPlayerJSProd_error-handler-popup-wrapper").is(":visible")||mg$(".mgPlayerJSProd_ege-popup-link-guide").is(":visible"))&&(e=!0),"stepview"===r&&ce.isStepViewRefresh&&t&&ge.routeAction.set({action:"refreshView",data:!0}),e||ce.setCurrentPage(r)):ce.setActivePage("home")}},ce.getCurrentAppObj=function(i){return new Promise(function(t,e){ce.showLoading();function r(e){if(0<e.length){var r=GmCXt.urlParts;let t=GmCXt.checkDomainInApps(r.fullUrl);GmCXt.onPrem()&&t.appId!==GmCXt.activeAppId&&(GmCXt.saveToStorage("activeAppId",t.appId),GmCXt.activeAppId=t.appId),a=e.filter(function(e){return parseInt(e.application_id)===parseInt(GmCXt.activeAppId)})[0]||{},GmCXt.isEmpty(a)&&(t.domainMatch?(GmCXt.log(21,"GET APP by domain: "+t.appName),a=e.filter(function(e){return parseInt(e.application_id)===parseInt(t.appId)})[0]):GmCXt.FT.creatorApp&&(a=e[0]))}GmCXt.isEmpty(a)?(ce.goToNoApp(),ce.hideLoading(),t()):(ce.initAppDetails(a),ce.hideLoading(),t(a))}let a={};i?r(i):ce.checkAppList().then(function(){var e,t=[];for(e in GmCXt.appList)t.push(GmCXt.appList[e]);r(t)})})},ce.goToSignIn=function(){ge.activeView.set("signin")},ce.fetchApps=function(){return new Promise(function(t,e){GmCXt.log(21,"FETCH apps");GmCXt.api.getAllApps({limit:500,offset:0},function(e){0<e.length?(e=_u(e=e.sort(function(e,t){return parseInt(e.application_id)-parseInt(t.application_id)})),ce.saveApps(e),GmCXt.timeout(function(){Pu(e).then(function(){t()})},0)):ce.goToNoApp()})})},ce.setDefaultChatLabels=function(){ce.chatLabels={greetingMessage:ce.labels.defaultGreetingMessage,botEndingMessage:ce.labels.defaultBotEndingMessage,errorMessage:ce.labels.defaultErrorMessage}},ce.getChatLabels=function(e){for(var t in e){var r="default"+GmCXt.capitalizeFirstLetter(t);""!==e[t]?ce.chatLabels[t]=e[t]:ce.chatLabels[t]=ce.labels[r]}},ce.updateCustomLabels=function(e){let t=e.userLabels;var r=GmCXt.organization,a=GmCXt.activeAppId?GmCXt.appList["app:"+GmCXt.activeAppId]:{};let i=[];a&&a.settings?(t=a.settings.userLabels,i=a.settings.chatLabels,mg$.extend(t,{userNotFollowingGuideMessage:e.userLabels.userNotFollowingGuideMessage,maintenanceMessage:e.userLabels.maintenanceMessage,serviceErrorMessage:e.userLabels.serviceErrorMessage,resumeGuideMessage:e.userLabels.resumeGuideMessage})):t=r.settings.userLabels,t=(e=>{for(var t in e)ce.labels.hasOwnProperty(t)&&(ce.labels[t]=e[t]||ce.labels[t]);return e})(t),i=(e=>{for(var t in e)ce.labels.hasOwnProperty(t)&&(ce.labels[t]=e[t]||ce.labels[t]);return e})(i),GmCXt.label=ce.labels;a={userLabels:t,chatLabels:i};GmCXt.updateCustomLabels(a)},ce.isMgAdmin=function(){return"mg_admin"===ce.user.role},ce.isSuperAdmin=function(){return"superadmin"===ce.user.role},ce.isOwner=function(){return!!("owner"===ce.user.role||ce.isSuperAdmin()||ce.isMgAdmin()||ce.isPartnerAdmin())},ce.isCreator=function(){return"creator"===ce.user.role},ce.isPartnerAdmin=function(){return"partner_admin"===ce.user.role},ce.getCdnSign=GmCXt.getCdnSign,ce.removeCatFromApplist=function(e){let t=JSON.parse(JSON.stringify(e));return GmCXt.isEmpty(t)||Object.keys(t).forEach(function(e){delete t[e].categories}),t},ce.syncApps=function(e){ce.removeCatFromApplist(e),GmCXt.updateAppListSettingsInAllFrames()},ce.saveApps=function(e){GmCXt.appList={},e.forEach(function(e){window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer&&"guide"!==e.type?"mobile_web"===e.type&&(GmCXt.appList["app:"+e.application_id]=e):"guide"!==e.type&&"electron"!==e.type||(GmCXt.appList["app:"+e.application_id]=e)}),GmCXt.saveToDapStorage("appData",GmCXt.appList),ce.syncApps(GmCXt.appList),GmCXt.log(21,"CACHED app details",GmCXt.appList)},ce.loadJsonPlayer=function(){return new Promise(function(t,e){ce.showLoading();let r=GmCXt.organization;function a(e){ce.updateCustomLabels(r.settings),Pu(e).then(function(){ce.hideLoading(),t()})}GmCXt.orgBucket=r.bucket,GmCXt.log(21,"REFRESHING org JSON"),0<GmCXt.user.app_access.length||ce.isOwner()?GmCXt.api.getOrgJson(function(e){yu();let t="",r=(t=GmCXt.onPrem()||GmCXt.inPlayer?e:e.data,ce.refreshTime=t.modification_date,ce.lastTimeStampSync=ce.refreshTime,GmCXt.saveToStorage("refreshTime_"+GmCXt.activeAppId,ce.refreshTime),GmCXt.saveToStorage("lastTimeStampSync_"+GmCXt.activeAppId,ce.lastTimeStampSync),GmCXt.organization=t,t=GmCXt.validateDataModel(t,GmCXt.model.organization),GmCXt.organization=t,GmCXt.createDeepCopy(GmCXt.validateModelArray(t.applications,GmCXt.model.applications._obj)));r=_u(r),ce.saveApps(r),delete t.applications,ce.saveOrganization(t),ce.guideSegmentation?ce.getSegmentGroupList().then(function(){a(r)}):a(r)}):(GmCXt.log(21,"NO ACCESS to any apps"),ce.goToNoApp())})},ce.initializeApp=function(){return GmCXt.log(21,"INITIALISE App"),new Promise(function(e,t){function r(){ce.fetchApps().then(function(){e(!0)})}var a;GmCXt.isPlayer()?ce.loadJsonPlayer().then(function(){e()}):(a=GmCXt.organization)&&a.organization_id?(ce.saveOrgSettings(a.settings),ce.guideSegmentation?ce.getSegmentGroupList().then(function(){r()}):r()):e()})},ce.saveOrgSettings=function(e){e&&(GmCXt.organization&&(GmCXt.organization.settings=e,ce.saveOrganization(GmCXt.organization)),mg$(".mgPlayerJSProd_ege-logo-image").attr("src",GmCXt.brandLogo()),ce.webUrl=e.web_url,ce.updateCustomLabels(e),GmCXt.showWidget())},ce.sortOrderCategory=function(){GmCXt.isPlayer()||(ce.sortType="",ce.descOrder=!1)},ce.filterPublished=function(e){return e.filter(function(e){return e.is_published})},ce.filterUnpublished=function(e){return e.filter(function(e){return!e.is_published})},ce.getPlayedStepsInfo=function(){GmCXt.getFromStorage("stepsPlayed").then(function(e){GmCXt.isAnonymousUser()?ce.playedSteps=e.stepsPlayed||[]:(e=GmCXt.user,GmCXt.isEmpty(e)||(ce.playedSteps=e&&e.settings.guide_view&&e.settings.guide_view.playedSteps?e.settings.guide_view.playedSteps:[]))})},ce.initPlayerMode=function(e){Su(e),ce.getPlayedStepsInfo();e={action:"mgPlayerJSProd_action:update:player_mode",data:{showPlayer:ce.showPlayer,isMiniPlayer:ce.isMicroPlayer,playerMode:ce.playerMode}};GmCXt.handleUpdatePlayerMode(e.data),GmCXt.sendMessageToBackgroundService(e)},ce.onMinMaxChaticon=function(){ce.chatBotMin=!0},ce.onUserSignin=function(e,t,r){ce.user=e,GmCXt.user=e,GmCXt.log(21,"USER login",e),GmCXt.storage().set({login_state:!0}),GmCXt.updateGlobalUser(e),ce.loginTime=(new Date).getTime(),GmCXt.saveToStorage("loginTime",ce.loginTime),e.signedInWithSso=t,e.ssoSignInTrue=r,e.region="US",e.ssoId=ce.ssoId,ce.contextTours=[],GmCXt.removeFromStorage("activeLang"),ce.language=!1,GmCXt.language=!1,t&&(GmCXt.saveToStorage("lastSsoRedirectTime",""),GmCXt.saveToStorage("triggerSsoAfterFiveMins",!1)),ce.setMode(),ce.saveUser(e),ce.setNotifTours(),ce.registerClientInsights(),ce.getContextToursAfterLogin=!0,ce.initializeApp().then(function(){ce.initPlayerMode(),ce.sendSidePanelInitEvent(),GmCXt.inPlayer&&GmCXt.onPrem()||(ce.refreshTime=GmCXt.getCurrentTimeInSec(),GmCXt.saveToStorage("refreshTime_"+GmCXt.activeAppId,ce.refreshTime)),GmCXt.showWidget()}),ce.onMinMaxChaticon()},ce.isTrackingGuide=GmCXt.isFeatureTags,ce.getDefaultPlayAction=function(e){let t=GmCXt.getAppSetting("defaultPlayAction");return GmCXt.isFalse(t)||("Default"!==e.tour_settings.defaultPlayAction&&(t=e.tour_settings.defaultPlayAction),GmCXt.organization&&!GmCXt.getAppSetting(t)&&(t=GmCXt.model.organization.settings._obj.defaultPlayAction._default)),t},ce.isCADGuide=function(e){return!(!e||!e.tour_type||-1===e.tour_type.indexOf("desktop")&&-1===e.tour_type.indexOf("mobile"))},ce.isDesktopApp=function(){var e=GmCXt.appList["app:"+GmCXt.activeAppId];return!(!e||"electron"!==e.type)},ce.clearSession=function(e){ru.clearSession(e)},ce.logout=function(e){ru.logout(e)},ce.showPlayOption=function(t,r){if(GmCXt.user){let e=!1;var a=ce.getDefaultPlayAction(r);if(!ce.isDesktopApp()&&!GmCXt.isHowToGuide(r))switch(t){case ce.playGuideMe:GmCXt.getAppSetting("guideMeSetting")&&a===ce.playSlideshow&&ce.enableGuidemeMode&&!GmCXt.isOnboarding(r)&&(e=!0);break;case ce.playSlideshow:(GmCXt.getAppSetting("showMeSetting")&&a===ce.playGuideMe&&GmCXt.FT.showMe||GmCXt.isOnboarding(r))&&(e=!0);break;case ce.playTestMe:GmCXt.getAppSetting("testMeSetting")&&a===ce.playGuideMe&&GmCXt.FT.testme&&!GmCXt.isOnboarding(r)&&(e=!0)}return e}},ce.showDomainRedirect=function(e){let t=!1;var r=ce.labels.guideNotExist,a=GmCXt.checkDomainInApps(e.tour_url);a.domainMatch?t=(t=(t=ce.labels.belongToOtherApp).replace(/{TOURURL}/g,"<strong>"+GmCXt.getHostnameFromUrl(e.tour_url)+"</strong>")).replace(/{APPNAME}/g,"<strong>"+a.appName+"</strong>"):GmCXt.FT.creatorApp&&(t=(t=ce.labels.setDomain).replace(/{TOURURL}/g,"<strong>"+GmCXt.getHostnameFromUrl(GmCXt.urlParts.host)+"</strong>")),ce.showPopup(r,null,"warning",t)},ce.guideAction=function(t,r,a,i,o,n){return!!ce.isTooltip(a)||(n=n||!1,GmCXt.isOnboarding(a,n)?(ce.previewNotification(a,n,r),!0):(a=mg$.extend({},a),void ce.checkAppList().then(async function(){var e;return GmCXt.isDomainInActiveApp()||t===ce.playSlideshow||a.tour_settings.redirectionUrl?"0"!==a.step_count&&a.step_count?(e={tour_id:a.tour_id,category_id:a.category_id},GmCXt.checkDefaultLangForTour(a,ce.language)||(e.language=ce.language),void(a.steps.length?Cu(t,r,a,i,o,n):GmCXt.api.getTour(e,function(e){ce.hideLoading(),Cu(t,r,e,i,o,n)},function(){ge.showModal.set(!0),ge.dialogBox.set({msg:labels.tourPlayError,popupType:"error",onConfirm:()=>{GS.showModal.set(!1)},showCancelButton:!1})}))):(ge.showModal.set(!0),ge.dialogBox.set({msg:"There are no steps to play",popupType:"info",onConfirm:()=>{GmCXt.showModal.set(!1)},showCancelButton:!1}),!0):(ce.showDomainRedirect(a),!0)})))},ce.play=function(t,e){if(ce.trackSearchActivity(!0),ce.isResumeGuide=e,GmCXt.log(33,"Play tour"+GmCXt.tourLog(t)),t&&"help_article"===t.tour_type)window.open(t.tour_settings.articleUrl,"_blank");else if(GmCXt.FT.creatorApp)ce.goToTourView(t);else if(ce.isDesktopApp()||GmCXt.isHowToGuide(t))ce.guideAction(ce.playSlideshow,null,t);else{let e=ce.getDefaultPlayAction(t);"Default"===e&&(e=ce.getAppSetting("defaultPlayAction")),ce.guideAction(e,null,t,de(ge.CurrentPage))}},ce.previewNotification=function(e,t,r){var a=[];a.push(e),GmCXt.closeAppPanel(),GmCXt.loadGuideNotifications(a,!0,t,r)},ce.isOnlySurveyGuide=function(t){let r=!0;if(t&&0<t.steps.length){for(let e=0;e<t.steps.length;e++)if(t.steps[e]&&t.steps[e].step_type!==GmCXt.STEP_TYPE_SURVEY){r=!1;break}}else r=!1;return r},ce.displayTaskListWidget=function(e){GmCXt.isEmpty(ce.taskList)?(ce.isTaskListVisible=!1,ge.isTaskListVisible.set(ce.isTaskListVisible)):(e(ce.taskList),ce.processTaskListByRules(ce.taskList))},ce.filterCompleatedTasks=function(e){let t=[];return ce.taskList&&ce.taskList.filter(function(e){e.completed||t.push(e)}),t},ce.closeAppPopup=function(){ce.navBarVisible||mg$(".mgPlayerJSProd_ege-panel-overlay")&&mg$(".mgPlayerJSProd_ege-panel-overlay").is(":visible")&&(ce.guideViewFullScreen=!1,ce.toggleGuideViewFullScreen(),mg$(".mgPlayerJSProd_ege-panel-overlay").css({display:"none"}))},ce.toggleGuideViewFullScreen=function(){ce.guideViewFullScreen?(GmCXt.increaseSidePanelWidth(),mg$(".mgPlayerJSProd_ege-panel").css({width:"90%","max-width":"90%",transition:"width 0s"})):(GmCXt.reduceSidePanelWidth(),mg$(".mgPlayerJSProd_ege-panel").css({width:"500px","max-width":"500px",transition:"width 0s"}))},ce.closeAppPanel=function(){ce.closeAppPopup(),ce.applicationDropdown=!1,ce.automationDropdown=!1,GmCXt.handleCloseApp(),"no-app"===ce.currentView&&GmCXt.FT.isPlayer&&GmCXt.hideWidgetIcon(),mg$(".mgPlayerJSProd_ege-panel").removeAttr("style")},ce.getTranslatedTaskList=function(e,a,i){let o=e;return o.forEach((e,t)=>{var r=GmCXt.parseJSON(e.language_data);r&&a&&r[a]&&((r=r[a]).title&&("taskList"===i?o[t].task_list_title=r.title:"folders"===i&&(o[t].folder_title=r.title)),"guides"===i)&&r.tour_title&&(o[t].tour_title=r.tour_title,o[t].tour_description=r.tour_description),GmCXt.isEmpty(e.guides)||(o[t].guides=ce.getTranslatedTaskList(e.guides,a,"guides")),GmCXt.isEmpty(e.folders)||(o[t].folders=ce.getTranslatedTaskList(e.folders,a,"folders"))}),o},ce.getTaskListData=function(t,e){ce.taskList?(ce.language&&(ce.taskList=ce.getTranslatedTaskList(ce.taskList,ce.language,"taskList")),ce.taskList=ce.filterCompleatedTasks(ce.taskList),ce.guideSegmentation&&GmCXt.inPlayer?ce.checkTaskSegmentation(ce.taskList,t):ce.displayTaskListWidget(t)):GmCXt.onPrem()||ce.taskListApiInProcess||!(0===e||parseInt(GmCXt.appList["app:"+GmCXt.activeAppId].modification_date)>parseInt(e))||(ce.taskListApiInProcess=!0,GmCXt.api.getTaskList().then(function(e){ce.taskList=ce.notDefaultLang()?ce.getTranslatedTaskList(e.task_list,ce.language,"taskList"):e.task_list,GmCXt.isEmpty(ce.taskList)||GmCXt.api.getTaskListDetails().then(function(e){e=e.data.task_lists,ce.updateDetailInMainTaskList(e),ce.taskList=ce.filterCompleatedTasks(ce.taskList),e={list:ce.taskList,time:Date.now()};GmCXt.saveToDapStorage("taskList",e),ce.taskListApiInProcess=!1,ce.guideSegmentation&&GmCXt.inPlayer?ce.checkTaskSegmentation(ce.taskList,t):(t(ce.taskList),ce.processTaskListByRules(ce.taskList))})}).catch(function(){}))},ce.checkTaskSegmentation=function(t,r){let a=[],i=[];function e(e){GmCXt.isEmpty(e)||(a.includes(e.task)||a.push(e.task),ce.taskList=a,ce.displayTaskListWidget(r))}if(0<t.length){for(let e=0;e<t.length;e++){var o;GmCXt.isEmpty(t[e].task_list_setting)||(o=GmCXt.parseJSON(t[e].task_list_setting),GmCXt.isEmpty(o.segment_groups))?a.push(t[e]):(o={tour_id:t[e].task_list_id,tour_title:t[e].task_list_title,tour_settings:o,task:t[e]},i.push(o))}GmCXt.isEmpty(i)?ce.displayTaskListWidget(r):GmCXt.timeout(function(){GmCXt.checkGuidesBasedOnSegment(i,e,"taskListSeg"),ce.taskList=a,ce.displayTaskListWidget(r)},0)}else ce.processTaskListByRules(t)},ce.getTaskListIndexById=function(t){let e=-1;return e=ce.taskList?ce.taskList.findIndex(function(e){return e.task_list_id===t}):e},ce.updateDetailInMainTaskList=function(t){var r=ce.taskList;if(!GmCXt.isEmpty(t))for(let e=0;e<t.length;e++){var a=ce.getTaskListIndexById(t[e].id);-1!==a&&(r[a].user_completed_guide_count=parseInt(t[e].user_completed_guide_count),r[a].guide_count=parseInt(t[e].guide_count),r[a].completed=t[e].completed)}ce.taskList=r},ce.displyTaskList=function(){var e=GmCXt.activeAppId,t=GmCXt.appList;return!!(GmCXt.isPlayer()&&!GmCXt.inPlayer||GmCXt.inPlayer&&e&&!GmCXt.isEmpty(t)&&!GmCXt.isEmpty(t["app:"+e])&&!GmCXt.isEmpty(t["app:"+e].task_list_count)&&0<parseInt(t["app:"+e].task_list_count))},ce.refreshTaskList=function(e){document.getElementsByClassName("mgPlayerJSProd_task-list-container").length?ce.setActivePage("taskList"):ce.sendMessageToShowTaskListWidget()},ce.sendMessageToShowTaskListWidget=function(){if(ce.displyTaskList()){let a=function(e){ce.processTaskListByRules(e)};GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)&&GmCXt.isPlayer()&&!ce.taskListApiInProcess&&GmCXt.getFromDapStorage("taskList").then(function(e){ce.taskList=null;let t=0;var r;GmCXt.isEmpty(e)||(r=ce.syncTaskList(e),ce.taskList=r.list),GmCXt.isEmpty(e)||GmCXt.isEmpty(e.time)||(t=e.time),ce.getTaskListData(a,t)})}},ce.openTaskList=function(){ce.displyTaskList()&&(mg$(".mgPlayerJSProd_push-notification-container").is(":visible")?mg$(".mgPlayerJSProd_ege-panel").css({width:"500px",right:"-9550px"}):(mg$(".mgPlayerJSProd_ege-panel").css({width:"100%"}),ge.activeView.set("taskList")))},ce.guideHideForPlayer=function(e){let t=!1;return t=e&&e.guideHideForP&&GmCXt.FT.isPlayer?!0:t},ce.markTaskGuideComplete=function(r){var e={task_id:r.taskListId,guide_id:r.tourId};function a(){ce.taskList=ce.filterCompleatedTasks(ce.taskList),ce.taskListGuidesCount(ce.taskList),ce.hideLoading()}GmCXt.api.markTaskGuideComplete(e,function(){var e=ce.taskList,t=ce.getTaskListIndexById(r.taskListId);-1!==t&&(GmCXt.isEmpty(r.complete_count)||GmCXt.isEmpty(r.total_count)||r.complete_count+1!==r.total_count?e[t].user_completed_guide_count=e[t].user_completed_guide_count+1:(e[t].user_completed_guide_count=e[t].guide_count,e[t].completed=!0),ce.updateTaskList(e).then(a))})},ce.updateTaskList=function(a){return new Promise(function(r,e){GmCXt.getFromDapStorage("taskList").then(function(e){var t;GmCXt.isEmpty(e)||(t=ce.syncTaskList(e),ce.taskList=t.list,ce.taskList=[],GmCXt.removeFromDapStorage("taskList"),e.list=a,t={list:ce.taskList=a,time:e.time},GmCXt.saveToDapStorage("taskList",t),r())})})},ce.markTaskGuideCompletePlayedOutside=function(t){var e;ce.taskList&&0<ce.taskList.length&&0<(e=ce.taskList.filter(function(e){return!(!e.guides||!e.guides.some(function(e){return e.tour_id.toString()===t.tourId}))||!!e.folders&&0<e.folders.filter(function(e){return e.guides&&e.guides.some(function(e){return e.tour_id.toString()===t.tourId})}).length})).length&&e.forEach(function(e){e={taskListId:e.task_list_id,tourId:t.tourId,complete_count:e.user_completed_guide_count,total_count:e.guide_count};ce.markTaskGuideComplete(e)})},ce.processTaskListByRules=function(t){var r=[];for(let e=0;e<t.length;e++){var a,i=t[e];i.task_list_setting&&(i.task_list_setting=GmCXt.parseJSON(i.task_list_setting),a=i.task_list_setting.rules)&&0<a.length&&!GmCXt.ruleEngine.evaluateRules(a)||r.push(i)}return ce.taskListGuidesCount(r),r},ce.taskListGuidesCount=function(e){var t;GmCXt.FT.isPlayer&&(t=e.length||0,ce.taskListCount=t<100?t:"99+",ce.isTaskListVisible=0<t,GmCXt.taskListCount=t,ge.allTaskList.set(e),ge.isTaskListVisible.set(ce.isTaskListVisible),ge.taskListCount.set(t))},ce.getSegmentGroupList=function(){let a={organization_id:GmCXt.organization.organization_id},i={list:[],time:Date.now()};return new Promise(function(t,e){function r(e){i.list=e,ce.allSegments=i.list,GmCXt.saveToStorage("segmentGroupData",i),t(i.list)}GmCXt.inPlayer?(i.list=GmCXt.organization.segment_groups,ce.allSegments=i.list,GmCXt.saveToStorage("segmentGroupData",i),t(i.list)):GmCXt.api.getSegmentGroupList(a).then(function(e){GmCXt.validateApiResp(r,"segment/group/list?organization_id=",e.data.groups,GmCXt.model.segmentGroups)}).catch(function(){t(i.list)})})},ce.startGuideAction=function(t,e,r,a){if(r&&ce.lastVideoStepCreated){var i=(new Date).getTime()-ce.lastVideoStepCreated.time;if(ce.lastVideoStepCreated.id===r.step_id&&i<6e4)return void ce.showPopup(ce.labels.processingVideo)}if(a.is_published)switch(e){case ce.playVideoTour:if(a.media_files&&"0"===a.media_files[0].video)return void ce.showPopup(ce.labels.msgVideoNotFound);t.type=ce.playVideoTour,t.mode=t.type;break;case ce.playGiphy:if("0"===a.media_files[0].gify)return void ce.showPopup(ce.labels.msgGiphyNotFound);t.type=ce.playGiphy,t.mode=t.type}e===ce.playSlideshow&&(t.type=ce.playSlideshow,t.mode=t.type);function o(e){var a,i,o;e&&(a={},i=[],o=e[0],e.forEach(function(e){for(var t=0;t<o.length;t++){var r=mg$("<span />").html(o[t]).text().trim();a[r]=e[t]}i.push(a),a={}}),e=i,t.loops=e.length-1,t.currentLoop=0,t.csvData=e),GmCXt.requestHandler.playGuide(t)}var n;t.origin=ce.activeTab,t.taskObj&&t.taskObj.taskId&&(t.origin="task_list"),t.guideOpened="tour-view"===ce.currentView,e===ce.playAuto?(t.automate=!0,t.initiator="doitforme",ce.showLoading(),n=a,new Promise(function(i,e){var t=GmCXt.createDeepCopy(n.steps);ce.checkLinkedGuideStep(t,function(t,e,r){if(0===e){clearInterval(r);for(let e=0;e<t.length;e++){var a=t[e].step_settings.automation;a&&"csv"===a.inputType&&a.csvParam&&(GmCXt.log(33,"CSV input expected"),i(!0))}i(!1)}})}).then(function(e){ce.hideLoading(),e?$.openDoItPopup(o,"Upload CSV",a):o()})):o()},ce.getTourLangInfo=function(e){let t="";return GmCXt.isEmpty(e.narrator)||(t=e.narrator),t=ce.enableTranslation&&ce.language&&-1===t.indexOf(ce.language)&&!GmCXt.isEmpty(ce.languageVoice)?ce.language+"-"+ce.languageVoice:t},ce.getStepFromTour=function(t,r){if(!t)return!1;for(let e=0;e<r.steps.length;e++)if(parseInt(r.steps[e].step_id)===parseInt(t))return r.steps[e]},ce.existsOrUndefined=function(e){return!(!e&&void 0!==e)},ce.updateStatusProgressBar=function(e){mg$(".mgPlayerJSProd_video-upload-progress-bar-wrapper").find(".mgPlayerJSProd_progress-bar-percentage").html(e.data.percentComplete+"%"),mg$(".mgPlayerJSProd_video-upload-progress-bar-wrapper").find(".mgPlayerJSProd_progress-bar-percentage").css("width",e.data.percentComplete+"%")},ce.updatedInProgressVariable=function(e){e=!(!e.data||!e.data.status);(ce.uploadInProgress=e)&&(ce.uploadProgressBar=!0)},ce.hideProgressBar=function(){ce.uploadProgressBar=!1,mg$(".mgPlayerJSProd_video-upload-progress-bar-wrapper").hide()},ce.checkLinkedGuideStep=function(e,t){let r=e,a=0;function i(e){e=e.steps;a--,r=GmCXt.arrayMerge(r,e)}e.forEach(function(t){var e;t.step_settings.tour_id&&(r=r.filter(function(e){return e.step_id!==t.step_id}),e={tour_id:t.step_settings.tour_id},a++,GmCXt.api.getTour(e,i,i))});let o=setInterval(function(){t(r,a,o)},500)},ce.checkStepsForDoItForMeMode=function(e){let t=0;var r=[GmCXt.STEP_TYPE_SURVEY,GmCXt.STEP_TYPE_IMAGE,GmCXt.STEP_TYPE_VIDEO],a={...e.steps};if(!(e&&0<a.length))return!1;for(let e=0;e<a.length;e++)r.includes(a[e].step_type)&&t++;return t===a.length},ce.isBeacon=function(e){return!(!e||!e.tour_type||-1===e.tour_type.indexOf("beacon_tour"))},ce.checkTourType=function(e){return!(ce.isTooltip(e)||GmCXt.isBotGuide(e)||GmCXt.isFeatureTags(e)||ce.isBeacon(e)&&!ce.currentPageBeacon)},ce.readLocalCT=function(e,t){return!(!ce.contextTours||!ce.contextTours[e])&&ce.contextTours[e][t]},ce.filterAnnouncement=function(e){var t=e;return e=GmCXt.isPlayer()?t.filter(function(e){if(!ce.isAnnouncement(e))return e}):e},ce.filterCurrentPageTourTypes=function(e){return e=(e=e.filter(function(e){if(ce.checkTourType(e))return e})).filter(function(e){if(!ce.isAnnouncement(e))return e}),GmCXt.log(30,"FILTERED current page tours",e),e},ce.breadCrumbItemsUpdate=function(e){let t=de(ge.breadCrumb);var r;ge.breadCrumb.subscribe(e=>{t=e}),e.category_id,e.parent_id&&"0"!==e.parent_id?(-1!==(r=t.indexOf("All Guides"))&&t.splice(r,1),t.unshift(e),-1!==r&&t.unshift("All Guides"),ce.getCategoryApi(e.parent_id,ce.breadCrumbItemsUpdate)):(-1!==(r=t.indexOf("All Guides"))&&t.splice(r,1),t.unshift(e),-1!==r&&t.unshift("All Guides")),ge.breadCrumb.set(t)},ce.getBreadcrumsCategories=function(e,t){"allguidesSearchPage"!==de(ge.CurrentPage)||(t=>{var r=de(ge.breadCrumb);for(let e=1;e<r.length;e++)if("object"==typeof r[e]&&r[e].id===t)return 1})(e.category_id)||(ge.breadCrumb.set(["All Guides"]),ce.getCategoryApi(e.category_id,ce.breadCrumbItemsUpdate),de(ge.breadCrumb),ge.breadCrumb.subscribe(e=>{}))},ce.getCategoryApi=function(e,t,r,a){var i;e&&(e={category_id:e},ce.language&&!GmCXt.isFalse(ce.language)&&(e.language=ce.language),GmCXt.getLXPLang()&&(e.language=GmCXt.getLXPLang()),i=GmCXt.user,GmCXt.isEmpty(i)&&!GmCXt.onPrem()||GmCXt.api.getCategoryDetails(e,t,a,r))},ce.setTour=au.setTour,ce.deleteCategoryServerUpdate=au.deleteCategoryServerUpdate,ce.isUpdateNeeded=au.isUpdateNeeded,ce.checkCurrentViewForUpdate=au.checkCurrentViewForUpdate,ce.updateServerUpdateList=au.updateServerUpdateList,ce.updateTourProperty=au.updateTourProperty,ce.deleteTourServerUpdate=au.deleteTourServerUpdate,ce.getTourFromId=function(e,t){let r={};if(t&&ce.allTourList["cat_"+t])r=ce.allTourList["cat_"+t]["tour_"+e];else for(var a in ce.allTourList)if(ce.allTourList[a]["tour_"+e]){r=ce.allTourList[a]["tour_"+e];break}return r},ce.getTranslatedTours=function(e,a){let i=[...e];return a=ce.language,i.forEach((e,t)=>{var e=GmCXt.createDeepCopy(e),r=e.language_data,r=(a=!e.tour_settings.translationEnable&&GmCXt.isGuide(e)?ce.defaultLang:ce.language,r&&r[a]&&!ce.isGuideInOriginalLang(e)&&(r[a].tour_title&&(e.tour_title=r[a].tour_title),r[a].tour_description&&(e.tour_description=r[a].tour_description),r=r[a].tour_settings)&&(r.beacon&&(e.tour_settings.beacon=r.beacon),r.rules)&&(e.tour_settings.rules=r.rules),ce.allCategories["cat_"+e.category_id]);r&&r.language_data&&r.language_data[a]&&(e.category_title=r.language_data[a].category_title),e.steps&&(i[t]=ce.getTranslatedTourAndSteps(e,a))}),i},ce.filterKeyInputGuides=function(e){ce.keyInputGuides=e.filter(function(e){if(e&&e.tour_settings&&!GmCXt.isEmpty(e.tour_settings.keyboardKeyInput))return e}),GmCXt.keyInputGuides=ce.keyInputGuides},ce.processContextualGuide=function(e,t){let r=e;return e.data&&(r=e.data.data.tours),ce.filterKeyInputGuides(r),GmCXt.isPlayer()&&!GmCXt.isEmpty(r)&&(r=GmCXt.filterScheduleTours(r)),GmCXt.inPlayer&&ce.notDefaultLang()&&(r=structuredClone(r),r=ce.getTranslatedTours(r)),ce.contextTours&&!ce.contextTours[t]&&(ce.contextTours[t]=[]),ce.contextTours[t][GmCXt.pageTitle]=r},ce.isUserLogin=function(){return new Promise(function(t,e){GmCXt.getFromStorage("user").then(function(e){e&&!GmCXt.isEmpty(e)&&(GmCXt.updateGlobalUser(e),GmCXt.user=e,ce.user=e,ce.syncUser(),e.organization&&ce.saveOrganization(e.organization),e.accesstoken)&&t(!0),t(!1)})})},ce.goToTourView=function(e){ce.currentTour=e,GmCXt.saveToDapStorage("currentTour",ce.currentTour),ge.currentTour.set(e),ce.setCurrentPage("stepview")},ce.trackSearchEvent=function(e){ce.trackSearch&&ce.trackSearch.track&&(ce.trackSearch.track=!1,e={search_text:ce.trackSearch.keyword,results_returned:ce.trackSearch.results_returned,search_result_clicked:e,startTime:ce.trackSearch.startTime},GmCXt.trackerV1.trackGuideSearch(e),ce.trackSearch={})},ce.trackCurrentPageSearchEvent=function(e){ce.trackCurrentPageSearch&&ce.trackCurrentPageSearch.track&&(ce.trackCurrentPageSearch.track=!1,e={search_text:ce.trackCurrentPageSearch.keyword,results_returned:ce.trackCurrentPageSearch.results_returned,search_result_clicked:e,startTime:ce.trackCurrentPageSearch.startTime},GmCXt.trackerV1.trackGuideSearch(e))},ce.trackSearchActivity=function(e){var t=mg$("#mgPlayerJSProd_search-text-input").val();GmCXt.isEmpty(t)||"currentpage"!==de(ge.CurrentPage)&&"currentPageSearchPage"!==de(ge.CurrentPage)?GmCXt.isEmpty(t)||ce.trackSearchEvent(e):ce.trackCurrentPageSearchEvent(e)},ce.isRefreshView=function(){return"home"===de(ge.activeView)},ce.fetchOrgFromAPI=function(){return new Promise(function(t,e){GmCXt.api.getOrganization(function(e){ce.saveOrganization(e),GmCXt.showWidget(),t(!0)})})},ce.isFetchingCdn=!1,ce.ongoingCdnPromise=null,ce.getNewCdnSignature=function(){return ce.isFetchingCdn||(ce.isFetchingCdn=!0,ce.ongoingCdnPromise=new Promise(function(r,t){var e,a=GmCXt.organization;function i(){GmCXt.api.callGetCdnSignature(e,function(e){var t;(e=e)&&(e=e.data)&&e.cdn_signature&&e.cdn_signature_expiry&&(t=GmCXt.user)&&(t.cdn_signature=e.cdn_signature,t.cdn_signature_expiry=e.cdn_signature_expiry,ce.saveUser(t),GmCXt.handleUpdateCdnSign(ce.user)),ce.isFetchingCdn=!1,r()})}GmCXt.onPrem()?r():a&&!GmCXt.isEmpty(a)?(e={},a.organization_id?(e.organization_id=a.organization_id,i()):ce.fetchOrgFromAPI().then(function(e){i()}).catch(function(e){t(e)})):ce.fetchOrgFromAPI().then(function(e){i()})})),ce.ongoingCdnPromise},ce.checkCdnSignature=function(){return new Promise(function(t,r){var a=GmCXt.user;if(a&&!GmCXt.isEmpty(a)){if(!a.cdn_signature||!a.cdn_signature_expiry)return void ce.getNewCdnSignature().then(t).catch(r);let e=parseInt(a.cdn_signature_expiry);(e=e?1e3*e:0)&&(e-=12e4);a=(new Date).getTime();if(e-a<=0)return void ce.getNewCdnSignature().then(t).catch(r)}t()})},ce.setInsightsClientKey=function(t,r){GmCXt.api.getClientSecretInsight(t).then(function(e){GmCXt.log(21,"Insights client key is set"),e={registerClientId:t,app_client_secret:e.data.app_client_secret,app_client_timestamp:r},ce.trackerSecrets=e,GmCXt.trackerUtil.secrets=e,GmCXt.saveToStorage("trackerSecrets",e),e={action:"mgPlayerJSProd_action:update_secrets",data:{secrets:GmCXt.trackerUtil.secrets}},ce.isClientJs?GmCXt.sendToParentWindow(e):GmCXt.sendMessageToBackgroundService(e)}).catch(function(e){GmCXt.log(1,"ERROR: failed to get insights client key"),e&&"006-001-002"===e.errorCode&&(ce.trackerSecrets={},ce.registerClientInsights())})},ce.registerClientInsights=function(){var e;let t=(new Date).getTime();e=GmCXt.isEmpty(ce.trackerSecrets)?parseInt(t/1e3):parseInt((t-ce.trackerSecrets.app_client_timestamp)/1e3),GmCXt.isEmpty(ce.trackerSecrets)||!ce.trackerSecrets.registerClientId?GmCXt.api.registerClientInsight().then(function(e){ce.setInsightsClientKey(e.data.app_client_id,t)}).catch(function(){}):3600<e&&ce.setInsightsClientKey(ce.trackerSecrets.registerClientId,t)},ce.sendUserInfo=function(){ce.checkCdnSignature().then(function(){var e=GmCXt.organization;GmCXt.inPlayer&&(GmCXt.orgBucket=e.bucket),ce.sendSidePanelInitEvent(!1,!0),GmCXt.isDefined(ce.trackerSecrets)||(ce.trackerSecrets={}),ce.trackerSecrets&&GmCXt.isEmpty(ce.trackerSecrets.secrets)&&ce.registerClientInsights()})},ce.sendSidePanelInitEvent=function(e,t){var r,a,i,o;!ce.maintenance&&GmCXt.activeAppId&&(GmCXt.log(21,"Side panel intialisation completed"),i=GmCXt.appList,o=GmCXt.user,r=GmCXt.organization,a=GmCXt.urlParts,i=ce.removeCatFromApplist(i),o={action:"mgPlayerJSProd_action:on_side_panel_init",data:{user:o,activeAppId:GmCXt.activeAppId,organization:r,userPrefLang:GmCXt.userPrefLang,appList:i,refreshTime:ce.refreshTime,lastTimeStampSync:ce.lastTimeStampSync,url:a.fullUrl,reset:e,triggerSync:t}},GmCXt.onSidePanelInit(o),GmCXt.sendMessageToBackgroundService(o))},ce.isAllowedDomain=function(){let t=!0;if(GmCXt.conf.allowedDomains&&GmCXt.conf.allowedDomains.length){t=!1;for(let e=0;e<GmCXt.conf.allowedDomains.length;e++)if(0<=GmCXt.urlParts.host.indexOf(GmCXt.conf.allowedDomains[e])){t=!0;break}}return t},ce.initApp=function(){GmCXt.onPrem()?xu():GmCXt.isPlayer()?(GmCXt.log(21,"LOADED side panel. Initialising Player"),GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)?Ju():(GmCXt.conf.appConfig.login.SSO||GmCXt.myGuideInternalCustomers()||GmCXt.isMcKesson())&&ce.isAllowedDomain()?GmCXt.urlParts?ce.signInWithSso():setTimeout(function(){ce.signInWithSso()},1e3):ce.clearSession()):(GmCXt.log(21,"LOADED side panel. Initialising Creator"),GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)?Ju():ce.clearSession())},ce.goToNoApp=function(){GmCXt.isPlayer()&&GmCXt.hideWidgetIcon(),ce.setActivePage("home"),ce.setCurrentPage("noapp")},ce.validateAndMigrateTour=function(e){e=GmCXt.validateDataModel(e,GmCXt.model.guide);return GmCXt.migrateTour(e)},ce.updateGuideInPublishedTour=function(r,a){let i=!1;ce.publishedTours.forEach(function(e,t){parseInt(e.tour_id)===parseInt(r.tour_id)&&(i=!0,a?ce.publishedTours.splice(t,1):ce.publishedTours[t]=r)}),i||a||ce.publishedTours.push(r)},ce.updateTourToStorage=function(e,r,a,i){GmCXt.log(70,"UPDATE TOUR: "+GmCXt.tourLog(r)),a||i||(ce.setTour(r),GmCXt.log(70,"UPDATE TOUR: Global updated"+GmCXt.tourLog(r)));var t=i||GmCXt.activeAppId;let o=r.category_id;var n=r.tour_id;let s=!1;var l=r;if(!GmCXt.isEmpty(ce.contextTours)){let i=!1;Object.keys(ce.contextTours).forEach(function(a){i||Object.keys(ce.contextTours[a]).forEach(function(t){if(!i){var r=ce.contextTours[a][t];for(let e=0;e<r.length;e++)if(parseInt(ce.contextTours[a][t][e].tour_id)===parseInt(l.tour_id)){i=!0,ce.contextTours[a][t][e]=l;break}}})})}if(GmCXt.appList["app:"+t]&&!(s=GmCXt.appList["app:"+t].categories?GmCXt.appList["app:"+t].categories.filter(function(e){return parseInt(e.category_id)===parseInt(o)})[0]:s)&&GmCXt.appList["app:"+t].categories){var d=GmCXt.appList["app:"+t].categories;for(let e=0;e<d.length&&!(s=d[e].sub_categories?Gu(d[e].sub_categories,o):s);e++);}if(s){let t;if(s.tours)for(let e=0;e<s.tours.length;e++)if(parseInt(s.tours[e].tour_id)===parseInt(n)){t=e;break}0<=t?a?(s.tours.splice(t,1),GmCXt.log(70,"UPDATE TOUR: tour REMOVED"+GmCXt.tourLog(r))):(s.tours.splice(t,1,r),GmCXt.log(70,"UPDATE TOUR: tour UPDATED"+GmCXt.tourLog(r))):a||(s.tours||(s.tours=[]),s.tours.push(r),GmCXt.log(70,"UPDATE TOUR: tour ADDED"+GmCXt.tourLog(r))),ce.syncApps(GmCXt.appList),GmCXt.saveToDapStorage("appData",GmCXt.appList),i||ce.updateGuideInPublishedTour(r,a),e&&ce.playerSyncCount--}else GmCXt.log(70,"UPDATE TOUR: category not found"+GmCXt.tourLog(r)),ce.playerSyncCount--},GmCXt.storage().get(["screen_recorder_close"]).then(function(e){e.screen_recorder_close?(ce.isScreenRecorderClose=e.screen_recorder_close,GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:show_recording_off"})):ce.isScreenRecorderClose=!1}),ce.getSteps=function(r){return new Promise(function(t,e){GmCXt.api.getTour(r,function(e){ce.notDefaultLang()&&(e=ce.getTranslatedTourAndSteps(e,ce.language),t(e)),t(e)})})},ce.isTooltip=function(e){return!(!e||!e.tour_type||-1===e.tour_type.indexOf("smartTip"))},ce.isHelpArticle=function(e){return!(!e||!e.tour_type||-1===e.tour_type.indexOf("help_article"))},ce.isMobileGuide=function(e){return!!(e&&e.tour_settings&&e.tour_settings.tour_type&&-1!==e.tour_settings.tour_type.indexOf("mobile"))},ce.isPlayedTour=function(e){var t=GmCXt.playedTour;return!(!GmCXt.isPlayer()||GmCXt.isEmpty(t)||-1===t.indexOf(e))},ce.branchGuideDownloadOpts=function(e){e.video_file=!1,e.gif_file=!1,e.text_file=!1,e.word_file=!1,e.blog_file=!1},ce.addPanelOverlay=function(){mg$(".mgPlayerJSProd_ege-panel-overlay").remove(),mg$(".mgPlayerJSProd_ege-panel").append("<wmgPlayerJSProd_ class='mgPlayerJSProd_ege-panel-overlay'></wmgPlayerJSProd_>")},ce.showPanelOverlay=function(){mg$(".mgPlayerJSProd_ege-panel-overlay").css({display:"block"})},ce.hidePanelOverlay=function(){mg$(".mgPlayerJSProd_ege-panel-overlay")&&mg$(".mgPlayerJSProd_ege-panel-overlay").is(":visible")&&mg$(".mgPlayerJSProd_ege-panel-overlay").css({display:"none"})},ce.updateAccessToken=function(){GmCXt.updateGlobalUser(GmCXt.user)},ce.updateAccessTokenCallBack=function(e,t,r){if(e){var a=GmCXt.user;if(a.accesstoken=e.accesstoken,a.refreshtoken=e.refreshtoken,GmCXt.isDefined(e.profile)&&(a.profile=e.profile),GmCXt.isDefined(e.app_access)&&(a.app_access=e.app_access),ce.saveUser(a),ce.accesstokenCbArr.length){for(let e=0;e<ce.accesstokenCbArr.length;e++){var i=ce.accesstokenCbArr[e];i.cb&&(r?i.cb(i.apiData):i.cb(a.accesstoken))}ce.accesstokenCbArr=[]}ce.updateAccessToken(),GmCXt.showWidget(),ce.updateLabels()}else GmCXt.log(1,"ERROR: failed to get a new accesstoken")},ce.accesstokenCbArr=[],ce.ActiveRefreshAccessTockenCall=!1,ce.getAccessTokenFromRefreshToken=function(t,r){ce.accesstokenCbArr.push({cb:t,apiData:r}),ce.ActiveRefreshAccessTockenCall||(ce.ActiveRefreshAccessTockenCall=!0,GmCXt.api.getAccessToken(function(e){ce.ActiveRefreshAccessTockenCall=!1,ce.updateAccessTokenCallBack(e,t,r)}))},ce.getAllSegments=function(t){return new Promise(function(r,e){t?ce.getSegmentGroupList().then(function(e){r(e)}):GmCXt.getFromStorage("segmentGroupData").then(function(e){var t=e.time+GmCXt.t.syncSegment;Date.now()<t?(ce.allSegments=e.list,ce.syncSegmentData()):ce.allSegments=[],ce.allSegments.length?r(ce.allSegments):ce.getSegmentGroupList().then(function(e){r(e)})})})},ce.resetCreatorData=function(e){ce.allCategories={},ce.allCategoriesNoFilter=[],GmCXt.inPlayer||(ce.categoryStore=[]),ce.subCategoryStore={},ce.allTourList={},e&&(GmCXt.inPlayer||GmCXt.removeFromDapStorage("categories"),ce.serverUpdates={},ce.serverDeletes={categories:[],tours:[]},GmCXt.removeFromDapStorage("allTourList"),GmCXt.removeFromDapStorage("serverUpdates"),GmCXt.removeFromDapStorage("serverDeletes"))},ce.resetCreatorData(),ce.cancelAutomationSelection=function(){ce.automationSelectionMode=!1,ce.myGuidesFilter=!0,ce.categoryDataForAutomation=[]},ce.processActiveRequests=function(){ce.maintenance||GmCXt.processActiveReq()},ce.getOnPremOrg=function(i){return new Promise(function(t,e){var r=GmCXt.organization;function a(e){ce.saveOrgSettings(e.settings),ce.enableOrgFeatures(e),ce.getCurrentAppObj().then(function(){ce.sendSidePanelInitEvent(),t()})}GmCXt.isEmpty(r)||i?GmCXt.api.getOrgJson(function(e){GmCXt.getJsonTimeStamp(GmCXt.getOnPremJsonURL()).then(function(e){ce.refreshTime=e.last_updated_time,GmCXt.saveToStorage("refreshTime_"+GmCXt.activeAppId,ce.refreshTime)}),ce.hideLoading();var t=(e=e.data).applications,e=GmCXt.validateDataModel(e,GmCXt.model.organization);ce.saveOrganization(GmCXt.organization),t=GmCXt.validateModelArray(t,GmCXt.model.applications._obj),ce.saveApps(t),a(e)}):a(r)})},ce.refreshAllData=function(e){GmCXt.log(21,"REFRESH event"),ce.showLoading(),ce.isRefresh=!0,ce.taskList=[],GmCXt.removeFromDapStorage("taskList"),GmCXt.removeFromDapStorage("languageList"),Au(),GmCXt.onPrem()?xu(!0):e?ku():(ce.accesstokenCbArr=[],ce.getAccessTokenFromRefreshToken(ku)),"stepview"===de(ge.CurrentPage)&&(ce.isStepViewRefresh=!0)},ce.showLogoutBtn=function(){var e=GmCXt.user;return!((GmCXt.isEmpty(e)||GmCXt.isLXP()||e?.signedInWithSso||GmCXt.conf.appConfig.login.SSO)&&!GmCXt.isCreatorExt())},ce.resetAppData=function(){GmCXt.appList={},GmCXt.removeFromStorage("activeAppId"),GmCXt.activeAppId=!1},ce.triggerSsoInterval=function(){clearInterval(ce.ssoLoginCheck),ce.ssoLoginCheck=setInterval(function(){!ce.ssoSuccess&&ce.ssoHitCount<30?(ce.ssoHitCount++,ce.signInWithSso()):ce.clearSsoInterval()},2e3)},ce.getSsoUserInfo=function(){ce.ssoHitCount<30&&(ce.ssoHitCount++,setTimeout(function(){ce.signInWithSso()},2e3))},ce.openSsoTab=function(e,t,r){var a;GmCXt.isEmpty(ce.ssoId)&&!ce.appConfig.login.SSO||(a=(new Date).getTime(),r||e?(!t||a>t+GmCXt.t.openSso)&&GmCXt.saveToStorage("lastSsoRedirectTime",a):(GmCXt.saveToStorage("lastSsoRedirectTime",a),GmCXt.saveToStorage("triggerSsoAfterFiveMins",!1)),r="width=350,height=300,",e=(r+="top="+(screen.width-100)+",")+"left="+(screen.height-100),ce.ssoTab=window.open(Lu(ce.ssoRedirectionUrl),"",e),ce.getSsoUserInfo())},ce.clearSsoInterval=function(){clearInterval(ce.ssoLoginCheck),Eu(),ce.ssoLoginCheck=""},ce.removeCookieWithSSO=function(){return new Promise(async(r,t)=>{try{ce.ssoId=ce.ssoId||GmCXt.user?.ssoId,(GmCXt.isEmpty(GmCXt.conf.ssoRemoveCookieUrl)||GmCXt.isEmpty(ce.ssoId))&&r(),(async()=>{var e=GmCXt.trimAndLowerCaseURL(GmCXt.urlParts.host),t=Lu(GmCXt.conf.ssoRemoveCookieUrl),e=(GmCXt.trackApiCalls(),{"x-mg-host":e,"x-mg-source":GmCXt.conf.appName,"x-mg-orgId":"","Content-Type":"application/json"}),t=await Mu(t,{requestType:"removeCookieSSO",headers:e,credentials:"include"}),e=GmCXt.parseJSON(t);GmCXt.activeApiCallCount--,ce.hideLoading(),r(e)})()}catch(e){console.error("Error remove cookie SSO info:",e),t(e)}})},ce.getUserInfoWithSSO=function(){return new Promise(async(r,t)=>{try{let e="",t="";t=GmCXt.isPlayer()?(e=GmCXt.trimAndLowerCaseURL(GmCXt.urlParts.host),Lu(ce.ssoApiUrl)):(e=GmCXt.trimAndLowerCaseURL(ce.ssoDomain),Lu(GmCXt.conf.ssoApiUrlCreator)),GmCXt.trackApiCalls(!1,!0);var a={"x-mg-host":e,"x-mg-source":GmCXt.conf.appName,"x-mg-orgId":"","Content-Type":"application/json"},i=await Mu(t,{requestType:"fetchUserInfoWithSSO",headers:a,credentials:"include"}),o=GmCXt.parseJSON(i);GmCXt.activeApiCallCount--,ce.hideLoading(),r(o)}catch(e){GmCXt.activeApiCallCount--,ce.hideLoading(),console.error("Error fetching SSO info:",e),t(e)}})},ce.creatorSSOLogin=function(e){ce.showLoading(),ce.ssoHitCount=0,ce.ssoDomain=e;try{ce.getSsoId(e).then(function(e){e&&e.id&&(ce.openSsoTab(),ge.showSsoNotAvailableError.set(!1))}).catch(function(){ge.showSsoNotAvailableError.set(!0),ce.hideLoading()})}catch(e){ce.hideLoading()}},ce.getSsoId=function(e){return new Promise(async(t,r)=>{try{let e=GmCXt.trimAndLowerCaseURL(GmCXt.urlParts.host);GmCXt.isEmpty(ce.ssoDomain)||(e=ce.ssoDomain);var a=await Mu(""+GmCXt.conf.ssoConfigUrl+GmCXt.getMd5(e)+".json",{requestType:"fetchSsoId",headers:{"Content-Type":"application/json"},credentials:"omit"}),i=GmCXt.parseJSON(a);ce.ssoId=i.id,t(i)}catch(e){GmCXt.log(1,"Error fetching SSO ID:",e),r(e)}})},ce.shouldOpenSsoTab=function(){let o=(new Date).getTime();return new Promise(function(i){GmCXt.getFromStorage("lastSsoRedirectTime").then(function(a){GmCXt.getFromStorage("triggerSsoAfterFiveMins").then(function(e){var t=o>a+GmCXt.t.openSso,r=!e&&a&&o>a+GmCXt.t.openSsoAfterFiveMin;r&&(GmCXt.saveToStorage("triggerSsoAfterFiveMins",!0),GmCXt.saveToStorage("lastSsoRedirectTime",o)),i({flag:!a||t||!e&&r,fiveMinuteCheck:r,lastSsoRedirectTime:a,triggerSsoAfterFiveMins:e})})})})},ce.goToMaintenance=function(){ce.hideLoading(),ce.maintenance=!0,ce.chatBot=!1,ce.setActivePage("maintenance")},ce.signInWithSso=function(e){function t(){var e=GmCXt.user;e&&!GmCXt.isEmpty(e)?Eu():ce.shouldOpenSsoTab().then(function({flag:e,fiveMinuteCheck:t,lastSsoRedirectTime:r,triggerSsoAfterFiveMins:a}){e?ce.openSsoTab(t,r,a):ce.getSsoUserInfo()})}function r(){ce.getUserInfoWithSSO().then(a).catch(function(e){t()})}function a(e){!1===e.error?(Eu(),ce.onUserSignin(e.data.user,!0,!0)):1001===e.code?t():1002===e.code?(Eu(),GmCXt.hideWidgetIcon()):1014===e.code&&(Eu(),ce.goToMaintenance())}GmCXt.isEmpty(ce.myGuideOrgKey)&&GmCXt.myGuideInternalCustomers()||e?ce.getSsoId().then(function(e){e&&e.id&&r()}).catch(function(){GmCXt.log(1,"ERROR: failed to get SSO Id"),ce.clearSession()}):GmCXt.conf.appConfig.login.SSO&&r()},ce.goToLogin=function(){ge.showSsoNotAvailableError.set(!1),ge.activeView.set("signin")},ce.showPopup=function(e,t,r,a){r=r||"info",ce.hideLoading(),$.close(),$.open(e,r,t,!1,a)},ce.sortTourSteps=function(e,r){let a=[];return e.forEach(function(t){for(let e=0;e<r.length;e++)t.step_id===r[e].step_id&&(r[e].step_order=t.step_order.toString(),a.push(r[e]))}),a},ce.sortDataByActiveFilter=function(e,r,a){return!GmCXt.isEmpty(e)&&e.length?a||"currentpage"===de(ge.CurrentPage)?!r||"atoz"!==a&&"ztoa"!==a?e.sort((e,t)=>"older"===a?e.modification_date-t.modification_date:t.modification_date-e.modification_date):"atoz"===a?e.sort((e,t)=>e[r].toLowerCase()>t[r].toLowerCase()?1:-1):"ztoa"===a?e.sort((e,t)=>t[r].toLowerCase()>e[r].toLowerCase()?1:-1):e:e.sort((e,t)=>"category_title"===r?e.category_order-t.category_order:e.tour_order-t.tour_order):[]},ce.isBotTourPlayed=function(t){let r=!1;for(let e=0;e<ce.botTourPlayList.length;e++)if(ce.botTourPlayList[e].tour_id===t.tour_id){r=!0;break}return r},ce.filterBotGuides=function(e){return e=e.filter(function(e){if(GmCXt.isBotGuide(e))return e;if(ce.botTourPlayList&&ce.botTourPlayList.length){if(e.tour_settings.enableBot&&!ce.isBotTourPlayed(e))return e}else if(e.tour_settings.enableBot)return e})},ce.setPlayedStepsInfo=function(t){if(ce.playedSteps=ce.playedSteps||[],GmCXt.isValueInArray(ce.playedSteps,"tId",t.tour_id)){for(let e=0;e<ce.playedSteps.length;e++)if(ce.playedSteps[e].tId===t.tour_id){ce.playedSteps[e].lastStepid=t.step_id;break}}else ce.playedSteps.push({tId:t.tour_id,lastStepid:t.step_id});GmCXt.saveToStorage("stepsPlayed",ce.playedSteps);var e={playedSteps:ce.playedSteps},e=(GmCXt.user&&GmCXt.user.settings&&(GmCXt.user.settings.guide_view=e),{settings:{guide_view:e}});GmCXt.updateUserSettings(e,GmCXt.user,function(e){ce.saveUser(GmCXt.user)})},ce.getPlayedStepCount=function(t){let r="";if(ce.playedSteps)for(let e=0;e<ce.playedSteps.length;e++)if(ce.playedSteps[e].tId===t.tour_id){r=ce.playedSteps[e].lastStepid;break}return GmCXt.getStepPosFromPs(t,r)},ce.hideMirrorAppCtrl=function(){let e=!1;var t;return e=GmCXt.isMirrorApp()&&!GmCXt.isEmpty(GmCXt.appList)&&GmCXt.activeAppId&&(t=GmCXt.appList["app:"+GmCXt.activeAppId])&&t.base_app_id&&0!==parseInt(t.base_app_id)?!0:e},ce.triggerError=function(e){ir.on({code:e.code,url:e.url,params:e.params,method_type:e.method_type,message:e.errMessage})},ce.loginFromConsole=function(t){var e={email_id:t.email,password:t.password,keep_login:1};GmCXt.api.userSignIn(e,function(e){ce.onUserSignin(e,t.sso)},function(){ce.clearSession()})},ce.updateCategoryInStorage=function(i,o,e){if(GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: "+GmCXt.categoryLog(i)),e=e||GmCXt.activeAppId){var r=GmCXt.appList["app:"+e].categories;let t,a=!1;if(r.length&&!parseInt(i.parent_id)){for(let e=0;e<r.length;e++)if(r[e].category_id===i.category_id){t=e;break}}else r.length||(GmCXt.appList["app:"+e].categories=[]);var n,s,l=GmCXt.appList["app:"+e].categories;if(0<=t)GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: category FOUND"+GmCXt.categoryLog(i)),a=!0,o?(GmCXt.appList["app:"+e].categories.splice(t,1),GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: category REMOVED"+GmCXt.categoryLog(i))):((n=GmCXt.appList["app:"+e].categories[t].tours)&&!i.tours&&i.has_tour?(GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: keep category tours"+GmCXt.categoryLog(i)),i.tours=n):(n=GmCXt.appList["app:"+e].categories[t].categories)&&i.has_child&&!i.categories&&(GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: keep category subcats"+GmCXt.categoryLog(i)),i.categories=n),GmCXt.appList["app:"+e].categories.splice(t,1,i),GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: category UPDATED"+GmCXt.categoryLog(i)));else if(parseInt(i.parent_id))for(let r=0;r<l.length;r++){let e,t;if(parseInt(l[r].category_id)===parseInt(i.parent_id)&&(t=l[r]),l[r].sub_categories&&(t=t||Gu(l[r].sub_categories,i.parent_id))&&t.sub_categories&&(e=Gu(l[r].sub_categories,i.category_id)),t&&!e&&(t.sub_categories=t.sub_categories||[],t.sub_categories.push(i)),e){GmCXt.log(70,"UPDATE TOURS in STORGAE: sub category found. "+i.category_id),a=!0,o||(e.has_tour&&e.tours?(s=GmCXt.createDeepCopy(e.tours),i.tours=s,e=i):e.has_child&&e.categories&&(s=GmCXt.createDeepCopy(e.categories),i.categories=s,e=i));break}}a||o||0!==parseInt(i.parent_id)||(GmCXt.appList["app:"+e].categories.push(i),GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: category ADD"+GmCXt.categoryLog(i))),ce.syncApps(GmCXt.appList),GmCXt.saveToDapStorage("appData",GmCXt.appList),ce.playerSyncCount--}},ce.updateCategory=function(e,t,r,a){var i="cat_"+e.category_id,o=ce.allCategories;!GmCXt.isEmpty(o)&&o[i]?(o[i][t]=r,a&&(o[i].modification_date=GmCXt.getCurrentTimeInSec()),GmCXt.inPlayer||(ce.allCategories=o,GmCXt.saveToDapStorage("categories",ce.allCategories))):(e[t]=r,a&&(e.modification_date=GmCXt.getCurrentTimeInSec()),ce.addCategory(e)),du(e,parseInt(e.parent_id))},ce.updateEnvNames=function(e){var t;return"qa"===e?ce.labels.qa:"stage"===e?ce.labels.stage:"prod"===e?ce.labels.production:(t=GmCXt.appList["app:"+GmCXt.activeAppId])&&t.settings&&t.settings.app_env&&t.settings.app_env[e]?t.settings.app_env[e].name:void 0},ce.removeTour=function(e,t,r){var a=ce.allTourList["cat_"+e]["tour_"+t];if(a&&("smartTip"===a.tour_type||-1<a.tour_type.indexOf("beacon_tour"))&&GmCXt.removeSmarttipAndBeaconIcon(a.tour_id),!r){if(!ce.allTourList["cat_"+e]["tour_"+t])return;delete ce.allTourList["cat_"+e]["tour_"+t]}GmCXt.inPlayer&&ce.updateTourToStorage(!0,{tour_id:t,category_id:e,application_id:r},!0,r),r||(GmCXt.saveToDapStorage("allTourList",ce.allTourList),(a=ce.getCategory(e))&&GmCXt.FT.creatorApp&&(t=parseInt(a.total_unpublish_tour),t=0<=--t?t:0,ce.updateCategory(a,"total_unpublish_tour",t.toString()),0===parseInt(a.total_unpublish_tour))&&0===parseInt(a.total_publish_tour)&&ce.updateCategory(a,"has_tour",!1))},ce.fetchToursForCategory=function(e,t,r,a){e={limit:100,offset:0,category_id:e,organization_id:GmCXt.organization.organization_id};r&&(e.published_guides="1"),GmCXt.api.getTourList(e,function(e){t(e)},a)},ce.updateToursInCategoryStorage=function(r,e,a,i){if(GmCXt.log(70,"UPDATE TOURS in STORAGE: ",e),i||ce.getCategory(r)){i=i||GmCXt.activeAppId;let t=GmCXt.appList["app:"+i].categories.filter(function(e){return e.category_id===r})[0];if(t)GmCXt.log(70,"UPDATE TOURS in STORGAE: category found. "+r);else{var o=GmCXt.appList["app:"+i].categories;for(let e=0;e<o.length;e++)if(t=o[e].sub_categories?Gu(o[e].sub_categories,r):t){GmCXt.log(70,"UPDATE TOURS in STORGAE: sub category found. "+r);break}}a?(GmCXt.log(70,"UPDATE TOURS in STORGAE: REMOVED "+r),t.tours=[]):(GmCXt.log(70,"UPDATE TOURS in STORGAE: UPDATED "+r),t.tours=e),e.forEach(function(e){ce.updateGuideInPublishedTour(e,a)}),ce.syncApps(GmCXt.appList),GmCXt.saveToDapStorage("appData",GmCXt.appList)}else GmCXt.log(70,"UPDATE TOURS in STORGAE: category not found. "+r)},ce.processAppData=function(e){function r(e){var t;(a["cat_"+e.category_id]=e).sub_categories&&0<e.sub_categories.length?mg$.each(e.sub_categories,function(e,t){r(t)}):e.tours&&0<e.tours.length&&(i=(e=e.tours,t=i,e.forEach(function(e){t["tour_"+e.tour_id]=e}),t))}let a={},i={};GmCXt.log(21,"PROCESS NON ACTIVE app data",e);return e&&e.categories&&0<e.categories.length&&e.categories.forEach(function(e){r(e)}),{categories:a,tours:i}},ce.getBasePath=function(e){let t="";return t=GmCXt.isExtension()?GmCXt.getBrowserUrl(e):GmCXt.isDefined(GmCXt.conf.baseUrl)?GmCXt.conf.baseUrl+e:GmCXt.conf.clientJsBaseUrl+e},ce.getImageURL=function(e,t,r){if(e)return e=e.split(".png")[0]+t,r?e:GmCXt.restoreAssetSrc(e)},ce.getApiLimit=function(e){return 50*(Math.ceil(e/50)||1)},ce.isAppAdmin=function(){return"app_admin"===ce.user.role},ce.isOwnerOrAppAdmin=function(){return!(!ce.isOwner()&&!ce.isAppAdmin())},ce.hasCreatorAccess=function(){var e=ce.user.role;return!(!GmCXt.FT.creatorApp||"creator"!==e&&"app_admin"!==e&&!ce.isOwner())},ce.clearSearchInput=function(){mg$("#mgPlayerJSProd_search-text-input").val(""),ce.searchKeyword=""},ce.redirectBackToCat=function(e){let t;e.has_tour?(t={data:e},ge.isTourListRefresh.set(t)):(e.has_tour,ge.routeAction.set({action:"cat_import_compleated",data:{catId:e.category_id}})),t={detail:{parent:e,hasTour:e.has_tour,hasChild:e.has_child,initiator:"goback"}},ge.routeAction.set({action:"forwardTraversal",data:t})},ce.goToLevel=function(e,t){ce.clearSearchInput(),ce.showLoading();var r=ce.getCategory(e.category_id);function a(e){var t=[];for(ge.breadCrumb.set(t);e.parent_id;){var r=GmCXt.createDeepCopy(e);t.unshift(r),e=ce.getCategory(e.parent_id)}t.unshift("All Guides"),ge.breadCrumb.set(t),ce.setActivePage("home"),ce.setCurrentPage("allguides"),!GmCXt.isEmpty(t)&&1<t.length&&ce.redirectBackToCat(t[t.length-1])}!r||t?(e.category_id,ce.getCategoryApi(e.category_id,function(e){a(e)},!0)):a(r)},ce.filterDefaultGuides=function(e){return e=e.filter(function(e){if(window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer){if(ce.isDesktopGuide(e))return e}else if(ce.isDefaultGuide(e)||ce.isDesktopGuide(e))return e})},ce.getCategoryListApi=function(e,t){ce.language&&!GmCXt.isFalse(ce.language)&&(e.language=ce.language),GmCXt.getLXPLang()&&(e.language=GmCXt.getLXPLang()),(ce.isUserLoggedIn()||GmCXt.onPrem())&&GmCXt.api.getCategoryList(e,t)},ce.dispatchEvent=function(e){document.dispatchEvent(e)},ce.isUserRole=function(){return"user"===ce.user.role},ce.isAnnouncement=function(e){return!!(e&&e.tour_settings&&GmCXt.isOnboarding(e)&&e.tour_settings.tutorial_tour_type&&"announcement"===e.tour_settings.tutorial_tour_type)},ce.hasTourAccess=function(e){return!!(e&&!e.is_locked||e&&ce.lockedByUser(e))},ce.isLocked=function(e){return!(!e.is_locked||e.user_id===ce.user.user_id)},ce.lockedByUser=function(e){return!(!e||!e.is_locked||e.user_id!==ce.user.user_id)},ce.getNode=function(t,e){var r=e;for(let e=0;e<r.length;e++)if(r[e].id===t)return r[e]},ce.focusAccessibilityBtn=function(){GmCXt.timeout(function(){GmCXt.APP_PANEL_OPEN&&mg$(".mgPlayerJSProd_accessibility-btn-wrapper button.mgPlayerJSProd_custom-slider")&&mg$(".mgPlayerJSProd_accessibility-btn-wrapper button.mgPlayerJSProd_custom-slider").length&&mg$(".mgPlayerJSProd_accessibility-btn-wrapper button.mgPlayerJSProd_custom-slider")[0].focus()},500)},ce.routeToStepContainer=function(e,t){ge.routeAction.set({action:e,data:t}),"stepview"!==de(ge.CurrentPage)&&ce.setCurrentPage("stepview")},ce.getDefaultSurveyStepIcon=function(){return GmCXt.conf.staticContentPath+"survey_step.png"},ce.getAutomationSteps=function(e,t){var r=[];let a=0;if(e[a=t?parseInt(t.step_order):a])for(;GmCXt.isAutomationStep(e[a]);)r.push(e[a]),a++;return r},ce.getUserList=function(t){let r={limit:100,offset:0,owner_creator_filter:1};function a(e){e=e.data.users;ce.userList=e,GmCXt.saveToStorage("userList",e),t(e)}GmCXt.getFromStorage("userList").then(function(e){GmCXt.isEmpty(e)?GmCXt.api.getUserList(r,a):(ce.userList=e,t(e))})},ce.checkKeywordLimit=function(e,t){if(24<e.length)return GmCXt.toastMsg(ce.labels.keywordLimit).show(),t.preventDefault(),0===e.length},ce.setCurrentPage=function(t){ge.CurrentPage.update(e=>e===t?"":t),ge.CurrentPage.set(t)},ce.setActivePage=function(t){ge.activeView.update(e=>e===t?"":t),ge.activeView.set(t)},ce.goToActiveView=function(){var e=de(ge.activeView);"home"!==e&&"signin"!==e&&"maintenance"!==e&&ge.activeView.set("home")},ce.redirectToActiveview=function(){ce.checkCdnSignature().then(function(){GmCXt.isPlayer()?ce.getCurrentAppObj().then(function(e){GmCXt.isEmpty(e)||ce.goToActiveView()}):ce.goToActiveView()})},ce.getTourSteps=function(t,r){if(ce.isAnnouncement(t)&&0!==parseInt(t.step_count)&&GmCXt.isEmpty(t.steps)){var a={tour_id:t.tour_id,category_id:t.category_id};let e;ce.enableTranslation&&(GmCXt.getLXPLang()?e=GmCXt.getLXPLang():ce.language&&(e=ce.language)),GmCXt.checkDefaultLangForTour(t,e)||(a.language=e),GmCXt.api.getTour(a,function(e){r(e),ce.hideLoading()},null,!0)}else r(t),ce.hideLoading()},ce.debounce=function(t,r){let a;return function(...e){clearTimeout(a),a=setTimeout(()=>{t.apply(this,e)},r)}},ce.bindPlayerTheme=function(){var d=GmCXt.getAppSetting("playerTheme");if(d&&!GmCXt.accessibility){let e=d?.font,t=d?.body?.background,r=d?.body?.desc_font_size,a=d?.body?.title_font_size,i=d?.body?.icon_color,o=d?.body?.text_color,n=d?.header?.color,s=d?.header?.icon_color,l=d?.header?.text_color;mg$(".mgPlayerJSProd_ege-panel").each(function(){t&&this.style.setProperty("background",t,"important")}),mg$(".mgPlayerJSProd_ege-panel wmgPlayerJSProd_, .mgPlayerJSProd_ege-panel span, .mgPlayerJSProd_ege-panel button, .mgPlayerJSProd_ege-panel a, .mgPlayerJSProd_ege-panel input").each(function(){e&&this.style.setProperty("font-family",e,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-header .mgPlayerJSProd_panel-header-wrapper").each(function(){n&&this.style.setProperty("background",n,"important");var e=this.querySelector(".mgPlayerJSProd_theme-mplayer-header-title");l&&e&&e.style.setProperty("color",l,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-header .mgPlayerJSProd_panel-header-wrapper .mgPlayerJSProd_header-icon svg path").each(function(){this.closest(".mgPlayerJSProd_push-notification-info-wrapper")||s&&(this.style.setProperty("fill",s,"important"),this.style.setProperty("stroke","none","important"))}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-header .mgPlayerJSProd_panel-header-wrapper .mgPlayerJSProd_accessibility-btn-wrapper .mgPlayerJSProd_accessibility-btn svg path").each(function(){s&&this.style.setProperty("stroke",s,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-header .mgPlayerJSProd_ege-panel-header-detail-view").each(function(){t&&this.style.setProperty("background",t,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container").find(".mgPlayerJSProd_category-list, .mgPlayerJSProd_search-list, .mgPlayerJSProd_list-page-header .mgPlayerJSProd_list-page-header-wrapper .mgPlayerJSProd_search-bar-container, .mgPlayerJSProd_list-page-header .mgPlayerJSProd_list-page-header-wrapper .mgPlayerJSProd_search-bar-container .mgPlayerJSProd_task-list-icon-container, .mgPlayerJSProd_list-page-header .mgPlayerJSProd_list-page-header-wrapper .all-guides-filters-tab, .mgPlayerJSProd_list-page-header .mgPlayerJSProd_list-page-header-wrapper .mgPlayerJSProd_library-filter-wrapper .mgPlayerJSProd_filter-tab, #mgPlayerJSProd_breadcrums-main-container, .mgPlayerJSProd_category-list .mgPlayerJSProd_category-list-item.active").each(function(){t&&this.style.setProperty("background",t,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_chat-page-header").each(function(){t&&this.style.setProperty("background",t,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_list-page-header .mgPlayerJSProd_list-page-header-wrapper .mgPlayerJSProd_search-bar-container .mgPlayerJSProd_task-list-icon-container .mgPlayerJSProd_task-list-icon svg rect").each(function(){i&&this.style.setProperty("fill",i,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_list-page-header .mgPlayerJSProd_list-page-header-wrapper .mgPlayerJSProd_search-bar-container .mgPlayerJSProd_task-list-icon-container .mgPlayerJSProd_task-list-icon svg path").each(function(){t&&this.style.setProperty("fill",t,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_list-page-header .mgPlayerJSProd_list-page-header-wrapper .mgPlayerJSProd_search-bar-container .mgPlayerJSProd_filter-sorting-wrapper .mgPlayerJSProd_filter-sort-icon").each(function(){i&&(this.querySelectorAll("svg path").forEach(e=>{e.style.setProperty("fill",t,"important")}),this.querySelectorAll("svg rect").forEach(e=>{e.style.setProperty("fill",i,"important")}))}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_task-list-container .mgPlayerJSProd_task-list-icon").each(function(){i&&(this.querySelectorAll("svg path").forEach(e=>{e.style.setProperty("fill",t,"important")}),this.querySelectorAll("svg circle").forEach(e=>{e.style.setProperty("fill",i,"important")}))}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_task-list-container").find(".mgPlayerJSProd_task-list-header .mgPlayerJSProd_task-list-go-back-container, .mgPlayerJSProd_task-list-header .mgPlayerJSProd_progress-details-container, .mgPlayerJSProd_assign-container").each(function(){t&&this.style.setProperty("background",t,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container.mgPlayerJSProd_tour-view-page-container, .mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_category-list").each(function(){t&&this.style.setProperty("background",t,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container .mgPlayerJSProd_tour-item .mgPlayerJSProd_tour-title-description-wrapper .mgPlayerJSProd_guide-row-action-wrapper .mgPlayerJSProd_guide-play-action-wrapper, .mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container .mgPlayerJSProd_tour-item .mgPlayerJSProd_tour-title-description-wrapper .mgPlayerJSProd_guide-row-action-wrapper .mgPlayerJSProd_guide-row-download-wrapper").each(function(){t&&this.style.setProperty("background",t,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container .mgPlayerJSProd_tour-item .mgPlayerJSProd_tour-title-description-wrapper .mgPlayerJSProd_guide-row-action-wrapper .mgPlayerJSProd_guide-play-action-wrapper .mgPlayerJSProd_guide-action-icon-wrapper, .mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container .mgPlayerJSProd_tour-item .mgPlayerJSProd_tour-title-description-wrapper .mgPlayerJSProd_guide-row-action-wrapper .mgPlayerJSProd_guide-row-download-wrapper .mgPlayerJSProd_header-detail-view-tour-download-wrapper").each(function(){i&&this.style.setProperty("background",i,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container .mgPlayerJSProd_tour-item .mgPlayerJSProd_tour-title-description-wrapper .mgPlayerJSProd_guide-row-action-wrapper .mgPlayerJSProd_guide-play-action-wrapper .mgPlayerJSProd_guide-action-icon-wrapper .mgPlayerJSProd_action-icon svg path, .mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container .mgPlayerJSProd_tour-item .mgPlayerJSProd_tour-title-description-wrapper .mgPlayerJSProd_guide-row-action-wrapper .mgPlayerJSProd_guide-row-download-wrapper .mgPlayerJSProd_header-detail-view-tour-download-wrapper svg path").each(function(){t&&this.style.setProperty("fill",t,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container .mgPlayerJSProd_tour-item .mgPlayerJSProd_tour-title-description-wrapper .mgPlayerJSProd_guide-row-action-wrapper .mgPlayerJSProd_guide-play-action-wrapper .mgPlayerJSProd_guide-action-icon-wrapper .mgPlayerJSProd_action-icon svg circle").each(function(){t&&i&&(this.style.setProperty("stroke",t,"important"),this.style.setProperty("fill",i,"important"))}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_category-list .mgPlayerJSProd_tour-item .mgPlayerJSProd_guide-title-wrapper .mgPlayerJSProd_guide-title, .mgPlayerJSProd_ege-panel .mgPlayerJSProd_category-list .mgPlayerJSProd_category-list-item .mgPlayerJSProd_category-list-item-wrapper .mgPlayerJSProd_category-title-description-wrapper .mgPlayerJSProd_category-title-wrapper").each(function(){a&&this.style.setProperty("font-size",a,"important"),o&&this.style.setProperty("color",o,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-header-detail-view .mgPlayerJSProd_header-detail-view-tour-title .mgPlayerJSProd_tour-title-wrapper .mgPlayerJSProd_tour-view-tour-title").each(function(){a&&this.style.setProperty("font-size",a,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_category-list .mgPlayerJSProd_tour-item .mgPlayerJSProd_guide-desc-wrapper .mgPlayerJSProd_tour-desc, .mgPlayerJSProd_ege-panel .mgPlayerJSProd_category-list .mgPlayerJSProd_category-list-item .mgPlayerJSProd_category-list-item-wrapper .category-title-description-wrapper .category-description-wrapper").each(function(){o&&this.style.setProperty("color",o,"important"),r&&this.style.setProperty("font-size",r,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container .mgPlayerJSProd_tour-item .mgPlayerJSProd_tour-title-description-wrapper .mgPlayerJSProd_tour-play-action-wrapper .tour-play-icon.published-tour-icon, .mgPlayerJSProd_ege-panel .mgPlayerJSProd_task-list-container .mgPlayerJSProd_assign-container .mgPlayerJSProd_chapter-container .mgPlayerJSProd_chapter-box .mgPlayerJSProd_chapter-content-wrapper .mgPlayerJSProd_guide-play-icon-wrapper .mgPlayerJSProd_published-tour-icon, .mgPlayerJSProd_push-notification-info-wrapper .mgPlayerJSProd_notification-guide-details-wrapper .mgPlayerJSProd_notification-guide-details .mgPlayerJSProd_notification-guide-icon").each(function(){i&&(this.querySelectorAll("svg circle").forEach(e=>{e.style.setProperty("stroke",i,"important"),e.style.setProperty("fill","transparent","important")}),this.querySelectorAll("svg rect").forEach(e=>{e.style.setProperty("stroke",i,"important"),e.style.setProperty("fill","transparent","important")}),this.querySelectorAll("svg path").forEach(e=>{e.style.setProperty("stroke",i,"important"),e.style.setProperty("fill",i,"important")}))}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container .mgPlayerJSProd_tour-item .mgPlayerJSProd_tour-title-description-wrapper .mgPlayerJSProd_tour-play-action-wrapper .tour-play-icon .mgPlayerJSProd_guide-beacon").each(function(){var e=mg$(this);e.find("svg circle.mgPlayerJSProd_combined-shape").each(function(){this.style.setProperty("fill","#9476c9","important"),this.style.setProperty("stroke","none","important")}),e.find("svg circle.mgPlayerJSProd_Oval").each(function(){this.style.setProperty("fill","none","important"),this.style.setProperty("stroke","#FFFFFF","important")})}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container .mgPlayerJSProd_category-list .mgPlayerJSProd_category-list-item .mgPlayerJSProd_category-list-item-wrapper .mgPlayerJSProd_category-image-wrapper .mgPlayerJSProd_category-icon, .mgPlayerJSProd_ege-panel .mgPlayerJSProd_task-list-container .mgPlayerJSProd_assign-container .mgPlayerJSProd_chapter-container .mgPlayerJSProd_chapter-box .mgPlayerJSProd_category-icon").each(function(){i&&(this.querySelectorAll("svg rect").forEach(e=>{e.style.setProperty("stroke",i,"important"),e.style.setProperty("fill","transparent","important")}),this.querySelectorAll("svg path").forEach(e=>{e.style.setProperty("stroke",i,"important"),e.style.setProperty("fill",i,"important")}))}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container .mgPlayerJSProd_category-list .mgPlayerJSProd_category-list-item .mgPlayerJSProd_category-list-item-wrapper .mgPlayerJSProd_category-image-wrapper .mgPlayerJSProd_category-image, .mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_tour-list-page-container .mgPlayerJSProd_tour-item .mgPlayerJSProd_guide-upld-img-wrapper.mgPlayerJSProd_guide-pub-img-border .mgPlayerJSProd_guide-upld-img").each(function(){i&&this.style.setProperty("border-color",i,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-header-detail-view .mgPlayerJSProd_header-detail-view-tour-title .mgPlayerJSProd_tour-title-wrapper .mgPlayerJSProd_tour-view-tour-title").each(function(){o&&this.style.setProperty("color",o,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-header-detail-view .mgPlayerJSProd_header-detail-view-tour-download-container .mgPlayerJSProd_header-detail-view-tour-download-wrapper").each(function(){i&&this.style.setProperty("background",i,"important")}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-header-detail-view .mgPlayerJSProd_header-detail-view-tour-download-container .mgPlayerJSProd_header-detail-view-tour-download-wrapper .mgPlayerJSProd_download-icon svg path").each(function(){t&&(this.style.setProperty("fill",t,"important"),this.style.setProperty("stroke",t,"important"))}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_guide-view-header-panel-container .mgPlayerJSProd_guide-view-header-panel .mgPlayerJSProd_guide-view-header-panel-icons").each(function(){i&&(this.style.setProperty("background",i,"important"),this.style.setProperty("opacity","0.6","important"),this.querySelectorAll("svg path").forEach(e=>{e.style.setProperty("fill",t,"important")}),this.querySelectorAll("svg circle").forEach(e=>{e.style.setProperty("fill",i,"important"),e.style.setProperty("stroke",t,"important")}),this.onmouseenter=()=>{this.style.setProperty("opacity","1","important")},this.onmouseleave=()=>{this.style.setProperty("opacity","0.6","important")})}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_guide-view-header-panel-container .mgPlayerJSProd_guide-view-header-panel .mgPlayerJSProd_guide-play-mode-wrapper .mgPlayerJSProd_guide-view-header-panel-icons.mgPlayerJSProd_active-play-mode").each(function(){var e;i&&(this.style.setProperty("background",i,"important"),this.style.setProperty("opacity","1","important"),e=this.querySelector("svg path"),t&&e&&e.style.setProperty("fill",t,"important"),this.onmouseenter=()=>{this.style.setProperty("opacity","1","important")},this.onmouseleave=()=>{this.style.setProperty("opacity","1","important")})}),mg$(".mgPlayerJSProd_ege-panel .mgPlayerJSProd_ege-panel-main-container .mgPlayerJSProd_category-list .mgPlayerJSProd_add-branching-container").each(function(){this.style.setProperty("display","none","important")})}else mg$(".mgPlayerJSProd_ege-panel")[0]?.style?.removeProperty("background")},ce.showBranchView=function(e){return GmCXt.containBranchStep(e)&&(!e.isEditMode||(e.isEditMode,e.isBranchTour))},ce.handleStartPointFound=function(e){ce.contTour.step=e.step,fu();var t=ce.contTour.step;GmCXt.log(33,"Start Point Found"+GmCXt.stepLog(t.step_id,t.tour_id)),e.resumeGuide&&(GmCXt.startPointStepPlayed=t?.step_id+"-"+t?.tour_id),delete ce.startPoints,delete ce.searching_sp},ce.handleNextStepFound=function(){ce.stepFound=!0;var e=ce.contTour.step;GmCXt.log(33,"FOUND next step"+GmCXt.stepLog(e.step_id,e.tour_id)),fu()},ce.handleStartPointNotFound=function(e){var t=e?.step?.step_id+"-"+ce.contTour?.tour?.tour_id;if(!e.resumeGuide||!GmCXt.startPointStepPlayed||GmCXt.startPointStepPlayed!==t)if(ce.searching_sp<ce.startPoints?.length-1){ce.searching_sp+=1;let e={tour_id:ce.contTour.tour_id,startPoint:ce.startPoints[ce.searching_sp]};GmCXt.startPointStepPlayed="",GmCXt.sendMessageToAllWindows("mgPlayerJSProd_action:started;task:search_start_point",e)}else"inline"!==ce.contTour.tour.steps[0].step_type&&bu("",null,ce.contTour.tour,ce.contTour.source,ce.contTour.tour.category_title)},ce.showCookiePopup=function(){return!(!GmCXt.user||GmCXt.isEmpty(GmCXt.user)||GmCXt.user?.settings?.edcastTermsAccepted||GmCXt.isClientJs()||!ce.isUserLoggedIn()||ce.isSuperAdmin()||ce.isMgAdmin()||ce.isPartnerAdmin()||!GmCXt.organization?.admin_settings?.display_accept_cookie_popup)},ce.closeCookiePopup=function(){GmCXt.user.settings.edcastTermsAccepted=!0;var e={...GmCXt.user};function t(e){mg$(".mgPlayerJSProd_cookie-policy-popup-container").remove(),ce.saveUser(GmCXt.user)}e.settings=JSON.stringify(GmCXt.user.settings),GmCXt.isAnonymousUser()?ce.displayAcceptCookiePopup=!1:GmCXt.user.signin_user_email?(e={email_id:GmCXt.user.signin_user_email,settings:e.settings,organization_id:GmCXt.user.organization_id},GmCXt.setAnonymousUserPrefrence(e).then(t)):GmCXt.updateUserSettings({settings:{edcastTermsAccepted:!0}},GmCXt.user,t)},ce.setContainerHeight=function(g){ce.containerView=g,GmCXt.timeout(function(){var e=mg$(".mgPlayerJSProd_panel").innerHeight()?mg$(".mgPlayerJSProd_panel").innerHeight():0,t=mg$("#mgPlayerJSProd_footer-panel-container").innerHeight()||0,r=mg$("#mgPlayerJSProd_ege-header").innerHeight()||0,a=mg$(".mgPlayerJSProd_guide-view-header-panel-container").innerHeight()||0,i=mg$(".mgPlayerJSProd_panel-header-wrapper").outerHeight(!0)?mg$(".mgPlayerJSProd_panel-header-wrapper").outerHeight(!0):0,o=mg$(".mgPlayerJSProd_tour-btn-wrapper").innerHeight()||0,n=mg$(".mgPlayerJSProd_list-page-header").innerHeight()?mg$(".mgPlayerJSProd_list-page-header").innerHeight():0;let s=0;var l=mg$(".mgPlayerJSProd_step-edit-footer-wrapper").innerHeight()||0;switch(g){case"signin":s=e-r-t+8,mg$(".mgPlayerJSProd_signin-page-container").innerHeight(s),mg$(".mgPlayerJSProd_signin-page-container").innerHeight()<60?mg$(".mgPlayerJSProd_header-banner-wrapper").hide():mg$(".mgPlayerJSProd_header-banner-wrapper").removeAttr("style");break;case"currentPage":var d=mg$(".mgPlayerJSProd_list-page-header").innerHeight()||0;s=e-t-r-d-5,mg$(".mgPlayerJSProd_category-list").innerHeight(s);case"addCategory":s=e-r-mg$(".mgPlayerJSProd_btn-wrapper").innerHeight()-t-mg$(".mgPlayerJSProd_header-title").innerHeight(),mg$(".mgPlayerJSProd_form-wrapper").innerHeight(s),mg$(".mgPlayerJSProd_btn-wrapper").css("bottom",t);break;case"allguides":case"stepContainer":var d=mg$(".mgPlayerJSProd_list-page-btn-wrapper").innerHeight()?mg$(".mgPlayerJSProd_list-page-btn-wrapper").innerHeight():0,c=mg$("#mgPlayerJSProd_breadcrums-main-container").innerHeight()?mg$("#mgPlayerJSProd_breadcrums-main-container").innerHeight():0;s=e-(r+a+l+d+n+c+t),mg$(".mgPlayerJSProd_category-list").innerHeight(s);break;case"search":s=e-(a+r+t+n+5),mg$(".mgPlayerJSProd_search-list").innerHeight(s);break;case"chatbot":d=mg$(".mgPlayerJSProd_chat-page-header").innerHeight()||0;s=e-(i+d+t+5),mg$("#mgPlayerJSProd_uilb-main-container").innerHeight(s);break;case"imageStep":case"messageStep":case"inlineStep":case"smarttipStep":case"featureStep":c=mg$(".mgPlayerJSProd_howto-paint-tool-container").innerHeight()||0;s=e-r-a-l-t-c,mg$(".mgPlayerJSProd_step-edit-footer-wrapper").css("bottom",t),mg$(".mgPlayerJSProd_category-list").innerHeight(s);break;case"addGuide":case"addVideo":d=mg$(".mgPlayerJSProd_header-title").innerHeight()||0;s=e-(i+d+o+t),mg$(".mgPlayerJSProd_tour-btn-wrapper").css("bottom",t),mg$(".mgPlayerJSProd_guide-form-wrapper").innerHeight(s);break;case"textSlide":c=mg$(".mgPlayerJSProd_header-text-step-wrapper").innerHeight()||0,o=mg$(".mgPlayerJSProd_tour-btn-wrapper").innerHeight()||0;s=e-(r+c+o+t),mg$(".mgPlayerJSProd_guide-form-wrapper").innerHeight(s),mg$(".tox-tinymce").css("height",s-160);break;case"tasklist":d=mg$(".mgPlayerJSProd_task-list-header").innerHeight()?mg$(".mgPlayerJSProd_task-list-header").innerHeight():0;s=e-r-d-t,mg$(".mgPlayerJSProd_assign-container").innerHeight(s);break;case"addAiGuideView":s=e-i-t-mg$(".mgPlayerJSProd_header-title").innerHeight(),mg$(".mgPlayerJSProd_form-wrapper").innerHeight(s)}},300)},ce.updateSlideInShowme=function(t,e,r){var a=[{id:e,tail:t[0].id}];for(let e=0;e<t.length;e++)t[e].branch||t[e].tail||(t[e].tail=r),a.push(t[e]);return a.push({id:r,tail:null}),a},ce.switchApp=function(e){ce.applicationDropdown=!1,ce.automationDropdown=!1,ce.contextTours={},ce.resetCreatorData(!0),ce.initAppDetails(e),ce.selectedApp=e.title,GmCXt.FT.isPlayer&&ce.showGuidesFromDesktopApp&&ce.initPlayerMode(),ge.breadCrumb.set([]),ce.setCurrentPage("allguides"),ge.routeAction.set({action:"on_app_select",app:e})},ce.switchAppType=function(e){ce.showGuidesFromDesktopApp=e,GmCXt.saveToStorage("showGuidesFromDesktopApp",ce.showGuidesFromDesktopApp),ce.showGuidesFromDesktopApp?(e=Object.values(GmCXt.appList).filter(e=>"electron"===e.type)[0],ce.switchApp(e)):wu()?ce.initPlayerMode():ce.goToNoApp()},ce.showLoading=function(){ge.loading.set(!0)},ce.hideLoading=function(){GmCXt.activeApiCallCount=Math.max(0,GmCXt.activeApiCallCount),GmCXt.timeout(function(){GmCXt.activeApiCallCount<=0&&(GmCXt.loadingAutoHideTimer&&clearTimeout(GmCXt.loadingAutoHideTimer),ge.loading.set(!1))},1e3)},ce.exportCsv=function(e,t){function r(a,e){let i=[],o="data:text/csv;charset=utf-8,";ce.checkLinkedGuideStep(e,function(e,t,r){0===t&&(clearInterval(r),e.forEach(function(e){e=e.step_settings.automation;e&&e.enableDefaultData&&e.csvParam&&i.push(e.csvParam)}),o+=i.join(","),ce.hideLoading(),a+=".csv",(t=document.createElement("a")).setAttribute("href",encodeURI(o)),t.setAttribute("download",a),t.click())})}ce.showLoading(),e.steps.length?r(e.tour_title,e.steps):GmCXt.getSteps({tour_id:e.tour_id}).then(function(e){r(e.tour_title,e.steps)})},GmCXt.updateNotificationContentScript=function(e,t){GmCXt.updNotifDataSidePanel(e,t)},GmCXt.closeNotificationPopupSidePanel=function(e){mg$(".mgPlayerJSProd_micro-player-resize").removeClass("mgPlayerJSProd_micro-player-resize"),mg$(".mgPlayerJSProd_overlay-tours-popup").length&&(GmCXt.removeNotif(),GmCXt.showBeacons(),GmCXt.showSmartTips(),e?GmCXt.openSidePanelNotificaton():(GmCXt.openSidePanelNotificaton(),GmCXt.handleCloseApp()))},GmCXt.openSidePanelNotificaton=function(){GmCXt.reduceSidePanelWidth(),mg$(".mgPlayerJSProd_ege-panel").css({width:"100%",transition:"width 0s",right:"0px"})},GmCXt.showNotificationHtml=function(e,t){GmCXt.increaseSidePanelWidth(),mg$(".mgPlayerJSProd_micro-player-container").addClass("mgPlayerJSProd_micro-player-resize"),(!GmCXt.getAppSetting("keep_player_panel_open")||e||t||GmCXt.FT.creatorApp)&&mg$(".mgPlayerJSProd_ege-panel").css({width:"500px",right:"-9550px"})},GmCXt.getOverlayToursHtml=function(a,i,e){let o="",n="mgPlayerJSProd_push-notification-guide-info-overlay mgPlayerJSProd_single-guide-play-icon",s="";if(e&&(n+=" mgPlayerJSProd_forbidden",s="<wmgPlayerJSProd_ class='mgPlayerJSProd_push-preview-tooltip'>"+ce.labels.notifGuidePlayWarning+"</wmgPlayerJSProd_>"),a){let e=a.title||a.tour_title;200<e.length&&(e=e.substr(0,200)+" ..."),a.thumbnail_url&&(0<=a.thumbnail_url.indexOf("default_icon")?GmCXt.getDefaultGuideIcon():a.thumbnail_url.indexOf("default")<0&&(a.thumbnail_url,GmCXt.getCdnSign()));let t=a.tour_settings.defaultPlayAction,r=("Default"===t&&(t=GmCXt.getAppSetting("defaultPlayAction")),ce.labels.guideMe);"doitforme"===t?r=ce.labels.doItForMe:"slideshow"===t&&(r=ce.labels.showMe),o="",o+="<wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-guide-info-wrapper'><button class='"+n+" mgPlayerJSProd_lbl-btn' tourIndex='"+i+"'>"+s+"<wmgPlayerJSProd_ class='mgPlayerJSProd_push-play-icon mgPlayerJSProd_position-center mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_font-size-16'>"+r+"<wmgPlayerJSProd_ id='mgPlayerJSProd_push-not-play-icon-svg' class='mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_margin-lr-10'> </wmgPlayerJSProd_> </wmgPlayerJSProd_></button><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-guide-title' aria-label='"+GmCXt.escapeHtml(e)+"' tabindex='0'>"+GmCXt.escapeHtml(e)+"</wmgPlayerJSProd_></wmgPlayerJSProd_>"}return o},GmCXt.loadGuideNotifications=function(c,g,e,r,m){if(GmCXt.log(37,"LOAD NOTIFICATIONS",{tours:c}),GmCXt.user){de(ge.isNotificationReqd)&&(GmCXt.alreadyLoadedNotif=[]),ge.isNotificationReqd.set(!1);let l=[],n={},t={},o=[],s=!1,d=!(GmCXt.filterDontShowSnoozeTour=[]);function a(r){GmCXt.log(10,"VALIDATING GUIDE RULES");for(let t=0,e=r.length;t<e;t++){var a=r[t],i=a.tour_settings,o=i&&i.rules&&i.rules.length?i.rules:[],n=i.ruleDelayTime||0;let e=GmCXt.t.ruleTimeOut25ms;GmCXt.checkTourCreatedBefore(i,2021013001)&&(e=GmCXt.t.ruleTimeOut10s),a.ruleValidated?((e,t)=>{GmCXt.timeout(function(){y({tour:e,valid:!0})},t)})(a,n):(i={tour:a,rules:o,timeoutVal:e,timeout:e,cb:y,isTour:!0,initiator:"notif"},GmCXt.log(37,"QUEUED",i),((e,t)=>{GmCXt.timeout(function(){GmCXt.ruleEngine.queue(e)},t)})(i,n))}}function i(e){GmCXt.isEmpty(e)||a([e])}function p(e){var t=document.getElementsByClassName(e.replace(".",""));for(let e=0;e<t.length;e++)t[e].style.display="none"}function u(e){var t=document.getElementsByClassName(e.replace(".",""));for(let e=0;e<t.length;e++)t[e].style.display="block"}function h(t,r){let a=0;for(let e=0;e<t.steps.length;e++)if(t.steps[e].step_id===r.step_id){a=e;break}return a}function P(t,e,r,a){"tutorial"===e.tour_settings.tutorial_tour_type&&GmCXt.storage().set({tutorial_steps:[]});let i=0;var o;0===e.steps.length?(o={tour_id:e.tour_id,category_id:e.category_id,isPublic:e.isPublic},ce.getSteps(o).then(function(e){GmCXt.log(39,"visible OnBoarding guide details ",e.steps),c[0].steps=e.steps,r&&(i=h(e,r)),C(t,i,a)})):(GmCXt.isLastStepPlayedOnCreateTutGuide=!1,GmCXt.pdfPlayedOnUploadTut=!1,GmCXt.fullPdfPlayedOnUploadTutGuide=!1,GmCXt.pdfPlayedOnUploadTutNewTab=!1,r&&(i=h(e,r)),C(t,i,a))}function y(e){e.valid&&(delete(e=e.tour).ruleValidated,l.push(e),GmCXt.alreadyLoadedNotif.push(e),_())}function _(){{var a=0,i;GmCXt.log(10,"SHOWING notifications",l);let e=l[a],t=GmCXt.getOverlayToursHtml(e,a,g),r=!1;1===l.length&&(i=l[0].tour_settings,d||(r=i.isAutolaunch),GmCXt.log(10,"IS AUTO LAUNCH? "+r)),s||(localStorage.setItem(GmCXt.storagePrefix+"autoLaunchTour",0),r?(GmCXt.log(10,"AUTO LAUNCH guide"),localStorage.setItem(GmCXt.storagePrefix+"autoLaunchTour",l[0].tour_id),s=!0,G(null,0)):(S(t,a,0),d&&GmCXt.auto.trackNotificationForAutomation({tours:l,isVisible:!0})))}1===l.length&&(p(".mgPlayerJSProd_btn-next"),p(".mgPlayerJSProd_btn-prev")),1<l.length&&(u(".mgPlayerJSProd_btn-next"),u(".mgPlayerJSProd_btn-prev"),A(".mgPlayerJSProd_btn-prev"))}function S(a,i,o){let n=GmCXt.parseJSON(l[i].tour_settings);var e,t;n.videoNotification&&l[i].video_url||l[i].videoNotification&&g?(e=(t=l[i].video_url)+GmCXt.getCdnSign(),t=GmCXt.getUrlWithLang(t),GmCXt.checkAssetUrl(t,e,function(e){f(a,i,o,e)})):ce.getTourSteps(l[l.length-1],function(t){var e=l.map(e=>e.tour_id===t.tour_id?{...t}:e),e=(l=[...e])[i],r="announcement"===e?.tour_settings?.tutorial_tour_type,e=GmCXt.isEmpty(e.steps);(!r||e)&&r||f(a,i,o,"",n)}),GmCXt.timeout(function(){mg$("#mgPlayerJSProd_btn-single-notif-dont-show-again").focus()},500)}function f(e,t,r,a,i){GmCXt.showNotificationHtml(m);e=((e,t,r)=>{let a="",i=GmCXt.parseJSON(l[t].tour_settings);return a=i.videoNotification&&l[t].video_url||l[t].videoNotification&&g?((e,t)=>{let r="",a="",i="",o=(g&&(r=" mgPlayerJSProd_forbidden",a="<button id='mgPlayerJSProd_push-not-overlay-close' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_close-preview-btn' aria-label='push notification overlay close'></button>",GmCXt.getDefaultGuideIcon()),t&&(i=t),"<wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-container'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-tours-popup mgPlayerJSProd_push-notification-container mgPlayerJSProd_push-notification-video-container' tabindex='0'>"+a+"<button id='mgPlayerJSProd_btn-single-vid-notif-prev' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_btn-prev' aria-label='push notification previous button'></button><button id='mgPlayerJSProd_btn-single-vid-notif-next' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_btn-next' aria-label='push notification next button'></button><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-header'><wmgPlayerJSProd_ class='mgPlayerJSProd_h3 mgPlayerJSProd_push-notification-title mgPlayerJSProd_no-margin mgPlayerJSProd_font-weight-normal' tabindex='0'>"+ce.labels.notificationHeader+"</wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-brand-logo mgPlayerJSProd_push-notification-guide-info-overlay' ' tourIndex='"+e+"'>"+GmCXt.getPopupLogo()+"</wmgPlayerJSProd_></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-content-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_video-content-wrapper mgPlayerJSProd_position-center'>"),n=(o=(o+=GmCXt.getVideoPopUpIFrameHTML(i))+("<wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-video-title mgPlayerJSProd_inline-block-vm'>"+GmCXt.escapeHtml(l[e].tour_title))+"</wmgPlayerJSProd_></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-btn-wrapper'>",l[e].tour_settings);return n.displayFrequency&&!g?o+="<button id='mgPlayerJSProd_btn-close' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_btn-watch-close' aria-label='push notification close button' tourIndex='"+e+"'>"+ce.labels.close+"</button></wmgPlayerJSProd_>":o+="<button id='mgPlayerJSProd_btn-single-vid-notif-dont-show-again' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_btn-dont-show-again mgPlayerJSProd_never-show-again-button"+r+"' aria-label='"+ce.labels.dontShowAgain+"'>"+ce.labels.dontShowAgain+"</button><button id='mgPlayerJSProd_btn-single-vid-notif-watch-later' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_btn-watch-later"+r+"' aria-label='"+ce.labels.watchLater+"'>"+ce.labels.watchLater+"</button></wmgPlayerJSProd_>",o+="</wmgPlayerJSProd_>"})(t,r):((e,t)=>{let r="",a="",i=(g&&(r=" mgPlayerJSProd_forbidden",a="<button id='mgPlayerJSProd_push-not-overlay-close' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_close-preview-btn' aria-label='push notification overlay close'></button>"),"<wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-container'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-tours-popup mgPlayerJSProd_push-notification-container mgPlayerJSProd_push-notification-multi-guides' tabindex='0' role='dialog' aria-labelledby='"+ce.labels.notificationHeader+"'>"+a+"<button id='mgPlayerJSProd_btn-single-notif-prev' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_btn-prev' aria-label='push notification previous button' ></button><button id='mgPlayerJSProd_btn-single-notif-next' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_btn-next' aria-label='push notification next button'></button><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-header'><wmgPlayerJSProd_ class='mgPlayerJSProd_h3 mgPlayerJSProd_push-notification-title mgPlayerJSProd_no-margin mgPlayerJSProd_font-weight-normal' aria-label='"+ce.labels.notificationHeader+"' tabindex='0'>"+ce.labels.notificationHeader+"</wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-brand-logo' tabindex='0'>"+GmCXt.getPopupLogo()+"</wmgPlayerJSProd_></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-content-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_position-center'>"+e+"<wmgPlayerJSProd_ class='mgPlayerJSProd_multi-push-carousels-wrapper'></wmgPlayerJSProd_></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-btn-wrapper'>"),o=l[t].tour_settings;return o.displayFrequency&&!g?i+="<button id='mgPlayerJSProd_btn-single-close' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_btn-watch-close' tourIndex='"+t+"' tabindex='0' aria-label='push notification close button'>"+ce.labels.close+"</button></wmgPlayerJSProd_>":i+="<button id='mgPlayerJSProd_btn-single-notif-dont-show-again' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_btn-dont-show-again mgPlayerJSProd_never-show-again-button"+r+"' aria-label='"+ce.labels.dontShowAgain+"'>"+ce.labels.dontShowAgain+"</button><button id='mgPlayerJSProd_btn-single-notif-watch-later' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_btn-watch-later"+r+"' aria-label='"+ce.labels.watchLater+"'>"+ce.labels.watchLater+"</button></wmgPlayerJSProd_>",i+="</wmgPlayerJSProd_>"})(e,t)})(e,t,a);if(!GmCXt.stopNotification(g)||d){if(GmCXt.removeNotif(),mg$(".mgPlayerJSProd_app").append(e),mg$(".mgPlayerJSProd_panel").show(),mg$(".mgPlayerJSProd_overlay-tours-popup").focus(),GmCXt.timeout(function(){l&&l[t]&&GmCXt.alignPushNotificationPreview(mg$(mg$(".mgPlayerJSProd_push-notification-container")[0]),mg$(".mgPlayerJSProd_panel"),l[t].tour_settings.pushNotificationAlignment)},100),i&&"announcement"===i.tutorial_tour_type){mg$(".mgPlayerJSProd_push-notification-container").addClass("mgPlayerJSProd_ann-notification-container"),mg$(".mgPlayerJSProd_push-notification-header").addClass("mgPlayerJSProd_ann-notification-header"),mg$(".mgPlayerJSProd_push-notification-btn-wrapper").addClass("mgPlayerJSProd_ann-notification-btn-wrapper"),mg$(".mgPlayerJSProd_push-notification-content-wrapper").addClass("mgPlayerJSProd_ann-notification-content-wrapper"),mg$(".mgPlayerJSProd_push-notification-title").html(l[t].tour_title),mg$(".mgPlayerJSProd_push-notification-title").attr("tourIndex",t),l&&l[t]&&l[t].steps[0]&&mg$(".mgPlayerJSProd_ann-notification-content-wrapper").html(((e,t)=>{let r="",a=l[e];return!GmCXt.isEmpty(a)&&GmCXt.isEmpty(a.steps)&&(a=ce.getTourFromId(a.tour_id,a.category_id)),e=a.steps[t],GmCXt.isEmpty(e)?"":(t=w(e),e=GmCXt.replaceVariableWithValue(GmCXt.restoreAssetSrc(e.step_description)),t&&(r="mgPlayerJSProd_min-content-wrapper"),t=t+"<wmgPlayerJSProd_ class='mgPlayerJSProd_push-notif-tg-content-wrapper mgPlayerJSProd_inline-block-vm "+r+"'>"+e+"</wmgPlayerJSProd_>")})(t,0)),mg$(".mgPlayerJSProd_push-notification-brand-logo").hide();{let e=GmCXt.getAppSetting("notificationTheme");e&&(mg$(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-header").each(function(){e.header.background&&this.style.setProperty("background",e.header.background,"important")}),mg$(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-header .mgPlayerJSProd_push-notification-title").each(function(){e.header.color&&this.style.setProperty("color",e.header.color,"important"),e.header.font&&this.style.setProperty("font-family",e.header.font,"important")}))}}else{mg$(".mgPlayerJSProd_push-notification-container").removeClass("mgPlayerJSProd_ann-notification-container"),mg$(".mgPlayerJSProd_push-notification-header").removeClass("mgPlayerJSProd_ann-notification-header"),mg$(".mgPlayerJSProd_push-notification-btn-wrapper").removeClass("mgPlayerJSProd_ann-notification-btn-wrapper"),mg$(".mgPlayerJSProd_push-notification-content-wrapper").removeClass("mgPlayerJSProd_ann-notification-content-wrapper");{let e=GmCXt.getAppSetting("notificationTheme");e&&(mg$(".mgPlayerJSProd_push-notification-container").each(function(){e.width&&this.style.setProperty("width",e.width+"px","important"),e.height&&this.style.setProperty("height",e.height+"px","important"),e.body&&e.body.background_color&&this.style.setProperty("background",e.body.background_color,"important")}),mg$(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-header").each(function(){e.header.background&&this.style.setProperty("background",e.header.background,"important")}),mg$(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-header .mgPlayerJSProd_push-notification-title").each(function(){e.header.color&&this.style.setProperty("color",e.header.color,"important"),e.header.font&&this.style.setProperty("font-family",e.header.font,"important")}),mg$(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-content-wrapper").each(function(){e.body.padding_top&&this.style.setProperty("padding-top",e.body.padding_top+"px","important"),e.body.padding_right&&this.style.setProperty("padding-right",e.body.padding_right+"px","important"),e.body.padding_bottom&&this.style.setProperty("padding-bottom",e.body.padding_bottom+"px","important"),e.body.padding_left&&this.style.setProperty("padding-left",e.body.padding_left+"px","important"),e.body.background_color&&this.style.setProperty("background",e.body.background_color,"important")}),mg$(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-content-wrapper .mgPlayerJSProd_push-notification-guide-info-wrapper .mgPlayerJSProd_push-notification-guide-title").each(function(){e.body.title_color&&this.style.setProperty("color",e.body.title_color,"important"),e.body.title_font_family&&this.style.setProperty("font-family",e.body.title_font_family,"important"),e.body.title_font_size&&this.style.setProperty("font-size",e.body.title_font_size,"important")}),mg$(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-content-wrapper .mgPlayerJSProd_push-notification-video-title").each(function(){e.body.title_color&&this.style.setProperty("color",e.body.title_color,"important"),e.body.title_font_family&&this.style.setProperty("font-family",e.body.title_font_family,"important"),e.body.title_font_size&&this.style.setProperty("font-size",e.body.title_font_size,"important")}),mg$(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-content-wrapper .mgPlayerJSProd_push-notification-guide-info-wrapper .mgPlayerJSProd_single-guide-play-icon .mgPlayerJSProd_push-play-icon").each(function(){e.body.fill&&this.style.setProperty("background",e.body.fill,"important")}),mg$(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-btn-wrapper .mgPlayerJSProd_btn-dont-show-again").each(function(){e.footer.primaryBtnBackground&&this.style.setProperty("background",e.footer.primaryBtnBackground,"important"),e.footer.primaryBtnBorderColor&&this.style.setProperty("border","2px outset "+e.footer.primaryBtnBorderColor,"important"),e.footer.primaryBtnFont&&this.style.setProperty("font-family",e.footer.primaryBtnFont,"important"),e.footer.primaryBtnTextColor&&this.style.setProperty("color",e.footer.primaryBtnTextColor,"important"),e.footer.primaryBtnTextSize&&this.style.setProperty("font-size",e.footer.primaryBtnTextSize,"important")}),mg$(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-btn-wrapper .mgPlayerJSProd_btn-watch-later").each(function(){e.footer.secondaryBtnBackground&&this.style.setProperty("background",e.footer.secondaryBtnBackground,"important"),e.footer.secondaryBtnBorderColor&&this.style.setProperty("border","2px outset "+e.footer.secondaryBtnBorderColor,"important"),e.footer.secondaryBtnFont&&this.style.setProperty("font-family",e.footer.secondaryBtnFont,"important"),e.footer.secondaryBtnTextColor&&this.style.setProperty("color",e.footer.secondaryBtnTextColor,"important"),e.footer.secondaryBtnTextSize&&this.style.setProperty("font-size",e.footer.secondaryBtnTextSize,"important")}),mg$(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-btn-wrapper .mgPlayerJSProd_btn-watch-close").each(function(){e.footer.primaryBtnBackground&&this.style.setProperty("background",e.footer.primaryBtnBackground,"important"),e.footer.primaryBtnBorderColor&&this.style.setProperty("border","2px outset "+e.footer.primaryBtnBorderColor,"important"),e.footer.primaryBtnFont&&this.style.setProperty("font-family",e.footer.primaryBtnFont,"important"),e.footer.primaryBtnTextColor&&this.style.setProperty("color",e.footer.primaryBtnTextColor,"important"),e.footer.primaryBtnTextSize&&this.style.setProperty("font-size",e.footer.primaryBtnTextSize,"important")}))}}!g&&l&&l[t]&&!o.includes(l[t].tour_id)&&(o.push(l[t].tour_id),GmCXt.trackerV1.trackPushNotification(l[t],"display")),J(),mg$("#mgPlayerJSProd_single-guide-play-icon-svg").html(GmCXt.svgs.notification_guide_play),mg$("#mgPlayerJSProd_push-not-play-icon-svg").html(GmCXt.svgs.push_not_single_play),mg$(".mgPlayerJSProd_btn-prev").html(GmCXt.svgs.push_prev),mg$(".mgPlayerJSProd_btn-next").html(GmCXt.svgs.push_prev),mg$("#mgPlayerJSProd_push-not-overlay-close").html(GmCXt.svgs.overlay_tour_popup_close),b(t,r),GmCXt.timeout(function(){mg$(".mgPlayerJSProd_btn-next").focus(),GmCXt.accessibility&&(mg$(".mgPlayerJSProd_push-notification-btn-wrapper").addClass("mgPlayerJSProd_accessibility-theme"),mg$(".mgPlayerJSProd_single-guide-play-icon").addClass("mgPlayerJSProd_accessibility-theme"),mg$(".mgPlayerJSProd_push-play-icon").addClass("mgPlayerJSProd_ass-default-btn")),1===l.length&&(p(".mgPlayerJSProd_btn-next"),p(".mgPlayerJSProd_btn-prev")),0===t&&A(".mgPlayerJSProd_btn-prev"),l.length-1===t&&A(".mgPlayerJSProd_btn-next")},500)}}function C(e,t,r){var a=l[e],i=l[e].steps[t].step_settings;if(!GmCXt.stopNotification(g))if("upload"===a.tour_settings.tutorial_tour_type){if(i.tutorialUploadUrl=GmCXt.restoreAssetSrc(i.tutorialUploadUrl),"new_tab"===i.tutorialUploadMode||"pdf"!==GmCXt.getURLMediaType(i.tutorialUploadUrl)){let e=i.tutorialUploadUrl,t=(-1!==e.indexOf(GmCXt.conf.cdn)&&-1===e.indexOf(GmCXt.user.cdn_signature.split("=")[0])&&(e=i.tutorialUploadUrl+GmCXt.getCdnSign()),o=e,window.open(o,"_blank"),GmCXt.showSurveyForTutorial(a),GmCXt.closeNotificationPopupSidePanel(),R(r),"push_notification");r&&r.taskId&&(GmCXt.handleCloseApp(),t="task_list"),GmCXt.pdfPlayedOnUploadTutNewTab=!0,GmCXt.trackerV1.trackTutGuide(a,"upload_tutorial_guide_new_tab",t,r.taskId)}else GmCXt.pdfPlayedOnUploadTut=!0,GmCXt.openPdf(i.tutorialUploadUrl,a,r),mg$(".mgPlayerJSProd_media-player-panel").attr("style","width: "+i.tutorialWidth+"% !important; height: "+i.tutorialHeight+"% !important; display: block !important;"),r&&r.taskId&&mg$(".mgPlayerJSProd_media-player-panel").addClass("mgPlayerJSProd_play-from-task-player");H(r)}else{GmCXt.showNotificationHtml(m,!0);var o=((e,t)=>{let r="",a=l[e],i=a.steps[t],o=w(i),n=GmCXt.replaceVariableWithValue(GmCXt.updateOrgAndAddSignature(i.step_description)),s=(o&&(r="mgPlayerJSProd_min-content-wrapper"),GmCXt.isEmpty(i.step_title)||(n=i.step_title+i.step_description),a.tour_title);return 45<s.length&&(s=s.substr(0,45)+" ..."),e="<wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-container'></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_overlay-tours-popup mgPlayerJSProd_push-notification-container mgPlayerJSProd_push-notification-video-container mgPlayerJSProd_push-notification-tg-container' tabindex='0'><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-header mgPlayerJSProd_tutotial-notif-header'><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-title mgPlayerJSProd_push-notification-guide-info-overlay' ' tourIndex='"+e+"' ' stepIndex='"+t+"'><wmgPlayerJSProd_ class='mgPlayerJSProd_span' id='mgPlayerJSProd_push-notification-tutorial' ></wmgPlayerJSProd_>"+GmCXt.escapeHtml(s)+"</wmgPlayerJSProd_><button class='mgPlayerJSProd_tg-close-btn mgPlayerJSProd_lbl-btn' aria-label='tutorial guide close button'></button></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-content-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_video-content-wrapper mgPlayerJSProd_height-auto mgPlayerJSProd_push-notif-tg-bg'>"+o+"<wmgPlayerJSProd_ class='mgPlayerJSProd_push-notif-tg-content-wrapper mgPlayerJSProd_inline-block-vm "+r+"'>"+n+"</wmgPlayerJSProd_></wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_push-notif-tg-btn-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-around mgPlayerJSProd_push-notif-tg-bg'><wmgPlayerJSProd_ class='mgPlayerJSProd_step-count-wrapper'>"+parseInt(t+1)+"/"+a.steps.length+"</wmgPlayerJSProd_><wmgPlayerJSProd_ class='mgPlayerJSProd_common-btn-wrapper mgPlayerJSProd_display-flex'><button class='mgPlayerJSProd_btn-prev-step' aria-label='tutorial guide previous button'>"+ce.labels.btnPrevious+"</button><button class='mgPlayerJSProd_btn-next-step' aria-label='tutorial guide next button'>"+ce.labels.defaultNext+"</button></wmgPlayerJSProd_></wmgPlayerJSProd_></wmgPlayerJSProd_>"})(e,t);GmCXt.removeNotif(),mg$(".mgPlayerJSProd_app").append(o);(i=l[e].steps[t].step_settings).tutorialHeight&&i.tutorialWidth&&mg$(".mgPlayerJSProd_overlay-tours-popup").attr("style","width: "+i.tutorialWidth+"% !important; height: "+i.tutorialHeight+"% !important;"),mg$(".mgPlayerJSProd_push-notif-tg-bg").css("background",GmCXt.getAppSetting("tutorialBgColor"));a=GmCXt.getAppSetting("tutorial_guide");a&&(mg$(".mgPlayerJSProd_overlay-tours-popup.mgPlayerJSProd_push-notification-tg-container").css({background:GmCXt.getAppSetting("tutorialBgColor"),"border-color":a.outerBox.border_color,"border-radius":a.outerBox.border_radius+"px ","border-width":a.outerBox.border_width+"px "}),a.outerBox.shadow.inset?mg$(".mgPlayerJSProd_push-notif-tg-bg").css({"box-shadow":a.outerBox.shadow.color+" "+a.outerBox.shadow.horizontal+"px "+a.outerBox.shadow.vertical+"px "+a.outerBox.shadow.blur+"px "+a.outerBox.shadow.spreadRadius+"px"+(a.outerBox.shadow.inset?" inset":"")}):mg$(".mgPlayerJSProd_overlay-tours-popup.mgPlayerJSProd_push-notification-tg-container").css({"box-shadow":a.outerBox.shadow.color+" "+a.outerBox.shadow.horizontal+"px "+a.outerBox.shadow.vertical+"px "+a.outerBox.shadow.blur+"px "+a.outerBox.shadow.spreadRadius+"px"}),mg$(".mgPlayerJSProd_push-notification-header").attr("style","background:"+a.titleBgColor+" !important;border-top-right-radius:"+a.outerBox.border_radius+"px !important;border-top-left-radius:"+a.outerBox.border_radius+"px !important;padding:5px 20px;"),mg$(".mgPlayerJSProd_push-notif-tg-btn-wrapper").attr("style","border-bottom-right-radius:"+a.outerBox.border_radius+"px !important;border-bottom-left-radius:"+a.outerBox.border_radius+"px !important;padding:5px 0px;"),mg$(".mgPlayerJSProd_btn-next-step").attr("style","background:"+a.nextBtn.bgColor+" !important;border-color:"+a.nextBtn.border_color+" !important;border-radius:"+a.nextBtn.border_radius+"px !important;border-width:"+a.nextBtn.border_width+"px !important;color:"+a.nextBtn.color+" !important;font-size:"+a.nextBtn.font_size+" !important;padding-bottom:"+a.nextBtn.padding.bottom+"px !important;padding-left:"+a.nextBtn.padding.left+"px !important;padding-right:"+a.nextBtn.padding.right+"px !important;padding-top:"+a.nextBtn.padding.top+"px !important;"),mg$(".mgPlayerJSProd_btn-prev-step").attr("style","background:"+a.prevBtn.bgColor+" !important;border-color:"+a.prevBtn.border_color+" !important;border-radius:"+a.prevBtn.border_radius+"px !important;border-width:"+a.prevBtn.border_width+"px !important;color:"+a.prevBtn.color+" !important;font-size:"+a.prevBtn.font_size+" !important;padding-bottom:"+a.prevBtn.padding.bottom+"px !important;padding-left:"+a.prevBtn.padding.left+"px !important;padding-right:"+a.prevBtn.padding.right+"px !important;padding-top:"+a.prevBtn.padding.top+"px !important;")),mg$(".mgPlayerJSProd_tg-close-btn").html(GmCXt.svgs.overlay_tour_popup_close),mg$(".mgPlayerJSProd_push-notification-tutorial").html(GmCXt.svgs.tutorial),J(r),b(e,t),GmCXt.timeout(function(){mg$(".mgPlayerJSProd_tg-close-btn").focus()},500)}}function b(e,t){var e=l[e];GmCXt.isOnboarding(e)&&!ce.isAnnouncement(e)&&(1===(e=e.steps.length)&&(p(".mgPlayerJSProd_btn-prev-step"),u(".mgPlayerJSProd_btn-next-step")),1<e&&(u(".mgPlayerJSProd_btn-next-step"),u(".mgPlayerJSProd_btn-prev-step"),mg$(".mgPlayerJSProd_btn-prev-step").css({"pointer-events":"none",opacity:".5"})),0<t&&mg$(".mgPlayerJSProd_btn-prev-step").css({"pointer-events":"auto",opacity:"1",display:"block"}),e===t+1)&&(GmCXt.isLastStepPlayedOnCreateTutGuide=!0,mg$(".mgPlayerJSProd_btn-next-step").text(ce.labels.close))}function v(){mg$(".mgPlayerJSProd_overlay-tours-popup").hide(),mg$(".mgPlayerJSProd_overlay-container").hide()}function w(e){let t="";return 0<e.step_video&&e&&e.step_video_url?t+=GmCXt.getVideoPopUpIFrameHTML(e.step_video_url+GmCXt.getCdnSign()):e.image_url.indexOf("default")<0&&(t="<wmgPlayerJSProd_ class='mgPlayerJSProd_push-notification-guide-info-wrapper mgPlayerJSProd_img-info-wrapper mgPlayerJSProd_width-webkit-fill-available'><img class='mgPlayerJSProd_push-notif-tg-image mgPlayerJSProd_width-90 mgPlayerJSProd_height-90' alt='"+e.step_title+"' src='"+GmCXt.restoreAssetSrc(e.image_url)+"' /></wmgPlayerJSProd_>"),t}function J(o){mg$(".mgPlayerJSProd_never-show-again-button").on("click",E),mg$(".mgPlayerJSProd_overlay-tour-box").on("click",G),mg$(".mgPlayerJSProd_overlay-tour-box-small-thumbnails").on("click",G),mg$(".mgPlayerJSProd_single-guide-play-icon").on("click",G),mg$(".mgPlayerJSProd_overlay-tours-popup .mgPlayerJSProd_close-button").on("click",F),mg$(".mgPlayerJSProd_btn-watch-later").on("click",F),mg$(".mgPlayerJSProd_btn-prev").on("click",N),mg$(".mgPlayerJSProd_btn-next").on("click",k),mg$(".mgPlayerJSProd_btn-prev-step").on("click",function(e){var t,r,a;t=o,r=D(),a=$()-1,C(r,a,t)}),mg$(".mgPlayerJSProd_btn-next-step").on("click",function(e){{var a=o,i;let e=D(),t=$()+1,r=l[e];if(r)if(r.steps.length===t){H(a),GmCXt.closeNotificationPopupSidePanel(),GmCXt.isPlayer()&&-1!==r.tour_type.indexOf("onboarding_tour")&&r.tour_settings.sentiment&&r.tour_settings.sentiment.sentimentCode&&(i={tour:r,guideNotCompleted:!1},GmCXt.handleCloseApp(),GmCXt.getSurveyScreen(i,!1));let e="push_notification";a&&a.taskId&&(e="task_list"),x(r.steps[r.steps.length-1]).then(function(){GmCXt.trackerV1.trackTutGuide(r,"create_tutorial_guide",e,a.taskId)})}else C(e,t,a),x(r.steps[t-1]).then(function(){})}}),mg$(".mgPlayerJSProd_tg-close-btn").on("click",function(e){O(o)});var e=mg$(".mgPlayerJSProd_push-notif-tg-content-wrapper").html();e&&-1!==e.indexOf("<a ")&&mg$(".mgPlayerJSProd_push-notif-tg-content-wrapper a").each(function(){mg$(".mgPlayerJSProd_push-notif-tg-content-wrapper a").on("click",function(e){e.currentTarget.target&&"_blank"!==e.currentTarget.target&&(e.preventDefault(),e.stopPropagation(),v(),GmCXt.isTutorialLink=!0,GmCXt.openPdf(e.currentTarget.href))})}),g&&mg$(".mgPlayerJSProd_close-preview-btn").on("click",O),mg$(".mgPlayerJSProd_btn-watch-close").on("click",B)}function G(e,r){if(d)GmCXt.auto.stop(!0);else if(!g&&(0!==r&&(e.stopPropagation(),r=this.attributes.tourIndex.value),r<l.length)){let t=l[r];t.tour_settings.displayFrequency&&M(t),GmCXt.isOnboarding(t)||GmCXt.trackerV1.trackPushNotification(t,"click");e={tour_id:t.tour_id,category_id:t.category_id};ce.getSteps(e).then(function(e){v(),GmCXt.stopNotification(g)||(t.tour_settings.displayFrequency||I(t),GmCXt.isOnboarding(e)?(l[r].steps=e.steps,P(r,e)):GmCXt.playLiveTour(e,0,"overlayTourPopup",s,"live"))})}}function A(e){mg$(e).css({"pointer-events":"none",opacity:".5"})}function T(e){mg$(e).css({"pointer-events":"auto",opacity:"1",display:"block"})}function X(e,t){var r=l[e];S(GmCXt.getOverlayToursHtml(r,e,g),e,t)}function k(e){let t=D()+1;X(t=t>l.length-1?0:t,0),mg$(".mgPlayerJSProd_btn-next")[0].removeAttribute("style");var r=t;l.length===r+1&&(mg$(".mgPlayerJSProd_btn-next").removeAttr("style"),A(".mgPlayerJSProd_btn-next"),mg$(".mgPlayerJSProd_btn-prev").focus()),mg$(".mgPlayerJSProd_btn-prev")[0].removeAttribute("style"),T(".mgPlayerJSProd_btn-prev"),mg$(".mgPlayerJSProd_btn-next").focus()}function N(e){let t=D()-1;X(t=t<0?0:t,0),0===t&&(mg$(".mgPlayerJSProd_btn-next").removeAttr("style"),mg$(".mgPlayerJSProd_btn-prev").removeAttr("style"),A(".mgPlayerJSProd_btn-prev"),1<l.length)&&T(".mgPlayerJSProd_btn-next")}function x(r){return new Promise(function(t,e){GmCXt.storage().get(["tutorial_steps"]).then(function(e){r&&(e.tutorial_steps.push(r),GmCXt.storage().set({tutorial_steps:e.tutorial_steps})),t()})})}function L(e){l.splice(e,1),0===l.length?GmCXt.closeNotificationPopupSidePanel(!0):_()}function E(){var e;d?GmCXt.auto.stop(!0):g||(e=D(),(l[e].tour_settings.displayFrequency?M:I)(l[e]),L(e))}function M(e){e&&(GmCXt.displayFrequencyGuides[e.tour_id]&&parseInt(e.version)===parseInt(GmCXt.displayFrequencyGuides[e.tour_id].version)?GmCXt.displayFrequencyGuides[e.tour_id].playedCount++:(GmCXt.displayFrequencyGuides[e.tour_id]={},GmCXt.displayFrequencyGuides[e.tour_id].version=parseInt(e.version),GmCXt.displayFrequencyGuides[e.tour_id].playedCount=1),GmCXt.updateGuideDisplayFrequency(GmCXt.displayFrequencyGuides),(e=>{if(!GmCXt.isEmpty(GmCXt.displayFrequencyGuides)){var t=GmCXt.displayFrequencyGuides[parseInt(e.tour_id)];if(GmCXt.isDefined(t)&&parseInt(t.version)===parseInt(e.version)&&t.playedCount>=e.tour_settings.displayFrequencyTimes)return 1}})(e))&&I(e)}function I(e){e&&(GmCXt.doNotShowTours[e.tour_id]=parseInt(e.version),GmCXt.updateNotification(GmCXt.doNotShowTours))}function D(){return parseInt(mg$(".mgPlayerJSProd_push-notification-guide-info-overlay").attr("tourIndex"))||parseInt(mg$(".mgPlayerJSProd_push-notification-title").attr("tourIndex"))||0}function $(){return parseInt(mg$(".mgPlayerJSProd_push-notification-guide-info-overlay").attr("stepIndex"))||0}function F(){var e,t,r;d?GmCXt.auto.stop(!0):g||(e=D(),(t=l[e]).tour_settings.oneTimeNotification?E():(t.tour_settings.displayFrequency?M(t):(r=ce.labels.pushSnoozeMsg+" ",GmCXt.setSnoozedTours(t,r)),L(e)))}function O(e){var t=D(),r=$()+1;let a=l[t],i=(R(e),GmCXt.removeNotif(),GmCXt.openSidePanelNotificaton(),"push_notification");e&&e.taskId&&(i="task_list"),g?!GmCXt.isGuide(a)&&"guide"!==a.tour_type||GmCXt.openAppPanel():x(a.steps[r-1]).then(function(){GmCXt.trackerV1.trackTutGuide(a,"create_tutorial_guide",i,e.taskId)});var o,t=GmCXt.getOrgSettings();GmCXt.isPlayer()&&r<a.steps.length?t&&t.exitSentiment&&(o={tour:a,guideNotCompleted:!0},GmCXt.handleCloseApp(),GmCXt.getSurveyScreen(o,!0)):GmCXt.isPlayer()&&r===a.steps.length&&-1!==a.tour_type.indexOf("onboarding_tour")&&a.tour_settings.sentiment&&a.tour_settings.sentiment.sentimentCode&&(o={tour:a,guideNotCompleted:!1},GmCXt.handleCloseApp(),GmCXt.getSurveyScreen(o,!1))}function R(e){var t,r;e&&"0"===e.isComplete&&(t=D(),r=$()+1,l[t].steps.length===r)&&H(e)}function H(e){var t;e&&!e.isComplete&&(t=D(),t=l[t],t={taskListId:e.taskId,tourId:t.tour_id,complete_count:e.complete_count,total_count:e.total_count},ce.markTaskGuideComplete(t))}function B(e){e.stopPropagation();var e=this.attributes.tourIndex.value,t=l[e];t.tour_settings.displayFrequency&&M(t),L(e)}g?(l=c,GmCXt.isOnboarding(c[0])?P(0,c[0],r,e):_()):GmCXt.storage().get(["toursClosed","tourIdArray","testAuto"]).then(function(e){t=e.tourIdArray,n=GmCXt.parseJSON(e.toursClosed),e.testAuto&&(d=e.testAuto.automationInProgress),GmCXt.log(37,"STORAGE NOTIFICATIONS DATA",e),GmCXt.getDoNotShowTours(!1).then(function(e){GmCXt.doNotShowTours=e,!(e=c)||e.length<1||(c=c.filter(function(e){var t;return!GmCXt.doNotShowTours[e.tour_id]||(t=GmCXt.doNotShowTours[e.tour_id],parseInt(e.version)>t&&!e.tour_settings.oneTimeNotification)?e:void 0}),GmCXt.log(10,"DO NOT SHOW filter: "+e.length,e),e=c.filter(function(i){if(!n[i.tour_id])return i;{let e,t=1;var o=n[i.tour_id].toString().split(":"),o=(GmCXt.isDefined(o[1])?(e=parseInt(o[0]),t=parseInt(o[1])):e=parseInt(n[i.tour_id]),(new Date).getTime());let r=GmCXt.t.notifExp24,a=GmCXt.getAppSetting("notificationsTime");if(a){".5"===a&&(a="0.5");let e=parseFloat(a);"number"!=typeof a&&a.includes("week")&&(e=GmCXt.convertWeeksToHours(e)),r=e*GmCXt.t.snoozeNotif}if(e+r-o<=0||parseInt(i.version)>t)return delete n[i.tour_id],i;GmCXt.filterDontShowSnoozeTour.push(parseInt(i.tour_id))}}),GmCXt.log(10,"SNOOZED TOURS ",e),e=(e=>(GmCXt.log(10,"ALREADY SHOWN TOURS ",GmCXt.alreadyLoadedNotif),e=0<GmCXt.alreadyLoadedNotif.length?e.filter(function(e){if(!(t=>{let r=!1;for(let e=0;e<GmCXt.alreadyLoadedNotif.length;e++)if(parseInt(GmCXt.alreadyLoadedNotif[e].tour_id)===parseInt(t.tour_id)){r=!0;break}return r})(e))return e}):e))(e),GmCXt.log(10,"AFTER FILTERING ALREADY SHOWN TOURS ",e),d&&GmCXt.auto.trackNotificationForAutomation({tours:n,doNotShowTours:GmCXt.doNotShowTours,isVisible:!1}),GmCXt.updateNotificationContentScript(n,t),e=(t=>{var r=[],a=[];for(let e=0;e<t.length;e++)(t[e].tour_settings.isAutolaunch?r:a).push(t[e]);return r.concat(a)})(e=GmCXt.inPlayer?GmCXt.sortToursByModifcationDate(e):e),GmCXt.log(10,"SORTING BY auto launch first",e),GmCXt.log(10,"SNOOZE filter: "+e.length,e),e.length&&(e=e,GmCXt.organization.admin_settings.guide_segmentation?(GmCXt.log(10,"VALIDATING GUIDE SEGMENTATION RULES"),GmCXt.checkGuidesBasedOnSegment(e,i,"notiSeg")):a(e)))}),GmCXt.displayFrequencyGuides=GmCXt.user?.settings?.display_frequency_guides?GmCXt.user.settings.display_frequency_guides:{}})}};let Iu,Du="";function $u(){ce.subscribeEvents(),ce.reportInitialization(),ce.updateLabels(Du),new bc({target:document.getElementById("mgPlayerJSProd_ege-panel")}),Iu=new Wp({target:document.getElementById("mgPlayerJSProd_slideshow-panel")}),ge.slideshowInstance.set(Iu)}ge.accessibility.subscribe(e=>{e?mg$(".mgPlayerJSProd_ege-panel").addClass("mgPlayerJSProd_accessibility-theme"):mg$(".mgPlayerJSProd_ege-panel").removeClass("mgPlayerJSProd_accessibility-theme"),e=e,GmCXt.FT.isPlayer&&!e?mg$(".mgPlayerJSProd_ege-panel").addClass("mgPlayerJSProd_player-theme"):mg$(".mgPlayerJSProd_ege-panel").removeClass("mgPlayerJSProd_player-theme"),ce.setActivePage(de(ge.activeView))}),ge.miniPlayer.subscribe(e=>{e?mg$(".mgPlayerJSProd_ege-panel").addClass("mgPlayerJSProd_micro-player-container mgPlayerJSProd_no-border mgPlayerJSProd_no-border-all"):mg$(".mgPlayerJSProd_ege-panel").removeClass("mgPlayerJSProd_micro-player-container mgPlayerJSProd_no-border mgPlayerJSProd_no-border-all"),e?mg$(".mgPlayerJSProd_panel-body").removeClass("mgPlayerJSProd_mobile-view"):mg$(".mgPlayerJSProd_panel-body").addClass("mgPlayerJSProd_mobile-view")}),GmCXt.onDapStoreInstanceReceived=function(){new Promise(function(r){GmCXt.getAllFromStorage(lu).then(function(e){var t;e?(GmCXt.isEmpty(e.appData)?GmCXt.logoutUser():(GmCXt.appList=e.appData,ce.syncApps(GmCXt.appList)),e.user?(GmCXt.updateGlobalUser(e.user),GmCXt.user=e.user,ce.user=e.user,ce.syncUser(),e.user.organization&&ce.saveOrganization(e.user.organization)):(GmCXt.user={},ce.user=!1),e.organization?(GmCXt.updateGlobalOrg(e.organization),GmCXt.organization=e.organization):GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)?GmCXt.user.organization?ce.saveOrganization(GmCXt.user.organization):ce.fetchOrgFromAPI():(GmCXt.organization={},GmCXt.organization=!1),ce.trackerSecrets=e.trackerSecrets||{},GmCXt.trackerUtil.secrets=e.trackerSecrets||{},e.activeAppId&&(GmCXt.activeAppId=e.activeAppId),e.userList&&(ce.userList=e.userList),e.activeView&&"maintenance"===e.activeView&&ce.goToMaintenance(),e.currentPage&&ge.CurrentPage.set(e.currentPage),e.activeSortFilter&&ge.activeSortFilterStore.set(e.activeSortFilter),e.breadCrumb&&ge.breadCrumb.set(e.breadCrumb),e.activeScreenCastTourId&&(ce.activeScreenCastTourId=e.activeScreenCastTourId),e.activeTourId&&(ce.activeTourId=e.activeTourId),e.videosInProgress&&(ce.tourVideoInProgressArr=e.videosInProgress),GmCXt.isFalse(e.activeLang)||(ce.language=e.activeLang,ge.selectedLang.set(ce.language),GmCXt.language=e.activeLang,GmCXt.mgActiveLang=ce.language),GmCXt.isFalse(e.activeVoice)||(ce.languageVoice=e.activeVoice),GmCXt.isFalse(e.userPrefLang)||(GmCXt.userPrefLang=e.userPrefLang),ce.loginTime=e.loginTime||0,ce.currentStep=e.currentStep||{},ce.toursModifiedTime=e.toursModifiedTime||{},ce.allTourList=e.allTourList||{},ce.currentTour=e.currentTour||{},ge.currentTour.set(ce.currentTour),GmCXt.accessibility=e.accessibility||!1,ge.accessibility.set(GmCXt.accessibility),ce.showGuidesFromDesktopApp=e.showGuidesFromDesktopApp||!1,GmCXt.FT.creatorApp&&(ce.allCategories=e.categories||{},ce.processCategories(),e.testAuto&&(ce.testAuto=e.testAuto),ce.serverDeletes=e.serverDeletes||{categories:[],tours:[]},ce.serverUpdates=e.serverUpdates||{},e.playerMode?(ce.showPlayer=e.playerMode,ce.playerMode=!0,GmCXt.showPlayer=!0):(ce.showPlayer=!1,ce.playerMode=!1,GmCXt.showPlayer=!1),ce.howtoCaptureMode=e.howtoCaptureMode??!1),e.segmentGroupData&&(t=e.segmentGroupData.time+GmCXt.t.syncSegment,Date.now()<t?(ce.allSegments=e.segmentGroupData.list,ce.syncSegmentData()):ce.allSegments=[]),GmCXt.getAllFromStorage(["refreshTime_"+GmCXt.activeAppId,"lastTimeStampSync_"+GmCXt.activeAppId]).then(function(e){ce.lastTimeStampSync=e["lastTimeStampSync_"+GmCXt.activeAppId]?e["lastTimeStampSync_"+GmCXt.activeAppId]:0,ce.refreshTime=e["refreshTime_"+GmCXt.activeAppId]||0,r()})):r()})}).then(()=>{Du=ce.language,GmCXt.getLanguageLabels(Du,!0).then(function(){GmCXt.isPlayer()?$u():GmCXt.getLanguageLabels(Du,!1).then(function(){$u()})}).catch(e=>{$u()})}).catch(e=>{console.error("Initialization error:",e)})},ge.activeView.set("signin"),GmCXt.isClientJs()&&GmCXt.onDapStoreInstanceReceived()}();